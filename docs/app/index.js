(function(_e,de){typeof exports=="object"&&typeof module<"u"?de(exports):typeof define=="function"&&define.amd?define(["exports"],de):(_e=typeof globalThis<"u"?globalThis:_e||self,de(_e.genomeSpyDocEmbed={}))})(this,function(_e){var nu,om,Qs,ru,iu,Gc,Y3,ou,sm,Pr,Xs,xt,dr,Bi,Hc,Q3,Ks,Xc,Mr,Ro,su,am,qc,X3,em,AU,au,fm,fu,Js,ea,rn,Bo,ta,Lr,Po,Vc,K3,jc,J3,ko,du,uu,um,lu,lm,cu,cm,Zc,eS,na,Kc,Wc,tS;"use strict";var xU=Object.defineProperty;var vU=(_e,de,Je)=>de in _e?xU(_e,de,{enumerable:!0,configurable:!0,writable:!0,value:Je}):_e[de]=Je;var on=(_e,de,Je)=>(vU(_e,typeof de!="symbol"?de+"":de,Je),Je),im=(_e,de,Je)=>{if(!de.has(_e))throw TypeError("Cannot "+Je)};var ie=(_e,de,Je)=>(im(_e,de,"read from private field"),Je?Je.call(_e):de.get(_e)),be=(_e,de,Je)=>{if(de.has(_e))throw TypeError("Cannot add the same private member more than once");de instanceof WeakSet?de.add(_e):de.set(_e,Je)},yr=(_e,de,Je,ki)=>(im(_e,de,"write to private field"),ki?ki.call(_e,Je):de.set(_e,Je),Je),W3=(_e,de,Je,ki)=>({set _(Jc){yr(_e,de,Jc,Je)},get _(){return ie(_e,de,ki)}}),ue=(_e,de,Je)=>(im(_e,de,"access private method"),Je);function de(t,e,n){return t.fields=e||[],t.fname=n,t}function Je(t){return t==null?null:t.fname}function ki(t){return t==null?null:t.fields}function Jc(t){return t.length===1?nS(t[0]):rS(t)}const nS=t=>function(e){return e[t]},rS=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function Xe(t){throw Error(t)}function iS(t){const e=[],n=t.length;let r=null,i=0,o="",s,a,u;t=t+"";function f(){e.push(o+t.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(u=t[a],u==="\\")o+=t.substring(s,a),o+=t.substring(++a,++a),s=a;else if(u===r)f(),r=null,i=-1;else{if(r)continue;s===i&&u==='"'||s===i&&u==="'"?(s=a+1,r=u):u==="."&&!i?a>s?f():s=a+1:u==="["?(a>s&&f(),i=s=a+1):u==="]"&&(i||Xe("Access path missing open bracket: "+t),i>0&&f(),i=0,s=a+1)}return i&&Xe("Access path missing closing bracket: "+t),r&&Xe("Access path missing closing quote: "+t),a>s&&(a++,f()),e}function pu(t,e,n){const r=iS(t);return t=r.length===1?r[0]:t,de((n&&n.get||Jc)(r),[t],e||t)}pu("id");const gu=de(t=>t,[],"identity");de(()=>0,[],"zero"),de(()=>1,[],"one"),de(()=>!0,[],"true"),de(()=>!1,[],"false");var Qt=Array.isArray;function Tn(t){return t===Object(t)}function Fn(t){return t[t.length-1]}function ra(t){return t==null||t===""?null:+t}const hm=t=>e=>t*Math.exp(e),dm=t=>e=>Math.log(t*e),oS=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),sS=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,mu=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function eh(t,e,n,r){const i=n(t[0]),o=n(Fn(t)),s=(o-i)*e;return[r(i-s),r(o-s)]}function aS(t,e){return eh(t,e,ra,gu)}function fS(t,e){var n=Math.sign(t[0]);return eh(t,e,dm(n),hm(n))}function uS(t,e,n){return eh(t,e,mu(n),mu(1/n))}function bu(t,e,n,r,i){const o=r(t[0]),s=r(Fn(t)),a=e!=null?r(e):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function pm(t,e,n){return bu(t,e,n,ra,gu)}function gm(t,e,n){const r=Math.sign(t[0]);return bu(t,e,n,dm(r),hm(r))}function th(t,e,n,r){return bu(t,e,n,mu(r),mu(1/r))}function lS(t,e,n,r){return bu(t,e,n,oS(r),sS(r))}function nh(t){return t!=null?Qt(t)?t:[t]:[]}function cS(t,e,n){let r=t[0],i=t[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-e?[e,n]:[r=Math.min(Math.max(r,e),n-o),r+o]}function Pt(t){return typeof t=="function"}const hS="descending";function mm(t,e,n){n=n||{},e=nh(e)||[];const r=[],i=[],o={},s=n.comparator||dS;return nh(t).forEach((a,u)=>{a!=null&&(r.push(e[u]===hS?-1:1),i.push(a=Pt(a)?a:pu(a,null,n)),(ki(a)||[]).forEach(f=>o[f]=1))}),i.length===0?null:de(s(i,r),Object.keys(o))}const bm=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),dS=(t,e)=>t.length===1?pS(t[0],e[0]):gS(t,e,t.length),pS=(t,e)=>function(n,r){return bm(t(n),t(r))*e},gS=(t,e,n)=>(e.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=t[a],s=bm(o(r),o(i));return s*e[a]});function mS(t){return Pt(t)?t:()=>t}function rh(t){for(let e,n,r=1,i=arguments.length;r<i;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t}const bS=Object.prototype.hasOwnProperty;function Ri(t,e){return bS.call(t,e)}function yu(t){return typeof t=="boolean"}function yS(t){return Object.prototype.toString.call(t)==="[object Date]"}function wS(t){return t&&Pt(t[Symbol.iterator])}function Mt(t){return typeof t=="number"}function Ke(t){return typeof t=="string"}function xS(t,e){const n=t[0],r=Fn(t),i=+e;return i?i===1?r:n+i*(r-n):n}function wu(t){return t&&Fn(t)-t[0]||0}function xu(t){return Qt(t)?"["+t.map(xu)+"]":Tn(t)||Ke(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function vS(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const AS=t=>Mt(t)||yS(t)?t:Date.parse(t);function ES(t,e){return e=e||AS,t==null||t===""?null:e(t)}function _S(t){return t==null||t===""?null:t+""}function vu(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}var ym={},ih={},oh=34,ia=10,sh=13;function wm(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function SS(t,e){var n=wm(t);return function(r,i){return e(n(r),i,t)}}function xm(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Nt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function CS(t){return t<0?"-"+Nt(-t,6):t>9999?"+"+Nt(t,6):Nt(t,4)}function TS(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":CS(t.getUTCFullYear())+"-"+Nt(t.getUTCMonth()+1,2)+"-"+Nt(t.getUTCDate(),2)+(i?"T"+Nt(e,2)+":"+Nt(n,2)+":"+Nt(r,2)+"."+Nt(i,3)+"Z":r?"T"+Nt(e,2)+":"+Nt(n,2)+":"+Nt(r,2)+"Z":n||e?"T"+Nt(e,2)+":"+Nt(n,2)+"Z":"")}function vm(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(c,h){var d,p,b=i(c,function(y,w){if(d)return d(y,w-1);p=y,d=h?SS(y,h):wm(y)});return b.columns=p||[],b}function i(c,h){var d=[],p=c.length,b=0,y=0,w,E=p<=0,S=!1;c.charCodeAt(p-1)===ia&&--p,c.charCodeAt(p-1)===sh&&--p;function T(){if(E)return ih;if(S)return S=!1,ym;var B,I=b,N;if(c.charCodeAt(I)===oh){for(;b++<p&&c.charCodeAt(b)!==oh||c.charCodeAt(++b)===oh;);return(B=b)>=p?E=!0:(N=c.charCodeAt(b++))===ia?S=!0:N===sh&&(S=!0,c.charCodeAt(b)===ia&&++b),c.slice(I+1,B-1).replace(/""/g,'"')}for(;b<p;){if((N=c.charCodeAt(B=b++))===ia)S=!0;else if(N===sh)S=!0,c.charCodeAt(b)===ia&&++b;else if(N!==n)continue;return c.slice(I,B)}return E=!0,c.slice(I,p)}for(;(w=T())!==ih;){for(var D=[];w!==ym&&w!==ih;)D.push(w),w=T();h&&(D=h(D,y++))==null||d.push(D)}return d}function o(c,h){return c.map(function(d){return h.map(function(p){return l(d[p])}).join(t)})}function s(c,h){return h==null&&(h=xm(c)),[h.map(l).join(t)].concat(o(c,h)).join(`
`)}function a(c,h){return h==null&&(h=xm(c)),o(c,h).join(`
`)}function u(c){return c.map(f).join(`
`)}function f(c){return c.map(l).join(t)}function l(c){return c==null?"":c instanceof Date?TS(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:u,formatRow:f,formatValue:l}}var FS=vm("	"),IS=FS.parseRows;function DS(t){return t}function BS(t){if(t==null)return DS;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(a,u){u||(e=n=0);var f=2,l=a.length,c=new Array(l);for(c[0]=(e+=a[0])*r+o,c[1]=(n+=a[1])*i+s;f<l;)c[f]=a[f],++f;return c}}function kS(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function RS(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Am(t,n)})}:Am(t,e)}function Am(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=Em(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Em(t,e){var n=BS(t.transform),r=t.arcs;function i(l,c){c.length&&c.pop();for(var h=r[l<0?~l:l],d=0,p=h.length;d<p;++d)c.push(n(h[d],d));l<0&&kS(c,p)}function o(l){return n(l)}function s(l){for(var c=[],h=0,d=l.length;h<d;++h)i(l[h],c);return c.length<2&&c.push(c[0]),c}function a(l){for(var c=s(l);c.length<4;)c.push(c[0]);return c}function u(l){return l.map(a)}function f(l){var c=l.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:l.geometries.map(f)};case"Point":h=o(l.coordinates);break;case"MultiPoint":h=l.coordinates.map(o);break;case"LineString":h=s(l.arcs);break;case"MultiLineString":h=l.arcs.map(s);break;case"Polygon":h=u(l.arcs);break;case"MultiPolygon":h=l.arcs.map(u);break;default:return null}return{type:c,coordinates:h}}return f(e)}function PS(t,e){var n={},r={},i={},o=[],s=-1;e.forEach(function(f,l){var c=t.arcs[f<0?~f:f],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=e[++s],e[s]=f,e[l]=h)}),e.forEach(function(f){var l=a(f),c=l[0],h=l[1],d,p;if(d=i[c])if(delete i[d.end],d.push(f),d.end=h,p=r[h]){delete r[p.start];var b=p===d?d:d.concat(p);r[b.start=d.start]=i[b.end=p.end]=b}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(f),d.start=c,p=i[c]){delete i[p.end];var y=p===d?d:p.concat(d);r[y.start=p.start]=i[y.end=d.end]=y}else r[d.start]=i[d.end]=d;else d=[f],r[d.start=c]=i[d.end=h]=d});function a(f){var l=t.arcs[f<0?~f:f],c=l[0],h;return t.transform?(h=[0,0],l.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=l[l.length-1],f<0?[h,c]:[c,h]}function u(f,l){for(var c in f){var h=f[c];delete l[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),o.push(h)}}return u(i,r),u(r,i),e.forEach(function(f){n[f<0?~f:f]||o.push([f])}),o}function MS(t){return Em(t,NS.apply(this,arguments))}function NS(t,e,n){var r,i,o;if(arguments.length>1)r=LS(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:PS(t,r)}}function LS(t,e,n){var r=[],i=[],o;function s(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:o})}function a(c){c.forEach(s)}function u(c){c.forEach(a)}function f(c){c.forEach(u)}function l(c){switch(o=c,c.type){case"GeometryCollection":c.geometries.forEach(l);break;case"LineString":a(c.arcs);break;case"MultiLineString":case"Polygon":u(c.arcs);break;case"MultiPolygon":f(c.arcs);break}}return l(e),i.forEach(n==null?function(c){r.push(c[0].i)}:function(c){n(c[0].g,c[c.length-1].g)&&r.push(c[0].i)}),r}function oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OS(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Au(t){let e,n,r;t.length!==2?(e=oa,n=(a,u)=>oa(t(a),u),r=(a,u)=>t(a)-u):(e=t===oa||t===OS?t:zS,n=t,r=t);function i(a,u,f=0,l=a.length){if(f<l){if(e(u,u)!==0)return l;do{const c=f+l>>>1;n(a[c],u)<0?f=c+1:l=c}while(f<l)}return f}function o(a,u,f=0,l=a.length){if(f<l){if(e(u,u)!==0)return l;do{const c=f+l>>>1;n(a[c],u)<=0?f=c+1:l=c}while(f<l)}return f}function s(a,u,f=0,l=a.length){const c=i(a,u,f,l-1);return c>f&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:s,right:o}}function zS(){return 0}function _m(t){return t===null?NaN:+t}const Sm=Au(oa),ah=Sm.right;Sm.left,Au(_m).center;const Mo=ah;function US(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Pi extends Map{constructor(e,n=qS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Cm(this,e))}has(e){return super.has(Cm(this,e))}set(e,n){return super.set(GS(this,e),n)}delete(e){return super.delete(HS(this,e))}}function Cm({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function GS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function HS({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qS(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fh(t){return t}function Eu(t,...e){return Tm(t,fh,fh,e)}function VS(t,...e){return Tm(t,Array.from,fh,e)}function Tm(t,e,n,r){return function i(o,s){if(s>=r.length)return n(o);const a=new Pi,u=r[s++];let f=-1;for(const l of o){const c=u(l,++f,o),h=a.get(c);h?h.push(l):a.set(c,[l])}for(const[l,c]of a)a.set(l,i(c,s));return e(a)}(t,0)}var uh=Math.sqrt(50),lh=Math.sqrt(10),ch=Math.sqrt(2);function _u(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=Fm(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),f=Math.round(e/a);for(u*a<t&&++u,f*a>e&&--f,s=new Array(o=f-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),f=Math.round(e*a);for(u/a<t&&++u,f/a>e&&--f,s=new Array(o=f-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function Fm(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=uh?10:o>=lh?5:o>=ch?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=uh?10:o>=lh?5:o>=ch?2:1)}function Mi(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=uh?i*=10:o>=lh?i*=5:o>=ch&&(i*=2),e<t?-i:i}function Im(t,e,n=_m){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function sa(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Su(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function jS(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function No(t){return t=Cu(Math.abs(t)),t?t[1]:NaN}function ZS(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function WS(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $S=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hr(t){if(!(e=$S.exec(t)))throw new Error("invalid format: "+t);var e;return new hh({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hr.prototype=hh.prototype;function hh(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YS(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Dm;function QS(t,e){var n=Cu(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cu(t,Math.max(0,e+o-1))[0]}function Bm(t,e){var n=Cu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const km={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jS,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bm(t*100,e),r:Bm,s:QS,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Rm(t){return t}var Pm=Array.prototype.map,Mm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function XS(t){var e=t.grouping===void 0||t.thousands===void 0?Rm:ZS(Pm.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Rm:WS(Pm.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(c){c=Hr(c);var h=c.fill,d=c.align,p=c.sign,b=c.symbol,y=c.zero,w=c.width,E=c.comma,S=c.precision,T=c.trim,D=c.type;D==="n"?(E=!0,D="g"):km[D]||(S===void 0&&(S=12),T=!0,D="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var B=b==="$"?n:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=b==="$"?r:/[%p]/.test(D)?s:"",N=km[D],C=/[defgprs%]/.test(D);S=S===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(M){var ee=B,ne=I,J,me,Ee;if(D==="c")ne=N(M)+ne,M="";else{M=+M;var De=M<0||1/M<0;if(M=isNaN(M)?u:N(Math.abs(M),S),T&&(M=YS(M)),De&&+M==0&&p!=="+"&&(De=!1),ee=(De?p==="("?p:a:p==="-"||p==="("?"":p)+ee,ne=(D==="s"?Mm[8+Dm/3]:"")+ne+(De&&p==="("?")":""),C){for(J=-1,me=M.length;++J<me;)if(Ee=M.charCodeAt(J),48>Ee||Ee>57){ne=(Ee===46?i+M.slice(J+1):M.slice(J))+ne,M=M.slice(0,J);break}}}E&&!y&&(M=e(M,1/0));var ot=ee.length+M.length+ne.length,tt=ot<w?new Array(w-ot+1).join(h):"";switch(E&&y&&(M=e(tt+M,tt.length?w-ne.length:1/0),tt=""),d){case"<":M=ee+M+ne+tt;break;case"=":M=ee+tt+M+ne;break;case"^":M=tt.slice(0,ot=tt.length>>1)+ee+M+ne+tt.slice(ot);break;default:M=tt+ee+M+ne;break}return o(M)}return P.toString=function(){return c+""},P}function l(c,h){var d=f((c=Hr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(No(h)/3)))*3,b=Math.pow(10,-p),y=Mm[8+p/3];return function(w){return d(b*w)+y}}return{format:f,formatPrefix:l}}var Tu,gt,dh;KS({thousands:",",grouping:[3],currency:["$",""]});function KS(t){return Tu=XS(t),gt=Tu.format,dh=Tu.formatPrefix,Tu}function Nm(t){return Math.max(0,-No(Math.abs(t)))}function Lm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(No(e)/3)))*3-No(Math.abs(t)))}function Om(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,No(e)-No(t))+1}var ph=new Date,gh=new Date;function ut(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return e(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var u=[],f;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return u;do u.push(f=new Date(+o)),e(o,a),t(o);while(f<o&&o<s);return u},i.filter=function(o){return ut(function(s){if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););})},n&&(i.count=function(o,s){return ph.setTime(+o),gh.setTime(+s),t(ph),t(gh),Math.floor(n(ph,gh))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var Fu=ut(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Fu.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ut(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Fu};const mh=Fu;Fu.range;const wr=1e3,sn=wr*60,xr=sn*60,Ni=xr*24,bh=Ni*7,zm=Ni*30,yh=Ni*365;var Um=ut(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*wr)},function(t,e){return(e-t)/wr},function(t){return t.getUTCSeconds()});const qr=Um;Um.range;var Gm=ut(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*wr)},function(t,e){t.setTime(+t+e*sn)},function(t,e){return(e-t)/sn},function(t){return t.getMinutes()});const wh=Gm;Gm.range;var Hm=ut(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*wr-t.getMinutes()*sn)},function(t,e){t.setTime(+t+e*xr)},function(t,e){return(e-t)/xr},function(t){return t.getHours()});const xh=Hm;Hm.range;var qm=ut(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sn)/Ni,t=>t.getDate()-1);const Li=qm;qm.range;function Oi(t){return ut(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*sn)/bh})}var aa=Oi(0),Iu=Oi(1),JS=Oi(2),eC=Oi(3),Lo=Oi(4),tC=Oi(5),nC=Oi(6);aa.range,Iu.range,JS.range,eC.range,Lo.range,tC.range,nC.range;var Vm=ut(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Du=Vm;Vm.range;var vh=ut(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});vh.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ut(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const Vr=vh;vh.range;var jm=ut(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*sn)},function(t,e){return(e-t)/sn},function(t){return t.getUTCMinutes()});const Ah=jm;jm.range;var Zm=ut(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*xr)},function(t,e){return(e-t)/xr},function(t){return t.getUTCHours()});const Eh=Zm;Zm.range;var Wm=ut(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Ni},function(t){return t.getUTCDate()-1});const zi=Wm;Wm.range;function Ui(t){return ut(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/bh})}var fa=Ui(0),Bu=Ui(1),rC=Ui(2),iC=Ui(3),Oo=Ui(4),oC=Ui(5),sC=Ui(6);fa.range,Bu.range,rC.range,iC.range,Oo.range,oC.range,sC.range;var $m=ut(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const ku=$m;$m.range;var _h=ut(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});_h.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ut(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const jr=_h;_h.range;function Ym(t,e,n,r,i,o){const s=[[qr,1,wr],[qr,5,5*wr],[qr,15,15*wr],[qr,30,30*wr],[o,1,sn],[o,5,5*sn],[o,15,15*sn],[o,30,30*sn],[i,1,xr],[i,3,3*xr],[i,6,6*xr],[i,12,12*xr],[r,1,Ni],[r,2,2*Ni],[n,1,bh],[e,1,zm],[e,3,3*zm],[t,1,yh]];function a(f,l,c){const h=l<f;h&&([f,l]=[l,f]);const d=c&&typeof c.range=="function"?c:u(f,l,c),p=d?d.range(f,+l+1):[];return h?p.reverse():p}function u(f,l,c){const h=Math.abs(l-f)/c,d=Au(([,,y])=>y).right(s,h);if(d===s.length)return t.every(Mi(f/yh,l/yh,c));if(d===0)return mh.every(Math.max(Mi(f,l,c),1));const[p,b]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return p.every(b)}return[a,u]}const[aC,fC]=Ym(jr,ku,fa,zi,Eh,Ah),[uC,lC]=Ym(Vr,Du,aa,Li,xh,wh),ua="year",la="quarter",ca="month",ha="week",da="date",Ru="day",Sh="dayofyear",pa="hours",ga="minutes",ma="seconds",Pu="milliseconds";[ua,la,ca,ha,da,Ru,Sh,pa,ga,ma,Pu].reduce((t,e,n)=>(t[e]=1+n,t),{});const cC={[ua]:Vr,[la]:Du.every(3),[ca]:Du,[ha]:aa,[da]:Li,[Ru]:Li,[Sh]:Li,[pa]:xh,[ga]:wh,[ma]:qr,[Pu]:mh},hC={[ua]:jr,[la]:ku.every(3),[ca]:ku,[ha]:fa,[da]:zi,[Ru]:zi,[Sh]:zi,[pa]:Eh,[ga]:Ah,[ma]:qr,[Pu]:mh};function dC(t){return cC[t]}function pC(t){return hC[t]}function Ch(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Th(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ba(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,f=ya(i),l=wa(i),c=ya(o),h=wa(o),d=ya(s),p=wa(s),b=ya(a),y=wa(a),w=ya(u),E=wa(u),S={a:De,A:ot,b:tt,B:pr,c:null,d:n1,e:n1,f:LC,g:WC,G:YC,H:PC,I:MC,j:NC,L:r1,m:OC,M:zC,p:Pe,q:$e,Q:u1,s:l1,S:UC,u:GC,U:HC,V:qC,w:VC,W:jC,x:null,X:null,y:ZC,Y:$C,Z:QC,"%":f1},T={a:Wt,A:jn,b:gr,B:O,c:null,d:o1,e:o1,f:e8,g:l8,G:h8,H:XC,I:KC,j:JC,L:s1,m:t8,M:n8,p:L,q:Z,Q:u1,s:l1,S:r8,u:i8,U:o8,V:s8,w:a8,W:f8,x:null,X:null,y:u8,Y:c8,Z:d8,"%":f1},D={a:P,A:M,b:ee,B:ne,c:J,d:e1,e:e1,f:DC,g:Jm,G:Km,H:t1,I:t1,j:CC,L:IC,m:SC,M:TC,p:C,q:_C,Q:kC,s:RC,S:FC,u:wC,U:xC,V:vC,w:yC,W:AC,x:me,X:Ee,y:Jm,Y:Km,Z:EC,"%":BC};S.x=B(n,S),S.X=B(r,S),S.c=B(e,S),T.x=B(n,T),T.X=B(r,T),T.c=B(e,T);function B(V,Q){return function(_){var v=[],H=-1,j=0,le=V.length,re,ce,$t;for(_ instanceof Date||(_=new Date(+_));++H<le;)V.charCodeAt(H)===37&&(v.push(V.slice(j,H)),(ce=Xm[re=V.charAt(++H)])!=null?re=V.charAt(++H):ce=re==="e"?" ":"0",($t=Q[re])&&(re=$t(_,ce)),v.push(re),j=H+1);return v.push(V.slice(j,H)),v.join("")}}function I(V,Q){return function(_){var v=ba(1900,void 0,1),H=N(v,V,_+="",0),j,le;if(H!=_.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(Q&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(j=Th(ba(v.y,0,1)),le=j.getUTCDay(),j=le>4||le===0?Bu.ceil(j):Bu(j),j=zi.offset(j,(v.V-1)*7),v.y=j.getUTCFullYear(),v.m=j.getUTCMonth(),v.d=j.getUTCDate()+(v.w+6)%7):(j=Ch(ba(v.y,0,1)),le=j.getDay(),j=le>4||le===0?Iu.ceil(j):Iu(j),j=Li.offset(j,(v.V-1)*7),v.y=j.getFullYear(),v.m=j.getMonth(),v.d=j.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),le="Z"in v?Th(ba(v.y,0,1)).getUTCDay():Ch(ba(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(le+5)%7:v.w+v.U*7-(le+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,Th(v)):Ch(v)}}function N(V,Q,_,v){for(var H=0,j=Q.length,le=_.length,re,ce;H<j;){if(v>=le)return-1;if(re=Q.charCodeAt(H++),re===37){if(re=Q.charAt(H++),ce=D[re in Xm?Q.charAt(H++):re],!ce||(v=ce(V,_,v))<0)return-1}else if(re!=_.charCodeAt(v++))return-1}return v}function C(V,Q,_){var v=f.exec(Q.slice(_));return v?(V.p=l.get(v[0].toLowerCase()),_+v[0].length):-1}function P(V,Q,_){var v=d.exec(Q.slice(_));return v?(V.w=p.get(v[0].toLowerCase()),_+v[0].length):-1}function M(V,Q,_){var v=c.exec(Q.slice(_));return v?(V.w=h.get(v[0].toLowerCase()),_+v[0].length):-1}function ee(V,Q,_){var v=w.exec(Q.slice(_));return v?(V.m=E.get(v[0].toLowerCase()),_+v[0].length):-1}function ne(V,Q,_){var v=b.exec(Q.slice(_));return v?(V.m=y.get(v[0].toLowerCase()),_+v[0].length):-1}function J(V,Q,_){return N(V,e,Q,_)}function me(V,Q,_){return N(V,n,Q,_)}function Ee(V,Q,_){return N(V,r,Q,_)}function De(V){return s[V.getDay()]}function ot(V){return o[V.getDay()]}function tt(V){return u[V.getMonth()]}function pr(V){return a[V.getMonth()]}function Pe(V){return i[+(V.getHours()>=12)]}function $e(V){return 1+~~(V.getMonth()/3)}function Wt(V){return s[V.getUTCDay()]}function jn(V){return o[V.getUTCDay()]}function gr(V){return u[V.getUTCMonth()]}function O(V){return a[V.getUTCMonth()]}function L(V){return i[+(V.getUTCHours()>=12)]}function Z(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Q=B(V+="",S);return Q.toString=function(){return V},Q},parse:function(V){var Q=I(V+="",!1);return Q.toString=function(){return V},Q},utcFormat:function(V){var Q=B(V+="",T);return Q.toString=function(){return V},Q},utcParse:function(V){var Q=I(V+="",!0);return Q.toString=function(){return V},Q}}}var Xm={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,gC=/^%/,mC=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bC(t){return t.replace(mC,"\\$&")}function ya(t){return new RegExp("^(?:"+t.map(bC).join("|")+")","i")}function wa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yC(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wC(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Km(t,e,n){var r=lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jm(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EC(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _C(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function SC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function e1(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function CC(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function t1(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function TC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function FC(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function IC(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function DC(t,e,n){var r=lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BC(t,e,n){var r=gC.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kC(t,e,n){var r=lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function RC(t,e,n){var r=lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function n1(t,e){return we(t.getDate(),e,2)}function PC(t,e){return we(t.getHours(),e,2)}function MC(t,e){return we(t.getHours()%12||12,e,2)}function NC(t,e){return we(1+Li.count(Vr(t),t),e,3)}function r1(t,e){return we(t.getMilliseconds(),e,3)}function LC(t,e){return r1(t,e)+"000"}function OC(t,e){return we(t.getMonth()+1,e,2)}function zC(t,e){return we(t.getMinutes(),e,2)}function UC(t,e){return we(t.getSeconds(),e,2)}function GC(t){var e=t.getDay();return e===0?7:e}function HC(t,e){return we(aa.count(Vr(t)-1,t),e,2)}function i1(t){var e=t.getDay();return e>=4||e===0?Lo(t):Lo.ceil(t)}function qC(t,e){return t=i1(t),we(Lo.count(Vr(t),t)+(Vr(t).getDay()===4),e,2)}function VC(t){return t.getDay()}function jC(t,e){return we(Iu.count(Vr(t)-1,t),e,2)}function ZC(t,e){return we(t.getFullYear()%100,e,2)}function WC(t,e){return t=i1(t),we(t.getFullYear()%100,e,2)}function $C(t,e){return we(t.getFullYear()%1e4,e,4)}function YC(t,e){var n=t.getDay();return t=n>=4||n===0?Lo(t):Lo.ceil(t),we(t.getFullYear()%1e4,e,4)}function QC(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function o1(t,e){return we(t.getUTCDate(),e,2)}function XC(t,e){return we(t.getUTCHours(),e,2)}function KC(t,e){return we(t.getUTCHours()%12||12,e,2)}function JC(t,e){return we(1+zi.count(jr(t),t),e,3)}function s1(t,e){return we(t.getUTCMilliseconds(),e,3)}function e8(t,e){return s1(t,e)+"000"}function t8(t,e){return we(t.getUTCMonth()+1,e,2)}function n8(t,e){return we(t.getUTCMinutes(),e,2)}function r8(t,e){return we(t.getUTCSeconds(),e,2)}function i8(t){var e=t.getUTCDay();return e===0?7:e}function o8(t,e){return we(fa.count(jr(t)-1,t),e,2)}function a1(t){var e=t.getUTCDay();return e>=4||e===0?Oo(t):Oo.ceil(t)}function s8(t,e){return t=a1(t),we(Oo.count(jr(t),t)+(jr(t).getUTCDay()===4),e,2)}function a8(t){return t.getUTCDay()}function f8(t,e){return we(Bu.count(jr(t)-1,t),e,2)}function u8(t,e){return we(t.getUTCFullYear()%100,e,2)}function l8(t,e){return t=a1(t),we(t.getUTCFullYear()%100,e,2)}function c8(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function h8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Oo(t):Oo.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function d8(){return"+0000"}function f1(){return"%"}function u1(t){return+t}function l1(t){return Math.floor(+t/1e3)}var zo,Fh,c1,Ih,h1;p8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p8(t){return zo=Qm(t),Fh=zo.format,c1=zo.parse,Ih=zo.utcFormat,h1=zo.utcParse,zo}function xa(t){const e={};return n=>e[n]||(e[n]=t(n))}function g8(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=m8(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function m8(t,e){let n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}function b8(t){const e=xa(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(r){const i=Hr(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return g8(e(i),e(".1f")(1)[1])}else return e(i)},formatSpan(r,i,o,s){s=Hr(s??",f");const a=Mi(r,i,o),u=Math.max(Math.abs(r),Math.abs(i));let f;if(s.precision==null)switch(s.type){case"s":return isNaN(f=Lm(a,u))||(s.precision=f),n(s,u);case"":case"e":case"g":case"p":case"r":{isNaN(f=Om(a,u))||(s.precision=f-(s.type==="e"));break}case"f":case"%":{isNaN(f=Nm(a))||(s.precision=f-(s.type==="%")*2);break}}return e(s)}}}y8();function y8(){return b8({format:gt,formatPrefix:dh})}function d1(t,e,n){n=n||{},Tn(n)||Xe("Invalid time multi-format specifier: ".concat(n));const r=e(ma),i=e(ga),o=e(pa),s=e(da),a=e(ha),u=e(ca),f=e(la),l=e(ua),c=t(n[Pu]||".%L"),h=t(n[ma]||":%S"),d=t(n[ga]||"%I:%M"),p=t(n[pa]||"%I %p"),b=t(n[da]||n[Ru]||"%a %d"),y=t(n[ha]||"%b %d"),w=t(n[ca]||"%B"),E=t(n[la]||"%B"),S=t(n[ua]||"%Y");return T=>(r(T)<T?c:i(T)<T?h:o(T)<T?d:s(T)<T?p:u(T)<T?a(T)<T?b:y:l(T)<T?f(T)<T?w:E:S)(T)}function p1(t){const e=xa(t.format),n=xa(t.utcFormat);return{timeFormat:r=>Ke(r)?e(r):d1(e,dC,r),utcFormat:r=>Ke(r)?n(r):d1(n,pC,r),timeParse:xa(t.parse),utcParse:xa(t.utcParse)}}let Dh;w8();function w8(){return Dh=p1({format:Fh,parse:c1,utcFormat:Ih,utcParse:h1})}function x8(t){return p1(Qm(t))}function v8(t){return arguments.length?Dh=x8(t):Dh}const A8=/^(data:|([A-Za-z]+:)?\/\/)/,E8=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,_8=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,g1="file://";function S8(t,e){return n=>({options:n||{},sanitize:T8,load:C8,fileAccess:!!e,file:F8(e),http:D8(t)})}async function C8(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function T8(t,e){e=rh({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,s;const a=E8.test(t.replace(_8,""));(t==null||typeof t!="string"||!a)&&Xe("Sanitize failure, invalid URI: "+xu(t));const u=A8.test(t);return(s=e.baseURL)&&!u&&(!t.startsWith("/")&&!s.endsWith("/")&&(t="/"+t),t=s+t),o=(i=t.startsWith(g1))||e.mode==="file"||e.mode!=="http"&&!u&&n,i?t=t.slice(g1.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function F8(t){return t?e=>new Promise((n,r)=>{t.readFile(e,(i,o)=>{i?r(i):n(o)})}):I8}async function I8(){Xe("No file system access.")}function D8(t){return t?async function(e,n){const r=rh({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?Pt(o[i])?o[i]():o.text():Xe(o.status+""+o.statusText)}:B8}async function B8(){Xe("No HTTP fetch method available.")}const k8=t=>t!=null&&t===t,R8=t=>t==="true"||t==="false"||t===!0||t===!1,P8=t=>!Number.isNaN(Date.parse(t)),m1=t=>!Number.isNaN(+t)&&!(t instanceof Date),M8=t=>m1(t)&&Number.isInteger(+t),b1={boolean:vS,integer:ra,number:ra,date:ES,string:_S,unknown:gu},Mu=[R8,M8,m1,P8],N8=["boolean","integer","number","date"];function L8(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=Mu.length,i=Mu.map((o,s)=>s+1);for(let o=0,s=0,a,u;o<n;++o)for(u=e?t[o][e]:t[o],a=0;a<r;++a)if(i[a]&&k8(u)&&!Mu[a](u)&&(i[a]=0,++s,s===Mu.length))return"string";return N8[i.reduce((o,s)=>o===0?s:o,0)-1]}function O8(t,e){return e.reduce((n,r)=>(n[r]=L8(t,r),n),{})}function y1(t){const e=function(n,r){const i={delimiter:t};return Bh(n,r?rh(r,i):i)};return e.responseType="text",e}function Bh(t,e){return e.header&&(t=e.header.map(xu).join(e.delimiter)+`
`+t),vm(e.delimiter).parse(t+"")}Bh.responseType="text";function z8(t){return typeof Buffer=="function"&&Pt(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function kh(t,e){const n=e&&e.property?pu(e.property):gu;return Tn(t)&&!z8(t)?U8(n(t),e):n(JSON.parse(t))}kh.responseType="json";function U8(t,e){return!Qt(t)&&wS(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const G8={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function w1(t,e){let n,r,i,o;return t=kh(t,e),e&&e.feature?(n=RS,i=e.feature):e&&e.mesh?(n=MS,i=e.mesh,o=G8[e.filter]):Xe("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):Xe("Invalid TopoJSON object: "+i),r&&r.features||[r]}w1.responseType="json";const Rh={dsv:Bh,csv:y1(","),tsv:y1("	"),json:kh,topojson:w1};function x1(t,e){return arguments.length>1?(Rh[t]=e,this):Ri(Rh,t)?Rh[t]:null}function v1(t,e,n,r){e=e||{};const i=x1(e.type||"json");return i||Xe("Unknown data format type: "+e.type),t=i(t,e),e.parse&&H8(t,e.parse,n,r),Ri(t,"columns")&&delete t.columns,t}function H8(t,e,n,r){if(!t.length)return;const i=v8();n=n||i.timeParse,r=r||i.utcParse;let o=t.columns||Object.keys(t[0]),s,a,u,f,l,c;e==="auto"&&(e=O8(t,o)),o=Object.keys(e);const h=o.map(d=>{const p=e[d];let b,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return b=p.split(/:(.+)?/,2),y=b[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(b[0]==="utc"?r:n)(y);if(!b1[p])throw Error("Illegal format pattern: "+d+":"+p);return b1[p]});for(u=0,l=t.length,c=o.length;u<l;++u)for(s=t[u],f=0;f<c;++f)a=o[f],s[a]=h[f](s[a])}const Nu=S8(typeof fetch<"u"&&fetch,null);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ph;const Lu=window,Uo=Lu.trustedTypes,A1=Uo?Uo.createPolicy("lit-html",{createHTML:t=>t}):void 0,Zr=`lit$${(Math.random()+"").slice(9)}$`,E1="?"+Zr,q8=`<${E1}>`,Go=document,va=(t="")=>Go.createComment(t),Aa=t=>t===null||typeof t!="object"&&typeof t!="function",_1=Array.isArray,V8=t=>_1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Ea=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,S1=/-->/g,C1=/>/g,Gi=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),T1=/'/g,F1=/"/g,I1=/^(?:script|style|textarea|title)$/i,j8=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),In=j8(1),Hi=Symbol.for("lit-noChange"),et=Symbol.for("lit-nothing"),D1=new WeakMap,Ho=Go.createTreeWalker(Go,129,null,!1),Z8=(t,e)=>{const n=t.length-1,r=[];let i,o=e===2?"<svg>":"",s=Ea;for(let u=0;u<n;u++){const f=t[u];let l,c,h=-1,d=0;for(;d<f.length&&(s.lastIndex=d,c=s.exec(f),c!==null);)d=s.lastIndex,s===Ea?c[1]==="!--"?s=S1:c[1]!==void 0?s=C1:c[2]!==void 0?(I1.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=Gi):c[3]!==void 0&&(s=Gi):s===Gi?c[0]===">"?(s=i??Ea,h=-1):c[1]===void 0?h=-2:(h=s.lastIndex-c[2].length,l=c[1],s=c[3]===void 0?Gi:c[3]==='"'?F1:T1):s===F1||s===T1?s=Gi:s===S1||s===C1?s=Ea:(s=Gi,i=void 0);const p=s===Gi&&t[u+1].startsWith("/>")?" ":"";o+=s===Ea?f+q8:h>=0?(r.push(l),f.slice(0,h)+"$lit$"+f.slice(h)+Zr+p):f+Zr+(h===-2?(r.push(void 0),u):p)}const a=o+(t[n]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[A1!==void 0?A1.createHTML(a):a,r]};let Mh=class $3{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,s=0;const a=e.length-1,u=this.parts,[f,l]=Z8(e,n);if(this.el=$3.createElement(f,r),Ho.currentNode=this.el.content,n===2){const c=this.el.content,h=c.firstChild;h.remove(),c.append(...h.childNodes)}for(;(i=Ho.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const c=[];for(const h of i.getAttributeNames())if(h.endsWith("$lit$")||h.startsWith(Zr)){const d=l[s++];if(c.push(h),d!==void 0){const p=i.getAttribute(d.toLowerCase()+"$lit$").split(Zr),b=/([.?@])?(.*)/.exec(d);u.push({type:1,index:o,name:b[2],strings:p,ctor:b[1]==="."?$8:b[1]==="?"?Q8:b[1]==="@"?X8:Ou})}else u.push({type:6,index:o})}for(const h of c)i.removeAttribute(h)}if(I1.test(i.tagName)){const c=i.textContent.split(Zr),h=c.length-1;if(h>0){i.textContent=Uo?Uo.emptyScript:"";for(let d=0;d<h;d++)i.append(c[d],va()),Ho.nextNode(),u.push({type:2,index:++o});i.append(c[h],va())}}}else if(i.nodeType===8)if(i.data===E1)u.push({type:2,index:o});else{let c=-1;for(;(c=i.data.indexOf(Zr,c+1))!==-1;)u.push({type:7,index:o}),c+=Zr.length-1}o++}}static createElement(e,n){const r=Go.createElement("template");return r.innerHTML=e,r}};function qo(t,e,n=t,r){var i,o,s,a;if(e===Hi)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const f=Aa(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==f&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),f===void 0?u=void 0:(u=new f(t),u._$AT(t,n,r)),r!==void 0?((s=(a=n)._$Co)!==null&&s!==void 0?s:a._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=qo(t,u._$AS(t,e.values),u,r)),e}class W8{constructor(e,n){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var n;const{el:{content:r},parts:i}=this._$AD,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Go).importNode(r,!0);Ho.currentNode=o;let s=Ho.nextNode(),a=0,u=0,f=i[0];for(;f!==void 0;){if(a===f.index){let l;f.type===2?l=new _a(s,s.nextSibling,this,e):f.type===1?l=new f.ctor(s,f.name,f.strings,this,e):f.type===6&&(l=new K8(s,this,e)),this.u.push(l),f=i[++u]}a!==(f==null?void 0:f.index)&&(s=Ho.nextNode(),a++)}return o}p(e){let n=0;for(const r of this.u)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class _a{constructor(e,n,r,i){var o;this.type=2,this._$AH=et,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=(o=i==null?void 0:i.isConnected)===null||o===void 0||o}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=qo(this,e,n),Aa(e)?e===et||e==null||e===""?(this._$AH!==et&&this._$AR(),this._$AH=et):e!==this._$AH&&e!==Hi&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):V8(e)?this.k(e):this.g(e)}O(e,n=this._$AB){return this._$AA.parentNode.insertBefore(e,n)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==et&&Aa(this._$AH)?this._$AA.nextSibling.data=e:this.T(Go.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Mh.createElement(i.h,this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===o)this._$AH.p(r);else{const s=new W8(o,this),a=s.v(this.options);s.p(r),this.T(a),this._$AH=s}}_$AC(e){let n=D1.get(e.strings);return n===void 0&&D1.set(e.strings,n=new Mh(e)),n}k(e){_1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const o of e)i===n.length?n.push(r=new _a(this.O(va()),this.O(va()),this,this.options)):r=n[i],r._$AI(o),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}let Ou=class{constructor(e,n,r,i,o){this.type=1,this._$AH=et,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=et}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const o=this.strings;let s=!1;if(o===void 0)e=qo(this,e,n,0),s=!Aa(e)||e!==this._$AH&&e!==Hi,s&&(this._$AH=e);else{const a=e;let u,f;for(e=o[0],u=0;u<o.length-1;u++)f=qo(this,a[r+u],n,u),f===Hi&&(f=this._$AH[u]),s||(s=!Aa(f)||f!==this._$AH[u]),f===et?e=et:e!==et&&(e+=(f??"")+o[u+1]),this._$AH[u]=f}s&&!i&&this.j(e)}j(e){e===et?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class $8 extends Ou{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===et?void 0:e}}const Y8=Uo?Uo.emptyScript:"";class Q8 extends Ou{constructor(){super(...arguments),this.type=4}j(e){e&&e!==et?this.element.setAttribute(this.name,Y8):this.element.removeAttribute(this.name)}}class X8 extends Ou{constructor(e,n,r,i,o){super(e,n,r,i,o),this.type=5}_$AI(e,n=this){var r;if((e=(r=qo(this,e,n,0))!==null&&r!==void 0?r:et)===Hi)return;const i=this._$AH,o=e===et&&i!==et||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==et&&(i===et||o);o&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class K8{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){qo(this,e)}}const B1=Lu.litHtmlPolyfillSupport;B1==null||B1(Mh,_a),((Ph=Lu.litHtmlVersions)!==null&&Ph!==void 0?Ph:Lu.litHtmlVersions=[]).push("2.4.0");const Nh=(t,e,n)=>{var r,i;const o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let s=o._$litPart$;if(s===void 0){const a=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=s=new _a(e.insertBefore(va(),a),a,void 0,n??{})}return s._$AI(t),s},J8=`.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
}
.genome-spy canvas {
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy.loading canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy.loading .loading-message .message {
  opacity: 1;
}
.genome-spy.loading .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 13px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}`;function e6(t,e){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}function zu(t,e){return t.length==e.length&&t.every((n,r)=>t[r]===e[r])}function Xt(t){return Array.isArray(t)?t:typeof t<"u"?[t]:[]}function Sa(t){return t[t.length-1]}class t6{constructor(e){this.container=e,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(e){e!=this._visible&&(this.element.style.display=e?null:"none",this._visible=e)}get visible(){return this._visible}get enabled(){return Sa(this.enabledStack)??!0}pushEnabledState(e){this.enabledStack.push(e),e||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(e){this.mouseCoords=e6(this.container,e);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&n6(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(e){if(!e||!this.enabled||this._isPenalty()){this.visible&&(Nh("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}Nh(e,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(e,n){e!==this._previousTooltipDatum&&(this._previousTooltipDatum=e,n||(n=r=>Promise.resolve(In` ${JSON.stringify(r)} `)),n(e).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function n6(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}const r6="RawCode",i6="Literal",o6="Property",s6="Identifier",a6="ArrayExpression",f6="BinaryExpression",u6="CallExpression",l6="ConditionalExpression",c6="LogicalExpression",h6="MemberExpression",d6="ObjectExpression",p6="UnaryExpression";function Dn(t){this.type=t}Dn.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=g6(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};function g6(t){switch(t.type){case a6:return t.elements;case f6:case c6:return[t.left,t.right];case u6:return[t.callee].concat(t.arguments);case l6:return[t.test,t.consequent,t.alternate];case h6:return[t.object,t.property];case d6:return t.properties;case o6:return[t.key,t.value];case p6:return[t.argument];case s6:case i6:case r6:default:return[]}}var $n,te,G,vt,Fe,Uu=1,Ca=2,qi=3,Wr=4,Gu=5,Vi=6,Lt=7,Ta=8,m6=9;$n={},$n[Uu]="Boolean",$n[Ca]="<end>",$n[qi]="Identifier",$n[Wr]="Keyword",$n[Gu]="Null",$n[Vi]="Numeric",$n[Lt]="Punctuator",$n[Ta]="String",$n[m6]="RegularExpression";var b6="ArrayExpression",y6="BinaryExpression",w6="CallExpression",x6="ConditionalExpression",k1="Identifier",v6="Literal",A6="LogicalExpression",E6="MemberExpression",_6="ObjectExpression",S6="Property",C6="UnaryExpression",ct="Unexpected token %0",T6="Unexpected number",F6="Unexpected string",I6="Unexpected identifier",D6="Unexpected reserved word",B6="Unexpected end of input",Lh="Invalid regular expression",Oh="Invalid regular expression: missing /",R1="Octal literals are not allowed in strict mode.",k6="Duplicate data property in object literal not allowed in strict mode",mt="ILLEGAL",Fa="Disabled.",R6=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),P6=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Hu(t,e){if(!t)throw new Error("ASSERT: "+e)}function vr(t){return t>=48&&t<=57}function zh(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Ia(t){return"01234567".indexOf(t)>=0}function M6(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function Da(t){return t===10||t===13||t===8232||t===8233}function Ba(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&R6.test(String.fromCharCode(t))}function qu(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&P6.test(String.fromCharCode(t))}const N6={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function P1(){for(;G<vt;){const t=te.charCodeAt(G);if(M6(t)||Da(t))++G;else break}}function Uh(t){var e,n,r,i=0;for(n=t==="u"?4:2,e=0;e<n;++e)G<vt&&zh(te[G])?(r=te[G++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):xe({},ct,mt);return String.fromCharCode(i)}function L6(){var t,e,n,r;for(t=te[G],e=0,t==="}"&&xe({},ct,mt);G<vt&&(t=te[G++],!!zh(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&xe({},ct,mt),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(n,r))}function M1(){var t,e;for(t=te.charCodeAt(G++),e=String.fromCharCode(t),t===92&&(te.charCodeAt(G)!==117&&xe({},ct,mt),++G,t=Uh("u"),(!t||t==="\\"||!Ba(t.charCodeAt(0)))&&xe({},ct,mt),e=t);G<vt&&(t=te.charCodeAt(G),!!qu(t));)++G,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),te.charCodeAt(G)!==117&&xe({},ct,mt),++G,t=Uh("u"),(!t||t==="\\"||!qu(t.charCodeAt(0)))&&xe({},ct,mt),e+=t);return e}function O6(){var t,e;for(t=G++;G<vt;){if(e=te.charCodeAt(G),e===92)return G=t,M1();if(qu(e))++G;else break}return te.slice(t,G)}function z6(){var t,e,n;return t=G,e=te.charCodeAt(G)===92?M1():O6(),e.length===1?n=qi:N6.hasOwnProperty(e)?n=Wr:e==="null"?n=Gu:e==="true"||e==="false"?n=Uu:n=qi,{type:n,value:e,start:t,end:G}}function Gh(){var t=G,e=te.charCodeAt(G),n,r=te[G],i,o,s;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++G,{type:Lt,value:String.fromCharCode(e),start:t,end:G};default:if(n=te.charCodeAt(G+1),n===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return G+=2,{type:Lt,value:String.fromCharCode(e)+String.fromCharCode(n),start:t,end:G};case 33:case 61:return G+=2,te.charCodeAt(G)===61&&++G,{type:Lt,value:te.slice(t,G),start:t,end:G}}}if(s=te.substr(G,4),s===">>>=")return G+=4,{type:Lt,value:s,start:t,end:G};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return G+=3,{type:Lt,value:o,start:t,end:G};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return G+=2,{type:Lt,value:i,start:t,end:G};if(i==="//"&&xe({},ct,mt),"<>=!+-*%&|^/".indexOf(r)>=0)return++G,{type:Lt,value:r,start:t,end:G};xe({},ct,mt)}function U6(t){let e="";for(;G<vt&&zh(te[G]);)e+=te[G++];return e.length===0&&xe({},ct,mt),Ba(te.charCodeAt(G))&&xe({},ct,mt),{type:Vi,value:parseInt("0x"+e,16),start:t,end:G}}function G6(t){let e="0"+te[G++];for(;G<vt&&Ia(te[G]);)e+=te[G++];return(Ba(te.charCodeAt(G))||vr(te.charCodeAt(G)))&&xe({},ct,mt),{type:Vi,value:parseInt(e,8),octal:!0,start:t,end:G}}function N1(){var t,e,n;if(n=te[G],Hu(vr(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),e=G,t="",n!=="."){if(t=te[G++],n=te[G],t==="0"){if(n==="x"||n==="X")return++G,U6(e);if(Ia(n))return G6(e);n&&vr(n.charCodeAt(0))&&xe({},ct,mt)}for(;vr(te.charCodeAt(G));)t+=te[G++];n=te[G]}if(n==="."){for(t+=te[G++];vr(te.charCodeAt(G));)t+=te[G++];n=te[G]}if(n==="e"||n==="E")if(t+=te[G++],n=te[G],(n==="+"||n==="-")&&(t+=te[G++]),vr(te.charCodeAt(G)))for(;vr(te.charCodeAt(G));)t+=te[G++];else xe({},ct,mt);return Ba(te.charCodeAt(G))&&xe({},ct,mt),{type:Vi,value:parseFloat(t),start:e,end:G}}function H6(){var t="",e,n,r,i,o=!1;for(e=te[G],Hu(e==="'"||e==='"',"String literal must starts with a quote"),n=G,++G;G<vt;)if(r=te[G++],r===e){e="";break}else if(r==="\\")if(r=te[G++],!r||!Da(r.charCodeAt(0)))switch(r){case"u":case"x":te[G]==="{"?(++G,t+=L6()):t+=Uh(r);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:Ia(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),G<vt&&Ia(te[G])&&(o=!0,i=i*8+"01234567".indexOf(te[G++]),"0123".indexOf(r)>=0&&G<vt&&Ia(te[G])&&(i=i*8+"01234567".indexOf(te[G++]))),t+=String.fromCharCode(i)):t+=r;break}else r==="\r"&&te[G]===`
`&&++G;else{if(Da(r.charCodeAt(0)))break;t+=r}return e!==""&&xe({},ct,mt),{type:Ta,value:t,octal:o,start:n,end:G}}function q6(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";xe({},Lh)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{xe({},Lh)}try{return new RegExp(t,e)}catch{return null}}function V6(){var t,e,n,r,i;for(t=te[G],Hu(t==="/","Regular expression literal must start with a slash"),e=te[G++],n=!1,r=!1;G<vt;)if(t=te[G++],e+=t,t==="\\")t=te[G++],Da(t.charCodeAt(0))&&xe({},Oh),e+=t;else if(Da(t.charCodeAt(0)))xe({},Oh);else if(n)t==="]"&&(n=!1);else if(t==="/"){r=!0;break}else t==="["&&(n=!0);return r||xe({},Oh),i=e.substr(1,e.length-2),{value:i,literal:e}}function j6(){var t,e,n;for(e="",n="";G<vt&&(t=te[G],!!qu(t.charCodeAt(0)));)++G,t==="\\"&&G<vt?xe({},ct,mt):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&xe({},Lh,n),{value:n,literal:e}}function Z6(){var t,e,n,r;return Fe=null,P1(),t=G,e=V6(),n=j6(),r=q6(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:G}}function W6(t){return t.type===qi||t.type===Wr||t.type===Uu||t.type===Gu}function L1(){if(P1(),G>=vt)return{type:Ca,start:G,end:G};const t=te.charCodeAt(G);return Ba(t)?z6():t===40||t===41||t===59?Gh():t===39||t===34?H6():t===46?vr(te.charCodeAt(G+1))?N1():Gh():vr(t)?N1():Gh()}function Ot(){const t=Fe;return G=t.end,Fe=L1(),G=t.end,t}function O1(){const t=G;Fe=L1(),G=t}function $6(t){const e=new Dn(b6);return e.elements=t,e}function z1(t,e,n){const r=new Dn(t==="||"||t==="&&"?A6:y6);return r.operator=t,r.left=e,r.right=n,r}function Y6(t,e){const n=new Dn(w6);return n.callee=t,n.arguments=e,n}function Q6(t,e,n){const r=new Dn(x6);return r.test=t,r.consequent=e,r.alternate=n,r}function Hh(t){const e=new Dn(k1);return e.name=t,e}function ka(t){const e=new Dn(v6);return e.value=t.value,e.raw=te.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function U1(t,e,n){const r=new Dn(E6);return r.computed=t==="[",r.object=e,r.property=n,r.computed||(n.member=!0),r}function X6(t){const e=new Dn(_6);return e.properties=t,e}function G1(t,e,n){const r=new Dn(S6);return r.key=e,r.value=n,r.kind=t,r}function K6(t,e){const n=new Dn(C6);return n.operator=t,n.argument=e,n.prefix=!0,n}function xe(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(o,s)=>(Hu(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=G,n.description=i,n}function Vu(t){t.type===Ca&&xe(t,B6),t.type===Vi&&xe(t,T6),t.type===Ta&&xe(t,F6),t.type===qi&&xe(t,I6),t.type===Wr&&xe(t,D6),xe(t,ct,t.value)}function At(t){const e=Ot();(e.type!==Lt||e.value!==t)&&Vu(e)}function Ge(t){return Fe.type===Lt&&Fe.value===t}function qh(t){return Fe.type===Wr&&Fe.value===t}function J6(){const t=[];for(G=Fe.start,At("[");!Ge("]");)Ge(",")?(Ot(),t.push(null)):(t.push(ji()),Ge("]")||At(","));return Ot(),$6(t)}function H1(){G=Fe.start;const t=Ot();return t.type===Ta||t.type===Vi?(t.octal&&xe(t,R1),ka(t)):Hh(t.value)}function e4(){var t,e,n,r;if(G=Fe.start,t=Fe,t.type===qi)return n=H1(),At(":"),r=ji(),G1("init",n,r);if(t.type===Ca||t.type===Lt)Vu(t);else return e=H1(),At(":"),r=ji(),G1("init",e,r)}function t4(){var t=[],e,n,r,i={},o=String;for(G=Fe.start,At("{");!Ge("}");)e=e4(),e.key.type===k1?n=e.key.name:n=o(e.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?xe({},k6):i[r]=!0,t.push(e),Ge("}")||At(",");return At("}"),X6(t)}function n4(){At("(");const t=Vh();return At(")"),t}const r4={if:1};function i4(){var t,e,n;if(Ge("("))return n4();if(Ge("["))return J6();if(Ge("{"))return t4();if(t=Fe.type,G=Fe.start,t===qi||r4[Fe.value])n=Hh(Ot().value);else if(t===Ta||t===Vi)Fe.octal&&xe(Fe,R1),n=ka(Ot());else{if(t===Wr)throw new Error(Fa);t===Uu?(e=Ot(),e.value=e.value==="true",n=ka(e)):t===Gu?(e=Ot(),e.value=null,n=ka(e)):Ge("/")||Ge("/=")?(n=ka(Z6()),O1()):Vu(Ot())}return n}function o4(){const t=[];if(At("("),!Ge(")"))for(;G<vt&&(t.push(ji()),!Ge(")"));)At(",");return At(")"),t}function s4(){G=Fe.start;const t=Ot();return W6(t)||Vu(t),Hh(t.value)}function a4(){return At("."),s4()}function f4(){At("[");const t=Vh();return At("]"),t}function u4(){var t,e,n;for(t=i4();;)if(Ge("."))n=a4(),t=U1(".",t,n);else if(Ge("("))e=o4(),t=Y6(t,e);else if(Ge("["))n=f4(),t=U1("[",t,n);else break;return t}function q1(){const t=u4();if(Fe.type===Lt&&(Ge("++")||Ge("--")))throw new Error(Fa);return t}function ju(){var t,e;if(Fe.type!==Lt&&Fe.type!==Wr)e=q1();else{if(Ge("++")||Ge("--"))throw new Error(Fa);if(Ge("+")||Ge("-")||Ge("~")||Ge("!"))t=Ot(),e=ju(),e=K6(t.value,e);else{if(qh("delete")||qh("void")||qh("typeof"))throw new Error(Fa);e=q1()}}return e}function V1(t){let e=0;if(t.type!==Lt&&t.type!==Wr)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function l4(){var t,e,n,r,i,o,s,a,u,f;if(t=Fe,u=ju(),r=Fe,i=V1(r),i===0)return u;for(r.prec=i,Ot(),e=[t,Fe],s=ju(),o=[u,r,s];(i=V1(Fe))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,u=o.pop(),e.pop(),n=z1(a,u,s),o.push(n);r=Ot(),r.prec=i,o.push(r),e.push(Fe),n=ju(),o.push(n)}for(f=o.length-1,n=o[f],e.pop();f>1;)e.pop(),n=z1(o[f-1].value,o[f-2],n),f-=2;return n}function ji(){var t,e,n;return t=l4(),Ge("?")&&(Ot(),e=ji(),At(":"),n=ji(),t=Q6(t,e,n)),t}function Vh(){const t=ji();if(Ge(","))throw new Error(Fa);return t}function c4(t){te=t,G=0,vt=te.length,Fe=null,O1();const e=Vh();if(Fe.type!==Ca)throw new Error("Unexpect token after expression.");return e}var h4={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function d4(t){function e(s,a,u,f){let l=t(a[0]);return u&&(l=u+"("+l+")",u.lastIndexOf("new ",0)===0&&(l="("+l+")")),l+"."+s+(f<0?"":f===0?"()":"("+a.slice(1).map(t).join(",")+")")}function n(s,a,u){return f=>e(s,f,a,u)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Xe("Missing arguments to clamp function."),s.length>3&&Xe("Too many arguments to clamp function.");const a=s.map(t);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&Xe("Missing arguments to if function."),s.length>3&&Xe("Too many arguments to if function.");const a=s.map(t);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function p4(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function g4(t){t=t||{};const e=t.allowed?vu(t.allowed):{},n=t.forbidden?vu(t.forbidden):{},r=t.constants||h4,i=(t.functions||d4)(c),o=t.globalvar,s=t.fieldvar,a=Pt(o)?o:p=>`${o}["${p}"]`;let u={},f={},l=0;function c(p){if(Ke(p))return p;const b=h[p.type];return b==null&&Xe("Unsupported type: "+p.type),b(p)}const h={Literal:p=>p.raw,Identifier:p=>{const b=p.name;return l>0?b:Ri(n,b)?Xe("Illegal identifier: "+b):Ri(r,b)?r[b]:Ri(e,b)?b:(u[b]=1,a(b))},MemberExpression:p=>{const b=!p.computed,y=c(p.object);b&&(l+=1);const w=c(p.property);return y===s&&(f[p4(w)]=1),b&&(l-=1),y+(b?"."+w:"["+w+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Xe("Illegal callee type: "+p.callee.type);const b=p.callee.name,y=p.arguments,w=Ri(i,b)&&i[b];return w||Xe("Unrecognized function: "+b),Pt(w)?w(y):w+"("+y.map(c).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(c).join(",")+"]",BinaryExpression:p=>"("+c(p.left)+" "+p.operator+" "+c(p.right)+")",UnaryExpression:p=>"("+p.operator+c(p.argument)+")",ConditionalExpression:p=>"("+c(p.test)+"?"+c(p.consequent)+":"+c(p.alternate)+")",LogicalExpression:p=>"("+c(p.left)+p.operator+c(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(c).join(",")+"}",Property:p=>{l+=1;const b=c(p.key);return l-=1,b+":"+c(p.value)}};function d(p){const b={code:c(p),globals:Object.keys(u),fields:Object.keys(f)};return u={},f={},b}return d.functions=i,d.constants=r,d}function jh(t,e={}){const n=g4({forbidden:[],allowed:["datum"],globalvar:"global",fieldvar:"datum"});try{const r=c4(t),i=n(r),o=Function("datum","global",`"use strict"; return (${i.code});`),s=a=>o(a,e);return s.fields=i.fields,s}catch(r){throw new Error(`Invalid expression: ${t}, ${r.message}`)}}function Yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $r(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zh=Symbol("implicit");function Wh(){var t=new Pi,e=[],n=[],r=Zh;function i(o){let s=t.get(o);if(s===void 0){if(r!==Zh)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Pi;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Wh(e,n).unknown(r)},Yn.apply(i,arguments),i}function Vo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ra(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yr(){}var Zi=.7,jo=1/Zi,Zo="\\s*([+-]?\\d+)\\s*",Pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m4=/^#([0-9a-f]{3,8})$/,b4=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),y4=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),w4=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${Pa}\\)$`),x4=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Pa}\\)$`),v4=new RegExp(`^hsl\\(${Pa},${Qn},${Qn}\\)$`),A4=new RegExp(`^hsla\\(${Pa},${Qn},${Qn},${Pa}\\)$`),j1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vo(Yr,Qr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Z1,formatHex:Z1,formatHex8:E4,formatHsl:_4,formatRgb:W1,toString:W1});function Z1(){return this.rgb().formatHex()}function E4(){return this.rgb().formatHex8()}function _4(){return K1(this).formatHsl()}function W1(){return this.rgb().formatRgb()}function Qr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=m4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$1(e):n===3?new ht(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b4.exec(t))?new ht(e[1],e[2],e[3],1):(e=y4.exec(t))?new ht(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=w4.exec(t))?Zu(e[1],e[2],e[3],e[4]):(e=x4.exec(t))?Zu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=v4.exec(t))?X1(e[1],e[2]/100,e[3]/100,1):(e=A4.exec(t))?X1(e[1],e[2]/100,e[3]/100,e[4]):j1.hasOwnProperty(t)?$1(j1[t]):t==="transparent"?new ht(NaN,NaN,NaN,0):null}function $1(t){return new ht(t>>16&255,t>>8&255,t&255,1)}function Zu(t,e,n,r){return r<=0&&(t=e=n=NaN),new ht(t,e,n,r)}function $h(t){return t instanceof Yr||(t=Qr(t)),t?(t=t.rgb(),new ht(t.r,t.g,t.b,t.opacity)):new ht}function Wu(t,e,n,r){return arguments.length===1?$h(t):new ht(t,e,n,r??1)}function ht(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Vo(ht,Wu,Ra(Yr,{brighter(t){return t=t==null?jo:Math.pow(jo,t),new ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zi:Math.pow(Zi,t),new ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ht(Wi(this.r),Wi(this.g),Wi(this.b),$u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y1,formatHex:Y1,formatHex8:S4,formatRgb:Q1,toString:Q1}));function Y1(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function S4(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q1(){const t=$u(this.opacity);return`${t===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${t===1?")":`, ${t})`}`}function $u(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $i(t){return t=Wi(t),(t<16?"0":"")+t.toString(16)}function X1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function K1(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof Yr||(t=Qr(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Bn(s,a,u,t.opacity)}function Yh(t,e,n,r){return arguments.length===1?K1(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Vo(Bn,Yh,Ra(Yr,{brighter(t){return t=t==null?jo:Math.pow(jo,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zi:Math.pow(Zi,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ht(Qh(t>=240?t-240:t+120,i,r),Qh(t,i,r),Qh(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bn(J1(this.h),Yu(this.s),Yu(this.l),$u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$u(this.opacity);return`${t===1?"hsl(":"hsla("}${J1(this.h)}, ${Yu(this.s)*100}%, ${Yu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function J1(t){return t=(t||0)%360,t<0?t+360:t}function Yu(t){return Math.max(0,Math.min(1,t||0))}function Qh(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eb=Math.PI/180,tb=180/Math.PI,Qu=18,nb=.96422,rb=1,ib=.82521,ob=4/29,Wo=6/29,sb=3*Wo*Wo,C4=Wo*Wo*Wo;function ab(t){if(t instanceof Xn)return new Xn(t.l,t.a,t.b,t.opacity);if(t instanceof Ar)return fb(t);t instanceof ht||(t=$h(t));var e=td(t.r),n=td(t.g),r=td(t.b),i=Kh((.2225045*e+.7168786*n+.0606169*r)/rb),o,s;return e===n&&n===r?o=s=i:(o=Kh((.4360747*e+.3850649*n+.1430804*r)/nb),s=Kh((.0139322*e+.0971045*n+.7141733*r)/ib)),new Xn(116*i-16,500*(o-i),200*(i-s),t.opacity)}function Xh(t,e,n,r){return arguments.length===1?ab(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Vo(Xn,Xh,Ra(Yr,{brighter(t){return new Xn(this.l+Qu*(t??1),this.a,this.b,this.opacity)},darker(t){return new Xn(this.l-Qu*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=nb*Jh(e),t=rb*Jh(t),n=ib*Jh(n),new ht(ed(3.1338561*e-1.6168667*t-.4906146*n),ed(-.9787684*e+1.9161415*t+.033454*n),ed(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Kh(t){return t>C4?Math.pow(t,1/3):t/sb+ob}function Jh(t){return t>Wo?t*t*t:sb*(t-ob)}function ed(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function td(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function T4(t){if(t instanceof Ar)return new Ar(t.h,t.c,t.l,t.opacity);if(t instanceof Xn||(t=ab(t)),t.a===0&&t.b===0)return new Ar(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*tb;return new Ar(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function nd(t,e,n,r){return arguments.length===1?T4(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function fb(t){if(isNaN(t.h))return new Xn(t.l,0,0,t.opacity);var e=t.h*eb;return new Xn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Vo(Ar,nd,Ra(Yr,{brighter(t){return new Ar(this.h,this.c,this.l+Qu*(t??1),this.opacity)},darker(t){return new Ar(this.h,this.c,this.l-Qu*(t??1),this.opacity)},rgb(){return fb(this).rgb()}}));var ub=-.14861,rd=1.78277,id=-.29227,Xu=-.90649,Ma=1.97294,lb=Ma*Xu,cb=Ma*rd,hb=rd*id-Xu*ub;function F4(t){if(t instanceof Yi)return new Yi(t.h,t.s,t.l,t.opacity);t instanceof ht||(t=$h(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(hb*r+lb*e-cb*n)/(hb+lb-cb),o=r-i,s=(Ma*(n-i)-id*o)/Xu,a=Math.sqrt(s*s+o*o)/(Ma*i*(1-i)),u=a?Math.atan2(s,o)*tb-120:NaN;return new Yi(u<0?u+360:u,a,i,t.opacity)}function od(t,e,n,r){return arguments.length===1?F4(t):new Yi(t,e,n,r??1)}function Yi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Vo(Yi,od,Ra(Yr,{brighter(t){return t=t==null?jo:Math.pow(jo,t),new Yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zi:Math.pow(Zi,t),new Yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*eb,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ht(255*(e+n*(ub*r+rd*i)),255*(e+n*(id*r+Xu*i)),255*(e+n*(Ma*r)),this.opacity)}}));function db(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function pb(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return db((n-r/e)*e,s,i,o,a)}}function gb(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return db((n-r/e)*e,i,o,s,a)}}const Ku=t=>()=>t;function mb(t,e){return function(n){return t+n*e}}function I4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ju(t,e){var n=e-t;return n?mb(t,n>180||n<-180?n-360*Math.round(n/360):n):Ku(isNaN(t)?e:t)}function D4(t){return(t=+t)==1?dt:function(e,n){return n-e?I4(e,n,t):Ku(isNaN(e)?n:e)}}function dt(t,e){var n=e-t;return n?mb(t,n):Ku(isNaN(t)?e:t)}const sd=function t(e){var n=D4(e);function r(i,o){var s=n((i=Wu(i)).r,(o=Wu(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),f=dt(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=u(l),i.opacity=f(l),i+""}}return r.gamma=t,r}(1);function bb(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Wu(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}var B4=bb(pb),k4=bb(gb);function ad(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function yb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function R4(t,e){return(yb(e)?ad:wb)(t,e)}function wb(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Xr(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function xb(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vb(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var fd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ud=new RegExp(fd.source,"g");function P4(t){return function(){return t}}function M4(t){return function(e){return t(e)+""}}function Ab(t,e){var n=fd.lastIndex=ud.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=fd.exec(t))&&(i=ud.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:kn(r,i)})),n=ud.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?M4(u[0].x):P4(e):(e=u.length,function(f){for(var l=0,c;l<e;++l)a[(c=u[l]).i]=c.x(f);return a.join("")})}function Xr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ku(e):(n==="number"?kn:n==="string"?(r=Qr(e))?(e=r,sd):Ab:e instanceof Qr?sd:e instanceof Date?xb:yb(e)?ad:Array.isArray(e)?wb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vb:kn)(t,e)}function N4(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function L4(t,e){var n=Ju(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Na(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Eb=180/Math.PI,ld={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _b(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Eb,skewX:Math.atan(u)*Eb,scaleX:s,scaleY:a}}var el;function O4(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ld:_b(e.a,e.b,e.c,e.d,e.e,e.f)}function z4(t){return t==null||(el||(el=document.createElementNS("http://www.w3.org/2000/svg","g")),el.setAttribute("transform",t),!(t=el.transform.baseVal.consolidate()))?ld:(t=t.matrix,_b(t.a,t.b,t.c,t.d,t.e,t.f))}function Sb(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,l,c,h,d,p){if(f!==c||l!==h){var b=d.push("translate(",null,e,null,n);p.push({i:b-4,x:kn(f,c)},{i:b-2,x:kn(l,h)})}else(c||h)&&d.push("translate("+c+e+h+n)}function s(f,l,c,h){f!==l?(f-l>180?l+=360:l-f>180&&(f+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:kn(f,l)})):l&&c.push(i(c)+"rotate("+l+r)}function a(f,l,c,h){f!==l?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:kn(f,l)}):l&&c.push(i(c)+"skewX("+l+r)}function u(f,l,c,h,d,p){if(f!==c||l!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:kn(f,c)},{i:b-2,x:kn(l,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(f,l){var c=[],h=[];return f=t(f),l=t(l),o(f.translateX,f.translateY,l.translateX,l.translateY,c,h),s(f.rotate,l.rotate,c,h),a(f.skewX,l.skewX,c,h),u(f.scaleX,f.scaleY,l.scaleX,l.scaleY,c,h),f=l=null,function(d){for(var p=-1,b=h.length,y;++p<b;)c[(y=h[p]).i]=y.x(d);return c.join("")}}}var U4=Sb(O4,"px, ","px)","deg)"),G4=Sb(z4,", ",")",")"),H4=1e-12;function Cb(t){return((t=Math.exp(t))+1/t)/2}function q4(t){return((t=Math.exp(t))-1/t)/2}function V4(t){return((t=Math.exp(2*t))-1)/(t+1)}const j4=function t(e,n,r){function i(o,s){var a=o[0],u=o[1],f=o[2],l=s[0],c=s[1],h=s[2],d=l-a,p=c-u,b=d*d+p*p,y,w;if(b<H4)w=Math.log(h/f)/e,y=function(I){return[a+I*d,u+I*p,f*Math.exp(e*I*w)]};else{var E=Math.sqrt(b),S=(h*h-f*f+r*b)/(2*f*n*E),T=(h*h-f*f-r*b)/(2*h*n*E),D=Math.log(Math.sqrt(S*S+1)-S),B=Math.log(Math.sqrt(T*T+1)-T);w=(B-D)/e,y=function(I){var N=I*w,C=Cb(D),P=f/(n*E)*(C*V4(e*N+D)-q4(D));return[a+P*d,u+P*p,f*C/Cb(e*N+D)]}}return y.duration=w*1e3*e/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);function Tb(t){return function(e,n){var r=t((e=Yh(e)).h,(n=Yh(n)).h),i=dt(e.s,n.s),o=dt(e.l,n.l),s=dt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const Z4=Tb(Ju);var W4=Tb(dt);function $4(t,e){var n=dt((t=Xh(t)).l,(e=Xh(e)).l),r=dt(t.a,e.a),i=dt(t.b,e.b),o=dt(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=o(s),t+""}}function Fb(t){return function(e,n){var r=t((e=nd(e)).h,(n=nd(n)).h),i=dt(e.c,n.c),o=dt(e.l,n.l),s=dt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const Y4=Fb(Ju);var Q4=Fb(dt);function Ib(t){return function e(n){n=+n;function r(i,o){var s=t((i=od(i)).h,(o=od(o)).h),a=dt(i.s,o.s),u=dt(i.l,o.l),f=dt(i.opacity,o.opacity);return function(l){return i.h=s(l),i.s=a(l),i.l=u(Math.pow(l,n)),i.opacity=f(l),i+""}}return r.gamma=e,r}(1)}const X4=Ib(Ju);var K4=Ib(dt);function cd(t,e){e===void 0&&(e=t,t=Xr);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function J4(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const eT=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Xr,interpolateArray:R4,interpolateBasis:pb,interpolateBasisClosed:gb,interpolateCubehelix:X4,interpolateCubehelixLong:K4,interpolateDate:xb,interpolateDiscrete:N4,interpolateHcl:Y4,interpolateHclLong:Q4,interpolateHsl:Z4,interpolateHslLong:W4,interpolateHue:L4,interpolateLab:$4,interpolateNumber:kn,interpolateNumberArray:ad,interpolateObject:vb,interpolateRgb:sd,interpolateRgbBasis:B4,interpolateRgbBasisClosed:k4,interpolateRound:Na,interpolateString:Ab,interpolateTransformCss:U4,interpolateTransformSvg:G4,interpolateZoom:j4,piecewise:cd,quantize:J4},Symbol.toStringTag,{value:"Module"}));function tT(t){return function(){return t}}function hd(t){return+t}var Db=[0,1];function zt(t){return t}function dd(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tT(isNaN(e)?NaN:.5)}function nT(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rT(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=dd(i,r),o=n(s,o)):(r=dd(r,i),o=n(o,s)),function(a){return o(r(a))}}function iT(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=dd(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=Mo(t,a,1,r)-1;return o[u](i[u](a))}}function La(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tl(){var t=Db,e=Db,n=Xr,r,i,o,s=zt,a,u,f;function l(){var h=Math.min(t.length,e.length);return s!==zt&&(s=nT(t[0],t[h-1])),a=h>2?iT:rT,u=f=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),e,n)))(r(s(h)))}return c.invert=function(h){return s(i((f||(f=a(e,t.map(r),kn)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,hd),l()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=Na,l()},c.clamp=function(h){return arguments.length?(s=h?!0:zt,l()):s!==zt},c.interpolate=function(h){return arguments.length?(n=h,l()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,l()}}function Bb(){return tl()(zt,zt)}function kb(t,e,n,r){var i=Mi(t,e,n),o;switch(r=Hr(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Lm(i,s))&&(r.precision=o),dh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Om(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nm(i))&&(r.precision=o-(r.type==="%")*2);break}}return gt(r)}function Qi(t){var e=t.domain;return t.ticks=function(n){var r=e();return _u(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kb(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,f,l=10;for(a<s&&(f=s,s=a,a=f,f=i,i=o,o=f);l-- >0;){if(f=Fm(s,a,n),f===u)return r[i]=s,r[o]=a,e(r);if(f>0)s=Math.floor(s/f)*f,a=Math.ceil(a/f)*f;else if(f<0)s=Math.ceil(s*f)/f,a=Math.floor(a*f)/f;else break;u=f}return t},t}function Rb(){var t=Bb();return t.copy=function(){return La(t,Rb())},Yn.apply(t,arguments),Qi(t)}function Pb(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Pb(t).unknown(e)},t=arguments.length?Array.from(t,hd):[0,1],Qi(n)}function Mb(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Nb(t){return Math.log(t)}function Lb(t){return Math.exp(t)}function oT(t){return-Math.log(-t)}function sT(t){return-Math.exp(-t)}function aT(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fT(t){return t===10?aT:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uT(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ob(t){return(e,n)=>-t(-e,n)}function pd(t){const e=t(Nb,Lb),n=e.domain;let r=10,i,o;function s(){return i=uT(r),o=fT(r),n()[0]<0?(i=Ob(i),o=Ob(o),t(oT,sT)):t(Nb,Lb),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const u=n();let f=u[0],l=u[u.length-1];const c=l<f;c&&([f,l]=[l,f]);let h=i(f),d=i(l),p,b;const y=a==null?10:+a;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),f>0){for(;h<=d;++h)for(p=1;p<r;++p)if(b=h<0?p/o(-h):p*o(h),!(b<f)){if(b>l)break;w.push(b)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(b=h>0?p/o(-h):p*o(h),!(b<f)){if(b>l)break;w.push(b)}w.length*2<y&&(w=_u(f,l,y))}else w=_u(h,d,Math.min(d-h,y)).map(o);return c?w.reverse():w},e.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Hr(u)).precision==null&&(u.trim=!0),u=gt(u)),a===1/0)return u;const f=Math.max(1,r*a/e.ticks().length);return l=>{let c=l/o(Math.round(i(l)));return c*r<r-.5&&(c*=r),c<=f?u(l):""}},e.nice=()=>n(Mb(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function gd(){const t=pd(tl()).domain([1,10]);return t.copy=()=>La(t,gd()).base(t.base()),Yn.apply(t,arguments),t}function zb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ub(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function md(t){var e=1,n=t(zb(e),Ub(e));return n.constant=function(r){return arguments.length?t(zb(e=+r),Ub(e)):e},Qi(n)}function Gb(){var t=md(tl());return t.copy=function(){return La(t,Gb()).constant(t.constant())},Yn.apply(t,arguments)}function Hb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lT(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cT(t){return t<0?-t*t:t*t}function bd(t){var e=t(zt,zt),n=1;function r(){return n===1?t(zt,zt):n===.5?t(lT,cT):t(Hb(n),Hb(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Qi(e)}function yd(){var t=bd(tl());return t.copy=function(){return La(t,yd()).exponent(t.exponent())},Yn.apply(t,arguments),t}function hT(){return yd.apply(null,arguments).exponent(.5)}function qb(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Im(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Mo(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(oa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qb().domain(t).range(e).unknown(r)},Yn.apply(o,arguments)}function Vb(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[Mo(r,u,0,n)]:o}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,a()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Vb().domain([t,e]).range(i).unknown(o)},Yn.apply(Qi(s),arguments)}function jb(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Mo(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return jb().domain(t).range(e).unknown(n)},Yn.apply(i,arguments)}function dT(t){return new Date(t)}function pT(t){return t instanceof Date?+t:+new Date(+t)}function wd(t,e,n,r,i,o,s,a,u,f){var l=Bb(),c=l.invert,h=l.domain,d=f(".%L"),p=f(":%S"),b=f("%I:%M"),y=f("%I %p"),w=f("%a %d"),E=f("%b %d"),S=f("%B"),T=f("%Y");function D(B){return(u(B)<B?d:a(B)<B?p:s(B)<B?b:o(B)<B?y:r(B)<B?i(B)<B?w:E:n(B)<B?S:T)(B)}return l.invert=function(B){return new Date(c(B))},l.domain=function(B){return arguments.length?h(Array.from(B,pT)):h().map(dT)},l.ticks=function(B){var I=h();return t(I[0],I[I.length-1],B??10)},l.tickFormat=function(B,I){return I==null?D:f(I)},l.nice=function(B){var I=h();return(!B||typeof B.range!="function")&&(B=e(I[0],I[I.length-1],B??10)),B?h(Mb(I,B)):l},l.copy=function(){return La(l,wd(t,e,n,r,i,o,s,a,u,f))},l}function gT(){return Yn.apply(wd(uC,lC,Vr,Du,aa,Li,xh,wh,qr,Fh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mT(){return Yn.apply(wd(aC,fC,jr,ku,fa,zi,Eh,Ah,qr,Ih).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nl(){var t=0,e=1,n,r,i,o,s=zt,a=!1,u;function f(c){return c==null||isNaN(c=+c)?u:s(i===0?.5:(c=(o(c)-n)*i,a?Math.max(0,Math.min(1,c)):c))}f.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(c){return arguments.length?(a=!!c,f):a},f.interpolator=function(c){return arguments.length?(s=c,f):s};function l(c){return function(h){var d,p;return arguments.length?([d,p]=h,s=c(d,p),f):[s(0),s(1)]}}return f.range=l(Xr),f.rangeRound=l(Na),f.unknown=function(c){return arguments.length?(u=c,f):u},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),f}}function Kr(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xd(){var t=Qi(nl()(zt));return t.copy=function(){return Kr(t,xd())},$r.apply(t,arguments)}function Zb(){var t=pd(nl()).domain([1,10]);return t.copy=function(){return Kr(t,Zb()).base(t.base())},$r.apply(t,arguments)}function Wb(){var t=md(nl());return t.copy=function(){return Kr(t,Wb()).constant(t.constant())},$r.apply(t,arguments)}function vd(){var t=bd(nl());return t.copy=function(){return Kr(t,vd()).exponent(t.exponent())},$r.apply(t,arguments)}function bT(){return vd.apply(null,arguments).exponent(.5)}function rl(){var t=0,e=.5,n=1,r=1,i,o,s,a,u,f=zt,l,c=!1,h;function d(b){return isNaN(b=+b)?h:(b=.5+((b=+l(b))-o)*(r*b<r*o?a:u),f(c?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([t,e,n]=b,i=l(t=+t),o=l(e=+e),s=l(n=+n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(b){return arguments.length?(c=!!b,d):c},d.interpolator=function(b){return arguments.length?(f=b,d):f};function p(b){return function(y){var w,E,S;return arguments.length?([w,E,S]=y,f=cd(b,[w,E,S]),d):[f(0),f(.5),f(1)]}}return d.range=p(Xr),d.rangeRound=p(Na),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return l=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,d}}function $b(){var t=Qi(rl()(zt));return t.copy=function(){return Kr(t,$b())},$r.apply(t,arguments)}function Yb(){var t=pd(rl()).domain([.1,1,10]);return t.copy=function(){return Kr(t,Yb()).base(t.base())},$r.apply(t,arguments)}function Qb(){var t=md(rl());return t.copy=function(){return Kr(t,Qb()).constant(t.constant())},$r.apply(t,arguments)}function Ad(){var t=bd(rl());return t.copy=function(){return Kr(t,Ad()).exponent(t.exponent())},$r.apply(t,arguments)}function yT(){return Ad.apply(null,arguments).exponent(.5)}function Ed(t,e,n){const r=t-e+n*2;return t?r>0?r:1:0}const wT="identity",$o="linear",Jr="log",Oa="pow",za="sqrt",il="symlog",Xb="time",Kb="utc",Kn="sequential",Yo="diverging",_d="quantile",Jb="quantize",ey="threshold",Sd="ordinal",Cd="point",ty="band",Td="bin-ordinal",st="continuous",Ua="discrete",Ga="discretizing",an="interpolating",ny="temporal";function xT(t){return function(e){let n=e[0],r=e[1],i;return r<n&&(i=n,n=r,r=i),[t.invert(n),t.invert(r)]}}function vT(t){return function(e){const n=t.range();let r=e[0],i=e[1],o=-1,s,a,u,f;for(i<r&&(a=r,r=i,i=a),u=0,f=n.length;u<f;++u)n[u]>=r&&n[u]<=i&&(o<0&&(o=u),s=u);if(!(o<0))return r=t.invertExtent(n[o]),i=t.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Fd(){const t=Wh().unknown(void 0),e=t.domain,n=t.range;let r=[0,1],i,o,s=!1,a=0,u=0,f=.5;delete t.unknown;function l(){const c=e().length,h=r[1]<r[0],d=r[1-h],p=Ed(c,a,u);let b=r[h-0];i=(d-b)/(p||1),s&&(i=Math.floor(i)),b+=(d-b-i*(c-a))*f,o=i*(1-a),s&&(b=Math.round(b),o=Math.round(o));const y=sa(c).map(w=>b+i*w);return n(h?y.reverse():y)}return t.domain=function(c){return arguments.length?(e(c),l()):e()},t.range=function(c){return arguments.length?(r=[+c[0],+c[1]],l()):r.slice()},t.rangeRound=function(c){return r=[+c[0],+c[1]],s=!0,l()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(c){return arguments.length?(s=!!c,l()):s},t.padding=function(c){return arguments.length?(u=Math.max(0,Math.min(1,c)),a=u,l()):a},t.paddingInner=function(c){return arguments.length?(a=Math.max(0,Math.min(1,c)),l()):a},t.paddingOuter=function(c){return arguments.length?(u=Math.max(0,Math.min(1,c)),l()):u},t.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),l()):f},t.invertRange=function(c){if(c[0]==null||c[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let b=+c[0],y=+c[1],w,E,S;if(!(b!==b||y!==y)&&(y<b&&(S=b,b=y,y=S),!(y<d[0]||b>r[1-h])))return w=Math.max(0,ah(d,b)-1),E=b===y?w:ah(d,y)-1,b-d[w]>o+1e-10&&++w,h&&(S=w,w=p-E,E=p-S),w>E?void 0:e().slice(w,E+1)},t.invert=function(c){const h=t.invertRange([c,c]);return h&&h[0]},t.copy=function(){return Fd().domain(e()).range(r).round(s).paddingInner(a).paddingOuter(u).align(f)},l()}function ry(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return ry(e())},t}function AT(){return ry(Fd().paddingInner(1))}var ET=Array.prototype.map;function _T(t){return ET.call(t,ra)}const ST=Array.prototype.slice;function iy(){let t=[],e=[];function n(r){return r==null||r!==r?void 0:e[(Mo(t,r)-1)%e.length]}return n.domain=function(r){return arguments.length?(t=_T(r),n):t.slice()},n.range=function(r){return arguments.length?(e=ST.call(r),n):e.slice()},n.tickFormat=function(r,i){return kb(t[0],Fn(t),r??10,i)},n.copy=function(){return iy().domain(n.domain()).range(n.range())},n}const ol={};function CT(t,e,n){const r=function(){const o=e();return o.invertRange||(o.invertRange=o.invert?xT(o):o.invertExtent?vT(o):void 0),o.type=t,o};return r.metadata=vu(nh(n)),r}function Ce(t,e,n){return arguments.length>1?(ol[t]=CT(t,e,n),this):TT(t)?ol[t]:void 0}Ce(wT,Pb),Ce($o,Rb,st),Ce(Jr,gd,[st,Jr]),Ce(Oa,yd,st),Ce(za,hT,st),Ce(il,Gb,st),Ce(Xb,gT,[st,ny]),Ce(Kb,mT,[st,ny]),Ce(Kn,xd,[st,an]),Ce("".concat(Kn,"-").concat($o),xd,[st,an]),Ce("".concat(Kn,"-").concat(Jr),Zb,[st,an,Jr]),Ce("".concat(Kn,"-").concat(Oa),vd,[st,an]),Ce("".concat(Kn,"-").concat(za),bT,[st,an]),Ce("".concat(Kn,"-").concat(il),Wb,[st,an]),Ce("".concat(Yo,"-").concat($o),$b,[st,an]),Ce("".concat(Yo,"-").concat(Jr),Yb,[st,an,Jr]),Ce("".concat(Yo,"-").concat(Oa),Ad,[st,an]),Ce("".concat(Yo,"-").concat(za),yT,[st,an]),Ce("".concat(Yo,"-").concat(il),Qb,[st,an]),Ce(_d,qb,[Ga,_d]),Ce(Jb,Vb,Ga),Ce(ey,jb,Ga),Ce(Td,iy,[Ua,Ga]),Ce(Sd,Wh,Ua),Ce(ty,Fd,Ua),Ce(Cd,AT,Ua);function TT(t){return Ri(ol,t)}function Ha(t,e){const n=ol[t];return n&&n.metadata[e]}function Et(t){return Ha(t,st)}function ei(t){return Ha(t,Ua)}function Qo(t){return Ha(t,Ga)}function oy(t){return Ha(t,Jr)}function sl(t){return Ha(t,an)}function FT(t,e){const n=e[0],r=Fn(e)-n;return function(i){return t(n+i*r)}}function al(t,e,n){return cd(sy(e||"rgb",n),t)}function IT(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function sy(t,e){const n=eT[DT(t)];return e!=null&&n&&n.gamma?n.gamma(e):n}function DT(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const BT={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},kT={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function ay(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}function fy(t,e){for(const n in t)Id(n,e(t[n]))}const uy={};fy(kT,ay),fy(BT,t=>al(ay(t)));function Id(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(uy[t]=e,this):uy[t]}function RT(){let t=0;const e=new Map,n=r=>{let i=e.get(r);return i===void 0&&(i=t++,e.set(r,i)),i};return n.addAll=r=>{for(const i of r)n(i)},n.invert=r=>{for(const i of e.entries())if(i[1]==r)return i[0]},n.domain=()=>[...e.keys()],n}function fl(){const t=e=>e;return t.invert=e=>e,t.copy=fl,t.invertRange=()=>{},t.type="null",t}function PT(t,e){const n={};e||(e=t.encoding);for(const[r,i]of Object.entries(e)){if(!i)continue;const o=((fn(i)&&i.resolutionChannel)??(Ji(r)&&r))||void 0,s=t.unitView.getScaleResolution(o);n[r]=MT(e[r],s==null?void 0:s.getScale(),t.unitView.getAccessor(r),r)}return n}function MT(t,e,n,r){let i;if(Rn(t)){const o=t.value;i=s=>o,i.constant=!0,i.constantValue=!0,i.accessor=void 0}else if(n)if(r=="text")i=o=>{},i.accessor=n,i.constant=n.constant;else{if(!e)if(!Ji(r))e=fl();else throw new Error(`Missing scale! "${r}": ${JSON.stringify(t)}`);if(i=o=>e(n(o)),ei(e.type)){const o=RT();o.addAll(e.domain()),i.indexer=o}i.constant=n.constant,i.accessor=n,i.scale=e}else throw new Error(`Missing value or accessor (field, expr, datum) on channel "${r}": ${JSON.stringify(t)}`);return i.invert=e?o=>e.invert(o):o=>{throw new Error("No scale available, cannot invert: "+JSON.stringify(t))},i.channelDef=t,i.applyMetadata=o=>{for(const s in i)s in i&&(o[s]=i[s]);return o},i}function Rn(t){return t&&"value"in t}function qa(t){return t&&"field"in t}function Va(t){return t&&"datum"in t}function fn(t){return qa(t)||Va(t)||Bd(t)||ly(t)}function Dd(t,e){const n=t.mark.encoding[e];if(fn(n))return n;throw new Error("Not a channel def with scale!")}function ly(t){return t&&"chrom"in t}function Bd(t){return t&&"expr"in t}const Xo=["x","y"],NT=["x2","y2"],LT=[...Xo,...NT];function cy(t){return Xo.includes(t)}function ja(t){return LT.includes(t)}const kd={x:"x2",y:"y2"},hy=Object.fromEntries(Object.entries(kd).map(t=>[t[1],t[0]]));function Za(t){return t in hy}function OT(t){const e=kd[t];if(e)return e;throw new Error(`${t} has no secondary channel!`)}function Xi(t){return hy[t]??t}function Ki(t){return["color","fill","stroke"].includes(Xi(t))}function ul(t){return["shape","squeeze"].includes(t)}function Ji(t){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(t)}function dy(t){switch(t){case"shape":return["circle","square","triangle-up","cross","diamond","triangle-down","triangle-right","triangle-left"]}}function py(t){if(!ul(t))throw new Error("Not a discrete channel: "+t);const e=new Map(dy(t).map((n,r)=>[n,r]));return n=>{const r=e.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${t}" channel: ${n}`)}}function Re(t,e=t){if(/^[A-Za-z0-9_]+$/.test(t)){const n=new Function("datum",`return datum[${JSON.stringify(t)}]`);return de(n,[t],e)}else return pu(t)}class zT{constructor(){this.accessorCreators=[],this.register(e=>{if(qa(e))try{const n=Re(e.field);return n.constant=!1,n.fields=ki(n),n}catch(n){throw new Error(`Invalid field definition: ${n.message}`)}}),this.register(e=>Bd(e)?UT(e.expr):void 0),this.register(e=>{if(Va(e)){const r=mS(e.datum);return r.constant=!0,r.fields=[],r}})}register(e){this.accessorCreators.push(e)}createAccessor(e){for(const n of this.accessorCreators){const r=n(e);if(r)return r}}}function UT(t){const e=jh(t);return e.constant=e.fields.length==0,e}/* @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Rd=5120,Wa=5121,Pd=5122,Md=5123,Nd=5124,Ld=5125,Od=5126,GT=32819,HT=32820,qT=33635,VT=5131,jT=33640,ZT=35899,WT=35902,$T=36269,YT=34042,gy={};{const t=gy;t[Rd]=Int8Array,t[Wa]=Uint8Array,t[Pd]=Int16Array,t[Md]=Uint16Array,t[Nd]=Int32Array,t[Ld]=Uint32Array,t[Od]=Float32Array,t[GT]=Uint16Array,t[HT]=Uint16Array,t[qT]=Uint16Array,t[VT]=Uint16Array,t[jT]=Uint32Array,t[ZT]=Uint32Array,t[WT]=Uint32Array,t[$T]=Uint32Array,t[YT]=Uint32Array}function zd(t){if(t instanceof Int8Array)return Rd;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return Wa;if(t instanceof Int16Array)return Pd;if(t instanceof Uint16Array)return Md;if(t instanceof Int32Array)return Nd;if(t instanceof Uint32Array)return Ld;if(t instanceof Float32Array)return Od;throw new Error("unsupported typed array type")}function QT(t){if(t===Int8Array)return Rd;if(t===Uint8Array||t===Uint8ClampedArray)return Wa;if(t===Int16Array)return Pd;if(t===Uint16Array)return Md;if(t===Int32Array)return Nd;if(t===Uint32Array)return Ld;if(t===Float32Array)return Od;throw new Error("unsupported typed array type")}function XT(t){const e=gy[t];if(!e)throw new Error("unknown gl type");return e}const ll=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function KT(...t){console.error(...t)}function my(...t){console.warn(...t)}function JT(t,e){return typeof WebGLBuffer<"u"&&e instanceof WebGLBuffer}function by(t,e){return typeof WebGLRenderbuffer<"u"&&e instanceof WebGLRenderbuffer}function cl(t,e){return typeof WebGLTexture<"u"&&e instanceof WebGLTexture}function eF(t,e){return typeof WebGLSampler<"u"&&e instanceof WebGLSampler}const yy=35044,Jn=34962,tF=34963,nF=34660,rF=5120,iF=5121,oF=5122,sF=5123,aF=5124,fF=5125,uF=5126,wy={attribPrefix:""};function xy(t,e,n,r,i){t.bindBuffer(e,n),t.bufferData(e,r,i||yy)}function vy(t,e,n,r){if(JT(t,e))return e;n=n||Jn;const i=t.createBuffer();return xy(t,n,i,e,r),i}function Ay(t){return t==="indices"}function lF(t){return t instanceof Int8Array||t instanceof Uint8Array}function cF(t){return t===Int8Array||t===Uint8Array}function hF(t){return t.length?t:t.data}const dF=/coord|texture/i,pF=/color|colour/i;function Ey(t,e){let n;if(dF.test(t)?n=2:pF.test(t)?n=4:n=3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function gF(t,e){return t.numComponents||t.size||Ey(e,hF(t).length)}function Ud(t,e){if(ll(t))return t;if(ll(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(Ay(e)?n=Uint16Array:n=Float32Array),new n(t.data)}function mF(t,e){const n={};return Object.keys(e).forEach(function(r){if(!Ay(r)){const i=e[r],o=i.attrib||i.name||i.attribName||wy.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!ll(i.value))throw new Error("array.value is not array or typedarray");n[o]={value:i.value}}else{let s,a,u,f;if(i.buffer&&i.buffer instanceof WebGLBuffer)s=i.buffer,f=i.numComponents||i.size,a=i.type,u=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const l=i.data||i,c=i.type||Float32Array,h=l*c.BYTES_PER_ELEMENT;a=QT(c),u=i.normalize!==void 0?i.normalize:cF(c),f=i.numComponents||i.size||Ey(r,l),s=t.createBuffer(),t.bindBuffer(Jn,s),t.bufferData(Jn,h,i.drawType||yy)}else{const l=Ud(i,r);s=vy(t,l,void 0,i.drawType),a=zd(l),u=i.normalize!==void 0?i.normalize:lF(l),f=gF(i,r)}n[o]={buffer:s,numComponents:f,type:a,normalize:u,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),t.bindBuffer(Jn,null),n}function bF(t,e,n,r){n=Ud(n),r!==void 0?(t.bindBuffer(Jn,e.buffer),t.bufferSubData(Jn,r,n)):xy(t,Jn,e.buffer,n,e.drawType)}function yF(t,e){return e===rF||e===iF?1:e===oF||e===sF?2:e===aF||e===fF||e===uF?4:0}const Gd=["position","positions","a_position"];function wF(t,e){let n,r;for(r=0;r<Gd.length&&(n=Gd[r],!(n in e||(n=wy.attribPrefix+n,n in e)));++r);r===Gd.length&&(n=Object.keys(e)[0]);const i=e[n];t.bindBuffer(Jn,i.buffer);const o=t.getBufferParameter(Jn,nF);t.bindBuffer(Jn,null);const s=yF(t,i.type),a=o/s,u=i.numComponents||i.size,f=a/u;if(f%1!==0)throw new Error(`numComponents ${u} not correct for length ${length}`);return f}function xF(t,e,n){const r=mF(t,e),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const o=e.indices;if(o){const s=Ud(o,"indices");i.indices=vy(t,s,tF),i.numElements=s.length,i.elementType=zd(s)}else i.numElements||(i.numElements=wF(t,i.attribs));return i}function Ko(t){return!!t.texStorage2D}const Hd=function(){const t={},e={};function n(r){const i=r.constructor.name;if(!t[i]){for(const o in r)if(typeof r[o]=="number"){const s=e[r[o]];e[r[o]]=s?`${s} | ${o}`:o}t[i]=!0}}return function(i,o){return n(i),e[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}}(),ti={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Jo=ll,_y=function(){let t;return function(){return t=t||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),Sy=6406,er=6407,Ve=6408,Cy=6409,Ty=6410,$a=6402,Fy=34041,hl=33071,vF=9728,AF=9729,Er=3553,_r=34067,ni=32879,ri=35866,dl=34069,EF=34070,_F=34071,SF=34072,CF=34073,TF=34074,qd=10241,Vd=10240,pl=10242,gl=10243,Iy=32882,FF=33082,IF=33083,DF=33084,BF=33085,jd=3317,Dy=3314,By=32878,ky=3316,Ry=3315,Py=32877,kF=37443,RF=37441,PF=37440,MF=33321,NF=36756,LF=33325,OF=33326,zF=33330,UF=33329,GF=33338,HF=33337,qF=33340,VF=33339,jF=33323,ZF=36757,WF=33327,$F=33328,YF=33336,QF=33335,XF=33332,KF=33331,JF=33334,eI=33333,tI=32849,nI=35905,rI=36194,iI=36758,oI=35898,sI=35901,aI=34843,fI=34837,uI=36221,lI=36239,cI=36215,hI=36233,dI=36209,pI=36227,gI=32856,mI=35907,bI=36759,yI=32855,wI=32854,xI=32857,vI=34842,AI=34836,EI=36220,_I=36238,SI=36975,CI=36214,TI=36232,FI=36226,II=36208,DI=33189,BI=33190,kI=36012,RI=36013,PI=35056,ii=5120,je=5121,ml=5122,es=5123,bl=5124,eo=5125,_t=5126,My=32819,Ny=32820,Ly=33635,Pn=5131,Ya=36193,Zd=33640,MI=35899,NI=35902,LI=36269,OI=34042,yl=33319,ts=33320,wl=6403,ns=36244,rs=36248,to=36249;let Wd;function xl(t){if(!Wd){const e={};e[Sy]={textureFormat:Sy,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[je,Pn,Ya,_t]},e[Cy]={textureFormat:Cy,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[je,Pn,Ya,_t]},e[Ty]={textureFormat:Ty,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[je,Pn,Ya,_t]},e[er]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[je,Pn,Ya,_t,Ly]},e[Ve]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[je,Pn,Ya,_t,My,Ny]},e[$a]={textureFormat:$a,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[eo,es]},e[MF]={textureFormat:wl,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[je]},e[NF]={textureFormat:wl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[ii]},e[LF]={textureFormat:wl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[_t,Pn]},e[OF]={textureFormat:wl,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[_t]},e[zF]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[je]},e[UF]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[ii]},e[XF]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[es]},e[KF]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[ml]},e[JF]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[eo]},e[eI]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bl]},e[jF]={textureFormat:yl,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[je]},e[ZF]={textureFormat:yl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[ii]},e[WF]={textureFormat:yl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[_t,Pn]},e[$F]={textureFormat:yl,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[_t]},e[YF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[je]},e[QF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[ii]},e[GF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[es]},e[HF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ml]},e[qF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[eo]},e[VF]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[bl]},e[tI]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[je]},e[nI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[je]},e[rI]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[je,Ly]},e[iI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[ii]},e[oI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Pn,MI]},e[sI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Pn,NI]},e[aI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[_t,Pn]},e[fI]={textureFormat:er,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_t]},e[uI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[je]},e[lI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[ii]},e[cI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[es]},e[hI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[ml]},e[dI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[eo]},e[pI]={textureFormat:rs,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[bl]},e[gI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[je]},e[mI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[je]},e[bI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[ii]},e[yI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[je,Ny,Zd]},e[wI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[je,My]},e[xI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Zd]},e[vI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[_t,Pn]},e[AI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[_t]},e[EI]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[je]},e[_I]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ii]},e[SI]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zd]},e[CI]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[es]},e[TI]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ml]},e[FI]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[bl]},e[II]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[eo]},e[DI]={textureFormat:$a,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[es,eo]},e[BI]={textureFormat:$a,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[eo]},e[kI]={textureFormat:$a,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_t]},e[PI]={textureFormat:Fy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[OI]},e[RI]={textureFormat:Fy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[LI]},Object.keys(e).forEach(function(n){const r=e[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,o){const s=r.type[o];r.bytesPerElementMap[s]=i})}),Wd=e}return Wd[t]}function zI(t,e){const n=xl(t);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[e];if(r===void 0)throw"unknown internal format";return r}function is(t){const e=xl(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function Oy(t){return(t&t-1)===0}function UI(t,e,n,r){if(!Ko(t))return Oy(e)&&Oy(n);const i=xl(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function GI(t){const e=xl(t);if(!e)throw"unknown internal format";return e.textureFilterable}function zy(t,e,n){return Jo(e)?zd(e):n||je}function vl(t,e,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const o=Math.sqrt(i/(e===_r?6:1));o%1===0?(n=o,r=o):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function os(t,e){e.colorspaceConversion!==void 0&&t.pixelStorei(kF,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&t.pixelStorei(RF,e.premultiplyAlpha),e.flipY!==void 0&&t.pixelStorei(PF,e.flipY)}function Uy(t){t.pixelStorei(jd,4),Ko(t)&&(t.pixelStorei(Dy,0),t.pixelStorei(By,0),t.pixelStorei(ky,0),t.pixelStorei(Ry,0),t.pixelStorei(Py,0))}function HI(t,e,n,r){r.minMag&&(n.call(t,e,qd,r.minMag),n.call(t,e,Vd,r.minMag)),r.min&&n.call(t,e,qd,r.min),r.mag&&n.call(t,e,Vd,r.mag),r.wrap&&(n.call(t,e,pl,r.wrap),n.call(t,e,gl,r.wrap),(e===ni||eF(t,e))&&n.call(t,e,Iy,r.wrap)),r.wrapR&&n.call(t,e,Iy,r.wrapR),r.wrapS&&n.call(t,e,pl,r.wrapS),r.wrapT&&n.call(t,e,gl,r.wrapT),r.minLod&&n.call(t,e,FF,r.minLod),r.maxLod&&n.call(t,e,IF,r.maxLod),r.baseLevel&&n.call(t,e,DF,r.baseLevel),r.maxLevel&&n.call(t,e,BF,r.maxLevel)}function Gy(t,e,n){const r=n.target||Er;t.bindTexture(r,e),HI(t,r,t.texParameteri,n)}function qI(t){return t=t||ti.textureColor,Jo(t)?t:new Uint8Array([t[0]*255,t[1]*255,t[2]*255,t[3]*255])}function $d(t,e,n,r,i,o){n=n||ti.textureOptions,o=o||Ve;const s=n.target||Er;if(r=r||n.width,i=i||n.height,t.bindTexture(s,e),UI(t,r,i,o))t.generateMipmap(s);else{const a=GI(o)?AF:vF;t.texParameteri(s,qd,a),t.texParameteri(s,Vd,a),t.texParameteri(s,pl,hl),t.texParameteri(s,gl,hl)}}function Qa(t){return t.auto===!0||t.auto===void 0&&t.level===void 0}function Yd(t,e){return e=e||{},e.cubeFaceOrder||[dl,EF,_F,SF,CF,TF]}function Qd(t,e){const r=Yd(t,e).map(function(i,o){return{face:i,ndx:o}});return r.sort(function(i,o){return i.face-o.face}),r}function Hy(t,e,n,r){r=r||ti.textureOptions;const i=r.target||Er,o=r.level||0;let s=n.width,a=n.height;const u=r.internalFormat||r.format||Ve,f=is(u),l=r.format||f.format,c=r.type||f.type;if(os(t,r),t.bindTexture(i,e),i===_r){const h=n.width,d=n.height;let p,b;if(h/6===d)p=d,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,b=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const y=_y();y?(y.canvas.width=p,y.canvas.height=p,s=p,a=p,Qd(t,r).forEach(function(w){const E=b[w.ndx*2+0]*p,S=b[w.ndx*2+1]*p;y.drawImage(n,E,S,p,p,0,0,p,p),t.texImage2D(w.face,o,u,l,c,y.canvas)}),y.canvas.width=1,y.canvas.height=1):typeof createImageBitmap<"u"&&(s=p,a=p,Qd(t,r).forEach(function(w){const E=b[w.ndx*2+0]*p,S=b[w.ndx*2+1]*p;t.texImage2D(w.face,o,u,p,p,0,l,c,null),createImageBitmap(n,E,S,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(T){os(t,r),t.bindTexture(i,e),t.texImage2D(w.face,o,u,l,c,T),Qa(r)&&$d(t,e,r,s,a,u)})}))}else if(i===ni||i===ri){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const b=n.width===d?1:0,y=n.height===d?1:0;t.pixelStorei(jd,1),t.pixelStorei(Dy,n.width),t.pixelStorei(By,0),t.pixelStorei(Py,0),t.texImage3D(i,o,u,h,h,h,0,l,c,null);for(let w=0;w<p;++w){const E=w*h*b,S=w*h*y;t.pixelStorei(ky,E),t.pixelStorei(Ry,S),t.texSubImage3D(i,o,0,0,w,h,h,1,l,c,n)}Uy(t)}else t.texImage2D(i,o,u,l,c,n);Qa(r)&&$d(t,e,r,s,a,u),Gy(t,e,r)}function Xa(){}function VI(t){if(typeof document<"u"){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}function jI(t,e){return e===void 0&&!VI(t)?"anonymous":e}function ZI(t,e,n){n=n||Xa;let r;if(e=e!==void 0?e:ti.crossOrigin,e=jI(t,e),typeof Image<"u"){r=new Image,e!==void 0&&(r.crossOrigin=e);const i=function(){r.removeEventListener("error",o),r.removeEventListener("load",s),r=null},o=function(){const u="couldn't load image: "+t;KT(u),n(u,r),i()},s=function(){n(null,r),i()};return r.addEventListener("error",o),r.addEventListener("load",s),r.src=t,r}else if(typeof ImageBitmap<"u"){let i,o;const s=function(){n(i,o)},a={};e&&(a.mode="cors"),fetch(t,a).then(function(u){if(!u.ok)throw u;return u.blob()}).then(function(u){return createImageBitmap(u,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(u){o=u,setTimeout(s)}).catch(function(u){i=u,setTimeout(s)}),r=null}return r}function qy(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof ImageData<"u"&&t instanceof ImageData||typeof HTMLElement<"u"&&t instanceof HTMLElement}function Xd(t,e,n){return qy(t)?(setTimeout(function(){n(null,t)}),t):ZI(t,e,n)}function Kd(t,e,n){n=n||ti.textureOptions;const r=n.target||Er;if(t.bindTexture(r,e),n.color===!1)return;const i=qI(n.color);if(r===_r)for(let o=0;o<6;++o)t.texImage2D(dl+o,0,Ve,1,1,0,Ve,je,i);else r===ni||r===ri?t.texImage3D(r,0,Ve,1,1,1,0,Ve,je,i):t.texImage2D(r,0,Ve,1,1,0,Ve,je,i)}function WI(t,e,n,r){return r=r||Xa,n=n||ti.textureOptions,Kd(t,e,n),n=Object.assign({},n),Xd(n.src,n.crossOrigin,function(o,s){o?r(o,e,s):(Hy(t,e,s,n),r(null,e,s))})}function $I(t,e,n,r){r=r||Xa;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const o=n.level||0,s=n.internalFormat||n.format||Ve,a=is(s),u=n.format||a.format,f=n.type||je,l=n.target||Er;if(l!==_r)throw"target must be TEXTURE_CUBE_MAP";Kd(t,e,n),n=Object.assign({},n);let c=6;const h=[],d=Yd(t,n);let p;function b(y){return function(w,E){--c,w?h.push(w):E.width!==E.height?h.push("cubemap face img is not a square: "+E.src):(os(t,n),t.bindTexture(l,e),c===5?Yd().forEach(function(S){t.texImage2D(S,o,s,u,f,E)}):t.texImage2D(y,o,s,u,f,E),Qa(n)&&t.generateMipmap(l)),c===0&&r(h.length?h:void 0,e,p)}}p=i.map(function(y,w){return Xd(y,n.crossOrigin,b(d[w]))})}function YI(t,e,n,r){r=r||Xa;const i=n.src,o=n.internalFormat||n.format||Ve,s=is(o),a=n.format||s.format,u=n.type||je,f=n.target||ri;if(f!==ni&&f!==ri)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Kd(t,e,n),n=Object.assign({},n);let l=i.length;const c=[];let h;const d=n.level||0;let p=n.width,b=n.height;const y=i.length;let w=!0;function E(S){return function(T,D){if(--l,T)c.push(T);else{if(os(t,n),t.bindTexture(f,e),w){w=!1,p=n.width||D.width,b=n.height||D.height,t.texImage3D(f,d,o,p,b,y,0,a,u,null);for(let B=0;B<y;++B)t.texSubImage3D(f,d,0,0,B,p,b,1,a,u,D)}else{let B=D,I;(D.width!==p||D.height!==b)&&(I=_y(),B=I.canvas,I.canvas.width=p,I.canvas.height=b,I.drawImage(D,0,0,p,b)),t.texSubImage3D(f,d,0,0,S,p,b,1,a,u,B),I&&B===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}Qa(n)&&t.generateMipmap(f)}l===0&&r(c.length?c:void 0,e,h)}}h=i.map(function(S,T){return Xd(S,n.crossOrigin,E(T))})}function Vy(t,e,n,r){r=r||ti.textureOptions;const i=r.target||Er;t.bindTexture(i,e);let o=r.width,s=r.height,a=r.depth;const u=r.level||0,f=r.internalFormat||r.format||Ve,l=is(f),c=r.format||l.format,h=r.type||zy(t,n,l.type);if(Jo(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const y=XT(h);n=new y(n)}const d=zI(f,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+Hd(t,c);let b;if(i===ni||i===ri)if(!o&&!s&&!a){const y=Math.cbrt(p);if(y%1!==0)throw"can't guess cube size of array of numElements: "+p;o=y,s=y,a=y}else o&&(!s||!a)?(b=vl(t,i,s,a,p/o),s=b.width,a=b.height):s&&(!o||!a)?(b=vl(t,i,o,a,p/s),o=b.width,a=b.height):(b=vl(t,i,o,s,p/a),o=b.width,s=b.height);else b=vl(t,i,o,s,p),o=b.width,s=b.height;if(Uy(t),t.pixelStorei(jd,r.unpackAlignment||1),os(t,r),i===_r){const y=d/n.BYTES_PER_ELEMENT,w=p/6*y;Qd(t,r).forEach(E=>{const S=w*E.ndx,T=n.subarray(S,S+w);t.texImage2D(E.face,u,f,o,s,0,c,h,T)})}else i===ni||i===ri?t.texImage3D(i,u,f,o,s,a,0,c,h,n):t.texImage2D(i,u,f,o,s,0,c,h,n);return{width:o,height:s,depth:a,type:h}}function QI(t,e,n){const r=n.target||Er;t.bindTexture(r,e);const i=n.level||0,o=n.internalFormat||n.format||Ve,s=is(o),a=n.format||s.format,u=n.type||s.type;if(os(t,n),r===_r)for(let f=0;f<6;++f)t.texImage2D(dl+f,i,o,n.width,n.height,0,a,u,null);else r===ni||r===ri?t.texImage3D(r,i,o,n.width,n.height,n.depth,0,a,u,null):t.texImage2D(r,i,o,n.width,n.height,0,a,u,null)}function Ka(t,e,n){n=n||Xa,e=e||ti.textureOptions;const r=t.createTexture(),i=e.target||Er;let o=e.width||1,s=e.height||1;const a=e.internalFormat||Ve;t.bindTexture(i,r),i===_r&&(t.texParameteri(i,pl,hl),t.texParameteri(i,gl,hl));let u=e.src;if(u)if(typeof u=="function"&&(u=u(t,e)),typeof u=="string")WI(t,r,e,n);else if(Jo(u)||Array.isArray(u)&&(typeof u[0]=="number"||Array.isArray(u[0])||Jo(u[0]))){const f=Vy(t,r,u,e);o=f.width,s=f.height}else Array.isArray(u)&&(typeof u[0]=="string"||qy(u[0]))?i===_r?$I(t,r,e,n):YI(t,r,e,n):(Hy(t,r,u,e),o=u.width,s=u.height);else QI(t,r,e);return Qa(e)&&$d(t,r,e,o,s,a),Gy(t,r,e),r}function XI(t,e,n,r,i,o){r=r||n.width,i=i||n.height,o=o||n.depth;const s=n.target||Er;t.bindTexture(s,e);const a=n.level||0,u=n.internalFormat||n.format||Ve,f=is(u),l=n.format||f.format;let c;const h=n.src;if(h&&(Jo(h)||Array.isArray(h)&&typeof h[0]=="number")?c=n.type||zy(t,h,f.type):c=n.type||f.type,s===_r)for(let d=0;d<6;++d)t.texImage2D(dl+d,a,u,r,i,0,l,c,null);else s===ni||s===ri?t.texImage3D(s,a,u,r,i,o,0,l,c,null):t.texImage2D(s,a,u,r,i,0,l,c,null)}const KI=my,Al=33984,JI=35048,El=34962,eD=34963,Jd=35345,jy=35718,tD=35721,nD=35971,rD=35382,iD=35396,oD=35398,sD=35392,aD=35395,_l=5126,Zy=35664,Wy=35665,$y=35666,e0=5124,Yy=35667,Qy=35668,Xy=35669,Ky=35670,Jy=35671,ew=35672,tw=35673,nw=35674,rw=35675,iw=35676,fD=35678,uD=35680,lD=35679,cD=35682,hD=35685,dD=35686,pD=35687,gD=35688,mD=35689,bD=35690,yD=36289,wD=36292,xD=36293,t0=5125,ow=36294,sw=36295,aw=36296,vD=36298,AD=36299,ED=36300,_D=36303,SD=36306,CD=36307,TD=36308,FD=36311,Sl=3553,Cl=34067,n0=32879,Tl=35866,fe={};function fw(t,e){return fe[e].bindPoint}function ID(t,e){return function(n){t.uniform1f(e,n)}}function DD(t,e){return function(n){t.uniform1fv(e,n)}}function BD(t,e){return function(n){t.uniform2fv(e,n)}}function kD(t,e){return function(n){t.uniform3fv(e,n)}}function RD(t,e){return function(n){t.uniform4fv(e,n)}}function uw(t,e){return function(n){t.uniform1i(e,n)}}function lw(t,e){return function(n){t.uniform1iv(e,n)}}function cw(t,e){return function(n){t.uniform2iv(e,n)}}function hw(t,e){return function(n){t.uniform3iv(e,n)}}function dw(t,e){return function(n){t.uniform4iv(e,n)}}function PD(t,e){return function(n){t.uniform1ui(e,n)}}function MD(t,e){return function(n){t.uniform1uiv(e,n)}}function ND(t,e){return function(n){t.uniform2uiv(e,n)}}function LD(t,e){return function(n){t.uniform3uiv(e,n)}}function OD(t,e){return function(n){t.uniform4uiv(e,n)}}function zD(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function UD(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function GD(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function HD(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function qD(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function VD(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function jD(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function ZD(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function WD(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function Ft(t,e,n,r){const i=fw(t,e);return Ko(t)?function(o){let s,a;cl(t,o)?(s=o,a=null):(s=o.texture,a=o.sampler),t.uniform1i(r,n),t.activeTexture(Al+n),t.bindTexture(i,s),t.bindSampler(n,a)}:function(o){t.uniform1i(r,n),t.activeTexture(Al+n),t.bindTexture(i,o)}}function It(t,e,n,r,i){const o=fw(t,e),s=new Int32Array(i);for(let a=0;a<i;++a)s[a]=n+a;return Ko(t)?function(a){t.uniform1iv(r,s),a.forEach(function(u,f){t.activeTexture(Al+s[f]);let l,c;cl(t,u)?(l=u,c=null):(l=u.texture,c=u.sampler),t.bindSampler(n,c),t.bindTexture(o,l)})}:function(a){t.uniform1iv(r,s),a.forEach(function(u,f){t.activeTexture(Al+s[f]),t.bindTexture(o,u)})}}fe[_l]={Type:Float32Array,size:4,setter:ID,arraySetter:DD},fe[Zy]={Type:Float32Array,size:8,setter:BD,cols:2},fe[Wy]={Type:Float32Array,size:12,setter:kD,cols:3},fe[$y]={Type:Float32Array,size:16,setter:RD,cols:4},fe[e0]={Type:Int32Array,size:4,setter:uw,arraySetter:lw},fe[Yy]={Type:Int32Array,size:8,setter:cw,cols:2},fe[Qy]={Type:Int32Array,size:12,setter:hw,cols:3},fe[Xy]={Type:Int32Array,size:16,setter:dw,cols:4},fe[t0]={Type:Uint32Array,size:4,setter:PD,arraySetter:MD},fe[ow]={Type:Uint32Array,size:8,setter:ND,cols:2},fe[sw]={Type:Uint32Array,size:12,setter:LD,cols:3},fe[aw]={Type:Uint32Array,size:16,setter:OD,cols:4},fe[Ky]={Type:Uint32Array,size:4,setter:uw,arraySetter:lw},fe[Jy]={Type:Uint32Array,size:8,setter:cw,cols:2},fe[ew]={Type:Uint32Array,size:12,setter:hw,cols:3},fe[tw]={Type:Uint32Array,size:16,setter:dw,cols:4},fe[nw]={Type:Float32Array,size:32,setter:zD,rows:2,cols:2},fe[rw]={Type:Float32Array,size:48,setter:UD,rows:3,cols:3},fe[iw]={Type:Float32Array,size:64,setter:GD,rows:4,cols:4},fe[hD]={Type:Float32Array,size:32,setter:HD,rows:2,cols:3},fe[dD]={Type:Float32Array,size:32,setter:VD,rows:2,cols:4},fe[pD]={Type:Float32Array,size:48,setter:qD,rows:3,cols:2},fe[gD]={Type:Float32Array,size:48,setter:ZD,rows:3,cols:4},fe[mD]={Type:Float32Array,size:64,setter:jD,rows:4,cols:2},fe[bD]={Type:Float32Array,size:64,setter:WD,rows:4,cols:3},fe[fD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Sl},fe[uD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Cl},fe[lD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:n0},fe[cD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Sl},fe[yD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Tl},fe[wD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Tl},fe[xD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Cl},fe[vD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Sl},fe[AD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:n0},fe[ED]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Cl},fe[_D]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Tl},fe[SD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Sl},fe[CD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:n0},fe[TD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Cl},fe[FD]={Type:null,size:0,setter:Ft,arraySetter:It,bindPoint:Tl};function Fl(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(El,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||_l,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function oi(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4iv(e,n.value);else throw new Error("The length of an integer constant value must be 4!");else t.bindBuffer(El,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||e0,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function Il(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4uiv(e,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else t.bindBuffer(El,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||t0,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function r0(t,e,n){const r=n.size,i=n.count;return function(o){t.bindBuffer(El,o.buffer);const s=o.size||o.numComponents||r,a=s/i,u=o.type||_l,l=fe[u].size*s,c=o.normalize||!1,h=o.offset||0,d=l/i;for(let p=0;p<i;++p)t.enableVertexAttribArray(e+p),t.vertexAttribPointer(e+p,a,u,c,l,h+d*p),o.divisor!==void 0&&t.vertexAttribDivisor(e+p,o.divisor)}}const it={};it[_l]={size:4,setter:Fl},it[Zy]={size:8,setter:Fl},it[Wy]={size:12,setter:Fl},it[$y]={size:16,setter:Fl},it[e0]={size:4,setter:oi},it[Yy]={size:8,setter:oi},it[Qy]={size:12,setter:oi},it[Xy]={size:16,setter:oi},it[t0]={size:4,setter:Il},it[ow]={size:8,setter:Il},it[sw]={size:12,setter:Il},it[aw]={size:16,setter:Il},it[Ky]={size:4,setter:oi},it[Jy]={size:8,setter:oi},it[ew]={size:12,setter:oi},it[tw]={size:16,setter:oi},it[nw]={size:4,setter:r0,count:2},it[rw]={size:9,setter:r0,count:3},it[iw]={size:16,setter:r0,count:4};function pw(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const $D=/(\.|\[|]|\w+)/g,YD=t=>t>="0"&&t<="9";function gw(t,e,n,r){const i=t.split($D).filter(a=>a!=="");let o=0,s="";for(;;){const a=i[o++];s+=a;const u=YD(a[0]),f=u?parseInt(a):a;if(u&&(s+=i[o++]),o===i.length){n[f]=e;break}else{const c=i[o++],h=c==="[",d=n[f]||(h?[]:{});n[f]=d,n=d,r[s]=r[s]||function(p){return function(b){xw(p,b)}}(d),s+=c}}}function QD(t,e){let n=0;function r(a,u,f){const l=u.name.endsWith("[0]"),c=u.type,h=fe[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=u.size,l?d=h.arraySetter(t,c,p,f,u.size):d=h.setter(t,c,p,f,u.size)}else h.arraySetter&&l?d=h.arraySetter(t,f):d=h.setter(t,f);return d.location=f,d}const i={},o={},s=t.getProgramParameter(e,jy);for(let a=0;a<s;++a){const u=t.getActiveUniform(e,a);if(pw(u))continue;let f=u.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const l=t.getUniformLocation(e,u.name);if(l){const c=r(e,u,l);i[f]=c,gw(f,c,o,i)}}return i}function XD(t,e){const n={},r=t.getProgramParameter(e,nD);for(let i=0;i<r;++i){const o=t.getTransformFeedbackVarying(e,i);n[o.name]={index:i,type:o.type,size:o.size}}return n}function KD(t,e){const n=t.getProgramParameter(e,jy),r=[],i=[];for(let a=0;a<n;++a){i.push(a),r.push({});const u=t.getActiveUniform(e,a);r[a].name=u.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const u=a[0],f=a[1];t.getActiveUniforms(e,i,t[u]).forEach(function(l,c){r[c][f]=l})});const o={},s=t.getProgramParameter(e,rD);for(let a=0;a<s;++a){const u=t.getActiveUniformBlockName(e,a),f={index:t.getUniformBlockIndex(e,u),usedByVertexShader:t.getActiveUniformBlockParameter(e,a,iD),usedByFragmentShader:t.getActiveUniformBlockParameter(e,a,oD),size:t.getActiveUniformBlockParameter(e,a,sD),uniformIndices:t.getActiveUniformBlockParameter(e,a,aD)};f.used=f.usedByVertexShader||f.usedByFragmentShader,o[u]=f}return{blockSpecs:o,uniformData:r}}const mw=/\[\d+\]\.$/,JD=(t,e)=>((t+(e-1))/e|0)*e;function eB(t,e,n,r){if(e||n){r=r||1;const o=t.length/4;return function(s){let a=0,u=0;for(let f=0;f<o;++f){for(let l=0;l<r;++l)t[a++]=s[u++];a+=4-r}}}else return function(i){i.length?t.set(i):t[0]=i}}function tB(t,e,n,r){const i=n.blockSpecs,o=n.uniformData,s=i[r];if(!s)return KI("no uniform block object named:",r),{name:r,uniforms:{}};const a=new ArrayBuffer(s.size),u=t.createBuffer(),f=s.index;t.bindBuffer(Jd,u),t.uniformBlockBinding(e,s.index,f);let l=r+".";mw.test(l)&&(l=l.replace(mw,"."));const c={},h={},d={};return s.uniformIndices.forEach(function(p){const b=o[p];let y=b.name;y.startsWith(l)&&(y=y.substr(l.length));const w=y.endsWith("[0]");w&&(y=y.substr(0,y.length-3));const E=fe[b.type],S=E.Type,T=w?JD(E.size,16)*b.size:E.size*b.size,D=new S(a,b.offset,T/S.BYTES_PER_ELEMENT);c[y]=D;const B=eB(D,w,E.rows,E.cols);h[y]=B,gw(y,B,d,h)}),{name:r,array:a,asFloat:new Float32Array(a),buffer:u,uniforms:c,setters:h}}function bw(t,e,n){return tB(t,e.program,e.uniformBlockSpec,n)}function nB(t,e,n){const i=(e.uniformBlockSpec||e).blockSpecs[n.name];if(i){const o=i.index;return t.bindBufferRange(Jd,o,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function yw(t,e,n){nB(t,e,n)&&t.bufferData(Jd,n.array,JI)}function ww(t,e){const n=t.setters;for(const r in e){const i=n[r];if(i){const o=e[r];i(o)}}}function xw(t,e){for(const n in e){const r=t[n];typeof r=="function"?r(e[n]):xw(t[n],e[n])}}function Kt(t,...e){const n=t.uniformSetters||t,r=e.length;for(let i=0;i<r;++i){const o=e[i];if(Array.isArray(o)){const s=o.length;for(let a=0;a<s;++a)Kt(n,o[a])}else for(const s in o){const a=n[s];a&&a(o[s])}}}function rB(t,e){const n={},r=t.getProgramParameter(e,tD);for(let i=0;i<r;++i){const o=t.getActiveAttrib(e,i);if(pw(o))continue;const s=t.getAttribLocation(e,o.name),a=it[o.type],u=a.setter(t,s,a);u.location=s,n[o.name]=u}return n}function iB(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function ss(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(iB(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(eD,n.indices))}function oB(t,e){const n=QD(t,e),r=rB(t,e),i={program:e,uniformSetters:n,attribSetters:r};return Ko(t)&&(i.uniformBlockSpec=KD(t,e),i.transformFeedbackInfo=XD(t,e)),i}const sB=4,vw=5123;function Ja(t,e,n,r,i,o){n=n===void 0?sB:n;const s=e.indices,a=e.elementType,u=r===void 0?e.numElements:r;i=i===void 0?0:i,a||s?o!==void 0?t.drawElementsInstanced(n,u,a===void 0?vw:e.elementType,i,o):t.drawElements(n,u,a===void 0?vw:e.elementType,i):o!==void 0?t.drawArraysInstanced(n,i,u,o):t.drawArrays(n,i,u)}const aB=36160,no=36161,fB=3553,uB=5121,lB=6402,cB=6408,hB=33190,dB=36012,pB=35056,gB=36013,mB=32854,bB=32855,yB=36194,Aw=33189,Ew=6401,_w=36168,i0=34041,wB=36064,Dl=36096,Sw=36128,o0=33306,s0=33071,a0=9729,Cw=[{format:cB,type:uB,min:a0,wrap:s0},{format:i0}],Mn={};Mn[i0]=o0,Mn[Ew]=Sw,Mn[_w]=Sw,Mn[lB]=Dl,Mn[Aw]=Dl,Mn[hB]=Dl,Mn[dB]=Dl,Mn[pB]=o0,Mn[gB]=o0;function xB(t,e){return Mn[t]||Mn[e]}const si={};si[mB]=!0,si[bB]=!0,si[yB]=!0,si[i0]=!0,si[Aw]=!0,si[Ew]=!0,si[_w]=!0;function vB(t){return si[t]}function AB(t,e,n,r){const i=aB,o=t.createFramebuffer();t.bindFramebuffer(i,o),n=n||t.drawingBufferWidth,r=r||t.drawingBufferHeight,e=e||Cw;let s=0;const a={framebuffer:o,attachments:[],width:n,height:r};return e.forEach(function(u){let f=u.attachment;const l=u.samples,c=u.format;let h=u.attachmentPoint||xB(c,u.internalFormat);if(h||(h=wB+s++),!f)if(l!==void 0||vB(c))f=t.createRenderbuffer(),t.bindRenderbuffer(no,f),l>1?t.renderbufferStorageMultisample(no,l,c,n,r):t.renderbufferStorage(no,c,n,r);else{const d=Object.assign({},u);d.width=n,d.height=r,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||a0,d.mag=d.mag||d.minMag||a0,d.wrapS=d.wrapS||d.wrap||s0,d.wrapT=d.wrapT||d.wrap||s0),f=Ka(t,d)}if(by(t,f))t.framebufferRenderbuffer(i,h,no,f);else if(cl(t,f))u.layer!==void 0?t.framebufferTextureLayer(i,h,f,u.level||0,u.layer):t.framebufferTexture2D(i,h,u.target||fB,f,u.level||0);else throw new Error("unknown attachment type");a.attachments.push(f)}),a}function EB(t,e,n,r,i){r=r||t.drawingBufferWidth,i=i||t.drawingBufferHeight,e.width=r,e.height=i,n=n||Cw,n.forEach(function(o,s){const a=e.attachments[s],u=o.format,f=o.samples;if(f!==void 0||by(t,a))t.bindRenderbuffer(no,a),f>1?t.renderbufferStorageMultisample(no,f,u,r,i):t.renderbufferStorage(no,u,r,i);else if(cl(t,a))XI(t,a,o,r,i);else throw new Error("unknown attachment type")})}function _B(t,e,n){const r=t.createVertexArray();return t.bindVertexArray(r),e.length||(e=[e]),e.forEach(function(i){ss(t,i,n)}),t.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const SB=/^(.*?)_/;function CB(t,e){Hd(t,0);const n=t.getExtension(e);if(n){const r={},i=SB.exec(e)[1],o="_"+i;for(const s in n){const a=n[s],u=typeof a=="function",f=u?i:o;let l=s;s.endsWith(f)&&(l=s.substring(0,s.length-f.length)),t[l]!==void 0?!u&&t[l]!==a&&my(l,t[l],a,s):u?t[l]=function(c){return function(){return c.apply(n,arguments)}}(a):(t[l]=a,r[l]=a)}r.constructor={name:n.constructor.name},Hd(r,0)}return n}const Tw=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Fw(t){for(let e=0;e<Tw.length;++e)CB(t,Tw[e])}function TB(t,e){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=t.getContext(n[i],e),r){Fw(r);break}return r}function FB(t,e){return TB(t,e)}const IB=`/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
in vec2 frac;

/** Minimum size (width, height) of the displayed rectangle in pixels */
uniform vec2 uMinSize;

/** Minimum opacity for the size size clamping */
uniform float uMinOpacity;

/** top-right, bottom-right, top-left, bottom-left */
uniform vec4 uCornerRadii;

out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;


#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

void main(void) {
    vec2 normalizedMinSize = uMinSize / uViewportSize;

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(uCornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,DB=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,f0="attr_",Iw="uDomain_",BB="range_",Dw="scale_",Bw="getScaled_",u0="uRangeTexture_",kw=3402823466e29;function kB(t){const e=t.match(/^(?:(\w+)-)?(\w+)$/);if(!e)throw new Error("Not a scale type: "+t);return{family:e[1]||"continuous",transform:e[2]}}function RB(t,e){let n;if(ul(t))n=ro(py(t)(e));else if(Ke(e))if(Ki(t))n=MB(e);else throw new Error(`String values are not supported on the "${t}" channel: ${e}`);else if(yu(e))n=ro(e?1:0);else if(e===null)if(Ki(t))n=ro([0,0,0]);else throw new Error(`null value is not supported on the "${t}" chanel.`);else n=ro(e);return`
#define ${t}_DEFINED
${n.type} ${Bw}${t}() {
    // Constant value
    return ${n};
}`}function PB(t,e,n){if(Rn(n))throw new Error(`Cannot create scale for "value": ${JSON.stringify(n)}`);if(!e)throw new Error("Scale is undefined");const r=Xi(t),i=f0+t,o=Iw+r,s=BB+r,a=Bl(e.type),u=a?"vec2":"float",f=e.domain?e.domain().length:void 0;let l;const c=[];c.push(""),c.push("/".repeat(70)),c.push(`// Channel: ${t}`),c.push(""),c.push(`#define ${t}_DEFINED`);const{transform:h}=kB(e.type),d=(I,...N)=>NB.apply(null,[I,"value",...N]);let p;switch(h){case"linear":p=d("scaleLinear","domain",s);break;case"log":p=d("scaleLog","domain",s,e.base());break;case"symlog":p=d("scaleSymlog","domain",s,e.constant());break;case"pow":case"sqrt":p=d("scalePow","domain",s,e.exponent());break;case"index":case"locus":p=d("scaleBandHp","domain",s,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"point":case"band":p=d("scaleBand","domain",s,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"ordinal":case"null":case"identity":p=d("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${e.type}! ${t}: ${JSON.stringify(n)}`)}const b=sl(e.type)||Et(e.type)&&Ki(t)?[0,1]:e.range?e.range():void 0;if(b&&t==r&&b.length&&b.every(Mt)){const I=Rw(b);c.push(`const ${I.type} ${s} = ${I};`)}const y=Ki(t)?"vec3":"float";let w;if(Ki(t)){const I=u0+r;if(t==r&&c.push(`uniform sampler2D ${I};`),Et(e.type))w=`getInterpolatedColor(${I}, transformed)`;else if(ei(e.type)||Qo(e.type))w=`getDiscreteColor(${I}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(e.type==="ordinal"||Qo(e.type)){const I=u0+r;t==r&&c.push(`uniform sampler2D ${I};`),w=`getDiscreteColor(${I}, int(transformed)).r`}Va(n)?c.push(`uniform highp ${u} ${i};`):c.push(`in highp ${u} ${i};`);const E=[],S=Et(e.type)&&f>2,T=Qo(e.type)||S;if(E.push("int slot = 0;"),T){const I=o;E.push(S?`while (slot < ${I}.length() - 2 && value >= ${I}[slot + 1]) { slot++; }`:`while (slot < ${I}.length() && value >= ${I}[slot]) { slot++; }`)}const D=Et(e.type)||Qo(e.type)||["band","point"].includes(e.type);if(p){const I=o;D&&(a?E.push(`vec3 domain = ${I};`):E.push(`vec2 domain = vec2(${I}[slot], ${I}[slot + 1]);`)),E.push(`float transformed = ${p};`),S&&E.push(`transformed = (float(slot) + transformed) / (float(${I}.length() - 1));`)}else E.push("float transformed = float(slot);");"clamp"in e&&e.clamp()&&E.push(`transformed = clampToRange(transformed, ${Rw(b)});`),E.push(`return ${w??"transformed"};`),c.push(`
${y} ${Dw}${t}(${u} value) {
${E.map(I=>`    ${I}
`).join("")}
}`),c.push(`
${y} ${Bw}${t}() {
    return ${Dw}${t}(${i});
}`);const B=c.join(`
`);if(D&&t==r){const I=Et(e.type)||Qo(e.type)?f:2;l=a?`highp vec3 ${o};`:`mediump float ${o}[${I}];`}return{glsl:B,domainUniform:l}}function l0(t){if(!Mt(t))throw new Error(`Not a number: ${t}`);if(t==1/0)return""+kw;if(t==-1/0)return""+-kw;{let e=`${t}`;return/^(-)?\d+$/.test(e)&&(e+=".0"),e}}function ro(t){typeof t=="number"&&(t=[t]);const e=t.length;if(e<1||e>4)throw new Error("Invalid number of components: "+e);let n,r;return e>1?(n=`vec${e}`,r=`${n}(${t.map(l0).join(", ")})`):(n="float",r=l0(t[0])),Object.assign(r,{type:n,numComponents:e})}function MB(t){const e=Qr(t).rgb();return ro([e.r,e.g,e.b].map(n=>n/255))}function Rw(t){return ro([t[0],Sa(t)])}function NB(t,...e){const n=[];for(const r of e)Mt(r)?n.push(l0(r)):Qt(r)?n.push(ro(r)):n.push(r);return`${t}(${n.join(", ")})`}function Bl(t){return t=="index"||t=="locus"}const Pw=2**11,LB=Pw-1;function Mw(t,e=[]){const n=t&LB,r=t-n;return e[0]=r,e[1]=n,e}function OB(t){const e=t%Pw;return[t-e,e]}function zB(t){return[...OB(t[0]),t[1]-t[0]]}class UB{constructor(e){this.size=e,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}addConverter(e,n){const r=this.createUpdater(f0+e,n.numComponents||1,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?o=>r(i(o)):o=>r(i(o)))}createUpdater(e,n,r){if(!Mt(this.size))throw new Error("The number of vertices must be defined!");let i,o,s=0;const a=new Float32Array(this.size*n);if(this.arrays[e]={data:a,numComponents:n},n==1){let u=0;const f=l=>{u=+l};i=()=>{a[s++]=u},o=f}else{let u=r??[0];const f=r?l=>{}:l=>{u=l};switch(n){case 1:break;case 2:i=()=>{a[s++]=u[0],a[s++]=u[1]},o=f;break;case 3:i=()=>{a[s++]=u[0],a[s++]=u[1],a[s++]=u[2]},o=f;break;case 4:i=()=>{a[s++]=u[0],a[s++]=u[1],a[s++]=u[2],a[s++]=u[3]},o=f;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(i),o}_unrollPushAll(){let e="",n="";for(let i=0;i<this.pushers.length;i++)e+=`const p${i} = that.pushers[${i}];
`,n+=`p${i}();
`;const r=new Function("that",`${e}

            return function unrolledPushAll() {
                ${n}
                that.vertexCount++;
            };
        `);this.pushAll=r(this)}pushAll(){this.size>1e5?this._unrollPushAll():this.pushAll=()=>{for(let n=0;n<this.pushers.length;n++)this.pushers[n]();this.vertexCount++},this.pushAll()}updateFromDatum(e){for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](e)}pushFromDatum(e){this.updateFromDatum(e),this.pushAll()}}const as=5,c0=127;function h0(t){const e=[];for(let p=0;p<=c0;p++)e.push(void 0);const n=new Map;for(const p of t.chars)p.id<=c0?e[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,e["-".charCodeAt(0)]);function i(p){return(p<=c0?e[p]:n.get(p))||e[63]}function o(p){return i(p.charCodeAt(0))}const s=t.common.base,a=o("x"),u=o("X"),f=o("q"),l=a.height-as*2,c=u.height-as*2,h=f.height-a.height+f.yoffset-a.yoffset;function d(p,b=1){let y=0;for(let w=0;w<p.length;w++)y+=i(p.charCodeAt(w)).xadvance;return y/s*b}return{measureWidth:d,getCharByCode:i,getChar:o,xHeight:l,capHeight:c,descent:h,common:t.common}}function GB(t,e=0,n=1){return Math.max(e,Math.min(n,t))}const Nw=2**31-1,HB=-(2**31);function qB(t,e,n,r=n){const i=new Int32Array(t);i.fill(Nw);let o=HB,s=!1;const a=new Int32Array(t),u=e[0],l=(e[1]-e[0])/t,c=(y,w)=>{const E=(y-u)/l,S=Math.floor(E);return GB(w&&S==E?S-1:S,0,t-1)};function h(y,w,E){w>o?o=w:s||(s=!0,console.debug("Items are not ordered properly. Disabling binned index."));const S=n(y),T=c(S,!1);i[T]>w&&(i[T]=w),a[T]<E&&(a[T]=E)}function d(y,w,E){w>o?o=w:s||(s=!0,console.debug("Items are not ordered properly. Disabling binned index."));const S=n(y),T=r(y),D=c(S,!1),B=c(T,!0);for(let I=D;I<=B;I++)i[I]>w&&(i[I]=w),a[I]<E&&(a[I]=E)}const p=(y,w,E=[0,0])=>{const S=c(y,!1),T=c(w,!0),D=i[S],B=Math.max(a[T],D);return E[0]=D,E[1]=B,E},b=()=>{for(let w=1;w<a.length;w++)a[w]<a[w-1]&&(a[w]=a[w-1]);let y=!0;for(let w=i.length-1;w>0;w--)y&&i[w]==Nw?(i[w]=a[w],y=!1):i[w-1]>i[w]&&(i[w-1]=i[w]);return p};if(h.getIndex=b,d.getIndex=b,!s)return n==r?h:d}class ef{constructor({encoders:e,numVertices:n=void 0,attributes:r=[]}){this.encoders=e,this.variableEncoders=Object.fromEntries(Object.entries(e).filter(([i,o])=>r.includes(i)&&o&&o.scale&&!o.constant)),this.allocatedVertices=n,this.variableBuilder=new UB(n);for(const[i,o]of Object.entries(this.variableEncoders)){const s=o.accessor,a=[0,0],u=Bl(o.scale.type),f=o.indexer,l=f?c=>f(s(c)):u?c=>Mw(s(c),a):s;this.variableBuilder.addConverter(i,{f:l,numComponents:u?2:1,arrayReference:u?a:void 0})}this.lastOffset=0,this.rangeMap=new Pi([],JSON.stringify)}registerBatch(e){var o;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(e,{offset:n,count:i,xIndex:(o=this.xIndexer)==null?void 0:o.getIndex()}),this.lastOffset=r}addBatches(e){for(const[n,r]of e)this.addBatch(n,r)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const s=n[o];this.variableBuilder.pushFromDatum(s),this.addToXIndex(s)}this.registerBatch(e)}prepareXIndexer(e,n=0,r=n+e.length){const i=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0};if(!e.length||r-n<0){i();return}const o=u=>{var f;return u&&Et((f=u.scale)==null?void 0:f.type)&&u},s=o(this.variableEncoders.x),a=o(this.variableEncoders.x2);if(s){const u=s.accessor,f=a?a.accessor:u,l=[u(e[n]),f(e[r-1])];if(l[1]>l[0]){this.xIndexer=qB(50,l,u,f);let c=this.variableBuilder.vertexCount;this.addToXIndex=h=>{let d=this.variableBuilder.vertexCount;this.xIndexer(h,c,d),c=d}}else i()}else i()}addToXIndex(e){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class VB extends ef{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateFrac=this.variableBuilder.createUpdater("frac",2)}addBatch(e,n,r=0,i=n.length){if(i<=r)return;const o=this.encoders,[s,a]=this.visibleRange,u=h=>h.accessor||(d=>0),f=u(o.x),l=u(o.x2);this.prepareXIndexer(n,r,i);const c=[0,0];this.updateFrac(c);for(let h=r;h<i;h++){const d=n[h];let p=f(d),b=l(d);if(p>b&&([p,b]=[b,p]),b<s||p>a)continue;p<s&&(p=s),b>a&&(b=a),this.variableBuilder.updateFromDatum(d),c[0]=0,c[1]=0;const y=1;this.variableBuilder.pushAll();for(let w=0;w<=y;w++)c[0]=w/y,c[1]=0,this.variableBuilder.pushAll(),c[1]=1,this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(d)}this.registerBatch(e)}}class jB extends ef{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const s=n[o];this.variableBuilder.updateFromDatum(s),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const a=1;for(let u=0;u<=a;u++)this.updatePos(u/a),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(s)}this.registerBatch(e)}}class ZB extends ef{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}}class WB extends ef{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}toArrays(){const e=this.variableBuilder.arrays;for(let n of Object.values(e))n.divisor=1;return super.toArrays()}}class $B extends ef{constructor({encoders:e,attributes:n,fontMetrics:r,properties:i,numCharacters:o=void 0}){super({encoders:e,attributes:n,numVertices:o*6}),this.metadata=r,this.metrics=r,this.properties=i;const a=e.text.channelDef;this.numberFormat=!Rn(a)&&"format"in a&&a.format?gt(a.format):u=>u,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1)}addBatch(e,n,r=0,i=n.length){const o=this.properties.align||"left",s=this.properties.logoLetters??!1,a=this.metadata.common.base,u=this.metadata.common.scaleH;let f=-as;switch(this.properties.baseline){case"top":f+=this.metrics.capHeight;break;case"middle":f+=this.metrics.capHeight/2;break;case"bottom":f-=this.metrics.descent;break}const l=this.encoders.text.accessor||this.encoders.text,c=[0,0];this.updateVertexCoord(c);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],b=this.numberFormat(l(p)),y=Ke(b)?b:b===null?"":""+b;if(y.length==0)continue;this.variableBuilder.updateFromDatum(p);const w=s?y.length:this.metrics.measureWidth(y);this.updateWidth(w);let E=o=="right"?-w:o=="center"?-w/2:0;if(!s){const B=this.metrics.getCharByCode(y.charCodeAt(0));E-=(B.width-B.xadvance)/a/2}let S=-.5,T=1,D=1;for(let B=0;B<y.length;B++){const I=this.metrics.getCharByCode(y.charCodeAt(B)),N=s?1:I.xadvance/a;if(I.id==32){E+=N;continue}s?(D=(I.width+as*2)/I.width,E=-D/2,T=(I.height+as*2)/I.height,S=-.5-as/I.height):(T=I.height/a,S=-(I.height+I.yoffset+f)/a,D=I.width/a);const C=I.x,P=I.y;c[0]=E,c[1]=S+T,h[0]=C/u,h[1]=P/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S+T,h[0]=(C+I.width)/u,h[1]=P/u,this.variableBuilder.pushAll(),c[0]=E,c[1]=S,h[0]=C/u,h[1]=(P+I.height)/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S+T,h[0]=(C+I.width)/u,h[1]=P/u,this.variableBuilder.pushAll(),c[0]=E,c[1]=S,h[0]=C/u,h[1]=(P+I.height)/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S,h[0]=(C+I.width)/u,h[1]=(P+I.height)/u,this.variableBuilder.pushAll(),E+=N}this.addToXIndex(p)}this.registerBatch(e)}}const Lw=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,YB=`const float inf = 1.0 / 0.0;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

float scaleBand(float value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (value - domainExtent[0]) * step + bandwidth * band;
}

// High precision variant of scaleBand for index/locus scales
float scaleBandHp(vec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float hi = max(value[0] - domainStart[0], -inf);
    float lo = max(value[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,QB=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,XB=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        int id = int(getScaled_uniqueId());
        // TODO: Take the sign bit into account
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, 0xFF) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,KB=`in highp vec4 vPickingColor;
`,kl=Symbol("cacheMap");function fs(t,e,n){let r=tf(t).get(e);return r===void 0&&(r=n(e),tf(t).set(e,r)),r}function Ow(t,e){tf(t).delete(e)}function Rl(t,e){const n=tf(t);for(const r of n.keys())r.startsWith(e)&&n.delete(r);tf(t).delete(e)}function zw(t){t[kl]=new Map}function tf(t){return t[kl]||zw(t),t[kl]}function JB(t,e,n,r){const i=Ke(t)?t:t.name,o=!Ke(t)&&t.extent||[0,1];if(n===void 0&&!Ke(t)&&(n=t.count),i){const s=Id(i);if(Pt(s)){const a=Uw(s,{extent:o,count:n});return Pl(e,{minMag:e.LINEAR,format:e.RGB,height:1,wrap:e.CLAMP_TO_EDGE},a,r)}else{if(Qt(s))return d0(s,e);throw new Error("Unknown scheme: "+i)}}}function ek(t,e="rgb",n,r){const i=al(t,Ke(e)?e:e.type,Ke(e)?void 0:e.gamma),o=Uw(i);return Pl(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},o,r)}function tk(t,e,n,r){const i=Math.max(t.length,n||0),o=new Float32Array(i);for(let s=0;s<i;s++)o[s]=t[s%t.length];return Pl(e,{minMag:e.NEAREST,format:e.RED,internalFormat:e.R32F,height:1},o,r)}function d0(t,e,n,r){const i=Gw(t,n);return Pl(e,{minMag:e.NEAREST,format:e.RGB,height:1},i,r)}function Uw(t,{extent:e=[0,1],reverse:n=!1,count:r=256}={}){const i=e[0],o=Sa(e)-i,s=sa(r).map(a=>a/(r-1)).map(a=>i+a/o).map(t);return n&&s.reverse(),Gw(s)}function Gw(t,e){const n=Math.max(t.length,e||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const o=Qr(t[i%t.length]).rgb();r[i*3+0]=o.r,r[i*3+1]=o.g,r[i*3+2]=o.b}return r}class nk{constructor(e,n,r){this._container=e,this._sizeSource=n,this._shaderCache=new Map,this._listeners=[],this.rangeTextures=new WeakMap;const i=document.createElement("canvas");e.appendChild(i);const o=FB(i,{antialias:!0,depth:!1,premultipliedAlpha:!0});if(!o)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Ko(o))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(Fw(o),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.canvas=i,this.gl=o,this._pickingAttachmentOptions=[{format:o.RGBA,type:o.UNSIGNED_BYTE,minMag:o.LINEAR,wrap:o.CLAMP_TO_EDGE}],this._pickingBufferInfo=AB(o,this._pickingAttachmentOptions),o.bindFramebuffer(o.FRAMEBUFFER,null),this.adjustGl(),this._resizeObserver=new ResizeObserver(s=>{this.invalidateSize(),this._emit("resize")}),this._resizeObserver.observe(this._container),this._updateDpr(),this._clearColor=[0,0,0,0],r){const s=Qr(r).rgb();this._clearColor=[s.r/255,s.g/255,s.b/255,s.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(e,n){const r="#version 300 es",i="precision mediump float;";Qt(n)&&(n=n.join(`

`));const o=this.gl,s=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let a=this._shaderCache.get(s);if(!a){const u=[r,i,n].join(`

`);a=o.createShader(e),o.shaderSource(a,u),o.compileShader(a),this._shaderCache.set(s,a)}return a}adjustGl(){const e=this.getLogicalCanvasSize();this.canvas.style.width=`${e.width}px`,this.canvas.style.height=`${e.height}px`;const n=this.getPhysicalCanvasSize(e);this.canvas.width=n.width,this.canvas.height=n.height,EB(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this._resizeObserver.unobserve(this._container),this.canvas.remove()}getPhysicalCanvasSize(e){return e=e||this.getLogicalCanvasSize(),{width:e.width*this.dpr,height:e.height*this.dpr}}getLogicalCanvasSize(){var o;if(this._logicalCanvasSize)return this._logicalCanvasSize;const e=((o=this._sizeSource)==null?void 0:o.call(this))??{width:void 0,height:void 0},n=window.getComputedStyle(this._container,null),r=e.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=e.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}addEventListener(e,n){this._listeners.push({type:e,listener:n})}_emit(e){for(const n of this._listeners)n.type===e&&n.listener()}readPickingPixel(e,n){const r=this.gl;e*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,o=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(e,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,o),r.bindFramebuffer(r.FRAMEBUFFER,null),o}clearAll(){const e=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();e.viewport(0,0,n,r),e.disable(e.SCISSOR_TEST),e.clearColor(...this._clearColor),e.clear(e.COLOR_BUFFER_BIT)}createRangeTexture(e,n=!1){const r=this.rangeTextures.get(e);if(!n&&r)return;function i(s,a){return ei(a.type)?a.domain().length:a.type=="threshold"?a.domain().length+1:a.type=="quantize"||a.type=="quantile"?s??4:s}const o=e.channel;if(Ki(o)){const s=e.getScaleProps(),a=e.getScale(),u=a.range();let f;if(s.scheme)if(a.type=="threshold"&&u)f=d0(u,this.gl,a.domain().length,r);else{let l=Ke(s.scheme)?void 0:s.scheme.count;l=i(l,a),f=JB(s.scheme,this.gl,l,r)}else sl(a.type)||Et(a.type)&&u.length>2?f=ek(u,s.interpolate,this.gl,r):f=d0(u,this.gl,a.domain().length,r);this.rangeTextures.set(e,f)}else{const s=e.getScale();if(s.type==="ordinal"||Qo(s.type)){const a=ul(o)?py(o):f=>f,u=e.getScale().range();this.rangeTextures.set(e,tk(u.map(a),this.gl,s.domain().length,r))}}}}function rk(t,e="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...e.matchAll(r)],o=new Map(i.map((s,a)=>{const u=parseInt(s[1]),f=i[a+1],l=f?f.index:e.length,c=e.substring(s.index,l);return[u-1,c]}));return t.split(`
`).map((s,a)=>{const u=o.get(a);return`${a+1+n}: ${s}${u?`

^^^ ${u}`:""}`}).join(`
`)}function ik(t,e,n){const r=t.createProgram();t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r);function i(){let o,s;if(!t.getProgramParameter(r,t.LINK_STATUS)){o=t.getProgramInfoLog(r);for(const u of[e,n])t.getShaderParameter(u,t.COMPILE_STATUS)||(o=t.getShaderInfoLog(u),s=rk(t.getShaderSource(u),o,0)+`
Error compiling: ${o}`,t.deleteShader(u));t.deleteProgram(r)}if(o)return{message:o,detail:s}}return{program:r,getProgramErrors:i}}function Pl(t,e,n,r){return r?Vy(t,r,n,e):r=Ka(t,{...e,src:n}),r}function ok(...t){const e={get(n,r,i){for(const o of t){const a=o()[r];if(a!==void 0)return a}},has(n,r,i){for(const o of t){const s=o();if(r in s)return!0}return!1}};return new Proxy({},e)}function sk(t){return Ke(t)||Mt(t)||yu(t)}const ak="SAMPLE_FACET_UNIFORM",Hw="SAMPLE_FACET_TEXTURE";class nf{constructor(e){this.unitView=e,this.encoders=void 0,this.bufferInfo=void 0,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.domainUniformInfo=void 0,this.viewUniformInfo=void 0,this.rangeMap=new fk,this.defaultProperties={get clip(){return["x","y"].map(n=>e.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=ok(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const e={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(e.uniqueId={field:"_uniqueId"}),e}fixEncoding(e){return e}get encoding(){return fs(this,"encoding",()=>{const e=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=s=>{const a=this.properties[s];return sk(a)&&{value:a}},i=Object.fromEntries(this.getSupportedChannels().map(s=>[s,r(s)]).filter(s=>s[1].value!==void 0)),o=this.fixEncoding({...e,...i,...n});for(const s of Object.keys(o))this.getSupportedChannels().includes(s)||delete o[s];return o})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=PT(this)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return Hw;if(this.unitView.getLayoutAncestors().find(e=>"samples"in e.spec))return ak}createAndLinkShaders(e,n,r=[]){const i=this.getAttributes();r.push("// view: "+this.unitView.getPathString()),this.domainUniforms=[];let o=[];const s=this.getSampleFacetMode();s&&r.push(`#define ${s}`);for(const h of i){let d;if(h in this.encoding)d=h;else continue;const p=this.encoding[d];if(p)if(Rn(p))o.push(RB(d,p.value));else{const b=fn(p)&&p.resolutionChannel||d,y=Ji(b)?this.unitView.getScaleResolution(b).getScale():fl(),w=PB(d,y,p);o.push(w.glsl),w.domainUniform&&this.domainUniforms.push(w.domainUniform)}}const a=this.domainUniforms.length?`layout(std140) uniform Domains {
`+this.domainUniforms.map(h=>`    ${h}
`).join("")+`};

`:"",f=[`precision highp float;
`,...r,Lw,YB,a,...o,QB,XB,e],l=[...r,Lw,KB,n],c=this.gl;this.programStatus=ik(c,this.glHelper.compileShader(c.VERTEX_SHADER,f),this.glHelper.compileShader(c.FRAGMENT_SHADER,l))}finalizeGraphicsInitialization(){const e=this.programStatus.getProgramErrors();if(e){e.detail&&console.warn(e.detail);const n=new Error("Cannot create shader program: "+e.message);throw n.view=this.unitView,n}this.programInfo=oB(this.gl,this.programStatus.program),delete this.programStatus,this.domainUniforms.length&&(this.domainUniformInfo=bw(this.gl,this.programInfo,"Domains")),this.viewUniformInfo=bw(this.gl,this.programInfo,"View"),this.gl.useProgram(this.programInfo.program),this._setDatums(),Kt(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0})}_setDatums(){for(const[e,n]of Object.entries(this.encoding))if(Va(n)){const r=this.encoders[e],i=r.indexer?r.indexer(n.datum):Bl(r.scale.type)?Mw(+n.datum):+n.datum;Kt(this.programInfo,{[f0+e]:i})}}deleteGraphicsData(){if(this.bufferInfo){const e=this.gl;for(let n=0;n<8;n++)e.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(e){if(this.gl.bindVertexArray(null),this.bufferInfo&&e.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(e.arrays))r.data&&bF(this.gl,this.bufferInfo.attribs[n],r.data,0);else this.deleteGraphicsData(),this.bufferInfo=xF(this.gl,e.arrays,{numElements:e.vertexCount}),this.bufferInfo.allocatedVertices=e.allocatedVertices,this.vertexArrayInfo=void 0}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null)return!1;for(const e of this.unitView.getLayoutAncestors())if(!e.isPickingSupported())return!1;return!0}prepareRender(e){const n=this.glHelper,r=this.gl,i=[];if(i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=_B(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)}),this.domainUniformInfo){for(const[s,a]of Object.entries(this.domainUniformInfo.setters)){const u=s.substring(Iw.length),f=this.encoding[u],l=fn(f)&&f.resolutionChannel||u;if(Ji(l)){const c=this.unitView.getScaleResolution(l).getScale();i.push(()=>{const h=ei(c.type)?[0,c.domain().length]:c.domain();a(Bl(c.type)?zB(h):h)})}}i.push(()=>yw(r,this.programInfo,this.domainUniformInfo))}for(const[s,a]of Object.entries(this.encoding))if(fn(a)){const u=fn(a)&&a.resolutionChannel||s;if(Ji(u)){const f=this.unitView.getScaleResolution(u),l=n.rangeTextures.get(f);l&&i.push(()=>Kt(this.programInfo,{[u0+s]:l}))}}this.getSampleFacetMode()==Hw&&i.push(()=>{let s;for(const a of this.unitView.getLayoutAncestors())if(s=a.getSampleFacetTexture(),s)break;if(!s)throw new Error("No facet texture available. This is bug.");Kt(this.programInfo,{uSampleFacetTexture:s})});const o=(e.picking??!1)&&this.isPickingParticipant();return i.push(()=>ww(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:o})),this.opaque||e.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(e){const n=e.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,o=n.locSize?n.locSize.size:1;if(i>1||i+o<0)return!1;const s=n.targetLocSize?n.targetLocSize.location:i,a=n.targetLocSize?n.targetLocSize.size:o;this.gl.uniform4f(r.location,i,o,s,a)}return!0}render(e){}createRenderCallback(e,n){var c;if(!this.bufferInfo){const h=new Error(`${this.getType()} mark has no data. This is bug.`);throw h.view=this.unitView,h}const r=this;let i;const o=(c=this.unitView.getScaleResolution("x"))==null?void 0:c.getScale(),s=o&&Et(o.type),a=["index","locus"].includes(o==null?void 0:o.type)?-1:0,u=[0,0];i=h=>{if(s&&h.xIndex){const d=o.domain(),p=h.xIndex(d[0]+a,d[1],u),b=p[0],y=p[1]-b;y>0&&e(b,y)}else e(h.offset,h.count)};const f=this.rangeMap.get(void 0).count==0?n.facetId:void 0,l=this.rangeMap.get(f);return n.sampleFacetRenderingOptions?function(){l.count&&r.prepareSampleFacetRendering(n)&&i(l)}:function(){l.count&&i(l)}}setViewport(e,n){e=e.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,o=this.properties,s=this.glHelper.getLogicalCanvasSize(),a=.5,u=(o.xOffset??0)+a,f=(o.yOffset??0)+a;let l,c=e;if(o.clip!=="never"&&(o.clip||n)){let h=0,d=0,p;if(n){if(c=e.intersect(n).flatten(),!c.isDefined())return!1;p=[e.width/c.width,e.height/c.height],d=Math.max(0,e.y2-n.y2),h=Math.max(0,e.x2-n.x2)}else p=[1,1];const b=[c.x,s.height-c.y2,c.width,c.height].map(S=>S*r),y=b.map(S=>Math.round(S)),[w,E]=b.map((S,T)=>S-y[T]);i.viewport(...y),i.scissor(...y),i.enable(i.SCISSOR_TEST),l={uViewOffset:[(u+h+w/r)/c.width,-(f+d-E/r)/c.height],uViewScale:p}}else{if(!e.isDefined())return!1;i.viewport(0,0,s.width*r,s.height*r),i.disable(i.SCISSOR_TEST),l={uViewOffset:[(e.x+u)/s.width,(s.height-e.y-f-e.height)/s.height],uViewScale:[e.width/s.width,e.height/s.height]}}return ww(this.viewUniformInfo,{...l,uViewportSize:[e.width,e.height],uDevicePixelRatio:r}),yw(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(e,n){}}class fk extends Pi{constructor(){super([],JSON.stringify)}get(e){let n=super.get(e);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(e,n)),n}migrateEntries(e){for(const[n,r]of e.entries())Object.assign(this.get(n),r)}}function p0(t,e){const n=OT(e);let r=t[e]&&{...t[e]},i=t[n]&&{...t[n]};if(!(Rn(r)||Rn(i))){if(r){if(!fn(t[e]))return;if(i){if(r.type!="quantitative"){const o=(1-(r.band||1))/2;r.band=o,i.band=-o}}else if(r.type=="quantitative")i={datum:0};else{i={...r};const o=(1-(r.band??1))/2;r.band=0+o,i.band=1-o}}else r={value:0},i={value:1};t[e]=r,t[n]=i}}function qw(t,e){t.stroke||(e?t.stroke={value:null}:t.stroke={resolutionChannel:"color",...t.color}),Rn(t.stroke)&&t.stroke.value===null&&(t.strokeWidth={value:0}),t.strokeOpacity||(t.strokeOpacity={resolutionChannel:"opacity",...t.opacity})}function Vw(t,e){Rn(t.fill)&&t.fill.value===null?t.fillOpacity={value:0}:t.fill||(t.fill={resolutionChannel:"color",...t.color},!e&&!t.fillOpacity&&(t.fillOpacity={value:0})),t.fillOpacity||(e?t.fillOpacity={resolutionChannel:"opacity",...t.opacity}:t.fillOpacity={value:0})}class uk extends nf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1,tessellationZoomThreshold:10,tessellationTiles:35}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return fs(this,"opaque",()=>!this._isRoundedCorners()&&!this._isStroked()&&Rn(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(e){return p0(e,"x"),p0(e,"y"),qw(e,this.properties.filled),Vw(e,this.properties.filled),delete e.color,delete e.opacity,e}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}_isRoundedCorners(){const e=this.properties;return e.cornerRadius||e.cornerRadiusBottomLeft||e.cornerRadiusBottomRight||e.cornerRadiusTopLeft||e.cornerRadiusTopRight}_isStroked(){const e=this.encoding.strokeWidth;return!(Rn(e)&&!e.value)}async initializeGraphics(){await super.initializeGraphics();const e=[];this._isRoundedCorners()&&e.push("ROUNDED_CORNERS"),this._isStroked()&&e.push("STROKED"),this.createAndLinkShaders(IB,DB,e.map(n=>"#define "+n))}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Kt(this.programInfo,{uMinSize:[e.minWidth,e.minHeight],uMinOpacity:e.minOpacity,uCornerRadii:[e.cornerRadiusTopRight??e.cornerRadius,e.cornerRadiusBottomRight??e.cornerRadius,e.cornerRadiusTopLeft??e.cornerRadius,e.cornerRadiusBottomLeft??e.cornerRadius]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new VB({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>ss(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{Ja(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r)},e)}findDatumAt(e,n){e=Xt(e);const r=this.unitView.getCollector().facetBatches.get(e);if(!r)return;const i=this.encoders,o=i.x.scale.type;if(ei(o)){const s=i.x.accessor;return r.find(a=>n==s(a))}else{const s=i.x.accessor,a=i.x2.accessor;return r.find(u=>n>=s(u)&&n<a(u))}}}const lk=`/**
 * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
 * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
 * geometric zoom, etc.
 */
uniform bool uInwardStroke;

/** Maximum size of the largest point as the fraction of the height of the (faceted) view */
uniform lowp float uMaxRelativePointDiameter;

/** Scale factor for geometric zoom */
uniform float uScaleFactor;

/** The size of the largest point in the data */
uniform float uMaxPointSize;

uniform float uZoomLevel;
uniform float uSemanticThreshold;

out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;


float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

/**
 * Computes a scaling factor for the points in a sample-faceted view.
 */
float getDownscaleFactor(vec2 pos) {
    if (!isFacetedSamples()) {
        return 1.0;
    }

    float sampleFacetHeight = getSampleFacetHeight(pos);
    float maxPointDiameter = sqrt(uMaxPointSize);

    float factor = sampleFacetHeight *
        uViewportSize.y *
        uMaxRelativePointDiameter;

    return clamp(0.0, maxPointDiameter, factor) / maxPointDiameter;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor *
        getDownscaleFactor(pos);

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;
    gl_PointSize = (diameter + padding) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,ck=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

uniform bool uInwardStroke;
uniform float uGradientStrength;

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float TRIANGLE_UP = 2.0;
const float CROSS = 3.0;
const float DIAMOND = 4.0;
const float TRIANGLE_DOWN = 5.0;
const float TRIANGLE_RIGHT = 6.0;
const float TRIANGLE_LEFT = 7.0;


// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float equilateralTriangle(vec2 p, float r, bool flip, bool swap) {
    if (swap) {
        p.xy = p.yx;
    }
    if (flip) {
        p.y = -p.y;
    }

    float k = sqrt(3.0);
    float kr = k * r;
    //p.y -= kr * 2.0 / 3.0;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r, true, false);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_DOWN) {
        d = equilateralTriangle(p, r, false, false);

    } else if (vShape == TRIANGLE_RIGHT) {
        d = equilateralTriangle(p, r, false, true);

    } else if (vShape == TRIANGLE_LEFT) {
        d = equilateralTriangle(p, r, true, true);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,tr=1<<0,ai=1<<1,g0=1<<2,hk={};class nt{get behavior(){return 0}constructor(){this.children=[],this.parent=void 0,this.completed=!1}reset(){this.completed=!1;for(const e of this.children)e.reset()}initialize(){}_updatePropagator(){this._propagate=Function("children",sa(this.children.length).map(e=>`const child${e} = children[${e}];`).join(`
`)+`return function propagate(datum) {${sa(this.children.length).map(e=>`child${e}.handle(datum);`).join(`
`)}}`)(this.children)}setParent(e){this.parent=e}addChild(e){if(e.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(e),e.setParent(this),this._updatePropagator(),this}adopt(e){e.parent&&e.parent.removeChild(e),this.addChild(e)}adoptChildrenOf(e){for(const n of e.children)this.adopt(n)}insertAsParent(e){if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");e.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.parent=void 0,e.addChild(this)}removeChild(e){const n=this.children.indexOf(e);if(n>-1)this.children.splice(n,1),e.parent=void 0,this._updatePropagator();else throw new Error("Trying to remove an unknown child node!")}excise(){if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const e=this.children[0];e.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(e){e(this);for(const n of this.children)n.visit(e);e.afterChildren&&e.afterChildren(this)}subtreeToString(e=0){const n=this.children.map(r=>r.subtreeToString(e+1)).join("");return`${" ".repeat(e*2)}* ${this.constructor.name}${("identifier"in this&&this.identifier?": "+this.identifier:"")??""} 
${n}`}getGlobalObject(){return this.parent?this.parent.getGlobalObject():hk}handle(e){this._propagate(e)}complete(){this.completed=!0;for(const e of this.children)e.complete()}beginBatch(e){for(const n of this.children)n.beginBatch(e)}_propagate(e){}}function jw(t){return t.type=="file"}function dk(t){return t.type=="facet"}class Zw extends nt{constructor(e){super(),this.k=e.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(e){this.reservoir.push(e),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(e){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=e,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(e){this.ingester(e)}complete(){for(const e of this.reservoir)this._propagate(e);super.complete()}}function pk(t,e,n){const r=new Zw({type:"sample",size:t});for(const i of e)r.handle(n(i));return r.complete(),r.reservoir}const gk={};class mk extends nf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02}))}getAttributes(){return["inwardStroke","uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","gradientStrength","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...gk}}fixEncoding(e){return qw(e,this.properties.filled),Vw(e,this.properties.filled),delete e.color,delete e.opacity,e}initializeData(){super.initializeData();const e=this.unitView.getAccessor("semanticScore");e&&(this.sampledSemanticScores=Float32Array.from(pk(1e4,this.unitView.getCollector().getData(),e)),this.sampledSemanticScores.sort((n,r)=>n-r))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(lk,ck)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Kt(this.programInfo,{uInwardStroke:e.inwardStroke,uGradientStrength:e.fillGradientStrength,uMaxRelativePointDiameter:1-2*e.sampleFacetPadding})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new ZB({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}_getGeometricScaleFactor(){const e=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/e),1/3)}_getMaxPointSize(){const e=this.encoders.size;return e.constant?e(null):e.scale.range().reduce((n,r)=>Math.max(n,r))}getSemanticThreshold(){if(this.sampledSemanticScores){const e=Math.max(0,1-this.properties.semanticZoomFraction*this.unitView.getZoomLevel());if(e<=0)return-1/0;if(e>=1)return 1/0;{const n=this.sampledSemanticScores;return Im(n,e)}}else return-1}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>Kt(this.programInfo,{uMaxPointSize:this._getMaxPointSize(),uScaleFactor:this._getGeometricScaleFactor(),uSemanticThreshold:this.getSemanticThreshold()})),n.push(()=>ss(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{i&&Ja(n,this.vertexArrayInfo,n.POINTS,i,r)},e)}}const bk=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

/** Minimum rule length in pixels */
uniform float uMinLength;

uniform mediump float uDashTextureSize;
uniform lowp int uStrokeCap;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,yk=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;
uniform float uDashTextureSize;
uniform float uStrokeDashOffset;
uniform lowp int uStrokeCap;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`;class wk extends nf{constructor(e){super(e),this.dashTextureSize=0,Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){if(!(e.x&&e.y&&e.x2&&e.y2))if(e.x&&e.x2&&!e.y)e.y={value:.5},e.y2=e.y;else if(e.y&&e.y2&&!e.x)e.x={value:.5},e.x2=e.x;else if(e.x&&!e.y)e.y={value:0},e.y2={value:1},e.x2=e.x;else if(e.y&&!e.x)e.x={value:0},e.x2={value:1},e.y2=e.y;else if(e.x&&e.y&&e.y2)e.x2=e.x;else if(e.y&&e.x&&e.x2)e.y2=e.y;else if(e.y&&e.x)if(!e.x2&&fn(e.y)&&e.y.type=="quantitative")e.x2=e.x,e.y2={datum:0};else if(!e.y2&&fn(e.x)&&e.x.type=="quantitative")e.y2=e.y,e.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(e));return e}async initializeGraphics(){if(await super.initializeGraphics(),this.properties.strokeDash){const e=this.gl,n=xk(this.properties.strokeDash);this.dashTexture=Ka(e,{mag:e.NEAREST,min:e.NEAREST,internalFormat:e.R8,format:e.RED,src:n,height:1}),this.dashTextureSize=n.length}this.createAndLinkShaders(bk,yk)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Kt(this.programInfo,{uMinLength:e.minLength,uDashTextureSize:this.dashTextureSize,uStrokeCap:["butt","square","round"].indexOf(e.strokeCap)})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new jB({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return this.dashTexture&&n.push(()=>Kt(this.programInfo,{uDashTexture:this.dashTexture,uStrokeDashOffset:this.properties.strokeDashOffset})),n.push(()=>ss(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Ja(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),e)}}function xk(t){if(t.length==0||t.length%2||t.findIndex(o=>Math.round(o)!=o||o<1||o>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(t));const e=t.reduce((o,s)=>o+s),n=new Uint8Array(e);let r=!0,i=0;for(let o of t){for(;o;)n[i++]=r&&255||0,o--;r=!r}return n}const vk=`uniform float uSagittaScaleFactor;

/** Make very small arcs visible */
uniform float uMinSagittaLength;

in vec2 strip;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    vec2 a = vec2(getScaled_x(), getScaled_y()) * uViewportSize;
    vec2 b = vec2(getScaled_x2(), getScaled_y2()) * uViewportSize;
    
    vec2 chordVector = b - a;
    vec2 unitChordVector = normalize(chordVector);
    vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);

    float sagitta = max(
        length(chordVector) / 2.0 * uSagittaScaleFactor,
        uMinSagittaLength
    );

    bool compress = false;
    if (compress) {
        // Work in progres...
        float maxSagittaLen = length(chordNormal * uViewportSize);
        float maxChordLen = length(unitChordVector * uViewportSize);

        float threshold = maxSagittaLen * 0.5;
        if (sagitta > threshold) {
            float m = (maxSagittaLen - threshold) / (maxChordLen - threshold);
            sagitta = (sagitta - threshold) * m + threshold;
        }
    }

    vec2 controlOffset = chordNormal * sagitta / 0.75;

    vec2 p1 = a;
    vec2 p2 = a + controlOffset;
    vec2 p3 = b + controlOffset;
    vec2 p4 = b;

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    //p = applySampleFacet(p);

#ifdef size2_DEFINED
    float mixedSize = mix(getScaled_size(), getScaled_size2(), t);
#else
    float mixedSize = getScaled_size();
#endif

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (mixedSize < pixelSize) {
        opacity *= mixedSize / pixelSize;
        mixedSize = pixelSize;
    }

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float paddedSize = mixedSize + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

#ifdef color2_DEFINED
    // Yuck, RGB interpolation in gamma space!
    // TODO: linear space: https://unlimited3d.wordpress.com/2020/01/08/srgb-color-space-in-opengl/
    vec3 color = mix(getScaled_color(), getScaled_color2(), t);
#else 
    vec3 color = getScaled_color();
#endif

    vColor = vec4(color * opacity, opacity);

    vSize = paddedSize;

    setupPicking();
}
`,Ak=`in lowp vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`;class Ek extends nf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,sagittaScaleFactor:1,minSagittaLength:1.5}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","height","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){return e.x||(e.x2=e.x),e.y2||(e.y2=e.y),e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(vk,Ak)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Kt(this.programInfo,{uSagittaScaleFactor:e.sagittaScaleFactor,uMinSagittaLength:e.minSagittaLength})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new WB({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();i.arrays.strip={data:_k(this.properties.segments),numComponents:2},this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([o,s])=>[o,{...s,data:void 0}])),this.updateBufferInfo(i)}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{this.gl.bindVertexArray(this.vertexArrayInfo.vertexArrayObject);for(const o of Object.entries(this.bufferInfo.attribs)){const[s,a]=o;a.buffer&&a.numComponents&&a.divisor&&(a.offset=r*this.arrays[s].numComponents*4)}ss(n,this.programInfo,this.bufferInfo),Ja(n,this.bufferInfo,n.TRIANGLE_STRIP,(this.properties.segments+1)*2,0,i)},e)}}function _k(t){let e=0;const n=[];for(;e<=t;e++)n.push(e/t,.5),n.push(e/t,-.5);return n}const Sk=`uniform float uSdfNumerator;

uniform vec2 uD; // dx & dy

in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

uniform vec4 uViewportEdgeFadeWidth;
uniform vec4 uViewportEdgeFadeDistance;
    
uniform bool uSqueeze;
uniform bool uLogoLetter;

// Width of the text (all letters)
in float width;

// x: -1, 0, 1 = left, center, right
// y: -1, 0, 1 = top, middle, bottom 
uniform ivec2 uAlign;

#ifdef x2_DEFINED
uniform float uPaddingX;
uniform bool uFlushX;
#endif

#ifdef y2_DEFINED
uniform float uPaddingY;
uniform bool uFlushY;
#endif

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vColor = vec4(getScaled_color() * opacity, opacity);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,Ck=`uniform sampler2D uTexture;
uniform bool uLogoLetter;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    // Raise to the power of 2.2 to do some cheap gamma correction
    opa *= pow(clamp(vEdgeFadeOpacity, 0.0, 1.0), 2.2);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,Tk={left:-1,center:0,right:1},Fk={top:-1,middle:0,bottom:1,alphabetic:1};class Ik extends nf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0})),this.font=this.properties.font?e.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):e.context.fontManager.getDefaultFont()}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(e){for(const n of Xo)this.properties.fitToBand&&p0(e,n);return e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(Sk,Ck)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Kt(this.programInfo,{uPaddingX:e.paddingX,uPaddingY:e.paddingY,uFlushX:!!e.flushX,uFlushY:!!e.flushY,uAlign:[Tk[e.align],Fk[e.baseline]],uD:[e.dx,-e.dy],uLogoLetter:!!e.logoLetters,uSqueeze:!!e.squeeze,uViewportEdgeFadeWidth:[e.viewportEdgeFadeWidthTop,e.viewportEdgeFadeWidthRight,e.viewportEdgeFadeWidthBottom,e.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[e.viewportEdgeFadeDistanceTop,e.viewportEdgeFadeDistanceRight,e.viewportEdgeFadeDistanceBottom,e.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getData(),r=this.encoding,i=this.encoders.text.accessor||this.encoders.text;let o=0;const s="format"in r.text?gt(r.text.format):f=>f;for(const f of n){const l=s(i(f)),c=Ke(l)?l:l===null?"":""+l;o+=c&&c.length||0}const a=new $B({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(o,this.properties.minBufferSize||0)});a.addBatches(e.facetBatches);const u=a.toArrays();this.rangeMap.migrateEntries(u.rangeMap),this.updateBufferInfo(u)}prepareRender(e){const n=super.prepareRender(e);let r=.35;this.properties.logoLetters&&(r/=2);const i=this.font.metrics.common.base/(this.unitView.context.devicePixelRatio/r);return n.push(()=>Kt(this.programInfo,{uTexture:this.font.texture,uSdfNumerator:i})),n.push(()=>ss(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Ja(n,this.vertexArrayInfo,n.TRIANGLES,i,r),e)}}function Ww(t,e,{spacing:n,devicePixelRatio:r,offset:i,reverse:o}={}){n=n||0,i=i||0;let s=0,a=0;for(const p of t)s+=Ml(p.px)+(m0(p)?0:n),a+=Ml(p.grow);s-=n;const u=Math.max(0,e-s),f=r!==void 0?p=>Math.round(p*r)/r:p=>p,l=[],c=[],h=p=>{const b=l.length;if(!b)return;const y=(p?n:0)*(o?-1:1);d-=y;for(let w=0;w<b;w++)c.push({location:d+(w+1)/(b+1)*y,size:0});d+=y,l.length=0};let d=o?Math.max(e,s):0+i;if(t.length==1&&m0(t[0]))return[{location:d,size:0}];for(let p=0;p<t.length;p++){const b=t[p];if(m0(b))l.push(b);else{h(c.length>0);const y=Ml(b.px)+(a?Ml(b.grow)/a*u:0);o&&(d-=y),c.push({location:f(d),size:f(y)}),o?d-=n:d+=y+n}}return d+=o?n:-n,h(!1),c}function Dk(t){let e=0,n=0;for(const r of t)e=Math.max(e,r.px??0),n=Math.max(n,r.grow??0);return{px:e,grow:n}}const Jg=class{constructor(e,n){be(this,nu);this.width=e,this.height=n}addPadding(e){return ue(this,nu,om).call(this,e.width,e.height)}subtractPadding(e){return ue(this,nu,om).call(this,-e.width,-e.height)}};let io=Jg;nu=new WeakSet,om=function(e,n){return new Jg({px:(this.width.px??0)+e,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};const rf=Object.freeze({px:0,grow:0}),Bk=new io(rf,rf);function m0(t){return!t.px&&!t.grow}function Ml(t){return t||0}function kk(t){return t&&(Mt(t.px)||Mt(t.grow))}function $w(t){if(Kw(t))throw new Error("parseSizeDef does not accept step-based sizes.");if(kk(t))return t;if(Mt(t))return{px:t,grow:0};if(t==="container")return{px:0,grow:1};if(!t)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${t}`)}class St{constructor(e,n,r,i){this.top=e||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(e){return e<=0?this:new St(this.top+e,this.right+e,this.bottom+e,this.left+e)}add(e){return new St(this.top+e.top,this.right+e.right,this.bottom+e.bottom,this.left+e.left)}subtract(e){return new St(this.top-e.top,this.right-e.right,this.bottom-e.bottom,this.left-e.left)}union(e){return new St(Math.max(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom),Math.max(this.left,e.left))}getHorizontal(){return new St(0,this.right,0,this.left)}getVertical(){return new St(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(e){return typeof e=="number"?this.createUniformPadding(e):e?this.createFromRecord(e):b0}static createFromRecord(e){return new St(e.top,e.right,e.bottom,e.left)}static zero(){return b0}static createUniformPadding(e){return new St(e,e,e,e)}}const b0=St.createUniformPadding(0);Object.freeze(b0);const Rk=/^([A-Za-z]+:)?\/\//;function Pk(t,e){if(e&&Rk.test(e))return e;const n=t();return n&&e?n.endsWith("/")?n+e:n+"/"+e:n??e}const Yw="VISIT_SKIP",of="VISIT_STOP",Qw=t=>t;class Xw{constructor(e,n,r,i,o){be(this,Gc);be(this,ou);be(this,Qs,{});be(this,ru,{});be(this,iu,{});on(this,"opacityFunction",Qw);if(!e)throw new Error("View spec must be defined!");this.context=n,this.layoutParent=r,this.dataParent=i,this.name=e.name||o,this.spec=e,this.resolutions={scale:{},axis:{}},zw(this),this.blockEncodingInheritance=!1,this.contributesToScaleDomain=!0,this.needsAxes={x:!1,y:!1}}getPadding(){return this._cache("size/padding",()=>St.createFromConfig(this.spec.padding))}getOverhang(){return St.zero()}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?ue(this,Gc,Y3).call(this):Bk)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(e=>e.isConfiguredVisible())}getEffectiveOpacity(){var e;return this.opacityFunction(((e=this.layoutParent)==null?void 0:e.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(e=>e.name).reverse().join("/")}getLayoutAncestors(){return ue(this,ou,sm).call(this,"layoutParent")}getDataAncestors(){return ue(this,ou,sm).call(this,"dataParent")}handleBroadcast(e){for(const n of ie(this,Qs)[e.type]||[])n(e)}_addBroadcastHandler(e,n){let r=ie(this,Qs)[e];r||(r=[],ie(this,Qs)[e]=r),r.push(n)}handleInteractionEvent(e,n,r){const i=r?ie(this,ru):ie(this,iu);for(const o of i[n.type]||[])o(e,n)}addInteractionEventListener(e,n,r){const i=r?ie(this,ru):ie(this,iu);let o=i[e];o||(o=[],i[e]=o),o.push(n)}visit(e){try{const n=e(this);if(e.postOrder&&e.postOrder(this),n!==of)return n}catch(n){throw n.view=this,n}}getDescendants(){const e=[];return this.visit(n=>{e.push(n)}),e}onScalesResolved(){(!this.opacityFunction||this.opacityFunction===Qw)&&(this.opacityFunction=Nk(this))}onBeforeRender(){}render(e,n,r={}){}getEncoding(){const e=this.dataParent&&!this.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...e,...n};for(const[i,o]of Object.entries(r))o===null&&delete r[i];return r}getFacetAccessor(e){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(e){var r;const n=this.getEncoding().sample;return qa(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(e){const n=Xi(e);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(e){const n=Xi(e);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(e,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[e]}getConfiguredOrDefaultResolution(e,n){return this.getConfiguredResolution(e,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(e,n)}getDefaultResolution(e,n){return"independent"}getBaseUrl(){return Pk(()=>{var e;return(e=this.dataParent)==null?void 0:e.getBaseUrl()},this.spec.baseUrl)}isPickingSupported(){return!0}getTitleText(){const e=this.spec.title;if(e)return Ke(e)?e:e.text}_cache(e,n){return fs(this,e,n)}_invalidateCacheByPrefix(e,n="self"){switch(n){case"self":Rl(this,e);break;case"ancestors":for(const r of this.getLayoutAncestors())Rl(r,e);break;case"progeny":this.visit(r=>Rl(r,e));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(e){}}Qs=new WeakMap,ru=new WeakMap,iu=new WeakMap,Gc=new WeakSet,Y3=function(){const e=n=>{var i;let r=this.spec[n];if(Kw(r)){const o=r.step,s=(i=this.getScaleResolution(n=="width"?"x":"y"))==null?void 0:i.getScale();if(s){let a=0;if(ei(s.type))a=s.domain().length;else if(["locus","index"].includes(s.type)){const f=s.domain();a=Sa(f)-f[0]}else throw new Error(`Cannot use step-based size with "${s.type}" scale!`);const u=s;return a=Ed(a,u.paddingInner(),u.paddingOuter()),{px:a*o,grow:0}}else throw new Error("Cannot use 'step' size with missing scale!")}else return(r&&$w(r))??{px:0,grow:1}};return this._cache("size/sizeFromSpec",()=>new io(e("width"),e("height")))},ou=new WeakSet,sm=function(e){const n=[];let r=this;do n.push(r),r=r[e];while(r);return n};function Mk(t){return"unitsPerPixel"in t}function Nk(t){const e=t.spec.opacity;if(e!==void 0){if(Mt(e))return n=>n*e;if(Mk(e)){const n=o=>{var a;const s=(a=t.getScaleResolution(o))==null?void 0:a.getScale();if(["linear","index","locus"].includes(s==null?void 0:s.type))return s},r=e.channel?n(e.channel):n("x")||n("y");if(!r)throw new Error("Cannot find a resolved quantitative scale for dynamic opacity!");const i=gd().domain(e.unitsPerPixel).range(e.values).clamp(!0);return o=>{const a=wu(r.domain())/1e3;return i(a)*o}}}return n=>n}const Kw=t=>!!(t!=null&&t.step);class us extends Xw{constructor(e,n,r,i,o){super(e,n,r,i,o),this.spec=e}*[Symbol.iterator](){}replaceChild(e,n){throw new Error("Not implemented")}visit(e){let n;try{n=e(this)}catch(r){throw r.view=this,r}if(n===of)return n;if(n!==Yw){e.beforeChildren&&e.beforeChildren(this);for(const r of this){const i=r.visit(e);if(i===of)return i}e.afterChildren&&e.afterChildren(this),e.postOrder&&e.postOrder(this)}}findDescendantByPath(e){for(const n of this)if(n.name===e[0]){if(e.length==1)return n;if(n instanceof us)return n.findDescendantByPath(e.slice(1))}}findChildByName(e){for(const n of this)if(n.name===e)return n}findDescendantByName(e){let n;return this.visit(r=>{if(r.name==e)return n=r,of}),n}getDefaultResolution(e,n){return"shared"}}const Jw=1;function y0(){let t=[0,1],e=[0,1],n=1,r=1,i=0,o=0,s=.5,a=0;const f=l=>(l+s-t[0])/n*r+e[0];return f.invert=l=>(l-e[0])/r*n+t[0]-s,f.domain=function(l){if(arguments.length){t=US(l),n=t[1]-t[0];const c=t[0]===0&&t[0]===0;if(n<Jw&&!c){n=Jw;const h=(t[0]+t[1])/2;t[0]=h-n/2,t[1]=h+n/2}return f}else return t.slice()},f.range=function(l){return arguments.length?(e=[...l],r=e[1]-e[0],f):e},f.numberingOffset=function(l){return arguments.length?(a=l,f):a},f.padding=function(l){return arguments.length?(o=l,i=Math.min(1,l),f):i},f.paddingInner=function(l){return arguments.length?(i=Math.min(1,l),f):i},f.paddingOuter=function(l){return arguments.length?(o=l,f):o},f.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),f):s},f.step=()=>r/n,f.bandwidth=()=>f.step(),f.ticks=l=>{const c=f.align(),h=f.numberingOffset();return _u(t[0]-c+h,t[1]-c+h,Math.min(l,Math.ceil(n))).filter(Number.isInteger).map(d=>d-a)},f.tickFormat=(l,c)=>{if(c)throw new Error("Index scale's tickFormat does not support a specifier!");const d=Mi(t[0],t[1],Math.min(l,Math.ceil(n)))<1e5?gt(","):gt(".3s");return p=>d(p+a)},f.copy=()=>y0().domain(t).range(e).paddingInner(i).paddingOuter(o).numberingOffset(a),f}function Lk(){const t=y0().numberingOffset(1);let e;t.genome=function(r){return arguments.length?(e=r,t):e},t.ticks=r=>{if(!e)return[];const i=t.domain(),o=t.numberingOffset(),[s,a]=[Math.max(i[0],0),Math.min(i[1],e.totalSize-1)].map(l=>e.toChromosome(l)),u=Math.max(1,Mi(i[0],i[1],r)),f=[];for(let l=s.index;l<=a.index;l++){const c=e.chromosomes[l],h=Math.max(c.continuousStart+u,i[0]-(i[0]-c.continuousStart)%u),d=Math.min(c.continuousEnd-u/4,i[1]+1);for(let p=h;p<=d;p+=u){const b=p-o;b>=i[0]&&b<i[1]&&f.push(b)}}return f},t.tickFormat=(r,i)=>{if(!e)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const o=t.domain(),s=o[1]-o[0],a=t.numberingOffset(),f=Mi(o[0],o[1],Math.min(r,Math.ceil(s)))<1e6?gt(","):gt(".3s"),l=c=>c-e.toChromosome(c).continuousStart;return c=>f(l(c)+a)};const n=t.copy;return t.copy=()=>n().genome(e),t}function Ok(t){return t.type=="locus"}function Nl(t,e,n){if(n=n||[],t.some(s=>s===null)){if(t.every(s=>s===null))return null;throw console.warn(t),new Error("Cannot merge objects with nulls!")}const r={},i=(s,a)=>s===a||ls(s)&&ls(a)||ls(s)&&a===!0||s===!0&&Tn(a),o=s=>{for(let a in s){const u=s[a];if(!n.includes(a)&&u!==void 0)if(r[a]!==void 0&&!i(r[a],u))console.warn(`Conflicting property ${a} of ${e}: (${JSON.stringify(r[a])} and ${JSON.stringify(s[a])}). Using ${JSON.stringify(r[a])}.`);else{const f=r[a];if(ls(f))ls(u)&&(r[a]=Nl([f,u],a));else if(ls(u)){if(!(f===!0||f===void 0))throw new Error("Bug in merge! Target is: "+f);r[a]=Nl([{},u],a)}else r[a]=u}}};for(const s of t)o(s);return r}function ls(t){return Tn(t)&&!Array.isArray(t)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function ex(t,e,n){return Mt(e)&&n!=null&&(e=Math.min(e,~~(wu(t.domain())/n)||1)),Tn(e)&&(e.step,e=e.interval),e}function tx(t,e,n){var r=t.range(),i=Math.floor(r[0]),o=Math.ceil(Fn(r));if(i>o&&(r=o,o=i,i=r),e=e.filter(function(a){return a=t(a),i<=a&&a<=o}),n>0&&e.length>1){for(var s=[e[0],Fn(e)];e.length>n&&e.length>=3;)e=e.filter(function(a,u){return!(u%2)});e.length<3&&(e=s)}return e}function zk(t,e){return t.bins?tx(t,Uk(t.bins,e)):t.ticks?t.ticks(e):t.domain()}function Uk(t,e){var n=t.length,r=~~(n/(e||n));return r<2?t.slice():t.filter(function(i,o){return!(o%r)})}function Gk(t,e,n){var r=t.tickFormat?t.tickFormat(e,n):n?gt(n):String;if(oy(t.type)){var i=qk(n);r=t.bins?i:Hk(r,i)}return r}function Hk(t,e){return function(n){return t(n)?e(n):""}}function qk(t){var e=Hr(t||",");if(e.precision==null){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1;break}return Vk(gt(e),gt(".1f")(1)[1])}else return gt(e)}function Vk(t,e){return function(n){var r=t(n),i=r.indexOf(e),o,s;if(i<0)return r;for(o=jk(r,i),s=o<r.length?r.slice(o):"";--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function jk(t,e){var n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const Zk="locus",Wk="index";var $k=5;function Yk(t){const e=t.type;return!t.bins&&(e===$o||e===Oa||e===za)}function nx(t){return Et(t)&&![Kn,Wk,Zk].includes(t)}function rx(t){return t||{warn:(e,...n)=>console.warn(e,...n)}}var Qk=vu(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function ix(t,e,n){n=rx(n);for(const r in t)if(!Qk[r]){if(r==="padding"&&nx(e.type))continue;Pt(e[r])?e[r](t[r]):n.warn("Unsupported scale property: "+r)}iR(e,t,rR(e,t,eR(e,t,n)))}function Xk(t,e){const n=Kk(t),r=Ce(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!t.domain&&Et(i.type)&&(t.domain=[0,0]),ix(t,i,e),i}function Kk(t){var e=t.type,n="",r;return e===Kn?Kn+"-"+$o:(Jk(t)&&(r=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,n=r===2?Kn+"-":r===3?Yo+"-":""),(n+e||$o).toLowerCase())}function Jk(t){const e=t.type;return Et(e)&&e!==Xb&&e!==Kb&&(t.scheme||t.range&&t.range.length&&t.range.every(Ke))}function eR(t,e,n){if(!t.domain)return 0;n=rx(n);var r=tR(t,e.domainRaw,n);if(r>-1)return r;var i=e.domain,o=t.type,s=e.zero||e.zero===void 0&&Yk(t),a,u;return i?(nx(o)&&e.padding&&i[0]!==Fn(i)&&(i=nR(o,i,e.range,e.padding,e.exponent,e.constant)),(s||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),e.domainMin!=null&&(i[0]=e.domainMin),e.domainMax!=null&&(i[a]=e.domainMax),e.domainMid!=null&&(u=e.domainMid,(u<i[0]||u>i[a])&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(a,0,u))),t.domain(ox(o,i,n)),o===Sd&&t.unknown(e.domainImplicit?Zh:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&ex(t,e.nice)||null),i.length):0}function tR(t,e,n){return e?(t.domain(ox(t.type,e,n)),e.length):-1}function nR(t,e,n,r,i,o){var s=Math.abs(Fn(n)-n[0]),a=s/(s-2*r),u=t===Jr?gm(e,null,a):t===za?th(e,null,a,.5):t===Oa?th(e,null,a,i||1):t===il?lS(e,null,a,o||1):pm(e,null,a);return e=e.slice(),e[0]=u[0],e[e.length-1]=u[1],e}function ox(t,e,n){if(oy(t)){var r=Math.abs(e.reduce(function(i,o){return i+(o<0?-1:o>0?1:0)},0));r!==e.length&&n.warn("Log scale domain includes zero: "+xu(e))}return e}function rR(t,e,n){let r=e.bins;if(r&&!Qt(r)){const i=(r.start==null||r.stop==null)&&t.domain(),o=r.start==null?i[0]:r.start,s=r.stop==null?Fn(i):r.stop,a=r.step;a||Xe("Scale bins parameter missing step property."),r=sa(o,s+a,a)}return r?t.bins=r:t.bins&&delete t.bins,t.type===Td&&(r?!e.domain&&!e.domainRaw&&(t.domain(r),n=r.length):t.bins=t.domain()),n}function iR(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(e.rangeStep!=null)o=oR(r,e,n);else if(e.scheme&&(o=sR(r,e,n),Pt(o))){if(t.interpolator)return t.interpolator(o);Xe(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&sl(r))return t.interpolator(al(w0(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(sy(e.interpolate,e.interpolateGamma)):Pt(t.round)?t.round(i):Pt(t.rangeRound)&&t.interpolate(i?Na:Xr),o&&t.range(w0(o,e.reverse))}function oR(t,e,n){t!==ty&&t!==Cd&&Xe("Only band and point scales support rangeStep.");var r=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,i=t===Cd?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*Ed(n,i,r)]}function sR(t,e,n){var r=e.schemeExtent,i,o;return Qt(e.scheme)?o=al(e.scheme,e.interpolate,e.interpolateGamma):(i=e.scheme.toLowerCase(),o=Id(i),o||Xe(`Unrecognized scheme name: ${e.scheme}`)),n=t===ey?n+1:t===Td?n-1:t===_d||t===Jb?+e.schemeCount||$k:n,sl(t)?sx(o,r,e.reverse):Pt(o)?IT(sx(o,r),n):t===Sd?o:o.slice(0,n)}function sx(t,e,n){return Pt(t)&&(e||n)?FT(t,w0(e||[0,1],n)):t}function w0(t,e){return e?t.slice().reverse():t}const ax=gt(",d");function aR(t,e){return t.chrom+":"+ax(Math.floor(t.pos+1))+"-"+(t.chrom!=e.chrom?e.chrom+":":"")+ax(Math.ceil(e.pos))}const fR="https://genomespy.app/data/genomes/";class uR{constructor(e){if(this.config=e,!this.config.contigs&&typeof this.config.name!="string")throw new Error("No name has been defined for the genome assembly!");this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,this.config.contigs&&this.setChromSizes(this.config.contigs)}get name(){return this.config.name}async load(e){if(!this.config.contigs){this.config.baseUrl?this.baseUrl=/^http(s)?/.test(this.config.baseUrl)?this.config.baseUrl:e+"/"+this.config.baseUrl:this.baseUrl=fR;try{this.setChromSizes(lR(await Nu({baseURL:this.baseUrl}).load(`${this.config.name}/${this.name}.chrom.sizes`)))}catch(n){throw new Error(`Could not load chrom sizes: ${n.message}`)}}}hasChrPrefix(){return this.chromosomes.some(e=>e.name.startsWith("chr"))}setChromSizes(e){let n=0;this.startByIndex=[0];for(let r=0;r<e.length;r++){this.startByIndex.push(n);const i=e[r].size,o={...e[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(o);const s=o.name.replace(/^chr/i,"");for(const a of["chr"+s,"CHR"+s,"Chr"+s,o.number,""+o.number,s,o.name])this.cumulativeChromPositions.set(a,n),this.chromosomesByName.set(a,o);n+=o.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(e,n){let r=this.cumulativeChromPositions.get(e);if(r===void 0)throw new Error("Unknown chromosome/contig: "+e);return r+ +n}toChromosome(e){if(e>this.totalSize)return;e=Math.floor(e);const n=Mo(this.startByIndex,e)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(e){const n=this.toChromosome(e);if(n)return{chrom:n.name,pos:Math.floor(e)-n.continuousStart}}getChromosome(e){return this.chromosomesByName.get(e)}formatInterval(e){return aR(...this.toChromosomalInterval(e))}toChromosomalInterval(e){const n=this.toChromosomal(e[0]+.5),r=this.toChromosomal(e[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(e){var i;let[n,r]=e;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(e){const n=e[0],r=e[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const o=this.chromosomes.findIndex(a=>a.name===n.chrom),s=this.chromosomes.findIndex(a=>a.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[o].size});for(let a=o+1;a<s;a++)i.push({chrom:this.chromosomes[a].name,startPos:0,endPos:this.chromosomes[a].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(e){return this.toDiscreteChromosomeIntervals([this.toChromosomal(e[0]),this.toChromosomal(e[1])])}parseInterval(e){const n=e.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(a=>a===void 0)){const a=this.getChromosome(r);return a?[a.continuousStart,a.continuousEnd]:void 0}const i=n[3]||r,o=parseInt(n[2].replace(/,/g,"")),s=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):o;return[this.toContinuous(r,o-1),this.toContinuous(i,s)]}}}function lR(t){return IS(t).filter(e=>/^chr[0-9A-Z]+$/.test(e[0])).map(([e,n])=>({name:e,size:parseInt(n)}))}function fx(t){return Tn(t)&&"chrom"in t}function cR(t){return t.every(fx)}class sf extends Array{constructor(){super(),this.type=void 0}extend(e){return this}extendAll(e){if(e instanceof sf&&e.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${e.type}`);for(const n of e)this.extend(n);return this}extendAllWithAccessor(e,n){for(const r of e)this.extend(n(r));return this}}class x0 extends sf{constructor(){super(),this.type="quantitative"}extend(e){return e==null||Number.isNaN(e)?this:(e=+e,this.length?e<this[0]?this[0]=e:e>this[1]&&(this[1]=e):(this.push(e),this.push(e)),this)}}class ux extends sf{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(e){return e==null||Number.isNaN(e)?this:(this.uniqueValues.has(e)||(this.uniqueValues.add(e),this.push(e)),this)}}class lx extends ux{constructor(){super(),this.type="nominal"}}class hR extends sf{constructor(e){super();let n=0;for(let r=1;r<e.length;r++)n+=Math.sign(e[r]-e[r-1]);if(Math.abs(n)!=e.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(e));e.forEach(r=>this.push(r))}extend(e){if(this.includes(e))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const cx={quantitative:x0,index:x0,locus:x0,nominal:lx,ordinal:ux};function hx(t,e){if(t=="quantitative"&&dR(e)){const n=new hR(e);return n.type=t,n}else if(cx[t]){const n=new cx[t];return n.type=t,e&&n.extendAll(e),n}throw new Error("Unknown type: "+t)}function dR(t){return t&&t.length>0&&t.length!=2&&t.every(e=>typeof e=="number")}function pR(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function gR(t,e,n){return t*Math.pow(e/t,n)}Ce("index",y0,["continuous"]),Ce("locus",Lk,["continuous"]),Ce("null",fl,[]);const dx="quantitative",px="ordinal",gx="nominal",mx="locus",mR="index";class bR{constructor(e){be(this,dr);be(this,Hc);be(this,Ks);be(this,Mr);be(this,su);be(this,qc);be(this,em);be(this,au);be(this,Pr,void 0);be(this,Xs,new Set);be(this,xt,void 0);this.channel=e,this.members=[],this.type=null,this.name=void 0}addEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);ie(this,Xs).add(n)}removeEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);ie(this,Xs).delete(n)}pushUnitView(e,n){var s;const r=Dd(e,n),i=r.type,o=(s=r==null?void 0:r.scale)==null?void 0:s.name;if(o){if(this.name!==void 0&&o!=this.name)throw new Error(`Shared scales have conflicting names: "${o}" vs. "${this.name}"!`);this.name=o}if(!this.type)this.type=i;else if(i!==this.type&&!Za(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push({view:e,channel:n})}isExplicitDomain(){return!!this.getConfiguredDomain()}isDomainInitialized(){const e=ie(this,xt);if(!e)return!1;const n=e.domain();return Et(e.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0}getScaleProps(){return fs(this,"scaleProps",()=>{const e=ue(this,Hc,Q3).call(this);if(e===null||e.type=="null")return{type:"null"};const n={...ue(this,qc,X3).call(this,this.type),...e};n.type||(n.type=yR(this.channel,this.type));const r=ue(this,Ks,Xc).call(this);return r&&r.length>0?n.domain=r:ei(n.type)&&(n.domain=new lx),!n.domain&&n.domainMid!==void 0&&(n.domain=[n.domainMin??0,n.domainMax??1]),this.channel=="y"&&ei(n.type)&&n.reverse==null&&(n.reverse=!0),n.range&&n.scheme&&delete n.scheme,!("zoom"in n)&&["index","locus"].includes(n.type)&&(n.zoom=!0),wR(n,this.channel),n})}getConfiguredDomain(){return ue(this,au,fm).call(this,e=>Za(e.channel)?void 0:e.view.getConfiguredDomain(e.channel))}getDataDomain(){return ue(this,au,fm).call(this,e=>Za(e.channel)?void 0:e.view.extractDataDomain(e.channel))}reconfigure(){if(ie(this,xt)&&ie(this,xt).type!="null"){const e=this.isDomainInitialized(),n=ie(this,xt).domain();Ow(this,"scaleProps");const r=this.getScaleProps();if(ix(r,ie(this,xt)),Et(ie(this,xt).type)&&yr(this,Pr,ue(this,su,am).call(this)),!e){ue(this,dr,Bi).call(this);return}const i=ie(this,xt).domain();zu(i,n)||(this.isZoomable()?ie(this,xt).domain(n):ue(this,Mr,Ro).call(this)?(ie(this,xt).domain(n),this.zoomTo(i,500)):ue(this,dr,Bi).call(this))}}getScale(){if(ie(this,xt))return ie(this,xt);const e=this.getScaleProps(),n=Xk(e);return yr(this,xt,n),Ok(n)&&n.genome(this.getGenome()),Et(n.type)&&yr(this,Pr,ue(this,su,am).call(this)),n}getDomain(){return this.getScale().domain()}getComplexDomain(){var e;return((e=this.getGenome())==null?void 0:e.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return ue(this,Mr,Ro).call(this)&&zu(ue(this,Ks,Xc).call(this),this.getDomain())}isZoomable(){return ue(this,Mr,Ro).call(this)&&!!this.getScaleProps().zoom}zoom(e,n,r){if(!ue(this,Mr,Ro).call(this))return!1;const i=this.getScale(),o=i.domain();let s=[...o],a=i.invert(n);switch(this.getScaleProps().reverse&&(r=-r),"align"in i&&(a+=i.align()),i.type){case"linear":case"index":case"locus":s=aS(s,r||0),s=pm(s,a,e);break;case"log":s=fS(s,r||0),s=gm(s,a,e);break;case"pow":case"sqrt":{const u=i;s=uS(s,r||0,u.exponent()),s=th(s,a,e,u.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return ie(this,Pr)&&(s=cS(s,ie(this,Pr)[0],ie(this,Pr)[1])),[0,1].some(u=>s[u]!=o[u])?(i.domain(s),ue(this,dr,Bi).call(this),!0):!1}async zoomTo(e,n=!1){var a;if(yu(n)&&(n=n?700:0),!ue(this,Mr,Ro).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(e),i=(a=this.members[0])==null?void 0:a.view.context.animator,o=this.getScale(),s=o.domain();if(n>0&&s.length==2){const u=s[1]-s[0],f=s[0]+u/2,l=r[1]-r[0],c=r[0]+l/2;await i.transition({duration:n,easingFunction:pR,onUpdate:h=>{const d=gR(u,l,h),p=(u-d)/(u-l),b=p*c+(1-p)*f;o.domain([b-d/2,b+d/2]),ue(this,dr,Bi).call(this)}}),o.domain(r),ue(this,dr,Bi).call(this)}else o.domain(r),i==null||i.requestRender(),ue(this,dr,Bi).call(this)}resetZoom(){if(!ue(this,Mr,Ro).call(this))throw new Error("Not a zoomable scale!");const e=this.getDomain(),n=ue(this,Ks,Xc).call(this);return[0,1].some(r=>n[r]!=e[r])?(ie(this,xt).domain(n),ue(this,dr,Bi).call(this),!0):!1}getZoomLevel(){return this.isZoomable()?wu(ie(this,Pr))/wu(this.getScale().domain()):1}getGenome(){var n;if(this.type!=="locus")return;const e=(n=this.members[0].view.context.genomeStore)==null?void 0:n.getGenome();if(!e)throw new Error("No genome has been defined!");return e}invertToComplex(e){const n=this.getScale();if("invert"in n){const r=n.invert(e);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(e){const n=this.getGenome();return n?n.toChromosomal(e):e}fromComplex(e){return fx(e)?this.getGenome().toContinuous(e.chrom,e.pos):e}fromComplexInterval(e){return this.type==="locus"&&cR(e)?this.getGenome().toContinuousInterval(e):e}}Pr=new WeakMap,Xs=new WeakMap,xt=new WeakMap,dr=new WeakSet,Bi=function(){for(const e of ie(this,Xs).values())e({type:"domain",scaleResolution:this})},Hc=new WeakSet,Q3=function(){return fs(this,"mergedScaleProps",()=>{const e=this.members.map(n=>Dd(n.view,n.channel).scale).filter(n=>n!==void 0);return Nl(e,"scale",["domain"])})},Ks=new WeakSet,Xc=function(){return this.getConfiguredDomain()??(this.type==mx?this.getGenome().getExtent():this.getDataDomain())},Mr=new WeakSet,Ro=function(){const e=this.getScale().type;return Et(e)},su=new WeakSet,am=function(){const e=this.getScaleProps(),n=e.zoom;if(xR(n)&&Qt(n.extent))return this.fromComplexInterval(n.extent);if(n)return e.type=="locus"?this.getGenome().getExtent():ie(this,xt).domain()},qc=new WeakSet,X3=function(e){const n=this.channel,r={};return this.isExplicitDomain()&&(r.zero=!1),ja(n)?r.nice=!this.isExplicitDomain():Ki(n)?r.scheme=e==gx?"tableau10":e==px?"blues":"viridis":ul(n)?r.range=dy(n):n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r},em=new WeakSet,AU=function(){return this.members.map(e=>e.view.getPathString()).join(", ")},au=new WeakSet,fm=function(e){const n=this.members.filter(r=>!r.view.getLayoutAncestors().some(i=>!i.contributesToScaleDomain)).map(e).filter(r=>!!r);if(n.length)return n.reduce((r,i)=>r.extendAll(i))};function yR(t,e){if(e==mR||e==mx){if(cy(t))return e;throw new Error(`${t} does not support ${e} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"]},i=["sample"].includes(t)?"null":n[t]?n[t][[gx,px,dx].indexOf(e)]:e==dx?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${t}" is not compatible with "${e}" data type. Use of a proper scale may be needed.`);return i}function wR(t,e){ja(e)&&t.type!=="ordinal"&&(t.range=[0,1]),e=="opacity"&&Et(t.type)&&(t.clamp=!0)}function xR(t){return Tn(t)}function v0(t){const e=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))e.add(i)}for(const r of Xt(t)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.contributesToScaleDomain)break;n(i)}}e.forEach(r=>r.reconfigure())}function A0(...t){for(const e of t)if(e!==void 0)return e}class vR{constructor(e){this.channel=e,this.members=[]}get scaleResolution(){var e;return(e=Sa(this.members))==null?void 0:e.view.getScaleResolution(this.channel)}pushUnitView(e,n){const r=e.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error("Shared axes must have a shared scale!");this.members.push({view:e,channel:n})}getAxisProps(){return fs(this,"axisProps",()=>{const e=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return e.length>0&&e.some(n=>n===null)?null:Nl(e.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const e=o=>{var a;const s=Dd(o.view,o.channel);if(!Rn(s))return{member:o,explicitTitle:A0("axis"in s?(a=s.axis)==null?void 0:a.title:void 0,s.title),implicitTitle:A0(qa(s)?s.field:void 0,Bd(s)?s.expr:void 0)}},n=this.members.map(e),r=n.filter(o=>{var s;if(Za(o.member.channel)&&!o.explicitTitle){const a=Xi(o.member.channel);return((s=n.find(u=>u.member.view==o.member.view&&u.member.channel==a))==null?void 0:s.explicitTitle)===void 0}return!0}),i=new Set(r.map(o=>A0(o.explicitTitle,o.implicitTitle)).filter(Ke));return i.size?[...i].join(", "):null}}const AR={point:mk,rect:uk,rule:wk,link:Ek,text:Ik};class Dt extends us{constructor(e,n,r,i,o){super(e,n,r,i,o),this.spec=e;const s=AR[this.getMarkType()];if(s)this.mark=new s(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.coords=void 0,this.needsAxes={x:!0,y:!0}}render(e,n,r={}){this.isConfiguredVisible()&&(this.coords=n,e.pushView(this,n),e.renderMark(this.mark,r),e.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}resolve(e){const n=this.mark.encoding;for(const[r,i]of Object.entries(n)){if(!fn(i))continue;const o=Xi(i.resolutionChannel??r);if(!Ji(o)||e=="axis"&&!ja(o))continue;let s=this;for(;(s.getConfiguredOrDefaultResolution(o,e)=="forced"||s.dataParent instanceof us&&["shared","excluded","forced"].includes(s.dataParent.getConfiguredOrDefaultResolution(o,e)))&&s.getConfiguredOrDefaultResolution(o,e)!="excluded";)s=s.dataParent;e=="axis"&&ja(r)&&cy(o)?(s.resolutions[e][o]||(s.resolutions[e][o]=new vR(o)),s.resolutions[e][o].pushUnitView(this,r)):e=="scale"&&Ji(r)&&(s.resolutions[e][o]||(s.resolutions[e][o]=new bR(o)),s.resolutions[e][o].pushUnitView(this,r))}}getAccessor(e){return this._cache("accessor/"+e,()=>{const n=this.mark.encoding;if(n&&n[e])return this.context.accessorFactory.createAccessor(n[e])})}getFacetAccessor(e){const n=this.getAccessor("sample");return n||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}_validateDomainQuery(e){if(Za(e))throw new Error(`getDomain(${e}), must only be called for primary channels!`);const n=this.mark.encoding[e];if(!fn(n))throw new Error("The channel has no scale, cannot get domain!");return n}getConfiguredDomain(e){const n=this._validateDomainQuery(e),r=n&&n.scale&&n.scale.domain;if(r){const i=this.getScaleResolution(n.resolutionChannel??e);return hx(n.type??"nominal",i.fromComplexInterval(r))}}extractDataDomain(e){const r=this._validateDomainQuery(e).type??"nominal",i=a=>{let u;const f=this.mark.encoding[a];if(f){const l=this.context.accessorFactory.createAccessor(f);if(l)if(u=hx(r),l.constant)u.extend(l({}));else{const c=this.getCollector();c!=null&&c.completed&&c.visitData(h=>u.extend(l(h)))}}return u};let o=i(e);const s=kd[e];if(s){const a=i(s);a&&o.extendAll(a)}return o}getZoomLevel(){const e=n=>{var r;return((r=this.getScaleResolution(n))==null?void 0:r.getZoomLevel())??1};return Xo.map(e).reduce((n,r)=>n*r,1)}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0),e.target=this,!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,n){return e=="x"?"shared":"independent"}}class bx extends Xw{constructor(e,n,r,i,o){super(e,n,r,i,o),this.spec=e}}function*E0(t,e=[]){for(const[n,r]of t.entries())if(r instanceof Map)for(const i of E0(r,[...e,n]))yield i;else yield[[...e,n],r]}class yx extends nt{get behavior(){return g0}constructor(e){super(),this.params=e??{type:"collect"},this.observers=[],this.facetBatches=void 0,this._init()}_init(){this._data=[],this.facetBatches=new Pi([],JSON.stringify),this.facetBatches.set(void 0,this._data)}reset(){super.reset(),this._init()}handle(e){this._data.push(e)}beginBatch(e){dk(e)&&(this._data=[],this.facetBatches.set(Xt(e.facetId),this._data))}complete(){var i,o;const e=(i=this.params)==null?void 0:i.sort,n=e?mm(e.field,e.order):void 0,r=s=>{n&&s.sort(n)};if((o=this.params.groupby)!=null&&o.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const s=this.params.groupby.map(u=>Re(u)),a=Eu(this._data,...s);this.facetBatches.clear();for(const[u,f]of E0(a))this.facetBatches.set(u,f)}for(const s of this.facetBatches.values())r(s);if(this.children.length)for(const[s,a]of this.facetBatches.entries()){if(s){const u={type:"facet",facetId:s};for(const f of this.children)f.beginBatch(u)}for(const u of a)this._propagate(u)}super.complete();for(const s of this.observers)s(this)}getData(){switch(this._checkStatus(),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const e=this.facetBatches;return{[Symbol.iterator]:function*(){for(const r of e.values())for(let i=0;i<r.length;i++)yield r[i]}}}}}visitData(e){this._checkStatus();for(const n of this.facetBatches.values())for(let r=0;r<n.length;r++)e(n[r])}getItemCount(){let e=0;for(const n of this.facetBatches.values())e+=n.length;return e}_checkStatus(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")}}class Ll{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(e,n){let r=this.length++;for(;r>0;){const i=r-1>>1,o=this.values[i];if(n>=o)break;this.ids[r]=this.ids[i],this.values[r]=o,r=i}this.ids[r]=e,this.values[r]=n}pop(){if(this.length===0)return;const e=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let o=0;for(;o<i;){let s=(o<<1)+1;const a=s+1;let u=this.ids[s],f=this.values[s];const l=this.values[a];if(a<this.length&&l<f&&(s=a,u=this.ids[a],f=l),f>=r)break;this.ids[o]=u,this.values[o]=f,o=s}this.ids[o]=n,this.values[o]=r}return e}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class ER extends nt{get behavior(){return tr}constructor(e){super(),this.params=e,this.startAccessor=Re(e.start),this.endAccessor=Re(e.end),this.chromAccessor=e.chrom?Re(e.chrom):n=>{},this.weightAccessor=e.weight?Re(e.weight):n=>1,this.as={coverage:e.as||"coverage",start:e.asStart||e.start,end:e.asEnd||e.end,chrom:e.asChrom||e.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new Ll}reset(){super.reset(),this.initialize()}initialize(){const e=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,o=this.endAccessor,s=this.chromAccessor,a=this.weightAccessor;let u,f,l,c=0,h;const d=this.ends;d.clear();const p=(y,w,E)=>{if(y==w)return;let S=!1;u&&(u[e]===E?(u[n]=w,S=!0):u[e]!=0&&this._propagate(u)),S||(u=this.createSegment(y,w,E,l))},b=()=>{let y;for(;(y=d.peekValue())!==void 0;)p(h,y,c),h=y,c-=d.pop();h=void 0,u&&(this._propagate(u),u=void 0)};this.handle=y=>{const w=i(y);let E;for(;(E=d.peekValue())!==void 0&&E<w;)p(h,E,c),h=E,c-=d.pop();if(r){let T=s(y);T!==f&&(b(),l=T,f=l)}h!==void 0&&p(h,w,c),h=w;const S=a(y);c+=S,d.push(S,o(y))},this.complete=()=>{b(),super.complete()}}}function _R(t,e,n=0,r=t.length){const i=new Ll,o=r-n;let s;for(s=0;s<e&&s<o;s++)i.push(s,t[n+s]);for(;s<o;s++){const f=t[n+s];f>=i.peekValue()&&(i.push(s,f),i.pop())}const a=[];let u;for(;(u=i.pop())!==void 0;)a.push(n+u);return a.reverse()}class SR{constructor(e,n=-1/0,r=1/0){this.maxSize=e,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(e,n,r=0){if(e>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const o=this._findSlot(e,n,i);return o>=0?o:this._findSlot(e,n,this.upperChildren[r])}else return r}else return-1}reserve(e,n){if(n-e<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(e,n);if(r<0)return!1;const i=this.n++,o=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=e,this.lowerLimits[o]=n,this.upperLimits[o]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=o,!0}}class CR extends nt{get behavior(){return g0}constructor(e,n){if(super(),this.params=e,this._data=[],this.channel=e.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Re(this.params.pos),this.posBisector=Au(this.posAccessor),this.scoreAccessor=Re(this.params.score),this.widthAccessor=Re(this.params.width),this.laneAccessor=this.params.lane?Re(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const e=this.posAccessor;this._data.sort((n,r)=>e(n)-e(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new SR(200));this.schedule(),super.complete()}_filterAndPropagate(){var s;super.reset();const e=this.resolution.getScale(),n=(s=this.resolution.members[0].view.coords)==null?void 0:s[this.channel=="x"?"width":"height"];if(!n)return;for(const a of this.reservationMaps.values())a.reset();const r=e.domain(),i=70,o=_R(this._scores,i,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const a of o){const u=this._data[a],f=e(this.posAccessor(u))*n,l=this.widthAccessor(u)/2+this.padding;this.reservationMaps.get(this.laneAccessor(u)).reserve(f-l,f+l)&&this._propagate(u)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(e){this._data.push(e)}}class TR extends nt{constructor(e){super(),this.params=e,this.predicate=void 0}initialize(){this.predicate=jh(this.params.expr,this.getGlobalObject())}handle(e){this.predicate(e)&&this._propagate(e)}}class FR extends nt{get behavior(){return tr}constructor(e){super();const n=e.index;if(e.fields){const r=Xt(e.fields).map(o=>Re(o)),i=Xt(e.as||e.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{const s=r.map((u,f)=>u(o)??[]),a=s[0].length;for(let u=0;u<a;u++){const f=Object.assign({},o);for(let l=0;l<r.length;l++)f[i[l]]=u<s[l].length?s[l][u]:null;n&&(f[n]=u),this._propagate(f)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const o=Object.assign({},r[i]);n&&(o[n]=i),this._propagate(o)}}}}const IR="0".charCodeAt(0);function*DR(t,e=","){const n=e.charCodeAt(0);let r=0;for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);o==n?(yield r,r=0):r=r*10+o-IR}yield r}class BR extends nt{get behavior(){return tr}constructor(e){super();const n=Re(e.exons??"exons"),r=Re(e.start??"start"),[i,o]=e.as||["exonStart","exonEnd"];this.handle=s=>{let a=r(s),u=a,f=!0;const l=n(s);for(const c of DR(l)){if(f)u=a+c;else{a=u+c;const h=Object.assign({},s);h[i]=u,h[o]=a,this._propagate(h)}f=!f}}}}class kR extends nt{get behavior(){return tr}constructor(e){super();const n=Xt(e.field).map(o=>Re(o)),r=Xt(e.separator),i=Xt(e.as||e.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{if(n.some(u=>!u(o)))return;const s=n.map((u,f)=>u(o).split(r[f]));RR(s,o);const a=s[0].length;for(let u=0;u<a;u++){const f=Object.assign({},o);for(let l=0;l<n.length;l++)f[i[l]]=s[l][u];this._propagate(f)}}}}function RR(t,e){const n=t.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(e))}class PR extends nt{get behavior(){return ai}constructor(e){super(),this.params=e,this.as=e.as,this.fn=void 0}initialize(){this.fn=jh(this.params.expr,this.getGlobalObject())}handle(e){e[this.as]=this.fn(e),this._propagate(e)}}class wx extends nt{get behavior(){return ai}constructor(e,n){super();const r=e.channel??"x";if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const o=Re(e.chrom),s=Xt(e.pos).map(p=>Re(p)),a=Xt(e.as);if(s.length!=a.length)throw new Error('The number of "pos" and "as" elements must be equal!');const u=Xt(e.offset);let f;if(u.length==0)f=new Array(s.length).fill(0);else if(u.length==1)f=new Array(s.length).fill(u[0]);else if(u.length==s.length)f=u;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(e.offset)}!`);const l=new Function("datum","chromOffset","posAccessors",a.map((p,b)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${b}](datum) - ${f[b]};`).join(`
`));let c,h=0;const d=p=>{if(p!==c){if(h=i.cumulativeChromPositions.get(p),h===void 0)throw new Error("Unknown chromosome/contig: "+p);c=p}return h};this.handle=p=>{l(p,d(o(p)),s),this._propagate(p)}}}const xx={pages:["Lato-Regular.png"],chars:[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class MR extends nt{get behavior(){return ai}constructor(e){super();const n=h0(xx),r=Re(e.field),i=e.as,o=e.fontSize;this.handle=s=>{const a=r(s);a!==void 0?s[i]=n.measureWidth(a,o):s[i]=0,this._propagate(s)}}}const NR=65536;class LR extends nt{get behavior(){return ai}constructor(e){super(),this.params=e}reset(){super.reset(),this.initialize()}initialize(){const e=this.params,n=e.as||"lane",r=Mt(e.spacing)?e.spacing:1,i=Re(e.start),o=Re(e.end);if(!e.preference!=!e.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(e.preference){const s=new Float64Array(NR),a=Re(e.preference),u=e.preferredOrder;let f=1/0;this.handle=l=>{const c=i(l);c<f&&s.fill(-1/0),f=c;const h=u.indexOf(a(l));let d=-1;if(h>=0&&s[h]<c)d=h;else{const p=i(l);for(d=0;d<s.length&&!(s[d]<p);d++);if(d>=s.length)throw new Error("Out of lanes!")}s[d]=o(l)+r,l[n]=d,this._propagate(l)}}else{const s=new Ll,a=new Ll;let u=-1/0,f=0;this.handle=l=>{const c=i(l);for(;s.length&&(s.peekValue()<=c||c<u);){const d=s.pop();a.push(d,d)}u=c;let h=a.pop();h===void 0&&(h=f++),l[n]=h,this._propagate(l),s.push(h,o(l)+r)}}}}class OR extends nt{get behavior(){return tr}constructor(e){if(super(),e.as&&e.as.length!=e.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=e.fields.map(i=>Re(i)),r=e.as?e.as:n.map(Je);this.handle=i=>{const o={};for(let s=0;s<n.length;s++)o[r[s]]=n[s](i);this._propagate(o)}}}class zR extends nt{get behavior(){return ai}constructor(e){super();const n=new RegExp(e.regex),r=typeof e.as=="string"?[e.as]:e.as,i=Re(e.field);this.handle=o=>{const s=i(o);if(Ke(s)){const a=s.match(n);if(a){if(a.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let u=0;u<r.length;u++)o[r[u]]=a[u+1]}else if(e.skipInvalidInput)for(let u=0;u<r.length;u++)o[r[u]]=void 0;else throw new Error(`"${s}" does not match the given regex: ${n.toString()}`)}else if(!e.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof s}, field content: "${s}".`);this._propagate(o)}}}class UR extends nt{get behavior(){return tr}constructor(e){super();const n=Xt(e.columnRegex).map(h=>new RegExp(h)),r=Xt(e.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=e.skipRegex?new RegExp(e.skipRegex):void 0,o=e.asKey||"sample";let s,a,u;const f=h=>{var y;const d=Object.keys(h),p=new Map;for(const[w,E]of n.entries())for(const S of d){const T=(y=E.exec(S))==null?void 0:y[1];if(T!==void 0){let D=p.get(T);D||(D=[],p.set(T,D)),D[w]=S}}s=[...p.entries()],a=d.filter(w=>!n.some(E=>E.test(w))&&!(i&&i.test(w)));const b=[...a.map(w=>JSON.stringify(w)+": datum["+JSON.stringify(w)+"]"),JSON.stringify(o)+": sampleId",...r.map(w=>JSON.stringify(w)+": null")];u=new Function("datum","sampleId",`return {
`+b.join(`,
`)+`
};`)},l=h=>{s||f(h);for(const[d,p]of s){const b=u(h,d);for(let y=0;y<p.length;y++)b[r[y]]=h[p[y]];this._propagate(b)}},c=h=>{f(h),l(h),this.handle=l};this.handle=c,this.beginBatch=h=>{jw(h)&&(this.handle=c),super.beginBatch(h)}}}class GR extends nt{get behavior(){return ai}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const e=this.params,n=e.as||["y0","y1"],r=e.sort?mm(e.sort.field,e.sort.order):void 0,i=e.field?Re(e.field):()=>1,o=e.groupby.map(l=>Re(l)),s=VS(this.buffer,l=>o.map(c=>c(l)).join()).map(l=>l[1]);let a=l=>!0;if(e.baseField){const l=Re(e.baseField);a=c=>l(c)!==null}let u,f;switch(e.offset){case"normalize":u=(l,c)=>l/c,f=(l,c)=>Su(l,c);break;case"center":u=(l,c)=>l-c/2,f=(l,c)=>Su(l,c);break;case"information":{const l=Math.log2(e.cardinality??4);u=(c,h)=>c/h,f=(c,h)=>{const p=Su(c,E=>+!a(E)),b=Su(c,h),y=b-p;let w=0;for(let E=0;E<c.length;E++){const S=c[E];if(a(S)){const T=h(S)/y;w-=T*Math.log2(T)}}return y/(l-(w+0))*(y/b)}}break;default:u=(l,c)=>l,f=(l,c)=>1}for(const l of s){r&&l.sort(r);const c=f(l,i);let h=0;for(const d of l){const p=h+i(d);a(d)&&(d[n[0]]=u(h,c),d[n[1]]=u(p,c),this._propagate(d),h=p)}}super.complete()}}class HR extends nt{get behavior(){return tr}constructor(e){super();const n=Re(e.field??"sequence"),[r,i]=e.as??["pos","sequence"];this.handle=o=>{const s=Object.assign({},o,{[i]:"",[r]:0}),a=n(o);for(let u=0;u<a.length;u++){const f=Object.assign({},s);f[r]=u,f[i]=a.charAt(u),this._propagate(f)}}}}class qR extends nt{get behavior(){return tr}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const n=this.params.groupby,r=n.map(o=>Re(o)),i=Eu(this.buffer,...r);for(const[o,s]of E0(i)){const a={count:s.length};for(let u=0;u<n.length;u++)a[n[u]]=o[u];this._propagate(a)}super.complete()}}const VR="_uniqueId",vx=1e4,Ax=[null];class Ex extends nt{get behavior(){return ai}constructor(e){super(),this.params=e,this.as=e.as??VR,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(e){e[this.as]=this._nextId(),this._propagate(e)}_nextId(){return++this._id%vx==0&&(this._id=this._getBlock()*vx),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const e=Ax.length;return Ax[e]=this,this._blocks.push(e),this._usedBlocks++,e}}const jR={aggregate:qR,collect:yx,coverage:ER,filterScoredLabels:CR,filter:TR,flatten:FR,flattenCompressedExons:BR,flattenDelimited:kR,flattenSequence:HR,formula:PR,identifier:Ex,linearizeGenomicCoordinate:wx,measureText:MR,pileup:LR,project:OR,regexExtract:zR,regexFold:UR,sample:Zw,stack:GR};function ZR(t,e){const n=jR[t.type];if(n)return new n(t,e);throw new Error("Unknown transform: "+t.type)}function _x(t){if(!Tx(t)&&!Cx(t))return;const e={...t.format};if(e.type??(e.type=Cx(t)&&WR(t.url)),e.parse??(e.parse="auto"),!e.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(t));return e}function WR(t){var e;if(Array.isArray(t)&&(t=t[0]),t)return(e=t.match(/\.(csv|tsv|json)/))==null?void 0:e[1]}const Sx=t=>typeof t!="object"?$R:YR,$R=t=>({data:t}),YR=t=>t;function Cx(t){return"url"in t}class af extends nt{get identifier(){}handle(e){throw new Error("Source does not handle incoming data!")}async load(){}}function Tx(t){return"values"in t}class QR extends af{constructor(e,n){var r;if(super(),this.params=e,typeof e.values=="string"&&!((r=e==null?void 0:e.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}loadSynchronously(){const e=this.params.values;let n=[],r=i=>i;if(Array.isArray(e))e.length>0&&(n=e,r=Sx(e[0]));else if(typeof e=="object")n=[e];else if(typeof e=="string")n=v1(e,_x(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function XR(t){return"url"in t}class KR extends af{constructor(e,n){super(),this.params=e,this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}async load(){const e=this.params.url,n=Array.isArray(e)?e:[e],r=async o=>Nu({baseURL:this.baseUrl}).load(o).catch(s=>{throw new Error(`Cannot fetch: ${this.baseUrl}${o}: ${s.message}`)}),i=(o,s)=>{try{const a=v1(o,_x(this.params));this.beginBatch({type:"file",url:s});for(const u of a)this._propagate(u)}catch(a){throw new Error(`Cannot parse: ${s}: ${a.message}`)}};this.reset(),await Promise.all(n.map(o=>r(o).then(i))),this.complete()}}function JR(t){return"sequence"in t}class e5 extends af{constructor(e,n){if(super(),this.sequence=e.sequence,!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}loadSynchronously(){const e=this.sequence.as||"data",n=this.sequence.step||1,r=this.sequence.stop;this.reset(),this.beginBatch({type:"file"});for(let i=this.sequence.start;i<r;i+=n)this._propagate({[e]:i});this.complete()}async load(){this.loadSynchronously()}}function t5(t,e,n){return n=(n-t)/(e-t),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}class oo extends af{constructor(e,n){if(super(),this.view=e,n){if(n!=="x"&&n!=="y")throw new Error(`Invalid channel specified for the dynamic data source: ${n}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the dynamic data source. Must be either "x" or "y".');if(this.channel=n,this.scaleResolution=this.view.getScaleResolution(n),!this.scaleResolution){const i=[`The dynamic data source cannot find a resolved scale for channel "${n}".`];throw this.view instanceof Dt||i.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(i.join(" "))}const r=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",r),this.view.context.addBroadcastListener("layoutComputed",r)}getAxisLength(){const e=this.scaleResolution.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return e.length?e.reduce((n,r)=>Math.min(n,r),1e4):0}get genome(){return this.scaleResolution.getGenome()}async onDomainChanged(e,n){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(e){this.reset(),this.beginBatch({type:"file"});for(const n of e)this._propagate(n);this.complete(),v0(this.view),this.requestRender()}}class n5 extends oo{constructor(n,r){const i={axis:{},...n};super(r,i.channel);on(this,"ticks",[]);this.params=n}async onDomainChanged(){const n=this.scaleResolution.getScale(),r=this.params.axis,i=this.getAxisLength(),o=f=>25+60*t5(100,700,f),s=Mt(r.tickCount)?r.tickCount:Math.round(i/o(i)),a=ex(n,s,r.tickMinStep),u=r.values?tx(n,r.values,a):zk(n,a);if(!zu(u,this.ticks)){this.ticks=u;const f=Gk(n,s,r.format);this.publishData(u.map(l=>({value:l,label:f(l)})))}}}class r5 extends oo{constructor(e,n){super(n,e.channel)}async load(){this.publishData(this.genome.chromosomes)}}var Nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bt={},Ol={};Ol.byteLength=a5,Ol.toByteArray=u5,Ol.fromByteArray=h5;for(var nr=[],un=[],o5=typeof Uint8Array<"u"?Uint8Array:Array,_0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cs=0,s5=_0.length;cs<s5;++cs)nr[cs]=_0[cs],un[_0.charCodeAt(cs)]=cs;un["-".charCodeAt(0)]=62,un["_".charCodeAt(0)]=63;function Fx(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function a5(t){var e=Fx(t),n=e[0],r=e[1];return(n+r)*3/4-r}function f5(t,e,n){return(e+n)*3/4-n}function u5(t){var e,n=Fx(t),r=n[0],i=n[1],o=new o5(f5(t,r,i)),s=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=un[t.charCodeAt(u)]<<18|un[t.charCodeAt(u+1)]<<12|un[t.charCodeAt(u+2)]<<6|un[t.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=un[t.charCodeAt(u)]<<2|un[t.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=un[t.charCodeAt(u)]<<10|un[t.charCodeAt(u+1)]<<4|un[t.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function l5(t){return nr[t>>18&63]+nr[t>>12&63]+nr[t>>6&63]+nr[t&63]}function c5(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(l5(r));return i.join("")}function h5(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(c5(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(nr[e>>2]+nr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(nr[e>>10]+nr[e>>4&63]+nr[e<<2&63]+"=")),i.join("")}var S0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */S0.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,u=(1<<a)-1,f=u>>1,l=-7,c=n?i-1:0,h=n?-1:1,d=t[e+c];for(c+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=o*256+t[e+c],c+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=s*256+t[e+c],c+=h,l-=8);if(o===0)o=1-f;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-f}return(d?-1:1)*s*Math.pow(2,o-r)},S0.write=function(t,e,n,r,i,o){var s,a,u,f=o*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+c>=1?e+=h/u:e+=h*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*u-1)*Math.pow(2,i),s=s+c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=a&255,d+=p,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;t[n+d]=s&255,d+=p,s/=256,f-=8);t[n+d-p]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ol,n=S0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const x=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(x,g),x.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const g=new Uint8Array(x);return Object.setPrototypeOf(g,a.prototype),g}function a(x,g,m){if(typeof x=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(x)}return u(x,g,m)}a.poolSize=8192;function u(x,g,m){if(typeof x=="string")return h(x,g);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(Tt(x,ArrayBuffer)||x&&Tt(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tt(x,SharedArrayBuffer)||x&&Tt(x.buffer,SharedArrayBuffer)))return b(x,g,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=x.valueOf&&x.valueOf();if(F!=null&&F!==x)return a.from(F,g,m);const R=y(x);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return a.from(x[Symbol.toPrimitive]("string"),g,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}a.from=function(x,g,m){return u(x,g,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function l(x,g,m){return f(x),x<=0?s(x):g!==void 0?typeof m=="string"?s(x).fill(g,m):s(x).fill(g):s(x)}a.alloc=function(x,g,m){return l(x,g,m)};function c(x){return f(x),s(x<0?0:w(x)|0)}a.allocUnsafe=function(x){return c(x)},a.allocUnsafeSlow=function(x){return c(x)};function h(x,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const m=S(x,g)|0;let F=s(m);const R=F.write(x,g);return R!==m&&(F=F.slice(0,R)),F}function d(x){const g=x.length<0?0:w(x.length)|0,m=s(g);for(let F=0;F<g;F+=1)m[F]=x[F]&255;return m}function p(x){if(Tt(x,Uint8Array)){const g=new Uint8Array(x);return b(g.buffer,g.byteOffset,g.byteLength)}return d(x)}function b(x,g,m){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return g===void 0&&m===void 0?F=new Uint8Array(x):m===void 0?F=new Uint8Array(x,g):F=new Uint8Array(x,g,m),Object.setPrototypeOf(F,a.prototype),F}function y(x){if(a.isBuffer(x)){const g=w(x.length)|0,m=s(g);return m.length===0||x.copy(m,0,0,g),m}if(x.length!==void 0)return typeof x.length!="number"||Or(x.length)?s(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function E(x){return+x!=x&&(x=0),a.alloc(+x)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,m){if(Tt(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),Tt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(g)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===m)return 0;let F=g.length,R=m.length;for(let z=0,q=Math.min(F,R);z<q;++z)if(g[z]!==m[z]){F=g[z],R=m[z];break}return F<R?-1:R<F?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let F;if(m===void 0)for(m=0,F=0;F<g.length;++F)m+=g[F].length;const R=a.allocUnsafe(m);let z=0;for(F=0;F<g.length;++F){let q=g[F];if(Tt(q,Uint8Array))z+q.length>R.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(R,z)):Uint8Array.prototype.set.call(R,q,z);else if(a.isBuffer(q))q.copy(R,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=q.length}return R};function S(x,g){if(a.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||Tt(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const m=x.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&m===0)return 0;let R=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ce(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Si(x).length;default:if(R)return F?-1:ce(x).length;g=(""+g).toLowerCase(),R=!0}}a.byteLength=S;function T(x,g,m){let F=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(x||(x="utf8");;)switch(x){case"hex":return tt(this,g,m);case"utf8":case"utf-8":return J(this,g,m);case"ascii":return De(this,g,m);case"latin1":case"binary":return ot(this,g,m);case"base64":return ne(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pr(this,g,m);default:if(F)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),F=!0}}a.prototype._isBuffer=!0;function D(x,g,m){const F=x[g];x[g]=x[m],x[m]=F}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<g;m+=2)D(this,m,m+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<g;m+=4)D(this,m,m+3),D(this,m+1,m+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<g;m+=8)D(this,m,m+7),D(this,m+1,m+6),D(this,m+2,m+5),D(this,m+3,m+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?J(this,0,g):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const m=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(g+=" ... "),"<Buffer "+g+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(g,m,F,R,z){if(Tt(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(m===void 0&&(m=0),F===void 0&&(F=g?g.length:0),R===void 0&&(R=0),z===void 0&&(z=this.length),m<0||F>g.length||R<0||z>this.length)throw new RangeError("out of range index");if(R>=z&&m>=F)return 0;if(R>=z)return-1;if(m>=F)return 1;if(m>>>=0,F>>>=0,R>>>=0,z>>>=0,this===g)return 0;let q=z-R,he=F-m;const qe=Math.min(q,he),Me=this.slice(R,z),Ye=g.slice(m,F);for(let Te=0;Te<qe;++Te)if(Me[Te]!==Ye[Te]){q=Me[Te],he=Ye[Te];break}return q<he?-1:he<q?1:0};function B(x,g,m,F,R){if(x.length===0)return-1;if(typeof m=="string"?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Or(m)&&(m=R?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(R)return-1;m=x.length-1}else if(m<0)if(R)m=0;else return-1;if(typeof g=="string"&&(g=a.from(g,F)),a.isBuffer(g))return g.length===0?-1:I(x,g,m,F,R);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(x,g,m):Uint8Array.prototype.lastIndexOf.call(x,g,m):I(x,[g],m,F,R);throw new TypeError("val must be string, number or Buffer")}function I(x,g,m,F,R){let z=1,q=x.length,he=g.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(x.length<2||g.length<2)return-1;z=2,q/=2,he/=2,m/=2}function qe(Ye,Te){return z===1?Ye[Te]:Ye.readUInt16BE(Te*z)}let Me;if(R){let Ye=-1;for(Me=m;Me<q;Me++)if(qe(x,Me)===qe(g,Ye===-1?0:Me-Ye)){if(Ye===-1&&(Ye=Me),Me-Ye+1===he)return Ye*z}else Ye!==-1&&(Me-=Me-Ye),Ye=-1}else for(m+he>q&&(m=q-he),Me=m;Me>=0;Me--){let Ye=!0;for(let Te=0;Te<he;Te++)if(qe(x,Me+Te)!==qe(g,Te)){Ye=!1;break}if(Ye)return Me}return-1}a.prototype.includes=function(g,m,F){return this.indexOf(g,m,F)!==-1},a.prototype.indexOf=function(g,m,F){return B(this,g,m,F,!0)},a.prototype.lastIndexOf=function(g,m,F){return B(this,g,m,F,!1)};function N(x,g,m,F){m=Number(m)||0;const R=x.length-m;F?(F=Number(F),F>R&&(F=R)):F=R;const z=g.length;F>z/2&&(F=z/2);let q;for(q=0;q<F;++q){const he=parseInt(g.substr(q*2,2),16);if(Or(he))return q;x[m+q]=he}return q}function C(x,g,m,F){return Ci(ce(g,x.length-m),x,m,F)}function P(x,g,m,F){return Ci($t(g),x,m,F)}function M(x,g,m,F){return Ci(Si(g),x,m,F)}function ee(x,g,m,F){return Ci(_i(g,x.length-m),x,m,F)}a.prototype.write=function(g,m,F,R){if(m===void 0)R="utf8",F=this.length,m=0;else if(F===void 0&&typeof m=="string")R=m,F=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(F)?(F=F>>>0,R===void 0&&(R="utf8")):(R=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-m;if((F===void 0||F>z)&&(F=z),g.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let q=!1;for(;;)switch(R){case"hex":return N(this,g,m,F);case"utf8":case"utf-8":return C(this,g,m,F);case"ascii":case"latin1":case"binary":return P(this,g,m,F);case"base64":return M(this,g,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,g,m,F);default:if(q)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(x,g,m){return g===0&&m===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(g,m))}function J(x,g,m){m=Math.min(x.length,m);const F=[];let R=g;for(;R<m;){const z=x[R];let q=null,he=z>239?4:z>223?3:z>191?2:1;if(R+he<=m){let qe,Me,Ye,Te;switch(he){case 1:z<128&&(q=z);break;case 2:qe=x[R+1],(qe&192)===128&&(Te=(z&31)<<6|qe&63,Te>127&&(q=Te));break;case 3:qe=x[R+1],Me=x[R+2],(qe&192)===128&&(Me&192)===128&&(Te=(z&15)<<12|(qe&63)<<6|Me&63,Te>2047&&(Te<55296||Te>57343)&&(q=Te));break;case 4:qe=x[R+1],Me=x[R+2],Ye=x[R+3],(qe&192)===128&&(Me&192)===128&&(Ye&192)===128&&(Te=(z&15)<<18|(qe&63)<<12|(Me&63)<<6|Ye&63,Te>65535&&Te<1114112&&(q=Te))}}q===null?(q=65533,he=1):q>65535&&(q-=65536,F.push(q>>>10&1023|55296),q=56320|q&1023),F.push(q),R+=he}return Ee(F)}const me=4096;function Ee(x){const g=x.length;if(g<=me)return String.fromCharCode.apply(String,x);let m="",F=0;for(;F<g;)m+=String.fromCharCode.apply(String,x.slice(F,F+=me));return m}function De(x,g,m){let F="";m=Math.min(x.length,m);for(let R=g;R<m;++R)F+=String.fromCharCode(x[R]&127);return F}function ot(x,g,m){let F="";m=Math.min(x.length,m);for(let R=g;R<m;++R)F+=String.fromCharCode(x[R]);return F}function tt(x,g,m){const F=x.length;(!g||g<0)&&(g=0),(!m||m<0||m>F)&&(m=F);let R="";for(let z=g;z<m;++z)R+=Ti[x[z]];return R}function pr(x,g,m){const F=x.slice(g,m);let R="";for(let z=0;z<F.length-1;z+=2)R+=String.fromCharCode(F[z]+F[z+1]*256);return R}a.prototype.slice=function(g,m){const F=this.length;g=~~g,m=m===void 0?F:~~m,g<0?(g+=F,g<0&&(g=0)):g>F&&(g=F),m<0?(m+=F,m<0&&(m=0)):m>F&&(m=F),m<g&&(m=g);const R=this.subarray(g,m);return Object.setPrototypeOf(R,a.prototype),R};function Pe(x,g,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,m,F){g=g>>>0,m=m>>>0,F||Pe(g,m,this.length);let R=this[g],z=1,q=0;for(;++q<m&&(z*=256);)R+=this[g+q]*z;return R},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,m,F){g=g>>>0,m=m>>>0,F||Pe(g,m,this.length);let R=this[g+--m],z=1;for(;m>0&&(z*=256);)R+=this[g+--m]*z;return R},a.prototype.readUint8=a.prototype.readUInt8=function(g,m){return g=g>>>0,m||Pe(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,m){return g=g>>>0,m||Pe(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,m){return g=g>>>0,m||Pe(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=Yt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&j(g,this.length-8);const R=m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,z=this[++g]+this[++g]*2**8+this[++g]*2**16+F*2**24;return BigInt(R)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=Yt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&j(g,this.length-8);const R=m*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],z=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+F;return(BigInt(R)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(g,m,F){g=g>>>0,m=m>>>0,F||Pe(g,m,this.length);let R=this[g],z=1,q=0;for(;++q<m&&(z*=256);)R+=this[g+q]*z;return z*=128,R>=z&&(R-=Math.pow(2,8*m)),R},a.prototype.readIntBE=function(g,m,F){g=g>>>0,m=m>>>0,F||Pe(g,m,this.length);let R=m,z=1,q=this[g+--R];for(;R>0&&(z*=256);)q+=this[g+--R]*z;return z*=128,q>=z&&(q-=Math.pow(2,8*m)),q},a.prototype.readInt8=function(g,m){return g=g>>>0,m||Pe(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,m){g=g>>>0,m||Pe(g,2,this.length);const F=this[g]|this[g+1]<<8;return F&32768?F|4294901760:F},a.prototype.readInt16BE=function(g,m){g=g>>>0,m||Pe(g,2,this.length);const F=this[g+1]|this[g]<<8;return F&32768?F|4294901760:F},a.prototype.readInt32LE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=Yt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&j(g,this.length-8);const R=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(F<<24);return(BigInt(R)<<BigInt(32))+BigInt(m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=Yt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&j(g,this.length-8);const R=(m<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(R)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+F)}),a.prototype.readFloatLE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),n.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,m){return g=g>>>0,m||Pe(g,4,this.length),n.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,m){return g=g>>>0,m||Pe(g,8,this.length),n.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,m){return g=g>>>0,m||Pe(g,8,this.length),n.read(this,g,!1,52,8)};function $e(x,g,m,F,R,z){if(!a.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>R||g<z)throw new RangeError('"value" argument is out of bounds');if(m+F>x.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,m,F,R){if(g=+g,m=m>>>0,F=F>>>0,!R){const he=Math.pow(2,8*F)-1;$e(this,g,m,F,he,0)}let z=1,q=0;for(this[m]=g&255;++q<F&&(z*=256);)this[m+q]=g/z&255;return m+F},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,m,F,R){if(g=+g,m=m>>>0,F=F>>>0,!R){const he=Math.pow(2,8*F)-1;$e(this,g,m,F,he,0)}let z=F-1,q=1;for(this[m+z]=g&255;--z>=0&&(q*=256);)this[m+z]=g/q&255;return m+F},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,1,255,0),this[m]=g&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4};function Wt(x,g,m,F,R){v(g,F,R,x,m,7);let z=Number(g&BigInt(4294967295));x[m++]=z,z=z>>8,x[m++]=z,z=z>>8,x[m++]=z,z=z>>8,x[m++]=z;let q=Number(g>>BigInt(32)&BigInt(4294967295));return x[m++]=q,q=q>>8,x[m++]=q,q=q>>8,x[m++]=q,q=q>>8,x[m++]=q,m}function jn(x,g,m,F,R){v(g,F,R,x,m,7);let z=Number(g&BigInt(4294967295));x[m+7]=z,z=z>>8,x[m+6]=z,z=z>>8,x[m+5]=z,z=z>>8,x[m+4]=z;let q=Number(g>>BigInt(32)&BigInt(4294967295));return x[m+3]=q,q=q>>8,x[m+2]=q,q=q>>8,x[m+1]=q,q=q>>8,x[m]=q,m+8}a.prototype.writeBigUInt64LE=Yt(function(g,m=0){return Wt(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Yt(function(g,m=0){return jn(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,m,F,R){if(g=+g,m=m>>>0,!R){const qe=Math.pow(2,8*F-1);$e(this,g,m,F,qe-1,-qe)}let z=0,q=1,he=0;for(this[m]=g&255;++z<F&&(q*=256);)g<0&&he===0&&this[m+z-1]!==0&&(he=1),this[m+z]=(g/q>>0)-he&255;return m+F},a.prototype.writeIntBE=function(g,m,F,R){if(g=+g,m=m>>>0,!R){const qe=Math.pow(2,8*F-1);$e(this,g,m,F,qe-1,-qe)}let z=F-1,q=1,he=0;for(this[m+z]=g&255;--z>=0&&(q*=256);)g<0&&he===0&&this[m+z+1]!==0&&(he=1),this[m+z]=(g/q>>0)-he&255;return m+F},a.prototype.writeInt8=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},a.prototype.writeInt16LE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeInt16BE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeInt32LE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},a.prototype.writeInt32BE=function(g,m,F){return g=+g,m=m>>>0,F||$e(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},a.prototype.writeBigInt64LE=Yt(function(g,m=0){return Wt(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Yt(function(g,m=0){return jn(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gr(x,g,m,F,R,z){if(m+F>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function O(x,g,m,F,R){return g=+g,m=m>>>0,R||gr(x,g,m,4),n.write(x,g,m,F,23,4),m+4}a.prototype.writeFloatLE=function(g,m,F){return O(this,g,m,!0,F)},a.prototype.writeFloatBE=function(g,m,F){return O(this,g,m,!1,F)};function L(x,g,m,F,R){return g=+g,m=m>>>0,R||gr(x,g,m,8),n.write(x,g,m,F,52,8),m+8}a.prototype.writeDoubleLE=function(g,m,F){return L(this,g,m,!0,F)},a.prototype.writeDoubleBE=function(g,m,F){return L(this,g,m,!1,F)},a.prototype.copy=function(g,m,F,R){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(F||(F=0),!R&&R!==0&&(R=this.length),m>=g.length&&(m=g.length),m||(m=0),R>0&&R<F&&(R=F),R===F||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),g.length-m<R-F&&(R=g.length-m+F);const z=R-F;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,F,R):Uint8Array.prototype.set.call(g,this.subarray(F,R),m),z},a.prototype.fill=function(g,m,F,R){if(typeof g=="string"){if(typeof m=="string"?(R=m,m=0,F=this.length):typeof F=="string"&&(R=F,F=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(g.length===1){const q=g.charCodeAt(0);(R==="utf8"&&q<128||R==="latin1")&&(g=q)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;m=m>>>0,F=F===void 0?this.length:F>>>0,g||(g=0);let z;if(typeof g=="number")for(z=m;z<F;++z)this[z]=g;else{const q=a.isBuffer(g)?g:a.from(g,R),he=q.length;if(he===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(z=0;z<F-m;++z)this[z+m]=q[z%he]}return this};const Z={};function V(x,g,m){Z[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),V("ERR_OUT_OF_RANGE",function(x,g,m){let F=`The value of "${x}" is out of range.`,R=m;return Number.isInteger(m)&&Math.abs(m)>2**32?R=Q(String(m)):typeof m=="bigint"&&(R=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(R=Q(R)),R+="n"),F+=` It must be ${g}. Received ${R}`,F},RangeError);function Q(x){let g="",m=x.length;const F=x[0]==="-"?1:0;for(;m>=F+4;m-=3)g=`_${x.slice(m-3,m)}${g}`;return`${x.slice(0,m)}${g}`}function _(x,g,m){H(g,"offset"),(x[g]===void 0||x[g+m]===void 0)&&j(g,x.length-(m+1))}function v(x,g,m,F,R,z){if(x>m||x<g){const q=typeof g=="bigint"?"n":"";let he;throw z>3?g===0||g===BigInt(0)?he=`>= 0${q} and < 2${q} ** ${(z+1)*8}${q}`:he=`>= -(2${q} ** ${(z+1)*8-1}${q}) and < 2 ** ${(z+1)*8-1}${q}`:he=`>= ${g}${q} and <= ${m}${q}`,new Z.ERR_OUT_OF_RANGE("value",he,x)}_(F,R,z)}function H(x,g){if(typeof x!="number")throw new Z.ERR_INVALID_ARG_TYPE(g,"number",x)}function j(x,g,m){throw Math.floor(x)!==x?(H(x,m),new Z.ERR_OUT_OF_RANGE(m||"offset","an integer",x)):g<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${g}`,x)}const le=/[^+/0-9A-Za-z-_]/g;function re(x){if(x=x.split("=")[0],x=x.trim().replace(le,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function ce(x,g){g=g||1/0;let m;const F=x.length;let R=null;const z=[];for(let q=0;q<F;++q){if(m=x.charCodeAt(q),m>55295&&m<57344){if(!R){if(m>56319){(g-=3)>-1&&z.push(239,191,189);continue}else if(q+1===F){(g-=3)>-1&&z.push(239,191,189);continue}R=m;continue}if(m<56320){(g-=3)>-1&&z.push(239,191,189),R=m;continue}m=(R-55296<<10|m-56320)+65536}else R&&(g-=3)>-1&&z.push(239,191,189);if(R=null,m<128){if((g-=1)<0)break;z.push(m)}else if(m<2048){if((g-=2)<0)break;z.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;z.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;z.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return z}function $t(x){const g=[];for(let m=0;m<x.length;++m)g.push(x.charCodeAt(m)&255);return g}function _i(x,g){let m,F,R;const z=[];for(let q=0;q<x.length&&!((g-=2)<0);++q)m=x.charCodeAt(q),F=m>>8,R=m%256,z.push(R),z.push(F);return z}function Si(x){return e.toByteArray(re(x))}function Ci(x,g,m,F){let R;for(R=0;R<F&&!(R+m>=g.length||R>=x.length);++R)g[R+m]=x[R];return R}function Tt(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function Or(x){return x!==x}const Ti=function(){const x="0123456789abcdef",g=new Array(256);for(let m=0;m<16;++m){const F=m*16;for(let R=0;R<16;++R)g[F+R]=x[m]+x[R]}return g}();function Yt(x){return typeof BigInt>"u"?mr:x}function mr(){throw new Error("BigInt not supported")}})(bt);const Jt={},d5=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),C0=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class rr{async getBufferFromResponse(e){if(typeof e.buffer=="function")return e.buffer();if(typeof e.arrayBuffer=="function"){const n=await e.arrayBuffer();return bt.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(e,n={}){this.baseOverrides={},this.url=e;const r=n.fetch||C0.fetch&&C0.fetch.bind(C0);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(e,n){let r;try{r=await this.fetchImplementation(e,n)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(e,{...n,cache:"reload"});else throw i}return r}async read(e,n=0,r,i=0,o={}){const{headers:s={},signal:a,overrides:u={}}=o;r<1/0?s.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(s.range=`bytes=${i}-`);const f={...this.baseOverrides,...u,headers:{...s,...u.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},l=await this.fetch(this.url,f);if(!l.ok)throw new Error(`HTTP ${l.status} ${l.statusText} ${this.url}`);if(l.status===200&&i===0||l.status===206){const c=await this.getBufferFromResponse(l),h=c.copy(e,n,0,Math.min(r,c.length)),d=l.headers.get("content-range"),p=/\/(\d+)$/.exec(d||"");return p&&p[1]&&(this._stat={size:parseInt(p[1],10)}),{bytesRead:h,buffer:e}}throw l.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(e={}){let n,r;typeof e=="string"?(n=e,r={}):(n=e.encoding,r=e,delete r.encoding);const{headers:i={},signal:o,overrides:s={}}=r,a={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...s},u=await this.fetch(this.url,a);if(!u)throw new Error("generic-filehandle failed to fetch");if(u.status!==200)throw Object.assign(new Error(`HTTP ${u.status} fetching ${this.url}`),{status:u.status});if(n==="utf8")return u.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(u)}async stat(){if(!this._stat){const e=bt.Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}var Sr={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}t.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var u in a)n(a,u)&&(o[u]=a[u])}}return o},t.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,u,f){if(s.subarray&&o.subarray){o.set(s.subarray(a,a+u),f);return}for(var l=0;l<u;l++)o[f+l]=s[a+l]},flattenChunks:function(o){var s,a,u,f,l,c;for(u=0,s=0,a=o.length;s<a;s++)u+=o[s].length;for(c=new Uint8Array(u),f=0,s=0,a=o.length;s<a;s++)l=o[s],c.set(l,f),f+=l.length;return c}},i={arraySet:function(o,s,a,u,f){for(var l=0;l<u;l++)o[f+l]=s[a+l]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(Sr);var ff={},ir={},hs={},p5=Sr,g5=4,Ix=0,Dx=1,m5=2;function ds(t){for(var e=t.length;--e>=0;)t[e]=0}var b5=0,Bx=1,y5=2,w5=3,x5=258,T0=29,uf=256,lf=uf+1+T0,ps=30,F0=19,kx=2*lf+1,ao=15,I0=16,v5=7,D0=256,Rx=16,Px=17,Mx=18,B0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],zl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Nx=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E5=512,Cr=new Array((lf+2)*2);ds(Cr);var cf=new Array(ps*2);ds(cf);var hf=new Array(E5);ds(hf);var df=new Array(x5-w5+1);ds(df);var k0=new Array(T0);ds(k0);var Ul=new Array(ps);ds(Ul);function R0(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var Lx,Ox,zx;function P0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Ux(t){return t<256?hf[t]:hf[256+(t>>>7)]}function pf(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Ut(t,e,n){t.bi_valid>I0-n?(t.bi_buf|=e<<t.bi_valid&65535,pf(t,t.bi_buf),t.bi_buf=e>>I0-t.bi_valid,t.bi_valid+=n-I0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function or(t,e,n){Ut(t,n[e*2],n[e*2+1])}function Gx(t,e){var n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1}function _5(t){t.bi_valid===16?(pf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function S5(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length,f,l,c,h,d,p,b=0;for(h=0;h<=ao;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<kx;f++)l=t.heap[f],h=n[n[l*2+1]*2+1]+1,h>u&&(h=u,b++),n[l*2+1]=h,!(l>r)&&(t.bl_count[h]++,d=0,l>=a&&(d=s[l-a]),p=n[l*2],t.opt_len+=p*(h+d),o&&(t.static_len+=p*(i[l*2+1]+d)));if(b!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(h=u;h!==0;h--)for(l=t.bl_count[h];l!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),l--)}}function Hx(t,e,n){var r=new Array(ao+1),i=0,o,s;for(o=1;o<=ao;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=e;s++){var a=t[s*2+1];a!==0&&(t[s*2]=Gx(r[a]++,a))}}function C5(){var t,e,n,r,i,o=new Array(ao+1);for(n=0,r=0;r<T0-1;r++)for(k0[r]=n,t=0;t<1<<B0[r];t++)df[n++]=r;for(df[n-1]=r,i=0,r=0;r<16;r++)for(Ul[r]=i,t=0;t<1<<zl[r];t++)hf[i++]=r;for(i>>=7;r<ps;r++)for(Ul[r]=i<<7,t=0;t<1<<zl[r]-7;t++)hf[256+i++]=r;for(e=0;e<=ao;e++)o[e]=0;for(t=0;t<=143;)Cr[t*2+1]=8,t++,o[8]++;for(;t<=255;)Cr[t*2+1]=9,t++,o[9]++;for(;t<=279;)Cr[t*2+1]=7,t++,o[7]++;for(;t<=287;)Cr[t*2+1]=8,t++,o[8]++;for(Hx(Cr,lf+1,o),t=0;t<ps;t++)cf[t*2+1]=5,cf[t*2]=Gx(t,5);Lx=new R0(Cr,B0,uf+1,lf,ao),Ox=new R0(cf,zl,0,ps,ao),zx=new R0(new Array(0),A5,0,F0,v5)}function qx(t){var e;for(e=0;e<lf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ps;e++)t.dyn_dtree[e*2]=0;for(e=0;e<F0;e++)t.bl_tree[e*2]=0;t.dyn_ltree[D0*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Vx(t){t.bi_valid>8?pf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function T5(t,e,n,r){Vx(t),r&&(pf(t,n),pf(t,~n)),p5.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function jx(t,e,n,r){var i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function M0(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&jx(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!jx(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function Zx(t,e,n){var r,i,o=0,s,a;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,r===0?or(t,i,e):(s=df[i],or(t,s+uf+1,e),a=B0[s],a!==0&&(i-=k0[s],Ut(t,i,a)),r--,s=Ux(r),or(t,s,n),a=zl[s],a!==0&&(r-=Ul[s],Ut(t,r,a)));while(o<t.last_lit);or(t,D0,e)}function N0(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,u=-1,f;for(t.heap_len=0,t.heap_max=kx,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=u<2?++u:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)M0(t,n,s);f=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],M0(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[f*2]=n[s*2]+n[a*2],t.depth[f]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=f,t.heap[1]=f++,M0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],S5(t,e),Hx(n,u,t.bl_count)}function Wx(t,e,n){var r,i=-1,o,s=e[0*2+1],a=0,u=7,f=4;for(s===0&&(u=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<u&&o===s)&&(a<f?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[Rx*2]++):a<=10?t.bl_tree[Px*2]++:t.bl_tree[Mx*2]++,a=0,i=o,s===0?(u=138,f=3):o===s?(u=6,f=3):(u=7,f=4))}function $x(t,e,n){var r,i=-1,o,s=e[0*2+1],a=0,u=7,f=4;for(s===0&&(u=138,f=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<u&&o===s)){if(a<f)do or(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(or(t,o,t.bl_tree),a--),or(t,Rx,t.bl_tree),Ut(t,a-3,2)):a<=10?(or(t,Px,t.bl_tree),Ut(t,a-3,3)):(or(t,Mx,t.bl_tree),Ut(t,a-11,7));a=0,i=o,s===0?(u=138,f=3):o===s?(u=6,f=3):(u=7,f=4)}}function F5(t){var e;for(Wx(t,t.dyn_ltree,t.l_desc.max_code),Wx(t,t.dyn_dtree,t.d_desc.max_code),N0(t,t.bl_desc),e=F0-1;e>=3&&t.bl_tree[Nx[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function I5(t,e,n,r){var i;for(Ut(t,e-257,5),Ut(t,n-1,5),Ut(t,r-4,4),i=0;i<r;i++)Ut(t,t.bl_tree[Nx[i]*2+1],3);$x(t,t.dyn_ltree,e-1),$x(t,t.dyn_dtree,n-1)}function D5(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Ix;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Dx;for(n=32;n<uf;n++)if(t.dyn_ltree[n*2]!==0)return Dx;return Ix}var Yx=!1;function B5(t){Yx||(C5(),Yx=!0),t.l_desc=new P0(t.dyn_ltree,Lx),t.d_desc=new P0(t.dyn_dtree,Ox),t.bl_desc=new P0(t.bl_tree,zx),t.bi_buf=0,t.bi_valid=0,qx(t)}function Qx(t,e,n,r){Ut(t,(b5<<1)+(r?1:0),3),T5(t,e,n,!0)}function k5(t){Ut(t,Bx<<1,3),or(t,D0,Cr),_5(t)}function R5(t,e,n,r){var i,o,s=0;t.level>0?(t.strm.data_type===m5&&(t.strm.data_type=D5(t)),N0(t,t.l_desc),N0(t,t.d_desc),s=F5(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?Qx(t,e,n,r):t.strategy===g5||o===i?(Ut(t,(Bx<<1)+(r?1:0),3),Zx(t,Cr,cf)):(Ut(t,(y5<<1)+(r?1:0),3),I5(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Zx(t,t.dyn_ltree,t.dyn_dtree)),qx(t),r&&Vx(t)}function P5(t,e,n){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(df[n]+uf+1)*2]++,t.dyn_dtree[Ux(e)*2]++),t.last_lit===t.lit_bufsize-1}hs._tr_init=B5,hs._tr_stored_block=Qx,hs._tr_flush_block=R5,hs._tr_tally=P5,hs._tr_align=k5;function M5(t,e,n,r){for(var i=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}var Xx=M5;function N5(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e}var L5=N5();function O5(t,e,n,r){var i=L5,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1}var Kx=O5,L0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bt=Sr,ln=hs,Jx=Xx,fi=Kx,z5=L0,fo=0,U5=1,G5=3,ui=4,ev=5,sr=0,tv=1,cn=-2,H5=-3,O0=-5,q5=-1,V5=1,Gl=2,j5=3,Z5=4,W5=0,$5=2,Hl=8,Y5=9,Q5=15,X5=8,K5=29,J5=256,z0=J5+1+K5,eP=30,tP=19,nP=2*z0+1,rP=15,pe=3,li=258,Ln=li+pe+1,iP=32,ql=42,U0=69,Vl=73,jl=91,Zl=103,uo=113,gf=666,at=1,mf=2,lo=3,gs=4,oP=3;function ci(t,e){return t.msg=z5[e],e}function nv(t){return(t<<1)-(t>4?9:0)}function hi(t){for(var e=t.length;--e>=0;)t[e]=0}function di(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(Bt.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))}function yt(t,e){ln._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,di(t.strm)}function ve(t,e){t.pending_buf[t.pending++]=e}function bf(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function sP(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,Bt.arraySet(e,t.input,t.next_in,i,n),t.state.wrap===1?t.adler=Jx(t.adler,e,i,n):t.state.wrap===2&&(t.adler=fi(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function rv(t,e){var n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-Ln?t.strstart-(t.w_size-Ln):0,f=t.window,l=t.w_mask,c=t.prev,h=t.strstart+li,d=f[r+s-1],p=f[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(f[i+s]!==p||f[i+s-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(o=li-(h-r),r=h-li,o>s){if(t.match_start=e,s=o,o>=a)break;d=f[r+s-1],p=f[r+s]}}while((e=c[e&l])>u&&--n!==0);return s<=t.lookahead?s:t.lookahead}function co(t){var e=t.w_size,n,r,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ln)){Bt.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);o+=e}if(t.strm.avail_in===0)break;if(r=sP(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=pe)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+pe-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<pe)););}while(t.lookahead<Ln&&t.strm.avail_in!==0)}function aP(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(co(t),t.lookahead===0&&e===fo)return at;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,yt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ln&&(yt(t,!1),t.strm.avail_out===0))return at}return t.insert=0,e===ui?(yt(t,!0),t.strm.avail_out===0?lo:gs):(t.strstart>t.block_start&&(yt(t,!1),t.strm.avail_out===0),at)}function G0(t,e){for(var n,r;;){if(t.lookahead<Ln){if(co(t),t.lookahead<Ln&&e===fo)return at;if(t.lookahead===0)break}if(n=0,t.lookahead>=pe&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ln&&(t.match_length=rv(t,n)),t.match_length>=pe)if(r=ln._tr_tally(t,t.strstart-t.match_start,t.match_length-pe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=pe){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=ln._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(yt(t,!1),t.strm.avail_out===0))return at}return t.insert=t.strstart<pe-1?t.strstart:pe-1,e===ui?(yt(t,!0),t.strm.avail_out===0?lo:gs):t.last_lit&&(yt(t,!1),t.strm.avail_out===0)?at:mf}function ms(t,e){for(var n,r,i;;){if(t.lookahead<Ln){if(co(t),t.lookahead<Ln&&e===fo)return at;if(t.lookahead===0)break}if(n=0,t.lookahead>=pe&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=pe-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ln&&(t.match_length=rv(t,n),t.match_length<=5&&(t.strategy===V5||t.match_length===pe&&t.strstart-t.match_start>4096)&&(t.match_length=pe-1)),t.prev_length>=pe&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-pe,r=ln._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-pe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=pe-1,t.strstart++,r&&(yt(t,!1),t.strm.avail_out===0))return at}else if(t.match_available){if(r=ln._tr_tally(t,0,t.window[t.strstart-1]),r&&yt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return at}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ln._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<pe-1?t.strstart:pe-1,e===ui?(yt(t,!0),t.strm.avail_out===0?lo:gs):t.last_lit&&(yt(t,!1),t.strm.avail_out===0)?at:mf}function fP(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=li){if(co(t),t.lookahead<=li&&e===fo)return at;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=pe&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+li;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=li-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=pe?(n=ln._tr_tally(t,1,t.match_length-pe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=ln._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(yt(t,!1),t.strm.avail_out===0))return at}return t.insert=0,e===ui?(yt(t,!0),t.strm.avail_out===0?lo:gs):t.last_lit&&(yt(t,!1),t.strm.avail_out===0)?at:mf}function uP(t,e){for(var n;;){if(t.lookahead===0&&(co(t),t.lookahead===0)){if(e===fo)return at;break}if(t.match_length=0,n=ln._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(yt(t,!1),t.strm.avail_out===0))return at}return t.insert=0,e===ui?(yt(t,!0),t.strm.avail_out===0?lo:gs):t.last_lit&&(yt(t,!1),t.strm.avail_out===0)?at:mf}function ar(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var bs;bs=[new ar(0,0,0,0,aP),new ar(4,4,8,4,G0),new ar(4,5,16,8,G0),new ar(4,6,32,32,G0),new ar(4,4,16,16,ms),new ar(8,16,32,32,ms),new ar(8,16,128,128,ms),new ar(8,32,128,256,ms),new ar(32,128,258,1024,ms),new ar(32,258,258,4096,ms)];function lP(t){t.window_size=2*t.w_size,hi(t.head),t.max_lazy_match=bs[t.level].max_lazy,t.good_match=bs[t.level].good_length,t.nice_match=bs[t.level].nice_length,t.max_chain_length=bs[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=pe-1,t.match_available=0,t.ins_h=0}function cP(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Hl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Bt.Buf16(nP*2),this.dyn_dtree=new Bt.Buf16((2*eP+1)*2),this.bl_tree=new Bt.Buf16((2*tP+1)*2),hi(this.dyn_ltree),hi(this.dyn_dtree),hi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Bt.Buf16(rP+1),this.heap=new Bt.Buf16(2*z0+1),hi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Bt.Buf16(2*z0+1),hi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function iv(t){var e;return!t||!t.state?ci(t,cn):(t.total_in=t.total_out=0,t.data_type=$5,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ql:uo,t.adler=e.wrap===2?0:1,e.last_flush=fo,ln._tr_init(e),sr)}function ov(t){var e=iv(t);return e===sr&&lP(t.state),e}function hP(t,e){return!t||!t.state||t.state.wrap!==2?cn:(t.state.gzhead=e,sr)}function sv(t,e,n,r,i,o){if(!t)return cn;var s=1;if(e===q5&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Y5||n!==Hl||r<8||r>15||e<0||e>9||o<0||o>Z5)return ci(t,cn);r===8&&(r=9);var a=new cP;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+pe-1)/pe),a.window=new Bt.Buf8(a.w_size*2),a.head=new Bt.Buf16(a.hash_size),a.prev=new Bt.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Bt.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,ov(t)}function dP(t,e){return sv(t,e,Hl,Q5,X5,W5)}function pP(t,e){var n,r,i,o;if(!t||!t.state||e>ev||e<0)return t?ci(t,cn):cn;if(r=t.state,!t.output||!t.input&&t.avail_in!==0||r.status===gf&&e!==ui)return ci(t,t.avail_out===0?O0:cn);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===ql)if(r.wrap===2)t.adler=0,ve(r,31),ve(r,139),ve(r,8),r.gzhead?(ve(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ve(r,r.gzhead.time&255),ve(r,r.gzhead.time>>8&255),ve(r,r.gzhead.time>>16&255),ve(r,r.gzhead.time>>24&255),ve(r,r.level===9?2:r.strategy>=Gl||r.level<2?4:0),ve(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ve(r,r.gzhead.extra.length&255),ve(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=fi(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U0):(ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,r.level===9?2:r.strategy>=Gl||r.level<2?4:0),ve(r,oP),r.status=uo);else{var s=Hl+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=Gl||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=iP),s+=31-s%31,r.status=uo,bf(r,s),r.strstart!==0&&(bf(r,t.adler>>>16),bf(r,t.adler&65535)),t.adler=1}if(r.status===U0)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),di(t),i=r.pending,r.pending===r.pending_buf_size));)ve(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Vl)}else r.status=Vl;if(r.status===Vl)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),di(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,ve(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=jl)}else r.status=jl;if(r.status===jl)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),di(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,ve(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=fi(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=Zl)}else r.status=Zl;if(r.status===Zl&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&di(t),r.pending+2<=r.pending_buf_size&&(ve(r,t.adler&255),ve(r,t.adler>>8&255),t.adler=0,r.status=uo)):r.status=uo),r.pending!==0){if(di(t),t.avail_out===0)return r.last_flush=-1,sr}else if(t.avail_in===0&&nv(e)<=nv(n)&&e!==ui)return ci(t,O0);if(r.status===gf&&t.avail_in!==0)return ci(t,O0);if(t.avail_in!==0||r.lookahead!==0||e!==fo&&r.status!==gf){var u=r.strategy===Gl?uP(r,e):r.strategy===j5?fP(r,e):bs[r.level].func(r,e);if((u===lo||u===gs)&&(r.status=gf),u===at||u===lo)return t.avail_out===0&&(r.last_flush=-1),sr;if(u===mf&&(e===U5?ln._tr_align(r):e!==ev&&(ln._tr_stored_block(r,0,0,!1),e===G5&&(hi(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),di(t),t.avail_out===0))return r.last_flush=-1,sr}return e!==ui?sr:r.wrap<=0?tv:(r.wrap===2?(ve(r,t.adler&255),ve(r,t.adler>>8&255),ve(r,t.adler>>16&255),ve(r,t.adler>>24&255),ve(r,t.total_in&255),ve(r,t.total_in>>8&255),ve(r,t.total_in>>16&255),ve(r,t.total_in>>24&255)):(bf(r,t.adler>>>16),bf(r,t.adler&65535)),di(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?sr:tv)}function gP(t){var e;return!t||!t.state?cn:(e=t.state.status,e!==ql&&e!==U0&&e!==Vl&&e!==jl&&e!==Zl&&e!==uo&&e!==gf?ci(t,cn):(t.state=null,e===uo?ci(t,H5):sr))}function mP(t,e){var n=e.length,r,i,o,s,a,u,f,l;if(!t||!t.state||(r=t.state,s=r.wrap,s===2||s===1&&r.status!==ql||r.lookahead))return cn;for(s===1&&(t.adler=Jx(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(hi(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new Bt.Buf8(r.w_size),Bt.arraySet(l,e,n-r.w_size,r.w_size,0),e=l,n=r.w_size),a=t.avail_in,u=t.next_in,f=t.input,t.avail_in=n,t.next_in=0,t.input=e,co(r);r.lookahead>=pe;){i=r.strstart,o=r.lookahead-(pe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+pe-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=pe-1,co(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pe-1,r.match_available=0,t.next_in=u,t.input=f,t.avail_in=a,r.wrap=s,sr}ir.deflateInit=dP,ir.deflateInit2=sv,ir.deflateReset=ov,ir.deflateResetKeep=iv,ir.deflateSetHeader=hP,ir.deflate=pP,ir.deflateEnd=gP,ir.deflateSetDictionary=mP,ir.deflateInfo="pako deflate (from Nodeca project)";var ho={},Wl=Sr,av=!0,fv=!0;try{String.fromCharCode.apply(null,[0])}catch{av=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fv=!1}for(var yf=new Wl.Buf8(256),pi=0;pi<256;pi++)yf[pi]=pi>=252?6:pi>=248?5:pi>=240?4:pi>=224?3:pi>=192?2:1;yf[254]=yf[254]=1,ho.string2buf=function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Wl.Buf8(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};function uv(t,e){if(e<65534&&(t.subarray&&fv||!t.subarray&&av))return String.fromCharCode.apply(null,Wl.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}ho.buf2binstring=function(t){return uv(t,t.length)},ho.binstring2buf=function(t){for(var e=new Wl.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},ho.buf2string=function(t,e){var n,r,i,o,s=e||t.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=t[n++],i<128){a[r++]=i;continue}if(o=yf[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|t[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return uv(a,r)},ho.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+yf[t[n]]>e?n:e};function bP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lv=bP,wf=ir,xf=Sr,H0=ho,q0=L0,yP=lv,cv=Object.prototype.toString,wP=0,V0=4,ys=0,hv=1,dv=2,xP=-1,vP=0,AP=8;function po(t){if(!(this instanceof po))return new po(t);this.options=xf.assign({level:xP,method:AP,chunkSize:16384,windowBits:15,memLevel:8,strategy:vP,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yP,this.strm.avail_out=0;var n=wf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ys)throw new Error(q0[n]);if(e.header&&wf.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(typeof e.dictionary=="string"?r=H0.string2buf(e.dictionary):cv.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=wf.deflateSetDictionary(this.strm,r),n!==ys)throw new Error(q0[n]);this._dict_set=!0}}po.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:e===!0?V0:wP,typeof t=="string"?n.input=H0.string2buf(t):cv.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new xf.Buf8(r),n.next_out=0,n.avail_out=r),i=wf.deflate(n,o),i!==hv&&i!==ys)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===V0||o===dv))&&(this.options.to==="string"?this.onData(H0.buf2binstring(xf.shrinkBuf(n.output,n.next_out))):this.onData(xf.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==hv);return o===V0?(i=wf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ys):(o===dv&&(this.onEnd(ys),n.avail_out=0),!0)},po.prototype.onData=function(t){this.chunks.push(t)},po.prototype.onEnd=function(t){t===ys&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xf.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function j0(t,e){var n=new po(e);if(n.push(t,!0),n.err)throw n.msg||q0[n.err];return n.result}function EP(t,e){return e=e||{},e.raw=!0,j0(t,e)}function _P(t,e){return e=e||{},e.gzip=!0,j0(t,e)}ff.Deflate=po,ff.deflate=j0,ff.deflateRaw=EP,ff.gzip=_P;var vf={},On={},$l=30,SP=12,CP=function(e,n){var r,i,o,s,a,u,f,l,c,h,d,p,b,y,w,E,S,T,D,B,I,N,C,P,M;r=e.state,i=e.next_in,P=e.input,o=i+(e.avail_in-5),s=e.next_out,M=e.output,a=s-(n-e.avail_out),u=s+(e.avail_out-257),f=r.dmax,l=r.wsize,c=r.whave,h=r.wnext,d=r.window,p=r.hold,b=r.bits,y=r.lencode,w=r.distcode,E=(1<<r.lenbits)-1,S=(1<<r.distbits)-1;e:do{b<15&&(p+=P[i++]<<b,b+=8,p+=P[i++]<<b,b+=8),T=y[p&E];t:for(;;){if(D=T>>>24,p>>>=D,b-=D,D=T>>>16&255,D===0)M[s++]=T&65535;else if(D&16){B=T&65535,D&=15,D&&(b<D&&(p+=P[i++]<<b,b+=8),B+=p&(1<<D)-1,p>>>=D,b-=D),b<15&&(p+=P[i++]<<b,b+=8,p+=P[i++]<<b,b+=8),T=w[p&S];n:for(;;){if(D=T>>>24,p>>>=D,b-=D,D=T>>>16&255,D&16){if(I=T&65535,D&=15,b<D&&(p+=P[i++]<<b,b+=8,b<D&&(p+=P[i++]<<b,b+=8)),I+=p&(1<<D)-1,I>f){e.msg="invalid distance too far back",r.mode=$l;break e}if(p>>>=D,b-=D,D=s-a,I>D){if(D=I-D,D>c&&r.sane){e.msg="invalid distance too far back",r.mode=$l;break e}if(N=0,C=d,h===0){if(N+=l-D,D<B){B-=D;do M[s++]=d[N++];while(--D);N=s-I,C=M}}else if(h<D){if(N+=l+h-D,D-=h,D<B){B-=D;do M[s++]=d[N++];while(--D);if(N=0,h<B){D=h,B-=D;do M[s++]=d[N++];while(--D);N=s-I,C=M}}}else if(N+=h-D,D<B){B-=D;do M[s++]=d[N++];while(--D);N=s-I,C=M}for(;B>2;)M[s++]=C[N++],M[s++]=C[N++],M[s++]=C[N++],B-=3;B&&(M[s++]=C[N++],B>1&&(M[s++]=C[N++]))}else{N=s-I;do M[s++]=M[N++],M[s++]=M[N++],M[s++]=M[N++],B-=3;while(B>2);B&&(M[s++]=M[N++],B>1&&(M[s++]=M[N++]))}}else if(D&64){e.msg="invalid distance code",r.mode=$l;break e}else{T=w[(T&65535)+(p&(1<<D)-1)];continue n}break}}else if(D&64)if(D&32){r.mode=SP;break e}else{e.msg="invalid literal/length code",r.mode=$l;break e}else{T=y[(T&65535)+(p&(1<<D)-1)];continue t}break}}while(i<o&&s<u);B=b>>3,i-=B,b-=B<<3,p&=(1<<b)-1,e.next_in=i,e.next_out=s,e.avail_in=i<o?5+(o-i):5-(i-o),e.avail_out=s<u?257+(u-s):257-(s-u),r.hold=p,r.bits=b},pv=Sr,ws=15,gv=852,mv=592,bv=0,Z0=1,yv=2,TP=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],FP=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],IP=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],DP=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],BP=function(e,n,r,i,o,s,a,u){var f=u.bits,l=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,E=0,S=0,T,D,B,I,N,C=null,P=0,M,ee=new pv.Buf16(ws+1),ne=new pv.Buf16(ws+1),J=null,me=0,Ee,De,ot;for(l=0;l<=ws;l++)ee[l]=0;for(c=0;c<i;c++)ee[n[r+c]]++;for(p=f,d=ws;d>=1&&ee[d]===0;d--);if(p>d&&(p=d),d===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<d&&ee[h]===0;h++);for(p<h&&(p=h),w=1,l=1;l<=ws;l++)if(w<<=1,w-=ee[l],w<0)return-1;if(w>0&&(e===bv||d!==1))return-1;for(ne[1]=0,l=1;l<ws;l++)ne[l+1]=ne[l]+ee[l];for(c=0;c<i;c++)n[r+c]!==0&&(a[ne[n[r+c]]++]=c);if(e===bv?(C=J=a,M=19):e===Z0?(C=TP,P-=257,J=FP,me-=257,M=256):(C=IP,J=DP,M=-1),S=0,c=0,l=h,N=s,b=p,y=0,B=-1,E=1<<p,I=E-1,e===Z0&&E>gv||e===yv&&E>mv)return 1;for(;;){Ee=l-y,a[c]<M?(De=0,ot=a[c]):a[c]>M?(De=J[me+a[c]],ot=C[P+a[c]]):(De=32+64,ot=0),T=1<<l-y,D=1<<b,h=D;do D-=T,o[N+(S>>y)+D]=Ee<<24|De<<16|ot|0;while(D!==0);for(T=1<<l-1;S&T;)T>>=1;if(T!==0?(S&=T-1,S+=T):S=0,c++,--ee[l]===0){if(l===d)break;l=n[r+a[c]]}if(l>p&&(S&I)!==B){for(y===0&&(y=p),N+=h,b=l-y,w=1<<b;b+y<d&&(w-=ee[b+y],!(w<=0));)b++,w<<=1;if(E+=1<<b,e===Z0&&E>gv||e===yv&&E>mv)return 1;B=S&I,o[B]=p<<24|b<<16|N-s|0}}return S!==0&&(o[N+S]=l-y<<24|64<<16|0),u.bits=p,0},en=Sr,W0=Xx,fr=Kx,kP=CP,Af=BP,RP=0,wv=1,xv=2,vv=4,PP=5,Yl=6,go=0,MP=1,NP=2,hn=-2,Av=-3,Ev=-4,LP=-5,_v=8,Sv=1,Cv=2,Tv=3,Fv=4,Iv=5,Dv=6,Bv=7,kv=8,Rv=9,Pv=10,Ql=11,Tr=12,$0=13,Mv=14,Y0=15,Nv=16,Lv=17,Ov=18,zv=19,Xl=20,Kl=21,Uv=22,Gv=23,Hv=24,qv=25,Vv=26,Q0=27,jv=28,Zv=29,Ze=30,Wv=31,OP=32,zP=852,UP=592,GP=15,HP=GP;function $v(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function qP(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new en.Buf16(320),this.work=new en.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Yv(t){var e;return!t||!t.state?hn:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Sv,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new en.Buf32(zP),e.distcode=e.distdyn=new en.Buf32(UP),e.sane=1,e.back=-1,go)}function Qv(t){var e;return!t||!t.state?hn:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,Yv(t))}function Xv(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?hn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Qv(t))}function Kv(t,e){var n,r;return t?(r=new qP,t.state=r,r.window=null,n=Xv(t,e),n!==go&&(t.state=null),n):hn}function VP(t){return Kv(t,HP)}var Jv=!0,X0,K0;function jP(t){if(Jv){var e;for(X0=new en.Buf32(512),K0=new en.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Af(wv,t.lens,0,288,X0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Af(xv,t.lens,0,32,K0,0,t.work,{bits:5}),Jv=!1}t.lencode=X0,t.lenbits=9,t.distcode=K0,t.distbits=5}function e2(t,e,n,r){var i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new en.Buf8(o.wsize)),r>=o.wsize?(en.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),en.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(en.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function ZP(t,e){var n,r,i,o,s,a,u,f,l,c,h,d,p,b,y=0,w,E,S,T,D,B,I,N,C=new en.Buf8(4),P,M,ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return hn;n=t.state,n.mode===Tr&&(n.mode=$0),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,c=a,h=u,N=go;e:for(;;)switch(n.mode){case Sv:if(n.wrap===0){n.mode=$0;break}for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.wrap&2&&f===35615){n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0),f=0,l=0,n.mode=Cv;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=Ze;break}if((f&15)!==_v){t.msg="unknown compression method",n.mode=Ze;break}if(f>>>=4,l-=4,I=(f&15)+8,n.wbits===0)n.wbits=I;else if(I>n.wbits){t.msg="invalid window size",n.mode=Ze;break}n.dmax=1<<I,t.adler=n.check=1,n.mode=f&512?Pv:Tr,f=0,l=0;break;case Cv:for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.flags=f,(n.flags&255)!==_v){t.msg="unknown compression method",n.mode=Ze;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ze;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0,n.mode=Tv;case Tv:for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.head&&(n.head.time=f),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=fr(n.check,C,4,0)),f=0,l=0,n.mode=Fv;case Fv:for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0,n.mode=Iv;case Iv:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0}else n.head&&(n.head.extra=null);n.mode=Dv;case Dv:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),en.arraySet(n.head.extra,r,o,d,I)),n.flags&512&&(n.check=fr(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Bv;case Bv:if(n.flags&2048){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=fr(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=kv;case kv:if(n.flags&4096){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=fr(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=Rv;case Rv:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ze;break}f=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Tr;break;case Pv:for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}t.adler=n.check=$v(f),f=0,l=0,n.mode=Ql;case Ql:if(n.havedict===0)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,NP;t.adler=n.check=1,n.mode=Tr;case Tr:if(e===PP||e===Yl)break e;case $0:if(n.last){f>>>=l&7,l-=l&7,n.mode=Q0;break}for(;l<3;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}switch(n.last=f&1,f>>>=1,l-=1,f&3){case 0:n.mode=Mv;break;case 1:if(jP(n),n.mode=Xl,e===Yl){f>>>=2,l-=2;break e}break;case 2:n.mode=Lv;break;case 3:t.msg="invalid block type",n.mode=Ze}f>>>=2,l-=2;break;case Mv:for(f>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ze;break}if(n.length=f&65535,f=0,l=0,n.mode=Y0,e===Yl)break e;case Y0:n.mode=Nv;case Nv:if(d=n.length,d){if(d>a&&(d=a),d>u&&(d=u),d===0)break e;en.arraySet(i,r,o,d,s),a-=d,o+=d,u-=d,s+=d,n.length-=d;break}n.mode=Tr;break;case Lv:for(;l<14;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.nlen=(f&31)+257,f>>>=5,l-=5,n.ndist=(f&31)+1,f>>>=5,l-=5,n.ncode=(f&15)+4,f>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ze;break}n.have=0,n.mode=Ov;case Ov:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.lens[ee[n.have++]]=f&7,f>>>=3,l-=3}for(;n.have<19;)n.lens[ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},N=Af(RP,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,N){t.msg="invalid code lengths set",n.mode=Ze;break}n.have=0,n.mode=zv;case zv:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(S<16)f>>>=w,l-=w,n.lens[n.have++]=S;else{if(S===16){for(M=w+2;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(f>>>=w,l-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Ze;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,l-=2}else if(S===17){for(M=w+3;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=w,l-=w,I=0,d=3+(f&7),f>>>=3,l-=3}else{for(M=w+7;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=w,l-=w,I=0,d=11+(f&127),f>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ze;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===Ze)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ze;break}if(n.lenbits=9,P={bits:n.lenbits},N=Af(wv,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,N){t.msg="invalid literal/lengths set",n.mode=Ze;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},N=Af(xv,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,N){t.msg="invalid distances set",n.mode=Ze;break}if(n.mode=Xl,e===Yl)break e;case Xl:n.mode=Kl;case Kl:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,kP(t,h),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,n.mode===Tr&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(E&&!(E&240)){for(T=w,D=E,B=S;y=n.lencode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,n.length=S,E===0){n.mode=Vv;break}if(E&32){n.back=-1,n.mode=Tr;break}if(E&64){t.msg="invalid literal/length code",n.mode=Ze;break}n.extra=E&15,n.mode=Uv;case Uv:if(n.extra){for(M=n.extra;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Gv;case Gv:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(!(E&240)){for(T=w,D=E,B=S;y=n.distcode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,E&64){t.msg="invalid distance code",n.mode=Ze;break}n.offset=S,n.extra=E&15,n.mode=Hv;case Hv:if(n.extra){for(M=n.extra;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ze;break}n.mode=qv;case qv:if(u===0)break e;if(d=h-u,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ze;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=s-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do i[s++]=b[p++];while(--d);n.length===0&&(n.mode=Kl);break;case Vv:if(u===0)break e;i[s++]=n.length,u--,n.mode=Kl;break;case Q0:if(n.wrap){for(;l<32;){if(a===0)break e;a--,f|=r[o++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?fr(n.check,i,h,s-h):W0(n.check,i,h,s-h)),h=u,(n.flags?f:$v(f))!==n.check){t.msg="incorrect data check",n.mode=Ze;break}f=0,l=0}n.mode=jv;case jv:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ze;break}f=0,l=0}n.mode=Zv;case Zv:N=MP;break e;case Ze:N=Av;break e;case Wv:return Ev;case OP:default:return hn}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<Ze&&(n.mode<Q0||e!==vv))&&e2(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?fr(n.check,i,h,t.next_out-h):W0(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Tr?128:0)+(n.mode===Xl||n.mode===Y0?256:0),(c===0&&h===0||e===vv)&&N===go&&(N=LP),N}function WP(t){if(!t||!t.state)return hn;var e=t.state;return e.window&&(e.window=null),t.state=null,go}function $P(t,e){var n;return!t||!t.state||(n=t.state,!(n.wrap&2))?hn:(n.head=e,e.done=!1,go)}function YP(t,e){var n=e.length,r,i,o;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==Ql)?hn:r.mode===Ql&&(i=1,i=W0(i,e,n,0),i!==r.check)?Av:(o=e2(t,e,n,n),o?(r.mode=Wv,Ev):(r.havedict=1,go))}On.inflateReset=Qv,On.inflateReset2=Xv,On.inflateResetKeep=Yv,On.inflateInit=VP,On.inflateInit2=Kv,On.inflate=ZP,On.inflateEnd=WP,On.inflateGetHeader=$P,On.inflateSetDictionary=YP,On.inflateInfo="pako inflate (from Nodeca project)";var t2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function QP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XP=QP,xs=On,Ef=Sr,Jl=ho,rt=t2,J0=L0,KP=lv,JP=XP,n2=Object.prototype.toString;function mo(t){if(!(this instanceof mo))return new mo(t);this.options=Ef.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new KP,this.strm.avail_out=0;var n=xs.inflateInit2(this.strm,e.windowBits);if(n!==rt.Z_OK)throw new Error(J0[n]);if(this.header=new JP,xs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Jl.string2buf(e.dictionary):n2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=xs.inflateSetDictionary(this.strm,e.dictionary),n!==rt.Z_OK)))throw new Error(J0[n])}mo.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,u,f,l=!1;if(this.ended)return!1;s=e===~~e?e:e===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof t=="string"?n.input=Jl.binstring2buf(t):n2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Ef.Buf8(r),n.next_out=0,n.avail_out=r),o=xs.inflate(n,rt.Z_NO_FLUSH),o===rt.Z_NEED_DICT&&i&&(o=xs.inflateSetDictionary(this.strm,i)),o===rt.Z_BUF_ERROR&&l===!0&&(o=rt.Z_OK,l=!1),o!==rt.Z_STREAM_END&&o!==rt.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===rt.Z_STREAM_END||n.avail_in===0&&(s===rt.Z_FINISH||s===rt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=Jl.utf8border(n.output,n.next_out),u=n.next_out-a,f=Jl.buf2string(n.output,a),n.next_out=u,n.avail_out=r-u,u&&Ef.arraySet(n.output,n.output,a,u,0),this.onData(f)):this.onData(Ef.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(l=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==rt.Z_STREAM_END);return o===rt.Z_STREAM_END&&(s=rt.Z_FINISH),s===rt.Z_FINISH?(o=xs.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===rt.Z_OK):(s===rt.Z_SYNC_FLUSH&&(this.onEnd(rt.Z_OK),n.avail_out=0),!0)},mo.prototype.onData=function(t){this.chunks.push(t)},mo.prototype.onEnd=function(t){t===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ef.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function ep(t,e){var n=new mo(e);if(n.push(t,!0),n.err)throw n.msg||J0[n.err];return n.result}function eM(t,e){return e=e||{},e.raw=!0,ep(t,e)}vf.Inflate=mo,vf.inflate=ep,vf.inflateRaw=eM,vf.ungzip=ep;var tM=Sr.assign,nM=ff,rM=vf,iM=t2,r2={};tM(r2,nM,rM,iM);var ec=r2;async function vs(t){try{let e,n=0,r=0;const i=[];let o=0,s;do{const u=t.subarray(n);if(s=new ec.Inflate,{strm:e}=s,s.push(u,ec.Z_SYNC_FLUSH),s.err)throw new Error(s.msg);n+=e.next_in,i[r]=s.result,o+=i[r].length,r+=1}while(e.avail_in);const a=new Uint8Array(o);for(let u=0,f=0;u<i.length;u++)a.set(i[u],f),f+=i[u].length;return Buffer.from(a)}catch(e){throw`${e}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):e}}async function i2(t,e){try{let n;const{minv:r,maxv:i}=e;let o=r.blockPosition,s=r.dataPosition;const a=[],u=[],f=[];let l=0,c=0;do{const p=t.subarray(o-r.blockPosition),b=new ec.Inflate;if({strm:n}=b,b.push(p,ec.Z_SYNC_FLUSH),b.err)throw new Error(b.msg);const y=b.result;a.push(y);let w=y.length;u.push(o),f.push(s),a.length===1&&r.dataPosition&&(a[0]=a[0].subarray(r.dataPosition),w=a[0].length);const E=o;if(o+=n.next_in,s+=w,E>=i.blockPosition){a[c]=a[c].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),u.push(o),f.push(s),l+=a[c].length;break}l+=a[c].length,c++}while(n.avail_in);const h=new Uint8Array(l);for(let p=0,b=0;p<a.length;p++)h.set(a[p],b),b+=a[p].length;return{buffer:Buffer.from(h),cpositions:u,dpositions:f}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var dn=null;try{dn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function He(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}He.prototype.__isLong__,Object.defineProperty(He.prototype,"__isLong__",{value:!0});function Ct(t){return(t&&t.__isLong__)===!0}function o2(t){var e=Math.clz32(t&-t);return t?31-e:e}He.isLong=Ct;var s2={},a2={};function bo(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=a2[t],r)?r:(n=Ae(t,0,!0),i&&(a2[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=s2[t],r)?r:(n=Ae(t,t<0?-1:0,!1),i&&(s2[t]=n),n))}He.fromInt=bo;function pn(t,e){if(isNaN(t))return e?Fr:Un;if(e){if(t<0)return Fr;if(t>=u2)return p2}else{if(t<=-l2)return Gt;if(t+1>=l2)return d2}return t<0?pn(-t,e).neg():Ae(t%As|0,t/As|0,e)}He.fromNumber=pn;function Ae(t,e,n){return new He(t,e,n)}He.fromBits=Ae;var tc=Math.pow;function tp(t,e,n){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Fr:Un;if(n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return tp(t.substring(1),e,n).neg();for(var i=pn(tc(n,8)),o=Un,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),n);if(a<8){var f=pn(tc(n,a));o=o.mul(f).add(pn(u))}else o=o.mul(i),o=o.add(pn(u))}return o.unsigned=e,o}He.fromString=tp;function zn(t,e){return typeof t=="number"?pn(t,e):typeof t=="string"?tp(t,e):Ae(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}He.fromValue=zn;var f2=1<<16,oM=1<<24,As=f2*f2,u2=As*As,l2=u2/2,c2=bo(oM),Un=bo(0);He.ZERO=Un;var Fr=bo(0,!0);He.UZERO=Fr;var Es=bo(1);He.ONE=Es;var h2=bo(1,!0);He.UONE=h2;var np=bo(-1);He.NEG_ONE=np;var d2=Ae(-1,2147483647,!1);He.MAX_VALUE=d2;var p2=Ae(-1,-1,!0);He.MAX_UNSIGNED_VALUE=p2;var Gt=Ae(0,-2147483648,!1);He.MIN_VALUE=Gt;var W=He.prototype;W.toInt=function(){return this.unsigned?this.low>>>0:this.low},W.toNumber=function(){return this.unsigned?(this.high>>>0)*As+(this.low>>>0):this.high*As+(this.low>>>0)},W.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Gt)){var n=pn(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=pn(tc(e,6),this.unsigned),s=this,a="";;){var u=s.div(o),f=s.sub(u.mul(o)).toInt()>>>0,l=f.toString(e);if(s=u,s.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},W.getHighBits=function(){return this.high},W.getHighBitsUnsigned=function(){return this.high>>>0},W.getLowBits=function(){return this.low},W.getLowBitsUnsigned=function(){return this.low>>>0},W.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Gt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},W.isZero=function(){return this.high===0&&this.low===0},W.eqz=W.isZero,W.isNegative=function(){return!this.unsigned&&this.high<0},W.isPositive=function(){return this.unsigned||this.high>=0},W.isOdd=function(){return(this.low&1)===1},W.isEven=function(){return(this.low&1)===0},W.equals=function(e){return Ct(e)||(e=zn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},W.eq=W.equals,W.notEquals=function(e){return!this.eq(e)},W.neq=W.notEquals,W.ne=W.notEquals,W.lessThan=function(e){return this.comp(e)<0},W.lt=W.lessThan,W.lessThanOrEqual=function(e){return this.comp(e)<=0},W.lte=W.lessThanOrEqual,W.le=W.lessThanOrEqual,W.greaterThan=function(e){return this.comp(e)>0},W.gt=W.greaterThan,W.greaterThanOrEqual=function(e){return this.comp(e)>=0},W.gte=W.greaterThanOrEqual,W.ge=W.greaterThanOrEqual,W.compare=function(e){if(Ct(e)||(e=zn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},W.comp=W.compare,W.negate=function(){return!this.unsigned&&this.eq(Gt)?Gt:this.not().add(Es)},W.neg=W.negate,W.add=function(e){Ct(e)||(e=zn(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=o+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+s,l&=65535,Ae(h<<16|d,l<<16|c,this.unsigned)},W.subtract=function(e){return Ct(e)||(e=zn(e)),this.add(e.neg())},W.sub=W.subtract,W.multiply=function(e){if(this.isZero())return this;if(Ct(e)||(e=zn(e)),dn){var n=dn.mul(this.low,this.high,e.low,e.high);return Ae(n,dn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Fr:Un;if(this.eq(Gt))return e.isOdd()?Gt:Un;if(e.eq(Gt))return this.isOdd()?Gt:Un;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(c2)&&e.lt(c2))return pn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=s*l,d+=p>>>16,p&=65535,d+=o*l,h+=d>>>16,d&=65535,d+=s*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=o*f,c+=h>>>16,h&=65535,h+=s*u,c+=h>>>16,h&=65535,c+=r*l+i*f+o*u+s*a,c&=65535,Ae(d<<16|p,c<<16|h,this.unsigned)},W.mul=W.multiply,W.divide=function(e){if(Ct(e)||(e=zn(e)),e.isZero())throw Error("division by zero");if(dn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?dn.div_u:dn.div_s)(this.low,this.high,e.low,e.high);return Ae(n,dn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Fr:Un;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Fr;if(e.gt(this.shru(1)))return h2;o=Fr}else{if(this.eq(Gt)){if(e.eq(Es)||e.eq(np))return Gt;if(e.eq(Gt))return Es;var s=this.shr(1);return r=s.div(e).shl(1),r.eq(Un)?e.isNegative()?Es:np:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(Gt))return this.unsigned?Fr:Un;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=Un}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:tc(2,a-48),f=pn(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=pn(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=Es),o=o.add(f),i=i.sub(l)}return o},W.div=W.divide,W.modulo=function(e){if(Ct(e)||(e=zn(e)),dn){var n=(this.unsigned?dn.rem_u:dn.rem_s)(this.low,this.high,e.low,e.high);return Ae(n,dn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},W.mod=W.modulo,W.rem=W.modulo,W.not=function(){return Ae(~this.low,~this.high,this.unsigned)},W.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},W.clz=W.countLeadingZeros,W.countTrailingZeros=function(){return this.low?o2(this.low):o2(this.high)+32},W.ctz=W.countTrailingZeros,W.and=function(e){return Ct(e)||(e=zn(e)),Ae(this.low&e.low,this.high&e.high,this.unsigned)},W.or=function(e){return Ct(e)||(e=zn(e)),Ae(this.low|e.low,this.high|e.high,this.unsigned)},W.xor=function(e){return Ct(e)||(e=zn(e)),Ae(this.low^e.low,this.high^e.high,this.unsigned)},W.shiftLeft=function(e){return Ct(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ae(0,this.low<<e-32,this.unsigned)},W.shl=W.shiftLeft,W.shiftRight=function(e){return Ct(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ae(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},W.shr=W.shiftRight,W.shiftRightUnsigned=function(e){return Ct(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ae(this.high,0,this.unsigned):Ae(this.high>>>e-32,0,this.unsigned)},W.shru=W.shiftRightUnsigned,W.shr_u=W.shiftRightUnsigned,W.rotateLeft=function(e){var n;return Ct(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ae(this.high,this.low,this.unsigned):e<32?(n=32-e,Ae(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,Ae(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},W.rotl=W.rotateLeft,W.rotateRight=function(e){var n;return Ct(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ae(this.high,this.low,this.unsigned):e<32?(n=32-e,Ae(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,Ae(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},W.rotr=W.rotateRight,W.toSigned=function(){return this.unsigned?Ae(this.low,this.high,!1):this},W.toUnsigned=function(){return this.unsigned?this:Ae(this.low,this.high,!0)},W.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},W.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},W.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},He.fromBytes=function(e,n,r){return r?He.fromBytesLE(e,n):He.fromBytesBE(e,n)},He.fromBytesLE=function(e,n){return new He(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},He.fromBytesBE=function(e,n){return new He(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};function g2(t,e){return t.offset+t.lineBytes*Math.floor(e/t.lineLength)+e%t.lineLength}async function sM(t,e){const n=await t.readFile(e);if(!(n&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const o=n.toString("utf8").split(/\r?\n/).filter(s=>/\S/.test(s)).map(s=>s.split("	")).filter(s=>s[0]!=="").map(s=>((!i||i.name!==s[0])&&(i={name:s[0],id:r},r+=1),{id:i.id,name:s[0],length:+s[1],start:0,end:+s[1],offset:+s[2],lineLength:+s[3],lineBytes:+s[4]}));return{name:Object.fromEntries(o.map(s=>[s.name,s])),id:Object.fromEntries(o.map(s=>[s.id,s]))}}class aM{constructor({fasta:e,fai:n,path:r,faiPath:i,chunkSizeLimit:o=1e6}){if(e)this.fasta=e;else if(r)this.fasta=new Jt(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new Jt(i);else if(r)this.fai=new Jt(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile");this.chunkSizeLimit=o}async _getIndexes(e){return this.indexes||(this.indexes=sM(this.fai,e)),this.indexes}async getSequenceNames(e){return Object.keys((await this._getIndexes(e)).name)}async getSequenceSizes(e){const n={},r=await this._getIndexes(e),i=Object.values(r.id);for(let o=0;o<i.length;o+=1)n[i[o].name]=i[o].length;return n}async getSequenceSize(e,n){var r;return(r=(await this._getIndexes(n)).name[e])===null||r===void 0?void 0:r.length}async hasReferenceSequence(e,n){return!!(await this._getIndexes(n)).name[e]}async getResiduesById(e,n,r,i){const o=(await this._getIndexes(i)).id[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getResiduesByName(e,n,r,i){const o=(await this._getIndexes(i)).name[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getSequence(e,n,r,i){return this.getResiduesByName(e,n,r,i)}async _fetchFromIndexEntry(e,n=0,r,i){let o=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((o===void 0||o>e.length)&&(o=e.length),n>=o)return"";const s=g2(e,n),a=g2(e,o)-s;if(a>this.chunkSizeLimit)throw new Error(`data size of ${a.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`);const u=Buffer.allocUnsafe(a);return await this.fasta.read(u,0,a,s,i),u.toString("utf8").replace(/\s+/g,"")}}function _f(t){return class extends t{constructor(){super(...arguments);on(this,"lastQuantizedInterval",[0,0])}quantizeInterval(r,i){return[Math.max(Math.floor(r[0]/i-1)*i,0),Math.min(Math.ceil(r[1]/i+1)*i,this.genome.totalSize)]}checkAndUpdateLastInterval(r){return zu(this.lastQuantizedInterval,r)?!1:(this.lastQuantizedInterval=r,!0)}}}function Sf(t,e){return!e||/^(data:|([A-Za-z]+:)?\/\/)/.test(t)||t.startsWith("/")?t:(e.endsWith("/")||(e+="/"),e+t)}typeof window<"u"&&(window.Buffer=bt.Buffer);class fM extends _f(oo){constructor(e,n){const r={channel:"x",windowSize:7e3,...e};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");const i=o=>new rr(Sf(o,this.view.getBaseUrl()));this.fasta=new aM({fasta:i(this.params.url),fai:i(this.params.indexUrl??this.params.url+".fai")})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;const r=this.quantizeInterval(e,n);if(this.checkAndUpdateLastInterval(r)){const i=this.genome.continuousToDiscreteChromosomeIntervals(r),o=await Promise.all(i.map(s=>this.fasta.getSequence(s.chrom,s.startPos,s.endPos).then(a=>({chrom:s.chrom,start:s.startPos,sequence:a}))));this.publishData(o)}}}const nc=BigInt(32);function uM(t,e,n){const r=+!!n,i=+!n;return BigInt(t.getInt32(e,n)*i+t.getInt32(e+4,n)*r)<<nc|BigInt(t.getUint32(e,n)*r+t.getUint32(e+4,n)*i)}function lM(t,e,n){const r=t.getUint32(e,n),i=t.getUint32(e+4,n),o=+!!n,s=+!n;return BigInt(r*s+i*o)<<nc|BigInt(r*o+i*s)}function cM(t,e,n,r){const i=Number(n>>nc),o=Number(n&BigInt(4294967295));r?(t.setInt32(e+4,i,r),t.setUint32(e,o,r)):(t.setInt32(e,i,r),t.setUint32(e+4,o,r))}function hM(t,e,n,r){const i=Number(n>>nc),o=Number(n&BigInt(4294967295));r?(t.setUint32(e+4,i,r),t.setUint32(e,o,r)):(t.setUint32(e,i,r),t.setUint32(e+4,o,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(t,e){return uM(this,t,e)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(t,e){return lM(this,t,e)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(t,e,n){cM(this,t,e,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(t,e,n){hM(this,t,e,n)});class dM{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){const n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}}const Gn=new Map,yo="___parser_",Hn={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},rc={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},ic={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};let Ie=class Wn{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Wn}primitiveGenerateN(e,n){const r=rc[e],i=ic[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Hn[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return Gn.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Gn.has(n.type)&&!(n.type in Hn))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!Gn.has(o)&&!(o in Hn))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof Wn)&&!Gn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof Wn)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Hn)&&!Gn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const n=new dM(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${yo+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){const e="imports";return this.getContext(e).code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${yo+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=Gn.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){const e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Hn).indexOf(this.type)>=0)e=Hn[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Hn[this.options.type]:this.options.type instanceof Wn&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){const i=new Wn;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}const n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);const i=(l=0)=>{let c=0;for(let h=l;h<e.bitFields.length;h++){const d=e.bitFields[h].options.length;if(c+d>32)break;c+=d}return c},o=l=>(l<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),l=8):l<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),l=16):l<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),l=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),l=32),e.pushCode(`offset += ${l/8};`),l);let s=0;const a=this.endian==="be";let u=0,f=0;e.bitFields.forEach((l,c)=>{let h=l.options.length;if(h>f){if(f){const b=-1>>>32-f;e.pushCode(`${l.varName} = (${r} & 0x${b.toString(16)}) << ${h-f};`),h-=f}s=0,f=u=o(i(c)-f)}const d=a?u-s-h:s,p=-1>>>32-h;e.pushCode(`${l.varName} ${h<l.options.length?"|=":"="} ${r} >> ${d} & 0x${p.toString(16)};`),l.options.length===32&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),s+=h,f-=h}),e.bitFields=[]}}generateSeek(e){const n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);const u=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${u}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${u}));`)}else if(this.options.length){const a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);const s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{const r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){const n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,f=typeof u=="string";if(f?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(Gn.get(i)){const l=e.generateTmpVariable();if(e.pushCode(`var ${l} = ${yo+i}(offset, {`),e.useContextVariables){const c=e.generateVariable();e.pushCode(`$parent: ${c},`),e.pushCode(`$root: ${c}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${l}.result; offset = ${l}.offset;`),i!==this.alias&&e.addReference(i)}else{const l=rc[i],c=ic[i];e.pushCode(`var ${a} = dataView.get${l}(offset, ${c});`),e.pushCode(`offset += ${Hn[i]};`)}else if(i instanceof Wn){e.pushCode(`var ${a} = {};`);const l=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${l};`),e.pushCode(`${a}.$root = ${l}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(f?e.pushCode(`${s}[${a}.${u}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){const l=this.options.readUntil,c=e.addImport(l);e.pushCode(`while (!${c}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){const i=e.generateVariable(this.varName);if(Gn.has(r)){const o=e.generateTmpVariable();e.pushCode(`var ${o} = ${yo+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{const o=rc[r],s=ic[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${Hn[r]}`)}}else r instanceof Wn&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){const n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){const i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){const n=e.generateVariable(this.varName);if(this.options.type instanceof Wn){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){const r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(Gn.has(this.options.type)){const r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${yo+this.options.type}(offset, {`),e.useContextVariables){const i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){const u=this.options.readUntil,f=e.generateTmpVariable(),l=e.generateTmpVariable();e.pushCode(`var ${f} = offset;`),e.pushCode(`var ${l} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${l} = dataView.getUint8(offset);`);const c=e.addImport(u);e.pushCode(`if (${c}.call(${e.generateVariable()}, ${l}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{const u=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${u});`),e.pushCode(`offset += ${u};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);const i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Wn)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(Gn.has(this.options.type)){const u=e.generateTmpVariable();e.pushCode(`var ${u} = ${yo+this.options.type}(0);`),e.pushCode(`${n} = ${u}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){const i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){const n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof Wn){if(e.pushCode(`${o} = {};`),e.useContextVariables){const s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(Gn.has(this.options.type)){const s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${yo+this.options.type}(offset, {`),e.useContextVariables){const a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Hn).indexOf(this.options.type)>=0){const s=rc[n],a=ic[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${Hn[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){const n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var m2={},rp={},wo={},Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});function ip(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function op(t,e,n){return e&&b2(t.prototype,e),n&&b2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}function _s(t){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_s(t)}function sp(t,e){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sp(t,e)}function gM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mM(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tf(t)}function bM(t){var e=gM();return function(){var r=_s(t),i;if(e){var o=_s(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mM(this,i)}}function yM(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=_s(t),t!==null););return t}function oc(){return typeof Reflect<"u"&&Reflect.get?oc=Reflect.get.bind():oc=function(e,n,r){var i=yM(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?e:r):o.value}},oc.apply(this,arguments)}var y2=function(){function t(){ip(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return op(t,[{key:"addEventListener",value:function(n,r,i){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push({callback:r,options:i})}},{key:"removeEventListener",value:function(n,r){if(n in this.listeners){for(var i=this.listeners[n],o=0,s=i.length;o<s;o++)if(i[o].callback===r){i.splice(o,1);return}}}},{key:"dispatchEvent",value:function(n){if(n.type in this.listeners){for(var r=this.listeners[n.type],i=r.slice(),o=0,s=i.length;o<s;o++){var a=i[o];try{a.callback.call(this,n)}catch(u){Promise.resolve().then(function(){throw u})}a.options&&a.options.once&&this.removeEventListener(n.type,a.callback)}return!n.defaultPrevented}}}]),t}(),ap=function(t){pM(n,t);var e=bM(n);function n(){var r;return ip(this,n),r=e.call(this),r.listeners||y2.call(Tf(r)),Object.defineProperty(Tf(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(Tf(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(Tf(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return op(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),oc(_s(n.prototype),"dispatchEvent",this).call(this,i)}}]),n}(y2),w2=function(){function t(){ip(this,t),Object.defineProperty(this,"signal",{value:new ap,writable:!0,configurable:!0})}return op(t,[{key:"abort",value:function(n){var r;try{r=new Event("abort")}catch{typeof document<"u"?document.createEvent?(r=document.createEvent("Event"),r.initEvent("abort",!1,!1)):(r=document.createEventObject(),r.type="abort"):r={type:"abort",bubbles:!1,cancelable:!1}}var i=n;if(i===void 0)if(typeof document>"u")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch{i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();typeof Symbol<"u"&&Symbol.toStringTag&&(w2.prototype[Symbol.toStringTag]="AbortController",ap.prototype[Symbol.toStringTag]="AbortSignal");function wM(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof t.Request=="function"&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function xM(t){typeof t=="function"&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,i=r===void 0?n.Request:r,o=e.AbortController,s=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=s===void 0?!1:s;if(!wM({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:u};var u=i;(u&&!u.prototype.hasOwnProperty("signal")||a)&&(u=function(h,d){var p;d&&d.signal&&(p=d.signal,delete d.signal);var b=new i(h,d);return p&&Object.defineProperty(b,"signal",{writable:!1,enumerable:!1,configurable:!0,value:p}),b},u.prototype=i.prototype);var f=n,l=function(h,d){var p=u&&u.prototype.isPrototypeOf(h)?h.signal:d?d.signal:void 0;if(p){var b;try{b=new DOMException("Aborted","AbortError")}catch{b=new Error("Aborted"),b.name="AbortError"}if(p.aborted)return Promise.reject(b);var y=new Promise(function(w,E){p.addEventListener("abort",function(){return E(b)},{once:!0})});return d&&d.signal&&delete d.signal,Promise.race([y,f(h,d)])}return f(h,d)};return{fetch:l,Request:u}}Cf.AbortController=w2,Cf.AbortSignal=ap,Cf.abortableFetch=xM,Object.defineProperty(wo,"__esModule",{value:!0}),wo.AbortSignal=wo.AbortController=void 0;const x2=Cf;var sc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Nn<"u")return Nn;throw new Error("unable to locate global object")};let vM=typeof sc().AbortController>"u"?x2.AbortController:sc().AbortController;wo.AbortController=vM;let AM=typeof sc().AbortController>"u"?x2.AbortSignal:sc().AbortSignal;wo.AbortSignal=AM;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});const EM=wo;class _M{}class SM{constructor(){this.signals=new Set,this.abortController=new EM.AbortController}addSignal(e=new _M){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):typeof e.addEventListener=="function"&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}fp.default=SM;var up={};Object.defineProperty(up,"__esModule",{value:!0});class CM{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach(n=>{n(e)})}}up.default=CM;var v2=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rp,"__esModule",{value:!0});const TM=wo,FM=v2(fp),IM=v2(up);class ac{constructor({fill:e,cache:n}){if(typeof e!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=e}static isAbortException(e){return e.name==="AbortError"||e.code==="ERR_ABORTED"||e.message==="AbortError: aborted"||e.message==="Error: aborted"}evict(e,n){this.cache.get(e)===n&&this.cache.delete(e)}fill(e,n,r,i){const o=new FM.default,s=new IM.default;s.addCallback(i);const a={aborter:o,promise:this.fillCallback(n,o.signal,u=>{s.callback(u)}),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};a.aborter.addSignal(r),a.aborter.signal.addEventListener("abort",()=>{a.settled||this.evict(e,a)}),a.promise.then(()=>{a.settled=!0},()=>{a.settled=!0,this.evict(e,a)}).catch(u=>{throw console.error(u),u}),this.cache.set(e,a)}static checkSinglePromise(e,n){function r(){if(n&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(i=>(r(),i),i=>{throw r(),i})}has(e){return this.cache.has(e)}get(e,n,r,i){if(!r&&n instanceof TM.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const o=this.cache.get(e);return o?o.aborted&&!o.settled?(this.evict(e,o),this.get(e,n,r,i)):o.settled?o.promise:(o.aborter.addSignal(r),o.statusReporter.addCallback(i),ac.checkSinglePromise(o.promise,r)):(this.fill(e,n,r,i),ac.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const n=this.cache.get(e);n&&(n.settled||n.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let n=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),n+=1;return n}}rp.default=ac;var DM=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m2,"__esModule",{value:!0});const BM=DM(rp);var fc=m2.default=BM.default,kM=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}};const lp=so(kM);class gi{constructor(e,n){this.ranges=arguments.length===2?[{min:e,max:n}]:0 in e?Object.assign({},e):[e]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(e){for(let n=0;n<this.ranges.length;n+=1){const r=this.ranges[n];if(r.min<=e&&r.max>=e)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(e=>new gi(e.min,e.max))}toString(){return this.ranges.map(e=>`[${e.min}-${e.max}]`).join(",")}union(e){const n=this.getRanges().concat(e.getRanges()).sort(this.rangeOrder),r=[];let i=n[0];for(let o=1;o<n.length;o+=1){const s=n[o];s.min()>i.max()+1?(r.push(i),i=s):s.max()>i.max()&&(i=new gi(i.min(),s.max()))}return r.push(i),r.length===1?r[0]:new gi(r)}intersection(e){let n=this,r=e;const i=this.ranges(),o=r.ranges(),s=i.length,a=o.length;let u=0,f=0;const l=[];for(;u<s&&f<a;){n=i[u],r=o[f];const c=Math.max(n.min(),r.min()),h=Math.min(n.max(),r.max());h>=c&&l.push(new gi(c,h)),n.max()>r.max()?f+=1:u+=1}if(l.length===0)throw new Error("found range of length 0");return l.length===1?l[0]:new gi(l)}coverage(){let e=0;const n=this.ranges();for(const r of n)e+=r.max()-r.min()+1;return e}rangeOrder(e,n){let r=e,i=n;return arguments.length<2&&(i=r,r=this),r.min()<i.min()?-1:r.min()>i.min()?1:r.max()<i.max()?-1:i.max()>r.max()?1:0}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const RM=4,A2=0,E2=1,PM=2;function Ss(t){let e=t.length;for(;--e>=0;)t[e]=0}const MM=0,_2=1,NM=2,LM=3,OM=258,cp=29,Ff=256,If=Ff+1+cp,Cs=30,hp=19,S2=2*If+1,xo=15,dp=16,zM=7,pp=256,C2=16,T2=17,F2=18,gp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),uc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),UM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GM=512,Ir=new Array((If+2)*2);Ss(Ir);const Df=new Array(Cs*2);Ss(Df);const Bf=new Array(GM);Ss(Bf);const kf=new Array(OM-LM+1);Ss(kf);const mp=new Array(cp);Ss(mp);const lc=new Array(Cs);Ss(lc);function bp(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let D2,B2,k2;function yp(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const R2=t=>t<256?Bf[t]:Bf[256+(t>>>7)],Rf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ht=(t,e,n)=>{t.bi_valid>dp-n?(t.bi_buf|=e<<t.bi_valid&65535,Rf(t,t.bi_buf),t.bi_buf=e>>dp-t.bi_valid,t.bi_valid+=n-dp):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},ur=(t,e,n)=>{Ht(t,n[e*2],n[e*2+1])},P2=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},HM=t=>{t.bi_valid===16?(Rf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},qM=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let f,l,c,h,d,p,b=0;for(h=0;h<=xo;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<S2;f++)l=t.heap[f],h=n[n[l*2+1]*2+1]+1,h>u&&(h=u,b++),n[l*2+1]=h,!(l>r)&&(t.bl_count[h]++,d=0,l>=a&&(d=s[l-a]),p=n[l*2],t.opt_len+=p*(h+d),o&&(t.static_len+=p*(i[l*2+1]+d)));if(b!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(h=u;h!==0;h--)for(l=t.bl_count[h];l!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),l--)}},M2=(t,e,n)=>{const r=new Array(xo+1);let i=0,o,s;for(o=1;o<=xo;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=P2(r[a]++,a))}},VM=()=>{let t,e,n,r,i;const o=new Array(xo+1);for(n=0,r=0;r<cp-1;r++)for(mp[r]=n,t=0;t<1<<gp[r];t++)kf[n++]=r;for(kf[n-1]=r,i=0,r=0;r<16;r++)for(lc[r]=i,t=0;t<1<<uc[r];t++)Bf[i++]=r;for(i>>=7;r<Cs;r++)for(lc[r]=i<<7,t=0;t<1<<uc[r]-7;t++)Bf[256+i++]=r;for(e=0;e<=xo;e++)o[e]=0;for(t=0;t<=143;)Ir[t*2+1]=8,t++,o[8]++;for(;t<=255;)Ir[t*2+1]=9,t++,o[9]++;for(;t<=279;)Ir[t*2+1]=7,t++,o[7]++;for(;t<=287;)Ir[t*2+1]=8,t++,o[8]++;for(M2(Ir,If+1,o),t=0;t<Cs;t++)Df[t*2+1]=5,Df[t*2]=P2(t,5);D2=new bp(Ir,gp,Ff+1,If,xo),B2=new bp(Df,uc,0,Cs,xo),k2=new bp(new Array(0),UM,0,hp,zM)},N2=t=>{let e;for(e=0;e<If;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Cs;e++)t.dyn_dtree[e*2]=0;for(e=0;e<hp;e++)t.bl_tree[e*2]=0;t.dyn_ltree[pp*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},L2=t=>{t.bi_valid>8?Rf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},O2=(t,e,n,r)=>{const i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},wp=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&O2(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!O2(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},z2=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?ur(t,i,e):(s=kf[i],ur(t,s+Ff+1,e),a=gp[s],a!==0&&(i-=mp[s],Ht(t,i,a)),r--,s=R2(r),ur(t,s,n),a=uc[s],a!==0&&(r-=lc[s],Ht(t,r,a)));while(o<t.sym_next);ur(t,pp,e)},xp=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,u=-1,f;for(t.heap_len=0,t.heap_max=S2,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=u<2?++u:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)wp(t,n,s);f=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],wp(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[f*2]=n[s*2]+n[a*2],t.depth[f]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=f,t.heap[1]=f++,wp(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],qM(t,e),M2(n,u,t.bl_count)},U2=(t,e,n)=>{let r,i=-1,o,s=e[0*2+1],a=0,u=7,f=4;for(s===0&&(u=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<u&&o===s)&&(a<f?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[C2*2]++):a<=10?t.bl_tree[T2*2]++:t.bl_tree[F2*2]++,a=0,i=o,s===0?(u=138,f=3):o===s?(u=6,f=3):(u=7,f=4))},G2=(t,e,n)=>{let r,i=-1,o,s=e[0*2+1],a=0,u=7,f=4;for(s===0&&(u=138,f=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<u&&o===s)){if(a<f)do ur(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(ur(t,o,t.bl_tree),a--),ur(t,C2,t.bl_tree),Ht(t,a-3,2)):a<=10?(ur(t,T2,t.bl_tree),Ht(t,a-3,3)):(ur(t,F2,t.bl_tree),Ht(t,a-11,7));a=0,i=o,s===0?(u=138,f=3):o===s?(u=6,f=3):(u=7,f=4)}},jM=t=>{let e;for(U2(t,t.dyn_ltree,t.l_desc.max_code),U2(t,t.dyn_dtree,t.d_desc.max_code),xp(t,t.bl_desc),e=hp-1;e>=3&&t.bl_tree[I2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},ZM=(t,e,n,r)=>{let i;for(Ht(t,e-257,5),Ht(t,n-1,5),Ht(t,r-4,4),i=0;i<r;i++)Ht(t,t.bl_tree[I2[i]*2+1],3);G2(t,t.dyn_ltree,e-1),G2(t,t.dyn_dtree,n-1)},WM=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return A2;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return E2;for(n=32;n<Ff;n++)if(t.dyn_ltree[n*2]!==0)return E2;return A2};let H2=!1;const $M=t=>{H2||(VM(),H2=!0),t.l_desc=new yp(t.dyn_ltree,D2),t.d_desc=new yp(t.dyn_dtree,B2),t.bl_desc=new yp(t.bl_tree,k2),t.bi_buf=0,t.bi_valid=0,N2(t)},q2=(t,e,n,r)=>{Ht(t,(MM<<1)+(r?1:0),3),L2(t),Rf(t,n),Rf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},YM=t=>{Ht(t,_2<<1,3),ur(t,pp,Ir),HM(t)},QM=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===PM&&(t.strm.data_type=WM(t)),xp(t,t.l_desc),xp(t,t.d_desc),s=jM(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?q2(t,e,n,r):t.strategy===RM||o===i?(Ht(t,(_2<<1)+(r?1:0),3),z2(t,Ir,Df)):(Ht(t,(NM<<1)+(r?1:0),3),ZM(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),z2(t,t.dyn_ltree,t.dyn_dtree)),N2(t),r&&L2(t)},XM=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(kf[n]+Ff+1)*2]++,t.dyn_dtree[R2(e)*2]++),t.sym_next===t.sym_end);var KM=$M,JM=q2,eN=QM,tN=XM,nN=YM,rN={_tr_init:KM,_tr_stored_block:JM,_tr_flush_block:eN,_tr_tally:tN,_tr_align:nN},Pf=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};const iN=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},oN=new Uint32Array(iN());var pt=(t,e,n,r)=>{const i=oN,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},Ts={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:sN,_tr_stored_block:vp,_tr_flush_block:aN,_tr_tally:mi,_tr_align:fN}=rN,{Z_NO_FLUSH:bi,Z_PARTIAL_FLUSH:uN,Z_FULL_FLUSH:lN,Z_FINISH:gn,Z_BLOCK:V2,Z_OK:wt,Z_STREAM_END:j2,Z_STREAM_ERROR:lr,Z_DATA_ERROR:cN,Z_BUF_ERROR:Ap,Z_DEFAULT_COMPRESSION:hN,Z_FILTERED:dN,Z_HUFFMAN_ONLY:cc,Z_RLE:pN,Z_FIXED:gN,Z_DEFAULT_STRATEGY:mN,Z_UNKNOWN:bN,Z_DEFLATED:hc}=Mf,yN=9,wN=15,xN=8,vN=29,Ep=256+1+vN,AN=30,EN=19,_N=2*Ep+1,SN=15,ge=3,yi=258,cr=yi+ge+1,CN=32,Fs=42,_p=57,Sp=69,Cp=73,Tp=91,Fp=103,vo=113,Nf=666,kt=1,Is=2,Ao=3,Ds=4,TN=3,Eo=(t,e)=>(t.msg=Ts[e],e),Z2=t=>t*2-(t>4?9:0),wi=t=>{let e=t.length;for(;--e>=0;)t[e]=0},FN=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let xi=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const tn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},nn=(t,e)=>{aN(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tn(t.strm)},Se=(t,e)=>{t.pending_buf[t.pending++]=e},Lf=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Ip=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Pf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=pt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},W2=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-cr?t.strstart-(t.w_size-cr):0,f=t.window,l=t.w_mask,c=t.prev,h=t.strstart+yi;let d=f[r+s-1],p=f[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(f[i+s]!==p||f[i+s-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(o=yi-(h-r),r=h-yi,o>s){if(t.match_start=e,s=o,o>=a)break;d=f[r+s-1],p=f[r+s]}}while((e=c[e&l])>u&&--n!==0);return s<=t.lookahead?s:t.lookahead},Bs=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-cr)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),FN(t),r+=e),t.strm.avail_in===0)break;if(n=Ip(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=ge)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=xi(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=xi(t,t.ins_h,t.window[i+ge-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ge)););}while(t.lookahead<cr&&t.strm.avail_in!==0)},$2=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==gn||e===bi||r!==i+t.strm.avail_in)))break;s=e===gn&&r===i+t.strm.avail_in?1:0,vp(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,tn(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Ip(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Ds:e!==bi&&e!==gn&&t.strm.avail_in===0&&t.strstart===t.block_start?Is:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Ip(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===gn)&&e!==bi&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===gn&&t.strm.avail_in===0&&r===i?1:0,vp(t,t.block_start,r,s),t.block_start+=r,tn(t.strm)),s?Ao:kt)},Dp=(t,e)=>{let n,r;for(;;){if(t.lookahead<cr){if(Bs(t),t.lookahead<cr&&e===bi)return kt;if(t.lookahead===0)break}if(n=0,t.lookahead>=ge&&(t.ins_h=xi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-cr&&(t.match_length=W2(t,n)),t.match_length>=ge)if(r=mi(t,t.strstart-t.match_start,t.match_length-ge),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ge){t.match_length--;do t.strstart++,t.ins_h=xi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=xi(t,t.ins_h,t.window[t.strstart+1]);else r=mi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(nn(t,!1),t.strm.avail_out===0))return kt}return t.insert=t.strstart<ge-1?t.strstart:ge-1,e===gn?(nn(t,!0),t.strm.avail_out===0?Ao:Ds):t.sym_next&&(nn(t,!1),t.strm.avail_out===0)?kt:Is},ks=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<cr){if(Bs(t),t.lookahead<cr&&e===bi)return kt;if(t.lookahead===0)break}if(n=0,t.lookahead>=ge&&(t.ins_h=xi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ge-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-cr&&(t.match_length=W2(t,n),t.match_length<=5&&(t.strategy===dN||t.match_length===ge&&t.strstart-t.match_start>4096)&&(t.match_length=ge-1)),t.prev_length>=ge&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ge,r=mi(t,t.strstart-1-t.prev_match,t.prev_length-ge),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=xi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ge-1,t.strstart++,r&&(nn(t,!1),t.strm.avail_out===0))return kt}else if(t.match_available){if(r=mi(t,0,t.window[t.strstart-1]),r&&nn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return kt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=mi(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ge-1?t.strstart:ge-1,e===gn?(nn(t,!0),t.strm.avail_out===0?Ao:Ds):t.sym_next&&(nn(t,!1),t.strm.avail_out===0)?kt:Is},IN=(t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=yi){if(Bs(t),t.lookahead<=yi&&e===bi)return kt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ge&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+yi;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=yi-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ge?(n=mi(t,1,t.match_length-ge),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=mi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(nn(t,!1),t.strm.avail_out===0))return kt}return t.insert=0,e===gn?(nn(t,!0),t.strm.avail_out===0?Ao:Ds):t.sym_next&&(nn(t,!1),t.strm.avail_out===0)?kt:Is},DN=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Bs(t),t.lookahead===0)){if(e===bi)return kt;break}if(t.match_length=0,n=mi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(nn(t,!1),t.strm.avail_out===0))return kt}return t.insert=0,e===gn?(nn(t,!0),t.strm.avail_out===0?Ao:Ds):t.sym_next&&(nn(t,!1),t.strm.avail_out===0)?kt:Is};function hr(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Of=[new hr(0,0,0,0,$2),new hr(4,4,8,4,Dp),new hr(4,5,16,8,Dp),new hr(4,6,32,32,Dp),new hr(4,4,16,16,ks),new hr(8,16,32,32,ks),new hr(8,16,128,128,ks),new hr(8,32,128,256,ks),new hr(32,128,258,1024,ks),new hr(32,258,258,4096,ks)],BN=t=>{t.window_size=2*t.w_size,wi(t.head),t.max_lazy_match=Of[t.level].max_lazy,t.good_match=Of[t.level].good_length,t.nice_match=Of[t.level].nice_length,t.max_chain_length=Of[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ge-1,t.match_available=0,t.ins_h=0};function kN(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(_N*2),this.dyn_dtree=new Uint16Array((2*AN+1)*2),this.bl_tree=new Uint16Array((2*EN+1)*2),wi(this.dyn_ltree),wi(this.dyn_dtree),wi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(SN+1),this.heap=new Uint16Array(2*Ep+1),wi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ep+1),wi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Fs&&e.status!==_p&&e.status!==Sp&&e.status!==Cp&&e.status!==Tp&&e.status!==Fp&&e.status!==vo&&e.status!==Nf?1:0},Y2=t=>{if(zf(t))return Eo(t,lr);t.total_in=t.total_out=0,t.data_type=bN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?_p:e.wrap?Fs:vo,t.adler=e.wrap===2?0:1,e.last_flush=-2,sN(e),wt},Q2=t=>{const e=Y2(t);return e===wt&&BN(t.state),e},RN=(t,e)=>zf(t)||t.state.wrap!==2?lr:(t.state.gzhead=e,wt),X2=(t,e,n,r,i,o)=>{if(!t)return lr;let s=1;if(e===hN&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>yN||n!==hc||r<8||r>15||e<0||e>9||o<0||o>gN||r===8&&s!==1)return Eo(t,lr);r===8&&(r=9);const a=new kN;return t.state=a,a.strm=t,a.status=Fs,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ge-1)/ge),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,Q2(t)},PN=(t,e)=>X2(t,e,hc,wN,xN,mN),MN=(t,e)=>{if(zf(t)||e>V2||e<0)return t?Eo(t,lr):lr;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Nf&&e!==gn)return Eo(t,t.avail_out===0?Ap:lr);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(tn(t),t.avail_out===0)return n.last_flush=-1,wt}else if(t.avail_in===0&&Z2(e)<=Z2(r)&&e!==gn)return Eo(t,Ap);if(n.status===Nf&&t.avail_in!==0)return Eo(t,Ap);if(n.status===Fs&&n.wrap===0&&(n.status=vo),n.status===Fs){let i=hc+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=cc||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=CN),i+=31-i%31,Lf(n,i),n.strstart!==0&&(Lf(n,t.adler>>>16),Lf(n,t.adler&65535)),t.adler=1,n.status=vo,tn(t),n.pending!==0)return n.last_flush=-1,wt}if(n.status===_p){if(t.adler=0,Se(n,31),Se(n,139),Se(n,8),n.gzhead)Se(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Se(n,n.gzhead.time&255),Se(n,n.gzhead.time>>8&255),Se(n,n.gzhead.time>>16&255),Se(n,n.gzhead.time>>24&255),Se(n,n.level===9?2:n.strategy>=cc||n.level<2?4:0),Se(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Se(n,n.gzhead.extra.length&255),Se(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=pt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Sp;else if(Se(n,0),Se(n,0),Se(n,0),Se(n,0),Se(n,0),Se(n,n.level===9?2:n.strategy>=cc||n.level<2?4:0),Se(n,TN),n.status=vo,tn(t),n.pending!==0)return n.last_flush=-1,wt}if(n.status===Sp){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,tn(t),n.pending!==0)return n.last_flush=-1,wt;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Cp}if(n.status===Cp){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i)),tn(t),n.pending!==0)return n.last_flush=-1,wt;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Se(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Tp}if(n.status===Tp){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i)),tn(t),n.pending!==0)return n.last_flush=-1,wt;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Se(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=pt(t.adler,n.pending_buf,n.pending-i,i))}n.status=Fp}if(n.status===Fp){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(tn(t),n.pending!==0))return n.last_flush=-1,wt;Se(n,t.adler&255),Se(n,t.adler>>8&255),t.adler=0}if(n.status=vo,tn(t),n.pending!==0)return n.last_flush=-1,wt}if(t.avail_in!==0||n.lookahead!==0||e!==bi&&n.status!==Nf){let i=n.level===0?$2(n,e):n.strategy===cc?DN(n,e):n.strategy===pN?IN(n,e):Of[n.level].func(n,e);if((i===Ao||i===Ds)&&(n.status=Nf),i===kt||i===Ao)return t.avail_out===0&&(n.last_flush=-1),wt;if(i===Is&&(e===uN?fN(n):e!==V2&&(vp(n,0,0,!1),e===lN&&(wi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),tn(t),t.avail_out===0))return n.last_flush=-1,wt}return e!==gn?wt:n.wrap<=0?j2:(n.wrap===2?(Se(n,t.adler&255),Se(n,t.adler>>8&255),Se(n,t.adler>>16&255),Se(n,t.adler>>24&255),Se(n,t.total_in&255),Se(n,t.total_in>>8&255),Se(n,t.total_in>>16&255),Se(n,t.total_in>>24&255)):(Lf(n,t.adler>>>16),Lf(n,t.adler&65535)),tn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?wt:j2)},NN=t=>{if(zf(t))return lr;const e=t.state.status;return t.state=null,e===vo?Eo(t,cN):wt},LN=(t,e)=>{let n=e.length;if(zf(t))return lr;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Fs||r.lookahead)return lr;if(i===1&&(t.adler=Pf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(wi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(e.subarray(n-r.w_size,n),0),e=u,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Bs(r);r.lookahead>=ge;){let u=r.strstart,f=r.lookahead-(ge-1);do r.ins_h=xi(r,r.ins_h,r.window[u+ge-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--f);r.strstart=u,r.lookahead=ge-1,Bs(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ge-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,wt};var ON=PN,zN=X2,UN=Q2,GN=Y2,HN=RN,qN=MN,VN=NN,jN=LN,ZN="pako deflate (from Nodeca project)",Uf={deflateInit:ON,deflateInit2:zN,deflateReset:UN,deflateResetKeep:GN,deflateSetHeader:HN,deflate:qN,deflateEnd:VN,deflateSetDictionary:jN,deflateInfo:ZN};const WN=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $N=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)WN(n,r)&&(t[r]=n[r])}}return t},YN=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},dc={assign:$N,flattenChunks:YN};let K2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K2=!1}const Gf=new Uint8Array(256);for(let t=0;t<256;t++)Gf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Gf[254]=Gf[254]=1;var QN=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const XN=(t,e)=>{if(e<65534&&t.subarray&&K2)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var KN=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Gf[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return XN(o,i)},JN=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Gf[t[n]]>e?n:e},Hf={string2buf:QN,buf2string:KN,utf8border:JN};function eL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var J2=eL;const eA=Object.prototype.toString,{Z_NO_FLUSH:tL,Z_SYNC_FLUSH:nL,Z_FULL_FLUSH:rL,Z_FINISH:iL,Z_OK:pc,Z_STREAM_END:oL,Z_DEFAULT_COMPRESSION:sL,Z_DEFAULT_STRATEGY:aL,Z_DEFLATED:fL}=Mf;function Bp(t){this.options=dc.assign({level:sL,method:fL,chunkSize:16384,windowBits:15,memLevel:8,strategy:aL},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J2,this.strm.avail_out=0;let n=Uf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==pc)throw new Error(Ts[n]);if(e.header&&Uf.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Hf.string2buf(e.dictionary):eA.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Uf.deflateSetDictionary(this.strm,r),n!==pc)throw new Error(Ts[n]);this._dict_set=!0}}Bp.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?iL:tL,typeof t=="string"?n.input=Hf.string2buf(t):eA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===nL||o===rL)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Uf.deflate(n,o),i===oL)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Uf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===pc;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},Bp.prototype.onData=function(t){this.chunks.push(t)},Bp.prototype.onEnd=function(t){t===pc&&(this.result=dc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const gc=16209,uL=16191;var lL=function(e,n){let r,i,o,s,a,u,f,l,c,h,d,p,b,y,w,E,S,T,D,B,I,N,C,P;const M=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,P=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),u=M.dmax,f=M.wsize,l=M.whave,c=M.wnext,h=M.window,d=M.hold,p=M.bits,b=M.lencode,y=M.distcode,w=(1<<M.lenbits)-1,E=(1<<M.distbits)-1;e:do{p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),S=b[d&w];t:for(;;){if(T=S>>>24,d>>>=T,p-=T,T=S>>>16&255,T===0)P[o++]=S&65535;else if(T&16){D=S&65535,T&=15,T&&(p<T&&(d+=C[r++]<<p,p+=8),D+=d&(1<<T)-1,d>>>=T,p-=T),p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),S=y[d&E];n:for(;;){if(T=S>>>24,d>>>=T,p-=T,T=S>>>16&255,T&16){if(B=S&65535,T&=15,p<T&&(d+=C[r++]<<p,p+=8,p<T&&(d+=C[r++]<<p,p+=8)),B+=d&(1<<T)-1,B>u){e.msg="invalid distance too far back",M.mode=gc;break e}if(d>>>=T,p-=T,T=o-s,B>T){if(T=B-T,T>l&&M.sane){e.msg="invalid distance too far back",M.mode=gc;break e}if(I=0,N=h,c===0){if(I+=f-T,T<D){D-=T;do P[o++]=h[I++];while(--T);I=o-B,N=P}}else if(c<T){if(I+=f+c-T,T-=c,T<D){D-=T;do P[o++]=h[I++];while(--T);if(I=0,c<D){T=c,D-=T;do P[o++]=h[I++];while(--T);I=o-B,N=P}}}else if(I+=c-T,T<D){D-=T;do P[o++]=h[I++];while(--T);I=o-B,N=P}for(;D>2;)P[o++]=N[I++],P[o++]=N[I++],P[o++]=N[I++],D-=3;D&&(P[o++]=N[I++],D>1&&(P[o++]=N[I++]))}else{I=o-B;do P[o++]=P[I++],P[o++]=P[I++],P[o++]=P[I++],D-=3;while(D>2);D&&(P[o++]=P[I++],D>1&&(P[o++]=P[I++]))}}else if(T&64){e.msg="invalid distance code",M.mode=gc;break e}else{S=y[(S&65535)+(d&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){M.mode=uL;break e}else{e.msg="invalid literal/length code",M.mode=gc;break e}else{S=b[(S&65535)+(d&(1<<T)-1)];continue t}break}}while(r<i&&o<a);D=p>>3,r-=D,p-=D<<3,d&=(1<<p)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),M.hold=d,M.bits=p};const Rs=15,tA=852,nA=592,rA=0,kp=1,iA=2,cL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var qf=(t,e,n,r,i,o,s,a)=>{const u=a.bits;let f=0,l=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,E=0,S,T,D,B,I,N=null,C;const P=new Uint16Array(Rs+1),M=new Uint16Array(Rs+1);let ee=null,ne,J,me;for(f=0;f<=Rs;f++)P[f]=0;for(l=0;l<r;l++)P[e[n+l]]++;for(d=u,h=Rs;h>=1&&P[h]===0;h--);if(d>h&&(d=h),h===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(c=1;c<h&&P[c]===0;c++);for(d<c&&(d=c),y=1,f=1;f<=Rs;f++)if(y<<=1,y-=P[f],y<0)return-1;if(y>0&&(t===rA||h!==1))return-1;for(M[1]=0,f=1;f<Rs;f++)M[f+1]=M[f]+P[f];for(l=0;l<r;l++)e[n+l]!==0&&(s[M[e[n+l]]++]=l);if(t===rA?(N=ee=s,C=20):t===kp?(N=cL,ee=hL,C=257):(N=dL,ee=pL,C=0),E=0,l=0,f=c,I=o,p=d,b=0,D=-1,w=1<<d,B=w-1,t===kp&&w>tA||t===iA&&w>nA)return 1;for(;;){ne=f-b,s[l]+1<C?(J=0,me=s[l]):s[l]>=C?(J=ee[s[l]-C],me=N[s[l]-C]):(J=32+64,me=0),S=1<<f-b,T=1<<p,c=T;do T-=S,i[I+(E>>b)+T]=ne<<24|J<<16|me|0;while(T!==0);for(S=1<<f-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,l++,--P[f]===0){if(f===h)break;f=e[n+s[l]]}if(f>d&&(E&B)!==D){for(b===0&&(b=d),I+=c,p=f-b,y=1<<p;p+b<h&&(y-=P[p+b],!(y<=0));)p++,y<<=1;if(w+=1<<p,t===kp&&w>tA||t===iA&&w>nA)return 1;D=E&B,i[D]=d<<24|p<<16|I-o|0}}return E!==0&&(i[I+E]=f-b<<24|64<<16|0),a.bits=d,0};const gL=0,oA=1,sA=2,{Z_FINISH:aA,Z_BLOCK:mL,Z_TREES:mc,Z_OK:_o,Z_STREAM_END:bL,Z_NEED_DICT:yL,Z_STREAM_ERROR:mn,Z_DATA_ERROR:fA,Z_MEM_ERROR:uA,Z_BUF_ERROR:wL,Z_DEFLATED:lA}=Mf,bc=16180,cA=16181,hA=16182,dA=16183,pA=16184,gA=16185,mA=16186,bA=16187,yA=16188,wA=16189,yc=16190,Dr=16191,Rp=16192,xA=16193,Pp=16194,vA=16195,AA=16196,EA=16197,_A=16198,wc=16199,xc=16200,SA=16201,CA=16202,TA=16203,FA=16204,IA=16205,Mp=16206,DA=16207,BA=16208,We=16209,kA=16210,RA=16211,xL=852,vL=592,AL=15,PA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function EL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const So=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<bc||e.mode>RA?1:0},MA=t=>{if(So(t))return mn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=bc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xL),e.distcode=e.distdyn=new Int32Array(vL),e.sane=1,e.back=-1,_o},NA=t=>{if(So(t))return mn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,MA(t)},LA=(t,e)=>{let n;if(So(t))return mn;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?mn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,NA(t))},OA=(t,e)=>{if(!t)return mn;const n=new EL;t.state=n,n.strm=t,n.window=null,n.mode=bc;const r=LA(t,e);return r!==_o&&(t.state=null),r},_L=t=>OA(t,AL);let zA=!0,Np,Lp;const SL=t=>{if(zA){Np=new Int32Array(512),Lp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qf(oA,t.lens,0,288,Np,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qf(sA,t.lens,0,32,Lp,0,t.work,{bits:5}),zA=!1}t.lencode=Np,t.lenbits=9,t.distcode=Lp,t.distbits=5},UA=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},CL=(t,e)=>{let n,r,i,o,s,a,u,f,l,c,h,d,p,b,y=0,w,E,S,T,D,B,I,N;const C=new Uint8Array(4);let P,M;const ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(So(t)||!t.output||!t.input&&t.avail_in!==0)return mn;n=t.state,n.mode===Dr&&(n.mode=Rp),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,c=a,h=u,N=_o;e:for(;;)switch(n.mode){case bc:if(n.wrap===0){n.mode=Rp;break}for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=pt(n.check,C,2,0),f=0,l=0,n.mode=cA;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=We;break}if((f&15)!==lA){t.msg="unknown compression method",n.mode=We;break}if(f>>>=4,l-=4,I=(f&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=We;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?wA:Dr,f=0,l=0;break;case cA:for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.flags=f,(n.flags&255)!==lA){t.msg="unknown compression method",n.mode=We;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=We;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=pt(n.check,C,2,0)),f=0,l=0,n.mode=hA;case hA:for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=pt(n.check,C,4,0)),f=0,l=0,n.mode=dA;case dA:for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=pt(n.check,C,2,0)),f=0,l=0,n.mode=pA;case pA:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=pt(n.check,C,2,0)),f=0,l=0}else n.head&&(n.head.extra=null);n.mode=gA;case gA:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),I)),n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=mA;case mA:if(n.flags&2048){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=bA;case bA:if(n.flags&4096){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=yA;case yA:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=We;break}f=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Dr;break;case wA:for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}t.adler=n.check=PA(f),f=0,l=0,n.mode=yc;case yc:if(n.havedict===0)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,yL;t.adler=n.check=1,n.mode=Dr;case Dr:if(e===mL||e===mc)break e;case Rp:if(n.last){f>>>=l&7,l-=l&7,n.mode=Mp;break}for(;l<3;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}switch(n.last=f&1,f>>>=1,l-=1,f&3){case 0:n.mode=xA;break;case 1:if(SL(n),n.mode=wc,e===mc){f>>>=2,l-=2;break e}break;case 2:n.mode=AA;break;case 3:t.msg="invalid block type",n.mode=We}f>>>=2,l-=2;break;case xA:for(f>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=We;break}if(n.length=f&65535,f=0,l=0,n.mode=Pp,e===mc)break e;case Pp:n.mode=vA;case vA:if(d=n.length,d){if(d>a&&(d=a),d>u&&(d=u),d===0)break e;i.set(r.subarray(o,o+d),s),a-=d,o+=d,u-=d,s+=d,n.length-=d;break}n.mode=Dr;break;case AA:for(;l<14;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.nlen=(f&31)+257,f>>>=5,l-=5,n.ndist=(f&31)+1,f>>>=5,l-=5,n.ncode=(f&15)+4,f>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=We;break}n.have=0,n.mode=EA;case EA:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.lens[ee[n.have++]]=f&7,f>>>=3,l-=3}for(;n.have<19;)n.lens[ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},N=qf(gL,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,N){t.msg="invalid code lengths set",n.mode=We;break}n.have=0,n.mode=_A;case _A:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(S<16)f>>>=w,l-=w,n.lens[n.have++]=S;else{if(S===16){for(M=w+2;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(f>>>=w,l-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=We;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,l-=2}else if(S===17){for(M=w+3;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=w,l-=w,I=0,d=3+(f&7),f>>>=3,l-=3}else{for(M=w+7;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=w,l-=w,I=0,d=11+(f&127),f>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=We;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===We)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=We;break}if(n.lenbits=9,P={bits:n.lenbits},N=qf(oA,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,N){t.msg="invalid literal/lengths set",n.mode=We;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},N=qf(sA,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,N){t.msg="invalid distances set",n.mode=We;break}if(n.mode=wc,e===mc)break e;case wc:n.mode=xc;case xc:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,lL(t,h),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,n.mode===Dr&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(E&&!(E&240)){for(T=w,D=E,B=S;y=n.lencode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,n.length=S,E===0){n.mode=IA;break}if(E&32){n.back=-1,n.mode=Dr;break}if(E&64){t.msg="invalid literal/length code",n.mode=We;break}n.extra=E&15,n.mode=SA;case SA:if(n.extra){for(M=n.extra;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=CA;case CA:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(!(E&240)){for(T=w,D=E,B=S;y=n.distcode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,E&64){t.msg="invalid distance code",n.mode=We;break}n.offset=S,n.extra=E&15,n.mode=TA;case TA:if(n.extra){for(M=n.extra;l<M;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=We;break}n.mode=FA;case FA:if(u===0)break e;if(d=h-u,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=We;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=s-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do i[s++]=b[p++];while(--d);n.length===0&&(n.mode=xc);break;case IA:if(u===0)break e;i[s++]=n.length,u--,n.mode=xc;break;case Mp:if(n.wrap){for(;l<32;){if(a===0)break e;a--,f|=r[o++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?pt(n.check,i,h,s-h):Pf(n.check,i,h,s-h)),h=u,n.wrap&4&&(n.flags?f:PA(f))!==n.check){t.msg="incorrect data check",n.mode=We;break}f=0,l=0}n.mode=DA;case DA:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,f+=r[o++]<<l,l+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=We;break}f=0,l=0}n.mode=BA;case BA:N=bL;break e;case We:N=fA;break e;case kA:return uA;case RA:default:return mn}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=f,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<We&&(n.mode<Mp||e!==aA))&&UA(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?pt(n.check,i,h,t.next_out-h):Pf(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Dr?128:0)+(n.mode===wc||n.mode===Pp?256:0),(c===0&&h===0||e===aA)&&N===_o&&(N=wL),N},TL=t=>{if(So(t))return mn;let e=t.state;return e.window&&(e.window=null),t.state=null,_o},FL=(t,e)=>{if(So(t))return mn;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,_o):mn},IL=(t,e)=>{const n=e.length;let r,i,o;return So(t)||(r=t.state,r.wrap!==0&&r.mode!==yc)?mn:r.mode===yc&&(i=1,i=Pf(i,e,n,0),i!==r.check)?fA:(o=UA(t,e,n,n),o?(r.mode=kA,uA):(r.havedict=1,_o))};var DL=NA,BL=LA,kL=MA,RL=_L,PL=OA,ML=CL,NL=TL,LL=FL,OL=IL,zL="pako inflate (from Nodeca project)",Br={inflateReset:DL,inflateReset2:BL,inflateResetKeep:kL,inflateInit:RL,inflateInit2:PL,inflate:ML,inflateEnd:NL,inflateGetHeader:LL,inflateSetDictionary:OL,inflateInfo:zL};function UL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var GL=UL;const GA=Object.prototype.toString,{Z_NO_FLUSH:HL,Z_FINISH:qL,Z_OK:Vf,Z_STREAM_END:Op,Z_NEED_DICT:zp,Z_STREAM_ERROR:VL,Z_DATA_ERROR:HA,Z_MEM_ERROR:jL}=Mf;function jf(t){this.options=dc.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J2,this.strm.avail_out=0;let n=Br.inflateInit2(this.strm,e.windowBits);if(n!==Vf)throw new Error(Ts[n]);if(this.header=new GL,Br.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Hf.string2buf(e.dictionary):GA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Br.inflateSetDictionary(this.strm,e.dictionary),n!==Vf)))throw new Error(Ts[n])}jf.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?qL:HL,GA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Br.inflate(n,s),o===zp&&i&&(o=Br.inflateSetDictionary(n,i),o===Vf?o=Br.inflate(n,s):o===HA&&(o=zp));n.avail_in>0&&o===Op&&n.state.wrap>0&&t[n.next_in]!==0;)Br.inflateReset(n),o=Br.inflate(n,s);switch(o){case VL:case HA:case zp:case jL:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Op))if(this.options.to==="string"){let u=Hf.utf8border(n.output,n.next_out),f=n.next_out-u,l=Hf.buf2string(n.output,u);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(u,u+f),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Vf&&a===0)){if(o===Op)return o=Br.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},jf.prototype.onData=function(t){this.chunks.push(t)},jf.prototype.onEnd=function(t){t===Vf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Up(t,e){const n=new jf(e);if(n.push(t),n.err)throw n.msg||Ts[n.err];return n.result}function ZL(t,e){return e=e||{},e.raw=!0,Up(t,e)}var WL=jf,$L=Up,YL=ZL,QL=Up,XL=Mf,KL={Inflate:WL,inflate:$L,inflateRaw:YL,ungzip:QL,constants:XL};const{Inflate:NU,inflate:LU,inflateRaw:JL,ungzip:OU}=KL;var e9=JL;function t9(t){return e9(t.subarray(2))}let n9=class extends Error{constructor(e){super(e),this.code="ERR_ABORTED"}};function r9(t){t.sort((i,o)=>Number(i.offset)-Number(o.offset));const e=[];let n,r;for(const i of t)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):e.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return e}function vc(t){if(t&&t.aborted)if(typeof DOMException>"u"){const e=new n9("aborted");throw e.code="ERR_ABORTED",e}else throw new DOMException("aborted","AbortError")}const i9=1,o9=2,s9=3;function Gp(t,e,n,r){return t<r&&e>=n}function a9(t){const e=t?"big":"little",n=new Ie().endianess(e).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new Ie().endianess(e).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Ie().endianess(e).array("blocksToFetch",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Ie().array("recurOffsets",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new Ie().endianess(e).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Ie().endianess(e).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[s9]:new Ie().array("items",{length:"itemCount",type:new Ie().floatle("score")}),[o9]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").floatle("score")}),[i9]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class qA{constructor(e,n,r,i,o,s){if(this.bbi=e,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=o,this.blockType=s,this.featureCache=new fc({cache:new lp({maxSize:1e3}),fill:async(u,f)=>{const l=Number(u.length),c=Number(u.offset),{buffer:h}=await this.bbi.read(bt.Buffer.alloc(l),0,l,c,{signal:f});return h}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const a=a9(i);this.leafParser=a.leafParser,this.bigBedParser=a.bigBedParser}async readWigData(e,n,r,i,o){try{const{refsByName:s,bbi:a,cirTreeOffset:u,isBigEndian:f}=this,l=s[e];l===void 0&&i.complete();const c={chrId:l,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=a.read(bt.Buffer.alloc(48),0,48,Number(u),o));const{buffer:h}=await this.cirTreePromise,d=f?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],b=0;const y=(T,D,B)=>{try{const I=T.subarray(D),N=this.leafParser.parse(I);if(N.blocksToFetch&&(p=p.concat(N.blocksToFetch.filter(C=>w(C)).map(C=>({offset:C.blockOffset,length:C.blockSize})))),N.recurOffsets){const C=N.recurOffsets.filter(P=>w(P)).map(P=>Number(P.blockOffset));C.length>0&&S(C,B+1)}}catch(I){i.error(I)}},w=T=>{const{startChrom:D,startBase:B,endChrom:I,endBase:N}=T;return(D<l||D===l&&B<=r)&&(I>l||I===l&&N>=n)},E=async(T,D,B)=>{try{const I=D.max()-D.min(),N=D.min(),C=await this.featureCache.get(`${I}_${N}`,{length:I,offset:N},o==null?void 0:o.signal);for(const P of T)D.contains(P)&&(y(C,P-N,B),b-=1,b===0&&this.readFeatures(i,p,{...o,request:c}))}catch(I){i.error(I)}},S=(T,D)=>{try{b+=T.length;const B=4+Number(d)*32;let I=new gi(T[0],T[0]+B);for(let N=1;N<T.length;N+=1){const C=new gi(T[N],T[N]+B);I=I.union(C)}I.getRanges().map(N=>E(T,N,D))}catch(B){i.error(B)}};return S([Number(u)+48],1)}catch(s){i.error(s)}}parseSummaryBlock(e,n,r){const i=[];let o=n;const s=new DataView(e.buffer,e.byteOffset,e.length);for(;o<e.byteLength;){const a=s.getUint32(o,!0);o+=4;const u=s.getUint32(o,!0);o+=4;const f=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);o+=4;const c=s.getFloat32(o,!0);o+=4;const h=s.getFloat32(o,!0);o+=4;const d=s.getFloat32(o,!0);o+=4,o+=4,(!r||a===r.chrId&&Gp(u,f,r.start,r.end))&&i.push({start:u,end:f,maxScore:h,minScore:c,summary:!0,score:d/(l||1)})}return i}parseBigBedBlock(e,n,r,i){const o=[];let s=n;for(;s<e.byteLength;){const a=this.bigBedParser.parse(e.subarray(s));o.push({...a,uniqueId:`bb-${r+s}`}),s+=a.offset}return i?o.filter(a=>Gp(a.start,a.end,i.start,i.end)):o}parseBigWigBlock(e,n,r){const i=e.subarray(n),o=new DataView(i.buffer,i.byteOffset,i.length);let s=0;s+=4;const a=o.getInt32(s,!0);s+=8;const u=o.getUint32(s,!0);s+=4;const f=o.getUint32(s,!0);s+=4;const l=o.getUint8(s);s+=2;const c=o.getUint16(s,!0);s+=2;const h=new Array(c);switch(l){case 1:{for(let d=0;d<c;d++){const p=o.getInt32(s,!0);s+=4;const b=o.getInt32(s,!0);s+=4;const y=o.getFloat32(s,!0);s+=4,h[d]={start:p,end:b,score:y}}break}case 2:{for(let d=0;d<c;d++){const p=o.getInt32(s,!0);s+=4;const b=o.getFloat32(s,!0);s+=4,h[d]={score:b,start:p,end:p+f}}break}case 3:{for(let d=0;d<c;d++){const p=o.getFloat32(s,!0);s+=4;const b=a+d*u;h[d]={score:p,start:b,end:b+f}}break}}return r?h.filter(d=>Gp(d.start,d.end,r.start,r.end)):h}async readFeatures(e,n,r={}){try{const{blockType:i,isCompressed:o}=this,{signal:s,request:a}=r,u=r9(n);vc(s),await Promise.all(u.map(async f=>{vc(s);const{length:l,offset:c}=f,h=await this.featureCache.get(`${l}_${c}`,f,s);for(const d of f.blocks){vc(s);let p=Number(d.offset)-Number(f.offset),b=h;switch(o&&(b=t9(h.subarray(p)),p=0),vc(s),i){case"summary":{e.next(this.parseSummaryBlock(b,p,a));break}case"bigwig":{e.next(this.parseBigWigBlock(b,p,a));break}case"bigbed":{e.next(this.parseBigBedBlock(b,p,Number(d.offset)*(1<<8),a));break}default:console.warn(`Don't know what to do with ${i}`)}}})),e.complete()}catch(i){e.error(i)}}}var Hp=function(t,e){return Hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Hp(t,e)};function qp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function f9(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{f(r.next(l))}catch(c){s(c)}}function u(l){try{f(r.throw(l))}catch(c){s(c)}}function f(l){l.done?o(l.value):i(l.value).then(a,u)}f((r=r.apply(t,e||[])).next())})}function VA(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(l){return u([f,l])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(l){f=[6,l],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ac(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ec(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ps(t){return this instanceof Ps?(this.v=t,this):new Ps(t)}function u9(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(d){return new Promise(function(p,b){o.push([h,d,p,b])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){c(o[0][3],p)}}function u(h){h.value instanceof Ps?Promise.resolve(h.value.v).then(f,l):c(o[0][2],h)}function f(h){a("next",h)}function l(h){a("throw",h)}function c(h,d){h(d),o.shift(),o.length&&a(o[0][0],o[0][1])}}function l9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zf=="function"?Zf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(f){o({value:f,done:a})},s)}}function ft(t){return typeof t=="function"}function jA(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vp=jA(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ZA(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var jp=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Zf(s),u=a.next();!u.done;u=a.next()){var f=u.value;f.remove(this)}}catch(b){e={error:b}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var l=this.initialTeardown;if(ft(l))try{l()}catch(b){o=b instanceof Vp?b.errors:[b]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=Zf(c),d=h.next();!d.done;d=h.next()){var p=d.value;try{$A(p)}catch(b){o=o??[],b instanceof Vp?o=Ec(Ec([],Ac(o)),Ac(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new Vp(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)$A(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&ZA(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&ZA(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();jp.EMPTY;function WA(t){return t instanceof jp||t&&"closed"in t&&ft(t.remove)&&ft(t.add)&&ft(t.unsubscribe)}function $A(t){ft(t)?t():t.unsubscribe()}var YA={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zp={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Zp.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Ec([t,e],Ac(n))):setTimeout.apply(void 0,Ec([t,e],Ac(n)))},clearTimeout:function(t){var e=Zp.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function QA(t){Zp.setTimeout(function(){throw t})}function XA(){}function c9(t){t()}var Wp=function(t){qp(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,WA(n)&&n.add(r)):r.destination=g9,r}return e.create=function(n,r,i){return new _c(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(jp),h9=Function.prototype.bind;function $p(t,e){return h9.call(t,e)}var d9=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Sc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Sc(r)}else Sc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Sc(n)}},t}(),_c=function(t){qp(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&YA.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&$p(n.next,a),error:n.error&&$p(n.error,a),complete:n.complete&&$p(n.complete,a)}):s=n}return o.destination=new d9(s),o}return e}(Wp);function Sc(t){QA(t)}function p9(t){throw t}var g9={closed:!0,next:XA,error:p9,complete:XA},Yp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function KA(t){return t}function m9(t){return t.length===0?KA:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var bn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=y9(e)?e:new _c(e,n,r);return c9(function(){var s=i,a=s.operator,u=s.source;o.add(a?a.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=JA(n),new n(function(i,o){var s=new _c({next:function(a){try{e(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Yp]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return m9(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=JA(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function JA(t){var e;return(e=t??YA.Promise)!==null&&e!==void 0?e:Promise}function b9(t){return t&&ft(t.next)&&ft(t.error)&&ft(t.complete)}function y9(t){return t&&t instanceof Wp||b9(t)&&WA(t)}function w9(t){return ft(t==null?void 0:t.lift)}function Ms(t){return function(e){if(w9(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wf(t,e,n,r,i){return new x9(t,e,n,r,i)}var x9=function(t){qp(e,t);function e(n,r,i,o,s,a){var u=t.call(this,n)||this;return u.onFinalize=s,u.shouldUnsubscribe=a,u._next=r?function(f){try{r(f)}catch(l){n.error(l)}}:t.prototype._next,u._error=o?function(f){try{o(f)}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Wp),v9=new bn(function(t){return t.complete()});function A9(t){return t&&ft(t.schedule)}function eE(t){return t[t.length-1]}function E9(t){return A9(eE(t))?t.pop():void 0}function _9(t,e){return typeof eE(t)=="number"?t.pop():e}var tE=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function nE(t){return ft(t==null?void 0:t.then)}function rE(t){return ft(t[Yp])}function iE(t){return Symbol.asyncIterator&&ft(t==null?void 0:t[Symbol.asyncIterator])}function oE(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function S9(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sE=S9();function aE(t){return ft(t==null?void 0:t[sE])}function fE(t){return u9(this,arguments,function(){var n,r,i,o;return VA(this,function(s){switch(s.label){case 0:n=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Ps(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,Ps(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Ps(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function uE(t){return ft(t==null?void 0:t.getReader)}function Ns(t){if(t instanceof bn)return t;if(t!=null){if(rE(t))return C9(t);if(tE(t))return T9(t);if(nE(t))return F9(t);if(iE(t))return lE(t);if(aE(t))return I9(t);if(uE(t))return D9(t)}throw oE(t)}function C9(t){return new bn(function(e){var n=t[Yp]();if(ft(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function T9(t){return new bn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function F9(t){return new bn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,QA)})}function I9(t){return new bn(function(e){var n,r;try{for(var i=Zf(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function lE(t){return new bn(function(e){B9(t,e).catch(function(n){return e.error(n)})})}function D9(t){return lE(fE(t))}function B9(t,e){var n,r,i,o;return f9(this,void 0,void 0,function(){var s,a;return VA(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=l9(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function vi(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cE(t,e){return e===void 0&&(e=0),Ms(function(n,r){n.subscribe(Wf(r,function(i){return vi(r,t,function(){return r.next(i)},e)},function(){return vi(r,t,function(){return r.complete()},e)},function(i){return vi(r,t,function(){return r.error(i)},e)}))})}function hE(t,e){return e===void 0&&(e=0),Ms(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function k9(t,e){return Ns(t).pipe(hE(e),cE(e))}function R9(t,e){return Ns(t).pipe(hE(e),cE(e))}function P9(t,e){return new bn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function M9(t,e){return new bn(function(n){var r;return vi(n,e,function(){r=t[sE](),vi(n,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return ft(r==null?void 0:r.return)&&r.return()}})}function dE(t,e){if(!t)throw new Error("Iterable cannot be null");return new bn(function(n){vi(n,e,function(){var r=t[Symbol.asyncIterator]();vi(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function N9(t,e){return dE(fE(t),e)}function L9(t,e){if(t!=null){if(rE(t))return k9(t,e);if(tE(t))return P9(t,e);if(nE(t))return R9(t,e);if(iE(t))return dE(t,e);if(aE(t))return M9(t,e);if(uE(t))return N9(t,e)}throw oE(t)}function O9(t,e){return e?L9(t,e):Ns(t)}var z9=jA(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function pE(t,e){var n=typeof e=="object";return new Promise(function(r,i){var o=new _c({next:function(s){r(s),o.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new z9)}});t.subscribe(o)})}function gE(t,e){return Ms(function(n,r){var i=0;n.subscribe(Wf(r,function(o){r.next(t.call(e,o,i++))}))})}function U9(t,e,n,r,i,o,s,a){var u=[],f=0,l=0,c=!1,h=function(){c&&!u.length&&!f&&e.complete()},d=function(b){return f<r?p(b):u.push(b)},p=function(b){o&&e.next(b),f++;var y=!1;Ns(n(b,l++)).subscribe(Wf(e,function(w){i==null||i(w),o?d(w):e.next(w)},function(){y=!0},void 0,function(){if(y)try{f--;for(var w=function(){var E=u.shift();s?vi(e,s,function(){return p(E)}):p(E)};u.length&&f<r;)w();h()}catch(E){e.error(E)}}))};return t.subscribe(Wf(e,d,function(){c=!0,h()})),function(){a==null||a()}}function mE(t,e,n){return n===void 0&&(n=1/0),ft(e)?mE(function(r,i){return gE(function(o,s){return e(r,o,i,s)})(Ns(t(r,i)))},n):(typeof e=="number"&&(n=e),Ms(function(r,i){return U9(r,i,t,n)}))}function G9(t){return t===void 0&&(t=1/0),mE(KA,t)}function H9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=E9(t),r=_9(t,1/0),i=t;return i.length?i.length===1?Ns(i[0]):G9(r)(O9(i,n)):v9}function q9(t,e,n,r,i){return function(o,s){var a=n,u=e,f=0;o.subscribe(Wf(s,function(l){var c=f++;u=a?t(u,l,c):(a=!0,l),r&&s.next(u)},i&&function(){a&&s.next(u),s.complete()}))}}function bE(t,e){return Ms(q9(t,e,arguments.length>=2,!1,!0))}var V9=function(t,e){return t.push(e),t};function j9(){return Ms(function(t,e){bE(V9,[])(t).subscribe(e)})}const yE=-2003829722,Qp=-2021002517;function Z9(t){return new TextDecoder().decode(t)}function wE(t){const e=t?"big":"little",n=new Ie().endianess(e).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Ie().endianess(e).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new Ie().endianess(e).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new Ie().endianess(e).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new Ie().endianess(e).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:o}}class xE{getHeader(e){return this.headerP||(this.headerP=this._getHeader(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(e){const{filehandle:n,renameRefSeqs:r=s=>s,path:i,url:o}=e;if(this.renameRefSeqs=r,n)this.bbi=n;else if(o)this.bbi=new rr(o);else if(i)this.bbi=new Jt(i);else throw new Error("no file given")}async _getHeader(e){const n=await this._getMainHeader(e),r=await this._readChromTree(n,e);return{...n,...r}}async _getMainHeader(e,n=2e3){const{buffer:r}=await this.bbi.read(bt.Buffer.alloc(n),0,n,0,e),i=this._isBigEndian(r),o=wE(i),s=o.headerParser.parse(r),{magic:a,asOffset:u,totalSummaryOffset:f}=s;if(s.fileType=a===Qp?"bigbed":"bigwig",u>n||f>n)return this._getMainHeader(e,n*2);if(u){const l=Number(s.asOffset);s.autoSql=Z9(r.subarray(l,r.indexOf(0,l)))}if(s.totalSummaryOffset>n)return this._getMainHeader(e,n*2);if(s.totalSummaryOffset){const l=r.subarray(Number(s.totalSummaryOffset)),c=o.totalSummaryParser.parse(l);s.totalSummary={...c,basesCovered:Number(c.basesCovered)}}return{...s,isBigEndian:i}}_isBigEndian(e){let n=e.readInt32LE(0);if(n===yE||n===Qp)return!1;if(n=e.readInt32BE(0),n===yE||n===Qp)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(e,n){const r=e.isBigEndian,i=r?"big":"little",o=[],s={};let a=Number(e.unzoomedDataOffset);const u=Number(e.chromTreeOffset);for(;a%4!==0;)a+=1;const f=a-u,{buffer:l}=await this.bbi.read(bt.Buffer.alloc(f),0,f,Number(u),n),c=wE(r),{keySize:h}=c.chromTreeParser.parse(l),d=new Ie().endianess(i).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=new Ie().endianess(i).skip(h).uint64("childOffset").saveOffset("offset"),b=32,y=async w=>{let E=w;if(E>=l.length)throw new Error("reading beyond end of buffer");const S=c.isLeafNode.parse(l.subarray(E)),{isLeafNode:T,cnt:D}=S;if(E+=S.offset,T)for(let B=0;B<D;B+=1){const I=d.parse(l.subarray(E));E+=I.offset;const{key:N,refId:C,refSize:P}=I,M={name:N,id:C,length:P};s[this.renameRefSeqs(N)]=C,o[C]=M}else{const B=[];for(let I=0;I<D;I+=1){const N=p.parse(l.subarray(E)),{childOffset:C}=N;E+=N.offset,B.push(y(Number(C)-Number(u)))}await Promise.all(B)}};return await y(b),{refsByName:s,refsByNumber:o}}async getUnzoomedView(e){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:o,fileType:s}=await this.getHeader(e);return new qA(this.bbi,r,n,o,i>0,s)}async getFeatureStream(e,n,r,i){await this.getHeader(i);const o=this.renameRefSeqs(e);let s;const{basesPerSpan:a,scale:u}=i||{};return a?s=await this.getView(1/a,i):u?s=await this.getView(u,i):s=await this.getView(1,i),new bn(f=>{s.readWigData(o,n,r,f,i)})}async getFeatures(e,n,r,i){const o=await this.getFeatureStream(e,n,r,i);return(await pE(o.pipe(j9()))).flat()}}class W9 extends xE{async getView(e,n){const{zoomLevels:r,refsByName:i,fileSize:o,isBigEndian:s,uncompressBufSize:a}=await this.getHeader(n),u=1/e;let f=r.length;o||(f-=1);for(let l=f;l>=0;l-=1){const c=r[l];if(c&&c.reductionLevel<=2*u){const h=Number(c.indexOffset);return new qA(this.bbi,i,h,s,a>0,"summary")}}return this.getUnzoomedView(n)}}function $9(t){return t.filter(e=>!!e)}class Y9 extends xE{constructor(){super(...arguments),this.readIndicesCache=new fc({cache:new lp({maxSize:1}),fill:(e,n)=>this._readIndices({...e,signal:n})})}readIndices(e={}){const{signal:n,...r}=e;return this.readIndicesCache.get(JSON.stringify(r),e,n)}async getView(e,n){return this.getUnzoomedView(n)}async _readIndices(e){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(e),{buffer:i}=await this.bbi.read(bt.Buffer.alloc(64),0,64,Number(n)),o=r?"big":"little",s=new Ie().endianess(o).uint16("size").uint16("count").uint64("offset").parse(i),{count:a,offset:u}=s;if(a===0)return[];const f=20,l=f*a,{buffer:c}=await this.bbi.read(bt.Buffer.alloc(l),0,l,Number(u)),h=new Ie().endianess(o).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let p=0;p<a;p+=1)d.push(h.parse(c.subarray(p*f)));return d}async searchExtraIndexBlocks(e,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const o=i.map(async s=>{const{offset:a,field:u}=s,{buffer:f}=await this.bbi.read(bt.Buffer.alloc(32),0,32,Number(a),n),l=r?"big":"little",c=new Ie().endianess(l).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:h,keySize:d,valSize:p}=c.parse(f),b=new Ie().endianess(l).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new Ie().array("leafkeys",{length:"cnt",type:new Ie().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new Ie().array("keys",{length:"cnt",type:new Ie().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),y=async E=>{const S=Number(E),T=4+h*(d+p),{buffer:D}=await this.bbi.read(bt.Buffer.alloc(T),0,T,S,n),B=b.parse(D);if(B.leafkeys){let I;for(let N=0;N<B.leafkeys.length;N+=1){const{key:C}=B.leafkeys[N];if(e.localeCompare(C)<0&&I)return y(I);I=B.leafkeys[N].offset}return y(I)}for(let I=0;I<B.keys.length;I+=1)if(B.keys[I].key===e)return{...B.keys[I],field:u}},w=32;return y(Number(a)+w)});return $9(await Promise.all(o))}async searchExtraIndex(e,n={}){const r=await this.searchExtraIndexBlocks(e,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),o=r.map(a=>new bn(u=>{i.readFeatures(u,[a],n)}).pipe(bE((u,f)=>u.concat(f)),gE(u=>{for(const f of u)f.field=a.field;return u})));return(await pE(H9(...o))).filter(a=>{var u;return((u=a.rest)===null||u===void 0?void 0:u.split("	")[(a.field||0)-3])===e})}}function Cc(t,e,n=!0){let r,i=s=>{};return function(...a){return new Promise((u,f)=>{const l=()=>{clearTimeout(r),i=c=>{},u(t(...a))};n&&i("debounced"),clearTimeout(r),i=f,r=window.setTimeout(l,e)})}}class Q9 extends _f(oo){constructor(n,r){const i={pixelsPerBin:2,channel:"x",...n};super(r,i.channel);on(this,"reductionLevels",[]);on(this,"lastRequestId",0);if(this.params=i,!this.params.url)throw new Error("No URL provided for BigWigSource");this.bbi=new W9({filehandle:new rr(Sf(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=Cc(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(o=>{this.reductionLevels=o.zoomLevels.map(s=>s.reductionLevel).reverse(),this.reductionLevels.push(1)})}async onDomainChanged(n){await this.headerPromise;const r=this.getAxisLength()||700,i=X9(n,r,this.reductionLevels),o=Math.max(i*r,5e3),s=this.quantizeInterval(n,o);this.checkAndUpdateLastInterval(s)&&this.doDebouncedRequest(s,i)}async doRequest(n,r){const i=await this.getFeatures(n,.5/r/this.params.pixelsPerBin);i.requestId<this.lastRequestId||this.publishData(i.features)}async getFeatures(n,r){let i=++this.lastRequestId;const o=new AbortController,s=this.genome.continuousToDiscreteChromosomeIntervals(n),a=await Promise.all(s.map(u=>this.bbi.getFeatures(u.chrom,u.startPos,u.endPos,{scale:r,signal:o.signal}).then(f=>f.map(l=>({chrom:u.chrom,start:l.start,end:l.end,score:l.score})))));return{requestId:i,abort:()=>o.abort(),features:a.flat()}}}function X9(t,e,n){const r=(t[1]-t[0])/e;return n.find(i=>i<r)??n.at(-1)}function K9(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Ls(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ls)}K9(Ls,Error),Ls.buildMessage=function(t,e){var n={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var l="",c;for(c=0;c<f.parts.length;c++)l+=f.parts[c]instanceof Array?o(f.parts[c][0])+"-"+o(f.parts[c][1]):o(f.parts[c]);return"["+(f.inverted?"^":"")+l+"]"},any:function(f){return"any character"},end:function(f){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function o(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function s(f){return n[f.type](f)}function a(f){var l=new Array(f.length),c,h;for(c=0;c<f.length;c++)l[c]=s(f[c]);if(l.sort(),l.length>0){for(c=1,h=1;c<l.length;c++)l[c-1]!==l[c]&&(l[h]=l[c],h++);l.length=h}switch(l.length){case 1:return l[0];case 2:return l[0]+" or "+l[1];default:return l.slice(0,-1).join(", ")+", or "+l[l.length-1]}}function u(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+a(t)+" but "+u(e)+" found."};function J9(t,e){e=e!==void 0?e:{};var n={},r={declaration:H3},i=H3,o="(",s=ke("(",!1),a=")",u=ke(")",!1),f=function(A,U,X,K){return{type:A,name:U,comment:X,fields:K}},l="simple",c=ke("simple",!1),h="object",d=ke("object",!1),p="table",b=ke("table",!1),y="auto",w=ke("auto",!1),E="primary",S=ke("primary",!1),T="index",D=ke("index",!1),B="unique",I=ke("unique",!1),N=function(A,U){return U},C=function(A,U){return A.name&&U.unshift(A),U},P="#",M=ke("#",!1),ee=";",ne=ke(";",!1),J=function(A,U,X){return{type:A,name:U,comment:X}},me="[",Ee=ke("[",!1),De="]",ot=ke("]",!1),tt=function(A,U,X,K){return{type:A,size:U,name:X,comment:K}},pr=function(A,U,X,K){return{type:A,vals:U,name:X,comment:K}},Pe=",",$e=ke(",",!1),Wt=function(A,U){return U.unshift(A),U},jn="int",gr=ke("int",!1),O="uint",L=ke("uint",!1),Z="short",V=ke("short",!1),Q="ushort",_=ke("ushort",!1),v="byte",H=ke("byte",!1),j="ubyte",le=ke("ubyte",!1),re="float",ce=ke("float",!1),$t="char",_i=ke("char",!1),Si="string",Ci=ke("string",!1),Tt="lstring",Or=ke("lstring",!1),Ti="enum",Yt=ke("enum",!1),mr="double",x=ke("double",!1),g="bigint",m=ke("bigint",!1),F="set",R=ke("set",!1),z=function(A,U){return A+" "+U},q=/^[a-zA-Z_]/,he=hu([["a","z"],["A","Z"],"_"],!1,!1),qe=/^[a-zA-Z0-9_]/,Me=hu([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ye=function(A){return O3()},Te=/^[^\n\r]/,R3=hu([`
`,"\r"],!0,!1),fU=function(A){return A.join("").replace(/^"/,"").replace(/"$/,"")},uU=z3("integer"),P3=/^[0-9]/,M3=hu([["0","9"]],!1,!1),lU=function(){return parseInt(O3(),10)},cU=z3("whitespace"),N3=/^[ \t\n\r]/,L3=hu([" ","	",`
`,"\r"],!1,!1),k=0,Rt=0,$c=[{line:1,column:1}],br=0,tm=[],se=0,Yc;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function O3(){return t.substring(Rt,k)}function ke(A,U){return{type:"literal",text:A,ignoreCase:U}}function hu(A,U,X){return{type:"class",parts:A,inverted:U,ignoreCase:X}}function hU(){return{type:"end"}}function z3(A){return{type:"other",description:A}}function U3(A){var U=$c[A],X;if(U)return U;for(X=A-1;!$c[X];)X--;for(U=$c[X],U={line:U.line,column:U.column};X<A;)t.charCodeAt(X)===10?(U.line++,U.column=1):U.column++,X++;return $c[A]=U,U}function G3(A,U){var X=U3(A),K=U3(U);return{start:{offset:A,line:X.line,column:X.column},end:{offset:U,line:K.line,column:K.column}}}function ae(A){k<br||(k>br&&(br=k,tm=[]),tm.push(A))}function dU(A,U,X){return new Ls(Ls.buildMessage(A,U),A,U,X)}function H3(){var A,U,X,K,oe,Ue,Qe,Cn,Fi,zr,Ii,Ur,Di,Gr;return A=k,U=ye(),U!==n?(X=q3(),X!==n?(K=ye(),K!==n?(oe=V3(),oe!==n?(Ue=ye(),Ue!==n?(Qe=Qc(),Qe!==n?(Cn=ye(),Cn!==n?(t.charCodeAt(k)===40?(Fi=o,k++):(Fi=n,se===0&&ae(s)),Fi!==n?(zr=ye(),zr!==n?(Ii=pU(),Ii!==n?(Ur=ye(),Ur!==n?(t.charCodeAt(k)===41?(Di=a,k++):(Di=n,se===0&&ae(u)),Di!==n?(Gr=ye(),Gr!==n?(Rt=A,U=f(X,oe,Qe,Ii),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A}function q3(){var A;return t.substr(k,6)===l?(A=l,k+=6):(A=n,se===0&&ae(c)),A===n&&(t.substr(k,6)===h?(A=h,k+=6):(A=n,se===0&&ae(d)),A===n&&(t.substr(k,5)===p?(A=p,k+=5):(A=n,se===0&&ae(b)))),A}function V3(){var A,U,X,K;return A=Zn(),A===n&&(A=k,U=Zn(),U!==n?(X=j3(),X!==n?(U=[U,X],A=U):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=Zn(),U!==n?(t.substr(k,4)===y?(X=y,k+=4):(X=n,se===0&&ae(w)),X!==n?(U=[U,X],A=U):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=Zn(),U!==n?(X=j3(),X!==n?(t.substr(k,4)===y?(K=y,k+=4):(K=n,se===0&&ae(w)),K!==n?(U=[U,X,K],A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)))),A}function j3(){var A;return t.substr(k,7)===E?(A=E,k+=7):(A=n,se===0&&ae(S)),A===n&&(t.substr(k,5)===T?(A=T,k+=5):(A=n,se===0&&ae(D)),A===n&&(t.substr(k,6)===B?(A=B,k+=6):(A=n,se===0&&ae(I)))),A}function Qc(){var A;return A=Z3(),A===n&&(A=ye()),A}function pU(){var A,U,X,K,oe,Ue,Qe;if(A=k,U=nm(),U!==n)if(X=ye(),X!==n){for(K=[],oe=k,Ue=ye(),Ue!==n?(Qe=nm(),Qe!==n?(Rt=oe,Ue=N(U,Qe),oe=Ue):(k=oe,oe=n)):(k=oe,oe=n);oe!==n;)K.push(oe),oe=k,Ue=ye(),Ue!==n?(Qe=nm(),Qe!==n?(Rt=oe,Ue=N(U,Qe),oe=Ue):(k=oe,oe=n)):(k=oe,oe=n);K!==n?(oe=ye(),oe!==n?(Rt=A,U=C(U,K),A=U):(k=A,A=n)):(k=A,A=n)}else k=A,A=n;else k=A,A=n;return A}function gU(){var A;return t.charCodeAt(k)===35?(A=P,k++):(A=n,se===0&&ae(M)),A}function mU(){var A,U,X,K,oe;return A=k,U=ye(),U!==n?(X=gU(),X!==n?(K=Z3(),K!==n?(oe=ye(),oe!==n?(U=[U,X,K,oe],A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A}function nm(){var A,U,X,K,oe,Ue,Qe,Cn,Fi,zr,Ii,Ur,Di,Gr;return A=k,U=rm(),U!==n?(X=ye(),X!==n?(K=Zn(),K!==n?(oe=ye(),oe!==n?(t.charCodeAt(k)===59?(Ue=ee,k++):(Ue=n,se===0&&ae(ne)),Ue!==n?(Qe=ye(),Qe!==n?(Cn=Qc(),Cn!==n?(Rt=A,U=J(U,K,Cn),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=rm(),U!==n?(X=ye(),X!==n?(t.charCodeAt(k)===91?(K=me,k++):(K=n,se===0&&ae(Ee)),K!==n?(oe=ye(),oe!==n?(Ue=yU(),Ue!==n?(Qe=ye(),Qe!==n?(t.charCodeAt(k)===93?(Cn=De,k++):(Cn=n,se===0&&ae(ot)),Cn!==n?(Fi=ye(),Fi!==n?(zr=Zn(),zr!==n?(Ii=ye(),Ii!==n?(t.charCodeAt(k)===59?(Ur=ee,k++):(Ur=n,se===0&&ae(ne)),Ur!==n?(Di=ye(),Di!==n?(Gr=Qc(),Gr!==n?(Rt=A,U=tt(U,Ue,zr,Gr),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=rm(),U!==n?(X=ye(),X!==n?(t.charCodeAt(k)===40?(K=o,k++):(K=n,se===0&&ae(s)),K!==n?(oe=ye(),oe!==n?(Ue=bU(),Ue!==n?(Qe=ye(),Qe!==n?(t.charCodeAt(k)===41?(Cn=a,k++):(Cn=n,se===0&&ae(u)),Cn!==n?(Fi=ye(),Fi!==n?(zr=Zn(),zr!==n?(Ii=ye(),Ii!==n?(t.charCodeAt(k)===59?(Ur=ee,k++):(Ur=n,se===0&&ae(ne)),Ur!==n?(Di=ye(),Di!==n?(Gr=Qc(),Gr!==n?(Rt=A,U=pr(U,Ue,zr,Gr),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=mU()))),A}function bU(){var A,U,X,K,oe,Ue,Qe;if(A=k,U=Zn(),U!==n){for(X=[],K=k,t.charCodeAt(k)===44?(oe=Pe,k++):(oe=n,se===0&&ae($e)),oe!==n?(Ue=ye(),Ue!==n?(Qe=Zn(),Qe!==n?(Rt=K,oe=N(U,Qe),K=oe):(k=K,K=n)):(k=K,K=n)):(k=K,K=n);K!==n;)X.push(K),K=k,t.charCodeAt(k)===44?(oe=Pe,k++):(oe=n,se===0&&ae($e)),oe!==n?(Ue=ye(),Ue!==n?(Qe=Zn(),Qe!==n?(Rt=K,oe=N(U,Qe),K=oe):(k=K,K=n)):(k=K,K=n)):(k=K,K=n);X!==n?(Rt=A,U=Wt(U,X),A=U):(k=A,A=n)}else k=A,A=n;return A}function rm(){var A,U,X,K;return t.substr(k,3)===jn?(A=jn,k+=3):(A=n,se===0&&ae(gr)),A===n&&(t.substr(k,4)===O?(A=O,k+=4):(A=n,se===0&&ae(L)),A===n&&(t.substr(k,5)===Z?(A=Z,k+=5):(A=n,se===0&&ae(V)),A===n&&(t.substr(k,6)===Q?(A=Q,k+=6):(A=n,se===0&&ae(_)),A===n&&(t.substr(k,4)===v?(A=v,k+=4):(A=n,se===0&&ae(H)),A===n&&(t.substr(k,5)===j?(A=j,k+=5):(A=n,se===0&&ae(le)),A===n&&(t.substr(k,5)===re?(A=re,k+=5):(A=n,se===0&&ae(ce)),A===n&&(t.substr(k,4)===$t?(A=$t,k+=4):(A=n,se===0&&ae(_i)),A===n&&(t.substr(k,6)===Si?(A=Si,k+=6):(A=n,se===0&&ae(Ci)),A===n&&(t.substr(k,7)===Tt?(A=Tt,k+=7):(A=n,se===0&&ae(Or)),A===n&&(t.substr(k,4)===Ti?(A=Ti,k+=4):(A=n,se===0&&ae(Yt)),A===n&&(t.substr(k,6)===mr?(A=mr,k+=6):(A=n,se===0&&ae(x)),A===n&&(t.substr(k,6)===g?(A=g,k+=6):(A=n,se===0&&ae(m)),A===n&&(t.substr(k,3)===F?(A=F,k+=3):(A=n,se===0&&ae(R)),A===n&&(A=k,U=q3(),U!==n?(X=ye(),X!==n?(K=V3(),K!==n?(Rt=A,U=z(U,K),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n))))))))))))))),A}function yU(){var A;return A=wU(),A===n&&(A=Zn()),A}function Zn(){var A,U,X,K,oe;if(A=k,U=k,q.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,se===0&&ae(he)),X!==n){for(K=[],qe.test(t.charAt(k))?(oe=t.charAt(k),k++):(oe=n,se===0&&ae(Me));oe!==n;)K.push(oe),qe.test(t.charAt(k))?(oe=t.charAt(k),k++):(oe=n,se===0&&ae(Me));K!==n?(X=[X,K],U=X):(k=U,U=n)}else k=U,U=n;return U!==n&&(Rt=A,U=Ye()),A=U,A}function Z3(){var A,U,X;for(A=k,U=[],Te.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,se===0&&ae(R3));X!==n;)U.push(X),Te.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,se===0&&ae(R3));return U!==n&&(Rt=A,U=fU(U)),A=U,A}function wU(){var A,U,X,K;if(se++,A=k,U=ye(),U!==n){if(X=[],P3.test(t.charAt(k))?(K=t.charAt(k),k++):(K=n,se===0&&ae(M3)),K!==n)for(;K!==n;)X.push(K),P3.test(t.charAt(k))?(K=t.charAt(k),k++):(K=n,se===0&&ae(M3));else X=n;X!==n?(Rt=A,U=lU(),A=U):(k=A,A=n)}else k=A,A=n;return se--,A===n&&(U=n,se===0&&ae(uU)),A}function ye(){var A,U;for(se++,A=[],N3.test(t.charAt(k))?(U=t.charAt(k),k++):(U=n,se===0&&ae(L3));U!==n;)A.push(U),N3.test(t.charAt(k))?(U=t.charAt(k),k++):(U=n,se===0&&ae(L3));return se--,A===n&&(U=n,se===0&&ae(cU)),A}if(Yc=i(),Yc!==n&&k===t.length)return Yc;throw Yc!==n&&k<t.length&&ae(hU()),dU(tm,br<t.length?t.charAt(br):null,br<t.length?G3(br,br+1):G3(br,br))}var vE={SyntaxError:Ls,parse:J9};const eO=so(vE),Xp=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([t,e])=>[t,vE.parse(e.trim())]));function Kp(t){const e=["uint","int","float","long"];return{...t,fields:t.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&e.includes(n.type),isNumeric:!n.size&&e.includes(n.type)}))}}const tO={".":0,"-":-1,"+":1};function nO(t){var e;return t.length>=12&&!Number.isNaN(parseInt(t[9],10))&&((e=t[10])===null||e===void 0?void 0:e.split(",").filter(n=>!!n).length)===parseInt(t[9],10)}class rO{constructor(e={}){if(e.autoSql)this.autoSql=Kp(eO.parse(e.autoSql));else if(e.type){if(!Xp[e.type])throw new Error("Type not found");this.autoSql=Kp(Xp[e.type])}else this.autoSql=Kp(Xp.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(e,n={}){const{autoSql:r}=this,{uniqueId:i}=n,o=Array.isArray(e)?e:e.split("	");let s={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&nO(o))for(let a=0;a<r.fields.length;a++){const u=r.fields[a];let f=o[a];const{isNumeric:l,isArray:c,arrayIsNumeric:h,name:d}=u;if(f==null)break;if(f!=="."){if(l){const p=Number(f);f=Number.isNaN(p)?f:p}else c&&(f=f.split(","),f[f.length-1]===""&&f.pop(),h&&(f=f.map(p=>Number(p))));s[d]=f}}else{const a=["chrom","chromStart","chromEnd","name"];s=Object.fromEntries(o.map((u,f)=>[a[f]||"field"+f,u])),s.chromStart=+s.chromStart,s.chromEnd=+s.chromEnd,Number.isNaN(Number.parseFloat(s.field4))||(s.score=+s.field4,delete s.field4),(s.field5==="+"||s.field5==="-")&&(s.strand=s.field5,delete s.field5)}return i&&(s.uniqueId=i),s.strand=tO[s.strand]||0,s.chrom=decodeURIComponent(s.chrom),s}}class iO extends _f(oo){constructor(n,r){const i={channel:"x",windowSize:1e6,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"parser");if(this.params=i,!this.params.url)throw new Error("No URL provided for BigBedSource");this.bbi=new Y9({filehandle:new rr(Sf(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=Cc(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(o=>{this.parser=new rO({autoSql:o.autoSql})})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doDebouncedRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){let r=++this.lastRequestId;const i=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(n),s=await Promise.all(o.map(a=>this.bbi.getFeatures(a.chrom,a.startPos,a.endPos,{signal:i.signal}).then(u=>u.map(f=>this.parser.parseLine(`${a.chrom}	${f.start}	${f.end}	${f.rest}`,{uniqueId:f.uniqueId})))));return{requestId:r,abort:()=>i.abort(),features:s.flat()}}}var oO=Ne,yn=null;try{yn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ne(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Ne.prototype.__isLong__,Object.defineProperty(Ne.prototype,"__isLong__",{value:!0});function qt(t){return(t&&t.__isLong__)===!0}Ne.isLong=qt;var AE={},EE={};function Co(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=EE[t],r)?r:(n=Le(t,(t|0)<0?-1:0,!0),i&&(EE[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=AE[t],r)?r:(n=Le(t,t<0?-1:0,!1),i&&(AE[t]=n),n))}Ne.fromInt=Co;function wn(t,e){if(isNaN(t))return e?To:xn;if(e){if(t<0)return To;if(t>=SE)return DE}else{if(t<=-CE)return Vt;if(t+1>=CE)return IE}return t<0?wn(-t,e).neg():Le(t%Os|0,t/Os|0,e)}Ne.fromNumber=wn;function Le(t,e,n){return new Ne(t,e,n)}Ne.fromBits=Le;var Tc=Math.pow;function Jp(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return xn;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Jp(t.substring(1),e,n).neg();for(var i=wn(Tc(n,8)),o=xn,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),n);if(a<8){var f=wn(Tc(n,a));o=o.mul(f).add(wn(u))}else o=o.mul(i),o=o.add(wn(u))}return o.unsigned=e,o}Ne.fromString=Jp;function qn(t,e){return typeof t=="number"?wn(t,e):typeof t=="string"?Jp(t,e):Le(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Ne.fromValue=qn;var _E=1<<16,sO=1<<24,Os=_E*_E,SE=Os*Os,CE=SE/2,TE=Co(sO),xn=Co(0);Ne.ZERO=xn;var To=Co(0,!0);Ne.UZERO=To;var zs=Co(1);Ne.ONE=zs;var FE=Co(1,!0);Ne.UONE=FE;var eg=Co(-1);Ne.NEG_ONE=eg;var IE=Le(-1,2147483647,!1);Ne.MAX_VALUE=IE;var DE=Le(-1,-1,!0);Ne.MAX_UNSIGNED_VALUE=DE;var Vt=Le(0,-2147483648,!1);Ne.MIN_VALUE=Vt;var $=Ne.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*Os+(this.low>>>0):this.high*Os+(this.low>>>0)},$.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Vt)){var n=wn(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=wn(Tc(e,6),this.unsigned),s=this,a="";;){var u=s.div(o),f=s.sub(u.mul(o)).toInt()>>>0,l=f.toString(e);if(s=u,s.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Vt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(this.low&1)===1},$.isEven=function(){return(this.low&1)===0},$.equals=function(e){return qt(e)||(e=qn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},$.eq=$.equals,$.notEquals=function(e){return!this.eq(e)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(e){return this.comp(e)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(e){return this.comp(e)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(e){return this.comp(e)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(e){return this.comp(e)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(e){if(qt(e)||(e=qn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(Vt)?Vt:this.not().add(zs)},$.neg=$.negate,$.add=function(e){qt(e)||(e=qn(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=o+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+s,l&=65535,Le(h<<16|d,l<<16|c,this.unsigned)},$.subtract=function(e){return qt(e)||(e=qn(e)),this.add(e.neg())},$.sub=$.subtract,$.multiply=function(e){if(this.isZero())return xn;if(qt(e)||(e=qn(e)),yn){var n=yn.mul(this.low,this.high,e.low,e.high);return Le(n,yn.get_high(),this.unsigned)}if(e.isZero())return xn;if(this.eq(Vt))return e.isOdd()?Vt:xn;if(e.eq(Vt))return this.isOdd()?Vt:xn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TE)&&e.lt(TE))return wn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=s*l,d+=p>>>16,p&=65535,d+=o*l,h+=d>>>16,d&=65535,d+=s*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=o*f,c+=h>>>16,h&=65535,h+=s*u,c+=h>>>16,h&=65535,c+=r*l+i*f+o*u+s*a,c&=65535,Le(d<<16|p,c<<16|h,this.unsigned)},$.mul=$.multiply,$.divide=function(e){if(qt(e)||(e=qn(e)),e.isZero())throw Error("division by zero");if(yn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?yn.div_u:yn.div_s)(this.low,this.high,e.low,e.high);return Le(n,yn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?To:xn;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return To;if(e.gt(this.shru(1)))return FE;o=To}else{if(this.eq(Vt)){if(e.eq(zs)||e.eq(eg))return Vt;if(e.eq(Vt))return zs;var s=this.shr(1);return r=s.div(e).shl(1),r.eq(xn)?e.isNegative()?zs:eg:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(Vt))return this.unsigned?To:xn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=xn}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:Tc(2,a-48),f=wn(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=wn(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=zs),o=o.add(f),i=i.sub(l)}return o},$.div=$.divide,$.modulo=function(e){if(qt(e)||(e=qn(e)),yn){var n=(this.unsigned?yn.rem_u:yn.rem_s)(this.low,this.high,e.low,e.high);return Le(n,yn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return Le(~this.low,~this.high,this.unsigned)},$.and=function(e){return qt(e)||(e=qn(e)),Le(this.low&e.low,this.high&e.high,this.unsigned)},$.or=function(e){return qt(e)||(e=qn(e)),Le(this.low|e.low,this.high|e.high,this.unsigned)},$.xor=function(e){return qt(e)||(e=qn(e)),Le(this.low^e.low,this.high^e.high,this.unsigned)},$.shiftLeft=function(e){return qt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Le(0,this.low<<e-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(e){return qt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Le(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(e){if(qt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Le(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Le(n,0,this.unsigned):Le(n>>>e-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)},$.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},$.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Ne.fromBytes=function(e,n,r){return r?Ne.fromBytesLE(e,n):Ne.fromBytesBE(e,n)},Ne.fromBytesLE=function(e,n){return new Ne(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Ne.fromBytesBE=function(e,n){return new Ne(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const BE=so(oO);let kE=class{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}};function Us(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new kE(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}let Fc=class{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+(1<<16)-this.minv.blockPosition}},RE=class{constructor({filehandle:e,renameRefSeq:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}_findFirstData(e,n){const r=e.firstDataLine;r?e.firstDataLine=r.compareTo(n)>0?n:r:e.firstDataLine=n}async parse(e={}){return this.setupP||(this.setupP=this._parse(e).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}};function aO(t){return new Promise(e=>setTimeout(e,t))}function PE(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}function ME(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new Error("aborted");throw e.code="ERR_ABORTED",e}}}async function NE(t){await Promise.resolve(),ME(t)}function fO(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function uO(t={}){return"aborted"in t?{signal:t}:t}function LE(t,e){const n=[];let r=null;return t.length===0?t:(t.sort((i,o)=>{const s=i.minv.blockPosition-o.minv.blockPosition;return s!==0?s:i.minv.dataPosition-o.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):fO(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}const lO=21578050;function cO(t,e){return t-t%e}function hO(t,e){return t-t%e+e}class $f extends RE{parsePseudoBin(e,n){return{lineCount:PE(BE.fromBytesLE(Array.prototype.slice.call(e,n+16,n+24),!0))}}async lineCount(e,n={}){const i=(await this.parse(n)).indices[e];if(!i)return-1;const o=i.stats||{};return o.lineCount===void 0?-1:o.lineCount}fetchBai(e={}){return this.baiP||(this.baiP=this.filehandle.readFile(e).catch(n=>{throw this.baiP=void 0,n})),this.baiP}async _parse(){const e={bai:!0,maxBlockSize:65536},n=await this.fetchBai();if(n.readUInt32LE(0)!==lO)throw new Error("Not a BAI file");e.refCount=n.readInt32LE(4);const i=((1<<(5+1)*3)-1)/7;e.indices=new Array(e.refCount);let o=8;for(let s=0;s<e.refCount;s+=1){const a=n.readInt32LE(o);let u;o+=4;const f={};for(let h=0;h<a;h+=1){const d=n.readUInt32LE(o);if(o+=4,d===i+1)o+=4,u=this.parsePseudoBin(n,o),o+=32;else{if(d>i+1)throw new Error("bai index contains too many bins, please use CSI");{const p=n.readInt32LE(o);o+=4;const b=new Array(p);for(let y=0;y<p;y+=1){const w=Us(n,o),E=Us(n,o+8);o+=16,this._findFirstData(e,w),b[y]=new Fc(w,E,d)}f[d]=b}}}const l=n.readInt32LE(o);o+=4;const c=new Array(l);for(let h=0;h<l;h+=1)c[h]=Us(n,o),o+=8,this._findFirstData(e,c[h]);e.indices[s]={binIndex:f,linearIndex:c,stats:u}}return e}async indexCov(e,n,r,i={}){const s=n!==void 0,u=(await this.parse(i)).indices[e];if(!u)return[];const{linearIndex:f=[],stats:l}=u;if(!f.length)return[];const c=r!==void 0?hO(r,16384):(f.length-1)*16384,h=n!==void 0?cO(n,16384):0;let d;s?d=new Array((c-h)/16384):d=new Array(f.length-1);const p=f[f.length-1].blockPosition;if(c>(f.length-1)*16384)throw new Error("query outside of range of linear index");let b=f[h/16384].blockPosition;for(let y=h/16384,w=0;y<c/16384;y++,w++)d[w]={score:f[y+1].blockPosition-b,start:y*16384,end:y*16384+16384},b=f[y+1].blockPosition;return d.map(y=>({...y,score:y.score*l.lineCount/p}))}reg2bins(e,n){return n-=1,[[0,0],[1+(e>>26),1+(n>>26)],[9+(e>>23),9+(n>>23)],[73+(e>>20),73+(n>>20)],[585+(e>>17),585+(n>>17)],[4681+(e>>14),4681+(n>>14)]]}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const s=o.indices[e];if(!s)return[];const a=this.reg2bins(n,r),u=[];for(const[d,p]of a)for(let b=d;b<=p;b++)if(s.binIndex[b]){const y=s.binIndex[b];for(let w=0;w<y.length;++w)u.push(new Fc(y[w].minv,y[w].maxv,b))}const f=s.linearIndex.length;let l=null;const c=Math.min(n>>14,f-1),h=Math.min(r>>14,f-1);for(let d=c;d<=h;++d){const p=s.linearIndex[d];p&&(!l||p.compareTo(l)<0)&&(l=p)}return LE(u,l)}}const dO=21582659,pO=38359875;function gO(t,e){return t*2**e}function OE(t,e){return Math.floor(t/2**e)}let tg=class extends RE{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e){const n=await this.parse();if(!n||!n.indices[e])return-1;const{stats:i}=n.indices[e];return i?i.lineCount:-1}async indexCov(){return[]}parseAuxData(e,n,r){if(r<30)return{};const i={};if(i.formatFlags=e.readInt32LE(n),i.coordinateType=i.formatFlags&65536?"zero-based-half-open":"1-based-closed",i.format={0:"generic",1:"SAM",2:"VCF"}[i.formatFlags&15],!i.format)throw new Error(`invalid Tabix preset format flags ${i.formatFlags}`);i.columnNumbers={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},i.metaValue=e.readInt32LE(n+16),i.metaChar=i.metaValue?String.fromCharCode(i.metaValue):"",i.skipLines=e.readInt32LE(n+20);const o=e.readInt32LE(n+24);return Object.assign(i,this._parseNameBytes(e.subarray(n+28,n+28+o))),i}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let s=0;s<e.length;s+=1)if(!e[s]){if(r<s){let a=e.toString("utf8",r,s);a=this.renameRefSeq(a),i[n]=a,o[a]=n}r=s+1,n+=1}return{refNameToId:o,refIdToName:i}}async _parse(e){const n={csi:!0,maxBlockSize:65536},r=await this.filehandle.readFile(e),i=await vs(r);if(i.readUInt32LE(0)===dO)n.csiVersion=1;else if(i.readUInt32LE(0)===pO)n.csiVersion=2;else throw new Error("Not a CSI file");this.minShift=i.readInt32LE(4),this.depth=i.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const o=i.readInt32LE(12);o&&Object.assign(n,this.parseAuxData(i,16,o)),n.refCount=i.readInt32LE(16+o),n.indices=new Array(n.refCount);let s=16+o+4;for(let a=0;a<n.refCount;a+=1){await NE(e.signal);const u=i.readInt32LE(s);s+=4;const f={};let l;for(let c=0;c<u;c+=1){const h=i.readUInt32LE(s);if(h>this.maxBinNumber)l=this.parsePseudoBin(i,s+4),s+=4+8+4+16+16;else{const d=Us(i,s+4);this._findFirstData(n,d);const p=i.readInt32LE(s+12);s+=16;const b=new Array(p);for(let y=0;y<p;y+=1){const w=Us(i,s),E=Us(i,s+8);s+=16,b[y]=new Fc(w,E,h)}f[h]=b}}n.indices[a]={binIndex:f,stats:l}}return n}parsePseudoBin(e,n){return{lineCount:PE(BE.fromBytesLE(Array.prototype.slice.call(e,n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i),s=o==null?void 0:o.indices[e];if(!s)return[];const a=this.reg2bins(n,r),u=[];for(const[f,l]of a)for(let c=f;c<=l;c++)if(s.binIndex[c]){const h=s.binIndex[c];for(let d=0;d<h.length;++d)u.push(new Fc(h[d].minv,h[d].maxv,c))}return LE(u,new kE(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const s=[];for(;r<=this.depth;o-=3,i+=gO(1,r*3),r+=1){const a=i+OE(e,o),u=i+OE(n,o);if(u-a+s.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);s.push([a,u])}return s}};var Ai=bt.Buffer,ng=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(ng=new Int32Array(ng));function zE(t){if(Ai.isBuffer(t))return t;var e=typeof Ai.alloc=="function"&&typeof Ai.from=="function";if(typeof t=="number")return e?Ai.alloc(t):new Ai(t);if(typeof t=="string")return e?Ai.from(t):new Ai(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function mO(t){var e=zE(4);return e.writeInt32BE(t,0),e}function rg(t,e){t=zE(t),Ai.isBuffer(e)&&(e=e.readUInt32BE(0));for(var n=~~e^-1,r=0;r<t.length;r++)n=ng[(n^t[r])&255]^n>>>8;return n^-1}function ig(){return mO(rg.apply(null,arguments))}ig.signed=function(){return rg.apply(null,arguments)},ig.unsigned=function(){return rg.apply(null,arguments)>>>0};var bO=ig;const yO=so(bO);var og,UE;function wO(){if(UE)return og;UE=1;var t=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},e=function(r,i){return Object.prototype.propertyIsEnumerable.call(r,i)};function n(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");var i=[];for(var o in r)t(r,o)&&e(r,o)&&i.push([o,r[o]]);return i}return og=n,og}var xO=typeof Object.entries=="function"?Object.entries:wO();const vO=so(xO);class AO{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}}var EO=AO;const _O=so(EO),vn={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},GE="=ACMGRSVTWYHKDBN".split(""),Yf="MIDNSHP=X???????".split("");class SO{constructor(e){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=e,{byteArray:i,start:o}=n;this.data={},this.bytes=n,this._id=r,this._refID=i.readInt32LE(o+4),this.data.start=i.readInt32LE(o+8),this.flags=(i.readInt32LE(o+16)&4294901760)>>16}get(e){return this[e]?this.data[e]?this.data[e]:(this.data[e]=this[e](),this.data[e]):this._get(e.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(e){return e in this.data?this.data[e]:(this.data[e]=this._parseTag(e),this.data[e])}_tags(){this._parseAllTags();let e=["seq"];this.isSegmentUnmapped()||e.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&e.push("next_segment_position","pair_orientation"),e=e.concat(this._tagList||[]),Object.keys(this.data).forEach(r=>{r[0]!=="_"&&r!=="next_seq_id"&&e.push(r)});const n={};return e.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),o=n[i];return n[i]=!0,!o})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const e=(this.get("_bin_mq_nl")&65280)>>8;return e===255?void 0:e}score(){return this.get("mq")}qual(){var e;return(e=this.qualRaw())===null||e===void 0?void 0:e.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:e,byteArray:n}=this.bytes,r=e+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const e=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+e-1)}_parseTag(e){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const o=this.bytes.end;let s;for(;i<o&&s!==e;){const a=String.fromCharCode(n[i],n[i+1]);s=a.toLowerCase();const u=String.fromCharCode(n[i+2]);i+=3;let f;switch(u){case"A":f=String.fromCharCode(n[i]),i+=1;break;case"i":f=n.readInt32LE(i),i+=4;break;case"I":f=n.readUInt32LE(i),i+=4;break;case"c":f=n.readInt8(i),i+=1;break;case"C":f=n.readUInt8(i),i+=1;break;case"s":f=n.readInt16LE(i),i+=2;break;case"S":f=n.readUInt16LE(i),i+=2;break;case"f":f=n.readFloatLE(i),i+=4;break;case"Z":case"H":for(f="";i<=o;){const l=n[i++];if(l===0)break;f+=String.fromCharCode(l)}break;case"B":{f="";const l=n[i++],c=String.fromCharCode(l),h=n.readInt32LE(i);if(i+=4,c==="i")if(a==="CG")for(let d=0;d<h;d++){const p=n.readInt32LE(i),b=p>>4,y=Yf[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="I")if(a==="CG")for(let d=0;d<h;d++){const p=n.readUInt32LE(i),b=p>>4,y=Yf[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readUInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="s")for(let d=0;d<h;d++)f+=n.readInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="S")for(let d=0;d<h;d++)f+=n.readUInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="c")for(let d=0;d<h;d++)f+=n.readInt8(i),d+1<h&&(f+=","),i+=1;if(c==="C")for(let d=0;d<h;d++)f+=n.readUInt8(i),d+1<h&&(f+=","),i+=1;if(c==="f")for(let d=0;d<h;d++)f+=n.readFloatLE(i),d+1<h&&(f+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${u}', tags may be incomplete`),f=void 0,i=o}if(this._tagOffset=i,this._tagList.push(a),s===e)return f;this.data[s]=f}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(e){return e.match(/\d+\D/g).map(n=>[n.match(/\D/)[0].toUpperCase(),parseInt(n,10)])}isPaired(){return!!(this.flags&vn.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&vn.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&vn.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&vn.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&vn.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&vn.BAM_FMREVERSE)}isRead1(){return!!(this.flags&vn.BAM_FREAD1)}isRead2(){return!!(this.flags&vn.BAM_FREAD2)}isSecondary(){return!!(this.flags&vn.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&vn.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&vn.BAM_FDUP)}isSupplementary(){return!!(this.flags&vn.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:e,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const o=this.get("seq_length");let s="",a=0,u=e.readInt32LE(i),f=u>>4,l=Yf[u&15];if(l==="S"&&f===o)return i+=4,u=e.readInt32LE(i),f=u>>4,l=Yf[u&15],l!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=f,this.get("CG");for(let c=0;c<r;++c)u=e.readInt32LE(i),f=u>>4,l=Yf[u&15],s+=f+l,l!=="H"&&l!=="S"&&l!=="I"&&(a+=f),i+=4;return this.data.length_on_ref=a,s}_flags(){}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:e,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),o=this.get("seq_length");let s="",a=0;for(let u=0;u<i;++u){const f=e[r+u];s+=GE[(f&240)>>4],a++,a<o&&(s+=GE[f&15],a++)}return s}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const e=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const o=[];return this.template_length()>0?(o[0]=e,o[1]=r,o[2]=n,o[3]=i):(o[2]=e,o[3]=r,o[0]=n,o[1]=i),o.join("")}return null}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const e={};return Object.keys(this).forEach(n=>{n.charAt(0)==="_"||n==="bytes"||(e[n]=this[n])}),e}}function CO(t){const e=t.split(/\r?\n/),n=[];return e.forEach(r=>{const[i,...o]=r.split(/\t/),s=o.map(a=>{const[u,f]=a.split(":",2);return{tag:u,value:f}});i&&n.push({tag:i.substr(1),data:s})}),n}const TO=21840194,sg=1<<16;function ag(t){return[].concat(...t)}async function FO(t){const e=[];for await(const n of t)e.push(n);return e}class IO{constructor({bamFilehandle:e,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:o,baiUrl:s,csiPath:a,csiFilehandle:u,csiUrl:f,fetchSizeLimit:l,chunkSizeLimit:c,yieldThreadTime:h=100,renameRefSeqs:d=p=>p}){if(this.featureCache=new fc({cache:new _O({maxSize:50}),fill:async({chunk:p,opts:b},y)=>{const{data:w,cpositions:E,dpositions:S}=await this._readChunk({chunk:p,opts:{...b,signal:y}});return await this.readBamFeatures(w,E,S,p)}}),this.renameRefSeq=d,e)this.bam=e;else if(n)this.bam=new Jt(n);else if(r)this.bam=new rr(r);else throw new Error("unable to initialize bam");if(u)this.index=new tg({filehandle:u});else if(a)this.index=new tg({filehandle:new Jt(a)});else if(f)this.index=new tg({filehandle:new rr(f)});else if(o)this.index=new $f({filehandle:o});else if(i)this.index=new $f({filehandle:new Jt(i)});else if(s)this.index=new $f({filehandle:new rr(s)});else if(n)this.index=new $f({filehandle:new Jt(`${n}.bai`)});else if(r)this.index=new $f({filehandle:new rr(`${r}.bai`)});else throw new Error("unable to infer index format");this.fetchSizeLimit=l||5e8,this.chunkSizeLimit=c||3e8,this.yieldThreadTime=h}async getHeader(e={}){const n=uO(e),r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let o;if(i){const l=await this.bam.read(Buffer.alloc(i+sg),0,i+sg,0,n),{bytesRead:c}=l;if({buffer:o}=l,!c)throw new Error("Error reading header");c<i?o=o.subarray(0,c):o=o.subarray(0,i)}else o=await this.bam.readFile(n);const s=await vs(o);if(s.readInt32LE(0)!==TO)throw new Error("Not a BAM file");const a=s.readInt32LE(4);this.header=s.toString("utf8",8,8+a);const{chrToIndex:u,indexToChr:f}=await this._readRefSeqs(a+8,65535,n);return this.chrToIndex=u,this.indexToChr=f,CO(this.header)}async getHeaderText(e={}){return await this.getHeader(e),this.header}async _readRefSeqs(e,n,r={}){if(e>n)return this._readRefSeqs(e,n*2,r);const i=n+sg,{bytesRead:o,buffer:s}=await this.bam.read(Buffer.alloc(i),0,n,0,r);if(!o)throw new Error("Error reading refseqs from header");const a=await vs(s.subarray(0,Math.min(o,n))),u=a.readInt32LE(e);let f=e+4;const l={},c=[];for(let h=0;h<u;h+=1){const d=a.readInt32LE(f),p=this.renameRefSeq(a.toString("utf8",f+4,f+4+d-1)),b=a.readInt32LE(f+d+4);if(l[p]=h,c.push({refName:p,length:b}),f=f+8+d,f>a.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(e,n*2,r)}return{chrToIndex:l,indexToChr:c}}async getRecordsForRange(e,n,r,i={viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5}){return ag(await FO(this.streamRecordsForRange(e,n,r,i)))}async*streamRecordsForRange(e,n,r,i={}){const{signal:o}=i,s=this.chrToIndex&&this.chrToIndex[e];let a;if(!(s>=0))a=[];else if(a=await this.index.blocksForRange(s,n-1,r,i),!a)throw new Error("Error in index fetch");for(let f=0;f<a.length;f+=1){await NE(o);const l=a[f].fetchedSize();if(l>this.chunkSizeLimit)throw new Error(`Too many BAM features. BAM chunk size ${l} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit}`)}const u=a.map(f=>f.fetchedSize()).reduce((f,l)=>f+l,0);if(u>this.fetchSizeLimit)throw new Error(`data size of ${u.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);yield*this._fetchChunkFeatures(a,s,n,r,i)}async*_fetchChunkFeatures(e,n,r,i,o){const{viewAsPairs:s=!1}=o,a=[];let u=!1;for(let f=0;f<e.length;f++){const l=e[f],c=await this.featureCache.get(l.toString(),{chunk:l,opts:o},o.signal),h=[];for(let d=0;d<c.length;d+=1){const p=c[d];if(p.seq_id()===n)if(p.get("start")>=i){u=!0;break}else p.get("end")>=r&&h.push(p)}if(a.push(h),yield h,u)break}ME(o.signal),s&&(yield this.fetchPairs(n,a,o))}async fetchPairs(e,n,r){const{pairAcrossChr:i=!1,maxInsertSize:o=2e5}=r,s={},a={};n.map(h=>{const d={};for(let p=0;p<h.length;p++){const b=h[p].name(),y=h[p].id();d[b]||(d[b]=0),d[b]++,a[y]=1}vO(d).forEach(([p,b])=>{b===1&&(s[p]=!0)})});const u=[];n.map(h=>{for(let d=0;d<h.length;d++){const p=h[d],b=p.name(),y=p.get("start"),w=p._next_pos(),E=p._next_refid();s[b]&&(i||E===e&&Math.abs(y-w)<o)&&u.push(this.index.blocksForRange(E,w,w+1,r))}});const f=ag(await Promise.all(u)).sort().filter((h,d,p)=>!d||h.toString()!==p[d-1].toString()),l=f.map(h=>h.fetchedSize()).reduce((h,d)=>h+d,0);if(l>this.fetchSizeLimit)throw new Error(`data size of ${l.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);const c=f.map(async h=>{const{data:d,cpositions:p,dpositions:b,chunk:y}=await this._readChunk({chunk:h,opts:r}),w=await this.readBamFeatures(d,p,b,y),E=[];for(let S=0;S<w.length;S+=1){const T=w[S];s[T.get("name")]&&!a[T.id()]&&E.push(T)}return E});return ag(await Promise.all(c))}async _readChunk({chunk:e,opts:n}){const r=e.fetchedSize(),{buffer:i,bytesRead:o}=await this.bam.read(Buffer.alloc(r),0,r,e.minv.blockPosition,n),{buffer:s,cpositions:a,dpositions:u}=await i2(i.subarray(0,Math.min(o,r)),e);return{data:s,cpositions:a,dpositions:u,chunk:e}}async readBamFeatures(e,n,r,i){let o=0;const s=[];let a=0,u=+Date.now();for(;o+4<e.length;){const f=e.readInt32LE(o),l=o+4+f-1;if(r){for(;o+i.minv.dataPosition>=r[a++];);a--}if(l<e.length){const c=new SO({bytes:{byteArray:e,start:o,end:l},fileOffset:n?n[a]*256+(o-r[a])+i.minv.dataPosition+1:yO.signed(e.slice(o,l))});s.push(c),this.yieldThreadTime&&+Date.now()-u>this.yieldThreadTime&&(await aO(1),u=+Date.now())}o=l+1}return s}async hasRefSeq(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.hasRefSeq(n)}async lineCount(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.lineCount(n)}async indexCov(e,n,r){await this.index.parse();const i=this.chrToIndex&&this.chrToIndex[e];return this.index.indexCov(i,n,r)}async blocksForRange(e,n,r,i){await this.index.parse();const o=this.chrToIndex&&this.chrToIndex[e];return this.index.blocksForRange(o,n,r,i)}}(function(){(function(t){(function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function r(C){return C&&DataView.prototype.isPrototypeOf(C)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(C){return C&&i.indexOf(Object.prototype.toString.call(C))>-1};function s(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function a(C){return typeof C!="string"&&(C=String(C)),C}function u(C){var P={next:function(){var M=C.shift();return{done:M===void 0,value:M}}};return n.iterable&&(P[Symbol.iterator]=function(){return P}),P}function f(C){this.map={},C instanceof f?C.forEach(function(P,M){this.append(M,P)},this):Array.isArray(C)?C.forEach(function(P){this.append(P[0],P[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(P){this.append(P,C[P])},this)}f.prototype.append=function(C,P){C=s(C),P=a(P);var M=this.map[C];this.map[C]=M?M+", "+P:P},f.prototype.delete=function(C){delete this.map[s(C)]},f.prototype.get=function(C){return C=s(C),this.has(C)?this.map[C]:null},f.prototype.has=function(C){return this.map.hasOwnProperty(s(C))},f.prototype.set=function(C,P){this.map[s(C)]=a(P)},f.prototype.forEach=function(C,P){for(var M in this.map)this.map.hasOwnProperty(M)&&C.call(P,this.map[M],M,this)},f.prototype.keys=function(){var C=[];return this.forEach(function(P,M){C.push(M)}),u(C)},f.prototype.values=function(){var C=[];return this.forEach(function(P){C.push(P)}),u(C)},f.prototype.entries=function(){var C=[];return this.forEach(function(P,M){C.push([M,P])}),u(C)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function l(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function c(C){return new Promise(function(P,M){C.onload=function(){P(C.result)},C.onerror=function(){M(C.error)}})}function h(C){var P=new FileReader,M=c(P);return P.readAsArrayBuffer(C),M}function d(C){var P=new FileReader,M=c(P);return P.readAsText(C),M}function p(C){for(var P=new Uint8Array(C),M=new Array(P.length),ee=0;ee<P.length;ee++)M[ee]=String.fromCharCode(P[ee]);return M.join("")}function b(C){if(C.slice)return C.slice(0);var P=new Uint8Array(C.byteLength);return P.set(new Uint8Array(C)),P.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:n.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:n.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():n.arrayBuffer&&n.blob&&r(C)?(this._bodyArrayBuffer=b(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||o(C))?this._bodyArrayBuffer=b(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var C=l(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var C=l(this);if(C)return C;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(C){var P=C.toUpperCase();return w.indexOf(P)>-1?P:C}function S(C,P){P=P||{};var M=P.body;if(C instanceof S){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,P.headers||(this.headers=new f(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!M&&C._bodyInit!=null&&(M=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new f(P.headers)),this.method=E(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(M)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function T(C){var P=new FormData;return C.trim().split("&").forEach(function(M){if(M){var ee=M.split("="),ne=ee.shift().replace(/\+/g," "),J=ee.join("=").replace(/\+/g," ");P.append(decodeURIComponent(ne),decodeURIComponent(J))}}),P}function D(C){var P=new f,M=C.replace(/\r?\n[\t ]+/g," ");return M.split(/\r?\n/).forEach(function(ee){var ne=ee.split(":"),J=ne.shift().trim();if(J){var me=ne.join(":").trim();P.append(J,me)}}),P}y.call(S.prototype);function B(C,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new f(P.headers),this.url=P.url||"",this._initBody(C)}y.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},B.error=function(){var C=new B(null,{status:0,statusText:""});return C.type="error",C};var I=[301,302,303,307,308];B.redirect=function(C,P){if(I.indexOf(P)===-1)throw new RangeError("Invalid status code");return new B(null,{status:P,headers:{location:C}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(P,M){this.message=P,this.name=M;var ee=Error(P);this.stack=ee.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function N(C,P){return new Promise(function(M,ee){var ne=new S(C,P);if(ne.signal&&ne.signal.aborted)return ee(new e.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function me(){J.abort()}J.onload=function(){var Ee={status:J.status,statusText:J.statusText,headers:D(J.getAllResponseHeaders()||"")};Ee.url="responseURL"in J?J.responseURL:Ee.headers.get("X-Request-URL");var De="response"in J?J.response:J.responseText;M(new B(De,Ee))},J.onerror=function(){ee(new TypeError("Network request failed"))},J.ontimeout=function(){ee(new TypeError("Network request failed"))},J.onabort=function(){ee(new e.DOMException("Aborted","AbortError"))},J.open(ne.method,ne.url,!0),ne.credentials==="include"?J.withCredentials=!0:ne.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&n.blob&&(J.responseType="blob"),ne.headers.forEach(function(Ee,De){J.setRequestHeader(De,Ee)}),ne.signal&&(ne.signal.addEventListener("abort",me),J.onreadystatechange=function(){J.readyState===4&&ne.signal.removeEventListener("abort",me)}),J.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return N.polyfill=!0,t.fetch||(t.fetch=N,t.Headers=f,t.Request=S,t.Response=B),e.Headers=f,e.Request=S,e.Response=B,e.fetch=N,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:Nn)})();class DO extends _f(oo){constructor(n,r){const i={channel:"x",windowSize:2e4,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");const o=s=>new rr(Sf(s,this.view.getBaseUrl()));this.bam=new IO({bamFilehandle:o(this.params.url),baiFilehandle:o(this.params.indexUrl??this.params.url+".bai")}),this.headerPromise=this.bam.getHeader(),this.headerPromise.then(s=>{var f,l;const a=this.genome.hasChrPrefix(),u=(l=(f=this.bam.indexToChr)==null?void 0:f[0])==null?void 0:l.refName.startsWith("chr");a&&!u?this.chrPrefixFixer=c=>c.replace("chr",""):!a&&u&&(this.chrPrefixFixer=c=>"chr"+c)})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;await this.headerPromise;const i=this.quantizeInterval(n,r);if(this.checkAndUpdateLastInterval(i)){const o=this.genome.continuousToDiscreteChromosomeIntervals(i),s=await Promise.all(o.map(a=>this.bam.getRecordsForRange(this.chrPrefixFixer(a.chrom),a.startPos,a.endPos).then(u=>u.map(f=>({chrom:a.chrom,start:f.get("start"),end:f.get("end"),name:f.get("name"),MD:f.get("MD"),cigar:f.get("cigar"),mapq:f.get("mq"),strand:f.get("strand")===1?"+":"-"})))));this.publishData(s.flat())}}}var fg={exports:{}},Gs=typeof Reflect=="object"?Reflect:null,HE=Gs&&typeof Gs.apply=="function"?Gs.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Ic;Gs&&typeof Gs.ownKeys=="function"?Ic=Gs.ownKeys:Object.getOwnPropertySymbols?Ic=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ic=function(e){return Object.getOwnPropertyNames(e)};function BO(t){console&&console.warn&&console.warn(t)}var qE=Number.isNaN||function(e){return e!==e};function Be(){Be.init.call(this)}fg.exports=Be,fg.exports.once=MO,Be.EventEmitter=Be,Be.prototype._events=void 0,Be.prototype._eventsCount=0,Be.prototype._maxListeners=void 0;var VE=10;function Dc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Be,"defaultMaxListeners",{enumerable:!0,get:function(){return VE},set:function(t){if(typeof t!="number"||t<0||qE(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");VE=t}}),Be.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function jE(t){return t._maxListeners===void 0?Be.defaultMaxListeners:t._maxListeners}Be.prototype.getMaxListeners=function(){return jE(this)},Be.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")HE(u,this,n);else for(var f=u.length,l=QE(u,f),r=0;r<f;++r)HE(l[r],this,n);return!0};function ZE(t,e,n,r){var i,o,s;if(Dc(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=jE(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,BO(a)}return t}Be.prototype.addListener=function(e,n){return ZE(this,e,n,!1)},Be.prototype.on=Be.prototype.addListener,Be.prototype.prependListener=function(e,n){return ZE(this,e,n,!0)};function kO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function WE(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=kO.bind(r);return i.listener=n,r.wrapFn=i,i}Be.prototype.once=function(e,n){return Dc(n),this.on(e,WE(this,e,n)),this},Be.prototype.prependOnceListener=function(e,n){return Dc(n),this.prependListener(e,WE(this,e,n)),this},Be.prototype.removeListener=function(e,n){var r,i,o,s,a;if(Dc(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():RO(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this},Be.prototype.off=Be.prototype.removeListener,Be.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function $E(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?PO(i):QE(i,i.length)}Be.prototype.listeners=function(e){return $E(this,e,!0)},Be.prototype.rawListeners=function(e){return $E(this,e,!1)},Be.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):YE.call(t,e)},Be.prototype.listenerCount=YE;function YE(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Be.prototype.eventNames=function(){return this._eventsCount>0?Ic(this._events):[]};function QE(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function RO(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function PO(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function MO(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}XE(t,e,o,{once:!0}),e!=="error"&&NO(t,i,{once:!0})})}function NO(t,e,n){typeof t.on=="function"&&XE(t,"error",e,n)}function XE(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ug=fg.exports,lg={exports:{}};typeof Object.create=="function"?lg.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:lg.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Hs=lg.exports,cg,KE;function JE(){return KE||(KE=1,cg=ug.EventEmitter),cg}const e_=i5(d5);var hg,t_;function LO(){if(t_)return hg;t_=1;function t(h,d){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),p.push.apply(p,b)}return p}function e(h){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?t(Object(p),!0).forEach(function(b){n(h,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(p,b))})}return h}function n(h,d,p){return d in h?Object.defineProperty(h,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[d]=p,h}function r(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function i(h,d){for(var p=0;p<d.length;p++){var b=d[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}function o(h,d,p){return d&&i(h.prototype,d),p&&i(h,p),h}var s=bt,a=s.Buffer,u=e_,f=u.inspect,l=f&&f.custom||"inspect";function c(h,d,p){a.prototype.copy.call(h,d,p)}return hg=function(){function h(){r(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,y=""+b.data;b=b.next;)y+=p+b.data;return y}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var b=a.allocUnsafe(p>>>0),y=this.head,w=0;y;)c(y.data,b,w),w+=y.data.length,y=y.next;return b}},{key:"consume",value:function(p,b){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?y=this.shift():y=b?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,y=1,w=b.data;for(p-=w.length;b=b.next;){var E=b.data,S=p>E.length?E.length:p;if(S===E.length?w+=E:w+=E.slice(0,p),p-=S,p===0){S===E.length?(++y,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(S));break}++y}return this.length-=y,w}},{key:"_getBuffer",value:function(p){var b=a.allocUnsafe(p),y=this.head,w=1;for(y.data.copy(b),p-=y.data.length;y=y.next;){var E=y.data,S=p>E.length?E.length:p;if(E.copy(b,b.length-p,0,S),p-=S,p===0){S===E.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(S));break}++w}return this.length-=w,b}},{key:l,value:function(p,b){return f(this,e({},b,{depth:0,customInspect:!1}))}}]),h}(),hg}var dg,n_;function r_(){if(n_)return dg;n_=1;function t(s,a){var u=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(a?a(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,s)):process.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(c){!a&&c?u._writableState?u._writableState.errorEmitted?process.nextTick(n,u):(u._writableState.errorEmitted=!0,process.nextTick(e,u,c)):process.nextTick(e,u,c):a?(process.nextTick(n,u),a(c)):process.nextTick(n,u)}),this)}function e(s,a){i(s,a),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,a){s.emit("error",a)}function o(s,a){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(a):s.emit("error",a)}return dg={destroy:t,undestroy:r,errorOrDestroy:o},dg}var pg={},i_;function qs(){if(i_)return pg;i_=1;function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var e={};function n(a,u,f){f||(f=Error);function l(h,d,p){return typeof u=="string"?u:u(h,d,p)}var c=function(h){t(d,h);function d(p,b,y){return h.call(this,l(p,b,y))||this}return d}(f);c.prototype.name=f.name,c.prototype.code=a,e[a]=c}function r(a,u){if(Array.isArray(a)){var f=a.length;return a=a.map(function(l){return String(l)}),f>2?"one of ".concat(u," ").concat(a.slice(0,f-1).join(", "),", or ")+a[f-1]:f===2?"one of ".concat(u," ").concat(a[0]," or ").concat(a[1]):"of ".concat(u," ").concat(a[0])}else return"of ".concat(u," ").concat(String(a))}function i(a,u,f){return a.substr(!f||f<0?0:+f,u.length)===u}function o(a,u,f){return(f===void 0||f>a.length)&&(f=a.length),a.substring(f-u.length,f)===u}function s(a,u,f){return typeof f!="number"&&(f=0),f+u.length>a.length?!1:a.indexOf(u,f)!==-1}return n("ERR_INVALID_OPT_VALUE",function(a,u){return'The value "'+u+'" is invalid for option "'+a+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(a,u,f){var l;typeof u=="string"&&i(u,"not ")?(l="must not be",u=u.replace(/^not /,"")):l="must be";var c;if(o(a," argument"))c="The ".concat(a," ").concat(l," ").concat(r(u,"type"));else{var h=s(a,".")?"property":"argument";c='The "'.concat(a,'" ').concat(h," ").concat(l," ").concat(r(u,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),pg.codes=e,pg}var gg,o_;function s_(){if(o_)return gg;o_=1;var t=qs().codes.ERR_INVALID_OPT_VALUE;function e(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function n(r,i,o,s){var a=e(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=s?o:"highWaterMark";throw new t(u,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return gg={getHighWaterMark:n},gg}var mg,a_;function OO(){if(a_)return mg;a_=1,mg=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return o}function e(n){try{if(!Nn.localStorage)return!1}catch{return!1}var r=Nn.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return mg}var bg,f_;function u_(){if(f_)return bg;f_=1,bg=N;function t(O){var L=this;this.next=null,this.entry=null,this.finish=function(){gr(L,O)}}var e;N.WritableState=B;var n={deprecate:OO()},r=JE(),i=bt.Buffer,o=Nn.Uint8Array||function(){};function s(O){return i.from(O)}function a(O){return i.isBuffer(O)||O instanceof o}var u=r_(),f=s_(),l=f.getHighWaterMark,c=qs().codes,h=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,w=c.ERR_STREAM_NULL_VALUES,E=c.ERR_STREAM_WRITE_AFTER_END,S=c.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;Hs(N,r);function D(){}function B(O,L,Z){e=e||Vs(),O=O||{},typeof Z!="boolean"&&(Z=L instanceof e),this.objectMode=!!O.objectMode,Z&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=l(this,O,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=O.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){Ee(L,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var L=this.bufferedRequest,Z=[];L;)Z.push(L),L=L.next;return Z},function(){try{Object.defineProperty(B.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(L){return I.call(this,L)?!0:this!==N?!1:L&&L._writableState instanceof B}})):I=function(L){return L instanceof this};function N(O){e=e||Vs();var L=this instanceof e;if(!L&&!I.call(N,this))return new N(O);this._writableState=new B(O,this,L),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),r.call(this)}N.prototype.pipe=function(){T(this,new b)};function C(O,L){var Z=new E;T(O,Z),process.nextTick(L,Z)}function P(O,L,Z,V){var Q;return Z===null?Q=new w:typeof Z!="string"&&!L.objectMode&&(Q=new h("chunk",["string","Buffer"],Z)),Q?(T(O,Q),process.nextTick(V,Q),!1):!0}N.prototype.write=function(O,L,Z){var V=this._writableState,Q=!1,_=!V.objectMode&&a(O);return _&&!i.isBuffer(O)&&(O=s(O)),typeof L=="function"&&(Z=L,L=null),_?L="buffer":L||(L=V.defaultEncoding),typeof Z!="function"&&(Z=D),V.ending?C(this,Z):(_||P(this,V,O,Z))&&(V.pendingcb++,Q=ee(this,V,_,O,L,Z)),Q},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&tt(this,O))},N.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new S(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(O,L,Z){return!O.objectMode&&O.decodeStrings!==!1&&typeof L=="string"&&(L=i.from(L,Z)),L}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ee(O,L,Z,V,Q,_){if(!Z){var v=M(L,V,Q);V!==v&&(Z=!0,Q="buffer",V=v)}var H=L.objectMode?1:V.length;L.length+=H;var j=L.length<L.highWaterMark;if(j||(L.needDrain=!0),L.writing||L.corked){var le=L.lastBufferedRequest;L.lastBufferedRequest={chunk:V,encoding:Q,isBuf:Z,callback:_,next:null},le?le.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else ne(O,L,!1,H,V,Q,_);return j}function ne(O,L,Z,V,Q,_,v){L.writelen=V,L.writecb=v,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new y("write")):Z?O._writev(Q,L.onwrite):O._write(Q,_,L.onwrite),L.sync=!1}function J(O,L,Z,V,Q){--L.pendingcb,Z?(process.nextTick(Q,V),process.nextTick(Wt,O,L),O._writableState.errorEmitted=!0,T(O,V)):(Q(V),O._writableState.errorEmitted=!0,T(O,V),Wt(O,L))}function me(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function Ee(O,L){var Z=O._writableState,V=Z.sync,Q=Z.writecb;if(typeof Q!="function")throw new p;if(me(Z),L)J(O,Z,V,L,Q);else{var _=pr(Z)||O.destroyed;!_&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&tt(O,Z),V?process.nextTick(De,O,Z,_,Q):De(O,Z,_,Q)}}function De(O,L,Z,V){Z||ot(O,L),L.pendingcb--,V(),Wt(O,L)}function ot(O,L){L.length===0&&L.needDrain&&(L.needDrain=!1,O.emit("drain"))}function tt(O,L){L.bufferProcessing=!0;var Z=L.bufferedRequest;if(O._writev&&Z&&Z.next){var V=L.bufferedRequestCount,Q=new Array(V),_=L.corkedRequestsFree;_.entry=Z;for(var v=0,H=!0;Z;)Q[v]=Z,Z.isBuf||(H=!1),Z=Z.next,v+=1;Q.allBuffers=H,ne(O,L,!0,L.length,Q,"",_.finish),L.pendingcb++,L.lastBufferedRequest=null,_.next?(L.corkedRequestsFree=_.next,_.next=null):L.corkedRequestsFree=new t(L),L.bufferedRequestCount=0}else{for(;Z;){var j=Z.chunk,le=Z.encoding,re=Z.callback,ce=L.objectMode?1:j.length;if(ne(O,L,!1,ce,j,le,re),Z=Z.next,L.bufferedRequestCount--,L.writing)break}Z===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=Z,L.bufferProcessing=!1}N.prototype._write=function(O,L,Z){Z(new d("_write()"))},N.prototype._writev=null,N.prototype.end=function(O,L,Z){var V=this._writableState;return typeof O=="function"?(Z=O,O=null,L=null):typeof L=="function"&&(Z=L,L=null),O!=null&&this.write(O,L),V.corked&&(V.corked=1,this.uncork()),V.ending||jn(this,V,Z),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function pr(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function Pe(O,L){O._final(function(Z){L.pendingcb--,Z&&T(O,Z),L.prefinished=!0,O.emit("prefinish"),Wt(O,L)})}function $e(O,L){!L.prefinished&&!L.finalCalled&&(typeof O._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,process.nextTick(Pe,O,L)):(L.prefinished=!0,O.emit("prefinish")))}function Wt(O,L){var Z=pr(L);if(Z&&($e(O,L),L.pendingcb===0&&(L.finished=!0,O.emit("finish"),L.autoDestroy))){var V=O._readableState;(!V||V.autoDestroy&&V.endEmitted)&&O.destroy()}return Z}function jn(O,L,Z){L.ending=!0,Wt(O,L),Z&&(L.finished?process.nextTick(Z):O.once("finish",Z)),L.ended=!0,O.writable=!1}function gr(O,L,Z){var V=O.entry;for(O.entry=null;V;){var Q=V.callback;L.pendingcb--,Q(Z),V=V.next}L.corkedRequestsFree.next=O}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),N.prototype.destroy=u.destroy,N.prototype._undestroy=u.undestroy,N.prototype._destroy=function(O,L){L(O)},bg}var yg,l_;function Vs(){if(l_)return yg;l_=1;var t=Object.keys||function(f){var l=[];for(var c in f)l.push(c);return l};yg=s;var e=m_(),n=u_();Hs(s,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(f){if(!(this instanceof s))return new s(f);e.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),yg}var wg={},xg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=bt,r=n.Buffer;function i(s,a){for(var u in s)a[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,u){return r(s,a,u)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,u)},o.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=r(s);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(xg,xg.exports);var zO=xg.exports,vg=zO.Buffer,c_=vg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function UO(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function GO(t){var e=UO(t);if(typeof e!="string"&&(vg.isEncoding===c_||!c_(t)))throw new Error("Unknown encoding: "+t);return e||t}var HO=wg.StringDecoder=Qf;function Qf(t){this.encoding=GO(t);var e;switch(this.encoding){case"utf16le":this.text=$O,this.end=YO,e=4;break;case"utf8":this.fillLast=jO,e=4;break;case"base64":this.text=QO,this.end=XO,e=3;break;default:this.write=KO,this.end=JO;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vg.allocUnsafe(e)}Qf.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},Qf.prototype.end=WO,Qf.prototype.text=ZO,Qf.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ag(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function qO(t,e,n){var r=e.length-1;if(r<n)return 0;var i=Ag(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=Ag(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=Ag(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function VO(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function jO(t){var e=this.lastTotal-this.lastNeed,n=VO(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ZO(t,e){var n=qO(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function WO(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function $O(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function YO(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function QO(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function XO(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function KO(t){return t.toString(this.encoding)}function JO(t){return t&&t.length?this.write(t):""}var Eg,h_;function _g(){if(h_)return Eg;h_=1;var t=qs().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];o.apply(this,u)}}}function n(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=e(a||n);var u=s.readable||s.readable!==!1&&o.readable,f=s.writable||s.writable!==!1&&o.writable,l=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){f=!1,c=!0,u||a.call(o)},d=o._readableState&&o._readableState.endEmitted,p=function(){u=!1,d=!0,f||a.call(o)},b=function(S){a.call(o,S)},y=function(){var S;if(u&&!d)return(!o._readableState||!o._readableState.ended)&&(S=new t),a.call(o,S);if(f&&!c)return(!o._writableState||!o._writableState.ended)&&(S=new t),a.call(o,S)},w=function(){o.req.on("finish",h)};return r(o)?(o.on("complete",h),o.on("abort",y),o.req?w():o.on("request",w)):f&&!o._writableState&&(o.on("end",l),o.on("close",l)),o.on("end",p),o.on("finish",h),s.error!==!1&&o.on("error",b),o.on("close",y),function(){o.removeListener("complete",h),o.removeListener("abort",y),o.removeListener("request",w),o.req&&o.req.removeListener("finish",h),o.removeListener("end",l),o.removeListener("close",l),o.removeListener("finish",h),o.removeListener("end",p),o.removeListener("error",b),o.removeListener("close",y)}}return Eg=i,Eg}var Sg,d_;function e7(){if(d_)return Sg;d_=1;var t;function e(w,E,S){return E in w?Object.defineProperty(w,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[E]=S,w}var n=_g(),r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function l(w,E){return{value:w,done:E}}function c(w){var E=w[r];if(E!==null){var S=w[f].read();S!==null&&(w[a]=null,w[r]=null,w[i]=null,E(l(S,!1)))}}function h(w){process.nextTick(c,w)}function d(w,E){return function(S,T){w.then(function(){if(E[s]){S(l(void 0,!0));return}E[u](S,T)},T)}}var p=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var E=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[s])return Promise.resolve(l(void 0,!0));if(this[f].destroyed)return new Promise(function(I,N){process.nextTick(function(){E[o]?N(E[o]):I(l(void 0,!0))})});var T=this[a],D;if(T)D=new Promise(d(T,this));else{var B=this[f].read();if(B!==null)return Promise.resolve(l(B,!1));D=new Promise(this[u])}return this[a]=D,D}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var E=this;return new Promise(function(S,T){E[f].destroy(null,function(D){if(D){T(D);return}S(l(void 0,!0))})})}),t),p),y=function(E){var S,T=Object.create(b,(S={},e(S,f,{value:E,writable:!0}),e(S,r,{value:null,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,s,{value:E._readableState.endEmitted,writable:!0}),e(S,u,{value:function(B,I){var N=T[f].read();N?(T[a]=null,T[r]=null,T[i]=null,B(l(N,!1))):(T[r]=B,T[i]=I)},writable:!0}),S));return T[a]=null,n(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=T[i];B!==null&&(T[a]=null,T[r]=null,T[i]=null,B(D)),T[o]=D;return}var I=T[r];I!==null&&(T[a]=null,T[r]=null,T[i]=null,I(l(void 0,!0))),T[s]=!0}),E.on("readable",h.bind(null,T)),T};return Sg=y,Sg}var Cg,p_;function t7(){return p_||(p_=1,Cg=function(){throw new Error("Readable.from is not available in the browser")}),Cg}var Tg,g_;function m_(){if(g_)return Tg;g_=1,Tg=C;var t;C.ReadableState=N,ug.EventEmitter;var e=function(v,H){return v.listeners(H).length},n=JE(),r=bt.Buffer,i=Nn.Uint8Array||function(){};function o(_){return r.from(_)}function s(_){return r.isBuffer(_)||_ instanceof i}var a=e_,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var f=LO(),l=r_(),c=s_(),h=c.getHighWaterMark,d=qs().codes,p=d.ERR_INVALID_ARG_TYPE,b=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,S,T;Hs(C,n);var D=l.errorOrDestroy,B=["error","close","destroy","pause","resume"];function I(_,v,H){if(typeof _.prependListener=="function")return _.prependListener(v,H);!_._events||!_._events[v]?_.on(v,H):Array.isArray(_._events[v])?_._events[v].unshift(H):_._events[v]=[H,_._events[v]]}function N(_,v,H){t=t||Vs(),_=_||{},typeof H!="boolean"&&(H=v instanceof t),this.objectMode=!!_.objectMode,H&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=h(this,_,"readableHighWaterMark",H),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(E||(E=wg.StringDecoder),this.decoder=new E(_.encoding),this.encoding=_.encoding)}function C(_){if(t=t||Vs(),!(this instanceof C))return new C(_);var v=this instanceof t;this._readableState=new N(_,this,v),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),n.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(_,v){v(_)},C.prototype.push=function(_,v){var H=this._readableState,j;return H.objectMode?j=!0:typeof _=="string"&&(v=v||H.defaultEncoding,v!==H.encoding&&(_=r.from(_,v),v=""),j=!0),P(this,_,v,!1,j)},C.prototype.unshift=function(_){return P(this,_,null,!0,!1)};function P(_,v,H,j,le){u("readableAddChunk",v);var re=_._readableState;if(v===null)re.reading=!1,Ee(_,re);else{var ce;if(le||(ce=ee(re,v)),ce)D(_,ce);else if(re.objectMode||v&&v.length>0)if(typeof v!="string"&&!re.objectMode&&Object.getPrototypeOf(v)!==r.prototype&&(v=o(v)),j)re.endEmitted?D(_,new w):M(_,re,v,!0);else if(re.ended)D(_,new b);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!H?(v=re.decoder.write(v),re.objectMode||v.length!==0?M(_,re,v,!1):tt(_,re)):M(_,re,v,!1)}else j||(re.reading=!1,tt(_,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function M(_,v,H,j){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,_.emit("data",H)):(v.length+=v.objectMode?1:H.length,j?v.buffer.unshift(H):v.buffer.push(H),v.needReadable&&De(_)),tt(_,v)}function ee(_,v){var H;return!s(v)&&typeof v!="string"&&v!==void 0&&!_.objectMode&&(H=new p("chunk",["string","Buffer","Uint8Array"],v)),H}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(_){E||(E=wg.StringDecoder);var v=new E(_);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,j="";H!==null;)j+=v.write(H.data),H=H.next;return this._readableState.buffer.clear(),j!==""&&this._readableState.buffer.push(j),this._readableState.length=j.length,this};var ne=1073741824;function J(_){return _>=ne?_=ne:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}function me(_,v){return _<=0||v.length===0&&v.ended?0:v.objectMode?1:_!==_?v.flowing&&v.length?v.buffer.head.data.length:v.length:(_>v.highWaterMark&&(v.highWaterMark=J(_)),_<=v.length?_:v.ended?v.length:(v.needReadable=!0,0))}C.prototype.read=function(_){u("read",_),_=parseInt(_,10);var v=this._readableState,H=_;if(_!==0&&(v.emittedReadable=!1),_===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return u("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?Z(this):De(this),null;if(_=me(_,v),_===0&&v.ended)return v.length===0&&Z(this),null;var j=v.needReadable;u("need readable",j),(v.length===0||v.length-_<v.highWaterMark)&&(j=!0,u("length less than watermark",j)),v.ended||v.reading?(j=!1,u("reading or ended",j)):j&&(u("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(_=me(H,v)));var le;return _>0?le=L(_,v):le=null,le===null?(v.needReadable=v.length<=v.highWaterMark,_=0):(v.length-=_,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),H!==_&&v.ended&&Z(this)),le!==null&&this.emit("data",le),le};function Ee(_,v){if(u("onEofChunk"),!v.ended){if(v.decoder){var H=v.decoder.end();H&&H.length&&(v.buffer.push(H),v.length+=v.objectMode?1:H.length)}v.ended=!0,v.sync?De(_):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,ot(_)))}}function De(_){var v=_._readableState;u("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(u("emitReadable",v.flowing),v.emittedReadable=!0,process.nextTick(ot,_))}function ot(_){var v=_._readableState;u("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(_.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,O(_)}function tt(_,v){v.readingMore||(v.readingMore=!0,process.nextTick(pr,_,v))}function pr(_,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var H=v.length;if(u("maybeReadMore read 0"),_.read(0),H===v.length)break}v.readingMore=!1}C.prototype._read=function(_){D(this,new y("_read()"))},C.prototype.pipe=function(_,v){var H=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=_;break;case 1:j.pipes=[j.pipes,_];break;default:j.pipes.push(_);break}j.pipesCount+=1,u("pipe count=%d opts=%j",j.pipesCount,v);var le=(!v||v.end!==!1)&&_!==process.stdout&&_!==process.stderr,re=le?$t:mr;j.endEmitted?process.nextTick(re):H.once("end",re),_.on("unpipe",ce);function ce(x,g){u("onunpipe"),x===H&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,Ci())}function $t(){u("onend"),_.end()}var _i=Pe(H);_.on("drain",_i);var Si=!1;function Ci(){u("cleanup"),_.removeListener("close",Ti),_.removeListener("finish",Yt),_.removeListener("drain",_i),_.removeListener("error",Or),_.removeListener("unpipe",ce),H.removeListener("end",$t),H.removeListener("end",mr),H.removeListener("data",Tt),Si=!0,j.awaitDrain&&(!_._writableState||_._writableState.needDrain)&&_i()}H.on("data",Tt);function Tt(x){u("ondata");var g=_.write(x);u("dest.write",g),g===!1&&((j.pipesCount===1&&j.pipes===_||j.pipesCount>1&&Q(j.pipes,_)!==-1)&&!Si&&(u("false write response, pause",j.awaitDrain),j.awaitDrain++),H.pause())}function Or(x){u("onerror",x),mr(),_.removeListener("error",Or),e(_,"error")===0&&D(_,x)}I(_,"error",Or);function Ti(){_.removeListener("finish",Yt),mr()}_.once("close",Ti);function Yt(){u("onfinish"),_.removeListener("close",Ti),mr()}_.once("finish",Yt);function mr(){u("unpipe"),H.unpipe(_)}return _.emit("pipe",H),j.flowing||(u("pipe resume"),H.resume()),_};function Pe(_){return function(){var H=_._readableState;u("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&e(_,"data")&&(H.flowing=!0,O(_))}}C.prototype.unpipe=function(_){var v=this._readableState,H={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return _&&_!==v.pipes?this:(_||(_=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,_&&_.emit("unpipe",this,H),this);if(!_){var j=v.pipes,le=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var re=0;re<le;re++)j[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=Q(v.pipes,_);return ce===-1?this:(v.pipes.splice(ce,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),_.emit("unpipe",this,H),this)},C.prototype.on=function(_,v){var H=n.prototype.on.call(this,_,v),j=this._readableState;return _==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):_==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,u("on readable",j.length,j.reading),j.length?De(this):j.reading||process.nextTick(Wt,this)),H},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(_,v){var H=n.prototype.removeListener.call(this,_,v);return _==="readable"&&process.nextTick($e,this),H},C.prototype.removeAllListeners=function(_){var v=n.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&process.nextTick($e,this),v};function $e(_){var v=_._readableState;v.readableListening=_.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:_.listenerCount("data")>0&&_.resume()}function Wt(_){u("readable nexttick read 0"),_.read(0)}C.prototype.resume=function(){var _=this._readableState;return _.flowing||(u("resume"),_.flowing=!_.readableListening,jn(this,_)),_.paused=!1,this};function jn(_,v){v.resumeScheduled||(v.resumeScheduled=!0,process.nextTick(gr,_,v))}function gr(_,v){u("resume",v.reading),v.reading||_.read(0),v.resumeScheduled=!1,_.emit("resume"),O(_),v.flowing&&!v.reading&&_.read(0)}C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(_){var v=_._readableState;for(u("flow",v.flowing);v.flowing&&_.read()!==null;);}C.prototype.wrap=function(_){var v=this,H=this._readableState,j=!1;_.on("end",function(){if(u("wrapped end"),H.decoder&&!H.ended){var ce=H.decoder.end();ce&&ce.length&&v.push(ce)}v.push(null)}),_.on("data",function(ce){if(u("wrapped data"),H.decoder&&(ce=H.decoder.write(ce)),!(H.objectMode&&ce==null)&&!(!H.objectMode&&(!ce||!ce.length))){var $t=v.push(ce);$t||(j=!0,_.pause())}});for(var le in _)this[le]===void 0&&typeof _[le]=="function"&&(this[le]=function($t){return function(){return _[$t].apply(_,arguments)}}(le));for(var re=0;re<B.length;re++)_.on(B[re],this.emit.bind(this,B[re]));return this._read=function(ce){u("wrapped _read",ce),j&&(j=!1,_.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=e7()),S(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(_,v){if(v.length===0)return null;var H;return v.objectMode?H=v.buffer.shift():!_||_>=v.length?(v.decoder?H=v.buffer.join(""):v.buffer.length===1?H=v.buffer.first():H=v.buffer.concat(v.length),v.buffer.clear()):H=v.buffer.consume(_,v.decoder),H}function Z(_){var v=_._readableState;u("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,process.nextTick(V,v,_))}function V(_,v){if(u("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,v.readable=!1,v.emit("end"),_.autoDestroy)){var H=v._writableState;(!H||H.autoDestroy&&H.finished)&&v.destroy()}}typeof Symbol=="function"&&(C.from=function(_,v){return T===void 0&&(T=t7()),T(C,_,v)});function Q(_,v){for(var H=0,j=_.length;H<j;H++)if(_[H]===v)return H;return-1}return Tg}var Fg,b_;function y_(){if(b_)return Fg;b_=1,Fg=a;var t=qs().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=Vs();Hs(a,o);function s(l,c){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),d(l);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);o.call(this,l),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function u(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){f(l,c,h)}):f(this,null,null)}a.prototype.push=function(l,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,l,c)},a.prototype._transform=function(l,c,h){h(new e("_transform()"))},a.prototype._write=function(l,c,h){var d=this._transformState;if(d.writecb=h,d.writechunk=l,d.writeencoding=c,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(l){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(l,c){o.prototype._destroy.call(this,l,function(h){c(h)})};function f(l,c,h){if(c)return l.emit("error",c);if(h!=null&&l.push(h),l._writableState.length)throw new i;if(l._transformState.transforming)throw new r;return l.push(null)}return Fg}var Ig,w_;function n7(){if(w_)return Ig;w_=1,Ig=e;var t=y_();Hs(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},Ig}var Dg,x_;function r7(){if(x_)return Dg;x_=1;var t;function e(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=qs().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function a(h,d,p,b){b=e(b);var y=!1;h.on("close",function(){y=!0}),t===void 0&&(t=_g()),t(h,{readable:d,writable:p},function(E){if(E)return b(E);y=!0,b()});var w=!1;return function(E){if(!y&&!w){if(w=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();b(E||new i("pipe"))}}}function u(h){h()}function f(h,d){return h.pipe(d)}function l(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var b=l(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var y,w=d.map(function(E,S){var T=S<d.length-1,D=S>0;return a(E,T,D,function(B){y||(y=B),B&&w.forEach(u),!T&&(w.forEach(u),b(y))})});return d.reduce(f)}return Dg=c,Dg}var v_=An,Bg=ug.EventEmitter,i7=Hs;i7(An,Bg),An.Readable=m_(),An.Writable=u_(),An.Duplex=Vs(),An.Transform=y_(),An.PassThrough=n7(),An.finished=_g(),An.pipeline=r7(),An.Stream=An;function An(){Bg.call(this)}An.prototype.pipe=function(t,e){var n=this;function r(l){t.writable&&t.write(l)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function u(l){if(f(),Bg.listenerCount(this,"error")===0)throw l}n.on("error",u),t.on("error",u);function f(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t};function Xf(t){return t.replace(/%([0-9A-Fa-f]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}function A_(t,e){return String(e).replace(t,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function Kf(t){return A_(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,t)}function kr(t){return A_(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,t)}function E_(t){if(!(t&&t.length)||t===".")return{};const e={};return t.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=e[r[0].trim()];i||(i=[],e[r[0]]=i),i.push(...r[1].split(",").map(o=>o.trim()).map(Xf))}),e}function __(t){const e=t.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:e[0]&&Xf(e[0]),source:e[1]&&Xf(e[1]),type:e[2]&&Xf(e[2]),start:e[3]===null?null:parseInt(e[3],10),end:e[4]===null?null:parseInt(e[4],10),score:e[5]===null?null:parseFloat(e[5]),strand:e[6],phase:e[7],attributes:e[8]===null?null:E_(e[8])}}function S_(t){const e=/^\s*##\s*(\S+)\s*(.*)/.exec(t);if(!e)return null;const[,n]=e;let[,,r]=e;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const o=r.split(/\s+/,3);return{...i,seq_id:o[0],start:o[1]&&o[1].replace(/\D/g,""),end:o[2]&&o[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[o,s]=r.split(/\s+/,2);return{...i,source:o,buildName:s}}return i}function C_(t){const e=[];return Object.entries(t).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=Kf(r.toString()):Array.isArray(r)?i=r.map(Kf).join(","):i=Kf(r),e.push(`${Kf(n)}=${i}`)}),e.length?e.join(";"):"."}function o7(t,e){const n=t.attributes===null||t.attributes===void 0?".":C_(t.attributes),i=`${[t.seq_id===null?".":kr(t.seq_id),t.source===null?".":kr(t.source),t.type===null?".":kr(t.type),t.start===null?".":kr(t.start),t.end===null?".":kr(t.end),t.score===null?".":kr(t.score),t.strand===null?".":kr(t.strand),t.phase===null?".":kr(t.phase),n].join("	")}
`;return e[i]?"":(e[i]=!0,i)}function Bc(t,e){if(Array.isArray(t))return t.map(r=>Bc(r,e)).join("");const n=[o7(t,e)];return s7(t)&&n.push(...t.child_features.map(r=>Bc(r,e)),...t.derived_features.map(r=>Bc(r,e))),n.join("")}function T_(t){return Bc(t,{})}function F_(t){let e=`##${t.directive}`;return t.value&&(e+=` ${t.value}`),e+=`
`,e}function I_(t){return`# ${t.comment}
`}function kg(t){return`>${t.id}${t.description?` ${t.description}`:""}
${t.sequence}
`}function kc(t){function e(n){return"attributes"in n?T_(n):"directive"in n?F_(n):"sequence"in n?kg(n):"comment"in n?I_(n):`# (invalid item found during format)
`}return Array.isArray(t)?t.map(e):e(t)}function s7(t){return t.child_features!==void 0&&t.derived_features!==void 0}const a7=Object.freeze(Object.defineProperty({__proto__:null,escape:Kf,escapeColumn:kr,formatAttributes:C_,formatComment:I_,formatDirective:F_,formatFeature:T_,formatItem:kc,formatSequence:kg,parseAttributes:E_,parseDirective:S_,parseFeature:__,unescape:Xf},Symbol.toStringTag,{value:"Module"})),D_={Parent:"child_features",Derives_from:"derived_features"};class B_{constructor(e){this.seqCallback=e,this.currentSequence=void 0}addLine(e){const n=/^>\s*(\S+)\s*(.*)/.exec(e);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(e)&&(this.currentSequence.sequence+=e.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class k_{constructor(e){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=e.featureCallback||n,this.endCallback=e.endCallback||n,this.commentCallback=e.commentCallback||n,this.errorCallback=e.errorCallback||n,this.directiveCallback=e.directiveCallback||n,this.sequenceCallback=e.sequenceCallback||n,this.disableDerivesFromReferences=e.disableDerivesFromReferences||!1,this.bufferSize=e.bufferSize===void 0?1e3:e.bufferSize}addLine(e){if(this.fastaParser){this.fastaParser.addLine(e);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(e)){this._bufferLine(e);return}const n=/^\s*(#+)(.*)/.exec(e);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const o=S_(e);o&&(o.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new B_(this.sequenceCallback)):this._emitItem(o))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(e))if(/^\s*>/.test(e))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new B_(this.sequenceCallback),this.fastaParser.addLine(e);else{const r=e.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(e){Array.isArray(e)?this.featureCallback(e):"directive"in e?this.directiveCallback(e):"comment"in e&&this.commentCallback(e)}_enforceBufferSizeLimit(e=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(o=>{delete this._underConstructionById[o],delete this._completedReferences[o]}),r.forEach(o=>{o.child_features&&o.child_features.forEach(s=>n(s)),o.derived_features&&o.derived_features.forEach(s=>n(s))}))};for(;this._underConstructionTopLevel.length+e>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(e){var n,r,i;const s={...__(e),child_features:[],derived_features:[]},a=((n=s.attributes)===null||n===void 0?void 0:n.ID)||[],u=((r=s.attributes)===null||r===void 0?void 0:r.Parent)||[],f=this.disableDerivesFromReferences?[]:((i=s.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!a.length&&!u.length&&!f.length){this._emitItem([s]);return}let l;a.forEach(c=>{const h=this._underConstructionById[c];h?(h[h.length-1].type!==s.type&&this._parseError(`multi-line feature "${c}" has inconsistent types: "${s.type}", "${h[h.length-1].type}"`),h.push(s),l=h):(l=[s],this._enforceBufferSizeLimit(1),!u.length&&!f.length&&this._underConstructionTopLevel.push(l),this._underConstructionById[c]=l,this._resolveReferencesTo(l,c))}),this._resolveReferencesFrom(l||[s],{Parent:u,Derives_from:f},a)}_resolveReferencesTo(e,n){const r=this._underConstructionOrphans[n];r&&(e.forEach(i=>{i.child_features.push(...r.Parent)}),e.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(e){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${e}`)}_resolveReferencesFrom(e,n,r){function i(o,s,a){let u=o[s];u||(u={},o[s]=u);const f=u[a]||!1;return u[a]=!0,f}n.Parent.forEach(o=>{const s=this._underConstructionById[o];if(s){const a=D_.Parent;r.filter(u=>i(this._completedReferences,u,`Parent,${o}`)).length||s.forEach(u=>{u[a].push(e)})}else{let a=this._underConstructionOrphans[o];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=a),a.Parent.push(e)}}),n.Derives_from.forEach(o=>{const s=this._underConstructionById[o];if(s){const a=D_.Derives_from;r.filter(u=>i(this._completedReferences,u,`Derives_from,${o}`)).length||s.forEach(u=>{u[a].push(e)})}else{let a=this._underConstructionOrphans[o];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=a),a.Derives_from.push(e)}})}}function Rg(t){process&&process.nextTick?process.nextTick(t):t()}function R_(t){const e={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...t};return t.parseAll&&(e.parseFeatures=!0,e.parseDirectives=!0,e.parseComments=!0,e.parseSequences=!0),e}class f7 extends v_.Transform{constructor(e={}){super({objectMode:!0}),this.textBuffer="";const n=R_(e);this.encoding=e.encoding||"utf8",this.decoder=new HO;const r=this.push.bind(this);this.parser=new k_({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(e){e&&this.parser.addLine(e)}_nextText(e){const n=(this.textBuffer+e).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(e,n,r){this._nextText(this.decoder.write(e)),Rg(r)}_flush(e){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),Rg(e)}}function u7(t={}){return new f7(t)}function l7(t,e={}){if(!t)return[];const n=R_(e),r=[],i=r.push.bind(r),o=new k_({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:s=>{throw s}});return t.split(/\r?\n/).forEach(o.addLine.bind(o)),o.finish(),r}function c7(t){const e=[],n=[];t.forEach(i=>{"sequence"in i?n.push(i):e.push(i)});let r=e.map(kc).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(kg).join("")),r}class P_ extends v_.Transform{constructor(e={}){super(Object.assign(e,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=e.minSyncLines||100,this.insertVersionDirective=e.insertVersionDirective||!1}_transform(e,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const o=Array.isArray(e)?e[0]:e;"directive"in o&&o.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in e&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(e)?i=e.map(kc).join(""):i=kc(e),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let o=0;for(let s=0;s<i.length;s+=1)i[s]===`
`&&(o+=1);this.linesSinceLastSyncMark+=o}this.haveWeEmittedData=!0,Rg(r)}}function h7(t={}){return new P_(t)}function d7(t,e,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,o)=>{t.pipe(new P_(r)).on("end",()=>i(null)).on("error",o).pipe(e)})}const p7={parseStream:u7,parseStringSync:l7,formatSync:c7,formatStream:h7,formatFile:d7,util:a7};function M_(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}class g7 extends Error{}function Fo(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new g7("aborted");throw e.code="ERR_ABORTED",e}}}function m7(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function N_(t,e){const n=[];let r=null;return t.length===0?t:(t.sort(function(i,o){const s=i.minv.blockPosition-o.minv.blockPosition;return s!==0?s:i.minv.dataPosition-o.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):m7(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}var b7=Oe,En=null;try{En=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Oe(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Oe.prototype.__isLong__,Object.defineProperty(Oe.prototype,"__isLong__",{value:!0});function jt(t){return(t&&t.__isLong__)===!0}Oe.isLong=jt;var L_={},O_={};function Io(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=O_[t],r)?r:(n=ze(t,(t|0)<0?-1:0,!0),i&&(O_[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=L_[t],r)?r:(n=ze(t,t<0?-1:0,!1),i&&(L_[t]=n),n))}Oe.fromInt=Io;function _n(t,e){if(isNaN(t))return e?Do:Sn;if(e){if(t<0)return Do;if(t>=U_)return j_}else{if(t<=-G_)return Zt;if(t+1>=G_)return V_}return t<0?_n(-t,e).neg():ze(t%js|0,t/js|0,e)}Oe.fromNumber=_n;function ze(t,e,n){return new Oe(t,e,n)}Oe.fromBits=ze;var Rc=Math.pow;function Pg(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Sn;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Pg(t.substring(1),e,n).neg();for(var i=_n(Rc(n,8)),o=Sn,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),n);if(a<8){var f=_n(Rc(n,a));o=o.mul(f).add(_n(u))}else o=o.mul(i),o=o.add(_n(u))}return o.unsigned=e,o}Oe.fromString=Pg;function Vn(t,e){return typeof t=="number"?_n(t,e):typeof t=="string"?Pg(t,e):ze(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Oe.fromValue=Vn;var z_=1<<16,y7=1<<24,js=z_*z_,U_=js*js,G_=U_/2,H_=Io(y7),Sn=Io(0);Oe.ZERO=Sn;var Do=Io(0,!0);Oe.UZERO=Do;var Zs=Io(1);Oe.ONE=Zs;var q_=Io(1,!0);Oe.UONE=q_;var Mg=Io(-1);Oe.NEG_ONE=Mg;var V_=ze(-1,2147483647,!1);Oe.MAX_VALUE=V_;var j_=ze(-1,-1,!0);Oe.MAX_UNSIGNED_VALUE=j_;var Zt=ze(0,-2147483648,!1);Oe.MIN_VALUE=Zt;var Y=Oe.prototype;Y.toInt=function(){return this.unsigned?this.low>>>0:this.low},Y.toNumber=function(){return this.unsigned?(this.high>>>0)*js+(this.low>>>0):this.high*js+(this.low>>>0)},Y.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Zt)){var n=_n(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=_n(Rc(e,6),this.unsigned),s=this,a="";;){var u=s.div(o),f=s.sub(u.mul(o)).toInt()>>>0,l=f.toString(e);if(s=u,s.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Y.getHighBits=function(){return this.high},Y.getHighBitsUnsigned=function(){return this.high>>>0},Y.getLowBits=function(){return this.low},Y.getLowBitsUnsigned=function(){return this.low>>>0},Y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Zt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},Y.isZero=function(){return this.high===0&&this.low===0},Y.eqz=Y.isZero,Y.isNegative=function(){return!this.unsigned&&this.high<0},Y.isPositive=function(){return this.unsigned||this.high>=0},Y.isOdd=function(){return(this.low&1)===1},Y.isEven=function(){return(this.low&1)===0},Y.equals=function(e){return jt(e)||(e=Vn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},Y.eq=Y.equals,Y.notEquals=function(e){return!this.eq(e)},Y.neq=Y.notEquals,Y.ne=Y.notEquals,Y.lessThan=function(e){return this.comp(e)<0},Y.lt=Y.lessThan,Y.lessThanOrEqual=function(e){return this.comp(e)<=0},Y.lte=Y.lessThanOrEqual,Y.le=Y.lessThanOrEqual,Y.greaterThan=function(e){return this.comp(e)>0},Y.gt=Y.greaterThan,Y.greaterThanOrEqual=function(e){return this.comp(e)>=0},Y.gte=Y.greaterThanOrEqual,Y.ge=Y.greaterThanOrEqual,Y.compare=function(e){if(jt(e)||(e=Vn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Y.comp=Y.compare,Y.negate=function(){return!this.unsigned&&this.eq(Zt)?Zt:this.not().add(Zs)},Y.neg=Y.negate,Y.add=function(e){jt(e)||(e=Vn(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=o+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+s,l&=65535,ze(h<<16|d,l<<16|c,this.unsigned)},Y.subtract=function(e){return jt(e)||(e=Vn(e)),this.add(e.neg())},Y.sub=Y.subtract,Y.multiply=function(e){if(this.isZero())return Sn;if(jt(e)||(e=Vn(e)),En){var n=En.mul(this.low,this.high,e.low,e.high);return ze(n,En.get_high(),this.unsigned)}if(e.isZero())return Sn;if(this.eq(Zt))return e.isOdd()?Zt:Sn;if(e.eq(Zt))return this.isOdd()?Zt:Sn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(H_)&&e.lt(H_))return _n(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=s*l,d+=p>>>16,p&=65535,d+=o*l,h+=d>>>16,d&=65535,d+=s*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=o*f,c+=h>>>16,h&=65535,h+=s*u,c+=h>>>16,h&=65535,c+=r*l+i*f+o*u+s*a,c&=65535,ze(d<<16|p,c<<16|h,this.unsigned)},Y.mul=Y.multiply,Y.divide=function(e){if(jt(e)||(e=Vn(e)),e.isZero())throw Error("division by zero");if(En){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?En.div_u:En.div_s)(this.low,this.high,e.low,e.high);return ze(n,En.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Do:Sn;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Do;if(e.gt(this.shru(1)))return q_;o=Do}else{if(this.eq(Zt)){if(e.eq(Zs)||e.eq(Mg))return Zt;if(e.eq(Zt))return Zs;var s=this.shr(1);return r=s.div(e).shl(1),r.eq(Sn)?e.isNegative()?Zs:Mg:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(Zt))return this.unsigned?Do:Sn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=Sn}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:Rc(2,a-48),f=_n(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=_n(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=Zs),o=o.add(f),i=i.sub(l)}return o},Y.div=Y.divide,Y.modulo=function(e){if(jt(e)||(e=Vn(e)),En){var n=(this.unsigned?En.rem_u:En.rem_s)(this.low,this.high,e.low,e.high);return ze(n,En.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},Y.mod=Y.modulo,Y.rem=Y.modulo,Y.not=function(){return ze(~this.low,~this.high,this.unsigned)},Y.and=function(e){return jt(e)||(e=Vn(e)),ze(this.low&e.low,this.high&e.high,this.unsigned)},Y.or=function(e){return jt(e)||(e=Vn(e)),ze(this.low|e.low,this.high|e.high,this.unsigned)},Y.xor=function(e){return jt(e)||(e=Vn(e)),ze(this.low^e.low,this.high^e.high,this.unsigned)},Y.shiftLeft=function(e){return jt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ze(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ze(0,this.low<<e-32,this.unsigned)},Y.shl=Y.shiftLeft,Y.shiftRight=function(e){return jt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ze(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ze(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Y.shr=Y.shiftRight,Y.shiftRightUnsigned=function(e){if(jt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return ze(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?ze(n,0,this.unsigned):ze(n>>>e-32,0,this.unsigned)},Y.shru=Y.shiftRightUnsigned,Y.shr_u=Y.shiftRightUnsigned,Y.toSigned=function(){return this.unsigned?ze(this.low,this.high,!1):this},Y.toUnsigned=function(){return this.unsigned?this:ze(this.low,this.high,!0)},Y.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Y.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},Y.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Oe.fromBytes=function(e,n,r){return r?Oe.fromBytesLE(e,n):Oe.fromBytesBE(e,n)},Oe.fromBytesLE=function(e,n){return new Oe(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Oe.fromBytesBE=function(e,n){return new Oe(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const Z_=so(b7);class Ng{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}}function Ws(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new Ng(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}class Pc{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+(1<<16)-this.minv.blockPosition}}class W_{constructor({filehandle:e,renameRefSeqs:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}async getMetadata(e={}){const{indices:n,...r}=await this.parse(e);return r}_findFirstData(e,n){return e?e.compareTo(n)>0?n:e:n}async parse(e={}){return this.parseP||(this.parseP=this._parse(e).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}}const w7=21578324,$_=14;function x7(t,e){return t+=1,e-=1,[[0,0],[1+(t>>26),1+(e>>26)],[9+(t>>23),9+(e>>23)],[73+(t>>20),73+(e>>20)],[585+(t>>17),585+(e>>17)],[4681+(t>>14),4681+(e>>14)]]}class Lg extends W_{async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:s}=r.indices[i];return s?s.lineCount:-1}async _parse(e={}){const n=await this.filehandle.readFile(e),r=await vs(n);if(Fo(e.signal),r.readUInt32LE(0)!==w7)throw new Error("Not a TBI file");const i=r.readInt32LE(4),o=r.readInt32LE(8),s=o&65536?"zero-based-half-open":"1-based-closed",u={0:"generic",1:"SAM",2:"VCF"}[o&15];if(!u)throw new Error(`invalid Tabix preset format flags ${o}`);const f={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},l=r.readInt32LE(24),c=5,h=((1<<(c+1)*3)-1)/7,d=2**(14+c*3),p=l?String.fromCharCode(l):null,b=r.readInt32LE(28),y=r.readInt32LE(32),{refNameToId:w,refIdToName:E}=this._parseNameBytes(r.slice(36,36+y));let S=36+y,T;return{indices:new Array(i).fill(0).map(()=>{const B=r.readInt32LE(S);S+=4;const I={};let N;for(let M=0;M<B;M+=1){const ee=r.readUInt32LE(S);if(S+=4,ee>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(ee===h+1){const ne=r.readInt32LE(S);S+=4,ne===2&&(N=this.parsePseudoBin(r,S)),S+=16*ne}else{const ne=r.readInt32LE(S);S+=4;const J=new Array(ne);for(let me=0;me<ne;me+=1){const Ee=Ws(r,S),De=Ws(r,S+8);S+=16,T=this._findFirstData(T,Ee),J[me]=new Pc(Ee,De,ee)}I[ee]=J}}const C=r.readInt32LE(S);S+=4;const P=new Array(C);for(let M=0;M<C;M+=1)P[M]=Ws(r,S),S+=8,T=this._findFirstData(T,P[M]);return{binIndex:I,linearIndex:P,stats:N}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:b,firstDataLine:T,columnNumbers:f,coordinateType:s,format:u,refIdToName:E,refNameToId:w,maxBlockSize:1<<16}}parsePseudoBin(e,n){return{lineCount:M_(Z_.fromBytesLE(e.slice(n+16,n+24),!0))}}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let s=0;s<e.length;s+=1)if(!e[s]){if(r<s){let a=e.toString("utf8",r,s);a=this.renameRefSeq(a),i[n]=a,o[a]=n}r=s+1,n+=1}return{refNameToId:o,refIdToName:i}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const s=o.refNameToId[e],a=o.indices[s];if(!a)return[];(a.linearIndex.length?a.linearIndex[n>>$_>=a.linearIndex.length?a.linearIndex.length-1:n>>$_]:new Ng(0,0))||console.warn("querying outside of possible tabix range");const f=x7(n,r),l=[];for(const[b,y]of f)for(let w=b;w<=y;w++)if(a.binIndex[w]){const E=a.binIndex[w];for(let S=0;S<E.length;++S)l.push(new Pc(E[S].minv,E[S].maxv,w))}const c=a.linearIndex.length;let h=null;const d=Math.min(n>>14,c-1),p=Math.min(r>>14,c-1);for(let b=d;b<=p;++b){const y=a.linearIndex[b];y&&(!h||y.compareTo(h)<0)&&(h=y)}return N_(l,h)}}const v7=21582659,A7=38359875;function E7(t,e){return t*2**e}function Y_(t,e){return Math.floor(t/2**e)}class Q_ extends W_{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:s}=r.indices[i];return s?s.lineCount:-1}async indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(e,n){const r=e.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const s={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},a=e.readInt32LE(n+16),u=a?String.fromCharCode(a):null,f=e.readInt32LE(n+20),l=e.readInt32LE(n+24),{refIdToName:c,refNameToId:h}=this._parseNameBytes(e.slice(n+28,n+28+l));return{refIdToName:c,refNameToId:h,skipLines:f,metaChar:u,columnNumbers:s,format:o,coordinateType:i}}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let s=0;s<e.length;s+=1)if(!e[s]){if(r<s){let a=e.toString("utf8",r,s);a=this.renameRefSeq(a),i[n]=a,o[a]=n}r=s+1,n+=1}return{refNameToId:o,refIdToName:i}}async _parse(e={}){const n=await vs(await this.filehandle.readFile(e));let r;if(n.readUInt32LE(0)===v7)r=1;else if(n.readUInt32LE(0)===A7)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),o=n.readInt32LE(12),s=o&&o>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},a=n.readInt32LE(16+o);let u,f=16+o+4;const l=new Array(a).fill(0).map(()=>{const c=n.readInt32LE(f);f+=4;const h={};let d;for(let p=0;p<c;p+=1){const b=n.readUInt32LE(f);if(b>this.maxBinNumber)d=this.parsePseudoBin(n,f+4),f+=4+8+4+16+16;else{const y=Ws(n,f+4);u=this._findFirstData(u,y);const w=n.readInt32LE(f+12);f+=16;const E=new Array(w);for(let S=0;S<w;S+=1){const T=Ws(n,f),D=Ws(n,f+8);f+=16,E[S]=new Pc(T,D,b)}h[b]=E}}return{binIndex:h,stats:d}});return{...s,csi:!0,refCount:a,maxBlockSize:1<<16,firstDataLine:u,csiVersion:r,indices:l,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(e,n){return{lineCount:M_(Z_.fromBytesLE(e.slice(n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const s=o.refNameToId[e],a=o.indices[s];if(!a)return[];const u=this.reg2bins(n,r),f=[];for(const[l,c]of u)for(let h=l;h<=c;h++)if(a.binIndex[h]){const d=a.binIndex[h];for(let p=0;p<d.length;++p)f.push(new Pc(d[p].minv,d[p].maxv,h))}return N_(f,new Ng(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const s=[];for(;r<=this.depth;o-=3,i+=E7(1,r*3),r+=1){const a=i+Y_(e,o),u=i+Y_(n,o);if(u-a+s.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);s.push([a,u])}return s}}const Og=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function _7(t){return new Promise(e=>setTimeout(e,t))}class S7{constructor({path:e,filehandle:n,tbiPath:r,tbiFilehandle:i,csiPath:o,csiFilehandle:s,yieldTime:a=500,chunkSizeLimit:u=5e7,renameRefSeqs:f=c=>c,chunkCacheSize:l=5*2**20}){if(n)this.filehandle=n;else if(e)this.filehandle=new Jt(e);else throw new TypeError("must provide either filehandle or path");if(i)this.index=new Lg({filehandle:i,renameRefSeqs:f});else if(s)this.index=new Q_({filehandle:s,renameRefSeqs:f});else if(r)this.index=new Lg({filehandle:new Jt(r),renameRefSeqs:f});else if(o)this.index=new Q_({filehandle:new Jt(o),renameRefSeqs:f});else if(e)this.index=new Lg({filehandle:new Jt(`${e}.tbi`),renameRefSeqs:f});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.chunkSizeLimit=u,this.renameRefSeq=f,this.yieldTime=a,this.chunkCache=new fc({cache:new lp({maxSize:Math.floor(l/(1<<16))}),fill:(c,h)=>this.readChunk(c,{signal:h})})}async getLines(e,n,r,i){let o,s={},a;if(typeof i>"u")throw new TypeError("line callback must be provided");if(typeof i=="function"?a=i:(s=i,a=i.lineCallback),e===void 0)throw new TypeError("must provide a reference sequence name");if(!a)throw new TypeError("line callback must be provided");const u=await this.index.getMetadata(s);if(Fo(o),n||(n=0),r||(r=u.maxRefLength),!(n<=r))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(n===r)return;const f=await this.index.blocksForRange(e,n,r,s);Fo(o);for(let c=0;c<f.length;c+=1){const h=f[c].fetchedSize();if(h>this.chunkSizeLimit)throw new Error(`Too much data. Chunk size ${h.toLocaleString()} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit.toLocaleString()}.`)}let l=Date.now();for(let c=0;c<f.length;c+=1){let h;const d=f[c],{buffer:p,cpositions:b,dpositions:y}=await this.chunkCache.get(d.toString(),d);Fo(o);let w=0,E=0;for(;w<p.length;){const S=p.indexOf(`
`,w);if(S===-1)break;const T=p.slice(w,S),D=(Og==null?void 0:Og.decode(T))||T.toString();if(y){for(;w+d.minv.dataPosition>=y[E++];);E--}const{startCoordinate:B,overlaps:I}=this.checkLine(u,e,n,r,D);if(h!==void 0&&B!==void 0&&h>B)throw new Error(`Lines not sorted by start coordinate (${h} > ${B}), this file is not usable with Tabix.`);if(h=B,I)a(D.trim(),b[E]*(1<<8)+(w-y[E])+d.minv.dataPosition+1);else if(B!==void 0&&B>=r)return;this.yieldTime&&l-Date.now()>this.yieldTime&&(l=Date.now(),Fo(o),await _7(1)),w=S+1}}}async getMetadata(e={}){return this.index.getMetadata(e)}async getHeaderBuffer(e={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(e);Fo(e.signal);const o=((n==null?void 0:n.blockPosition)||0)+i;let s=await this._readRegion(0,o,e);Fo(e.signal);try{s=await vs(s)}catch(a){throw console.error(a),new Error(`error decompressing block ${a.code} at 0 (length ${o}) ${a}`)}if(r){let a=-1;const u=`
`.charCodeAt(0),f=r.charCodeAt(0);for(let l=0;l<s.length&&!(l===a+1&&s[l]!==f);l+=1)s[l]===u&&(a=l);s=s.slice(0,a+1)}return s}async getHeader(e={}){return(await this.getHeaderBuffer(e)).toString("utf8")}async getReferenceSequenceNames(e={}){return(await this.getMetadata(e)).refIdToName}checkLine(e,n,r,i,o){const{columnNumbers:s,metaChar:a,coordinateType:u,format:f}=e;if(o.charAt(0)===a)return{overlaps:!1};let{ref:l,start:c,end:h}=s;l||(l=0),c||(c=0),h||(h=0),f==="VCF"&&(h=8);const d=Math.max(l,c,h);let p=1,b=0,y="",w=-1/0;for(let E=0;E<o.length+1;E+=1)if(o[E]==="	"||E===o.length){if(p===l){if(this.renameRefSeq(o.slice(b,E))!==n)return{overlaps:!1}}else if(p===c){if(w=parseInt(o.slice(b,E),10),u==="1-based-closed"&&(w-=1),w>=i)return{startCoordinate:w,overlaps:!1};if((h===0||h===c)&&w+1<=r)return{startCoordinate:w,overlaps:!1}}else if(f==="VCF"&&p===4)y=o.slice(b,E);else if(p===h){let S;if(f==="VCF"?S=this._getVcfEnd(w,y,o.slice(b,E)):S=parseInt(o.slice(b,E),10),S<=r)return{overlaps:!1}}if(b=E+1,p+=1,p>d)break}return{startCoordinate:w,overlaps:!0}}_getVcfEnd(e,n,r){let i=e+n.length;const o=r.indexOf("SVTYPE=TRA")!==-1;if(r[0]!=="."&&!o){let s=";";for(let a=0;a<r.length;a+=1){if(s===";"&&r.slice(a,a+4)==="END="){let u=r.indexOf(";",a);u===-1&&(u=r.length),i=parseInt(r.slice(a+4,u),10);break}s=r[a]}}else if(o)return e+1;return i}async lineCount(e,n={}){return this.index.lineCount(e,n)}async _readRegion(e,n,r={}){const i=Buffer.alloc(n),{bytesRead:o,buffer:s}=await this.filehandle.read(i,0,n,e,r);return s.slice(0,o)}async readChunk(e,n={}){const r=await this._readRegion(e.minv.blockPosition,e.fetchedSize(),n);try{return i2(r,e)}catch(i){throw new Error(`error decompressing c ${e.toString()} ${i}`)}}}class C7 extends _f(oo){constructor(n,r){const i={channel:"x",windowSize:3e6,debounceDomainChange:200,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"tbiIndex");if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");const o=s=>new rr(Sf(s,this.view.getBaseUrl()));this.tbiIndex=new S7({filehandle:o(this.params.url),tbiFilehandle:o(this.params.indexUrl??this.params.url+".tbi")}),this.params.debounceDomainChange>0&&(this.onDomainChanged=Cc(this.onDomainChanged.bind(this),this.params.debounceDomainChange,!1))}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){let r=++this.lastRequestId;const i=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(n),s=await Promise.all(o.map(async a=>{const u=[];return await this.tbiIndex.getLines(a.chrom,a.startPos,a.endPos,{lineCallback:f=>{u.push(f)},signal:i.signal}),this._parseFeatures(u)}));return{requestId:r,abort:()=>i.abort(),features:s.flat()}}_parseFeatures(n){return[]}}class T7 extends C7{_parseFeatures(e){return p7.parseStringSync(e.join(`
`),{parseSequences:!1})}}function F7(t,e){if(Tx(t))return new QR(t,e);if(XR(t))return new KR(t,e);if(JR(t))return new e5(t,e);if(I7(t))return L7(t.lazy,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function I7(t){return"lazy"in t}function D7(t){return(t==null?void 0:t.type)=="axisTicks"}function B7(t){return(t==null?void 0:t.type)=="axisGenome"}function k7(t){return(t==null?void 0:t.type)=="indexedFasta"}function R7(t){return(t==null?void 0:t.type)=="bigwig"}function P7(t){return(t==null?void 0:t.type)=="bigbed"}function M7(t){return(t==null?void 0:t.type)=="bam"}function N7(t){return(t==null?void 0:t.type)=="gff3"}function L7(t,e){if(D7(t))return new n5(t,e);if(B7(t))return new r5(t,e);if(k7(t))return new fM(t,e);if(R7(t))return new Q9(t,e);if(P7(t))return new iO(t,e);if(M7(t))return new DO(t,e);if(N7(t))return new T7(t,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function O7(t){const e=Object.keys(t).filter(r=>typeof r=="string"),n=new Function("source","return { "+e.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=e,n}class Mc extends nt{get behavior(){return tr}constructor(){super();const e=n=>{const r=O7(n);this.handle=i=>this._propagate(r(i)),this.handle(n)};this.handle=e,this.beginBatch=n=>{jw(n)&&(this.handle=e),super.beginBatch(n)}}}function z7(t){return"name"in t}class X_ extends af{constructor(n,r,i){super();be(this,fu,void 0);this.provider=i,this.params=n}get identifier(){return this.params.name}updateDynamicData(n){yr(this,fu,n),this.loadSynchronously()}loadSynchronously(){const n=ie(this,fu)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=Sx(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}fu=new WeakMap;class K_{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(e,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(e)}_relayObserverCallback(e,n){const r=this._observers.get(n);if(r)for(const i of r)i(e)}addDataSource(e,n){this._dataSourcesByHost.set(n,e)}findDataSourceByKey(e){return this._dataSourcesByHost.get(e)}findNamedDataSource(e){let n,r=[];for(const[i,o]of this._dataSourcesByHost.entries())if(o instanceof X_&&e==o.identifier){if(n&&n!==o)throw new Error(`Found multiple instances of named data: ${e}. Data flow optimization is broken (it's a bug).`);n=o,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(e,n){this._collectorsByHost.set(n,e),e.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(e){return this._collectorsByHost.get(e)}initialize(){for(const e of this.dataSources)e.visit(n=>n.initialize())}}function U7(t,e){const n=new Map,r=[];for(const i of t)n.set(i,{ref:i,children:[]});for(const i of n.values()){const o=n.get(e(i.ref));o?o.children.push(i):r.push(i)}return r}function J_(t,e,n){var i,o;const r=(i=e.preOrder)==null?void 0:i.call(e,t);if(r)return r;for(const s of n(t)){const a=J_(s,e,n);if(a==="stop")return a}return(o=e.postOrder)==null?void 0:o.call(e,t)}function G7(t,e){return J_(t,e,n=>n.children)}function H7(t,e){const n=[];let r;const i=e??new K_,o=[];function s(c,h=()=>{}){if(!r)throw h()||new Error("Cannot append data flow node, no parent exist!");return r.addChild(c),r=c,c}function a(c,h){return s(c,()=>new Error(`Cannot append a transform because no (inherited) data are available! ${h?JSON.stringify(h):""}`))}function u(c,h){for(const d of c){let p;try{p=ZR(d,h)}catch(b){throw console.warn(b),new Error(`Cannot initialize "${d.type}" transform: ${b}`)}p.behavior&ai&&a(new Mc),a(p)}}const f=c=>{if(n.push(r),c.spec.data){const h=z7(c.spec.data)?new X_(c.spec.data,c,c.context.getNamedDataFromProvider):F7(c.spec.data,c);r=h,i.addDataSource(h,c)}if(c.spec.transform&&u(c.spec.transform,c),c instanceof Dt){if(!r)throw new Error(`A unit view (${c.getPathString()}) has no (inherited) data source`);const h=q7(c);if(h){o.push(h.rewrite);for(const p of h.transforms)a(p)}c.mark.isPickingParticipant()&&(a(new Mc),a(new Ex({type:"identifier"})));const d=new yx({type:"collect",groupby:c.getFacetFields(),sort:V7(c,h==null?void 0:h.rewrittenEncoding)});s(d),i.addCollector(d,c)}},l=U7(t.getDescendants(),c=>c.dataParent);for(const c of l)G7(c,{preOrder:h=>f(h.ref),postOrder:()=>{r=n.pop()}});return o.forEach(c=>c()),i}function q7(t){var o;const e=[],n={},r=[];for(const[s,a]of Object.entries(t.getEncoding())){const u=s;ja(u)&&ly(a)&&r.push({channel:u,chromPosDef:a})}const i=Eu(r,s=>Xi(s.channel),s=>s.chromPosDef.chrom);for(const[s,a]of i.entries())for(const[u,f]of a.entries()){const l=[],c=[],h=[];for(const{channel:d,chromPosDef:p}of f){const b=E=>E.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",b(p.chrom),"_",b(p.pos)].join(""),w={...((o=t.spec.encoding)==null?void 0:o[d])??t.getEncoding()[d]??{},field:y};delete w.chrom,delete w.pos,!w.type&&p.type&&(w.type=p.type),n[d]=w,l.push(p.pos),h.push(p.offset??0),c.push(y)}e.push(new Mc),e.push(new wx({type:"linearizeGenomicCoordinate",channel:s,chrom:u,pos:l,offset:h,as:c},t))}return e.length?{transforms:e,rewrittenEncoding:n,rewrite:()=>{t.spec.encoding={...t.spec.encoding,...n},Ow(t.mark,"encoding")}}:void 0}function V7(t,e){var r;const n={...t.getEncoding(),...e}.x;if(fn(n)&&(r=t.getScaleResolution("x"))!=null&&r.isZoomable()){if(qa(n))return{field:n.field};if(!Va(n))throw new Error("A zoomable x channel must be mapped to a field.")}}function e3(t,e=void 0){if(t.parent!==e)return!1;for(const n of t.children)if(!e3(n,t))return!1;return!0}function zg(t,e=!1){if(t.behavior&g0&&(e=!0),t instanceof Mc)if(e)e=!1;else{const n=t.children[0];t.excise(),n&&zg(n,e);return}t.behavior&tr&&(e=!1);for(let n=0,r=t.children.length;n<r;n++)zg(t.children[n],e||r>1)}function j7(t){const e=[...t._dataSourcesByHost.entries()],n=new Map;for(const r of e){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}t._dataSourcesByHost.clear();for(let[r,i]of e){const o=n.get(i.identifier);o&&(o.adoptChildrenOf(i),i=o),t.addDataSource(i,r)}}function Z7(t){if(zg(t),!e3(t))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function W7(t){for(const e of t.dataSources)Z7(e);j7(t)}function $7(t){t.visit(n=>{n instanceof Dt&&n.resolve("scale")});const e=new Set;t.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&e.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);e.add(i)}}),t.visit(n=>{n instanceof Dt&&n.resolve("axis")}),t.visit(n=>n.onScalesResolved())}function Y7(t){for(const e of Xo){const n=t.getScaleResolution(e);n&&!n.name&&n.isZoomable()&&(n.name=`${e}_at_root`)}}async function Q7(t,e,n){var s;if(!t.import.url)throw new Error("Cannot import, not an import spec: "+JSON.stringify(t));const r=Nu({baseURL:e}),i=t.import.url,o=JSON.parse(await r.load(i).catch(a=>{throw new Error(`Could not load imported view spec: ${i} 
Reason: ${a.message}`)}));if(n.isViewSpec(o))return o.baseUrl=(s=i.match(/^[^?#]*\//))==null?void 0:s[0],o;throw new Error(`The imported spec "${i}" is not a view spec: ${JSON.stringify(t)}`)}async function t3(t){const e=[];t.visit(n=>{if(n instanceof bx)return e.push(n),Yw});for(const n of e){const r=n.context,i=await Q7(n.spec,n.getBaseUrl(),r),o=r.createView(i,n.layoutParent,n.dataParent,n.name);n.layoutParent.replaceChild(n,o),await t3(o)}}function X7(t){const e=t.getSize().addPadding(t.getOverhang()),n=r=>r.grow>0?void 0:r.px;return{width:n(e.width),height:n(e.height)}}function Rr(t){return()=>t}const Nr=class{static create(e,n,r,i){return new Nr(Rr(e),Rr(n),Rr(r),Rr(i))}_offset(e,n){const r=this["_"+e];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(e){return this._offset(e,0)}constructor(e,n,r,i){this._x=e,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(e){return e?this===e||this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height:!1}modify(e){if(!Object.keys(e).length)return this;const n=r=>{const i=e[r];return typeof i=="number"?Rr(i):typeof i=="function"?i:this._passThrough(r)};return new Nr(n("x"),n("y"),n("width"),n("height"))}translate(e,n){return e===0&&n===0?this:new Nr(this._offset("x",e),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(e){return this.translate(e.x,e.y)}expand(e,n=1){return e.left==0&&e.top==0&&e.right==0&&e.bottom==0?this:new Nr(e.left?this._offset("x",-e.left*n):this._passThrough("x"),e.top?this._offset("y",-e.top*n):this._passThrough("y"),e.width?this._offset("width",e.width*n):this._passThrough("width"),e.height?this._offset("height",e.height*n):this._passThrough("height"))}shrink(e){return this.expand(e,-1)}intersect(e){return this===e?this:new Nr(()=>Math.max(this.x,e.x),()=>Math.max(this.y,e.y),()=>Math.min(this.x2,e.x2)-Math.max(this.x,e.x),()=>Math.min(this.y2,e.y2)-Math.max(this.y,e.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new Nr(Rr(this.x),Rr(this.y),Rr(this.width),Rr(this.height))}containsPoint(e,n){return e>=this.x&&e<this.x2&&n>=this.y&&n<this.y2}normalizePoint(e,n){return{x:(e-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};let $s=Nr;on($s,"ZERO",Nr.create(0,0,0,0));class n3{constructor(e){this.globalOptions=e}pushView(e,n){}popView(e){}renderMark(e,n){}}class r3 extends n3{constructor(e,n){super(e),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(e,n){this.views.add(e),this.coords=n}renderMark(e,n){if(this.globalOptions.picking&&!e.isPickingParticipant())return;const r=e.render(n);r&&this.buffer.push({mark:e,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const e=this.webGLHelper.gl,n=this.globalOptions.picking;e.bindFramebuffer(e.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&e.bindFramebuffer(e.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let e=!0,n=!0;const r=s=>()=>{e&&s()},i=s=>()=>{e&&n&&s()},o=Eu(this.buffer.reverse(),s=>s.mark);for(const[s,a]of[...o.entries()].reverse()){if(!s.isReady())continue;this.batch.push(()=>{e=s.unitView.getEffectiveOpacity()>0}),this.batch.push(...s.prepareRender(this.globalOptions).map(f=>r(f)));let u;for(const f of a){const l=f.coords;l.equals(u)||this.batch.push(r(()=>{n=s.setViewport(l,f.clipRect)})),this.batch.push(i(f.callback)),u=f.coords}}}}class K7 extends n3{constructor(...e){super({}),this.contexts=e}pushView(e,n){for(const r of this.contexts)r.pushView(e,n)}popView(e){for(const n of this.contexts)n.popView(e)}renderMark(e,n){for(const r of this.contexts)r.renderMark(e,n)}}class J7{constructor(e,n){this.point=e,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class ez{constructor(e,n){this.x=e,this.y=n}equals(e){return e?e===this||e.x===this.x&&e.y===this.y:!1}}const tz=t=>new Promise(e=>setTimeout(e,t));function nz(t){const e=t.requestAnimationFrame||window.requestAnimationFrame,n=t.signal,r=()=>new Promise((i,o)=>{if(n!=null&&n.aborted)return o("aborted");const s=performance.now(),a=s+(t.duration||1e3),u=typeof t.from=="number"?t.from:0,f=typeof t.to=="number"?t.to:1,l=t.easingFunction||(b=>b),c=b=>(b-s)/(a-s),h=b=>b*(f-u)+u,d=b=>Math.max(0,Math.min(1,b)),p=b=>{n!=null&&n.aborted?o("aborted"):(t.onUpdate(h(l(d(c(b))))),b<a?e(p):(t.onUpdate(h(l(1))),i()))};e(p)});return t.delay?n!=null&&n.aborted?Promise.reject("aborted"):tz(t.delay).then(r):r()}class rz{constructor(e){this._renderCallback=e,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(e){this.cancelTransition(e),this.transitions.push(e),this.requestRender()}cancelTransition(e){const n=this.transitions.indexOf(e);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(e=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(e);this._renderCallback(e)}))}transition(e){return nz({requestAnimationFrame:n=>this.requestTransition(n),...e})}}class iz{constructor(e){this.genomes=new Map,this.baseUrl=e}async initialize(e){const n=new uR(e);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(e){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(e){const n=this.genomes.get(e);if(!n)throw new Error(`No genome with the name ${e} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const oz="data:image/png;base64,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",sz={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class az{constructor(e){this._webGLHelper=e,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new Pi([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:h0(xx),texture:e?this._createTextureNow(oz):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(e,n="normal",r="regular"){if(Ke(r)&&(r=sz[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:e,style:n,weight:r};let o=this._fonts.get(i);return o||(o={metrics:void 0,texture:void 0},this._fonts.set(i,o),this._promises.push(this._loadFontEntry(o,i))),o}async _loadFontEntry(e,n){try{const r=await this._loadMetadata(n.family),i=uz(r,n),o=this.fontRepository+i3(n.family)+"/"+i.replace(/\.\w+/,""),s=this._createTexture(o+".png"),a=this._loadFont(o+".json");e.texture=await s,e.metrics=await a}catch(r){console.log("Cannot load font. Using default.",r),e.metrics=this._defaultFontEntry.metrics,e.texture=this._defaultFontEntry.texture}}_loadFont(e){let n=this._fontPromises.get(e);return n||(n=fetch(e).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>h0(r)),this._fontPromises.set(e,n)),n}_loadMetadata(e){const n=i3(e);let r=this._metadataPromises.get(n);return r||(r=fetch(this.fontRepository+n+"/METADATA.pb").then(i=>{if(!i.ok)throw new Error("Could not load font metadata: "+i.status);return i}).then(i=>i.text()).then(i=>fz(i)).catch(i=>{console.warn(i)}),this._metadataPromises.set(n,r)),r}getDefaultFont(){return this._defaultFontEntry}_createTexture(e){const n=this._webGLHelper.gl;return new Promise((r,i)=>{Ka(n,{src:e,min:n.LINEAR},(o,s,a)=>{o?i(o):r(s)})})}_createTextureNow(e){const n=this._webGLHelper.gl;let r;const i=new Promise((o,s)=>{r=Ka(n,{src:e,min:n.LINEAR},(a,u,f)=>{a?s(a):o(u)})});return this._promises.push(i),r}}function i3(t){return t.toLowerCase().replaceAll(/[^\w]/g,"")}function fz(t){const e=t.split(`
`),n=[];let r;for(const i of e)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let o=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(o){const s=o[1];r[s]=o[2]}if(o=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),o){const s=o[1];r[s]=+o[2]}}return n}function uz(t,e){let n,r=Number.POSITIVE_INFINITY;for(const i of t)if(e.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&e.style==i.style){const o=Math.abs(e.weight-i.weight);o<r&&(r=o,n=i)}return n==null?void 0:n.filename}function lz(t,e){const n=[];let r;for(const i of t.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class cz{constructor(e,n){this.animator=e,this.disabled=!!n,this.damping=.015,this.acceleration=.3,this.accelerationThreshold=100,this.lowerLimit=.5,this.loop=!1,this.momentum=0,this.timestamp=0,this.callback=null,this._transitionCallback=this.animate.bind(this),this.clear()}clear(){this.momentum=0,this.timestamp=null,this.loop=null,this.callback=null}cancel(){this.loop&&(this.animator.cancelTransition(this._transitionCallback),this.clear())}setMomentum(e,n){if(this.disabled){n(e);return}e*this.momentum<0?this.momentum=0:Math.abs(e)>this.accelerationThreshold?this.momentum=xS([this.momentum,e],this.acceleration):this.momentum=e,this.callback=n,this.loop||this.animate()}animate(e){this.callback(this.momentum);const n=e-this.timestamp||0;this.timestamp=e;const r=Math.abs(this.momentum);this.momentum=Math.sign(this.momentum)*Math.max(0,r-((r*this.damping)**1.5+.04)*n),Math.abs(this.momentum)>this.lowerLimit?(this.loop=!0,this.animator.requestTransition(this._transitionCallback)):this.clear()}}function hz(t){const e={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in t){const o=i;!r.includes(i)&&n.includes(typeof t[o])&&(e[o]=t[o])}return e}const o3=new Map;async function dz(t,e,n){const r=t.symbol;let i=o3.get(r)??await mz(t.symbol);return i?(o3.set(r,i),In`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function pz(t){console.log("Searching: "+t);const e={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${t}[GENE]&sort=relevance&retmode=json`,e).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,e).then(s=>s.json())).result[r]:null}const gz=Cc(pz,500);function mz(t){return gz(t)}const bz=gt(".4~r"),yz=gt(".4~e");function s3(t){return t==null?In` <span class="na">NA</span> `:Ke(t)?t.substring(0,30):Number.isInteger(t)?""+t:Mt(t)?Math.abs(t)>Math.pow(10,8)||Math.abs(t)<Math.pow(10,-8)?yz(t):bz(t):yu(t)?t?"True":"False":Qt(t)?In`${t.map((e,n)=>[s3(e),n<t.length-1?", ":et])}`:"?"+typeof t+" "+t}async function wz(t,e,n){const r=(u,f)=>{var l;for(const[c,h]of Object.entries(e.encoders))if((l=h==null?void 0:h.accessor)!=null&&l.fields.includes(u))switch(c){case"color":case"fill":case"stroke":return In`
                            <span
                                class="color-legend"
                                style=${`background-color: ${h(f)}`}
                            ></span>
                        `}return""},i=Object.entries(t).filter(([u,f])=>!u.startsWith("_"));if(i.length===0)return;const o=In`
        <table class="attributes">
            ${i.map(([u,f])=>In`
                    <tr>
                        <th>${u}</th>
                        <td>${s3(f)} ${r(u,t)}</td>
                    </tr>
                `)}
        </table>
    `,s=e.unitView.getTitleText(),a=s?In`
              <div class="title">
                  <strong>${s}</strong>
              </div>
          `:"";return In`${a}${o}`}class Jf extends us{constructor(e,n,r,i,o){super(e,n,r,i,o),this.spec=e,this.children=(e.layer||[]).map((s,a)=>{if(b3(s)||m3(s))return n.createView(s,this,this,"layer"+a);throw new Error("LayerView accepts only unit or layer specs as children!")}),this.needsAxes={x:!0,y:!0}}*[Symbol.iterator](){for(const e of this.children)yield e}render(e,n,r={}){if(this.isConfiguredVisible()){e.pushView(this,n);for(const i of this.children)i.render(e,n,r);e.popView(this)}}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0);for(let n=this.children.length-1;n>=0;n--)if(this.children[n].propagateInteractionEvent(e),e.stopped)return;this.handleInteractionEvent(void 0,e,!1)}}class a3{constructor(e,n){this.n=e,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const o=[];e.push(o);for(let s=0;s<n;s++){const a=i*n+s;a<this.n&&o.push(a)}}return e}get colIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const o=[];e.push(o);for(let s=0;s<r;s++){const a=s*n+i;a<this.n&&o.push(a)}}return e}getCellIndex(e,n){let r=0;if(this.maxCols==1/0)r=n==0?e:void 0;else{if(e>=this.maxCols)return;r=n*this.nCols+e}return r<this.n?r:void 0}getCellCoords(e){if(!(e<0||e>=this.n))return[e%this.nCols,Math.floor(e/this.nCols)]}}const xz="chromosome_ticks_and_labels",vz={x:"width",y:"height"};function Ug(t){return t=="x"?"y":"x"}const Nc={x:["bottom","top"],y:["left","right"]},Gg=Object.fromEntries(Object.entries(Nc).map(([t,e])=>e.map(n=>[n,t])).flat(1));function Ei(t){return Gg[t]}class f3 extends Jf{constructor(e,n,r,i,o){const s=n=="locus",a={...s?Ez:u3,...Az(n,e),...e};super(s?_z(a,n):l3(a,n),r,i,o,`axis_${e.orient}`),this.axisProps=a,this.blockEncodingInheritance=!0,this.contributesToScaleDomain=!1}getSize(){const e={px:this.getPerpendicularSize()},n={grow:1};return Gg[this.axisProps.orient]=="x"?new io(n,e):new io(e,n)}getPerpendicularSize(){return Hg(this.axisProps)}isPickingSupported(){return!1}}function Hg(t){const e=Ei(t.orient);let n=t.ticks&&t.tickSize||0;return t.labels&&(n+=t.labelPadding,e=="x"?n+=t.labelFontSize:n+=30),t.title&&(n+=t.titlePadding+t.titleFontSize),n=Math.min(t.maxExtent||1/0,Math.max(t.minExtent||0,n)),n}const u3={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function Az(t,e){const n=e.orient,r=t=="nominal"||t=="ordinal";let i="center",o="middle",s=e.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(s)>30?(i=s>0==(n=="bottom")?"left":"right",o="middle"):o=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:s,labelBaseline:o}}function l3(t,e){const n={...t,extent:Hg(t)},r=Ei(n.orient),i=Ug(r),o=n.orient=="bottom"||n.orient=="right"?1:-1,s=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"domain",data:{values:[0]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:s,size:n.domainWidth}}),u=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*o,[i]:s,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:e},text:{field:"label"}}}),f=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:s},[i+"2"]:{value:s-n.tickSize/n.extent*(s?1:-1)}}}),l=()=>({name:"title",data:{values:[0]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-s}}),c=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:e}},layer:[]};return n.ticks&&d.layer.push(f()),n.labels&&d.layer.push(u()),d},h={resolve:{scale:{[r]:"forced"}},[vz[Ug(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:t}},layer:[]};return n.domain&&h.layer.push(a()),(n.ticks||n.labels)&&h.layer.push(c()),n.title&&h.layer.push(l()),h}const Ez={...u3,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function _z(t,e){const n={...t,extent:Hg(t)},r=Ei(n.orient),i=Ug(r),o=n.orient=="bottom"||n.orient=="left"?1:0,s=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:t.chromTickDash,strokeDashOffset:t.chromTickDashOffset,[i]:o,[i+"2"]:o-n.chromTickSize/n.extent*(o?1:-1),color:t.chromTickColor,size:n.chromTickWidth}}),a=()=>{let l;switch(n.orient){case"top":l={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":l={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":l={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":l={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:l={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:t.chromLabelAlign,baseline:"alphabetic",clip:!1,...l},encoding:{[r+"2"]:{field:"continuousEnd",type:e},text:{field:"name"}}}};let u;switch(n.orient){case"bottom":case"top":u={};break;case"left":u={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":u={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:u={}}const f=l3({...t,...u},e);if(t.chromTicks||t.chromLabels){const l={name:xz,data:{lazy:{type:"axisGenome",channel:Ei(n.orient)}},encoding:{[r]:{field:"continuousStart",type:e,band:0}},layer:[]};if(t.chromTicks&&l.layer.push(s()),t.chromLabels){l.layer.push(a());let c;f.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{c=d.mark})),c&&(n.orient=="top"||n.orient=="bottom"?(c.viewportEdgeFadeWidthLeft=30,c.viewportEdgeFadeDistanceLeft=40):(c.viewportEdgeFadeWidthBottom=30,c.viewportEdgeFadeDistanceBottom=40))}f.layer.push(l)}return f}class Sz extends Jf{constructor(e,n,r,i,o){const a={...n=="locus"?Cz:c3,...e};super(Dz(a,n),r,i,o,`axisGrid_${e.orient}`),this.axisProps=a,this.blockEncodingInheritance=!0,this.contributesToScaleDomain=!1}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const c3={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},Cz={...c3,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function Tz(t,e){const n=t,r=Ei(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:t}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:e}}}}function Fz(t,e){const n=t,r=Ei(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:e,band:0}}}}function Iz(t,e){const n=t,r=Ei(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:e,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function Dz(t,e){const n={...t},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(Iz(n,e)),n.chromGrid&&n.chromGridOpacity>0&&r.push(Fz(n,e)),n.grid&&n.gridOpacity>0&&r.push(Tz(n,e)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[Ei(t.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const h3={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},Bz={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},kz={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},Rz={start:0,middle:.5,end:1},Pz={start:"left",middle:"center",end:"right"};function Mz(t){if(!t)return;const e=Ke(t)?{text:t}:t;if(!e.text||e.orient=="none")return;const n={"track-title":Bz,overlay:kz}[e.style]??{},r={...h3,...n,...e};let i={},o={x:0,y:0};const s=Rz[r.anchor??"middle"];switch(r.orient){case"top":o={x:s,y:1},i={baseline:"alphabetic",angle:0};break;case"right":o={x:1,y:1-s},i={baseline:"alphabetic",angle:90};break;case"bottom":o={x:s,y:0},i={baseline:"top",angle:0};break;case"left":o={x:0,y:s},i={baseline:"alphabetic",angle:-90};break}const a={...h3,...i,...n,...e},u={xOffset:0,yOffset:0};switch(r.orient){case"top":u.yOffset=-a.offset;break;case"right":u.xOffset=a.offset;break;case"bottom":u.yOffset=a.offset;break;case"left":u.xOffset=-a.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...o,...u,text:a.text,align:a.align??Pz[a.anchor],angle:a.angle,baseline:a.baseline,dx:a.dx,dy:a.dy,color:a.color,font:a.font,size:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight}}}function Nz(t,e,n,r){if(t.type=="wheel"){t.uiEvent.preventDefault();const i=t.uiEvent,o=i.deltaMode?120:1;let{x:s,y:a}=t.point;if(r){const u=r.mark.encoders;u.x&&!u.x2&&!u.x.constantValue&&(s=+u.x(r.datum)*e.width+e.x),u.y&&!u.y2&&!u.y.constantValue&&(a=(1-+u.y(r.datum))*e.height+e.y)}Math.abs(i.deltaX)<Math.abs(i.deltaY)?n({x:s,y:a,xDelta:0,yDelta:0,zDelta:i.deltaY*o/300}):n({x:s,y:a,xDelta:-i.deltaX*o,yDelta:0,zDelta:0})}else if(t.type=="mousedown"&&t.uiEvent.button===0){const i=t.uiEvent;i.preventDefault();let o=i;const s=u=>{n({x:o.clientX,y:o.clientY,xDelta:u.clientX-o.clientX,yDelta:u.clientY-o.clientY,zDelta:0}),o=u},a=u=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a,!1),document.addEventListener("mousemove",s,!1)}}class d3 extends us{constructor(n,r,i,o,s,a){super(n,r,i,o,s);be(this,Lr);be(this,Vc);be(this,jc);be(this,ko);be(this,uu);be(this,lu);be(this,cu);be(this,Zc);be(this,na);be(this,Wc);be(this,Js,1/0);be(this,ea,10);be(this,rn,[]);be(this,Bo,{});be(this,ta,0);this.spec=n,yr(this,ea,n.spacing??10),yr(this,Js,a),yr(this,rn,[]),this.wrappingFacet=!1,this._createChildren()}_createChildren(){}appendChild(n){n.layoutParent??(n.layoutParent=this),ie(this,rn).push(new g3(n,this,ie(this,ta))),W3(this,ta)._++}setChildren(n){yr(this,rn,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=ie(this,rn).findIndex(o=>o.view==n);if(i>=0)ie(this,rn)[i]=new g3(r,this,ie(this,ta));else throw new Error("Not my child view!")}get children(){return ie(this,rn).map(n=>n.view)}get childCount(){return ie(this,rn).length}onScalesResolved(){super.onScalesResolved(),ue(this,jc,J3).call(this)}*[Symbol.iterator](){for(const n of ie(this,rn))yield*n.getChildren();for(const n of Object.values(ie(this,Bo)))yield n}getOverhang(){return ue(this,Zc,eS).call(this).union(ue(this,na,Kc).call(this))}getSize(){return this._cache("size",()=>new io(ue(this,lu,lm).call(this,"column"),ue(this,lu,lm).call(this,"row")).addPadding(ue(this,na,Kc).call(this)))}render(n,r,i={}){if(!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(ue(this,na,Kc).call(this)),n.pushView(this,r);const o={devicePixelRatio:this.context.devicePixelRatio},s=Ww(ue(this,uu,um).call(this,"column"),r.width,o),a=Ww(ue(this,uu,um).call(this,"row"),r.height,o),u=new a3(ie(this,Lr,Po).length,ie(this,Js)??1/0);for(const[f,l]of ie(this,Lr,Po).entries()){const{view:c,axes:h,gridLines:d,background:p,backgroundStroke:b,title:y}=l,[w,E]=u.getCellCoords(f),S=s[ue(this,cu,cm).call(this,"column",w)],T=a[ue(this,cu,cm).call(this,"row",E)],D=c.getSize(),B=c.getOverhang(),I=S.location-B.left,N=T.location-B.top,C=(D.width.grow?S.size:D.width.px)+B.width,P=(D.height.grow?T.size:D.height.px)+B.height,M=new $s(()=>r.x+I,()=>r.y+N,()=>C,()=>P);l.coords=M;const ee=i.clipRect?M.intersect(i.clipRect):M;p==null||p.render(n,ee,{...i,clipRect:void 0});for(const J of Object.values(d))J.render(n,M,i);const ne=Uz(c);ne&&c.render(n,M,i),b==null||b.render(n,ee,{...i,clipRect:void 0});for(const[J,me]of Object.entries(h))me.render(n,p3(M,J,me),i);for(const J of Object.values(ie(this,Bo))){const Ee=J.axisProps.orient;(Ee=="left"&&w==0||Ee=="right"&&w==u.nCols-1||Ee=="top"&&E==0||Ee=="bottom"&&E==u.nRows-1)&&J.render(n,p3(M.shrink(l.view.getOverhang()),Ee,J),i)}ne||c.render(n,M,i),y==null||y.render(n,M,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=ie(this,Lr,Po).find(o=>o.coords.containsPoint(n.point.x,n.point.y)),i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof Dt||i instanceof Jf)&&Nz(n,r.coords,o=>ue(this,Wc,tS).call(this,r.coords,r.view,o),this.context.getCurrentHover())),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}Js=new WeakMap,ea=new WeakMap,rn=new WeakMap,Bo=new WeakMap,ta=new WeakMap,Lr=new WeakSet,Po=function(){return ie(this,rn).filter(n=>n.view.isConfiguredVisible())},Vc=new WeakSet,K3=function(){return new a3(ie(this,Lr,Po).length,ie(this,Js)??1/0)},jc=new WeakSet,J3=function(){for(const n of Xo){const r=this.resolutions.axis[n];if(r){const i=r.getAxisProps();if(i){const o={title:r.getTitle(),orient:Nc[n][0],...i},s=new f3(o,r.scaleResolution.type,this.context,this,this);ie(this,Bo)[n]=s,s.visit(a=>{a instanceof Dt&&a.resolve("scale")})}}}for(const n of ie(this,rn))n.createAxes()},ko=new WeakSet,du=function(n){const r=n=="column"?"width":"height",i=(o,s)=>o.map(a=>{const f=ie(this,Lr,Po)[a].getOverhangAndPadding();return n=="column"?s?f.right:f.left:s?f.bottom:f.top}).reduce((a,u)=>Math.max(a,u),0);return this._cache(`size/directionSizes/${n}`,()=>ie(this,Vc,K3)[n=="column"?"colIndices":"rowIndices"].map(o=>({axisBefore:i(o,0),axisAfter:i(o,1),view:Dk(o.map(s=>ie(this,Lr,Po)[s].view.getSize()[r]))})))},uu=new WeakSet,um=function(n){const r=ue(this,ko,du).call(this,n),i=[];i.push(rf);for(const[o,s]of r.entries())o>0&&i.push({px:ie(this,ea),grow:0}),(o==0||this.wrappingFacet)&&i.push(rf),i.push({px:s.axisBefore,grow:0}),i.push(s.view),i.push({px:s.axisAfter,grow:0}),(o==r.length-1||this.wrappingFacet)&&i.push(rf);return i},lu=new WeakSet,lm=function(n){let r=0,i=0;const o=(n=="row"&&this.spec.height)??(n=="column"&&this.spec.width);if(o||o===0)return $w(o);const s=ue(this,ko,du).call(this,n);for(const[a,u]of s.entries())a>0&&(i+=ie(this,ea)),(a==0||this.wrappingFacet)&&(i+=0),i+=u.axisBefore,i+=u.view.px??0,r+=u.view.grow??0,i+=u.axisAfter,(a==s.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},cu=new WeakSet,cm=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},Zc=new WeakSet,eS=function(){const n=ue(this,ko,du).call(this,"column"),r=ue(this,ko,du).call(this,"row");return!n.length||!r.length?St.zero():new St(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},na=new WeakSet,Kc=function(){const n=r=>{const i=Gg[r],o=ie(this,Bo)[i];return(o==null?void 0:o.axisProps.orient)!==r?0:Math.max(o.getPerpendicularSize()+o.axisProps.offset,0)};return new St(n("top"),n("right"),n("bottom"),n("left"))},Wc=new WeakSet,tS=function(n,r,i){for(const[o,s]of Object.entries(zz(r))){if(s.size<=0)continue;const a=n.normalizePoint(i.x,i.y),u=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),f={x:u.x-a.x,y:u.y-a.y};for(const l of s)l.zoom(2**i.zDelta,o=="y"?1-a[o]:a[o],o=="x"?f.x:-f.y)}this.context.animator.requestRender()};function Lz(t){if(!(!t||!t.fill||t.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:t.fill,opacity:t.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function Oz(t){if(!(!t||!t.stroke||t.strokeWidth===0||t.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:t.strokeWidth??1,color:t.stroke??"lightgray",strokeCap:"square",strokeOpacity:t.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function zz(t){const e={x:new Set,y:new Set};return t.visit(n=>{for(const[r,i]of Object.entries(e)){const o=n.getScaleResolution(r);o&&o.isZoomable()&&i.add(o)}}),e}function Uz(t){let e=!0;return t.visit(n=>{n instanceof Dt&&e&&(e=n.mark.properties.clip===!0)}),e}function p3(t,e,n){const r=n.axisProps,i=n.getPerpendicularSize();if(e=="bottom")return t.translate(0,t.height+r.offset).modify({height:i});if(e=="top")return t.translate(0,-i-r.offset).modify({height:i});if(e=="left")return t.translate(-i-r.offset,0).modify({width:i});if(e=="right")return t.translate(t.width+r.offset,0).modify({width:i})}class g3{constructor(e,n,r){if(this.layoutParent=n,this.view=e,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.title=void 0,this.coords=$s.ZERO,e.needsAxes.x||e.needsAxes.y){const i=e.spec,o="view"in i?i==null?void 0:i.view:void 0,s=Lz(o);s&&(this.background=new Dt(s,n.context,n,e,"background"+r),this.background.blockEncodingInheritance=!0);const a=Oz(o);a&&(this.backgroundStroke=new Dt(a,n.context,n,e,"backgroundStroke"+r),this.backgroundStroke.blockEncodingInheritance=!0);const u=Mz(e.spec.title);if(u){const f=new Dt(u,n.context,n,e,"title"+r);f.blockEncodingInheritance=!0,this.title=f}}}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view}createAxes(){const{view:e,axes:n,gridLines:r}=this,i=(a,u)=>{const f=a.getAxisProps();if(f===null)return;const l=f?{...f}:{};if(!l.orient){for(const c of Nc[u])if(!n[c]){l.orient=c;break}if(!l.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(l.title??(l.title=a.getTitle()),!Nc[u].includes(l.orient))throw new Error(`Invalid axis orientation "${l.orient}" on channel "${u}"!`);return l},o=(a,u,f)=>{const l=i(a,u);if(l){if(n[l.orient])throw new Error(`An axis with the orient "${l.orient}" already exists!`);n[l.orient]=new f3(l,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,f)}},s=(a,u,f)=>{const l=i(a,u);l&&(l.grid||l.chromGrid)&&(r[l.orient]=new Sz(l,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,f))};for(const a of["x","y"])if(e.needsAxes[a]){const u=e.resolutions.axis[a];if(!u)continue;o(u,a,e)}for(const a of["x","y"])if(e.needsAxes[a]){const u=e.getAxisResolution(a);if(!u)continue;s(u,a,e)}if(e instanceof Jf){for(const a of e.children)for(const[u,f]of Object.entries(a.resolutions.axis)){const l=f.getAxisProps();l&&l.orient&&o(f,u,a)}for(const a of e.children)for(const[u,f]of Object.entries(a.resolutions.axis)){const l=f.getAxisProps();l&&!l.orient&&o(f,u,a)}}[...Object.values(n),...Object.values(r)].forEach(a=>a.visit(u=>{u instanceof Dt&&u.resolve("scale")}))}getOverhang(){const e=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+r.axisProps.offset,0):0};return new St(e("top"),e("right"),e("bottom"),e("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class qg extends d3{constructor(e,n,r,i,o){super(e,n,r,i,o,Vg(e)?e.columns:Lc(e)?1:1/0),this.spec=e}_createChildren(){const e=this.spec,n=Vg(e)?e.concat:Lc(e)?e.vconcat:e.hconcat;this.setChildren(n.map((r,i)=>this.context.createView(r,this,this,"grid"+i)))}getDefaultResolution(e,n){if(n=="axis")return"independent";if(Lc(this.spec)&&e==="x"||y3(this.spec)&&e==="y"){const r=new Set(this.children.map(i=>i.getEncoding()[e]).filter(i=>i).map(i=>"type"in i&&i.type).filter(i=>i));return r.size===1&&(r.has("index")||r.has("locus"))?"shared":"independent"}else return"independent"}}class Gz{constructor(){this.types=[];const e=n=>(r,i,o,s,a)=>new n(r,i,o,s,r.name??a);this.addViewType(Hz,e(bx)),this.addViewType(b3,e(Jf)),this.addViewType(m3,e(Dt)),this.addViewType(Lc,e(qg)),this.addViewType(y3,e(qg)),this.addViewType(Vg,e(qg))}addViewType(e,n){this.types.push({specGuard:e,factory:n})}createView(e,n,r,i,o){const s=this.types.find(a=>a.specGuard(e));if(s)return s.factory(e,n,r,i,o??"unnamed");throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(e)]))}isViewSpec(e){const n=this.types.filter(r=>r.specGuard(e));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}}function m3(t){return"mark"in t&&(Ke(t.mark)||Tn(t.mark))}function b3(t){return"layer"in t&&Tn(t.layer)}function Hz(t){return"import"in t}function Lc(t){return"vconcat"in t&&Qt(t.vconcat)}function y3(t){return"hconcat"in t&&Qt(t.hconcat)}function Vg(t){return"concat"in t&&Qt(t.concat)}class qz extends d3{constructor(e,n){super({vconcat:[]},e,void 0,void 0,"implicitRoot",1),n.layoutParent=this,n.dataParent=this,this.appendChild(n)}}x1("fasta",lz);class Vz{constructor(e,n,r={}){this.container=e;const i=document.createElement("style");i.innerHTML=J8,e.appendChild(i),this.spec=n,this.accessorFactory=new zT,this.viewFactory=new Gz,this.namedDataProviders=[],this.animator=new rz(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=o=>o.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new cz(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:wz,refseqgene:dz,...r.tooltipHandlers??{}},this.viewRoot=void 0}registerNamedDataProvider(e){this.namedDataProviders.unshift(e)}getNamedDataFromProvider(e){for(const n of this.namedDataProviders){const r=n(e);if(r)return r}}updateNamedData(e,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(e);if(!r)throw new Error("No such named data source: "+e);r.dataSource.updateDynamicData(n),v0(r.hosts),this.animator.requestRender()}broadcast(e,n){var i;const r={type:e,payload:n};this.viewRoot.visit(o=>o.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(e))==null||i.forEach(o=>o(r))}_prepareContainer(){this.container.classList.add("genome-spy"),this.container.classList.add("loading"),this._glHelper=new nk(this.container,()=>this.viewRoot?X7(this.viewRoot):{width:void 0,height:void 0},this.spec.background),this.loadingMessageElement=document.createElement("div"),this.loadingMessageElement.className="loading-message",this.loadingMessageElement.innerHTML='<div class="message">Loading<span class="ellipsis">...</span></div>',this.container.appendChild(this.loadingMessageElement),this.tooltip=new t6(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})}destroy(){this.container.classList.remove("genome-spy"),this.container.classList.remove("loading");for(const[e,n]of this._keyboardListeners)for(const r of n)document.removeEventListener(e,r);for(this._glHelper.finalize();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new iz(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const e=this,n={dataFlow:new K_,accessorFactory:this.accessorFactory,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new az(this._glHelper),get devicePixelRatio(){return e._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,addKeyboardListener:(a,u)=>{document.addEventListener(a,u);let f=this._keyboardListeners.get(a);f||(f=[],this._keyboardListeners.set(a,f)),f.push(u)},addBroadcastListener(a,u){const f=e._extraBroadcastListeners;let l=f.get(a);l||(l=new Set,f.set(a,l)),l.add(u)},removeBroadcastListener(a,u){var l;(l=e._extraBroadcastListeners.get(a))==null||l.delete(u)},isViewConfiguredVisible:e.viewVisibilityPredicate,isViewSpec:a=>e.viewFactory.isViewSpec(a),createView:function(a,u,f,l){return e.viewFactory.createView(a,n,u,f,l)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(a=>r.datasets[a]),this.viewRoot=n.createView(r,null,null,"viewRoot"),await t3(this.viewRoot),(this.viewRoot.needsAxes.x||this.viewRoot.needsAxes.y)&&(this.viewRoot=new qz(n,this.viewRoot)),$7(this.viewRoot),Y7(this.viewRoot),this._glHelper.invalidateSize();const i=[];this.viewRoot.visit(a=>{a instanceof Dt&&i.push(a)});const o=H7(this.viewRoot,n.dataFlow);W7(o),this.broadcast("dataFlowBuilt",o),i.forEach(a=>a.mark.initializeEncoders());const s=Promise.all(i.map(a=>a.mark.initializeGraphics()));for(const a of i)o.addObserver(u=>{a.mark.initializeData(),a.mark.updateGraphicsData()},a);await n.fontManager.waitUntilReady(),o.initialize(),await Promise.all(o.dataSources.map(a=>a.load())),v0(this.viewRoot),this.broadcast("dataLoaded"),await s,this.viewRoot.visit(a=>{for(const u of Object.values(a.resolutions.scale))this._glHelper.createRangeTexture(u)});for(const a of i)a.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(a=>Rl(a,"size")),this._glHelper.invalidateSize()}async launch(){try{return this._prepareContainer(),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),this._glHelper.addEventListener("resize",()=>{this.computeLayout(),this.renderAll()}),!0}catch(e){const n=`${e.view?`At "${e.view.getPathString()}": `:""}${e.toString()}`;return console.error(e.stack),jz(this.container,n),!1}finally{this.container.classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const e=this._glHelper.canvas,n=r=>{var i;if(r instanceof MouseEvent){r.type=="mousemove"&&(this.tooltip.handleMouseMove(r),this._tooltipUpdateRequested=!1,r.buttons==0&&this.renderPickingFramebuffer());const o=e.getBoundingClientRect(),s=new ez(r.clientX-o.left-e.clientLeft,r.clientY-o.top-e.clientTop),a=u=>{this.viewRoot.propagateInteractionEvent(new J7(s,u)),this._tooltipUpdateRequested||this.tooltip.clear()};if(r.type!="wheel"&&this._wheelInertia.cancel(),r.type=="mousemove")this._handlePicking(s.x,s.y);else if(r.type=="mousedown"||r.type=="mouseup")this.renderPickingFramebuffer();else if(r.type=="wheel"){this._tooltipUpdateRequested=!1;const u=r;if(Math.abs(u.deltaX)>Math.abs(u.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const f=hz(u);this._wheelInertia.setMomentum(u.deltaY*(u.deltaMode?80:1),l=>{const c=new WheelEvent("wheel",{...f,deltaMode:0,deltaX:0,deltaY:l});a(c)}),u.preventDefault();return}}if(r.type=="click"){const u=this._currentHover?{type:r.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(f=>f.name).reverse(),datum:this._currentHover.datum}:{type:r.type,viewPath:null,datum:null};(i=this._eventListeners.get("click"))==null||i.forEach(f=>f(u))}a(r)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(r=>e.addEventListener(r,n)),e.addEventListener("mousedown",()=>{document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),e.addEventListener("dragstart",r=>r.stopPropagation())}_handlePicking(e,n){var o;const r=this._glHelper.readPickingPixel(e,n),i=r[0]|r[1]<<8|r[2]<<16;if(i==0){this._currentHover=null;return}if(i!==((o=this._currentHover)==null?void 0:o.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(s=>{if(s instanceof Dt){if(s.mark.isPickingParticipant()){const a=s.mark.encoders.uniqueId.accessor;s.getCollector().visitData(u=>{a(u)==i&&(this._currentHover={mark:s.mark,datum:u,uniqueId:i})})}if(this._currentHover)return of}}),this._currentHover){const s=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async a=>{if(!s.isPickingParticipant())return;const u=s.properties.tooltip;if(u!==null){const f=(u==null?void 0:u.handler)??"default",l=this.tooltipHandlers[f];if(!l)throw new Error("No such tooltip handler: "+f);return l(a,s,u==null?void 0:u.params)}})}}updateTooltip(e,n){if(!this._tooltipUpdateRequested||!e)this.tooltip.updateWithDatum(e,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const e=this.viewRoot;if(!e)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new r3({picking:!1},this._glHelper),this._pickingContext=new r3({picking:!0},this._glHelper),e.render(new K7(this._renderingContext,this._pickingContext),$s.create(0,0,n.width,n.height)),this.broadcast("layoutComputed")}renderAll(){var e;(e=this._renderingContext)==null||e.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const e=[];return this.viewRoot.visit(n=>{n instanceof Dt&&n.getAccessor("search")&&e.push(n)}),e}getNamedScaleResolutions(){const e=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&e.set(r.name,r)}),e}}function jz(t,e){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=e,n.appendChild(r),t.appendChild(n)}async function Zz(t,e,n={}){let r;if(Ke(t)){if(r=document.querySelector(t),!r)throw new Error(`No such element: ${t}`)}else if(t instanceof HTMLElement)r=t;else throw new Error(`Invalid element: ${t}`);let i;try{const o=Tn(e)?e:await $z(e);if(o.baseUrl??(o.baseUrl=""),o.width??(o.width="container"),o.padding??(o.padding=10),r==document.body){const s=document.createElement("div");s.style.position="fixed",s.style.inset="0",s.style.overflow="hidden",r.appendChild(s),r=s}i=new Vz(r,o,n),Wz(i,n),await i.launch()}catch(o){r.innerText=o.toString(),console.error(o)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(o,s){const a=i._eventListeners;let u=a.get(o);u||(u=new Set,a.set(o,u)),u.add(s)},removeEventListener(o,s){var u;(u=i._eventListeners.get(o))==null||u.delete(s)},getScaleResolutionByName(o){return i.getNamedScaleResolutions().get(o)},updateNamedData:i.updateNamedData.bind(i)}}function Wz(t,e){e.namedDataProvider&&t.registerNamedDataProvider(e.namedDataProvider)}async function $z(t){let e;try{e=JSON.parse(await Nu().load(t))}catch(n){throw new Error(`Could not load or parse configuration: ${t}, reason: ${n.message}`)}if(!e.baseUrl){const n=t.match(/^[^?#]*\//);e.baseUrl=n&&n[0]||"./"}return e}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Oc=window,jg=Oc.ShadowRoot&&(Oc.ShadyCSS===void 0||Oc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Zg=Symbol(),w3=new WeakMap;let x3=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==Zg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(jg&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=w3.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&w3.set(n,e))}return e}toString(){return this.cssText}};const Yz=t=>new x3(typeof t=="string"?t:t+"",void 0,Zg),Qz=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new x3(n,t,Zg)},Xz=(t,e)=>{jg?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const r=document.createElement("style"),i=Oc.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},v3=jg?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Yz(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Wg;const zc=window,A3=zc.trustedTypes,Kz=A3?A3.emptyScript:"",E3=zc.reactiveElementPolyfillSupport,$g={toAttribute(t,e){switch(e){case Boolean:t=t?Kz:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},_3=(t,e)=>e!==t&&(e==e||t==t),Yg={attribute:!0,type:String,converter:$g,reflect:!1,hasChanged:_3};class Ys extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var n;(n=this.h)!==null&&n!==void 0||(this.h=[]),this.h.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,r)=>{const i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=Yg){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){const o=this[e];this[n]=i,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Yg}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(v3(i))}else e!==void 0&&n.push(v3(e));return n}static _$Ep(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Xz(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=Yg){var i;const o=this.constructor._$Ep(e,r);if(o!==void 0&&r.reflect===!0){const s=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:$g).toAttribute(n,r.type);this._$El=e,s==null?this.removeAttribute(o):this.setAttribute(o,s),this._$El=null}}_$AK(e,n){var r;const i=this.constructor,o=i._$Ev.get(e);if(o!==void 0&&this._$El!==o){const s=i.getPropertyOptions(o),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((r=s.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?s.converter:$g;this._$El=o,this[o]=a.fromAttribute(n,s.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||_3)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,o)=>this[o]=i),this._$Ei=void 0);let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var o;return(o=i.hostUpdate)===null||o===void 0?void 0:o.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}Ys.finalized=!0,Ys.elementProperties=new Map,Ys.elementStyles=[],Ys.shadowRootOptions={mode:"open"},E3==null||E3({ReactiveElement:Ys}),((Wg=zc.reactiveElementVersions)!==null&&Wg!==void 0?Wg:zc.reactiveElementVersions=[]).push("1.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Qg,Xg;let eu=class extends Ys{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,n;const r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=Nh(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return Hi}};eu.finalized=!0,eu._$litElement$=!0,(Qg=globalThis.litElementHydrateSupport)===null||Qg===void 0||Qg.call(globalThis,{LitElement:eu});const S3=globalThis.litElementPolyfillSupport;S3==null||S3({LitElement:eu}),((Xg=globalThis.litElementVersions)!==null&&Xg!==void 0?Xg:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const C3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},T3=t=>(...e)=>({_$litDirective$:t,values:e});let F3=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const I3=T3(class extends F3{constructor(t){var e;if(super(t),t.type!==C3.ATTRIBUTE||t.name!=="style"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r==null?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:n}=t.element;if(this.vt===void 0){this.vt=new Set;for(const r in e)this.vt.add(r);return this.render(e)}this.vt.forEach(r=>{e[r]==null&&(this.vt.delete(r),r.includes("-")?n.removeProperty(r):n[r]="")});for(const r in e){const i=e[r];i!=null&&(this.vt.add(r),r.includes("-")?n.setProperty(r,i):n[r]=i)}return Hi}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jz=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tu=(t,e)=>{var n,r;const i=t._$AN;if(i===void 0)return!1;for(const o of i)(r=(n=o)._$AO)===null||r===void 0||r.call(n,e,!1),tu(o,e);return!0},Uc=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},D3=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),nU(e)}};function eU(t){this._$AN!==void 0?(Uc(this),this._$AM=t,D3(this)):this._$AM=t}function tU(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let o=n;o<r.length;o++)tu(r[o],!1),Uc(r[o]);else r!=null&&(tu(r,!1),Uc(r));else tu(this,t)}const nU=t=>{var e,n,r,i;t.type==C3.CHILD&&((e=(r=t)._$AP)!==null&&e!==void 0||(r._$AP=tU),(n=(i=t)._$AQ)!==null&&n!==void 0||(i._$AQ=eU))};class rU extends F3{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),D3(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)===null||r===void 0||r.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),n&&(tu(this,e),Uc(this))}setValue(e){if(Jz(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iU=()=>new oU;class oU{}const Kg=new WeakMap,sU=T3(class extends rU{render(t){return et}update(t,[e]){var n;const r=e!==this.Y;return r&&this.Y!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.Y=e,this.dt=(n=t.options)===null||n===void 0?void 0:n.host,this.rt(this.ct=t.element)),et}rt(t){var e;if(typeof this.Y=="function"){const n=(e=this.dt)!==null&&e!==void 0?e:globalThis;let r=Kg.get(n);r===void 0&&(r=new WeakMap,Kg.set(n,r)),r.get(this.Y)!==void 0&&this.Y.call(this.dt,void 0),r.set(this.Y,t),t!==void 0&&this.Y.call(this.dt,t)}else this.Y.value=t}get lt(){var t,e,n;return typeof this.Y=="function"?(e=Kg.get((t=this.dt)!==null&&t!==void 0?t:globalThis))===null||e===void 0?void 0:e.get(this.Y):(n=this.Y)===null||n===void 0?void 0:n.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function B3(){const t=document.querySelector("meta[name='base_url']").getAttribute("content");return t||console.error('No <meta name="base_url" ...> found!'),t}async function aU(t,e){const r=`${B3()}/data/`;try{e.baseUrl=e.baseUrl||r,await Zz(t,e,{bare:!0})}catch(i){const o=document.createElement("pre");o.innerText=i.toString(),t.appendChild(o)}}class k3 extends eu{static get styles(){return Qz`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=iU()}render(){return In`
            <link rel="stylesheet" href=${B3()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${I3({height:this.height+"px"})}
                ${sU(this.embedRef)}
            ></div>
            ${this.specHidden?In`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${e=>{this.specHidden=!1,e.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:et}

            <div
                class="embed-spec"
                style=${I3({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const e=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(e){const r=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){const s=o.target;aU(s,JSON.parse(e)),r.unobserve(s)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",k3),_e.GenomeSpyDocEmbed=k3,Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"})});
