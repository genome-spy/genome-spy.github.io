(function(we,xe){typeof exports=="object"&&typeof module<"u"?xe(exports):typeof define=="function"&&define.amd?define(["exports"],xe):(we=typeof globalThis<"u"?globalThis:we||self,xe(we.genomeSpyDocEmbed={}))})(this,function(we){"use strict";var Zz=Object.defineProperty;var $z=(we,xe,Ce)=>xe in we?Zz(we,xe,{enumerable:!0,configurable:!0,writable:!0,value:Ce}):we[xe]=Ce;var St=(we,xe,Ce)=>($z(we,typeof xe!="symbol"?xe+"":xe,Ce),Ce),Pg=(we,xe,Ce)=>{if(!xe.has(we))throw TypeError("Cannot "+Ce)};var X=(we,xe,Ce)=>(Pg(we,xe,"read from private field"),Ce?Ce.call(we):xe.get(we)),ue=(we,xe,Ce)=>{if(xe.has(we))throw TypeError("Cannot add the same private member more than once");xe instanceof WeakSet?xe.add(we):xe.set(we,Ce)},bn=(we,xe,Ce,xo)=>(Pg(we,xe,"write to private field"),xo?xo.call(we,Ce):xe.set(we,Ce),Ce);var lS=(we,xe,Ce,xo)=>({set _(Kf){bn(we,xe,Kf,Ce)},get _(){return X(we,xe,xo)}}),ie=(we,xe,Ce)=>(Pg(we,xe,"access private method"),Ce);var Lf,Mg,Ta,zf,Uf,go,Qf,Gf,Og,mr,Ia,yt,Kn,mi,Ic,uS,ka,Oc,br,yo,Hf,Ng,kc,cS,Dg,Yz,Vf,Lg,jf,qf,yr,Da,Ba,Jt,mo,Fa,wr,wo,Dc,hS,bo,Xf,Wf,zg,Zf,Ug,$f,Gg,Bc,dS,Ra,Nc,Fc,pS,Pa,$_;function xe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Ce(t,e,n){return t.fields=e||[],t.fname=n,t}function xo(t){return t==null?null:t.fname}function Kf(t){return t==null?null:t.fields}function gS(t){return t.length===1?mS(t[0]):bS(t)}const mS=t=>function(e){return e[t]},bS=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function $e(t){throw Error(t)}function yS(t){const e=[],n=t.length;let r=null,i=0,o="",a,s,l;t=t+"";function f(){e.push(o+t.substring(a,s)),o="",a=s+1}for(a=s=0;s<n;++s)if(l=t[s],l==="\\")o+=t.substring(a,s),o+=t.substring(++s,++s),a=s;else if(l===r)f(),r=null,i=-1;else{if(r)continue;a===i&&l==='"'||a===i&&l==="'"?(a=s+1,r=l):l==="."&&!i?s>a?f():a=s+1:l==="["?(s>a&&f(),i=a=s+1):l==="]"&&(i||$e("Access path missing open bracket: "+t),i>0&&f(),i=0,a=s+1)}return i&&$e("Access path missing closing bracket: "+t),r&&$e("Access path missing closing quote: "+t),s>a&&(s++,f()),e}function Jf(t,e,n){const r=yS(t);return t=r.length===1?r[0]:t,Ce((n&&n.get||gS)(r),[t],e||t)}Jf("id");const el=Ce(t=>t,[],"identity");Ce(()=>0,[],"zero"),Ce(()=>1,[],"one"),Ce(()=>!0,[],"true"),Ce(()=>!1,[],"false");var qt=Array.isArray;function Wt(t){return t===Object(t)}function yn(t){return t[t.length-1]}function Ma(t){return t==null||t===""?null:+t}const Hg=t=>e=>t*Math.exp(e),Vg=t=>e=>Math.log(t*e),wS=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),xS=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,tl=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function Lc(t,e,n,r){const i=n(t[0]),o=n(yn(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function vS(t,e){return Lc(t,e,Ma,el)}function AS(t,e){var n=Math.sign(t[0]);return Lc(t,e,Vg(n),Hg(n))}function ES(t,e,n){return Lc(t,e,tl(n),tl(1/n))}function nl(t,e,n,r,i){const o=r(t[0]),a=r(yn(t)),s=e!=null?r(e):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function jg(t,e,n){return nl(t,e,n,Ma,el)}function qg(t,e,n){const r=Math.sign(t[0]);return nl(t,e,n,Vg(r),Hg(r))}function zc(t,e,n,r){return nl(t,e,n,tl(r),tl(1/r))}function _S(t,e,n,r){return nl(t,e,n,wS(r),xS(r))}function Uc(t){return t!=null?qt(t)?t:[t]:[]}function SS(t,e,n){let r=t[0],i=t[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-e?[e,n]:[r=Math.min(Math.max(r,e),n-o),r+o]}function Bt(t){return typeof t=="function"}const CS="descending";function Wg(t,e,n){n=n||{},e=Uc(e)||[];const r=[],i=[],o={},a=n.comparator||TS;return Uc(t).forEach((s,l)=>{s!=null&&(r.push(e[l]===CS?-1:1),i.push(s=Bt(s)?s:Jf(s,null,n)),(Kf(s)||[]).forEach(f=>o[f]=1))}),i.length===0?null:Ce(a(i,r),Object.keys(o))}const Zg=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),TS=(t,e)=>t.length===1?IS(t[0],e[0]):kS(t,e,t.length),IS=(t,e)=>function(n,r){return Zg(t(n),t(r))*e},kS=(t,e,n)=>(e.push(0),function(r,i){let o,a=0,s=-1;for(;a===0&&++s<n;)o=t[s],a=Zg(o(r),o(i));return a*e[s]});function DS(t){return Bt(t)?t:()=>t}function Gc(t){for(let e,n,r=1,i=arguments.length;r<i;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t}const BS=Object.prototype.hasOwnProperty;function bi(t,e){return BS.call(t,e)}function rl(t){return typeof t=="boolean"}function FS(t){return Object.prototype.toString.call(t)==="[object Date]"}function RS(t){return t&&Bt(t[Symbol.iterator])}function Ft(t){return typeof t=="number"}function Ye(t){return typeof t=="string"}function PS(t,e){const n=t[0],r=yn(t),i=+e;return i?i===1?r:n+i*(r-n):n}function il(t){return t&&yn(t)-t[0]||0}function ol(t){return qt(t)?"["+t.map(ol)+"]":Wt(t)||Ye(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function MS(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const OS=t=>Ft(t)||FS(t)?t:Date.parse(t);function NS(t,e){return e=e||OS,t==null||t===""?null:e(t)}function LS(t){return t==null||t===""?null:t+""}function al(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}var $g={},Hc={},Vc=34,Oa=10,jc=13;function Yg(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function zS(t,e){var n=Yg(t);return function(r,i){return e(n(r),i,t)}}function Qg(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Rt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function US(t){return t<0?"-"+Rt(-t,6):t>9999?"+"+Rt(t,6):Rt(t,4)}function GS(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":US(t.getUTCFullYear())+"-"+Rt(t.getUTCMonth()+1,2)+"-"+Rt(t.getUTCDate(),2)+(i?"T"+Rt(e,2)+":"+Rt(n,2)+":"+Rt(r,2)+"."+Rt(i,3)+"Z":r?"T"+Rt(e,2)+":"+Rt(n,2)+":"+Rt(r,2)+"Z":n||e?"T"+Rt(e,2)+":"+Rt(n,2)+"Z":"")}function Xg(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(c,h){var d,p,b=i(c,function(y,w){if(d)return d(y,w-1);p=y,d=h?zS(y,h):Yg(y)});return b.columns=p||[],b}function i(c,h){var d=[],p=c.length,b=0,y=0,w,S=p<=0,C=!1;c.charCodeAt(p-1)===Oa&&--p,c.charCodeAt(p-1)===jc&&--p;function _(){if(S)return Hc;if(C)return C=!1,$g;var D,I=b,R;if(c.charCodeAt(I)===Vc){for(;b++<p&&c.charCodeAt(b)!==Vc||c.charCodeAt(++b)===Vc;);return(D=b)>=p?S=!0:(R=c.charCodeAt(b++))===Oa?C=!0:R===jc&&(C=!0,c.charCodeAt(b)===Oa&&++b),c.slice(I+1,D-1).replace(/""/g,'"')}for(;b<p;){if((R=c.charCodeAt(D=b++))===Oa)C=!0;else if(R===jc)C=!0,c.charCodeAt(b)===Oa&&++b;else if(R!==n)continue;return c.slice(I,D)}return S=!0,c.slice(I,p)}for(;(w=_())!==Hc;){for(var k=[];w!==$g&&w!==Hc;)k.push(w),w=_();h&&(k=h(k,y++))==null||d.push(k)}return d}function o(c,h){return c.map(function(d){return h.map(function(p){return u(d[p])}).join(t)})}function a(c,h){return h==null&&(h=Qg(c)),[h.map(u).join(t)].concat(o(c,h)).join(`
`)}function s(c,h){return h==null&&(h=Qg(c)),o(c,h).join(`
`)}function l(c){return c.map(f).join(`
`)}function f(c){return c.map(u).join(t)}function u(c){return c==null?"":c instanceof Date?GS(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}var HS=Xg("	"),VS=HS.parseRows;function jS(t){return t}function qS(t){if(t==null)return jS;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(s,l){l||(e=n=0);var f=2,u=s.length,c=new Array(u);for(c[0]=(e+=s[0])*r+o,c[1]=(n+=s[1])*i+a;f<u;)c[f]=s[f],++f;return c}}function WS(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function ZS(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Kg(t,n)})}:Kg(t,e)}function Kg(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=Jg(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Jg(t,e){var n=qS(t.transform),r=t.arcs;function i(u,c){c.length&&c.pop();for(var h=r[u<0?~u:u],d=0,p=h.length;d<p;++d)c.push(n(h[d],d));u<0&&WS(c,p)}function o(u){return n(u)}function a(u){for(var c=[],h=0,d=u.length;h<d;++h)i(u[h],c);return c.length<2&&c.push(c[0]),c}function s(u){for(var c=a(u);c.length<4;)c.push(c[0]);return c}function l(u){return u.map(s)}function f(u){var c=u.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:u.geometries.map(f)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:c,coordinates:h}}return f(e)}function $S(t,e){var n={},r={},i={},o=[],a=-1;e.forEach(function(f,u){var c=t.arcs[f<0?~f:f],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=e[++a],e[a]=f,e[u]=h)}),e.forEach(function(f){var u=s(f),c=u[0],h=u[1],d,p;if(d=i[c])if(delete i[d.end],d.push(f),d.end=h,p=r[h]){delete r[p.start];var b=p===d?d:d.concat(p);r[b.start=d.start]=i[b.end=p.end]=b}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(f),d.start=c,p=i[c]){delete i[p.end];var y=p===d?d:p.concat(d);r[y.start=p.start]=i[y.end=d.end]=y}else r[d.start]=i[d.end]=d;else d=[f],r[d.start=c]=i[d.end=h]=d});function s(f){var u=t.arcs[f<0?~f:f],c=u[0],h;return t.transform?(h=[0,0],u.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=u[u.length-1],f<0?[h,c]:[c,h]}function l(f,u){for(var c in f){var h=f[c];delete u[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),o.push(h)}}return l(i,r),l(r,i),e.forEach(function(f){n[f<0?~f:f]||o.push([f])}),o}function YS(t){return Jg(t,QS.apply(this,arguments))}function QS(t,e,n){var r,i,o;if(arguments.length>1)r=XS(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:$S(t,r)}}function XS(t,e,n){var r=[],i=[],o;function a(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:o})}function s(c){c.forEach(a)}function l(c){c.forEach(s)}function f(c){c.forEach(l)}function u(c){switch(o=c,c.type){case"GeometryCollection":c.geometries.forEach(u);break;case"LineString":s(c.arcs);break;case"MultiLineString":case"Polygon":l(c.arcs);break;case"MultiPolygon":f(c.arcs);break}}return u(e),i.forEach(n==null?function(c){r.push(c[0].i)}:function(c){n(c[0].g,c[c.length-1].g)&&r.push(c[0].i)}),r}function Na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KS(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sl(t){let e,n,r;t.length!==2?(e=Na,n=(s,l)=>Na(t(s),l),r=(s,l)=>t(s)-l):(e=t===Na||t===KS?t:JS,n=t,r=t);function i(s,l,f=0,u=s.length){if(f<u){if(e(l,l)!==0)return u;do{const c=f+u>>>1;n(s[c],l)<0?f=c+1:u=c}while(f<u)}return f}function o(s,l,f=0,u=s.length){if(f<u){if(e(l,l)!==0)return u;do{const c=f+u>>>1;n(s[c],l)<=0?f=c+1:u=c}while(f<u)}return f}function a(s,l,f=0,u=s.length){const c=i(s,l,f,u-1);return c>f&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:a,right:o}}function JS(){return 0}function em(t){return t===null?NaN:+t}const tm=sl(Na),qc=tm.right;tm.left,sl(em).center;const vo=qc;function e3(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class yi extends Map{constructor(e,n=r3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nm(this,e))}has(e){return super.has(nm(this,e))}set(e,n){return super.set(t3(this,e),n)}delete(e){return super.delete(n3(this,e))}}function nm({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function t3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function n3({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function r3(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wc(t){return t}function fl(t,...e){return rm(t,Wc,Wc,e)}function i3(t,...e){return rm(t,Array.from,Wc,e)}function rm(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new yi,l=r[a++];let f=-1;for(const u of o){const c=l(u,++f,o),h=s.get(c);h?h.push(u):s.set(c,[u])}for(const[u,c]of s)s.set(u,i(c,a));return e(s)}(t,0)}var Zc=Math.sqrt(50),$c=Math.sqrt(10),Yc=Math.sqrt(2);function ll(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=im(t,e,n))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),f=Math.round(e/s);for(l*s<t&&++l,f*s>e&&--f,a=new Array(o=f-l+1);++i<o;)a[i]=(l+i)*s}else{s=-s;let l=Math.round(t*s),f=Math.round(e*s);for(l/s<t&&++l,f/s>e&&--f,a=new Array(o=f-l+1);++i<o;)a[i]=(l+i)/s}return r&&a.reverse(),a}function im(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Zc?10:o>=$c?5:o>=Yc?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Zc?10:o>=$c?5:o>=Yc?2:1)}function wi(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Zc?i*=10:o>=$c?i*=5:o>=Yc&&(i*=2),e<t?-i:i}function om(t,e,n=em){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function La(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ul(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function o3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ao(t){return t=cl(Math.abs(t)),t?t[1]:NaN}function a3(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function s3(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var f3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _r(t){if(!(e=f3.exec(t)))throw new Error("invalid format: "+t);var e;return new Qc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_r.prototype=Qc.prototype;function Qc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l3(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var am;function u3(t,e){var n=cl(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(am=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cl(t,Math.max(0,e+o-1))[0]}function sm(t,e){var n=cl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fm={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:o3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sm(t*100,e),r:sm,s:u3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lm(t){return t}var um=Array.prototype.map,cm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c3(t){var e=t.grouping===void 0||t.thousands===void 0?lm:a3(um.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lm:s3(um.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function f(c){c=_r(c);var h=c.fill,d=c.align,p=c.sign,b=c.symbol,y=c.zero,w=c.width,S=c.comma,C=c.precision,_=c.trim,k=c.type;k==="n"?(S=!0,k="g"):fm[k]||(C===void 0&&(C=12),_=!0,k="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var D=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",I=b==="$"?r:/[%p]/.test(k)?a:"",R=fm[k],M=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function j(L){var ne=D,ae=I,de,ke,Qe;if(k==="c")ae=R(L)+ae,L="";else{L=+L;var Be=L<0||1/L<0;if(L=isNaN(L)?l:R(Math.abs(L),C),_&&(L=l3(L)),Be&&+L==0&&p!=="+"&&(Be=!1),ne=(Be?p==="("?p:s:p==="-"||p==="("?"":p)+ne,ae=(k==="s"?cm[8+am/3]:"")+ae+(Be&&p==="("?")":""),M){for(de=-1,ke=L.length;++de<ke;)if(Qe=L.charCodeAt(de),48>Qe||Qe>57){ae=(Qe===46?i+L.slice(de+1):L.slice(de))+ae,L=L.slice(0,de);break}}}S&&!y&&(L=e(L,1/0));var Ke=ne.length+L.length+ae.length,qe=Ke<w?new Array(w-Ke+1).join(h):"";switch(S&&y&&(L=e(qe+L,qe.length?w-ae.length:1/0),qe=""),d){case"<":L=ne+L+ae+qe;break;case"=":L=ne+qe+L+ae;break;case"^":L=qe.slice(0,Ke=qe.length>>1)+ne+L+ae+qe.slice(Ke);break;default:L=qe+ne+L+ae;break}return o(L)}return j.toString=function(){return c+""},j}function u(c,h){var d=f((c=_r(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Ao(h)/3)))*3,b=Math.pow(10,-p),y=cm[8+p/3];return function(w){return d(b*w)+y}}return{format:f,formatPrefix:u}}var hl,pt,Xc;h3({thousands:",",grouping:[3],currency:["$",""]});function h3(t){return hl=c3(t),pt=hl.format,Xc=hl.formatPrefix,hl}function hm(t){return Math.max(0,-Ao(Math.abs(t)))}function dm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(e)/3)))*3-Ao(Math.abs(t)))}function pm(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ao(e)-Ao(t))+1}var Kc=new Date,Jc=new Date;function at(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=function(o,a){return e(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,s){var l=[],f;if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;do l.push(f=new Date(+o)),e(o,s),t(o);while(f<o&&o<a);return l},i.filter=function(o){return at(function(a){if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},function(a,s){if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););})},n&&(i.count=function(o,a){return Kc.setTime(+o),Jc.setTime(+a),t(Kc),t(Jc),Math.floor(n(Kc,Jc))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var dl=at(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});dl.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?at(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):dl};const eh=dl;dl.range;const tr=1e3,en=tr*60,nr=en*60,xi=nr*24,th=xi*7,gm=xi*30,nh=xi*365;var mm=at(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*tr)},function(t,e){return(e-t)/tr},function(t){return t.getUTCSeconds()});const Sr=mm;mm.range;var bm=at(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tr)},function(t,e){t.setTime(+t+e*en)},function(t,e){return(e-t)/en},function(t){return t.getMinutes()});const rh=bm;bm.range;var ym=at(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tr-t.getMinutes()*en)},function(t,e){t.setTime(+t+e*nr)},function(t,e){return(e-t)/nr},function(t){return t.getHours()});const ih=ym;ym.range;var wm=at(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*en)/xi,t=>t.getDate()-1);const vi=wm;wm.range;function Ai(t){return at(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*en)/th})}var za=Ai(0),pl=Ai(1),d3=Ai(2),p3=Ai(3),Eo=Ai(4),g3=Ai(5),m3=Ai(6);za.range,pl.range,d3.range,p3.range,Eo.range,g3.range,m3.range;var xm=at(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const gl=xm;xm.range;var oh=at(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});oh.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:at(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const Cr=oh;oh.range;var vm=at(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*en)},function(t,e){return(e-t)/en},function(t){return t.getUTCMinutes()});const ah=vm;vm.range;var Am=at(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*nr)},function(t,e){return(e-t)/nr},function(t){return t.getUTCHours()});const sh=Am;Am.range;var Em=at(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/xi},function(t){return t.getUTCDate()-1});const Ei=Em;Em.range;function _i(t){return at(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/th})}var Ua=_i(0),ml=_i(1),b3=_i(2),y3=_i(3),_o=_i(4),w3=_i(5),x3=_i(6);Ua.range,ml.range,b3.range,y3.range,_o.range,w3.range,x3.range;var _m=at(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const bl=_m;_m.range;var fh=at(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});fh.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:at(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const Tr=fh;fh.range;function Sm(t,e,n,r,i,o){const a=[[Sr,1,tr],[Sr,5,5*tr],[Sr,15,15*tr],[Sr,30,30*tr],[o,1,en],[o,5,5*en],[o,15,15*en],[o,30,30*en],[i,1,nr],[i,3,3*nr],[i,6,6*nr],[i,12,12*nr],[r,1,xi],[r,2,2*xi],[n,1,th],[e,1,gm],[e,3,3*gm],[t,1,nh]];function s(f,u,c){const h=u<f;h&&([f,u]=[u,f]);const d=c&&typeof c.range=="function"?c:l(f,u,c),p=d?d.range(f,+u+1):[];return h?p.reverse():p}function l(f,u,c){const h=Math.abs(u-f)/c,d=sl(([,,y])=>y).right(a,h);if(d===a.length)return t.every(wi(f/nh,u/nh,c));if(d===0)return eh.every(Math.max(wi(f,u,c),1));const[p,b]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(b)}return[s,l]}const[v3,A3]=Sm(Tr,bl,Ua,Ei,sh,ah),[E3,_3]=Sm(Cr,gl,za,vi,ih,rh),Ga="year",Ha="quarter",Va="month",ja="week",qa="date",yl="day",lh="dayofyear",Wa="hours",Za="minutes",$a="seconds",wl="milliseconds";[Ga,Ha,Va,ja,qa,yl,lh,Wa,Za,$a,wl].reduce((t,e,n)=>(t[e]=1+n,t),{});const S3={[Ga]:Cr,[Ha]:gl.every(3),[Va]:gl,[ja]:za,[qa]:vi,[yl]:vi,[lh]:vi,[Wa]:ih,[Za]:rh,[$a]:Sr,[wl]:eh},C3={[Ga]:Tr,[Ha]:bl.every(3),[Va]:bl,[ja]:Ua,[qa]:Ei,[yl]:Ei,[lh]:Ei,[Wa]:sh,[Za]:ah,[$a]:Sr,[wl]:eh};function T3(t){return S3[t]}function I3(t){return C3[t]}function uh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ch(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ya(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,f=Qa(i),u=Xa(i),c=Qa(o),h=Xa(o),d=Qa(a),p=Xa(a),b=Qa(s),y=Xa(s),w=Qa(l),S=Xa(l),C={a:Be,A:Ke,b:qe,B:Je,c:null,d:Fm,e:Fm,f:X3,g:sC,G:lC,H:$3,I:Y3,j:Q3,L:Rm,m:K3,M:J3,p:Ee,q:_e,Q:zm,s:Um,S:eC,u:tC,U:nC,V:rC,w:iC,W:oC,x:null,X:null,y:aC,Y:fC,Z:uC,"%":Lm},_={a:dt,A:Ht,b:Ne,B:O,c:null,d:Mm,e:Mm,f:pC,g:_C,G:CC,H:cC,I:hC,j:dC,L:Om,m:gC,M:mC,p:P,q,Q:zm,s:Um,S:bC,u:yC,U:wC,V:xC,w:vC,W:AC,x:null,X:null,y:EC,Y:SC,Z:TC,"%":Lm},k={a:j,A:L,b:ne,B:ae,c:de,d:Dm,e:Dm,f:j3,g:km,G:Im,H:Bm,I:Bm,j:U3,L:V3,m:z3,M:G3,p:M,q:L3,Q:W3,s:Z3,S:H3,u:R3,U:P3,V:M3,w:F3,W:O3,x:ke,X:Qe,y:km,Y:Im,Z:N3,"%":q3};C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),_.x=D(n,_),_.X=D(r,_),_.c=D(e,_);function D(H,Z){return function(E){var v=[],G=-1,W=0,se=H.length,J,fe,Vt;for(E instanceof Date||(E=new Date(+E));++G<se;)H.charCodeAt(G)===37&&(v.push(H.slice(W,G)),(fe=Tm[J=H.charAt(++G)])!=null?J=H.charAt(++G):fe=J==="e"?" ":"0",(Vt=Z[J])&&(J=Vt(E,fe)),v.push(J),W=G+1);return v.push(H.slice(W,G)),v.join("")}}function I(H,Z){return function(E){var v=Ya(1900,void 0,1),G=R(v,H,E+="",0),W,se;if(G!=E.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(Z&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(W=ch(Ya(v.y,0,1)),se=W.getUTCDay(),W=se>4||se===0?ml.ceil(W):ml(W),W=Ei.offset(W,(v.V-1)*7),v.y=W.getUTCFullYear(),v.m=W.getUTCMonth(),v.d=W.getUTCDate()+(v.w+6)%7):(W=uh(Ya(v.y,0,1)),se=W.getDay(),W=se>4||se===0?pl.ceil(W):pl(W),W=vi.offset(W,(v.V-1)*7),v.y=W.getFullYear(),v.m=W.getMonth(),v.d=W.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),se="Z"in v?ch(Ya(v.y,0,1)).getUTCDay():uh(Ya(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(se+5)%7:v.w+v.U*7-(se+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,ch(v)):uh(v)}}function R(H,Z,E,v){for(var G=0,W=Z.length,se=E.length,J,fe;G<W;){if(v>=se)return-1;if(J=Z.charCodeAt(G++),J===37){if(J=Z.charAt(G++),fe=k[J in Tm?Z.charAt(G++):J],!fe||(v=fe(H,E,v))<0)return-1}else if(J!=E.charCodeAt(v++))return-1}return v}function M(H,Z,E){var v=f.exec(Z.slice(E));return v?(H.p=u.get(v[0].toLowerCase()),E+v[0].length):-1}function j(H,Z,E){var v=d.exec(Z.slice(E));return v?(H.w=p.get(v[0].toLowerCase()),E+v[0].length):-1}function L(H,Z,E){var v=c.exec(Z.slice(E));return v?(H.w=h.get(v[0].toLowerCase()),E+v[0].length):-1}function ne(H,Z,E){var v=w.exec(Z.slice(E));return v?(H.m=S.get(v[0].toLowerCase()),E+v[0].length):-1}function ae(H,Z,E){var v=b.exec(Z.slice(E));return v?(H.m=y.get(v[0].toLowerCase()),E+v[0].length):-1}function de(H,Z,E){return R(H,e,Z,E)}function ke(H,Z,E){return R(H,n,Z,E)}function Qe(H,Z,E){return R(H,r,Z,E)}function Be(H){return a[H.getDay()]}function Ke(H){return o[H.getDay()]}function qe(H){return l[H.getMonth()]}function Je(H){return s[H.getMonth()]}function Ee(H){return i[+(H.getHours()>=12)]}function _e(H){return 1+~~(H.getMonth()/3)}function dt(H){return a[H.getUTCDay()]}function Ht(H){return o[H.getUTCDay()]}function Ne(H){return l[H.getUTCMonth()]}function O(H){return s[H.getUTCMonth()]}function P(H){return i[+(H.getUTCHours()>=12)]}function q(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var Z=D(H+="",C);return Z.toString=function(){return H},Z},parse:function(H){var Z=I(H+="",!1);return Z.toString=function(){return H},Z},utcFormat:function(H){var Z=D(H+="",_);return Z.toString=function(){return H},Z},utcParse:function(H){var Z=I(H+="",!0);return Z.toString=function(){return H},Z}}}var Tm={"-":"",_:" ",0:"0"},st=/^\s*\d+/,k3=/^%/,D3=/[\\^$*+?|[\]().{}]/g;function ge(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function B3(t){return t.replace(D3,"\\$&")}function Qa(t){return new RegExp("^(?:"+t.map(B3).join("|")+")","i")}function Xa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function F3(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function R3(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function P3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function M3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function O3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Im(t,e,n){var r=st.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function km(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function N3(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function L3(t,e,n){var r=st.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function z3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dm(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function U3(t,e,n){var r=st.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bm(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function G3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function H3(t,e,n){var r=st.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function V3(t,e,n){var r=st.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function j3(t,e,n){var r=st.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function q3(t,e,n){var r=k3.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function W3(t,e,n){var r=st.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Z3(t,e,n){var r=st.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Fm(t,e){return ge(t.getDate(),e,2)}function $3(t,e){return ge(t.getHours(),e,2)}function Y3(t,e){return ge(t.getHours()%12||12,e,2)}function Q3(t,e){return ge(1+vi.count(Cr(t),t),e,3)}function Rm(t,e){return ge(t.getMilliseconds(),e,3)}function X3(t,e){return Rm(t,e)+"000"}function K3(t,e){return ge(t.getMonth()+1,e,2)}function J3(t,e){return ge(t.getMinutes(),e,2)}function eC(t,e){return ge(t.getSeconds(),e,2)}function tC(t){var e=t.getDay();return e===0?7:e}function nC(t,e){return ge(za.count(Cr(t)-1,t),e,2)}function Pm(t){var e=t.getDay();return e>=4||e===0?Eo(t):Eo.ceil(t)}function rC(t,e){return t=Pm(t),ge(Eo.count(Cr(t),t)+(Cr(t).getDay()===4),e,2)}function iC(t){return t.getDay()}function oC(t,e){return ge(pl.count(Cr(t)-1,t),e,2)}function aC(t,e){return ge(t.getFullYear()%100,e,2)}function sC(t,e){return t=Pm(t),ge(t.getFullYear()%100,e,2)}function fC(t,e){return ge(t.getFullYear()%1e4,e,4)}function lC(t,e){var n=t.getDay();return t=n>=4||n===0?Eo(t):Eo.ceil(t),ge(t.getFullYear()%1e4,e,4)}function uC(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ge(e/60|0,"0",2)+ge(e%60,"0",2)}function Mm(t,e){return ge(t.getUTCDate(),e,2)}function cC(t,e){return ge(t.getUTCHours(),e,2)}function hC(t,e){return ge(t.getUTCHours()%12||12,e,2)}function dC(t,e){return ge(1+Ei.count(Tr(t),t),e,3)}function Om(t,e){return ge(t.getUTCMilliseconds(),e,3)}function pC(t,e){return Om(t,e)+"000"}function gC(t,e){return ge(t.getUTCMonth()+1,e,2)}function mC(t,e){return ge(t.getUTCMinutes(),e,2)}function bC(t,e){return ge(t.getUTCSeconds(),e,2)}function yC(t){var e=t.getUTCDay();return e===0?7:e}function wC(t,e){return ge(Ua.count(Tr(t)-1,t),e,2)}function Nm(t){var e=t.getUTCDay();return e>=4||e===0?_o(t):_o.ceil(t)}function xC(t,e){return t=Nm(t),ge(_o.count(Tr(t),t)+(Tr(t).getUTCDay()===4),e,2)}function vC(t){return t.getUTCDay()}function AC(t,e){return ge(ml.count(Tr(t)-1,t),e,2)}function EC(t,e){return ge(t.getUTCFullYear()%100,e,2)}function _C(t,e){return t=Nm(t),ge(t.getUTCFullYear()%100,e,2)}function SC(t,e){return ge(t.getUTCFullYear()%1e4,e,4)}function CC(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_o(t):_o.ceil(t),ge(t.getUTCFullYear()%1e4,e,4)}function TC(){return"+0000"}function Lm(){return"%"}function zm(t){return+t}function Um(t){return Math.floor(+t/1e3)}var So,hh,Gm,dh,Hm;IC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IC(t){return So=Cm(t),hh=So.format,Gm=So.parse,dh=So.utcFormat,Hm=So.utcParse,So}function Ka(t){const e={};return n=>e[n]||(e[n]=t(n))}function kC(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=DC(r,i);const a=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+a}}function DC(t,e){let n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}function BC(t){const e=Ka(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(r){const i=_r(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return kC(e(i),e(".1f")(1)[1])}else return e(i)},formatSpan(r,i,o,a){a=_r(a??",f");const s=wi(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let f;if(a.precision==null)switch(a.type){case"s":return isNaN(f=dm(s,l))||(a.precision=f),n(a,l);case"":case"e":case"g":case"p":case"r":{isNaN(f=pm(s,l))||(a.precision=f-(a.type==="e"));break}case"f":case"%":{isNaN(f=hm(s))||(a.precision=f-(a.type==="%")*2);break}}return e(a)}}}FC();function FC(){return BC({format:pt,formatPrefix:Xc})}function Vm(t,e,n){n=n||{},Wt(n)||$e("Invalid time multi-format specifier: ".concat(n));const r=e($a),i=e(Za),o=e(Wa),a=e(qa),s=e(ja),l=e(Va),f=e(Ha),u=e(Ga),c=t(n[wl]||".%L"),h=t(n[$a]||":%S"),d=t(n[Za]||"%I:%M"),p=t(n[Wa]||"%I %p"),b=t(n[qa]||n[yl]||"%a %d"),y=t(n[ja]||"%b %d"),w=t(n[Va]||"%B"),S=t(n[Ha]||"%B"),C=t(n[Ga]||"%Y");return _=>(r(_)<_?c:i(_)<_?h:o(_)<_?d:a(_)<_?p:l(_)<_?s(_)<_?b:y:u(_)<_?f(_)<_?w:S:C)(_)}function jm(t){const e=Ka(t.format),n=Ka(t.utcFormat);return{timeFormat:r=>Ye(r)?e(r):Vm(e,T3,r),utcFormat:r=>Ye(r)?n(r):Vm(n,I3,r),timeParse:Ka(t.parse),utcParse:Ka(t.utcParse)}}let ph;RC();function RC(){return ph=jm({format:hh,parse:Gm,utcFormat:dh,utcParse:Hm})}function PC(t){return jm(Cm(t))}function MC(t){return arguments.length?ph=PC(t):ph}const OC=/^(data:|([A-Za-z]+:)?\/\/)/,NC=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,LC=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,qm="file://";function zC(t,e){return n=>({options:n||{},sanitize:GC,load:UC,fileAccess:!!e,file:HC(e),http:jC(t)})}async function UC(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function GC(t,e){e=Gc({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,a;const s=NC.test(t.replace(LC,""));(t==null||typeof t!="string"||!s)&&$e("Sanitize failure, invalid URI: "+ol(t));const l=OC.test(t);return(a=e.baseURL)&&!l&&(!t.startsWith("/")&&!a.endsWith("/")&&(t="/"+t),t=a+t),o=(i=t.startsWith(qm))||e.mode==="file"||e.mode!=="http"&&!l&&n,i?t=t.slice(qm.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function HC(t){return t?e=>new Promise((n,r)=>{t.readFile(e,(i,o)=>{i?r(i):n(o)})}):VC}async function VC(){$e("No file system access.")}function jC(t){return t?async function(e,n){const r=Gc({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?Bt(o[i])?o[i]():o.text():$e(o.status+""+o.statusText)}:qC}async function qC(){$e("No HTTP fetch method available.")}const WC=t=>t!=null&&t===t,ZC=t=>t==="true"||t==="false"||t===!0||t===!1,$C=t=>!Number.isNaN(Date.parse(t)),Wm=t=>!Number.isNaN(+t)&&!(t instanceof Date),YC=t=>Wm(t)&&Number.isInteger(+t),Zm={boolean:MS,integer:Ma,number:Ma,date:NS,string:LS,unknown:el},xl=[ZC,YC,Wm,$C],QC=["boolean","integer","number","date"];function XC(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=xl.length,i=xl.map((o,a)=>a+1);for(let o=0,a=0,s,l;o<n;++o)for(l=e?t[o][e]:t[o],s=0;s<r;++s)if(i[s]&&WC(l)&&!xl[s](l)&&(i[s]=0,++a,a===xl.length))return"string";return QC[i.reduce((o,a)=>o===0?a:o,0)-1]}function KC(t,e){return e.reduce((n,r)=>(n[r]=XC(t,r),n),{})}function $m(t){const e=function(n,r){const i={delimiter:t};return gh(n,r?Gc(r,i):i)};return e.responseType="text",e}function gh(t,e){return e.header&&(t=e.header.map(ol).join(e.delimiter)+`
`+t),Xg(e.delimiter).parse(t+"")}gh.responseType="text";function JC(t){return typeof Buffer=="function"&&Bt(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function mh(t,e){const n=e&&e.property?Jf(e.property):el;return Wt(t)&&!JC(t)?e8(n(t),e):n(JSON.parse(t))}mh.responseType="json";function e8(t,e){return!qt(t)&&RS(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const t8={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function Ym(t,e){let n,r,i,o;return t=mh(t,e),e&&e.feature?(n=ZS,i=e.feature):e&&e.mesh?(n=YS,i=e.mesh,o=t8[e.filter]):$e("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):$e("Invalid TopoJSON object: "+i),r&&r.features||[r]}Ym.responseType="json";const bh={dsv:gh,csv:$m(","),tsv:$m("	"),json:mh,topojson:Ym};function Qm(t,e){return arguments.length>1?(bh[t]=e,this):bi(bh,t)?bh[t]:null}function Xm(t,e,n,r){e=e||{};const i=Qm(e.type||"json");return i||$e("Unknown data format type: "+e.type),t=i(t,e),e.parse&&n8(t,e.parse,n,r),bi(t,"columns")&&delete t.columns,t}function n8(t,e,n,r){if(!t.length)return;const i=MC();n=n||i.timeParse,r=r||i.utcParse;let o=t.columns||Object.keys(t[0]),a,s,l,f,u,c;e==="auto"&&(e=KC(t,o)),o=Object.keys(e);const h=o.map(d=>{const p=e[d];let b,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return b=p.split(/:(.+)?/,2),y=b[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(b[0]==="utc"?r:n)(y);if(!Zm[p])throw Error("Illegal format pattern: "+d+":"+p);return Zm[p]});for(l=0,u=t.length,c=o.length;l<u;++l)for(a=t[l],f=0;f<c;++f)s=o[f],a[s]=h[f](a[s])}const vl=zC(typeof fetch<"u"&&fetch,null);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ja=globalThis,Al=Ja.trustedTypes,Km=Al?Al.createPolicy("lit-html",{createHTML:t=>t}):void 0,Jm="$lit$",Ir=`lit$${(Math.random()+"").slice(9)}$`,e1="?"+Ir,r8=`<${e1}>`,Si=document,es=()=>Si.createComment(""),ts=t=>t===null||typeof t!="object"&&typeof t!="function",t1=Array.isArray,i8=t=>t1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",yh=`[ 	
\f\r]`,ns=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,n1=/-->/g,r1=/>/g,Ci=RegExp(`>|${yh}(?:([^\\s"'>=/]+)(${yh}*=${yh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),i1=/'/g,o1=/"/g,a1=/^(?:script|style|textarea|title)$/i,o8=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),wn=o8(1),Ti=Symbol.for("lit-noChange"),Xe=Symbol.for("lit-nothing"),s1=new WeakMap,Ii=Si.createTreeWalker(Si,129);function f1(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Km!==void 0?Km.createHTML(e):e}const a8=(t,e)=>{const n=t.length-1,r=[];let i,o=e===2?"<svg>":"",a=ns;for(let s=0;s<n;s++){const l=t[s];let f,u,c=-1,h=0;for(;h<l.length&&(a.lastIndex=h,u=a.exec(l),u!==null);)h=a.lastIndex,a===ns?u[1]==="!--"?a=n1:u[1]!==void 0?a=r1:u[2]!==void 0?(a1.test(u[2])&&(i=RegExp("</"+u[2],"g")),a=Ci):u[3]!==void 0&&(a=Ci):a===Ci?u[0]===">"?(a=i??ns,c=-1):u[1]===void 0?c=-2:(c=a.lastIndex-u[2].length,f=u[1],a=u[3]===void 0?Ci:u[3]==='"'?o1:i1):a===o1||a===i1?a=Ci:a===n1||a===r1?a=ns:(a=Ci,i=void 0);const d=a===Ci&&t[s+1].startsWith("/>")?" ":"";o+=a===ns?l+r8:c>=0?(r.push(f),l.slice(0,c)+Jm+l.slice(c)+Ir+d):l+Ir+(c===-2?s:d)}return[f1(t,o+(t[n]||"<?>")+(e===2?"</svg>":"")),r]};class rs{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,a=0;const s=e.length-1,l=this.parts,[f,u]=a8(e,n);if(this.el=rs.createElement(f,r),Ii.currentNode=this.el.content,n===2){const c=this.el.content.firstChild;c.replaceWith(...c.childNodes)}for(;(i=Ii.nextNode())!==null&&l.length<s;){if(i.nodeType===1){if(i.hasAttributes())for(const c of i.getAttributeNames())if(c.endsWith(Jm)){const h=u[a++],d=i.getAttribute(c).split(Ir),p=/([.?@])?(.*)/.exec(h);l.push({type:1,index:o,name:p[2],strings:d,ctor:p[1]==="."?f8:p[1]==="?"?l8:p[1]==="@"?u8:El}),i.removeAttribute(c)}else c.startsWith(Ir)&&(l.push({type:6,index:o}),i.removeAttribute(c));if(a1.test(i.tagName)){const c=i.textContent.split(Ir),h=c.length-1;if(h>0){i.textContent=Al?Al.emptyScript:"";for(let d=0;d<h;d++)i.append(c[d],es()),Ii.nextNode(),l.push({type:2,index:++o});i.append(c[h],es())}}}else if(i.nodeType===8)if(i.data===e1)l.push({type:2,index:o});else{let c=-1;for(;(c=i.data.indexOf(Ir,c+1))!==-1;)l.push({type:7,index:o}),c+=Ir.length-1}o++}}static createElement(e,n){const r=Si.createElement("template");return r.innerHTML=e,r}}function Co(t,e,n=t,r){var a,s;if(e===Ti)return e;let i=r!==void 0?(a=n._$Co)==null?void 0:a[r]:n._$Cl;const o=ts(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==o&&((s=i==null?void 0:i._$AO)==null||s.call(i,!1),o===void 0?i=void 0:(i=new o(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Co(t,i._$AS(t,e.values),i,r)),e}let s8=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??Si).importNode(n,!0);Ii.currentNode=i;let o=Ii.nextNode(),a=0,s=0,l=r[0];for(;l!==void 0;){if(a===l.index){let f;l.type===2?f=new is(o,o.nextSibling,this,e):l.type===1?f=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(f=new c8(o,this,e)),this._$AV.push(f),l=r[++s]}a!==(l==null?void 0:l.index)&&(o=Ii.nextNode(),a++)}return Ii.currentNode=Si,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}};class is{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=Xe,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Co(this,e,n),ts(e)?e===Xe||e==null||e===""?(this._$AH!==Xe&&this._$AR(),this._$AH=Xe):e!==this._$AH&&e!==Ti&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):i8(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Xe&&ts(this._$AH)?this._$AA.nextSibling.data=e:this.$(Si.createTextNode(e)),this._$AH=e}g(e){var o;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=rs.createElement(f1(r.h,r.h[0]),this.options)),r);if(((o=this._$AH)==null?void 0:o._$AD)===i)this._$AH.p(n);else{const a=new s8(i,this),s=a.u(this.options);a.p(n),this.$(s),this._$AH=a}}_$AC(e){let n=s1.get(e.strings);return n===void 0&&s1.set(e.strings,n=new rs(e)),n}T(e){t1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const o of e)i===n.length?n.push(r=new is(this.k(es()),this.k(es()),this,this.options)):r=n[i],r._$AI(o),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}let El=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,o){this.type=1,this._$AH=Xe,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Xe}_$AI(e,n=this,r,i){const o=this.strings;let a=!1;if(o===void 0)e=Co(this,e,n,0),a=!ts(e)||e!==this._$AH&&e!==Ti,a&&(this._$AH=e);else{const s=e;let l,f;for(e=o[0],l=0;l<o.length-1;l++)f=Co(this,s[r+l],n,l),f===Ti&&(f=this._$AH[l]),a||(a=!ts(f)||f!==this._$AH[l]),f===Xe?e=Xe:e!==Xe&&(e+=(f??"")+o[l+1]),this._$AH[l]=f}a&&!i&&this.O(e)}O(e){e===Xe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class f8 extends El{constructor(){super(...arguments),this.type=3}O(e){this.element[this.name]=e===Xe?void 0:e}}class l8 extends El{constructor(){super(...arguments),this.type=4}O(e){this.element.toggleAttribute(this.name,!!e&&e!==Xe)}}class u8 extends El{constructor(e,n,r,i,o){super(e,n,r,i,o),this.type=5}_$AI(e,n=this){if((e=Co(this,e,n,0)??Xe)===Ti)return;const r=this._$AH,i=e===Xe&&r!==Xe||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==Xe&&(r===Xe||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class c8{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Co(this,e)}}const wh=Ja.litHtmlPolyfillSupport;wh==null||wh(rs,is),(Ja.litHtmlVersions??(Ja.litHtmlVersions=[])).push("3.1.0");const xh=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const o=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new is(e.insertBefore(es(),o),o,void 0,n??{})}return i._$AI(t),i},h8=`.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
}
.genome-spy canvas {
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy.loading canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy.loading .loading-message .message {
  opacity: 1;
}
.genome-spy.loading .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 13px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}`;function d8(t,e){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}function _l(t,e){return t.length==e.length&&t.every((n,r)=>t[r]===e[r])}function Zt(t){return Array.isArray(t)?t:typeof t<"u"?[t]:[]}function os(t){return t[t.length-1]}class p8{constructor(e){this.container=e,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(e){e!=this._visible&&(this.element.style.display=e?null:"none",this._visible=e)}get visible(){return this._visible}get enabled(){return os(this.enabledStack)??!0}pushEnabledState(e){this.enabledStack.push(e),e||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(e){this.mouseCoords=d8(this.container,e);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&g8(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(e){if(!e||!this.enabled||this._isPenalty()){this.visible&&(xh("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}xh(e,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(e,n){e!==this._previousTooltipDatum&&(this._previousTooltipDatum=e,n||(n=r=>Promise.resolve(wn` ${JSON.stringify(r)} `)),n(e).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function g8(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}const m8="RawCode",b8="Literal",y8="Property",w8="Identifier",x8="ArrayExpression",v8="BinaryExpression",A8="CallExpression",E8="ConditionalExpression",_8="LogicalExpression",S8="MemberExpression",C8="ObjectExpression",T8="UnaryExpression";function xn(t){this.type=t}xn.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=I8(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};function I8(t){switch(t.type){case x8:return t.elements;case v8:case _8:return[t.left,t.right];case A8:return[t.callee].concat(t.arguments);case E8:return[t.test,t.consequent,t.alternate];case S8:return[t.object,t.property];case C8:return t.properties;case y8:return[t.key,t.value];case T8:return[t.argument];case w8:case b8:case m8:default:return[]}}var Pn,K,U,wt,Te,Sl=1,as=2,ki=3,kr=4,Cl=5,Di=6,Pt=7,ss=8,k8=9;Pn={},Pn[Sl]="Boolean",Pn[as]="<end>",Pn[ki]="Identifier",Pn[kr]="Keyword",Pn[Cl]="Null",Pn[Di]="Numeric",Pn[Pt]="Punctuator",Pn[ss]="String",Pn[k8]="RegularExpression";var D8="ArrayExpression",B8="BinaryExpression",F8="CallExpression",R8="ConditionalExpression",l1="Identifier",P8="Literal",M8="LogicalExpression",O8="MemberExpression",N8="ObjectExpression",L8="Property",z8="UnaryExpression",ft="Unexpected token %0",U8="Unexpected number",G8="Unexpected string",H8="Unexpected identifier",V8="Unexpected reserved word",j8="Unexpected end of input",vh="Invalid regular expression",Ah="Invalid regular expression: missing /",u1="Octal literals are not allowed in strict mode.",q8="Duplicate data property in object literal not allowed in strict mode",gt="ILLEGAL",fs="Disabled.",W8=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Z8=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Tl(t,e){if(!t)throw new Error("ASSERT: "+e)}function rr(t){return t>=48&&t<=57}function Eh(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function ls(t){return"01234567".indexOf(t)>=0}function $8(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function us(t){return t===10||t===13||t===8232||t===8233}function cs(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&W8.test(String.fromCharCode(t))}function Il(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&Z8.test(String.fromCharCode(t))}const Y8={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function c1(){for(;U<wt;){const t=K.charCodeAt(U);if($8(t)||us(t))++U;else break}}function _h(t){var e,n,r,i=0;for(n=t==="u"?4:2,e=0;e<n;++e)U<wt&&Eh(K[U])?(r=K[U++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):me({},ft,gt);return String.fromCharCode(i)}function Q8(){var t,e,n,r;for(t=K[U],e=0,t==="}"&&me({},ft,gt);U<wt&&(t=K[U++],!!Eh(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&me({},ft,gt),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(n,r))}function h1(){var t,e;for(t=K.charCodeAt(U++),e=String.fromCharCode(t),t===92&&(K.charCodeAt(U)!==117&&me({},ft,gt),++U,t=_h("u"),(!t||t==="\\"||!cs(t.charCodeAt(0)))&&me({},ft,gt),e=t);U<wt&&(t=K.charCodeAt(U),!!Il(t));)++U,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),K.charCodeAt(U)!==117&&me({},ft,gt),++U,t=_h("u"),(!t||t==="\\"||!Il(t.charCodeAt(0)))&&me({},ft,gt),e+=t);return e}function X8(){var t,e;for(t=U++;U<wt;){if(e=K.charCodeAt(U),e===92)return U=t,h1();if(Il(e))++U;else break}return K.slice(t,U)}function K8(){var t,e,n;return t=U,e=K.charCodeAt(U)===92?h1():X8(),e.length===1?n=ki:Y8.hasOwnProperty(e)?n=kr:e==="null"?n=Cl:e==="true"||e==="false"?n=Sl:n=ki,{type:n,value:e,start:t,end:U}}function Sh(){var t=U,e=K.charCodeAt(U),n,r=K[U],i,o,a;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++U,{type:Pt,value:String.fromCharCode(e),start:t,end:U};default:if(n=K.charCodeAt(U+1),n===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return U+=2,{type:Pt,value:String.fromCharCode(e)+String.fromCharCode(n),start:t,end:U};case 33:case 61:return U+=2,K.charCodeAt(U)===61&&++U,{type:Pt,value:K.slice(t,U),start:t,end:U}}}if(a=K.substr(U,4),a===">>>=")return U+=4,{type:Pt,value:a,start:t,end:U};if(o=a.substr(0,3),o===">>>"||o==="<<="||o===">>=")return U+=3,{type:Pt,value:o,start:t,end:U};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return U+=2,{type:Pt,value:i,start:t,end:U};if(i==="//"&&me({},ft,gt),"<>=!+-*%&|^/".indexOf(r)>=0)return++U,{type:Pt,value:r,start:t,end:U};me({},ft,gt)}function J8(t){let e="";for(;U<wt&&Eh(K[U]);)e+=K[U++];return e.length===0&&me({},ft,gt),cs(K.charCodeAt(U))&&me({},ft,gt),{type:Di,value:parseInt("0x"+e,16),start:t,end:U}}function e4(t){let e="0"+K[U++];for(;U<wt&&ls(K[U]);)e+=K[U++];return(cs(K.charCodeAt(U))||rr(K.charCodeAt(U)))&&me({},ft,gt),{type:Di,value:parseInt(e,8),octal:!0,start:t,end:U}}function d1(){var t,e,n;if(n=K[U],Tl(rr(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),e=U,t="",n!=="."){if(t=K[U++],n=K[U],t==="0"){if(n==="x"||n==="X")return++U,J8(e);if(ls(n))return e4(e);n&&rr(n.charCodeAt(0))&&me({},ft,gt)}for(;rr(K.charCodeAt(U));)t+=K[U++];n=K[U]}if(n==="."){for(t+=K[U++];rr(K.charCodeAt(U));)t+=K[U++];n=K[U]}if(n==="e"||n==="E")if(t+=K[U++],n=K[U],(n==="+"||n==="-")&&(t+=K[U++]),rr(K.charCodeAt(U)))for(;rr(K.charCodeAt(U));)t+=K[U++];else me({},ft,gt);return cs(K.charCodeAt(U))&&me({},ft,gt),{type:Di,value:parseFloat(t),start:e,end:U}}function t4(){var t="",e,n,r,i,o=!1;for(e=K[U],Tl(e==="'"||e==='"',"String literal must starts with a quote"),n=U,++U;U<wt;)if(r=K[U++],r===e){e="";break}else if(r==="\\")if(r=K[U++],!r||!us(r.charCodeAt(0)))switch(r){case"u":case"x":K[U]==="{"?(++U,t+=Q8()):t+=_h(r);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:ls(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),U<wt&&ls(K[U])&&(o=!0,i=i*8+"01234567".indexOf(K[U++]),"0123".indexOf(r)>=0&&U<wt&&ls(K[U])&&(i=i*8+"01234567".indexOf(K[U++]))),t+=String.fromCharCode(i)):t+=r;break}else r==="\r"&&K[U]===`
`&&++U;else{if(us(r.charCodeAt(0)))break;t+=r}return e!==""&&me({},ft,gt),{type:ss,value:t,octal:o,start:n,end:U}}function n4(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";me({},vh)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{me({},vh)}try{return new RegExp(t,e)}catch{return null}}function r4(){var t,e,n,r,i;for(t=K[U],Tl(t==="/","Regular expression literal must start with a slash"),e=K[U++],n=!1,r=!1;U<wt;)if(t=K[U++],e+=t,t==="\\")t=K[U++],us(t.charCodeAt(0))&&me({},Ah),e+=t;else if(us(t.charCodeAt(0)))me({},Ah);else if(n)t==="]"&&(n=!1);else if(t==="/"){r=!0;break}else t==="["&&(n=!0);return r||me({},Ah),i=e.substr(1,e.length-2),{value:i,literal:e}}function i4(){var t,e,n;for(e="",n="";U<wt&&(t=K[U],!!Il(t.charCodeAt(0)));)++U,t==="\\"&&U<wt?me({},ft,gt):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&me({},vh,n),{value:n,literal:e}}function o4(){var t,e,n,r;return Te=null,c1(),t=U,e=r4(),n=i4(),r=n4(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:U}}function a4(t){return t.type===ki||t.type===kr||t.type===Sl||t.type===Cl}function p1(){if(c1(),U>=wt)return{type:as,start:U,end:U};const t=K.charCodeAt(U);return cs(t)?K8():t===40||t===41||t===59?Sh():t===39||t===34?t4():t===46?rr(K.charCodeAt(U+1))?d1():Sh():rr(t)?d1():Sh()}function Mt(){const t=Te;return U=t.end,Te=p1(),U=t.end,t}function g1(){const t=U;Te=p1(),U=t}function s4(t){const e=new xn(D8);return e.elements=t,e}function m1(t,e,n){const r=new xn(t==="||"||t==="&&"?M8:B8);return r.operator=t,r.left=e,r.right=n,r}function f4(t,e){const n=new xn(F8);return n.callee=t,n.arguments=e,n}function l4(t,e,n){const r=new xn(R8);return r.test=t,r.consequent=e,r.alternate=n,r}function Ch(t){const e=new xn(l1);return e.name=t,e}function hs(t){const e=new xn(P8);return e.value=t.value,e.raw=K.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function b1(t,e,n){const r=new xn(O8);return r.computed=t==="[",r.object=e,r.property=n,r.computed||(n.member=!0),r}function u4(t){const e=new xn(N8);return e.properties=t,e}function y1(t,e,n){const r=new xn(L8);return r.key=e,r.value=n,r.kind=t,r}function c4(t,e){const n=new xn(z8);return n.operator=t,n.argument=e,n.prefix=!0,n}function me(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(o,a)=>(Tl(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=U,n.description=i,n}function kl(t){t.type===as&&me(t,j8),t.type===Di&&me(t,U8),t.type===ss&&me(t,G8),t.type===ki&&me(t,H8),t.type===kr&&me(t,V8),me(t,ft,t.value)}function xt(t){const e=Mt();(e.type!==Pt||e.value!==t)&&kl(e)}function ze(t){return Te.type===Pt&&Te.value===t}function Th(t){return Te.type===kr&&Te.value===t}function h4(){const t=[];for(U=Te.start,xt("[");!ze("]");)ze(",")?(Mt(),t.push(null)):(t.push(Bi()),ze("]")||xt(","));return Mt(),s4(t)}function w1(){U=Te.start;const t=Mt();return t.type===ss||t.type===Di?(t.octal&&me(t,u1),hs(t)):Ch(t.value)}function d4(){var t,e,n,r;if(U=Te.start,t=Te,t.type===ki)return n=w1(),xt(":"),r=Bi(),y1("init",n,r);if(t.type===as||t.type===Pt)kl(t);else return e=w1(),xt(":"),r=Bi(),y1("init",e,r)}function p4(){var t=[],e,n,r,i={},o=String;for(U=Te.start,xt("{");!ze("}");)e=d4(),e.key.type===l1?n=e.key.name:n=o(e.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?me({},q8):i[r]=!0,t.push(e),ze("}")||xt(",");return xt("}"),u4(t)}function g4(){xt("(");const t=Ih();return xt(")"),t}const m4={if:1};function b4(){var t,e,n;if(ze("("))return g4();if(ze("["))return h4();if(ze("{"))return p4();if(t=Te.type,U=Te.start,t===ki||m4[Te.value])n=Ch(Mt().value);else if(t===ss||t===Di)Te.octal&&me(Te,u1),n=hs(Mt());else{if(t===kr)throw new Error(fs);t===Sl?(e=Mt(),e.value=e.value==="true",n=hs(e)):t===Cl?(e=Mt(),e.value=null,n=hs(e)):ze("/")||ze("/=")?(n=hs(o4()),g1()):kl(Mt())}return n}function y4(){const t=[];if(xt("("),!ze(")"))for(;U<wt&&(t.push(Bi()),!ze(")"));)xt(",");return xt(")"),t}function w4(){U=Te.start;const t=Mt();return a4(t)||kl(t),Ch(t.value)}function x4(){return xt("."),w4()}function v4(){xt("[");const t=Ih();return xt("]"),t}function A4(){var t,e,n;for(t=b4();;)if(ze("."))n=x4(),t=b1(".",t,n);else if(ze("("))e=y4(),t=f4(t,e);else if(ze("["))n=v4(),t=b1("[",t,n);else break;return t}function x1(){const t=A4();if(Te.type===Pt&&(ze("++")||ze("--")))throw new Error(fs);return t}function Dl(){var t,e;if(Te.type!==Pt&&Te.type!==kr)e=x1();else{if(ze("++")||ze("--"))throw new Error(fs);if(ze("+")||ze("-")||ze("~")||ze("!"))t=Mt(),e=Dl(),e=c4(t.value,e);else{if(Th("delete")||Th("void")||Th("typeof"))throw new Error(fs);e=x1()}}return e}function v1(t){let e=0;if(t.type!==Pt&&t.type!==kr)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function E4(){var t,e,n,r,i,o,a,s,l,f;if(t=Te,l=Dl(),r=Te,i=v1(r),i===0)return l;for(r.prec=i,Mt(),e=[t,Te],a=Dl(),o=[l,r,a];(i=v1(Te))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),e.pop(),n=m1(s,l,a),o.push(n);r=Mt(),r.prec=i,o.push(r),e.push(Te),n=Dl(),o.push(n)}for(f=o.length-1,n=o[f],e.pop();f>1;)e.pop(),n=m1(o[f-1].value,o[f-2],n),f-=2;return n}function Bi(){var t,e,n;return t=E4(),ze("?")&&(Mt(),e=Bi(),xt(":"),n=Bi(),t=l4(t,e,n)),t}function Ih(){const t=Bi();if(ze(","))throw new Error(fs);return t}function _4(t){K=t,U=0,wt=K.length,Te=null,g1();const e=Ih();if(Te.type!==as)throw new Error("Unexpect token after expression.");return e}var S4={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function C4(t){function e(a,s,l,f){let u=t(s[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+a+(f<0?"":f===0?"()":"("+s.slice(1).map(t).join(",")+")")}function n(a,s,l){return f=>e(a,f,s,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&$e("Missing arguments to clamp function."),a.length>3&&$e("Too many arguments to clamp function.");const s=a.map(t);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(a){a.length<3&&$e("Missing arguments to if function."),a.length>3&&$e("Too many arguments to if function.");const s=a.map(t);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function T4(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function I4(t){t=t||{};const e=t.allowed?al(t.allowed):{},n=t.forbidden?al(t.forbidden):{},r=t.constants||S4,i=(t.functions||C4)(c),o=t.globalvar,a=t.fieldvar,s=Bt(o)?o:p=>`${o}["${p}"]`;let l={},f={},u=0;function c(p){if(Ye(p))return p;const b=h[p.type];return b==null&&$e("Unsupported type: "+p.type),b(p)}const h={Literal:p=>p.raw,Identifier:p=>{const b=p.name;return u>0?b:bi(n,b)?$e("Illegal identifier: "+b):bi(r,b)?r[b]:bi(e,b)?b:(l[b]=1,s(b))},MemberExpression:p=>{const b=!p.computed,y=c(p.object);b&&(u+=1);const w=c(p.property);return y===a&&(f[T4(w)]=1),b&&(u-=1),y+(b?"."+w:"["+w+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&$e("Illegal callee type: "+p.callee.type);const b=p.callee.name,y=p.arguments,w=bi(i,b)&&i[b];return w||$e("Unrecognized function: "+b),Bt(w)?w(y):w+"("+y.map(c).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(c).join(",")+"]",BinaryExpression:p=>"("+c(p.left)+" "+p.operator+" "+c(p.right)+")",UnaryExpression:p=>"("+p.operator+c(p.argument)+")",ConditionalExpression:p=>"("+c(p.test)+"?"+c(p.consequent)+":"+c(p.alternate)+")",LogicalExpression:p=>"("+c(p.left)+p.operator+c(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(c).join(",")+"}",Property:p=>{u+=1;const b=c(p.key);return u-=1,b+":"+c(p.value)}};function d(p){const b={code:c(p),globals:Object.keys(l),fields:Object.keys(f)};return l={},f={},b}return d.functions=i,d.constants=r,d}function kh(t,e={}){const n=I4({forbidden:[],allowed:["datum"],globalvar:"globalObject",fieldvar:"datum"});try{const r=_4(t),i=n(r),o=Function("datum","globalObject",`"use strict"; return (${i.code});`),a=s=>o(s,e);return a.fields=i.fields,a}catch(r){throw new Error(`Invalid expression: ${t}, ${r.message}`)}}function Mn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Dr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Dh=Symbol("implicit");function Bh(){var t=new yi,e=[],n=[],r=Dh;function i(o){let a=t.get(o);if(a===void 0){if(r!==Dh)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new yi;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bh(e,n).unknown(r)},Mn.apply(i,arguments),i}function To(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ds(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Br(){}var Fi=.7,Io=1/Fi,ko="\\s*([+-]?\\d+)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k4=/^#([0-9a-f]{3,8})$/,D4=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),B4=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),F4=new RegExp(`^rgba\\(${ko},${ko},${ko},${ps}\\)$`),R4=new RegExp(`^rgba\\(${On},${On},${On},${ps}\\)$`),P4=new RegExp(`^hsl\\(${ps},${On},${On}\\)$`),M4=new RegExp(`^hsla\\(${ps},${On},${On},${ps}\\)$`),A1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};To(Br,Fr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:E1,formatHex:E1,formatHex8:O4,formatHsl:N4,formatRgb:_1,toString:_1});function E1(){return this.rgb().formatHex()}function O4(){return this.rgb().formatHex8()}function N4(){return k1(this).formatHsl()}function _1(){return this.rgb().formatRgb()}function Fr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=k4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?S1(e):n===3?new lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=D4.exec(t))?new lt(e[1],e[2],e[3],1):(e=B4.exec(t))?new lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=F4.exec(t))?Bl(e[1],e[2],e[3],e[4]):(e=R4.exec(t))?Bl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=P4.exec(t))?I1(e[1],e[2]/100,e[3]/100,1):(e=M4.exec(t))?I1(e[1],e[2]/100,e[3]/100,e[4]):A1.hasOwnProperty(t)?S1(A1[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function S1(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function Bl(t,e,n,r){return r<=0&&(t=e=n=NaN),new lt(t,e,n,r)}function Fh(t){return t instanceof Br||(t=Fr(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function Fl(t,e,n,r){return arguments.length===1?Fh(t):new lt(t,e,n,r??1)}function lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}To(lt,Fl,ds(Br,{brighter(t){return t=t==null?Io:Math.pow(Io,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fi:Math.pow(Fi,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lt(Ri(this.r),Ri(this.g),Ri(this.b),Rl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C1,formatHex:C1,formatHex8:L4,formatRgb:T1,toString:T1}));function C1(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function L4(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function T1(){const t=Rl(this.opacity);return`${t===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${t===1?")":`, ${t})`}`}function Rl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ri(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pi(t){return t=Ri(t),(t<16?"0":"")+t.toString(16)}function I1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vn(t,e,n,r)}function k1(t){if(t instanceof vn)return new vn(t.h,t.s,t.l,t.opacity);if(t instanceof Br||(t=Fr(t)),!t)return new vn;if(t instanceof vn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new vn(a,s,l,t.opacity)}function Rh(t,e,n,r){return arguments.length===1?k1(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}To(vn,Rh,ds(Br,{brighter(t){return t=t==null?Io:Math.pow(Io,t),new vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fi:Math.pow(Fi,t),new vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new lt(Ph(t>=240?t-240:t+120,i,r),Ph(t,i,r),Ph(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vn(D1(this.h),Pl(this.s),Pl(this.l),Rl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rl(this.opacity);return`${t===1?"hsl(":"hsla("}${D1(this.h)}, ${Pl(this.s)*100}%, ${Pl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function D1(t){return t=(t||0)%360,t<0?t+360:t}function Pl(t){return Math.max(0,Math.min(1,t||0))}function Ph(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const B1=Math.PI/180,F1=180/Math.PI,Ml=18,R1=.96422,P1=1,M1=.82521,O1=4/29,Do=6/29,N1=3*Do*Do,z4=Do*Do*Do;function L1(t){if(t instanceof Nn)return new Nn(t.l,t.a,t.b,t.opacity);if(t instanceof ir)return z1(t);t instanceof lt||(t=Fh(t));var e=zh(t.r),n=zh(t.g),r=zh(t.b),i=Oh((.2225045*e+.7168786*n+.0606169*r)/P1),o,a;return e===n&&n===r?o=a=i:(o=Oh((.4360747*e+.3850649*n+.1430804*r)/R1),a=Oh((.0139322*e+.0971045*n+.7141733*r)/M1)),new Nn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Mh(t,e,n,r){return arguments.length===1?L1(t):new Nn(t,e,n,r??1)}function Nn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}To(Nn,Mh,ds(Br,{brighter(t){return new Nn(this.l+Ml*(t??1),this.a,this.b,this.opacity)},darker(t){return new Nn(this.l-Ml*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=R1*Nh(e),t=P1*Nh(t),n=M1*Nh(n),new lt(Lh(3.1338561*e-1.6168667*t-.4906146*n),Lh(-.9787684*e+1.9161415*t+.033454*n),Lh(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Oh(t){return t>z4?Math.pow(t,1/3):t/N1+O1}function Nh(t){return t>Do?t*t*t:N1*(t-O1)}function Lh(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zh(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U4(t){if(t instanceof ir)return new ir(t.h,t.c,t.l,t.opacity);if(t instanceof Nn||(t=L1(t)),t.a===0&&t.b===0)return new ir(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*F1;return new ir(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Uh(t,e,n,r){return arguments.length===1?U4(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function z1(t){if(isNaN(t.h))return new Nn(t.l,0,0,t.opacity);var e=t.h*B1;return new Nn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}To(ir,Uh,ds(Br,{brighter(t){return new ir(this.h,this.c,this.l+Ml*(t??1),this.opacity)},darker(t){return new ir(this.h,this.c,this.l-Ml*(t??1),this.opacity)},rgb(){return z1(this).rgb()}}));var U1=-.14861,Gh=1.78277,Hh=-.29227,Ol=-.90649,gs=1.97294,G1=gs*Ol,H1=gs*Gh,V1=Gh*Hh-Ol*U1;function G4(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);t instanceof lt||(t=Fh(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(V1*r+G1*e-H1*n)/(V1+G1-H1),o=r-i,a=(gs*(n-i)-Hh*o)/Ol,s=Math.sqrt(a*a+o*o)/(gs*i*(1-i)),l=s?Math.atan2(a,o)*F1-120:NaN;return new Mi(l<0?l+360:l,s,i,t.opacity)}function Vh(t,e,n,r){return arguments.length===1?G4(t):new Mi(t,e,n,r??1)}function Mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}To(Mi,Vh,ds(Br,{brighter(t){return t=t==null?Io:Math.pow(Io,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fi:Math.pow(Fi,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*B1,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new lt(255*(e+n*(U1*r+Gh*i)),255*(e+n*(Hh*r+Ol*i)),255*(e+n*(gs*r)),this.opacity)}}));function j1(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function q1(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return j1((n-r/e)*e,a,i,o,s)}}function W1(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return j1((n-r/e)*e,i,o,a,s)}}const Nl=t=>()=>t;function Z1(t,e){return function(n){return t+n*e}}function H4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ll(t,e){var n=e-t;return n?Z1(t,n>180||n<-180?n-360*Math.round(n/360):n):Nl(isNaN(t)?e:t)}function V4(t){return(t=+t)==1?ut:function(e,n){return n-e?H4(e,n,t):Nl(isNaN(e)?n:e)}}function ut(t,e){var n=e-t;return n?Z1(t,n):Nl(isNaN(t)?e:t)}const jh=function t(e){var n=V4(e);function r(i,o){var a=n((i=Fl(i)).r,(o=Fl(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),f=ut(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=f(u),i+""}}return r.gamma=t,r}(1);function $1(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Fl(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var j4=$1(q1),q4=$1(W1);function qh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Y1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function W4(t,e){return(Y1(e)?qh:Q1)(t,e)}function Q1(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Rr(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function X1(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function An(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function K1(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Rr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Wh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zh=new RegExp(Wh.source,"g");function Z4(t){return function(){return t}}function $4(t){return function(e){return t(e)+""}}function J1(t,e){var n=Wh.lastIndex=Zh.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Wh.exec(t))&&(i=Zh.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:An(r,i)})),n=Zh.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?$4(l[0].x):Z4(e):(e=l.length,function(f){for(var u=0,c;u<e;++u)s[(c=l[u]).i]=c.x(f);return s.join("")})}function Rr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Nl(e):(n==="number"?An:n==="string"?(r=Fr(e))?(e=r,jh):J1:e instanceof Fr?jh:e instanceof Date?X1:Y1(e)?qh:Array.isArray(e)?Q1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?K1:An)(t,e)}function Y4(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Q4(t,e){var n=Ll(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ms(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var eb=180/Math.PI,$h={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tb(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*eb,skewX:Math.atan(l)*eb,scaleX:a,scaleY:s}}var zl;function X4(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$h:tb(e.a,e.b,e.c,e.d,e.e,e.f)}function K4(t){return t==null||(zl||(zl=document.createElementNS("http://www.w3.org/2000/svg","g")),zl.setAttribute("transform",t),!(t=zl.transform.baseVal.consolidate()))?$h:(t=t.matrix,tb(t.a,t.b,t.c,t.d,t.e,t.f))}function nb(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,u,c,h,d,p){if(f!==c||u!==h){var b=d.push("translate(",null,e,null,n);p.push({i:b-4,x:An(f,c)},{i:b-2,x:An(u,h)})}else(c||h)&&d.push("translate("+c+e+h+n)}function a(f,u,c,h){f!==u?(f-u>180?u+=360:u-f>180&&(f+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:An(f,u)})):u&&c.push(i(c)+"rotate("+u+r)}function s(f,u,c,h){f!==u?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:An(f,u)}):u&&c.push(i(c)+"skewX("+u+r)}function l(f,u,c,h,d,p){if(f!==c||u!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:An(f,c)},{i:b-2,x:An(u,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(f,u){var c=[],h=[];return f=t(f),u=t(u),o(f.translateX,f.translateY,u.translateX,u.translateY,c,h),a(f.rotate,u.rotate,c,h),s(f.skewX,u.skewX,c,h),l(f.scaleX,f.scaleY,u.scaleX,u.scaleY,c,h),f=u=null,function(d){for(var p=-1,b=h.length,y;++p<b;)c[(y=h[p]).i]=y.x(d);return c.join("")}}}var J4=nb(X4,"px, ","px)","deg)"),eT=nb(K4,", ",")",")"),tT=1e-12;function rb(t){return((t=Math.exp(t))+1/t)/2}function nT(t){return((t=Math.exp(t))-1/t)/2}function rT(t){return((t=Math.exp(2*t))-1)/(t+1)}const iT=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],f=o[2],u=a[0],c=a[1],h=a[2],d=u-s,p=c-l,b=d*d+p*p,y,w;if(b<tT)w=Math.log(h/f)/e,y=function(I){return[s+I*d,l+I*p,f*Math.exp(e*I*w)]};else{var S=Math.sqrt(b),C=(h*h-f*f+r*b)/(2*f*n*S),_=(h*h-f*f-r*b)/(2*h*n*S),k=Math.log(Math.sqrt(C*C+1)-C),D=Math.log(Math.sqrt(_*_+1)-_);w=(D-k)/e,y=function(I){var R=I*w,M=rb(k),j=f/(n*S)*(M*rT(e*R+k)-nT(k));return[s+j*d,l+j*p,f*M/rb(e*R+k)]}}return y.duration=w*1e3*e/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);function ib(t){return function(e,n){var r=t((e=Rh(e)).h,(n=Rh(n)).h),i=ut(e.s,n.s),o=ut(e.l,n.l),a=ut(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const oT=ib(Ll);var aT=ib(ut);function sT(t,e){var n=ut((t=Mh(t)).l,(e=Mh(e)).l),r=ut(t.a,e.a),i=ut(t.b,e.b),o=ut(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function ob(t){return function(e,n){var r=t((e=Uh(e)).h,(n=Uh(n)).h),i=ut(e.c,n.c),o=ut(e.l,n.l),a=ut(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const fT=ob(Ll);var lT=ob(ut);function ab(t){return function e(n){n=+n;function r(i,o){var a=t((i=Vh(i)).h,(o=Vh(o)).h),s=ut(i.s,o.s),l=ut(i.l,o.l),f=ut(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=f(u),i+""}}return r.gamma=e,r}(1)}const uT=ab(Ll);var cT=ab(ut);function Yh(t,e){e===void 0&&(e=t,t=Rr);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function hT(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const dT=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Rr,interpolateArray:W4,interpolateBasis:q1,interpolateBasisClosed:W1,interpolateCubehelix:uT,interpolateCubehelixLong:cT,interpolateDate:X1,interpolateDiscrete:Y4,interpolateHcl:fT,interpolateHclLong:lT,interpolateHsl:oT,interpolateHslLong:aT,interpolateHue:Q4,interpolateLab:sT,interpolateNumber:An,interpolateNumberArray:qh,interpolateObject:K1,interpolateRgb:jh,interpolateRgbBasis:j4,interpolateRgbBasisClosed:q4,interpolateRound:ms,interpolateString:J1,interpolateTransformCss:J4,interpolateTransformSvg:eT,interpolateZoom:iT,piecewise:Yh,quantize:hT},Symbol.toStringTag,{value:"Module"}));function pT(t){return function(){return t}}function Qh(t){return+t}var sb=[0,1];function Ot(t){return t}function Xh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pT(isNaN(e)?NaN:.5)}function gT(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mT(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Xh(i,r),o=n(a,o)):(r=Xh(r,i),o=n(o,a)),function(s){return o(r(s))}}function bT(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Xh(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=vo(t,s,1,r)-1;return o[l](i[l](s))}}function bs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ul(){var t=sb,e=sb,n=Rr,r,i,o,a=Ot,s,l,f;function u(){var h=Math.min(t.length,e.length);return a!==Ot&&(a=gT(t[0],t[h-1])),s=h>2?bT:mT,l=f=null,c}function c(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return c.invert=function(h){return a(i((f||(f=s(e,t.map(r),An)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Qh),u()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=ms,u()},c.clamp=function(h){return arguments.length?(a=h?!0:Ot,u()):a!==Ot},c.interpolate=function(h){return arguments.length?(n=h,u()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,u()}}function fb(){return Ul()(Ot,Ot)}function lb(t,e,n,r){var i=wi(t,e,n),o;switch(r=_r(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=dm(i,a))&&(r.precision=o),Xc(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pm(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hm(i))&&(r.precision=o-(r.type==="%")*2);break}}return pt(r)}function Oi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ll(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lb(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,f,u=10;for(s<a&&(f=a,a=s,s=f,f=i,i=o,o=f);u-- >0;){if(f=im(a,s,n),f===l)return r[i]=a,r[o]=s,e(r);if(f>0)a=Math.floor(a/f)*f,s=Math.ceil(s/f)*f;else if(f<0)a=Math.ceil(a*f)/f,s=Math.floor(s*f)/f;else break;l=f}return t},t}function ub(){var t=fb();return t.copy=function(){return bs(t,ub())},Mn.apply(t,arguments),Oi(t)}function cb(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cb(t).unknown(e)},t=arguments.length?Array.from(t,Qh):[0,1],Oi(n)}function hb(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function db(t){return Math.log(t)}function pb(t){return Math.exp(t)}function yT(t){return-Math.log(-t)}function wT(t){return-Math.exp(-t)}function xT(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vT(t){return t===10?xT:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AT(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gb(t){return(e,n)=>-t(-e,n)}function Kh(t){const e=t(db,pb),n=e.domain;let r=10,i,o;function a(){return i=AT(r),o=vT(r),n()[0]<0?(i=gb(i),o=gb(o),t(yT,wT)):t(db,pb),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let f=l[0],u=l[l.length-1];const c=u<f;c&&([f,u]=[u,f]);let h=i(f),d=i(u),p,b;const y=s==null?10:+s;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),f>0){for(;h<=d;++h)for(p=1;p<r;++p)if(b=h<0?p/o(-h):p*o(h),!(b<f)){if(b>u)break;w.push(b)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(b=h>0?p/o(-h):p*o(h),!(b<f)){if(b>u)break;w.push(b)}w.length*2<y&&(w=ll(f,u,y))}else w=ll(h,d,Math.min(d-h,y)).map(o);return c?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_r(l)).precision==null&&(l.trim=!0),l=pt(l)),s===1/0)return l;const f=Math.max(1,r*s/e.ticks().length);return u=>{let c=u/o(Math.round(i(u)));return c*r<r-.5&&(c*=r),c<=f?l(u):""}},e.nice=()=>n(hb(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Jh(){const t=Kh(Ul()).domain([1,10]);return t.copy=()=>bs(t,Jh()).base(t.base()),Mn.apply(t,arguments),t}function mb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ed(t){var e=1,n=t(mb(e),bb(e));return n.constant=function(r){return arguments.length?t(mb(e=+r),bb(e)):e},Oi(n)}function yb(){var t=ed(Ul());return t.copy=function(){return bs(t,yb()).constant(t.constant())},Mn.apply(t,arguments)}function wb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ET(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _T(t){return t<0?-t*t:t*t}function td(t){var e=t(Ot,Ot),n=1;function r(){return n===1?t(Ot,Ot):n===.5?t(ET,_T):t(wb(n),wb(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oi(e)}function nd(){var t=td(Ul());return t.copy=function(){return bs(t,nd()).exponent(t.exponent())},Mn.apply(t,arguments),t}function ST(){return nd.apply(null,arguments).exponent(.5)}function xb(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=om(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[vo(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Na),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xb().domain(t).range(e).unknown(r)},Mn.apply(o,arguments)}function vb(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[vo(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var f=i.indexOf(l);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return vb().domain([t,e]).range(i).unknown(o)},Mn.apply(Oi(a),arguments)}function Ab(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[vo(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Ab().domain(t).range(e).unknown(n)},Mn.apply(i,arguments)}function CT(t){return new Date(t)}function TT(t){return t instanceof Date?+t:+new Date(+t)}function rd(t,e,n,r,i,o,a,s,l,f){var u=fb(),c=u.invert,h=u.domain,d=f(".%L"),p=f(":%S"),b=f("%I:%M"),y=f("%I %p"),w=f("%a %d"),S=f("%b %d"),C=f("%B"),_=f("%Y");function k(D){return(l(D)<D?d:s(D)<D?p:a(D)<D?b:o(D)<D?y:r(D)<D?i(D)<D?w:S:n(D)<D?C:_)(D)}return u.invert=function(D){return new Date(c(D))},u.domain=function(D){return arguments.length?h(Array.from(D,TT)):h().map(CT)},u.ticks=function(D){var I=h();return t(I[0],I[I.length-1],D??10)},u.tickFormat=function(D,I){return I==null?k:f(I)},u.nice=function(D){var I=h();return(!D||typeof D.range!="function")&&(D=e(I[0],I[I.length-1],D??10)),D?h(hb(I,D)):u},u.copy=function(){return bs(u,rd(t,e,n,r,i,o,a,s,l,f))},u}function IT(){return Mn.apply(rd(E3,_3,Cr,gl,za,vi,ih,rh,Sr,hh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kT(){return Mn.apply(rd(v3,A3,Tr,bl,Ua,Ei,sh,ah,Sr,dh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gl(){var t=0,e=1,n,r,i,o,a=Ot,s=!1,l;function f(c){return c==null||isNaN(c=+c)?l:a(i===0?.5:(c=(o(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}f.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(c){return arguments.length?(s=!!c,f):s},f.interpolator=function(c){return arguments.length?(a=c,f):a};function u(c){return function(h){var d,p;return arguments.length?([d,p]=h,a=c(d,p),f):[a(0),a(1)]}}return f.range=u(Rr),f.rangeRound=u(ms),f.unknown=function(c){return arguments.length?(l=c,f):l},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),f}}function Pr(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function id(){var t=Oi(Gl()(Ot));return t.copy=function(){return Pr(t,id())},Dr.apply(t,arguments)}function Eb(){var t=Kh(Gl()).domain([1,10]);return t.copy=function(){return Pr(t,Eb()).base(t.base())},Dr.apply(t,arguments)}function _b(){var t=ed(Gl());return t.copy=function(){return Pr(t,_b()).constant(t.constant())},Dr.apply(t,arguments)}function od(){var t=td(Gl());return t.copy=function(){return Pr(t,od()).exponent(t.exponent())},Dr.apply(t,arguments)}function DT(){return od.apply(null,arguments).exponent(.5)}function Hl(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,f=Ot,u,c=!1,h;function d(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-o)*(r*b<r*o?s:l),f(c?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(b){return arguments.length?(c=!!b,d):c},d.interpolator=function(b){return arguments.length?(f=b,d):f};function p(b){return function(y){var w,S,C;return arguments.length?([w,S,C]=y,f=Yh(b,[w,S,C]),d):[f(0),f(.5),f(1)]}}return d.range=p(Rr),d.rangeRound=p(ms),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return u=b,i=b(t),o=b(e),a=b(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Sb(){var t=Oi(Hl()(Ot));return t.copy=function(){return Pr(t,Sb())},Dr.apply(t,arguments)}function Cb(){var t=Kh(Hl()).domain([.1,1,10]);return t.copy=function(){return Pr(t,Cb()).base(t.base())},Dr.apply(t,arguments)}function Tb(){var t=ed(Hl());return t.copy=function(){return Pr(t,Tb()).constant(t.constant())},Dr.apply(t,arguments)}function ad(){var t=td(Hl());return t.copy=function(){return Pr(t,ad()).exponent(t.exponent())},Dr.apply(t,arguments)}function BT(){return ad.apply(null,arguments).exponent(.5)}function sd(t,e,n){const r=t-e+n*2;return t?r>0?r:1:0}const FT="identity",Bo="linear",Mr="log",ys="pow",ws="sqrt",Vl="symlog",Ib="time",kb="utc",Ln="sequential",Fo="diverging",fd="quantile",Db="quantize",Bb="threshold",ld="ordinal",ud="point",Fb="band",cd="bin-ordinal",rt="continuous",xs="discrete",vs="discretizing",tn="interpolating",Rb="temporal";function RT(t){return function(e){let n=e[0],r=e[1],i;return r<n&&(i=n,n=r,r=i),[t.invert(n),t.invert(r)]}}function PT(t){return function(e){const n=t.range();let r=e[0],i=e[1],o=-1,a,s,l,f;for(i<r&&(s=r,r=i,i=s),l=0,f=n.length;l<f;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),a=l);if(!(o<0))return r=t.invertExtent(n[o]),i=t.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function hd(){const t=Bh().unknown(void 0),e=t.domain,n=t.range;let r=[0,1],i,o,a=!1,s=0,l=0,f=.5;delete t.unknown;function u(){const c=e().length,h=r[1]<r[0],d=r[1-h],p=sd(c,s,l);let b=r[h-0];i=(d-b)/(p||1),a&&(i=Math.floor(i)),b+=(d-b-i*(c-s))*f,o=i*(1-s),a&&(b=Math.round(b),o=Math.round(o));const y=La(c).map(w=>b+i*w);return n(h?y.reverse():y)}return t.domain=function(c){return arguments.length?(e(c),u()):e()},t.range=function(c){return arguments.length?(r=[+c[0],+c[1]],u()):r.slice()},t.rangeRound=function(c){return r=[+c[0],+c[1]],a=!0,u()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(c){return arguments.length?(a=!!c,u()):a},t.padding=function(c){return arguments.length?(l=Math.max(0,Math.min(1,c)),s=l,u()):s},t.paddingInner=function(c){return arguments.length?(s=Math.max(0,Math.min(1,c)),u()):s},t.paddingOuter=function(c){return arguments.length?(l=Math.max(0,Math.min(1,c)),u()):l},t.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),u()):f},t.invertRange=function(c){if(c[0]==null||c[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let b=+c[0],y=+c[1],w,S,C;if(!(b!==b||y!==y)&&(y<b&&(C=b,b=y,y=C),!(y<d[0]||b>r[1-h])))return w=Math.max(0,qc(d,b)-1),S=b===y?w:qc(d,y)-1,b-d[w]>o+1e-10&&++w,h&&(C=w,w=p-S,S=p-C),w>S?void 0:e().slice(w,S+1)},t.invert=function(c){const h=t.invertRange([c,c]);return h&&h[0]},t.copy=function(){return hd().domain(e()).range(r).round(a).paddingInner(s).paddingOuter(l).align(f)},u()}function Pb(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return Pb(e())},t}function MT(){return Pb(hd().paddingInner(1))}var OT=Array.prototype.map;function NT(t){return OT.call(t,Ma)}const LT=Array.prototype.slice;function Mb(){let t=[],e=[];function n(r){return r==null||r!==r?void 0:e[(vo(t,r)-1)%e.length]}return n.domain=function(r){return arguments.length?(t=NT(r),n):t.slice()},n.range=function(r){return arguments.length?(e=LT.call(r),n):e.slice()},n.tickFormat=function(r,i){return lb(t[0],yn(t),r??10,i)},n.copy=function(){return Mb().domain(n.domain()).range(n.range())},n}const jl={};function zT(t,e,n){const r=function(){const o=e();return o.invertRange||(o.invertRange=o.invert?RT(o):o.invertExtent?PT(o):void 0),o.type=t,o};return r.metadata=al(Uc(n)),r}function Ae(t,e,n){return arguments.length>1?(jl[t]=zT(t,e,n),this):UT(t)?jl[t]:void 0}Ae(FT,cb),Ae(Bo,ub,rt),Ae(Mr,Jh,[rt,Mr]),Ae(ys,nd,rt),Ae(ws,ST,rt),Ae(Vl,yb,rt),Ae(Ib,IT,[rt,Rb]),Ae(kb,kT,[rt,Rb]),Ae(Ln,id,[rt,tn]),Ae("".concat(Ln,"-").concat(Bo),id,[rt,tn]),Ae("".concat(Ln,"-").concat(Mr),Eb,[rt,tn,Mr]),Ae("".concat(Ln,"-").concat(ys),od,[rt,tn]),Ae("".concat(Ln,"-").concat(ws),DT,[rt,tn]),Ae("".concat(Ln,"-").concat(Vl),_b,[rt,tn]),Ae("".concat(Fo,"-").concat(Bo),Sb,[rt,tn]),Ae("".concat(Fo,"-").concat(Mr),Cb,[rt,tn,Mr]),Ae("".concat(Fo,"-").concat(ys),ad,[rt,tn]),Ae("".concat(Fo,"-").concat(ws),BT,[rt,tn]),Ae("".concat(Fo,"-").concat(Vl),Tb,[rt,tn]),Ae(fd,xb,[vs,fd]),Ae(Db,vb,vs),Ae(Bb,Ab,vs),Ae(cd,Mb,[xs,vs]),Ae(ld,Bh,xs),Ae(Fb,hd,xs),Ae(ud,MT,xs);function UT(t){return bi(jl,t)}function As(t,e){const n=jl[t];return n&&n.metadata[e]}function vt(t){return As(t,rt)}function Or(t){return As(t,xs)}function Ro(t){return As(t,vs)}function Ob(t){return As(t,Mr)}function ql(t){return As(t,tn)}function GT(t,e){const n=e[0],r=yn(e)-n;return function(i){return t(n+i*r)}}function Wl(t,e,n){return Yh(Nb(e||"rgb",n),t)}function HT(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function Nb(t,e){const n=dT[VT(t)];return e!=null&&n&&n.gamma?n.gamma(e):n}function VT(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const jT={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},qT={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function Lb(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}function zb(t,e){for(const n in t)dd(n,e(t[n]))}const Ub={};zb(qT,Lb),zb(jT,t=>Wl(Lb(t)));function dd(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(Ub[t]=e,this):Ub[t]}function WT(){let t=0;const e=new Map,n=r=>{let i=e.get(r);return i===void 0&&(i=t++,e.set(r,i)),i};return n.addAll=r=>{for(const i of r)n(i)},n.invert=r=>{for(const i of e.entries())if(i[1]==r)return i[0]},n.domain=()=>[...e.keys()],n}function Zl(){const t=e=>e;return t.invert=e=>e,t.copy=Zl,t.invertRange=()=>{},t.type="null",t}function ZT(t,e){const n={};e||(e=t.encoding);for(const[r,i]of Object.entries(e)){if(!i)continue;const o=((Nt(i)&&i.resolutionChannel)??(zi(r)&&r))||void 0,a=t.unitView.getScaleResolution(o);n[r]=$T(e[r],a==null?void 0:a.getScale(),t.unitView.getAccessor(r),r)}return n}function $T(t,e,n,r){let i;if(En(t)){const o=t.value;i=a=>o,i.constant=!0,i.constantValue=!0,i.accessor=void 0}else if(n)if(r=="text")i=o=>{},i.accessor=n,i.constant=n.constant;else{if(!e)if(!zi(r))e=Zl();else throw new Error(`Missing scale! "${r}": ${JSON.stringify(t)}`);if(i=o=>e(n(o)),Or(e.type)){const o=WT();o.addAll(e.domain()),i.indexer=o}i.constant=n.constant,i.accessor=n,i.scale=e}else throw new Error(`Missing value or accessor (field, expr, datum) on channel "${r}": ${JSON.stringify(t)}`);return i.invert=e?o=>e.invert(o):o=>{throw new Error("No scale available, cannot invert: "+JSON.stringify(t))},i.channelDef=t,i.applyMetadata=o=>{for(const a in i)a in i&&(o[a]=i[a]);return o},i}function En(t){return t&&"value"in t}function Es(t){return t&&"field"in t}function _s(t){return t&&"datum"in t}function Nt(t){return Es(t)||_s(t)||gd(t)||Gb(t)}function pd(t,e){const n=t.mark.encoding[e];if(Nt(n))return n;throw new Error("Not a channel def with scale!")}function Gb(t){return t&&"chrom"in t}function gd(t){return t&&"expr"in t}const Po=["x","y"],YT=["x2","y2"],QT=[...Po,...YT];function Hb(t){return Po.includes(t)}function Ss(t){return QT.includes(t)}const md={x:"x2",y:"y2"},Vb=Object.fromEntries(Object.entries(md).map(t=>[t[1],t[0]]));function Cs(t){return t in Vb}function XT(t){const e=md[t];if(e)return e;throw new Error(`${t} has no secondary channel!`)}function Ni(t){return Vb[t]??t}function Li(t){return["color","fill","stroke"].includes(Ni(t))}function $l(t){return["shape","squeeze"].includes(t)}function zi(t){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(t)}function KT(t){switch(t){case"shape":return["circle","square","cross","diamond","triangle-up","triangle-right","triangle-down","triangle-left","tick-up","tick-right","tick-down","tick-left"]}}function jb(t){if(!$l(t))throw new Error("Not a discrete channel: "+t);const e=new Map(KT(t).map((n,r)=>[n,r]));return n=>{const r=e.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${t}" channel: ${n}`)}}function Re(t,e=t){if(/^[A-Za-z0-9_]+$/.test(t)){const n=new Function("datum",`return datum[${JSON.stringify(t)}]`);return Ce(n,[t],e)}else return Jf(t)}class JT{constructor(){this.accessorCreators=[],this.register(e=>{if(Es(e))try{const n=Re(e.field);return n.constant=!1,n.fields=Kf(n),n}catch(n){throw new Error(`Invalid field definition: ${n.message}`)}}),this.register(e=>gd(e)?e6(e.expr):void 0),this.register(e=>{if(_s(e)){const r=DS(e.datum);return r.constant=!0,r.fields=[],r}})}register(e){this.accessorCreators.push(e)}createAccessor(e){for(const n of this.accessorCreators){const r=n(e);if(r)return r}}}function e6(t){const e=kh(t);return e.constant=e.fields.length==0,e}/* @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const bd=5120,Ts=5121,yd=5122,wd=5123,xd=5124,vd=5125,Ad=5126,t6=32819,n6=32820,r6=33635,i6=5131,o6=33640,a6=35899,s6=35902,f6=36269,l6=34042,qb={};{const t=qb;t[bd]=Int8Array,t[Ts]=Uint8Array,t[yd]=Int16Array,t[wd]=Uint16Array,t[xd]=Int32Array,t[vd]=Uint32Array,t[Ad]=Float32Array,t[t6]=Uint16Array,t[n6]=Uint16Array,t[r6]=Uint16Array,t[i6]=Uint16Array,t[o6]=Uint32Array,t[a6]=Uint32Array,t[s6]=Uint32Array,t[f6]=Uint32Array,t[l6]=Uint32Array}function Ed(t){if(t instanceof Int8Array)return bd;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return Ts;if(t instanceof Int16Array)return yd;if(t instanceof Uint16Array)return wd;if(t instanceof Int32Array)return xd;if(t instanceof Uint32Array)return vd;if(t instanceof Float32Array)return Ad;throw new Error("unsupported typed array type")}function u6(t){if(t===Int8Array)return bd;if(t===Uint8Array||t===Uint8ClampedArray)return Ts;if(t===Int16Array)return yd;if(t===Uint16Array)return wd;if(t===Int32Array)return xd;if(t===Uint32Array)return vd;if(t===Float32Array)return Ad;throw new Error("unsupported typed array type")}function c6(t){const e=qb[t];if(!e)throw new Error("unknown gl type");return e}const Yl=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function h6(...t){console.error(...t)}function Wb(...t){console.warn(...t)}function d6(t,e){return typeof WebGLBuffer<"u"&&e instanceof WebGLBuffer}function Zb(t,e){return typeof WebGLRenderbuffer<"u"&&e instanceof WebGLRenderbuffer}function Ql(t,e){return typeof WebGLTexture<"u"&&e instanceof WebGLTexture}function p6(t,e){return typeof WebGLSampler<"u"&&e instanceof WebGLSampler}const $b=35044,zn=34962,g6=34963,m6=34660,b6=5120,y6=5121,w6=5122,x6=5123,v6=5124,A6=5125,E6=5126,Yb={attribPrefix:""};function Qb(t,e,n,r,i){t.bindBuffer(e,n),t.bufferData(e,r,i||$b)}function Xb(t,e,n,r){if(d6(t,e))return e;n=n||zn;const i=t.createBuffer();return Qb(t,n,i,e,r),i}function Kb(t){return t==="indices"}function _6(t){return t instanceof Int8Array||t instanceof Uint8Array}function S6(t){return t===Int8Array||t===Uint8Array}function C6(t){return t.length?t:t.data}const T6=/coord|texture/i,I6=/color|colour/i;function Jb(t,e){let n;if(T6.test(t)?n=2:I6.test(t)?n=4:n=3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function k6(t,e){return t.numComponents||t.size||Jb(e,C6(t).length)}function _d(t,e){if(Yl(t))return t;if(Yl(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(Kb(e)?n=Uint16Array:n=Float32Array),new n(t.data)}function D6(t,e){const n={};return Object.keys(e).forEach(function(r){if(!Kb(r)){const i=e[r],o=i.attrib||i.name||i.attribName||Yb.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!Yl(i.value))throw new Error("array.value is not array or typedarray");n[o]={value:i.value}}else{let a,s,l,f;if(i.buffer&&i.buffer instanceof WebGLBuffer)a=i.buffer,f=i.numComponents||i.size,s=i.type,l=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const u=i.data||i,c=i.type||Float32Array,h=u*c.BYTES_PER_ELEMENT;s=u6(c),l=i.normalize!==void 0?i.normalize:S6(c),f=i.numComponents||i.size||Jb(r,u),a=t.createBuffer(),t.bindBuffer(zn,a),t.bufferData(zn,h,i.drawType||$b)}else{const u=_d(i,r);a=Xb(t,u,void 0,i.drawType),s=Ed(u),l=i.normalize!==void 0?i.normalize:_6(u),f=k6(i,r)}n[o]={buffer:a,numComponents:f,type:s,normalize:l,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),t.bindBuffer(zn,null),n}function B6(t,e,n,r){n=_d(n),r!==void 0?(t.bindBuffer(zn,e.buffer),t.bufferSubData(zn,r,n)):Qb(t,zn,e.buffer,n,e.drawType)}function F6(t,e){return e===b6||e===y6?1:e===w6||e===x6?2:e===v6||e===A6||e===E6?4:0}const Sd=["position","positions","a_position"];function R6(t,e){let n,r;for(r=0;r<Sd.length&&(n=Sd[r],!(n in e||(n=Yb.attribPrefix+n,n in e)));++r);r===Sd.length&&(n=Object.keys(e)[0]);const i=e[n];t.bindBuffer(zn,i.buffer);const o=t.getBufferParameter(zn,m6);t.bindBuffer(zn,null);const a=F6(t,i.type),s=o/a,l=i.numComponents||i.size,f=s/l;if(f%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return f}function P6(t,e,n){const r=D6(t,e),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const o=e.indices;if(o){const a=_d(o,"indices");i.indices=Xb(t,a,g6),i.numElements=a.length,i.elementType=Ed(a)}else i.numElements||(i.numElements=R6(t,i.attribs));return i}function Mo(t){return!!t.texStorage2D}const Cd=function(){const t={},e={};function n(r){const i=r.constructor.name;if(!t[i]){for(const o in r)if(typeof r[o]=="number"){const a=e[r[o]];e[r[o]]=a?`${a} | ${o}`:o}t[i]=!0}}return function(i,o){return n(i),e[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}}(),Nr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Oo=Yl,ey=function(){let t;return function(){return t=t||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),ty=6406,Un=6407,Ge=6408,ny=6409,ry=6410,Is=6402,iy=34041,Xl=33071,M6=9728,O6=9729,or=3553,ar=34067,Lr=32879,zr=35866,Kl=34069,N6=34070,L6=34071,z6=34072,U6=34073,G6=34074,Td=10241,Id=10240,Jl=10242,eu=10243,oy=32882,H6=33082,V6=33083,j6=33084,q6=33085,kd=3317,ay=3314,sy=32878,fy=3316,ly=3315,uy=32877,W6=37443,Z6=37441,$6=37440,Y6=33321,Q6=36756,X6=33325,K6=33326,J6=33330,eI=33329,tI=33338,nI=33337,rI=33340,iI=33339,oI=33323,aI=36757,sI=33327,fI=33328,lI=33336,uI=33335,cI=33332,hI=33331,dI=33334,pI=33333,gI=32849,mI=35905,bI=36194,yI=36758,wI=35898,xI=35901,vI=34843,AI=34837,EI=36221,_I=36239,SI=36215,CI=36233,TI=36209,II=36227,kI=32856,DI=35907,BI=36759,FI=32855,RI=32854,PI=32857,MI=34842,OI=34836,NI=36220,LI=36238,zI=36975,UI=36214,GI=36232,HI=36226,VI=36208,jI=33189,qI=33190,WI=36012,ZI=36013,$I=35056,Ur=5120,He=5121,tu=5122,No=5123,nu=5124,Ui=5125,At=5126,cy=32819,hy=32820,dy=33635,_n=5131,ks=36193,Dd=33640,YI=35899,QI=35902,XI=36269,KI=34042,ru=33319,Lo=33320,iu=6403,zo=36244,Uo=36248,Gi=36249;let Bd;function ou(t){if(!Bd){const e={};e[ty]={textureFormat:ty,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[He,_n,ks,At]},e[ny]={textureFormat:ny,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[He,_n,ks,At]},e[ry]={textureFormat:ry,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[He,_n,ks,At]},e[Un]={textureFormat:Un,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[He,_n,ks,At,dy]},e[Ge]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[He,_n,ks,At,cy,hy]},e[Is]={textureFormat:Is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ui,No]},e[Y6]={textureFormat:iu,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[He]},e[Q6]={textureFormat:iu,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Ur]},e[X6]={textureFormat:iu,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[At,_n]},e[K6]={textureFormat:iu,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[At]},e[J6]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[He]},e[eI]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ur]},e[cI]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[No]},e[hI]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[tu]},e[dI]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ui]},e[pI]={textureFormat:zo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[nu]},e[oI]={textureFormat:ru,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[He]},e[aI]={textureFormat:ru,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Ur]},e[sI]={textureFormat:ru,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[At,_n]},e[fI]={textureFormat:ru,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[At]},e[lI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[He]},e[uI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ur]},e[tI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[No]},e[nI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[tu]},e[rI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ui]},e[iI]={textureFormat:Lo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[nu]},e[gI]={textureFormat:Un,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[He]},e[mI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[He]},e[bI]={textureFormat:Un,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[He,dy]},e[yI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ur]},e[wI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[At,_n,YI]},e[xI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[At,_n,QI]},e[vI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[At,_n]},e[AI]={textureFormat:Un,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[At]},e[EI]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[He]},e[_I]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ur]},e[SI]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[No]},e[CI]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[tu]},e[TI]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ui]},e[II]={textureFormat:Uo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[nu]},e[kI]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[He]},e[DI]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[He]},e[BI]={textureFormat:Ge,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Ur]},e[FI]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[He,hy,Dd]},e[RI]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[He,cy]},e[PI]={textureFormat:Ge,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Dd]},e[MI]={textureFormat:Ge,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[At,_n]},e[OI]={textureFormat:Ge,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[At]},e[NI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[He]},e[LI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ur]},e[zI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Dd]},e[UI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[No]},e[GI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[tu]},e[HI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[nu]},e[VI]={textureFormat:Gi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ui]},e[jI]={textureFormat:Is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[No,Ui]},e[qI]={textureFormat:Is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ui]},e[WI]={textureFormat:Is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[At]},e[$I]={textureFormat:iy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[KI]},e[ZI]={textureFormat:iy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[XI]},Object.keys(e).forEach(function(n){const r=e[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,o){const a=r.type[o];r.bytesPerElementMap[a]=i})}),Bd=e}return Bd[t]}function JI(t,e){const n=ou(t);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[e];if(r===void 0)throw"unknown internal format";return r}function Go(t){const e=ou(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function py(t){return(t&t-1)===0}function ek(t,e,n,r){if(!Mo(t))return py(e)&&py(n);const i=ou(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function tk(t){const e=ou(t);if(!e)throw"unknown internal format";return e.textureFilterable}function gy(t,e,n){return Oo(e)?Ed(e):n||He}function au(t,e,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const o=Math.sqrt(i/(e===ar?6:1));o%1===0?(n=o,r=o):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function Ho(t,e){e.colorspaceConversion!==void 0&&t.pixelStorei(W6,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&t.pixelStorei(Z6,e.premultiplyAlpha),e.flipY!==void 0&&t.pixelStorei($6,e.flipY)}function my(t){t.pixelStorei(kd,4),Mo(t)&&(t.pixelStorei(ay,0),t.pixelStorei(sy,0),t.pixelStorei(fy,0),t.pixelStorei(ly,0),t.pixelStorei(uy,0))}function nk(t,e,n,r){r.minMag&&(n.call(t,e,Td,r.minMag),n.call(t,e,Id,r.minMag)),r.min&&n.call(t,e,Td,r.min),r.mag&&n.call(t,e,Id,r.mag),r.wrap&&(n.call(t,e,Jl,r.wrap),n.call(t,e,eu,r.wrap),(e===Lr||p6(t,e))&&n.call(t,e,oy,r.wrap)),r.wrapR&&n.call(t,e,oy,r.wrapR),r.wrapS&&n.call(t,e,Jl,r.wrapS),r.wrapT&&n.call(t,e,eu,r.wrapT),r.minLod&&n.call(t,e,H6,r.minLod),r.maxLod&&n.call(t,e,V6,r.maxLod),r.baseLevel&&n.call(t,e,j6,r.baseLevel),r.maxLevel&&n.call(t,e,q6,r.maxLevel)}function by(t,e,n){const r=n.target||or;t.bindTexture(r,e),nk(t,r,t.texParameteri,n)}function rk(t){return t=t||Nr.textureColor,Oo(t)?t:new Uint8Array([t[0]*255,t[1]*255,t[2]*255,t[3]*255])}function Fd(t,e,n,r,i,o){n=n||Nr.textureOptions,o=o||Ge;const a=n.target||or;if(r=r||n.width,i=i||n.height,t.bindTexture(a,e),ek(t,r,i,o))t.generateMipmap(a);else{const s=tk(o)?O6:M6;t.texParameteri(a,Td,s),t.texParameteri(a,Id,s),t.texParameteri(a,Jl,Xl),t.texParameteri(a,eu,Xl)}}function Ds(t){return t.auto===!0||t.auto===void 0&&t.level===void 0}function Rd(t,e){return e=e||{},e.cubeFaceOrder||[Kl,N6,L6,z6,U6,G6]}function Pd(t,e){const r=Rd(t,e).map(function(i,o){return{face:i,ndx:o}});return r.sort(function(i,o){return i.face-o.face}),r}function yy(t,e,n,r){r=r||Nr.textureOptions;const i=r.target||or,o=r.level||0;let a=n.width,s=n.height;const l=r.internalFormat||r.format||Ge,f=Go(l),u=r.format||f.format,c=r.type||f.type;if(Ho(t,r),t.bindTexture(i,e),i===ar){const h=n.width,d=n.height;let p,b;if(h/6===d)p=d,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,b=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const y=ey();y?(y.canvas.width=p,y.canvas.height=p,a=p,s=p,Pd(t,r).forEach(function(w){const S=b[w.ndx*2+0]*p,C=b[w.ndx*2+1]*p;y.drawImage(n,S,C,p,p,0,0,p,p),t.texImage2D(w.face,o,l,u,c,y.canvas)}),y.canvas.width=1,y.canvas.height=1):typeof createImageBitmap<"u"&&(a=p,s=p,Pd(t,r).forEach(function(w){const S=b[w.ndx*2+0]*p,C=b[w.ndx*2+1]*p;t.texImage2D(w.face,o,l,p,p,0,u,c,null),createImageBitmap(n,S,C,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(_){Ho(t,r),t.bindTexture(i,e),t.texImage2D(w.face,o,l,u,c,_),Ds(r)&&Fd(t,e,r,a,s,l)})}))}else if(i===Lr||i===zr){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const b=n.width===d?1:0,y=n.height===d?1:0;t.pixelStorei(kd,1),t.pixelStorei(ay,n.width),t.pixelStorei(sy,0),t.pixelStorei(uy,0),t.texImage3D(i,o,l,h,h,h,0,u,c,null);for(let w=0;w<p;++w){const S=w*h*b,C=w*h*y;t.pixelStorei(fy,S),t.pixelStorei(ly,C),t.texSubImage3D(i,o,0,0,w,h,h,1,u,c,n)}my(t)}else t.texImage2D(i,o,l,u,c,n);Ds(r)&&Fd(t,e,r,a,s,l),by(t,e,r)}function Bs(){}function ik(t){if(typeof document<"u"){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}function ok(t,e){return e===void 0&&!ik(t)?"anonymous":e}function ak(t,e,n){n=n||Bs;let r;if(e=e!==void 0?e:Nr.crossOrigin,e=ok(t,e),typeof Image<"u"){r=new Image,e!==void 0&&(r.crossOrigin=e);const i=function(){r.removeEventListener("error",o),r.removeEventListener("load",a),r=null},o=function(){const l="couldn't load image: "+t;h6(l),n(l,r),i()},a=function(){n(null,r),i()};return r.addEventListener("error",o),r.addEventListener("load",a),r.src=t,r}else if(typeof ImageBitmap<"u"){let i,o;const a=function(){n(i,o)},s={};e&&(s.mode="cors"),fetch(t,s).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){o=l,setTimeout(a)}).catch(function(l){i=l,setTimeout(a)}),r=null}return r}function wy(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof ImageData<"u"&&t instanceof ImageData||typeof HTMLElement<"u"&&t instanceof HTMLElement}function Md(t,e,n){return wy(t)?(setTimeout(function(){n(null,t)}),t):ak(t,e,n)}function Od(t,e,n){n=n||Nr.textureOptions;const r=n.target||or;if(t.bindTexture(r,e),n.color===!1)return;const i=rk(n.color);if(r===ar)for(let o=0;o<6;++o)t.texImage2D(Kl+o,0,Ge,1,1,0,Ge,He,i);else r===Lr||r===zr?t.texImage3D(r,0,Ge,1,1,1,0,Ge,He,i):t.texImage2D(r,0,Ge,1,1,0,Ge,He,i)}function sk(t,e,n,r){return r=r||Bs,n=n||Nr.textureOptions,Od(t,e,n),n=Object.assign({},n),Md(n.src,n.crossOrigin,function(o,a){o?r(o,e,a):(yy(t,e,a,n),r(null,e,a))})}function fk(t,e,n,r){r=r||Bs;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const o=n.level||0,a=n.internalFormat||n.format||Ge,s=Go(a),l=n.format||s.format,f=n.type||He,u=n.target||or;if(u!==ar)throw"target must be TEXTURE_CUBE_MAP";Od(t,e,n),n=Object.assign({},n);let c=6;const h=[],d=Rd(t,n);let p;function b(y){return function(w,S){--c,w?h.push(w):S.width!==S.height?h.push("cubemap face img is not a square: "+S.src):(Ho(t,n),t.bindTexture(u,e),c===5?Rd().forEach(function(C){t.texImage2D(C,o,a,l,f,S)}):t.texImage2D(y,o,a,l,f,S),Ds(n)&&t.generateMipmap(u)),c===0&&r(h.length?h:void 0,e,p)}}p=i.map(function(y,w){return Md(y,n.crossOrigin,b(d[w]))})}function lk(t,e,n,r){r=r||Bs;const i=n.src,o=n.internalFormat||n.format||Ge,a=Go(o),s=n.format||a.format,l=n.type||He,f=n.target||zr;if(f!==Lr&&f!==zr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Od(t,e,n),n=Object.assign({},n);let u=i.length;const c=[];let h;const d=n.level||0;let p=n.width,b=n.height;const y=i.length;let w=!0;function S(C){return function(_,k){if(--u,_)c.push(_);else{if(Ho(t,n),t.bindTexture(f,e),w){w=!1,p=n.width||k.width,b=n.height||k.height,t.texImage3D(f,d,o,p,b,y,0,s,l,null);for(let D=0;D<y;++D)t.texSubImage3D(f,d,0,0,D,p,b,1,s,l,k)}else{let D=k,I;(k.width!==p||k.height!==b)&&(I=ey(),D=I.canvas,I.canvas.width=p,I.canvas.height=b,I.drawImage(k,0,0,p,b)),t.texSubImage3D(f,d,0,0,C,p,b,1,s,l,D),I&&D===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}Ds(n)&&t.generateMipmap(f)}u===0&&r(c.length?c:void 0,e,h)}}h=i.map(function(C,_){return Md(C,n.crossOrigin,S(_))})}function xy(t,e,n,r){r=r||Nr.textureOptions;const i=r.target||or;t.bindTexture(i,e);let o=r.width,a=r.height,s=r.depth;const l=r.level||0,f=r.internalFormat||r.format||Ge,u=Go(f),c=r.format||u.format,h=r.type||gy(t,n,u.type);if(Oo(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const y=c6(h);n=new y(n)}const d=JI(f,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+Cd(t,c);let b;if(i===Lr||i===zr)if(!o&&!a&&!s){const y=Math.cbrt(p);if(y%1!==0)throw"can't guess cube size of array of numElements: "+p;o=y,a=y,s=y}else o&&(!a||!s)?(b=au(t,i,a,s,p/o),a=b.width,s=b.height):a&&(!o||!s)?(b=au(t,i,o,s,p/a),o=b.width,s=b.height):(b=au(t,i,o,a,p/s),o=b.width,a=b.height);else b=au(t,i,o,a,p),o=b.width,a=b.height;if(my(t),t.pixelStorei(kd,r.unpackAlignment||1),Ho(t,r),i===ar){const y=d/n.BYTES_PER_ELEMENT,w=p/6*y;Pd(t,r).forEach(S=>{const C=w*S.ndx,_=n.subarray(C,C+w);t.texImage2D(S.face,l,f,o,a,0,c,h,_)})}else i===Lr||i===zr?t.texImage3D(i,l,f,o,a,s,0,c,h,n):t.texImage2D(i,l,f,o,a,0,c,h,n);return{width:o,height:a,depth:s,type:h}}function uk(t,e,n){const r=n.target||or;t.bindTexture(r,e);const i=n.level||0,o=n.internalFormat||n.format||Ge,a=Go(o),s=n.format||a.format,l=n.type||a.type;if(Ho(t,n),r===ar)for(let f=0;f<6;++f)t.texImage2D(Kl+f,i,o,n.width,n.height,0,s,l,null);else r===Lr||r===zr?t.texImage3D(r,i,o,n.width,n.height,n.depth,0,s,l,null):t.texImage2D(r,i,o,n.width,n.height,0,s,l,null)}function Fs(t,e,n){n=n||Bs,e=e||Nr.textureOptions;const r=t.createTexture(),i=e.target||or;let o=e.width||1,a=e.height||1;const s=e.internalFormat||Ge;t.bindTexture(i,r),i===ar&&(t.texParameteri(i,Jl,Xl),t.texParameteri(i,eu,Xl));let l=e.src;if(l)if(typeof l=="function"&&(l=l(t,e)),typeof l=="string")sk(t,r,e,n);else if(Oo(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||Oo(l[0]))){const f=xy(t,r,l,e);o=f.width,a=f.height}else Array.isArray(l)&&(typeof l[0]=="string"||wy(l[0]))?i===ar?fk(t,r,e,n):lk(t,r,e,n):(yy(t,r,l,e),o=l.width,a=l.height);else uk(t,r,e);return Ds(e)&&Fd(t,r,e,o,a,s),by(t,r,e),r}function ck(t,e,n,r,i,o){r=r||n.width,i=i||n.height,o=o||n.depth;const a=n.target||or;t.bindTexture(a,e);const s=n.level||0,l=n.internalFormat||n.format||Ge,f=Go(l),u=n.format||f.format;let c;const h=n.src;if(h&&(Oo(h)||Array.isArray(h)&&typeof h[0]=="number")?c=n.type||gy(t,h,f.type):c=n.type||f.type,a===ar)for(let d=0;d<6;++d)t.texImage2D(Kl+d,s,l,r,i,0,u,c,null);else a===Lr||a===zr?t.texImage3D(a,s,l,r,i,o,0,u,c,null):t.texImage2D(a,s,l,r,i,0,u,c,null)}const hk=Wb,su=33984,dk=35048,fu=34962,pk=34963,Nd=35345,vy=35718,gk=35721,mk=35971,bk=35382,yk=35396,wk=35398,xk=35392,vk=35395,lu=5126,Ay=35664,Ey=35665,_y=35666,Ld=5124,Sy=35667,Cy=35668,Ty=35669,Iy=35670,ky=35671,Dy=35672,By=35673,Fy=35674,Ry=35675,Py=35676,Ak=35678,Ek=35680,_k=35679,Sk=35682,Ck=35685,Tk=35686,Ik=35687,kk=35688,Dk=35689,Bk=35690,Fk=36289,Rk=36292,Pk=36293,zd=5125,My=36294,Oy=36295,Ny=36296,Mk=36298,Ok=36299,Nk=36300,Lk=36303,zk=36306,Uk=36307,Gk=36308,Hk=36311,uu=3553,cu=34067,Ud=32879,hu=35866,oe={};function Ly(t,e){return oe[e].bindPoint}function Vk(t,e){return function(n){t.uniform1f(e,n)}}function jk(t,e){return function(n){t.uniform1fv(e,n)}}function qk(t,e){return function(n){t.uniform2fv(e,n)}}function Wk(t,e){return function(n){t.uniform3fv(e,n)}}function Zk(t,e){return function(n){t.uniform4fv(e,n)}}function zy(t,e){return function(n){t.uniform1i(e,n)}}function Uy(t,e){return function(n){t.uniform1iv(e,n)}}function Gy(t,e){return function(n){t.uniform2iv(e,n)}}function Hy(t,e){return function(n){t.uniform3iv(e,n)}}function Vy(t,e){return function(n){t.uniform4iv(e,n)}}function $k(t,e){return function(n){t.uniform1ui(e,n)}}function Yk(t,e){return function(n){t.uniform1uiv(e,n)}}function Qk(t,e){return function(n){t.uniform2uiv(e,n)}}function Xk(t,e){return function(n){t.uniform3uiv(e,n)}}function Kk(t,e){return function(n){t.uniform4uiv(e,n)}}function Jk(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function eD(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function tD(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function nD(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function rD(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function iD(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function oD(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function aD(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function sD(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function Ct(t,e,n,r){const i=Ly(t,e);return Mo(t)?function(o){let a,s;Ql(t,o)?(a=o,s=null):(a=o.texture,s=o.sampler),t.uniform1i(r,n),t.activeTexture(su+n),t.bindTexture(i,a),t.bindSampler(n,s)}:function(o){t.uniform1i(r,n),t.activeTexture(su+n),t.bindTexture(i,o)}}function Tt(t,e,n,r,i){const o=Ly(t,e),a=new Int32Array(i);for(let s=0;s<i;++s)a[s]=n+s;return Mo(t)?function(s){t.uniform1iv(r,a),s.forEach(function(l,f){t.activeTexture(su+a[f]);let u,c;Ql(t,l)?(u=l,c=null):(u=l.texture,c=l.sampler),t.bindSampler(n,c),t.bindTexture(o,u)})}:function(s){t.uniform1iv(r,a),s.forEach(function(l,f){t.activeTexture(su+a[f]),t.bindTexture(o,l)})}}oe[lu]={Type:Float32Array,size:4,setter:Vk,arraySetter:jk},oe[Ay]={Type:Float32Array,size:8,setter:qk,cols:2},oe[Ey]={Type:Float32Array,size:12,setter:Wk,cols:3},oe[_y]={Type:Float32Array,size:16,setter:Zk,cols:4},oe[Ld]={Type:Int32Array,size:4,setter:zy,arraySetter:Uy},oe[Sy]={Type:Int32Array,size:8,setter:Gy,cols:2},oe[Cy]={Type:Int32Array,size:12,setter:Hy,cols:3},oe[Ty]={Type:Int32Array,size:16,setter:Vy,cols:4},oe[zd]={Type:Uint32Array,size:4,setter:$k,arraySetter:Yk},oe[My]={Type:Uint32Array,size:8,setter:Qk,cols:2},oe[Oy]={Type:Uint32Array,size:12,setter:Xk,cols:3},oe[Ny]={Type:Uint32Array,size:16,setter:Kk,cols:4},oe[Iy]={Type:Uint32Array,size:4,setter:zy,arraySetter:Uy},oe[ky]={Type:Uint32Array,size:8,setter:Gy,cols:2},oe[Dy]={Type:Uint32Array,size:12,setter:Hy,cols:3},oe[By]={Type:Uint32Array,size:16,setter:Vy,cols:4},oe[Fy]={Type:Float32Array,size:32,setter:Jk,rows:2,cols:2},oe[Ry]={Type:Float32Array,size:48,setter:eD,rows:3,cols:3},oe[Py]={Type:Float32Array,size:64,setter:tD,rows:4,cols:4},oe[Ck]={Type:Float32Array,size:32,setter:nD,rows:2,cols:3},oe[Tk]={Type:Float32Array,size:32,setter:iD,rows:2,cols:4},oe[Ik]={Type:Float32Array,size:48,setter:rD,rows:3,cols:2},oe[kk]={Type:Float32Array,size:48,setter:aD,rows:3,cols:4},oe[Dk]={Type:Float32Array,size:64,setter:oD,rows:4,cols:2},oe[Bk]={Type:Float32Array,size:64,setter:sD,rows:4,cols:3},oe[Ak]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:uu},oe[Ek]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:cu},oe[_k]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:Ud},oe[Sk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:uu},oe[Fk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:hu},oe[Rk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:hu},oe[Pk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:cu},oe[Mk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:uu},oe[Ok]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:Ud},oe[Nk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:cu},oe[Lk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:hu},oe[zk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:uu},oe[Uk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:Ud},oe[Gk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:cu},oe[Hk]={Type:null,size:0,setter:Ct,arraySetter:Tt,bindPoint:hu};function du(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(fu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||lu,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function Gr(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4iv(e,n.value);else throw new Error("The length of an integer constant value must be 4!");else t.bindBuffer(fu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||Ld,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function pu(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4uiv(e,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else t.bindBuffer(fu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||zd,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function Gd(t,e,n){const r=n.size,i=n.count;return function(o){t.bindBuffer(fu,o.buffer);const a=o.size||o.numComponents||r,s=a/i,l=o.type||lu,u=oe[l].size*a,c=o.normalize||!1,h=o.offset||0,d=u/i;for(let p=0;p<i;++p)t.enableVertexAttribArray(e+p),t.vertexAttribPointer(e+p,s,l,c,u,h+d*p),o.divisor!==void 0&&t.vertexAttribDivisor(e+p,o.divisor)}}const nt={};nt[lu]={size:4,setter:du},nt[Ay]={size:8,setter:du},nt[Ey]={size:12,setter:du},nt[_y]={size:16,setter:du},nt[Ld]={size:4,setter:Gr},nt[Sy]={size:8,setter:Gr},nt[Cy]={size:12,setter:Gr},nt[Ty]={size:16,setter:Gr},nt[zd]={size:4,setter:pu},nt[My]={size:8,setter:pu},nt[Oy]={size:12,setter:pu},nt[Ny]={size:16,setter:pu},nt[Iy]={size:4,setter:Gr},nt[ky]={size:8,setter:Gr},nt[Dy]={size:12,setter:Gr},nt[By]={size:16,setter:Gr},nt[Fy]={size:4,setter:Gd,count:2},nt[Ry]={size:9,setter:Gd,count:3},nt[Py]={size:16,setter:Gd,count:4};function jy(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const fD=/(\.|\[|]|\w+)/g,lD=t=>t>="0"&&t<="9";function qy(t,e,n,r){const i=t.split(fD).filter(s=>s!=="");let o=0,a="";for(;;){const s=i[o++];a+=s;const l=lD(s[0]),f=l?parseInt(s):s;if(l&&(a+=i[o++]),o===i.length){n[f]=e;break}else{const c=i[o++],h=c==="[",d=n[f]||(h?[]:{});n[f]=d,n=d,r[a]=r[a]||function(p){return function(b){Qy(p,b)}}(d),a+=c}}}function uD(t,e){let n=0;function r(s,l,f){const u=l.name.endsWith("[0]"),c=l.type,h=oe[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=l.size,u?d=h.arraySetter(t,c,p,f,l.size):d=h.setter(t,c,p,f,l.size)}else h.arraySetter&&u?d=h.arraySetter(t,f):d=h.setter(t,f);return d.location=f,d}const i={},o={},a=t.getProgramParameter(e,vy);for(let s=0;s<a;++s){const l=t.getActiveUniform(e,s);if(jy(l))continue;let f=l.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const u=t.getUniformLocation(e,l.name);if(u){const c=r(e,l,u);i[f]=c,qy(f,c,o,i)}}return i}function cD(t,e){const n={},r=t.getProgramParameter(e,mk);for(let i=0;i<r;++i){const o=t.getTransformFeedbackVarying(e,i);n[o.name]={index:i,type:o.type,size:o.size}}return n}function hD(t,e){const n=t.getProgramParameter(e,vy),r=[],i=[];for(let s=0;s<n;++s){i.push(s),r.push({});const l=t.getActiveUniform(e,s);r[s].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const l=s[0],f=s[1];t.getActiveUniforms(e,i,t[l]).forEach(function(u,c){r[c][f]=u})});const o={},a=t.getProgramParameter(e,bk);for(let s=0;s<a;++s){const l=t.getActiveUniformBlockName(e,s),f={index:t.getUniformBlockIndex(e,l),usedByVertexShader:t.getActiveUniformBlockParameter(e,s,yk),usedByFragmentShader:t.getActiveUniformBlockParameter(e,s,wk),size:t.getActiveUniformBlockParameter(e,s,xk),uniformIndices:t.getActiveUniformBlockParameter(e,s,vk)};f.used=f.usedByVertexShader||f.usedByFragmentShader,o[l]=f}return{blockSpecs:o,uniformData:r}}const Wy=/\[\d+\]\.$/,dD=(t,e)=>((t+(e-1))/e|0)*e;function pD(t,e,n,r){if(e||n){r=r||1;const o=t.length/4;return function(a){let s=0,l=0;for(let f=0;f<o;++f){for(let u=0;u<r;++u)t[s++]=a[l++];s+=4-r}}}else return function(i){i.length?t.set(i):t[0]=i}}function gD(t,e,n,r){const i=n.blockSpecs,o=n.uniformData,a=i[r];if(!a)return hk("no uniform block object named:",r),{name:r,uniforms:{}};const s=new ArrayBuffer(a.size),l=t.createBuffer(),f=a.index;t.bindBuffer(Nd,l),t.uniformBlockBinding(e,a.index,f);let u=r+".";Wy.test(u)&&(u=u.replace(Wy,"."));const c={},h={},d={};return a.uniformIndices.forEach(function(p){const b=o[p];let y=b.name;y.startsWith(u)&&(y=y.substr(u.length));const w=y.endsWith("[0]");w&&(y=y.substr(0,y.length-3));const S=oe[b.type],C=S.Type,_=w?dD(S.size,16)*b.size:S.size*b.size,k=new C(s,b.offset,_/C.BYTES_PER_ELEMENT);c[y]=k;const D=pD(k,w,S.rows,S.cols);h[y]=D,qy(y,D,d,h)}),{name:r,array:s,asFloat:new Float32Array(s),buffer:l,uniforms:c,setters:h}}function Zy(t,e,n){return gD(t,e.program,e.uniformBlockSpec,n)}function mD(t,e,n){const i=(e.uniformBlockSpec||e).blockSpecs[n.name];if(i){const o=i.index;return t.bindBufferRange(Nd,o,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function $y(t,e,n){mD(t,e,n)&&t.bufferData(Nd,n.array,dk)}function Yy(t,e){const n=t.setters;for(const r in e){const i=n[r];if(i){const o=e[r];i(o)}}}function Qy(t,e){for(const n in e){const r=t[n];typeof r=="function"?r(e[n]):Qy(t[n],e[n])}}function $t(t,...e){const n=t.uniformSetters||t,r=e.length;for(let i=0;i<r;++i){const o=e[i];if(Array.isArray(o)){const a=o.length;for(let s=0;s<a;++s)$t(n,o[s])}else for(const a in o){const s=n[a];s&&s(o[a])}}}function bD(t,e){const n={},r=t.getProgramParameter(e,gk);for(let i=0;i<r;++i){const o=t.getActiveAttrib(e,i);if(jy(o))continue;const a=t.getAttribLocation(e,o.name),s=nt[o.type],l=s.setter(t,a,s);l.location=a,n[o.name]=l}return n}function yD(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function Vo(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(yD(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(pk,n.indices))}function wD(t,e){const n=uD(t,e),r=bD(t,e),i={program:e,uniformSetters:n,attribSetters:r};return Mo(t)&&(i.uniformBlockSpec=hD(t,e),i.transformFeedbackInfo=cD(t,e)),i}const xD=4,Xy=5123;function Rs(t,e,n,r,i,o){n=n===void 0?xD:n;const a=e.indices,s=e.elementType,l=r===void 0?e.numElements:r;i=i===void 0?0:i,s||a?o!==void 0?t.drawElementsInstanced(n,l,s===void 0?Xy:e.elementType,i,o):t.drawElements(n,l,s===void 0?Xy:e.elementType,i):o!==void 0?t.drawArraysInstanced(n,i,l,o):t.drawArrays(n,i,l)}const vD=36160,Hi=36161,AD=3553,ED=5121,_D=6402,SD=6408,CD=33190,TD=36012,ID=35056,kD=36013,DD=32854,BD=32855,FD=36194,Ky=33189,Jy=6401,ew=36168,Hd=34041,RD=36064,gu=36096,tw=36128,Vd=33306,jd=33071,qd=9729,nw=[{format:SD,type:ED,min:qd,wrap:jd},{format:Hd}],Sn={};Sn[Hd]=Vd,Sn[Jy]=tw,Sn[ew]=tw,Sn[_D]=gu,Sn[Ky]=gu,Sn[CD]=gu,Sn[TD]=gu,Sn[ID]=Vd,Sn[kD]=Vd;function PD(t,e){return Sn[t]||Sn[e]}const Hr={};Hr[DD]=!0,Hr[BD]=!0,Hr[FD]=!0,Hr[Hd]=!0,Hr[Ky]=!0,Hr[Jy]=!0,Hr[ew]=!0;function MD(t){return Hr[t]}function OD(t,e,n,r){const i=vD,o=t.createFramebuffer();t.bindFramebuffer(i,o),n=n||t.drawingBufferWidth,r=r||t.drawingBufferHeight,e=e||nw;let a=0;const s={framebuffer:o,attachments:[],width:n,height:r};return e.forEach(function(l){let f=l.attachment;const u=l.samples,c=l.format;let h=l.attachmentPoint||PD(c,l.internalFormat);if(h||(h=RD+a++),!f)if(u!==void 0||MD(c))f=t.createRenderbuffer(),t.bindRenderbuffer(Hi,f),u>1?t.renderbufferStorageMultisample(Hi,u,c,n,r):t.renderbufferStorage(Hi,c,n,r);else{const d=Object.assign({},l);d.width=n,d.height=r,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||qd,d.mag=d.mag||d.minMag||qd,d.wrapS=d.wrapS||d.wrap||jd,d.wrapT=d.wrapT||d.wrap||jd),f=Fs(t,d)}if(Zb(t,f))t.framebufferRenderbuffer(i,h,Hi,f);else if(Ql(t,f))l.layer!==void 0?t.framebufferTextureLayer(i,h,f,l.level||0,l.layer):t.framebufferTexture2D(i,h,l.target||AD,f,l.level||0);else throw new Error("unknown attachment type");s.attachments.push(f)}),s}function ND(t,e,n,r,i){r=r||t.drawingBufferWidth,i=i||t.drawingBufferHeight,e.width=r,e.height=i,n=n||nw,n.forEach(function(o,a){const s=e.attachments[a],l=o.format,f=o.samples;if(f!==void 0||Zb(t,s))t.bindRenderbuffer(Hi,s),f>1?t.renderbufferStorageMultisample(Hi,f,l,r,i):t.renderbufferStorage(Hi,l,r,i);else if(Ql(t,s))ck(t,s,o,r,i);else throw new Error("unknown attachment type")})}function LD(t,e,n){const r=t.createVertexArray();return t.bindVertexArray(r),e.length||(e=[e]),e.forEach(function(i){Vo(t,i,n)}),t.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const zD=/^(.*?)_/;function UD(t,e){Cd(t,0);const n=t.getExtension(e);if(n){const r={},i=zD.exec(e)[1],o="_"+i;for(const a in n){const s=n[a],l=typeof s=="function",f=l?i:o;let u=a;a.endsWith(f)&&(u=a.substring(0,a.length-f.length)),t[u]!==void 0?!l&&t[u]!==s&&Wb(u,t[u],s,a):l?t[u]=function(c){return function(){return c.apply(n,arguments)}}(s):(t[u]=s,r[u]=s)}r.constructor={name:n.constructor.name},Cd(r,0)}return n}const rw=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function iw(t){for(let e=0;e<rw.length;++e)UD(t,rw[e])}function GD(t,e){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=t.getContext(n[i],e),r){iw(r);break}return r}function HD(t,e){return GD(t,e)}const VD=`/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
in vec2 frac;

/** Minimum size (width, height) of the displayed rectangle in pixels */
uniform vec2 uMinSize;

/** Minimum opacity for the size size clamping */
uniform float uMinOpacity;

/** top-right, bottom-right, top-left, bottom-left */
uniform vec4 uCornerRadii;

out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;


#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

void main(void) {
    vec2 normalizedMinSize = uMinSize / uViewportSize;

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(uCornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,jD=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,Wd="attr_",ow="uDomain_",qD="range_",aw="scale_",sw="getScaled_",Zd="uRangeTexture_",fw=3402823466e29;function WD(t){const e=t.match(/^(?:(\w+)-)?(\w+)$/);if(!e)throw new Error("Not a scale type: "+t);return{family:e[1]||"continuous",transform:e[2]}}function ZD(t,e){let n;if($l(t))n=Vi(jb(t)(e));else if(Ye(e))if(Li(t))n=YD(e);else throw new Error(`String values are not supported on the "${t}" channel: ${e}`);else if(rl(e))n=Vi(e?1:0);else if(e===null)if(Li(t))n=Vi([0,0,0]);else throw new Error(`null value is not supported on the "${t}" chanel.`);else n=Vi(e);return`
#define ${t}_DEFINED
${n.type} ${sw}${t}() {
    // Constant value
    return ${n};
}`}function $D(t,e,n){if(En(n))throw new Error(`Cannot create scale for "value": ${JSON.stringify(n)}`);if(!e)throw new Error("Scale is undefined");const r=Ni(t),i=Wd+t,o=ow+r,a=qD+r,s=mu(e.type),l=s?"vec2":"float",f=e.domain?e.domain().length:void 0;let u;const c=[];c.push(""),c.push("/".repeat(70)),c.push(`// Channel: ${t}`),c.push(""),c.push(`#define ${t}_DEFINED`);const{transform:h}=WD(e.type),d=(I,...R)=>QD.apply(null,[I,"value",...R]);let p;switch(h){case"linear":p=d("scaleLinear","domain",a);break;case"log":p=d("scaleLog","domain",a,e.base());break;case"symlog":p=d("scaleSymlog","domain",a,e.constant());break;case"pow":case"sqrt":p=d("scalePow","domain",a,e.exponent());break;case"index":case"locus":p=d("scaleBandHp","domain",a,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"point":case"band":p=d("scaleBand","domain",a,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"ordinal":case"null":case"identity":p=d("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${e.type}! ${t}: ${JSON.stringify(n)}`)}const b=ql(e.type)||vt(e.type)&&Li(t)?[0,1]:e.range?e.range():void 0;if(b&&t==r&&b.length&&b.every(Ft)){const I=lw(b);c.push(`const ${I.type} ${a} = ${I};`)}const y=Li(t)?"vec3":"float";let w;if(Li(t)){const I=Zd+r;if(t==r&&c.push(`uniform sampler2D ${I};`),vt(e.type))w=`getInterpolatedColor(${I}, transformed)`;else if(Or(e.type)||Ro(e.type))w=`getDiscreteColor(${I}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(e.type==="ordinal"||Ro(e.type)){const I=Zd+r;t==r&&c.push(`uniform sampler2D ${I};`),w=`getDiscreteColor(${I}, int(transformed)).r`}_s(n)?c.push(`uniform highp ${l} ${i};`):c.push(`in highp ${l} ${i};`);const S=[],C=vt(e.type)&&f>2,_=Ro(e.type)||C;if(S.push("int slot = 0;"),_){const I=o;S.push(C?`while (slot < ${I}.length() - 2 && value >= ${I}[slot + 1]) { slot++; }`:`while (slot < ${I}.length() && value >= ${I}[slot]) { slot++; }`)}const k=vt(e.type)||Ro(e.type)||["band","point"].includes(e.type);if(p){const I=o;k&&(s?S.push(`vec3 domain = ${I};`):S.push(`vec2 domain = vec2(${I}[slot], ${I}[slot + 1]);`)),S.push(`float transformed = ${p};`),C&&S.push(`transformed = (float(slot) + transformed) / (float(${I}.length() - 1));`)}else S.push("float transformed = float(slot);");"clamp"in e&&e.clamp()&&S.push(`transformed = clampToRange(transformed, ${lw(b)});`),S.push(`return ${w??"transformed"};`),c.push(`
${y} ${aw}${t}(${l} value) {
${S.map(I=>`    ${I}
`).join("")}
}`),c.push(`
${y} ${sw}${t}() {
    return ${aw}${t}(${i});
}`);const D=c.join(`
`);if(k&&t==r){const I=vt(e.type)||Ro(e.type)?f:2;u=s?`highp vec3 ${o};`:`mediump float ${o}[${I}];`}return{glsl:D,domainUniform:u}}function $d(t){if(!Ft(t))throw new Error(`Not a number: ${t}`);if(t==1/0)return""+fw;if(t==-1/0)return""+-fw;{let e=`${t}`;return/^(-)?\d+$/.test(e)&&(e+=".0"),e}}function Vi(t){typeof t=="number"&&(t=[t]);const e=t.length;if(e<1||e>4)throw new Error("Invalid number of components: "+e);let n,r;return e>1?(n=`vec${e}`,r=`${n}(${t.map($d).join(", ")})`):(n="float",r=$d(t[0])),Object.assign(r,{type:n,numComponents:e})}function YD(t){const e=Fr(t).rgb();return Vi([e.r,e.g,e.b].map(n=>n/255))}function lw(t){return Vi([t[0],os(t)])}function QD(t,...e){const n=[];for(const r of e)Ft(r)?n.push($d(r)):qt(r)?n.push(Vi(r)):n.push(r);return`${t}(${n.join(", ")})`}function mu(t){return t=="index"||t=="locus"}const uw=2**11,XD=uw-1;function cw(t,e=[]){const n=t&XD,r=t-n;return e[0]=r,e[1]=n,e}function KD(t){const e=t%uw;return[t-e,e]}function JD(t){return[...KD(t[0]),t[1]-t[0]]}class eB{constructor(e){this.size=e,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}addConverter(e,n){const r=this.createUpdater(Wd+e,n.numComponents||1,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?o=>r(i(o)):o=>r(i(o)))}createUpdater(e,n,r){if(!Ft(this.size))throw new Error("The number of vertices must be defined!");let i,o,a=0;const s=new Float32Array(this.size*n);if(this.arrays[e]={data:s,numComponents:n},n==1){let l=0;const f=u=>{l=+u};i=()=>{s[a++]=l},o=f}else{let l=r??[0];const f=r?u=>{}:u=>{l=u};switch(n){case 1:break;case 2:i=()=>{s[a++]=l[0],s[a++]=l[1]},o=f;break;case 3:i=()=>{s[a++]=l[0],s[a++]=l[1],s[a++]=l[2]},o=f;break;case 4:i=()=>{s[a++]=l[0],s[a++]=l[1],s[a++]=l[2],s[a++]=l[3]},o=f;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(i),o}_unrollPushAll(){let e="",n="";for(let i=0;i<this.pushers.length;i++)e+=`const p${i} = that.pushers[${i}];
`,n+=`p${i}();
`;const r=new Function("that",`${e}

            return function unrolledPushAll() {
                ${n}
                that.vertexCount++;
            };
        `);this.pushAll=r(this)}pushAll(){this.size>1e5?this._unrollPushAll():this.pushAll=()=>{for(let n=0;n<this.pushers.length;n++)this.pushers[n]();this.vertexCount++},this.pushAll()}updateFromDatum(e){for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](e)}pushFromDatum(e){this.updateFromDatum(e),this.pushAll()}}const jo=5,Yd=127;function Qd(t){const e=[];for(let p=0;p<=Yd;p++)e.push(void 0);const n=new Map;for(const p of t.chars)p.id<=Yd?e[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,e["-".charCodeAt(0)]);function i(p){return(p<=Yd?e[p]:n.get(p))||e[63]}function o(p){return i(p.charCodeAt(0))}const a=t.common.base,s=o("x"),l=o("X"),f=o("q"),u=s.height-jo*2,c=l.height-jo*2,h=f.height-s.height+f.yoffset-s.yoffset;function d(p,b=1){let y=0;for(let w=0;w<p.length;w++)y+=i(p.charCodeAt(w)).xadvance;return y/a*b}return{measureWidth:d,getCharByCode:i,getChar:o,xHeight:u,capHeight:c,descent:h,common:t.common}}function Xd(t,e=0,n=1){return Math.max(e,Math.min(n,t))}const hw=2**31-1,tB=-(2**31);function nB(t,e,n,r=n){const i=new Int32Array(t);i.fill(hw);let o=tB,a=!1;const s=new Int32Array(t),l=e[0],u=(e[1]-e[0])/t,c=(y,w)=>{const S=(y-l)/u,C=Math.floor(S);return Xd(w&&C==S?C-1:C,0,t-1)};function h(y,w,S){w>o?o=w:a||(a=!0,console.debug("Items are not ordered properly. Disabling binned index."));const C=n(y),_=c(C,!1);i[_]>w&&(i[_]=w),s[_]<S&&(s[_]=S)}function d(y,w,S){w>o?o=w:a||(a=!0,console.debug("Items are not ordered properly. Disabling binned index."));const C=n(y),_=r(y),k=c(C,!1),D=c(_,!0);for(let I=k;I<=D;I++)i[I]>w&&(i[I]=w),s[I]<S&&(s[I]=S)}const p=(y,w,S=[0,0])=>{const C=c(y,!1),_=c(w,!0),k=i[C],D=Math.max(s[_],k);return S[0]=k,S[1]=D,S},b=()=>{for(let w=1;w<s.length;w++)s[w]<s[w-1]&&(s[w]=s[w-1]);let y=!0;for(let w=i.length-1;w>0;w--)y&&i[w]==hw?(i[w]=s[w],y=!1):i[w-1]>i[w]&&(i[w-1]=i[w]);return p};if(h.getIndex=b,d.getIndex=b,!a)return n==r?h:d}class Ps{constructor({encoders:e,numVertices:n=void 0,attributes:r=[]}){this.encoders=e,this.variableEncoders=Object.fromEntries(Object.entries(e).filter(([i,o])=>r.includes(i)&&o&&o.scale&&!o.constant)),this.allocatedVertices=n,this.variableBuilder=new eB(n);for(const[i,o]of Object.entries(this.variableEncoders)){const a=o.accessor,s=[0,0],l=mu(o.scale.type),f=o.indexer,u=f?c=>f(a(c)):l?c=>cw(a(c),s):a;this.variableBuilder.addConverter(i,{f:u,numComponents:l?2:1,arrayReference:l?s:void 0})}this.lastOffset=0,this.rangeMap=new yi([],JSON.stringify)}registerBatch(e){var o;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(e,{offset:n,count:i,xIndex:(o=this.xIndexer)==null?void 0:o.getIndex()}),this.lastOffset=r}addBatches(e){for(const[n,r]of e)this.addBatch(n,r)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const a=n[o];this.variableBuilder.pushFromDatum(a),this.addToXIndex(a)}this.registerBatch(e)}prepareXIndexer(e,n=0,r=n+e.length){const i=()=>{this.addToXIndex=l=>{},this.xIndexer=void 0};if(!e.length||r-n<0){i();return}const o=l=>{var f;return l&&vt((f=l.scale)==null?void 0:f.type)&&l},a=o(this.variableEncoders.x),s=o(this.variableEncoders.x2);if(a){const l=a.accessor,f=s?s.accessor:l,u=[l(e[n]),f(e[r-1])];if(u[1]>u[0]){this.xIndexer=nB(50,u,l,f);let c=this.variableBuilder.vertexCount;this.addToXIndex=h=>{let d=this.variableBuilder.vertexCount;this.xIndexer(h,c,d),c=d}}else i()}else i()}addToXIndex(e){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class rB extends Ps{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateFrac=this.variableBuilder.createUpdater("frac",2)}addBatch(e,n,r=0,i=n.length){if(i<=r)return;const o=this.encoders,[a,s]=this.visibleRange,l=h=>h.accessor||(d=>0),f=l(o.x),u=l(o.x2);this.prepareXIndexer(n,r,i);const c=[0,0];this.updateFrac(c);for(let h=r;h<i;h++){const d=n[h];let p=f(d),b=u(d);if(p>b&&([p,b]=[b,p]),b<a||p>s)continue;p<a&&(p=a),b>s&&(b=s),this.variableBuilder.updateFromDatum(d),c[0]=0,c[1]=0;const y=1;this.variableBuilder.pushAll();for(let w=0;w<=y;w++)c[0]=w/y,c[1]=0,this.variableBuilder.pushAll(),c[1]=1,this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(d)}this.registerBatch(e)}}class iB extends Ps{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const a=n[o];this.variableBuilder.updateFromDatum(a),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const s=1;for(let l=0;l<=s;l++)this.updatePos(l/s),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(a)}this.registerBatch(e)}}class oB extends Ps{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}}class aB extends Ps{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}toArrays(){const e=this.variableBuilder.arrays;for(let n of Object.values(e))n.divisor=1;return super.toArrays()}}class sB extends Ps{constructor({encoders:e,attributes:n,fontMetrics:r,properties:i,numCharacters:o=void 0}){super({encoders:e,attributes:n,numVertices:o*6}),this.metadata=r,this.metrics=r,this.properties=i;const s=e.text.channelDef;this.numberFormat=!En(s)&&"format"in s&&s.format?pt(s.format):l=>l,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1)}addBatch(e,n,r=0,i=n.length){const o=this.properties.align||"left",a=this.properties.logoLetters??!1,s=this.metadata.common.base,l=this.metadata.common.scaleH;let f=-jo;switch(this.properties.baseline){case"top":f+=this.metrics.capHeight;break;case"middle":f+=this.metrics.capHeight/2;break;case"bottom":f-=this.metrics.descent;break}const u=this.encoders.text.accessor||this.encoders.text,c=[0,0];this.updateVertexCoord(c);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],b=this.numberFormat(u(p)),y=Ye(b)?b:b===null?"":""+b;if(y.length==0)continue;this.variableBuilder.updateFromDatum(p);const w=a?y.length:this.metrics.measureWidth(y);this.updateWidth(w);let S=o=="right"?-w:o=="center"?-w/2:0;if(!a){const D=this.metrics.getCharByCode(y.charCodeAt(0));S-=(D.width-D.xadvance)/s/2}let C=-.5,_=1,k=1;for(let D=0;D<y.length;D++){const I=this.metrics.getCharByCode(y.charCodeAt(D)),R=a?1:I.xadvance/s;if(I.id==32){S+=R;continue}a?(k=(I.width+jo*2)/I.width,S=-k/2,_=(I.height+jo*2)/I.height,C=-.5-jo/I.height):(_=I.height/s,C=-(I.height+I.yoffset+f)/s,k=I.width/s);const M=I.x,j=I.y;c[0]=S,c[1]=C+_,h[0]=M/l,h[1]=j/l,this.variableBuilder.pushAll(),c[0]=S+k,c[1]=C+_,h[0]=(M+I.width)/l,h[1]=j/l,this.variableBuilder.pushAll(),c[0]=S,c[1]=C,h[0]=M/l,h[1]=(j+I.height)/l,this.variableBuilder.pushAll(),c[0]=S+k,c[1]=C+_,h[0]=(M+I.width)/l,h[1]=j/l,this.variableBuilder.pushAll(),c[0]=S,c[1]=C,h[0]=M/l,h[1]=(j+I.height)/l,this.variableBuilder.pushAll(),c[0]=S+k,c[1]=C,h[0]=(M+I.width)/l,h[1]=(j+I.height)/l,this.variableBuilder.pushAll(),S+=R}this.addToXIndex(p)}this.registerBatch(e)}}const dw=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,fB=`uniform highp float uZero;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

float scaleBand(float value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (value - domainExtent[0]) * step + bandwidth * band;
}

// High precision variant of scaleBand for index/locus scales
float scaleBandHp(vec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(value[0] - domainStart[0], -inf);
    float lo = max(value[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,lB=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,uB=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        int id = int(getScaled_uniqueId());
        // TODO: Take the sign bit into account
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, 0xFF) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,cB=`in highp vec4 vPickingColor;
`,bu=Symbol("cacheMap");function qo(t,e,n){let r=Ms(t).get(e);return r===void 0&&(r=n(e),Ms(t).set(e,r)),r}function pw(t,e){Ms(t).delete(e)}function yu(t,e){const n=Ms(t);for(const r of n.keys())r.startsWith(e)&&n.delete(r);Ms(t).delete(e)}function gw(t){t[bu]=new Map}function Ms(t){return t[bu]||gw(t),t[bu]}function hB(t,e,n,r){const i=Ye(t)?t:t.name,o=!Ye(t)&&t.extent||[0,1];if(n===void 0&&!Ye(t)&&(n=t.count),i){const a=dd(i);if(Bt(a)){const s=mw(a,{extent:o,count:n});return wu(e,{minMag:e.LINEAR,format:e.RGB,height:1,wrap:e.CLAMP_TO_EDGE},s,r)}else{if(qt(a))return Kd(a,e);throw new Error("Unknown scheme: "+i)}}}function dB(t,e="rgb",n,r){const i=Wl(t,Ye(e)?e:e.type,Ye(e)?void 0:e.gamma),o=mw(i);return wu(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},o,r)}function pB(t,e,n,r){const i=Math.max(t.length,n||0),o=new Float32Array(i);for(let a=0;a<i;a++)o[a]=t[a%t.length];return wu(e,{minMag:e.NEAREST,format:e.RED,internalFormat:e.R32F,height:1},o,r)}function Kd(t,e,n,r){const i=bw(t,n);return wu(e,{minMag:e.NEAREST,format:e.RGB,height:1},i,r)}function mw(t,{extent:e=[0,1],reverse:n=!1,count:r=256}={}){const i=e[0],o=os(e)-i,a=La(r).map(s=>s/(r-1)).map(s=>i+s/o).map(t);return n&&a.reverse(),bw(a)}function bw(t,e){const n=Math.max(t.length,e||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const o=Fr(t[i%t.length]).rgb();r[i*3+0]=o.r,r[i*3+1]=o.g,r[i*3+2]=o.b}return r}class gB{constructor(e,n,r){this._container=e,this._sizeSource=n,this._shaderCache=new Map,this._listeners=[],this.rangeTextures=new WeakMap;const i=document.createElement("canvas");e.appendChild(i);const o=HD(i,{antialias:!0,depth:!1,premultipliedAlpha:!0});if(!o)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Mo(o))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(iw(o),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.canvas=i,this.gl=o,this._pickingAttachmentOptions=[{format:o.RGBA,type:o.UNSIGNED_BYTE,minMag:o.LINEAR,wrap:o.CLAMP_TO_EDGE}],this._pickingBufferInfo=OD(o,this._pickingAttachmentOptions),o.bindFramebuffer(o.FRAMEBUFFER,null),this.adjustGl(),this._resizeObserver=new ResizeObserver(a=>{this.invalidateSize(),this._emit("resize")}),this._resizeObserver.observe(this._container),this._updateDpr(),this._clearColor=[0,0,0,0],r){const a=Fr(r).rgb();this._clearColor=[a.r/255,a.g/255,a.b/255,a.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(e,n){const r="#version 300 es",i="precision mediump float;";qt(n)&&(n=n.join(`

`));const o=this.gl,a=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let s=this._shaderCache.get(a);if(!s){const l=[r,i,n].join(`

`);s=o.createShader(e),o.shaderSource(s,l),o.compileShader(s),this._shaderCache.set(a,s)}return s}adjustGl(){const e=this.getLogicalCanvasSize();this.canvas.style.width=`${e.width}px`,this.canvas.style.height=`${e.height}px`;const n=this.getPhysicalCanvasSize(e);this.canvas.width=n.width,this.canvas.height=n.height,ND(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this._resizeObserver.unobserve(this._container),this.canvas.remove()}getPhysicalCanvasSize(e){return e=e||this.getLogicalCanvasSize(),{width:e.width*this.dpr,height:e.height*this.dpr}}getLogicalCanvasSize(){var o;if(this._logicalCanvasSize)return this._logicalCanvasSize;const e=((o=this._sizeSource)==null?void 0:o.call(this))??{width:void 0,height:void 0},n=window.getComputedStyle(this._container,null),r=e.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=e.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}addEventListener(e,n){this._listeners.push({type:e,listener:n})}_emit(e){for(const n of this._listeners)n.type===e&&n.listener()}readPickingPixel(e,n){const r=this.gl;e*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,o=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(e,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,o),r.bindFramebuffer(r.FRAMEBUFFER,null),o}clearAll(){const e=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();e.viewport(0,0,n,r),e.disable(e.SCISSOR_TEST),e.clearColor(...this._clearColor),e.clear(e.COLOR_BUFFER_BIT)}createRangeTexture(e,n=!1){const r=this.rangeTextures.get(e);if(!n&&r)return;function i(a,s){return Or(s.type)?s.domain().length:s.type=="threshold"?s.domain().length+1:s.type=="quantize"||s.type=="quantile"?a??4:a}const o=e.channel;if(Li(o)){const a=e.getScaleProps(),s=e.getScale(),l=s.range();let f;if(a.scheme)if(s.type=="threshold"&&l)f=Kd(l,this.gl,s.domain().length,r);else{let u=Ye(a.scheme)?void 0:a.scheme.count;u=i(u,s),f=hB(a.scheme,this.gl,u,r)}else ql(s.type)||vt(s.type)&&l.length>2?f=dB(l,a.interpolate,this.gl,r):f=Kd(l,this.gl,s.domain().length,r);this.rangeTextures.set(e,f)}else{const a=e.getScale();if(a.type==="ordinal"||Ro(a.type)){const s=$l(o)?jb(o):f=>f,l=e.getScale().range();this.rangeTextures.set(e,pB(l.map(s),this.gl,a.domain().length,r))}}}}function mB(t,e="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...e.matchAll(r)],o=new Map(i.map((a,s)=>{const l=parseInt(a[1]),f=i[s+1],u=f?f.index:e.length,c=e.substring(a.index,u);return[l-1,c]}));return t.split(`
`).map((a,s)=>{const l=o.get(s);return`${s+1+n}: ${a}${l?`

^^^ ${l}`:""}`}).join(`
`)}function bB(t,e,n){const r=t.createProgram();t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r);function i(){let o,a;if(!t.getProgramParameter(r,t.LINK_STATUS)){o=t.getProgramInfoLog(r);for(const l of[e,n])t.getShaderParameter(l,t.COMPILE_STATUS)||(o=t.getShaderInfoLog(l),a=mB(t.getShaderSource(l),o,0)+`
Error compiling: ${o}`,t.deleteShader(l));t.deleteProgram(r)}if(o)return{message:o,detail:a}}return{program:r,getProgramErrors:i}}function wu(t,e,n,r){return r?xy(t,r,n,e):r=Fs(t,{...e,src:n}),r}function yB(...t){const e={get(n,r,i){for(const o of t){const s=o()[r];if(s!==void 0)return s}},has(n,r,i){for(const o of t){const a=o();if(r in a)return!0}return!1}};return new Proxy({},e)}function wB(t){return Ye(t)||Ft(t)||rl(t)}class ji extends Error{constructor(e,n){super(e),this.name="ViewError",this.view=n}}const xB="SAMPLE_FACET_UNIFORM",yw="SAMPLE_FACET_TEXTURE";class Os{constructor(e){this.unitView=e,this.encoders=void 0,this.bufferInfo=void 0,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.domainUniformInfo=void 0,this.viewUniformInfo=void 0,this.rangeMap=new vB,this.defaultProperties={get clip(){return["x","y"].map(n=>e.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=yB(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const e={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(e.uniqueId={field:"_uniqueId"}),e}fixEncoding(e){return e}get encoding(){return qo(this,"encoding",()=>{const e=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=a=>{const s=this.properties[a];return wB(s)&&{value:s}},i=Object.fromEntries(this.getSupportedChannels().map(a=>[a,r(a)]).filter(a=>a[1].value!==void 0)),o=this.fixEncoding({...e,...i,...n});for(const a of Object.keys(o))this.getSupportedChannels().includes(a)||delete o[a];return o})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=ZT(this)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return yw;if(this.unitView.getLayoutAncestors().find(e=>"samples"in e.spec))return xB}createAndLinkShaders(e,n,r=[]){const i=this.getAttributes();r.push("// view: "+this.unitView.getPathString()),this.domainUniforms=[];let o=[];const a=this.getSampleFacetMode();a&&r.push(`#define ${a}`);for(const h of i){let d;if(h in this.encoding)d=h;else continue;const p=this.encoding[d];if(p)if(En(p))o.push(ZD(d,p.value));else{const b=Nt(p)&&p.resolutionChannel||d,y=zi(b)?this.unitView.getScaleResolution(b).getScale():Zl(),w=$D(d,y,p);o.push(w.glsl),w.domainUniform&&this.domainUniforms.push(w.domainUniform)}}const s=this.domainUniforms.length?`layout(std140) uniform Domains {
`+this.domainUniforms.map(h=>`    ${h}
`).join("")+`};

`:"",f=[`precision highp float;
`,...r,dw,fB,s,...o,lB,uB,e],u=[...r,dw,cB,n],c=this.gl;this.programStatus=bB(c,this.glHelper.compileShader(c.VERTEX_SHADER,f),this.glHelper.compileShader(c.FRAGMENT_SHADER,u))}finalizeGraphicsInitialization(){const e=this.programStatus.getProgramErrors();if(e){e.detail&&console.warn(e.detail);const n=new Error("Cannot create shader program: "+e.message);throw n.view=this.unitView,n}this.programInfo=wD(this.gl,this.programStatus.program),delete this.programStatus,this.domainUniforms.length&&(this.domainUniformInfo=Zy(this.gl,this.programInfo,"Domains")),this.viewUniformInfo=Zy(this.gl,this.programInfo,"View"),this.gl.useProgram(this.programInfo.program),this._setDatums(),$t(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0,uZero:0})}_setDatums(){for(const[e,n]of Object.entries(this.encoding))if(_s(n)){const r=this.encoders[e],i=r.indexer?r.indexer(n.datum):mu(r.scale.type)?cw(+n.datum):+n.datum;$t(this.programInfo,{[Wd+e]:i})}}deleteGraphicsData(){if(this.bufferInfo){const e=this.gl;for(let n=0;n<8;n++)e.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(e){if(this.gl.bindVertexArray(null),this.bufferInfo&&e.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(e.arrays))r.data&&B6(this.gl,this.bufferInfo.attribs[n],r.data,0);else this.deleteGraphicsData(),this.bufferInfo=P6(this.gl,e.arrays,{numElements:e.vertexCount}),this.bufferInfo.allocatedVertices=e.allocatedVertices,this.vertexArrayInfo=void 0}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null)return!1;for(const e of this.unitView.getLayoutAncestors())if(!e.isPickingSupported())return!1;return!0}prepareRender(e){const n=this.glHelper,r=this.gl,i=[];if(i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=LD(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)}),this.domainUniformInfo){for(const[a,s]of Object.entries(this.domainUniformInfo.setters)){const l=a.substring(ow.length),f=this.encoding[l],u=Nt(f)&&f.resolutionChannel||l;if(zi(u)){const c=this.unitView.getScaleResolution(u).getScale();i.push(()=>{const h=Or(c.type)?[0,c.domain().length]:c.domain();s(mu(c.type)?JD(h):h)})}}i.push(()=>$y(r,this.programInfo,this.domainUniformInfo))}for(const[a,s]of Object.entries(this.encoding))if(Nt(s)){const l=Nt(s)&&s.resolutionChannel||a;if(zi(l)){const f=this.unitView.getScaleResolution(l),u=n.rangeTextures.get(f);u&&i.push(()=>$t(this.programInfo,{[Zd+a]:u}))}}this.getSampleFacetMode()==yw&&i.push(()=>{let a;for(const s of this.unitView.getLayoutAncestors())if(a=s.getSampleFacetTexture(),a)break;if(!a)throw new Error("No facet texture available. This is bug.");$t(this.programInfo,{uSampleFacetTexture:a})});const o=(e.picking??!1)&&this.isPickingParticipant();return i.push(()=>Yy(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:o})),this.opaque||e.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(e){const n=e.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,o=n.locSize?n.locSize.size:1;if(i>1||i+o<0)return!1;const a=n.targetLocSize?n.targetLocSize.location:i,s=n.targetLocSize?n.targetLocSize.size:o;this.gl.uniform4f(r.location,i,o,a,s)}return!0}render(e){}createRenderCallback(e,n){var c;if(!this.bufferInfo)throw new ji(`${this.getType()} mark has no data. This is bug.`,this.unitView);const r=this;let i;const o=(c=this.unitView.getScaleResolution("x"))==null?void 0:c.getScale(),a=o&&vt(o.type),s=["index","locus"].includes(o==null?void 0:o.type)?-1:0,l=[0,0];i=h=>{if(a&&h.xIndex){const d=o.domain(),p=h.xIndex(d[0]+s,d[1],l),b=p[0],y=p[1]-b;y>0&&e(b,y)}else e(h.offset,h.count)};const f=this.rangeMap.get(void 0).count==0?n.facetId:void 0,u=this.rangeMap.get(f);return n.sampleFacetRenderingOptions?function(){u.count&&r.prepareSampleFacetRendering(n)&&i(u)}:function(){u.count&&i(u)}}setViewport(e,n){e=e.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,o=this.properties,a=this.glHelper.getLogicalCanvasSize(),s=.5,l=(o.xOffset??0)+s,f=(o.yOffset??0)+s;let u,c=e;if(o.clip!=="never"&&(o.clip||n)){let h=0,d=0,p;if(n){if(c=e.intersect(n).flatten(),!c.isDefined())return!1;p=[e.width/c.width,e.height/c.height],d=Math.max(0,e.y2-n.y2),h=Math.min(0,e.x-n.x)}else p=[1,1];const b=[c.x,a.height-c.y2,c.width,c.height].map(C=>C*r),y=b.map(C=>Math.round(C)),[w,S]=b.map((C,_)=>C-y[_]);i.viewport(...y),i.scissor(...y),i.enable(i.SCISSOR_TEST),u={uViewOffset:[(l+h+w/r)/c.width,-(f+d-S/r)/c.height],uViewScale:p}}else{if(!e.isDefined())return!1;i.viewport(0,0,a.width*r,a.height*r),i.disable(i.SCISSOR_TEST),u={uViewOffset:[(e.x+l)/a.width,(a.height-e.y-f-e.height)/a.height],uViewScale:[e.width/a.width,e.height/a.height]}}return Yy(this.viewUniformInfo,{...u,uViewportSize:[e.width,e.height],uDevicePixelRatio:r}),$y(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(e,n){}}class vB extends yi{constructor(){super([],JSON.stringify)}get(e){let n=super.get(e);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(e,n)),n}migrateEntries(e){for(const[n,r]of e.entries())Object.assign(this.get(n),r)}}function Jd(t,e){const n=XT(e);let r=t[e]&&{...t[e]},i=t[n]&&{...t[n]};if(!(En(r)||En(i))){if(r){if(!Nt(t[e]))return;if(i){if(r.type!="quantitative"){const o=(1-(r.band||1))/2;r.band=o,i.band=-o}}else if(r.type=="quantitative")i={datum:0};else{i={...r};const o=(1-(r.band??1))/2;r.band=0+o,i.band=1-o}}else r={value:0},i={value:1};t[e]=r,t[n]=i}}function ww(t,e){t.stroke||(e?t.stroke={value:null}:t.stroke={resolutionChannel:"color",...t.color}),En(t.stroke)&&t.stroke.value===null&&(t.strokeWidth={value:0}),t.strokeOpacity||(t.strokeOpacity={resolutionChannel:"opacity",...t.opacity})}function xw(t,e){En(t.fill)&&t.fill.value===null?t.fillOpacity={value:0}:t.fill||(t.fill={resolutionChannel:"color",...t.color},!e&&!t.fillOpacity&&(t.fillOpacity={value:0})),t.fillOpacity||(e?t.fillOpacity={resolutionChannel:"opacity",...t.opacity}:t.fillOpacity={value:0})}class AB extends Os{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1,tessellationZoomThreshold:10,tessellationTiles:35}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return qo(this,"opaque",()=>!this._isRoundedCorners()&&!this._isStroked()&&En(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(e){return Jd(e,"x"),Jd(e,"y"),ww(e,this.properties.filled),xw(e,this.properties.filled),delete e.color,delete e.opacity,e}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}_isRoundedCorners(){const e=this.properties;return e.cornerRadius||e.cornerRadiusBottomLeft||e.cornerRadiusBottomRight||e.cornerRadiusTopLeft||e.cornerRadiusTopRight}_isStroked(){const e=this.encoding.strokeWidth;return!(En(e)&&!e.value)}async initializeGraphics(){await super.initializeGraphics();const e=[];this._isRoundedCorners()&&e.push("ROUNDED_CORNERS"),this._isStroked()&&e.push("STROKED"),this.createAndLinkShaders(VD,jD,e.map(n=>"#define "+n))}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;$t(this.programInfo,{uMinSize:[e.minWidth,e.minHeight],uMinOpacity:e.minOpacity,uCornerRadii:[e.cornerRadiusTopRight??e.cornerRadius,e.cornerRadiusBottomRight??e.cornerRadius,e.cornerRadiusTopLeft??e.cornerRadius,e.cornerRadiusBottomLeft??e.cornerRadius]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new rB({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>Vo(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{Rs(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r)},e)}findDatumAt(e,n){e=Zt(e);const r=this.unitView.getCollector().facetBatches.get(e);if(!r)return;const i=this.encoders,o=i.x.scale.type;if(Or(o)){const a=i.x.accessor;return r.find(s=>n==a(s))}else{const a=i.x.accessor,s=i.x2.accessor;return r.find(l=>n>=a(l)&&n<s(l))}}}const EB=`/**
 * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
 * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
 * geometric zoom, etc.
 */
uniform bool uInwardStroke;

/** Maximum size of the largest point as the fraction of the height of the (faceted) view */
uniform lowp float uMaxRelativePointDiameter;

/** Scale factor for geometric zoom */
uniform float uScaleFactor;

/** The size of the largest point in the data */
uniform float uMaxPointSize;

uniform float uZoomLevel;
uniform float uSemanticThreshold;

out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;

// Copypaste from fragment shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TRIANGLE_RIGHT = 5.0;
const float TRIANGLE_DOWN = 6.0;
const float TRIANGLE_LEFT = 7.0;
const float TICK_UP = 8.0;
const float TICK_RIGHT = 9.0;
const float TICK_DOWN = 10.0;
const float TICK_LEFT = 11.0;

float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

/**
 * Computes a scaling factor for the points in a sample-faceted view.
 */
float getDownscaleFactor(vec2 pos) {
    if (!isFacetedSamples()) {
        return 1.0;
    }

    float sampleFacetHeight = getSampleFacetHeight(pos);
    float maxPointDiameter = sqrt(uMaxPointSize);

    float factor = sampleFacetHeight *
        uViewportSize.y *
        uMaxRelativePointDiameter;

    return clamp(0.0, maxPointDiameter, factor) / maxPointDiameter;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {
    float shapeAngle = 0.0;

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor *
        getDownscaleFactor(pos);

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

    if (vShape > TICK_UP && vShape <= TICK_LEFT) {
        shapeAngle = (vShape - TICK_UP) * 90.0;
        vShape = TICK_UP;
    } else if (vShape > TRIANGLE_UP && vShape <= TRIANGLE_LEFT) {
        shapeAngle = (vShape - TRIANGLE_UP) * 90.0;
        vShape = TRIANGLE_UP;
    }

	float angleInDegrees = getScaled_angle();
	float angle = -(shapeAngle + angleInDegrees) * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    // Not needed if we would draw rotated quads instead of gl.POINTS
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;
    gl_PointSize = (diameter + padding) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,_B=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

uniform bool uInwardStroke;
uniform float uGradientStrength;

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

// Copypaste from vertex shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TICK_UP = 8.0;

// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float tickUp(vec2 p, float r) {
    float halfR = r * 0.5;
    p.y += halfR;
    p = abs(p);
    return max(p.x - r * 0.15, p.y - halfR);
}

float equilateralTriangle(vec2 p, float r) {
    p.y = -p.y;
    float k = sqrt(3.0);
    float kr = k * r;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r);

    } else if (vShape == TICK_UP) {
        d = tickUp(p, r);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,Gn=1,Vr=2,e0=4,SB={};class et{get behavior(){return 0}constructor(){this.children=[],this.parent=void 0,this.completed=!1}reset(){this.completed=!1;for(const e of this.children)e.reset()}initialize(){}_updatePropagator(){this._propagate=Function("children",La(this.children.length).map(e=>`const child${e} = children[${e}];`).join(`
`)+`return function propagate(datum) {${La(this.children.length).map(e=>`child${e}.handle(datum);`).join(`
`)}}`)(this.children)}setParent(e){this.parent=e}addChild(e){if(e.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(e),e.setParent(this),this._updatePropagator(),this}adopt(e){e.parent&&e.parent.removeChild(e),this.addChild(e)}adoptChildrenOf(e){for(const n of e.children)this.adopt(n)}insertAsParent(e){if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");e.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.parent=void 0,e.addChild(this)}removeChild(e){const n=this.children.indexOf(e);if(n>-1)this.children.splice(n,1),e.parent=void 0,this._updatePropagator();else throw new Error("Trying to remove an unknown child node!")}excise(){if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const e=this.children[0];e.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(e){e(this);for(const n of this.children)n.visit(e);e.afterChildren&&e.afterChildren(this)}subtreeToString(e=0){const n=this.children.map(r=>r.subtreeToString(e+1)).join("");return`${" ".repeat(e*2)}* ${this.constructor.name}${("identifier"in this&&this.identifier?": "+this.identifier:"")??""} 
${n}`}getGlobalObject(){return this.parent?this.parent.getGlobalObject():SB}handle(e){this._propagate(e)}complete(){this.completed=!0;for(const e of this.children)e.complete()}beginBatch(e){for(const n of this.children)n.beginBatch(e)}_propagate(e){}}function vw(t){return t.type=="file"}function CB(t){return t.type=="facet"}class Aw extends et{constructor(e){super(),this.k=e.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(e){this.reservoir.push(e),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(e){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=e,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(e){this.ingester(e)}complete(){for(const e of this.reservoir)this._propagate(e);super.complete()}}function TB(t,e,n){const r=new Aw({type:"sample",size:t});for(const i of e)r.handle(n(i));return r.complete(),r.reservoir}const IB={};class kB extends Os{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02}))}getAttributes(){return["inwardStroke","uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","gradientStrength","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...IB}}fixEncoding(e){return ww(e,this.properties.filled),xw(e,this.properties.filled),delete e.color,delete e.opacity,e}initializeData(){super.initializeData();const e=this.unitView.getAccessor("semanticScore");e&&(this.sampledSemanticScores=Float32Array.from(TB(1e4,this.unitView.getCollector().getData(),e)),this.sampledSemanticScores.sort((n,r)=>n-r))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(EB,_B)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;$t(this.programInfo,{uInwardStroke:e.inwardStroke,uGradientStrength:e.fillGradientStrength,uMaxRelativePointDiameter:1-2*e.sampleFacetPadding})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new oB({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}_getGeometricScaleFactor(){const e=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/e),1/3)}_getMaxPointSize(){const e=this.encoders.size;return e.constant?e(null):e.scale.range().reduce((n,r)=>Math.max(n,r))}getSemanticThreshold(){if(this.sampledSemanticScores){const e=Math.max(0,1-this.properties.semanticZoomFraction*this.unitView.getZoomLevel());if(e<=0)return-1/0;if(e>=1)return 1/0;{const n=this.sampledSemanticScores;return om(n,e)}}else return-1}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>$t(this.programInfo,{uMaxPointSize:this._getMaxPointSize(),uScaleFactor:this._getGeometricScaleFactor(),uSemanticThreshold:this.getSemanticThreshold()})),n.push(()=>Vo(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{i&&Rs(n,this.vertexArrayInfo,n.POINTS,i,r)},e)}}const DB=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

/** Minimum rule length in pixels */
uniform float uMinLength;

uniform mediump float uDashTextureSize;
uniform lowp int uStrokeCap;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,BB=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;
uniform float uDashTextureSize;
uniform float uStrokeDashOffset;
uniform lowp int uStrokeCap;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`;class FB extends Os{constructor(e){super(e),this.dashTextureSize=0,Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){if(!(e.x&&e.y&&e.x2&&e.y2))if(e.x&&e.x2&&!e.y)e.y={value:.5},e.y2=e.y;else if(e.y&&e.y2&&!e.x)e.x={value:.5},e.x2=e.x;else if(e.x&&!e.y)e.y={value:0},e.y2={value:1},e.x2=e.x;else if(e.y&&!e.x)e.x={value:0},e.x2={value:1},e.y2=e.y;else if(e.x&&e.y&&e.y2)e.x2=e.x;else if(e.y&&e.x&&e.x2)e.y2=e.y;else if(e.y&&e.x)if(!e.x2&&Nt(e.y)&&e.y.type=="quantitative")e.x2=e.x,e.y2={datum:0};else if(!e.y2&&Nt(e.x)&&e.x.type=="quantitative")e.y2=e.y,e.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(e));return e}async initializeGraphics(){if(await super.initializeGraphics(),this.properties.strokeDash){const e=this.gl,n=RB(this.properties.strokeDash);this.dashTexture=Fs(e,{mag:e.NEAREST,min:e.NEAREST,internalFormat:e.R8,format:e.RED,src:n,height:1}),this.dashTextureSize=n.length}this.createAndLinkShaders(DB,BB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;$t(this.programInfo,{uMinLength:e.minLength,uDashTextureSize:this.dashTextureSize,uStrokeCap:["butt","square","round"].indexOf(e.strokeCap)})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new iB({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return this.dashTexture&&n.push(()=>$t(this.programInfo,{uDashTexture:this.dashTexture,uStrokeDashOffset:this.properties.strokeDashOffset})),n.push(()=>Vo(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Rs(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),e)}}function RB(t){if(t.length==0||t.length%2||t.findIndex(o=>Math.round(o)!=o||o<1||o>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(t));const e=t.reduce((o,a)=>o+a),n=new Uint8Array(e);let r=!0,i=0;for(let o of t){for(;o;)n[i++]=r&&255||0,o--;r=!r}return n}const PB=`uniform float uArcHeightFactor;

/** Make very small arcs visible */
uniform float uMinArcHeight;

/** The minimum stroke width in pixels when rendering into the picking buffer */
uniform float uMinPickingSize;

uniform int uShape;
uniform int uOrient;
uniform bool uClampApex;

// In pixels
uniform float uMaxChordLength;
// In pixels
uniform vec2 uArcFadingDistance;

in vec2 strip;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

const int SHAPE_ARC = 0;
const int SHAPE_DOME = 1;
const int SHAPE_DIAGONAL = 2;
const int SHAPE_LINE = 3;
const int ORIENT_VERTICAL = 0;
const int ORIENT_HORIZONTAL = 1;

float distanceFromLine(vec2 pointOnLine1, vec2 pointOnLine2, vec2 point) {
    vec2 a = point - pointOnLine1;
    vec2 b = pointOnLine2 - pointOnLine1;
    vec2 proj = dot(a, b) / dot(b, b) * b;
    return length(a - proj);
}

bool isInsideViewport(vec2 point, float marginFactor) {
    vec2 margin = uViewportSize * vec2(marginFactor);
    return point.x >= -margin.x
        && point.x <= uViewportSize.x + margin.x
        && point.y >= -margin.y
        && point.y <= uViewportSize.y + margin.y;
}

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    // The bezier's control points
    vec2 p1, p2, p3, p4;

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y())) * uViewportSize;
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2())) * uViewportSize;

    if (uShape <= SHAPE_DOME) {
        if (uShape == SHAPE_DOME) {
            vec2 height = vec2(0.0);
            if (uOrient == ORIENT_VERTICAL) {
                p1 = vec2(min(a.x, b.x), b.y);
                p4 = vec2(max(a.x, b.x), b.y);
                height = vec2(0.0, a.y - b.y);

                if (uClampApex) {
                    if (p4.x > 0.0) {
                        p1.x = max(p1.x, -p4.x);
                    }
                    if (p1.x < uViewportSize.x) {
                        p4.x = min(p4.x, 2.0 * uViewportSize.x - p1.x);
                    }
                }

            } else {
                p1 = vec2(b.x, min(a.y, b.y));
                p4 = vec2(b.x, max(a.y, b.y));
                height = vec2(a.x - b.x, 0.0);

                if (uClampApex) {
                    if (p4.y > 0.0) {
                        p1.y = max(p1.y, -p4.y);
                    }
                    if (p1.y < uViewportSize.y) {
                        p4.y = min(p4.y, 2.0 * uViewportSize.y - p1.y);
                    }
                }
            }

            vec2 controlOffset = height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;

        } if (uShape == SHAPE_ARC) {
            p1 = a;
            p4 = b;

            vec2 chordVector = p4 - p1;
            vec2 unitChordVector = normalize(chordVector);
            vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);
            float chordLength = length(chordVector);

            if (chordLength > uMaxChordLength) {
                if (isInsideViewport(p1, 2.0)) {
                    chordLength = uMaxChordLength;
                    p4 = p1 + unitChordVector * uMaxChordLength;
                } else if (isInsideViewport(p4, 2.0)) {
                    chordLength = uMaxChordLength;
                    p1 = p4 - unitChordVector * uMaxChordLength;
                }
            }

            float height = max(
                chordLength / 2.0 * uArcHeightFactor,
                uMinArcHeight
            );

            // This is a bit poor approximation of a circular arc, but it's probably enough for most purposes.
            // TODO: Consider a more sophisticated approach: https://stackoverflow.com/a/44829356/1547896
            vec2 controlOffset = chordNormal * height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;
        }

    } else if (uShape == SHAPE_DIAGONAL) {
        if (uOrient == ORIENT_VERTICAL) {
            p1 = a;
            p2 = vec2(a.x, (a.y + b.y) / 2.0);
            p3 = vec2(b.x, (a.y + b.y) / 2.0);
            p4 = b;
        } else {
            p1 = a;
            p2 = vec2((a.x + b.x) / 2.0, a.y);
            p3 = vec2((a.x + b.x) / 2.0, b.y);
            p4 = b;
        }
    } else if (uShape == SHAPE_LINE) {
        p1 = a;
        p2 = (a + b) / 2.0;
        p3 = p2;
        p4 = b;
    }

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    float size = getScaled_size();

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    // Handle minimum picking size or add an extra pixel to the stroke width to accommodate edge antialiasing
    float paddedSize = uPickingEnabled
        ? max(size, uMinPickingSize)
        : size + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    if (uShape == SHAPE_ARC && uArcFadingDistance[0] > 0.0 && uArcFadingDistance[1] > 0.0) {
        float d = distanceFromLine(p1, p4, p);
        float distanceOpacity = smoothstep(uArcFadingDistance[1], uArcFadingDistance[0], d);    

        // Fade out
        opacity *= distanceOpacity;

        // Collapse fully transparent triangles to skip fragment processing 
        if (distanceOpacity <= 0.0) {
            vNormalLengthInPixels = 0.0;
        }
    }

    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

    vec3 color = getScaled_color();

    vColor = vec4(color * opacity, opacity);

    vSize = paddedSize;

    setupPicking();
}
`,MB=`in vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,OB=["arc","dome","diagonal","line"],NB=["vertical","horizontal"];class LB extends Os{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,arcHeightFactor:1,minArcHeight:1.5,minPickingSize:3,clampApex:!1,maxChordLength:5e4,arcFadingDistance:!1,linkShape:"arc",orient:"vertical"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","height","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){return e.x2||(Nt(e.x)?e.x2={datum:0}:e.x2=e.x),e.y2||(Nt(e.y)?e.y2={datum:0}:e.y2=e.y),e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(PB,MB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;$t(this.programInfo,{uArcHeightFactor:e.arcHeightFactor,uMinArcHeight:e.minArcHeight,uMinPickingSize:e.minPickingSize,uShape:OB.indexOf(e.linkShape),uOrient:NB.indexOf(e.orient),uClampApex:!!e.clampApex,uMaxChordLength:e.maxChordLength,uArcFadingDistance:e.arcFadingDistance||[0,0]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new aB({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();i.arrays.strip={data:zB(this.properties.segments),numComponents:2},this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([o,a])=>[o,{...a,data:void 0}])),this.updateBufferInfo(i)}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{this.gl.bindVertexArray(this.vertexArrayInfo.vertexArrayObject);for(const o of Object.entries(this.bufferInfo.attribs)){const[a,s]=o;s.buffer&&s.numComponents&&s.divisor&&(s.offset=r*this.arrays[a].numComponents*4)}Vo(n,this.programInfo,this.bufferInfo),Rs(n,this.bufferInfo,n.TRIANGLE_STRIP,(this.properties.segments+1)*2,0,i)},e)}}function zB(t){let e=0;const n=[];for(;e<=t;e++)n.push(e/t,.5),n.push(e/t,-.5);return n}const UB=`uniform float uSdfNumerator;

uniform vec2 uD; // dx & dy

in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

uniform vec4 uViewportEdgeFadeWidth;
uniform vec4 uViewportEdgeFadeDistance;
    
uniform bool uSqueeze;
uniform bool uLogoLetter;

// Width of the text (all letters)
in float width;

// x: -1, 0, 1 = left, center, right
// y: -1, 0, 1 = top, middle, bottom 
uniform ivec2 uAlign;

#ifdef x2_DEFINED
uniform float uPaddingX;
uniform bool uFlushX;
#endif

#ifdef y2_DEFINED
uniform float uPaddingY;
uniform bool uFlushY;
#endif

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vColor = vec4(getScaled_color() * opacity, opacity);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,GB=`uniform sampler2D uTexture;
uniform bool uLogoLetter;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    // Raise to the power of 2.2 to do some cheap gamma correction
    opa *= pow(clamp(vEdgeFadeOpacity, 0.0, 1.0), 2.2);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,HB={left:-1,center:0,right:1},VB={top:-1,middle:0,bottom:1,alphabetic:1};class jB extends Os{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0})),this.font=this.properties.font?e.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):e.context.fontManager.getDefaultFont()}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(e){for(const n of Po)this.properties.fitToBand&&Jd(e,n);return e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(UB,GB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;$t(this.programInfo,{uPaddingX:e.paddingX,uPaddingY:e.paddingY,uFlushX:!!e.flushX,uFlushY:!!e.flushY,uAlign:[HB[e.align],VB[e.baseline]],uD:[e.dx,-e.dy],uLogoLetter:!!e.logoLetters,uSqueeze:!!e.squeeze,uViewportEdgeFadeWidth:[e.viewportEdgeFadeWidthTop,e.viewportEdgeFadeWidthRight,e.viewportEdgeFadeWidthBottom,e.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[e.viewportEdgeFadeDistanceTop,e.viewportEdgeFadeDistanceRight,e.viewportEdgeFadeDistanceBottom,e.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getData(),r=this.encoding,i=this.encoders.text.accessor||this.encoders.text;let o=0;const a="format"in r.text?pt(r.text.format):f=>f;for(const f of n){const u=a(i(f)),c=Ye(u)?u:u===null?"":""+u;o+=c&&c.length||0}const s=new sB({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(o,this.properties.minBufferSize||0)});s.addBatches(e.facetBatches);const l=s.toArrays();this.rangeMap.migrateEntries(l.rangeMap),this.updateBufferInfo(l)}prepareRender(e){const n=super.prepareRender(e);let r=.35;this.properties.logoLetters&&(r/=2);const i=this.font.metrics.common.base/(this.unitView.context.devicePixelRatio/r);return n.push(()=>$t(this.programInfo,{uTexture:this.font.texture,uSdfNumerator:i})),n.push(()=>Vo(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Rs(n,this.vertexArrayInfo,n.TRIANGLES,i,r),e)}}function Ew(t,e,{spacing:n,devicePixelRatio:r,offset:i,reverse:o}={}){n=n||0,i=i||0;let a=0,s=0;for(const p of t)a+=xu(p.px)+(t0(p)?0:n),s+=xu(p.grow);a-=n;const l=Math.max(0,e-a),f=r!==void 0?p=>Math.round(p*r)/r:p=>p,u=[],c=[],h=p=>{const b=u.length;if(!b)return;const y=(p?n:0)*(o?-1:1);d-=y;for(let w=0;w<b;w++)c.push({location:d+(w+1)/(b+1)*y,size:0});d+=y,u.length=0};let d=o?Math.max(e,a):0+i;if(t.length==1&&t0(t[0]))return[{location:d,size:0}];for(let p=0;p<t.length;p++){const b=t[p];if(t0(b))u.push(b);else{h(c.length>0);const y=xu(b.px)+(s?xu(b.grow)/s*l:0);o&&(d-=y),c.push({location:f(d),size:f(y)}),o?d-=n:d+=y+n}}return d+=o?n:-n,h(!1),c}function qB(t){let e=0,n=0;for(const r of t)e=Math.max(e,r.px??0),n=Math.max(n,r.grow??0);return{px:e,grow:n}}const kg=class kg{constructor(e,n){ue(this,Lf);this.width=e,this.height=n}addPadding(e){return ie(this,Lf,Mg).call(this,e.width,e.height)}subtractPadding(e){return ie(this,Lf,Mg).call(this,-e.width,-e.height)}};Lf=new WeakSet,Mg=function(e,n){return new kg({px:(this.width.px??0)+e,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};let jr=kg;const Ns=Object.freeze({px:0,grow:0}),_w=new jr(Ns,Ns);function t0(t){return!t.px&&!t.grow}function xu(t){return t||0}function WB(t){return t&&(Ft(t.px)||Ft(t.grow))}function Sw(t){if(Tw(t))throw new Error("parseSizeDef does not accept step-based sizes.");if(WB(t))return t;if(Ft(t))return{px:t,grow:0};if(t==="container")return{px:0,grow:1};if(!t)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${t}`)}class Et{constructor(e,n,r,i){this.top=e||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(e){return e<=0?this:new Et(this.top+e,this.right+e,this.bottom+e,this.left+e)}add(e){return new Et(this.top+e.top,this.right+e.right,this.bottom+e.bottom,this.left+e.left)}subtract(e){return new Et(this.top-e.top,this.right-e.right,this.bottom-e.bottom,this.left-e.left)}union(e){return new Et(Math.max(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom),Math.max(this.left,e.left))}getHorizontal(){return new Et(0,this.right,0,this.left)}getVertical(){return new Et(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(e){return typeof e=="number"?this.createUniformPadding(e):e?this.createFromRecord(e):n0}static createFromRecord(e){return new Et(e.top,e.right,e.bottom,e.left)}static zero(){return n0}static createUniformPadding(e){return new Et(e,e,e,e)}}const n0=Et.createUniformPadding(0);Object.freeze(n0);const ZB=/^([A-Za-z]+:)?\/\//;function $B(t,e){if(e&&ZB.test(e))return e;const n=t();return n&&e?n.endsWith("/")?n+e:n+"/"+e:n??e}const YB="VISIT_SKIP",Ls="VISIT_STOP",Cw=t=>t;class QB{constructor(e,n,r,i,o,a={}){ue(this,go);ue(this,Gf);ue(this,Ta,{});ue(this,zf,{});ue(this,Uf,{});St(this,"opacityFunction",Cw);if(!e)throw new Error("View spec must be defined!");this.context=n,this.layoutParent=r,this.dataParent=i,this.name=e.name||o,this.spec=e,this.resolutions={scale:{},axis:{}},gw(this),this.options={blockEncodingInheritance:!1,contributesToScaleDomain:!0,...a},this.needsAxes={x:!1,y:!1}}getPadding(){return this._cache("size/padding",()=>Et.createFromConfig(this.spec.padding))}getOverhang(){return Et.zero()}isScrollable(){return this.spec.viewportWidth!=null||this.spec.viewportHeight!=null}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?new jr(ie(this,go,Qf).call(this,"width"),ie(this,go,Qf).call(this,"height")):_w)}getViewportSize(){if(!this.isScrollable())return this.getSize();if(!this.isConfiguredVisible())return _w;const e=this.getSize();return new jr(ie(this,go,Qf).call(this,"viewportWidth")??e.width,ie(this,go,Qf).call(this,"viewportHeight")??e.height)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(e=>e.isConfiguredVisible())}getEffectiveOpacity(){var e;return this.opacityFunction(((e=this.layoutParent)==null?void 0:e.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(e=>e.name).reverse().join("/")}getLayoutAncestors(){return ie(this,Gf,Og).call(this,"layoutParent")}getDataAncestors(){return ie(this,Gf,Og).call(this,"dataParent")}handleBroadcast(e){for(const n of X(this,Ta)[e.type]||[])n(e)}_addBroadcastHandler(e,n){let r=X(this,Ta)[e];r||(r=[],X(this,Ta)[e]=r),r.push(n)}handleInteractionEvent(e,n,r){const i=r?X(this,zf):X(this,Uf);for(const o of i[n.type]||[])o(e,n)}addInteractionEventListener(e,n,r){const i=r?X(this,zf):X(this,Uf);let o=i[e];o||(o=[],i[e]=o),o.push(n)}visit(e){try{const n=e(this);if(e.postOrder&&e.postOrder(this),n!==Ls)return n}catch(n){throw n.view=this,n}}getDescendants(){const e=[];return this.visit(n=>{e.push(n)}),e}configureViewOpacity(){(!this.opacityFunction||this.opacityFunction===Cw)&&(this.opacityFunction=KB(this))}onBeforeRender(){}render(e,n,r={}){}getEncoding(){const e=this.dataParent&&!this.options.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...e,...n};for(const[i,o]of Object.entries(r))o===null&&delete r[i];return r}getFacetAccessor(e){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(e){var r;const n=this.getEncoding().sample;return Es(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(e){const n=Ni(e);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(e){const n=Ni(e);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(e,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[e]}getConfiguredOrDefaultResolution(e,n){return this.getConfiguredResolution(e,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(e,n)}getDefaultResolution(e,n){return"independent"}getBaseUrl(){return $B(()=>{var e;return(e=this.dataParent)==null?void 0:e.getBaseUrl()},this.spec.baseUrl)}isPickingSupported(){return!0}getTitleText(){const e=this.spec.title;if(e)return Ye(e)?e:e.text}_cache(e,n){return qo(this,e,n)}_invalidateCacheByPrefix(e,n="self"){switch(n){case"self":yu(this,e);break;case"ancestors":for(const r of this.getLayoutAncestors())yu(r,e);break;case"progeny":this.visit(r=>yu(r,e));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(e){}}Ta=new WeakMap,zf=new WeakMap,Uf=new WeakMap,go=new WeakSet,Qf=function(e){var i;let n=this.spec[e];const r=e=="viewportWidth"||e=="viewportHeight";if(Tw(n)){if(r)throw new ji(`Cannot use step-based size with "${e}"!`,this);const o=n.step,a=(i=this.getScaleResolution(e=="width"?"x":"y"))==null?void 0:i.getScale();if(a){let s=0;if(Or(a.type))s=a.domain().length;else if(["locus","index"].includes(a.type)){const f=a.domain();s=os(f)-f[0]}else throw new ji(`Cannot use step-based size with "${a.type}" scale!`,this);const l=a;return s=sd(s,l.paddingInner(),l.paddingOuter()),{px:s*o,grow:0}}else throw new ji("Cannot use 'step' size with missing scale!",this)}else return(n&&Sw(n))??(r?void 0:{px:0,grow:1})},Gf=new WeakSet,Og=function(e){const n=[];let r=this;do n.push(r),r=r[e];while(r);return n};function XB(t){return"unitsPerPixel"in t}function KB(t){const e=t.spec.opacity;if(e!==void 0){if(Ft(e))return n=>n*e;if(XB(e)){const n=o=>{var s;const a=(s=t.getScaleResolution(o))==null?void 0:s.getScale();if(["linear","index","locus"].includes(a==null?void 0:a.type))return a},r=e.channel?n(e.channel):n("x")??n("y");if(!r)throw new ji("Cannot find a resolved quantitative scale for dynamic opacity!",t);const i=Jh().domain(e.unitsPerPixel).range(e.values).clamp(!0);return o=>{const s=il(r.domain())/1e3;return i(s)*o}}}return n=>n}const Tw=t=>!!(t!=null&&t.step);class qi extends QB{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.spec=e}async initializeChildren(){}*[Symbol.iterator](){}replaceChild(e,n){throw new Error("Not implemented")}visit(e){let n;try{n=e(this)}catch(r){throw r.view=this,r}if(n===Ls)return n;if(n!==YB){e.beforeChildren&&e.beforeChildren(this);for(const r of this){const i=r.visit(e);if(i===Ls)return i}e.afterChildren&&e.afterChildren(this),e.postOrder&&e.postOrder(this)}}findDescendantByPath(e){for(const n of this)if(n.name===e[0]){if(e.length==1)return n;if(n instanceof qi)return n.findDescendantByPath(e.slice(1))}}findChildByName(e){for(const n of this)if(n.name===e)return n}findDescendantByName(e){let n;return this.visit(r=>{if(r.name==e)return n=r,Ls}),n}getDefaultResolution(e,n){return"shared"}}const Iw=1;function r0(){let t=[0,1],e=[0,1],n=1,r=1,i=0,o=0,a=.5,s=0;const f=u=>(u+a-t[0])/n*r+e[0];return f.invert=u=>(u-e[0])/r*n+t[0]-a,f.domain=function(u){if(arguments.length){t=e3(u),n=t[1]-t[0];const c=t[0]===0&&t[0]===0;if(n<Iw&&!c){n=Iw;const h=(t[0]+t[1])/2;t[0]=h-n/2,t[1]=h+n/2}return f}else return t.slice()},f.range=function(u){return arguments.length?(e=[...u],r=e[1]-e[0],f):e},f.numberingOffset=function(u){return arguments.length?(s=u,f):s},f.padding=function(u){return arguments.length?(o=u,i=Math.min(1,u),f):i},f.paddingInner=function(u){return arguments.length?(i=Math.min(1,u),f):i},f.paddingOuter=function(u){return arguments.length?(o=u,f):o},f.align=function(u){return arguments.length?(a=Math.max(0,Math.min(1,u)),f):a},f.step=()=>r/n,f.bandwidth=()=>f.step(),f.ticks=u=>{const c=f.align(),h=f.numberingOffset();return ll(t[0]-c+h,t[1]-c+h,Math.min(u,Math.ceil(n))).filter(Number.isInteger).map(d=>d-s)},f.tickFormat=(u,c)=>{if(c)throw new Error("Index scale's tickFormat does not support a specifier!");const d=wi(t[0],t[1],Math.min(u,Math.ceil(n)))<1e5?pt(","):pt(".3s");return p=>d(p+s)},f.copy=()=>r0().domain(t).range(e).paddingInner(i).paddingOuter(o).numberingOffset(s),f}function JB(){const t=r0().numberingOffset(1);let e;t.genome=function(r){return arguments.length?(e=r,t):e},t.ticks=r=>{if(!e)return[];const i=t.domain(),o=t.numberingOffset(),[a,s]=[Math.max(i[0],0),Math.min(i[1],e.totalSize-1)].map(u=>e.toChromosome(u)),l=Math.max(1,wi(i[0],i[1],r)),f=[];for(let u=a.index;u<=s.index;u++){const c=e.chromosomes[u],h=Math.max(c.continuousStart+l,i[0]-(i[0]-c.continuousStart)%l),d=Math.min(c.continuousEnd-l/4,i[1]+1);for(let p=h;p<=d;p+=l){const b=p-o;b>=i[0]&&b<i[1]&&f.push(b)}}return f},t.tickFormat=(r,i)=>{if(!e)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const o=t.domain(),a=o[1]-o[0],s=t.numberingOffset(),f=wi(o[0],o[1],Math.min(r,Math.ceil(a)))<1e6?pt(","):pt(".3s"),u=c=>c-e.toChromosome(c).continuousStart;return c=>f(u(c)+s)};const n=t.copy;return t.copy=()=>n().genome(e),t}function eF(t){return t.type=="locus"}function vu(t,e,n){if(n=n||[],t.some(a=>a===null)){if(t.every(a=>a===null))return null;throw console.warn(t),new Error("Cannot merge objects with nulls!")}const r={},i=(a,s)=>a===s||Wo(a)&&Wo(s)||Wo(a)&&s===!0||a===!0&&Wt(s),o=a=>{for(let s in a){const l=a[s];if(!n.includes(s)&&l!==void 0)if(r[s]!==void 0&&!i(r[s],l))console.warn(`Conflicting property ${s} of ${e}: (${JSON.stringify(r[s])} and ${JSON.stringify(a[s])}). Using ${JSON.stringify(r[s])}.`);else{const f=r[s];if(Wo(f))Wo(l)&&(r[s]=vu([f,l],s));else if(Wo(l)){if(!(f===!0||f===void 0))throw new Error("Bug in merge! Target is: "+f);r[s]=vu([{},l],s)}else r[s]=l}}};for(const a of t)o(a);return r}function Wo(t){return Wt(t)&&!Array.isArray(t)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function kw(t,e,n){return Ft(e)&&n!=null&&(e=Math.min(e,~~(il(t.domain())/n)||1)),Wt(e)&&(e.step,e=e.interval),e}function Dw(t,e,n){var r=t.range(),i=Math.floor(r[0]),o=Math.ceil(yn(r));if(i>o&&(r=o,o=i,i=r),e=e.filter(function(s){return s=t(s),i<=s&&s<=o}),n>0&&e.length>1){for(var a=[e[0],yn(e)];e.length>n&&e.length>=3;)e=e.filter(function(s,l){return!(l%2)});e.length<3&&(e=a)}return e}function tF(t,e){return t.bins?Dw(t,nF(t.bins,e)):t.ticks?t.ticks(e):t.domain()}function nF(t,e){var n=t.length,r=~~(n/(e||n));return r<2?t.slice():t.filter(function(i,o){return!(o%r)})}function rF(t,e,n){var r=t.tickFormat?t.tickFormat(e,n):n?pt(n):String;if(Ob(t.type)){var i=oF(n);r=t.bins?i:iF(r,i)}return r}function iF(t,e){return function(n){return t(n)?e(n):""}}function oF(t){var e=_r(t||",");if(e.precision==null){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1;break}return aF(pt(e),pt(".1f")(1)[1])}else return pt(e)}function aF(t,e){return function(n){var r=t(n),i=r.indexOf(e),o,a;if(i<0)return r;for(o=sF(r,i),a=o<r.length?r.slice(o):"";--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+a}}function sF(t,e){var n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const fF="locus",lF="index";var uF=5;function cF(t){const e=t.type;return!t.bins&&(e===Bo||e===ys||e===ws)}function Bw(t){return vt(t)&&![Ln,lF,fF].includes(t)}function Fw(t){return t||{warn:(e,...n)=>console.warn(e,...n)}}var hF=al(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function Rw(t,e,n){n=Fw(n);for(const r in t)if(!hF[r]){if(r==="padding"&&Bw(e.type))continue;Bt(e[r])?e[r](t[r]):n.warn("Unsupported scale property: "+r)}xF(e,t,wF(e,t,mF(e,t,n)))}function dF(t,e){const n=pF(t),r=Ae(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!t.domain&&vt(i.type)&&(t.domain=[0,0]),Rw(t,i,e),i}function pF(t){var e=t.type,n="",r;return e===Ln?Ln+"-"+Bo:(gF(t)&&(r=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,n=r===2?Ln+"-":r===3?Fo+"-":""),(n+e||Bo).toLowerCase())}function gF(t){const e=t.type;return vt(e)&&e!==Ib&&e!==kb&&(t.scheme||t.range&&t.range.length&&t.range.every(Ye))}function mF(t,e,n){if(!t.domain)return 0;n=Fw(n);var r=bF(t,e.domainRaw,n);if(r>-1)return r;var i=e.domain,o=t.type,a=e.zero||e.zero===void 0&&cF(t),s,l;return i?(Bw(o)&&e.padding&&i[0]!==yn(i)&&(i=yF(o,i,e.range,e.padding,e.exponent,e.constant)),(a||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(s=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),e.domainMin!=null&&(i[0]=e.domainMin),e.domainMax!=null&&(i[s]=e.domainMax),e.domainMid!=null&&(l=e.domainMid,(l<i[0]||l>i[s])&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(s,0,l))),t.domain(Pw(o,i,n)),o===ld&&t.unknown(e.domainImplicit?Dh:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&kw(t,e.nice)||null),i.length):0}function bF(t,e,n){return e?(t.domain(Pw(t.type,e,n)),e.length):-1}function yF(t,e,n,r,i,o){var a=Math.abs(yn(n)-n[0]),s=a/(a-2*r),l=t===Mr?qg(e,null,s):t===ws?zc(e,null,s,.5):t===ys?zc(e,null,s,i||1):t===Vl?_S(e,null,s,o||1):jg(e,null,s);return e=e.slice(),e[0]=l[0],e[e.length-1]=l[1],e}function Pw(t,e,n){if(Ob(t)){var r=Math.abs(e.reduce(function(i,o){return i+(o<0?-1:o>0?1:0)},0));r!==e.length&&n.warn("Log scale domain includes zero: "+ol(e))}return e}function wF(t,e,n){let r=e.bins;if(r&&!qt(r)){const i=(r.start==null||r.stop==null)&&t.domain(),o=r.start==null?i[0]:r.start,a=r.stop==null?yn(i):r.stop,s=r.step;s||$e("Scale bins parameter missing step property."),r=La(o,a+s,s)}return r?t.bins=r:t.bins&&delete t.bins,t.type===cd&&(r?!e.domain&&!e.domainRaw&&(t.domain(r),n=r.length):t.bins=t.domain()),n}function xF(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(e.rangeStep!=null)o=vF(r,e,n);else if(e.scheme&&(o=AF(r,e,n),Bt(o))){if(t.interpolator)return t.interpolator(o);$e(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&ql(r))return t.interpolator(Wl(i0(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(Nb(e.interpolate,e.interpolateGamma)):Bt(t.round)?t.round(i):Bt(t.rangeRound)&&t.interpolate(i?ms:Rr),o&&t.range(i0(o,e.reverse))}function vF(t,e,n){t!==Fb&&t!==ud&&$e("Only band and point scales support rangeStep.");var r=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,i=t===ud?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*sd(n,i,r)]}function AF(t,e,n){var r=e.schemeExtent,i,o;return qt(e.scheme)?o=Wl(e.scheme,e.interpolate,e.interpolateGamma):(i=e.scheme.toLowerCase(),o=dd(i),o||$e(`Unrecognized scheme name: ${e.scheme}`)),n=t===Bb?n+1:t===cd?n-1:t===fd||t===Db?+e.schemeCount||uF:n,ql(t)?Mw(o,r,e.reverse):Bt(o)?HT(Mw(o,r),n):t===ld?o:o.slice(0,n)}function Mw(t,e,n){return Bt(t)&&(e||n)?GT(t,i0(e||[0,1],n)):t}function i0(t,e){return e?t.slice().reverse():t}const Ow=pt(",d");function EF(t,e){return t.chrom+":"+Ow(Math.floor(t.pos+1))+"-"+(t.chrom!=e.chrom?e.chrom+":":"")+Ow(Math.ceil(e.pos))}const _F="https://genomespy.app/data/genomes/";class SF{constructor(e){if(this.config=e,!this.config.contigs&&typeof this.config.name!="string")throw new Error("No name has been defined for the genome assembly!");this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,this.config.contigs&&this.setChromSizes(this.config.contigs)}get name(){return this.config.name}async load(e){if(!this.config.contigs){this.config.baseUrl?this.baseUrl=/^http(s)?/.test(this.config.baseUrl)?this.config.baseUrl:e+"/"+this.config.baseUrl:this.baseUrl=_F;try{this.setChromSizes(CF(await vl({baseURL:this.baseUrl}).load(`${this.config.name}/${this.name}.chrom.sizes`)))}catch(n){throw new Error(`Could not load chrom sizes: ${n.message}`)}}}hasChrPrefix(){return this.chromosomes.some(e=>e.name.startsWith("chr"))}setChromSizes(e){let n=0;this.startByIndex=[0];for(let r=0;r<e.length;r++){this.startByIndex.push(n);const i=e[r].size,o={...e[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(o);const a=o.name.replace(/^chr/i,"");for(const s of["chr"+a,"CHR"+a,"Chr"+a,o.number,""+o.number,a,o.name])this.cumulativeChromPositions.set(s,n),this.chromosomesByName.set(s,o);n+=o.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(e,n){let r=this.cumulativeChromPositions.get(e);if(r===void 0)throw new Error("Unknown chromosome/contig: "+e);return r+ +n}toChromosome(e){if(e>this.totalSize)return;e=Math.floor(e);const n=vo(this.startByIndex,e)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(e){const n=this.toChromosome(e);if(n)return{chrom:n.name,pos:Math.floor(e)-n.continuousStart}}getChromosome(e){return this.chromosomesByName.get(e)}formatInterval(e){return EF(...this.toChromosomalInterval(e))}toChromosomalInterval(e){const n=this.toChromosomal(e[0]+.5),r=this.toChromosomal(e[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(e){var i;let[n,r]=e;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(e){const n=e[0],r=e[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const o=this.chromosomes.findIndex(s=>s.name===n.chrom),a=this.chromosomes.findIndex(s=>s.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[o].size});for(let s=o+1;s<a;s++)i.push({chrom:this.chromosomes[s].name,startPos:0,endPos:this.chromosomes[s].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(e){return this.toDiscreteChromosomeIntervals([this.toChromosomal(e[0]),this.toChromosomal(e[1])])}parseInterval(e){const n=e.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(s=>s===void 0)){const s=this.getChromosome(r);return s?[s.continuousStart,s.continuousEnd]:void 0}const i=n[3]||r,o=parseInt(n[2].replace(/,/g,"")),a=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):o;return[this.toContinuous(r,o-1),this.toContinuous(i,a)]}}}function CF(t){return VS(t).filter(e=>/^chr[0-9A-Z]+$/.test(e[0])).map(([e,n])=>({name:e,size:parseInt(n)}))}function Nw(t){return Wt(t)&&"chrom"in t}function TF(t){return t.every(Nw)}class zs extends Array{constructor(){super(),this.type=void 0}extend(e){return this}extendAll(e){if(e instanceof zs&&e.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${e.type}`);for(const n of e)this.extend(n);return this}extendAllWithAccessor(e,n){for(const r of e)this.extend(n(r));return this}}class o0 extends zs{constructor(){super(),this.type="quantitative"}extend(e){return e==null||Number.isNaN(e)?this:(e=+e,this.length?e<this[0]?this[0]=e:e>this[1]&&(this[1]=e):(this.push(e),this.push(e)),this)}}class Lw extends zs{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(e){return e==null||Number.isNaN(e)?this:(this.uniqueValues.has(e)||(this.uniqueValues.add(e),this.push(e)),this)}}class zw extends Lw{constructor(){super(),this.type="nominal"}}class IF extends zs{constructor(e){super();let n=0;for(let r=1;r<e.length;r++)n+=Math.sign(e[r]-e[r-1]);if(Math.abs(n)!=e.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(e));e.forEach(r=>this.push(r))}extend(e){if(this.includes(e))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const Uw={quantitative:o0,index:o0,locus:o0,nominal:zw,ordinal:Lw};function Gw(t,e){if(t=="quantitative"&&kF(e)){const n=new IF(e);return n.type=t,n}else if(Uw[t]){const n=new Uw[t];return n.type=t,e&&n.extendAll(e),n}throw new Error("Unknown type: "+t)}function kF(t){return t&&t.length>0&&t.length!=2&&t.every(e=>typeof e=="number")}function DF(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function BF(t,e,n){return t*Math.pow(e/t,n)}Ae("index",r0,["continuous"]),Ae("locus",JB,["continuous"]),Ae("null",Zl,[]);const Hw="quantitative",Vw="ordinal",jw="nominal",qw="locus",FF="index";class RF{constructor(e){ue(this,Kn);ue(this,Ic);ue(this,ka);ue(this,br);ue(this,Hf);ue(this,kc);ue(this,Dg);ue(this,Vf);ue(this,mr,void 0);ue(this,Ia,new Set);ue(this,yt,void 0);this.channel=e,this.members=[],this.type=null,this.name=void 0}addEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);X(this,Ia).add(n)}removeEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);X(this,Ia).delete(n)}pushUnitView(e,n){var a;const r=pd(e,n),i=r.type,o=(a=r==null?void 0:r.scale)==null?void 0:a.name;if(o){if(this.name!==void 0&&o!=this.name)throw new Error(`Shared scales have conflicting names: "${o}" vs. "${this.name}"!`);this.name=o}if(!this.type)this.type=i;else if(i!==this.type&&!Cs(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push({view:e,channel:n})}isExplicitDomain(){return!!this.getConfiguredDomain()}isDomainInitialized(){const e=X(this,yt);if(!e)return!1;const n=e.domain();return vt(e.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0}getScaleProps(){return qo(this,"scaleProps",()=>{const e=ie(this,Ic,uS).call(this);if(e===null||e.type=="null")return{type:"null"};const n={...ie(this,kc,cS).call(this,this.type),...e};n.type||(n.type=PF(this.channel,this.type));const r=ie(this,ka,Oc).call(this);return r&&r.length>0?n.domain=r:Or(n.type)&&(n.domain=new zw),!n.domain&&n.domainMid!==void 0&&(n.domain=[n.domainMin??0,n.domainMax??1]),this.channel=="y"&&Or(n.type)&&n.reverse==null&&(n.reverse=!0),n.range&&n.scheme&&delete n.scheme,!("zoom"in n)&&["index","locus"].includes(n.type)&&(n.zoom=!0),MF(n,this.channel),n})}getConfiguredDomain(){return ie(this,Vf,Lg).call(this,e=>Cs(e.channel)?void 0:e.view.getConfiguredDomain(e.channel))}getDataDomain(){return ie(this,Vf,Lg).call(this,e=>Cs(e.channel)?void 0:e.view.extractDataDomain(e.channel))}reconfigure(){if(X(this,yt)&&X(this,yt).type!="null"){const e=this.isDomainInitialized(),n=X(this,yt).domain();pw(this,"scaleProps");const r=this.getScaleProps();if(Rw(r,X(this,yt)),vt(X(this,yt).type)&&bn(this,mr,ie(this,Hf,Ng).call(this)),!e){ie(this,Kn,mi).call(this);return}const i=X(this,yt).domain();_l(i,n)||(this.isZoomable()?X(this,yt).domain(n):ie(this,br,yo).call(this)?(X(this,yt).domain(n),this.zoomTo(i,500)):ie(this,Kn,mi).call(this))}}getScale(){if(X(this,yt))return X(this,yt);const e=this.getScaleProps(),n=dF(e);return bn(this,yt,n),eF(n)&&n.genome(this.getGenome()),vt(n.type)&&bn(this,mr,ie(this,Hf,Ng).call(this)),n}getDomain(){return this.getScale().domain()}getComplexDomain(){var e;return((e=this.getGenome())==null?void 0:e.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return ie(this,br,yo).call(this)&&_l(ie(this,ka,Oc).call(this),this.getDomain())}isZoomable(){return ie(this,br,yo).call(this)&&!!this.getScaleProps().zoom}zoom(e,n,r){if(!ie(this,br,yo).call(this))return!1;const i=this.getScale(),o=i.domain();let a=[...o],s=i.invert(n);switch(this.getScaleProps().reverse&&(r=-r),"align"in i&&(s+=i.align()),i.type){case"linear":case"index":case"locus":a=vS(a,r||0),a=jg(a,s,e);break;case"log":a=AS(a,r||0),a=qg(a,s,e);break;case"pow":case"sqrt":{const l=i;a=ES(a,r||0,l.exponent()),a=zc(a,s,e,l.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return X(this,mr)&&(a=SS(a,X(this,mr)[0],X(this,mr)[1])),[0,1].some(l=>a[l]!=o[l])?(i.domain(a),ie(this,Kn,mi).call(this),!0):!1}async zoomTo(e,n=!1){var s;if(rl(n)&&(n=n?700:0),!ie(this,br,yo).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(e),i=(s=this.members[0])==null?void 0:s.view.context.animator,o=this.getScale(),a=o.domain();if(n>0&&a.length==2){const l=a[1]-a[0],f=a[0]+l/2,u=r[1]-r[0],c=r[0]+u/2;await i.transition({duration:n,easingFunction:DF,onUpdate:h=>{const d=BF(l,u,h),p=(l-d)/(l-u),b=p*c+(1-p)*f;o.domain([b-d/2,b+d/2]),ie(this,Kn,mi).call(this)}}),o.domain(r),ie(this,Kn,mi).call(this)}else o.domain(r),i==null||i.requestRender(),ie(this,Kn,mi).call(this)}resetZoom(){if(!ie(this,br,yo).call(this))throw new Error("Not a zoomable scale!");const e=this.getDomain(),n=ie(this,ka,Oc).call(this);return[0,1].some(r=>n[r]!=e[r])?(X(this,yt).domain(n),ie(this,Kn,mi).call(this),!0):!1}getZoomLevel(){return this.isZoomable()?il(X(this,mr))/il(this.getScale().domain()):1}getGenome(){var n;if(this.type!=="locus")return;const e=(n=this.members[0].view.context.genomeStore)==null?void 0:n.getGenome();if(!e)throw new Error("No genome has been defined!");return e}invertToComplex(e){const n=this.getScale();if("invert"in n){const r=n.invert(e);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(e){const n=this.getGenome();return n?n.toChromosomal(e):e}fromComplex(e){return Nw(e)?this.getGenome().toContinuous(e.chrom,e.pos):e}fromComplexInterval(e){return this.type==="locus"&&TF(e)?this.getGenome().toContinuousInterval(e):e}}mr=new WeakMap,Ia=new WeakMap,yt=new WeakMap,Kn=new WeakSet,mi=function(){for(const e of X(this,Ia).values())e({type:"domain",scaleResolution:this})},Ic=new WeakSet,uS=function(){return qo(this,"mergedScaleProps",()=>{const e=this.members.map(n=>pd(n.view,n.channel).scale).filter(n=>n!==void 0);return vu(e,"scale",["domain"])})},ka=new WeakSet,Oc=function(){return this.getConfiguredDomain()??(this.type==qw?this.getGenome().getExtent():this.getDataDomain())},br=new WeakSet,yo=function(){const e=this.getScale().type;return vt(e)},Hf=new WeakSet,Ng=function(){const e=this.getScaleProps(),n=e.zoom;if(OF(n)&&qt(n.extent))return this.fromComplexInterval(n.extent);if(n)return e.type=="locus"?this.getGenome().getExtent():X(this,yt).domain()},kc=new WeakSet,cS=function(e){const n=this.channel,r={};return this.isExplicitDomain()&&(r.zero=!1),Ss(n)?r.nice=!this.isExplicitDomain():Li(n)?r.scheme=e==jw?"tableau10":e==Vw?"blues":"viridis":$l(n)?r.range=n=="shape"?["circle","square","triangle-up","cross","diamond"]:[]:n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r},Dg=new WeakSet,Yz=function(){return this.members.map(e=>e.view.getPathString()).join(", ")},Vf=new WeakSet,Lg=function(e){const n=this.members.filter(r=>!r.view.getLayoutAncestors().some(i=>!i.options.contributesToScaleDomain)).map(e).filter(r=>!!r);if(n.length)return n.reduce((r,i)=>r.extendAll(i))};function PF(t,e){if(e==FF||e==qw){if(Hb(t))return e;throw new Error(`${t} does not support ${e} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"]},i=["sample"].includes(t)?"null":n[t]?n[t][[jw,Vw,Hw].indexOf(e)]:e==Hw?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${t}" is not compatible with "${e}" data type. Use of a proper scale may be needed.`);return i}function MF(t,e){Ss(e)&&t.type!=="ordinal"&&(t.range=[0,1]),e=="opacity"&&vt(t.type)&&(t.clamp=!0)}function OF(t){return Wt(t)}function a0(t){const e=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))e.add(i)}for(const r of Zt(t)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.options.contributesToScaleDomain)break;n(i)}}e.forEach(r=>r.reconfigure())}function s0(...t){for(const e of t)if(e!==void 0)return e}class NF{constructor(e){this.channel=e,this.members=[]}get scaleResolution(){var e;return(e=os(this.members))==null?void 0:e.view.getScaleResolution(this.channel)}pushUnitView(e,n){const r=e.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error("Shared axes must have a shared scale!");this.members.push({view:e,channel:n})}getAxisProps(){return qo(this,"axisProps",()=>{const e=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return e.length>0&&e.some(n=>n===null)?null:vu(e.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const e=o=>{var s;const a=pd(o.view,o.channel);if(!En(a))return{member:o,explicitTitle:s0("axis"in a?(s=a.axis)==null?void 0:s.title:void 0,a.title),implicitTitle:s0(Es(a)?a.field:void 0,gd(a)?a.expr:void 0)}},n=this.members.map(e),r=n.filter(o=>{var a;if(Cs(o.member.channel)&&!o.explicitTitle){const s=Ni(o.member.channel);return((a=n.find(l=>l.member.view==o.member.view&&l.member.channel==s))==null?void 0:a.explicitTitle)===void 0}return!0}),i=new Set(r.map(o=>s0(o.explicitTitle,o.implicitTitle)).filter(Ye));return i.size?[...i].join(", "):null}}const LF={point:kB,rect:AB,rule:FB,link:LB,text:jB};class Yt extends qi{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.spec=e;const s=LF[this.getMarkType()];if(s)this.mark=new s(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.resolve(),this.coords=void 0,this.needsAxes={x:!0,y:!0}}render(e,n,r={}){this.isConfiguredVisible()&&(this.coords=n,e.pushView(this,n),e.renderMark(this.mark,r),e.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}resolve(e){e||(this.resolve("scale"),this.resolve("axis"));const n=this.mark.encoding;for(const[r,i]of Object.entries(n)){if(!Nt(i))continue;const o=Ni(i.resolutionChannel??r);if(!zi(o)||e=="axis"&&!Ss(o))continue;let a=this;for(;(a.getConfiguredOrDefaultResolution(o,e)=="forced"||a.dataParent instanceof qi&&["shared","excluded","forced"].includes(a.dataParent.getConfiguredOrDefaultResolution(o,e)))&&a.getConfiguredOrDefaultResolution(o,e)!="excluded";)a=a.dataParent;e=="axis"&&Ss(r)&&Hb(o)?(a.resolutions[e][o]||(a.resolutions[e][o]=new NF(o)),a.resolutions[e][o].pushUnitView(this,r)):e=="scale"&&zi(r)&&(a.resolutions[e][o]||(a.resolutions[e][o]=new RF(o)),a.resolutions[e][o].pushUnitView(this,r))}}getAccessor(e){return this._cache("accessor/"+e,()=>{const n=this.mark.encoding;if(n&&n[e])return this.context.accessorFactory.createAccessor(n[e])})}getFacetAccessor(e){const n=this.getAccessor("sample");return n||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}_validateDomainQuery(e){if(Cs(e))throw new Error(`getDomain(${e}), must only be called for primary channels!`);const n=this.mark.encoding[e];if(!Nt(n))throw new Error("The channel has no scale, cannot get domain!");return n}getConfiguredDomain(e){const n=this._validateDomainQuery(e),r=n&&n.scale&&n.scale.domain;if(r){const i=this.getScaleResolution(n.resolutionChannel??e);return Gw(n.type??"nominal",i.fromComplexInterval(r))}}extractDataDomain(e){const r=this._validateDomainQuery(e).type??"nominal",i=s=>{let l;const f=this.mark.encoding[s];if(f){const u=this.context.accessorFactory.createAccessor(f);if(u)if(l=Gw(r),u.constant)l.extend(u({}));else{const c=this.getCollector();c!=null&&c.completed&&c.visitData(h=>l.extend(u(h)))}}return l};let o=i(e);const a=md[e];if(a){const s=i(a);s&&o.extendAll(s)}return o}getZoomLevel(){const e=n=>{var r;return((r=this.getScaleResolution(n))==null?void 0:r.getZoomLevel())??1};return Po.map(e).reduce((n,r)=>n*r,1)}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0),e.target=this,!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,n){return e=="x"?"shared":"independent"}}function*f0(t,e=[]){for(const[n,r]of t.entries())if(r instanceof Map)for(const i of f0(r,[...e,n]))yield i;else yield[[...e,n],r]}class Ww extends et{get behavior(){return e0}constructor(e){super(),this.params=e??{type:"collect"},this.observers=[],this.facetBatches=void 0,this._init()}_init(){this._data=[],this.facetBatches=new yi([],JSON.stringify),this.facetBatches.set(void 0,this._data)}reset(){super.reset(),this._init()}handle(e){this._data.push(e)}beginBatch(e){CB(e)&&(this._data=[],this.facetBatches.set(Zt(e.facetId),this._data))}complete(){var i,o;const e=(i=this.params)==null?void 0:i.sort,n=e?Wg(e.field,e.order):void 0,r=a=>{n&&a.sort(n)};if((o=this.params.groupby)!=null&&o.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const a=this.params.groupby.map(l=>Re(l)),s=fl(this._data,...a);this.facetBatches.clear();for(const[l,f]of f0(s))this.facetBatches.set(l,f)}for(const a of this.facetBatches.values())r(a);if(this.children.length)for(const[a,s]of this.facetBatches.entries()){if(a){const l={type:"facet",facetId:a};for(const f of this.children)f.beginBatch(l)}for(const l of s)this._propagate(l)}super.complete();for(const a of this.observers)a(this)}getData(){switch(this._checkStatus(),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const e=this.facetBatches;return{[Symbol.iterator]:function*(){for(const r of e.values())for(let i=0;i<r.length;i++)yield r[i]}}}}}visitData(e){this._checkStatus();for(const n of this.facetBatches.values())for(let r=0;r<n.length;r++)e(n[r])}getItemCount(){let e=0;for(const n of this.facetBatches.values())e+=n.length;return e}_checkStatus(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")}}class Au{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(e,n){let r=this.length++;for(;r>0;){const i=r-1>>1,o=this.values[i];if(n>=o)break;this.ids[r]=this.ids[i],this.values[r]=o,r=i}this.ids[r]=e,this.values[r]=n}pop(){if(this.length===0)return;const e=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let o=0;for(;o<i;){let a=(o<<1)+1;const s=a+1;let l=this.ids[a],f=this.values[a];const u=this.values[s];if(s<this.length&&u<f&&(a=s,l=this.ids[s],f=u),f>=r)break;this.ids[o]=l,this.values[o]=f,o=a}this.ids[o]=n,this.values[o]=r}return e}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class zF extends et{get behavior(){return Gn}constructor(e){super(),this.params=e,this.startAccessor=Re(e.start),this.endAccessor=Re(e.end),this.chromAccessor=e.chrom?Re(e.chrom):n=>{},this.weightAccessor=e.weight?Re(e.weight):n=>1,this.as={coverage:e.as||"coverage",start:e.asStart||e.start,end:e.asEnd||e.end,chrom:e.asChrom||e.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new Au}reset(){super.reset(),this.initialize()}initialize(){const e=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,o=this.endAccessor,a=this.chromAccessor,s=this.weightAccessor;let l,f,u,c=0,h;const d=this.ends;d.clear();const p=(y,w,S)=>{if(y==w)return;let C=!1;l&&(l[e]===S?(l[n]=w,C=!0):l[e]!=0&&this._propagate(l)),C||(l=this.createSegment(y,w,S,u))},b=()=>{let y;for(;(y=d.peekValue())!==void 0;)p(h,y,c),h=y,c-=d.pop();h=void 0,l&&(this._propagate(l),l=void 0)};this.handle=y=>{const w=i(y);let S;for(;(S=d.peekValue())!==void 0&&S<w;)p(h,S,c),h=S,c-=d.pop();if(r){let _=a(y);_!==f&&(b(),u=_,f=u)}h!==void 0&&p(h,w,c),h=w;const C=s(y);c+=C,d.push(C,o(y))},this.complete=()=>{b(),super.complete()}}}function UF(t,e,n=0,r=t.length){const i=new Au,o=r-n;let a;for(a=0;a<e&&a<o;a++)i.push(a,t[n+a]);for(;a<o;a++){const f=t[n+a];f>=i.peekValue()&&(i.push(a,f),i.pop())}const s=[];let l;for(;(l=i.pop())!==void 0;)s.push(n+l);return s.reverse()}class GF{constructor(e,n=-1/0,r=1/0){this.maxSize=e,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(e,n,r=0){if(e>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const o=this._findSlot(e,n,i);return o>=0?o:this._findSlot(e,n,this.upperChildren[r])}else return r}else return-1}reserve(e,n){if(n-e<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(e,n);if(r<0)return!1;const i=this.n++,o=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=e,this.lowerLimits[o]=n,this.upperLimits[o]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=o,!0}}class HF extends et{get behavior(){return e0}constructor(e,n){if(super(),this.params=e,this._data=[],this.channel=e.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Re(this.params.pos),this.posBisector=sl(this.posAccessor),this.scoreAccessor=Re(this.params.score),this.widthAccessor=Re(this.params.width),this.laneAccessor=this.params.lane?Re(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const e=this.posAccessor;this._data.sort((n,r)=>e(n)-e(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new GF(200));this.schedule(),super.complete()}_filterAndPropagate(){var a;super.reset();const e=this.resolution.getScale(),n=(a=this.resolution.members[0].view.coords)==null?void 0:a[this.channel=="x"?"width":"height"];if(!n)return;for(const s of this.reservationMaps.values())s.reset();const r=e.domain(),i=70,o=UF(this._scores,i,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const s of o){const l=this._data[s],f=e(this.posAccessor(l))*n,u=this.widthAccessor(l)/2+this.padding;this.reservationMaps.get(this.laneAccessor(l)).reserve(f-u,f+u)&&this._propagate(l)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(e){this._data.push(e)}}class VF extends et{constructor(e){super(),this.params=e,this.predicate=void 0}initialize(){this.predicate=kh(this.params.expr,this.getGlobalObject())}handle(e){this.predicate(e)&&this._propagate(e)}}class jF extends et{get behavior(){return Gn}constructor(e){super();const n=e.index;if(e.fields){const r=Zt(e.fields).map(o=>Re(o)),i=Zt(e.as||e.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{const a=r.map((l,f)=>l(o)??[]),s=a[0].length;for(let l=0;l<s;l++){const f=Object.assign({},o);for(let u=0;u<r.length;u++)f[i[u]]=l<a[u].length?a[u][l]:null;n&&(f[n]=l),this._propagate(f)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const o=Object.assign({},r[i]);n&&(o[n]=i),this._propagate(o)}}}}const qF="0".charCodeAt(0);function*WF(t,e=","){const n=e.charCodeAt(0);let r=0;for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);o==n?(yield r,r=0):r=r*10+o-qF}yield r}class ZF extends et{get behavior(){return Gn}constructor(e){super();const n=Re(e.exons??"exons"),r=Re(e.start??"start"),[i,o]=e.as||["exonStart","exonEnd"];this.handle=a=>{let s=r(a),l=s,f=!0;const u=n(a);for(const c of WF(u)){if(f)l=s+c;else{s=l+c;const h=Object.assign({},a);h[i]=l,h[o]=s,this._propagate(h)}f=!f}}}}class $F extends et{get behavior(){return Gn}constructor(e){super();const n=Zt(e.field).map(o=>Re(o)),r=Zt(e.separator),i=Zt(e.as||e.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{if(n.some(l=>!l(o)))return;const a=n.map((l,f)=>l(o).split(r[f]));YF(a,o);const s=a[0].length;for(let l=0;l<s;l++){const f=Object.assign({},o);for(let u=0;u<n.length;u++)f[i[u]]=a[u][l];this._propagate(f)}}}}function YF(t,e){const n=t.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(e))}class QF extends et{get behavior(){return Vr}constructor(e){super(),this.params=e,this.as=e.as,this.fn=void 0}initialize(){this.fn=kh(this.params.expr,this.getGlobalObject())}handle(e){e[this.as]=this.fn(e),this._propagate(e)}}class Zw extends et{get behavior(){return Vr}constructor(e,n){super();const r=e.channel??"x";if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const o=Re(e.chrom),a=Zt(e.pos).map(p=>Re(p)),s=Zt(e.as);if(a.length!=s.length)throw new Error('The number of "pos" and "as" elements must be equal!');const l=Zt(e.offset);let f;if(l.length==0)f=new Array(a.length).fill(0);else if(l.length==1)f=new Array(a.length).fill(l[0]);else if(l.length==a.length)f=l;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(e.offset)}!`);const u=new Function("datum","chromOffset","posAccessors",s.map((p,b)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${b}](datum) - ${f[b]};`).join(`
`));let c,h=0;const d=p=>{if(p!==c){if(h=i.cumulativeChromPositions.get(p),h===void 0)throw new Error("Unknown chromosome/contig: "+p);c=p}return h};this.handle=p=>{u(p,d(o(p)),a),this._propagate(p)}}}const $w={pages:["Lato-Regular.png"],chars:[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class XF extends et{get behavior(){return Vr}constructor(e){super();const n=Qd($w),r=Re(e.field),i=e.as,o=e.fontSize;this.handle=a=>{const s=r(a);s!==void 0?a[i]=n.measureWidth(s,o):a[i]=0,this._propagate(a)}}}const KF=65536;class JF extends et{get behavior(){return Vr}constructor(e){super(),this.params=e}reset(){super.reset(),this.initialize()}initialize(){const e=this.params,n=e.as||"lane",r=Ft(e.spacing)?e.spacing:1,i=Re(e.start),o=Re(e.end);if(!e.preference!=!e.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(e.preference){const a=new Float64Array(KF),s=Re(e.preference),l=e.preferredOrder;let f=1/0;this.handle=u=>{const c=i(u);c<f&&a.fill(-1/0),f=c;const h=l.indexOf(s(u));let d=-1;if(h>=0&&a[h]<c)d=h;else{const p=i(u);for(d=0;d<a.length&&!(a[d]<p);d++);if(d>=a.length)throw new Error("Out of lanes!")}a[d]=o(u)+r,u[n]=d,this._propagate(u)}}else{const a=new Au,s=new Au;let l=-1/0,f=0;this.handle=u=>{const c=i(u);for(;a.length&&(a.peekValue()<=c||c<l);){const d=a.pop();s.push(d,d)}l=c;let h=s.pop();h===void 0&&(h=f++),u[n]=h,this._propagate(u),a.push(h,o(u)+r)}}}}class eR extends et{get behavior(){return Gn}constructor(e){if(super(),e.as&&e.as.length!=e.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=e.fields.map(i=>Re(i)),r=e.as?e.as:n.map(xo);this.handle=i=>{const o={};for(let a=0;a<n.length;a++)o[r[a]]=n[a](i);this._propagate(o)}}}class tR extends et{get behavior(){return Vr}constructor(e){super();const n=new RegExp(e.regex),r=typeof e.as=="string"?[e.as]:e.as,i=Re(e.field);this.handle=o=>{const a=i(o);if(Ye(a)){const s=a.match(n);if(s){if(s.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let l=0;l<r.length;l++)o[r[l]]=s[l+1]}else if(e.skipInvalidInput)for(let l=0;l<r.length;l++)o[r[l]]=void 0;else throw new Error(`"${a}" does not match the given regex: ${n.toString()}`)}else if(!e.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof a}, field content: "${a}".`);this._propagate(o)}}}class nR extends et{get behavior(){return Gn}constructor(e){super();const n=Zt(e.columnRegex).map(h=>new RegExp(h)),r=Zt(e.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=e.skipRegex?new RegExp(e.skipRegex):void 0,o=e.asKey||"sample";let a,s,l;const f=h=>{var y;const d=Object.keys(h),p=new Map;for(const[w,S]of n.entries())for(const C of d){const _=(y=S.exec(C))==null?void 0:y[1];if(_!==void 0){let k=p.get(_);k||(k=[],p.set(_,k)),k[w]=C}}a=[...p.entries()],s=d.filter(w=>!n.some(S=>S.test(w))&&!(i&&i.test(w)));const b=[...s.map(w=>JSON.stringify(w)+": datum["+JSON.stringify(w)+"]"),JSON.stringify(o)+": sampleId",...r.map(w=>JSON.stringify(w)+": null")];l=new Function("datum","sampleId",`return {
`+b.join(`,
`)+`
};`)},u=h=>{a||f(h);for(const[d,p]of a){const b=l(h,d);for(let y=0;y<p.length;y++)b[r[y]]=h[p[y]];this._propagate(b)}},c=h=>{f(h),u(h),this.handle=u};this.handle=c,this.beginBatch=h=>{vw(h)&&(this.handle=c),super.beginBatch(h)}}}class rR extends et{get behavior(){return Vr}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const e=this.params,n=e.as||["y0","y1"],r=e.sort?Wg(e.sort.field,e.sort.order):void 0,i=e.field?Re(e.field):()=>1,o=e.groupby.map(u=>Re(u)),a=i3(this.buffer,u=>o.map(c=>c(u)).join()).map(u=>u[1]);let s=u=>!0;if(e.baseField){const u=Re(e.baseField);s=c=>u(c)!==null}let l,f;switch(e.offset){case"normalize":l=(u,c)=>u/c,f=(u,c)=>ul(u,c);break;case"center":l=(u,c)=>u-c/2,f=(u,c)=>ul(u,c);break;case"information":{const u=Math.log2(e.cardinality??4);l=(c,h)=>c/h,f=(c,h)=>{const p=ul(c,S=>+!s(S)),b=ul(c,h),y=b-p;let w=0;for(let S=0;S<c.length;S++){const C=c[S];if(s(C)){const _=h(C)/y;w-=_*Math.log2(_)}}return y/(u-(w+0))*(y/b)}}break;default:l=(u,c)=>u,f=(u,c)=>1}for(const u of a){r&&u.sort(r);const c=f(u,i);let h=0;for(const d of u){const p=h+i(d);s(d)&&(d[n[0]]=l(h,c),d[n[1]]=l(p,c),this._propagate(d),h=p)}}super.complete()}}class iR extends et{get behavior(){return Gn}constructor(e){super();const n=Re(e.field??"sequence"),[r,i]=e.as??["pos","sequence"];this.handle=o=>{const a=Object.assign({},o,{[i]:"",[r]:0}),s=n(o);for(let l=0;l<s.length;l++){const f=Object.assign({},a);f[r]=l,f[i]=s.charAt(l),this._propagate(f)}}}}class oR extends et{get behavior(){return Gn}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const n=this.params.groupby,r=n.map(o=>Re(o)),i=fl(this.buffer,...r);for(const[o,a]of f0(i)){const s={count:a.length};for(let l=0;l<n.length;l++)s[n[l]]=o[l];this._propagate(s)}super.complete()}}const aR="_uniqueId",Yw=1e4,Qw=[null];class Xw extends et{get behavior(){return Vr}constructor(e){super(),this.params=e,this.as=e.as??aR,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(e){e[this.as]=this._nextId(),this._propagate(e)}_nextId(){return++this._id%Yw==0&&(this._id=this._getBlock()*Yw),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const e=Qw.length;return Qw[e]=this,this._blocks.push(e),this._usedBlocks++,e}}const sR={aggregate:oR,collect:Ww,coverage:zF,filterScoredLabels:HF,filter:VF,flatten:jF,flattenCompressedExons:ZF,flattenDelimited:$F,flattenSequence:iR,formula:QF,identifier:Xw,linearizeGenomicCoordinate:Zw,measureText:XF,pileup:JF,project:eR,regexExtract:tR,regexFold:nR,sample:Aw,stack:rR};function fR(t,e){const n=sR[t.type];if(n)return new n(t,e);throw new Error("Unknown transform: "+t.type)}function Kw(t){if(!tx(t)&&!ex(t))return;const e={...t.format};if(e.type??(e.type=ex(t)&&lR(t.url)),e.parse??(e.parse="auto"),!e.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(t));return e}function lR(t){var e;if(Array.isArray(t)&&(t=t[0]),t)return(e=t.match(/\.(csv|tsv|json)/))==null?void 0:e[1]}const Jw=t=>typeof t!="object"?uR:cR,uR=t=>({data:t}),cR=t=>t;function ex(t){return"url"in t}class Us extends et{get identifier(){}handle(e){throw new Error("Source does not handle incoming data!")}async load(){}}function tx(t){return"values"in t}class hR extends Us{constructor(e,n){var r;if(super(),this.params=e,typeof e.values=="string"&&!((r=e==null?void 0:e.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}loadSynchronously(){const e=this.params.values;let n=[],r=i=>i;if(Array.isArray(e))e.length>0&&(n=e,r=Jw(e[0]));else if(typeof e=="object")n=[e];else if(typeof e=="string")n=Xm(e,Kw(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function dR(t){return"url"in t}class pR extends Us{constructor(e,n){super(),this.params=e,this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}async load(){const e=this.params.url,n=Array.isArray(e)?e:[e],r=async o=>vl({baseURL:this.baseUrl}).load(o).catch(a=>{throw new Error(`Cannot fetch: ${this.baseUrl}${o}: ${a.message}`)}),i=(o,a)=>{try{const s=Xm(o,Kw(this.params));this.beginBatch({type:"file",url:a});for(const l of s)this._propagate(l)}catch(s){throw new Error(`Cannot parse: ${a}: ${s.message}`)}};this.reset(),await Promise.all(n.map(o=>r(o).then(i))),this.complete()}}function gR(t){return"sequence"in t}class mR extends Us{constructor(e,n){if(super(),this.sequence=e.sequence,!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}loadSynchronously(){const e=this.sequence.as||"data",n=this.sequence.step||1,r=this.sequence.stop;this.reset(),this.beginBatch({type:"file"});for(let i=this.sequence.start;i<r;i+=n)this._propagate({[e]:i});this.complete()}async load(){this.loadSynchronously()}}function bR(t,e,n){return n=(n-t)/(e-t),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}class Wi extends Us{constructor(e,n){if(super(),this.view=e,n){if(n!=="x"&&n!=="y")throw new Error(`Invalid channel specified for the dynamic data source: ${n}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the dynamic data source. Must be either "x" or "y".');if(this.channel=n,this.scaleResolution=this.view.getScaleResolution(n),!this.scaleResolution){const i=[`The dynamic data source cannot find a resolved scale for channel "${n}".`];throw this.view instanceof Yt||i.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(i.join(" "))}const r=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",r),this.view.context.addBroadcastListener("layoutComputed",r)}getAxisLength(){const e=this.scaleResolution.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return e.length?e.reduce((n,r)=>Math.min(n,r),1e4):0}get genome(){return this.scaleResolution.getGenome()}async onDomainChanged(e,n){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(e){this.reset(),this.beginBatch({type:"file"});for(const n of e)this._propagate(n);this.complete(),a0(this.view),this.requestRender()}}class yR extends Wi{constructor(n,r){const i={axis:{},...n};super(r,i.channel);St(this,"ticks",[]);this.params=n}async onDomainChanged(){const n=this.scaleResolution.getScale(),r=this.params.axis,i=this.getAxisLength(),o=f=>25+60*bR(100,700,f),a=Ft(r.tickCount)?r.tickCount:Math.round(i/o(i)),s=kw(n,a,r.tickMinStep),l=r.values?Dw(n,r.values,s):tF(n,s);if(!_l(l,this.ticks)){this.ticks=l;const f=rF(n,a,r.format);this.publishData(l.map(u=>({value:u,label:f(u)})))}}}class wR extends Wi{constructor(e,n){super(n,e.channel)}async load(){this.publishData(this.genome.chromosomes)}}function Gs(t){return class extends t{constructor(){super(...arguments);St(this,"lastQuantizedInterval",[0,0])}quantizeInterval(r,i){return[Math.max(Math.floor(r[0]/i-1)*i,0),Math.min(Math.ceil(r[1]/i+1)*i,this.genome.totalSize)]}checkAndUpdateLastInterval(r){return _l(this.lastQuantizedInterval,r)?!1:(this.lastQuantizedInterval=r,!0)}}}function Hs(t,e){return!e||/^(data:|([A-Za-z]+:)?\/\/)/.test(t)||t.startsWith("/")?t:(e.endsWith("/")||(e+="/"),e+t)}class xR extends Gs(Wi){constructor(e,n){const r={channel:"x",windowSize:7e3,...e};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");this.initializedPromise=new Promise(i=>{Promise.all([Promise.resolve().then(()=>Nx),Promise.resolve().then(()=>SO),Promise.resolve().then(()=>$s)]).then(([{Buffer:o},{IndexedFasta:a},{RemoteFile:s}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=o));const l=f=>new s(Hs(f,this.view.getBaseUrl()));this.fasta=new a({fasta:l(this.params.url),fai:l(this.params.indexUrl??this.params.url+".fai")}),i()})})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;await this.initializedPromise;const r=this.quantizeInterval(e,n);if(this.checkAndUpdateLastInterval(r)){const i=this.genome.continuousToDiscreteChromosomeIntervals(r),o=await Promise.all(i.map(a=>this.fasta.getSequence(a.chrom,a.startPos,a.endPos).then(s=>({chrom:a.chrom,start:a.startPos,sequence:s}))));this.publishData(o)}}}function Eu(t,e,n=!0){let r,i=a=>{};return function(...s){return new Promise((l,f)=>{const u=()=>{clearTimeout(r),i=c=>{},l(t(...s))};n&&i("debounced"),clearTimeout(r),i=f,r=window.setTimeout(u,e)})}}class vR extends Gs(Wi){constructor(n,r){const i={pixelsPerBin:2,channel:"x",...n};super(r,i.channel);St(this,"reductionLevels",[]);St(this,"lastRequestId",0);St(this,"bbi");if(this.params=i,!this.params.url)throw new Error("No URL provided for BigWigSource");this.doDebouncedRequest=Eu(this.doRequest.bind(this),200,!1),this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>PE),Promise.resolve().then(()=>$s)]).then(([{BigWig:a},{RemoteFile:s}])=>{this.bbi=new a({filehandle:new s(Hs(this.params.url,this.view.getBaseUrl()))}),this.bbi.getHeader().then(l=>{this.reductionLevels=l.zoomLevels.map(f=>f.reductionLevel).reverse(),this.reductionLevels.push(1),o()})})})}async onDomainChanged(n){await this.initializedPromise;const r=this.getAxisLength()||700,i=AR(n,r,this.reductionLevels),o=Math.max(i*r,5e3),a=this.quantizeInterval(n,o);this.checkAndUpdateLastInterval(a)&&this.doDebouncedRequest(a,i)}async doRequest(n,r){const i=await this.getFeatures(n,.5/r/this.params.pixelsPerBin);i.requestId<this.lastRequestId||this.publishData(i.features)}async getFeatures(n,r){let i=++this.lastRequestId;const o=new AbortController,a=this.genome.continuousToDiscreteChromosomeIntervals(n),s=await Promise.all(a.map(l=>this.bbi.getFeatures(l.chrom,l.startPos,l.endPos,{scale:r,signal:o.signal}).then(f=>f.map(u=>({chrom:l.chrom,start:u.start,end:u.end,score:u.score})))));return{requestId:i,abort:()=>o.abort(),features:s.flat()}}}function AR(t,e,n){const r=(t[1]-t[0])/e;return n.find(i=>i<r)??n.at(-1)}class ER extends Gs(Wi){constructor(n,r){const i={channel:"x",windowSize:1e6,...n};super(r,i.channel);St(this,"lastRequestId",0);St(this,"parser");St(this,"bbi");if(this.params=i,!this.params.url)throw new Error("No URL provided for BigBedSource");this.doDebouncedRequest=Eu(this.doRequest.bind(this),200,!1),this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>x7),Promise.resolve().then(()=>PE),Promise.resolve().then(()=>$s)]).then(([a,{BigBed:s},{RemoteFile:l}])=>{const f=a.default;this.bbi=new s({filehandle:new l(Hs(this.params.url,this.view.getBaseUrl()))}),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(async u=>{this.parser=new f({autoSql:u.autoSql}),o()})})})}async onDomainChanged(n){await this.initializedPromise;const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doDebouncedRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){let r=++this.lastRequestId;const i=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(n),a=await Promise.all(o.map(s=>this.bbi.getFeatures(s.chrom,s.startPos,s.endPos,{signal:i.signal}).then(l=>l.map(f=>this.parser.parseLine(`${s.chrom}	${f.start}	${f.end}	${f.rest}`,{uniqueId:f.uniqueId})))));return{requestId:r,abort:()=>i.abort(),features:a.flat()}}}class _R extends Gs(Wi){constructor(n,r){const i={channel:"x",windowSize:2e4,...n};super(r,i.channel);St(this,"lastRequestId",0);St(this,"bam");St(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>U7),Promise.resolve().then(()=>$s)]).then(([{BamFile:a},{RemoteFile:s}])=>{const l=f=>new s(Hs(f,this.view.getBaseUrl()));this.bam=new a({bamFilehandle:l(this.params.url),baiFilehandle:l(this.params.indexUrl??this.params.url+".bai")}),this.bam.getHeader().then(f=>{var h,d;const u=this.genome.hasChrPrefix(),c=(d=(h=this.bam.indexToChr)==null?void 0:h[0])==null?void 0:d.refName.startsWith("chr");u&&!c?this.chrPrefixFixer=p=>p.replace("chr",""):!u&&c&&(this.chrPrefixFixer=p=>"chr"+p),o()})})})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;await this.initializedPromise;const i=this.quantizeInterval(n,r);if(this.checkAndUpdateLastInterval(i)){const o=this.genome.continuousToDiscreteChromosomeIntervals(i),a=await Promise.all(o.map(s=>this.bam.getRecordsForRange(this.chrPrefixFixer(s.chrom),s.startPos,s.endPos).then(l=>l.map(f=>({chrom:s.chrom,start:f.get("start"),end:f.get("end"),name:f.get("name"),MD:f.get("MD"),cigar:f.get("cigar"),mapq:f.get("mq"),strand:f.get("strand")===1?"+":"-"})))));this.publishData(a.flat())}}}class SR extends Gs(Wi){constructor(n,r){const i={channel:"x",windowSize:3e6,debounceDomainChange:200,...n};super(r,i.channel);St(this,"lastRequestId",0);St(this,"tbiIndex");if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");this.params.debounceDomainChange>0&&(this.onDomainChanged=Eu(this.onDomainChanged.bind(this),this.params.debounceDomainChange,!1)),this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>Nx),Promise.resolve().then(()=>Q7),Promise.resolve().then(()=>$s)]).then(([{Buffer:a},{TabixIndexedFile:s},{RemoteFile:l}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=a));const f=u=>new l(Hs(u,this.view.getBaseUrl()));this.tbiIndex=new s({filehandle:f(this.params.url),tbiFilehandle:f(this.params.indexUrl??this.params.url+".tbi")}),o()})})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){await this.initializedPromise;let r=++this.lastRequestId;const i=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(n),a=await Promise.all(o.map(async s=>{const l=[];return await this.tbiIndex.getLines(s.chrom,s.startPos,s.endPos,{lineCallback:f=>{l.push(f)},signal:i.signal}),this._parseFeatures(l)}));return{requestId:r,abort:()=>i.abort(),features:a.flat()}}_parseFeatures(n){return[]}}class CR extends SR{constructor(n,r){super(n,r);ue(this,jf,void 0);Promise.resolve().then(()=>Pz).then(i=>{bn(this,jf,i.default)})}_parseFeatures(n){var i;return(i=X(this,jf))==null?void 0:i.parseStringSync(n.join(`
`),{parseSequences:!1})}}jf=new WeakMap;function TR(t,e){if(tx(t))return new hR(t,e);if(dR(t))return new pR(t,e);if(gR(t))return new mR(t,e);if(IR(t))return OR(t.lazy,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function IR(t){return"lazy"in t}function kR(t){return(t==null?void 0:t.type)=="axisTicks"}function DR(t){return(t==null?void 0:t.type)=="axisGenome"}function BR(t){return(t==null?void 0:t.type)=="indexedFasta"}function FR(t){return(t==null?void 0:t.type)=="bigwig"}function RR(t){return(t==null?void 0:t.type)=="bigbed"}function PR(t){return(t==null?void 0:t.type)=="bam"}function MR(t){return(t==null?void 0:t.type)=="gff3"}function OR(t,e){if(kR(t))return new yR(t,e);if(DR(t))return new wR(t,e);if(BR(t))return new xR(t,e);if(FR(t))return new vR(t,e);if(RR(t))return new ER(t,e);if(PR(t))return new _R(t,e);if(MR(t))return new CR(t,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function NR(t){const e=Object.keys(t).filter(r=>typeof r=="string"),n=new Function("source","return { "+e.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=e,n}class _u extends et{get behavior(){return Gn}constructor(){super();const e=n=>{const r=NR(n);this.handle=i=>this._propagate(r(i)),this.handle(n)};this.handle=e,this.beginBatch=n=>{vw(n)&&(this.handle=e),super.beginBatch(n)}}}function LR(t){return"name"in t}class nx extends Us{constructor(n,r,i){super();ue(this,qf,void 0);this.provider=i,this.params=n}get identifier(){return this.params.name}updateDynamicData(n){bn(this,qf,n),this.loadSynchronously()}loadSynchronously(){const n=X(this,qf)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=Jw(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}qf=new WeakMap;class rx{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(e,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(e)}_relayObserverCallback(e,n){const r=this._observers.get(n);if(r)for(const i of r)i(e)}addDataSource(e,n){this._dataSourcesByHost.set(n,e)}findDataSourceByKey(e){return this._dataSourcesByHost.get(e)}findNamedDataSource(e){let n,r=[];for(const[i,o]of this._dataSourcesByHost.entries())if(o instanceof nx&&e==o.identifier){if(n&&n!==o)throw new Error(`Found multiple instances of named data: ${e}. Data flow optimization is broken (it's a bug).`);n=o,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(e,n){this._collectorsByHost.set(n,e),e.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(e){return this._collectorsByHost.get(e)}initialize(){for(const e of this.dataSources)e.visit(n=>n.initialize())}}function zR(t,e){const n=new Map,r=[];for(const i of t)n.set(i,{ref:i,children:[]});for(const i of n.values()){const o=n.get(e(i.ref));o?o.children.push(i):r.push(i)}return r}function ix(t,e,n){var i,o;const r=(i=e.preOrder)==null?void 0:i.call(e,t);if(r)return r;for(const a of n(t)){const s=ix(a,e,n);if(s==="stop")return s}return(o=e.postOrder)==null?void 0:o.call(e,t)}function UR(t,e){return ix(t,e,n=>n.children)}function GR(t,e){const n=[];let r;const i=e??new rx,o=[];function a(c,h=()=>{}){if(!r)throw h()||new Error("Cannot append data flow node, no parent exist!");return r.addChild(c),r=c,c}function s(c,h){return a(c,()=>new Error(`Cannot append a transform because no (inherited) data are available! ${h?JSON.stringify(h):""}`))}function l(c,h){for(const d of c){let p;try{p=fR(d,h)}catch(b){throw console.warn(b),new Error(`Cannot initialize "${d.type}" transform: ${b}`)}p.behavior&Vr&&s(new _u),s(p)}}const f=c=>{if(n.push(r),c.spec.data){const h=LR(c.spec.data)?new nx(c.spec.data,c,c.context.getNamedDataFromProvider):TR(c.spec.data,c);r=h,i.addDataSource(h,c)}if(c.spec.transform&&l(c.spec.transform,c),c instanceof Yt){if(!r)throw new Error(`A unit view (${c.getPathString()}) has no (inherited) data source`);const h=HR(c);if(h){o.push(h.rewrite);for(const p of h.transforms)s(p)}c.mark.isPickingParticipant()&&(s(new _u),s(new Xw({type:"identifier"})));const d=new Ww({type:"collect",groupby:c.getFacetFields(),sort:VR(c,h==null?void 0:h.rewrittenEncoding)});a(d),i.addCollector(d,c)}},u=zR(t.getDescendants(),c=>c.dataParent);for(const c of u)UR(c,{preOrder:h=>f(h.ref),postOrder:()=>{r=n.pop()}});return o.forEach(c=>c()),i}function HR(t){var o;const e=[],n={},r=[];for(const[a,s]of Object.entries(t.getEncoding())){const l=a;Ss(l)&&Gb(s)&&r.push({channel:l,chromPosDef:s})}const i=fl(r,a=>Ni(a.channel),a=>a.chromPosDef.chrom);for(const[a,s]of i.entries())for(const[l,f]of s.entries()){const u=[],c=[],h=[];for(const{channel:d,chromPosDef:p}of f){const b=S=>S.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",b(p.chrom),"_",b(p.pos)].join(""),w={...((o=t.spec.encoding)==null?void 0:o[d])??t.getEncoding()[d]??{},field:y};delete w.chrom,delete w.pos,!w.type&&p.type&&(w.type=p.type),n[d]=w,u.push(p.pos),h.push(p.offset??0),c.push(y)}e.push(new _u),e.push(new Zw({type:"linearizeGenomicCoordinate",channel:a,chrom:l,pos:u,offset:h,as:c},t))}return e.length?{transforms:e,rewrittenEncoding:n,rewrite:()=>{t.spec.encoding={...t.spec.encoding,...n},pw(t.mark,"encoding")}}:void 0}function VR(t,e){var r;const n={...t.getEncoding(),...e}.x;if(Nt(n)&&(r=t.getScaleResolution("x"))!=null&&r.isZoomable()){if(Es(n))return{field:n.field};if(!_s(n))throw new Error("A zoomable x channel must be mapped to a field.")}}function ox(t,e=void 0){if(t.parent!==e)return!1;for(const n of t.children)if(!ox(n,t))return!1;return!0}function l0(t,e=!1){if(t.behavior&e0&&(e=!0),t instanceof _u)if(e)e=!1;else{const n=t.children[0];t.excise(),n&&l0(n,e);return}t.behavior&Gn&&(e=!1);for(let n=0,r=t.children.length;n<r;n++)l0(t.children[n],e||r>1)}function jR(t){const e=[...t._dataSourcesByHost.entries()],n=new Map;for(const r of e){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}t._dataSourcesByHost.clear();for(let[r,i]of e){const o=n.get(i.identifier);o&&(o.adoptChildrenOf(i),i=o),t.addDataSource(i,r)}}function qR(t){if(l0(t),!ox(t))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function WR(t){for(const e of t.dataSources)qR(e);jR(t)}function ZR(t){const e=new Set;t.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&e.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);e.add(i)}})}function $R(t){for(const e of Po){const n=t.getScaleResolution(e);n&&!n.name&&n.isZoomable()&&(n.name=`${e}_at_root`)}}async function YR(t,e,n){var a;if(!t.import.url)throw new Error("Cannot import, not an import spec: "+JSON.stringify(t));const r=vl({baseURL:e}),i=t.import.url,o=JSON.parse(await r.load(i).catch(s=>{throw new Error(`Could not load imported view spec: ${i} 
Reason: ${s.message}`)}));if(n.isViewSpec(o))return o.baseUrl=(a=i.match(/^[^?#]*\//))==null?void 0:a[0],o;throw new Error(`The imported spec "${i}" is not a view spec: ${JSON.stringify(t)}`)}function QR(t){const e=t.getSize().addPadding(t.getOverhang()),n=r=>r.grow>0?void 0:r.px;return{width:n(e.width),height:n(e.height)}}function sr(t){return()=>t}const Bn=class Bn{static create(e,n,r,i){return new Bn(sr(e),sr(n),sr(r),sr(i))}_offset(e,n){const r=this["_"+e];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(e){return this._offset(e,0)}constructor(e,n,r,i){this._x=e,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(e){return e?this===e||this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height:!1}modify(e){if(!Object.keys(e).length)return this;const n=r=>{const i=e[r];return typeof i=="number"?sr(i):typeof i=="function"?i:this._passThrough(r)};return new Bn(n("x"),n("y"),n("width"),n("height"))}translate(e,n){return e===0&&n===0?this:new Bn(this._offset("x",e),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(e){return this.translate(e.x,e.y)}expand(e,n=1){return e.left==0&&e.top==0&&e.right==0&&e.bottom==0?this:new Bn(e.left?this._offset("x",-e.left*n):this._passThrough("x"),e.top?this._offset("y",-e.top*n):this._passThrough("y"),e.width?this._offset("width",e.width*n):this._passThrough("width"),e.height?this._offset("height",e.height*n):this._passThrough("height"))}shrink(e){return this.expand(e,-1)}intersect(e){return this===e||e==null?this:new Bn(()=>Math.max(this.x,e.x),()=>Math.max(this.y,e.y),()=>Math.min(this.x2,e.x2)-Math.max(this.x,e.x),()=>Math.min(this.y2,e.y2)-Math.max(this.y,e.y))}union(e){return this===e||e==null?this:new Bn(()=>Math.min(this.x,e.x),()=>Math.min(this.y,e.y),()=>Math.max(this.x2,e.x2)-Math.min(this.x,e.x),()=>Math.max(this.y2,e.y2)-Math.min(this.y,e.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new Bn(sr(this.x),sr(this.y),sr(this.width),sr(this.height))}containsPoint(e,n){return e>=this.x&&e<this.x2&&n>=this.y&&n<this.y2}normalizePoint(e,n){return{x:(e-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};St(Bn,"ZERO",Bn.create(0,0,0,0));let fr=Bn;class ax{constructor(e){this.globalOptions=e}pushView(e,n){}popView(e){}renderMark(e,n){}}class sx extends ax{constructor(e,n){super(e),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(e,n){this.views.add(e),this.coords=n}renderMark(e,n){if(this.globalOptions.picking&&!e.isPickingParticipant())return;const r=e.render(n);r&&this.buffer.push({mark:e,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const e=this.webGLHelper.gl,n=this.globalOptions.picking;e.bindFramebuffer(e.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&e.bindFramebuffer(e.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let e=!0,n=!0;const r=a=>()=>{e&&a()},i=a=>()=>{e&&n&&a()},o=fl(this.buffer.reverse(),a=>a.mark);for(const[a,s]of[...o.entries()].reverse()){if(!a.isReady())continue;this.batch.push(()=>{e=a.unitView.getEffectiveOpacity()>0}),this.batch.push(...a.prepareRender(this.globalOptions).map(f=>r(f)));let l;for(const f of s){const u=f.coords;u.equals(l)||this.batch.push(r(()=>{n=a.setViewport(u,f.clipRect)})),this.batch.push(i(f.callback)),l=f.coords}}}}class XR extends ax{constructor(...e){super({}),this.contexts=e}pushView(e,n){for(const r of this.contexts)r.pushView(e,n)}popView(e){for(const n of this.contexts)n.popView(e)}renderMark(e,n){for(const r of this.contexts)r.renderMark(e,n)}}class KR{constructor(e,n){this.point=e,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class JR{constructor(e,n){this.x=e,this.y=n}equals(e){return e?e===this||e.x===this.x&&e.y===this.y:!1}}const eP=t=>new Promise(e=>setTimeout(e,t));function tP(t){const e=t.requestAnimationFrame||window.requestAnimationFrame,n=t.signal,r=()=>new Promise((i,o)=>{if(n!=null&&n.aborted)return o("aborted");const a=performance.now(),s=a+(t.duration||1e3),l=typeof t.from=="number"?t.from:0,f=typeof t.to=="number"?t.to:1,u=t.easingFunction||(b=>b),c=b=>(b-a)/(s-a),h=b=>b*(f-l)+l,d=b=>Math.max(0,Math.min(1,b)),p=b=>{n!=null&&n.aborted?o("aborted"):(t.onUpdate(h(u(d(c(b))))),b<s?e(p):(t.onUpdate(h(u(1))),i()))};e(p)});return t.delay?n!=null&&n.aborted?Promise.reject("aborted"):eP(t.delay).then(r):r()}class nP{constructor(e){this._renderCallback=e,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(e){this.cancelTransition(e),this.transitions.push(e),this.requestRender()}cancelTransition(e){const n=this.transitions.indexOf(e);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(e=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(e);this._renderCallback(e)}))}transition(e){return tP({requestAnimationFrame:n=>this.requestTransition(n),...e})}}class rP{constructor(e){this.genomes=new Map,this.baseUrl=e}async initialize(e){const n=new SF(e);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(e){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(e){const n=this.genomes.get(e);if(!n)throw new Error(`No genome with the name ${e} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const iP="data:image/png;base64,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",oP={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class aP{constructor(e){this._webGLHelper=e,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new yi([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:Qd($w),texture:e?this._createTextureNow(iP):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(e,n="normal",r="regular"){if(Ye(r)&&(r=oP[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:e,style:n,weight:r};let o=this._fonts.get(i);return o||(o={metrics:void 0,texture:void 0},this._fonts.set(i,o),this._promises.push(this._loadFontEntry(o,i))),o}async _loadFontEntry(e,n){try{const r=await this._loadMetadata(n.family),i=fP(r,n),o=this.fontRepository+fx(n.family)+"/"+i.replace(/\.\w+/,""),a=this._createTexture(o+".png"),s=this._loadFont(o+".json");e.texture=await a,e.metrics=await s}catch(r){console.log("Cannot load font. Using default.",r),e.metrics=this._defaultFontEntry.metrics,e.texture=this._defaultFontEntry.texture}}_loadFont(e){let n=this._fontPromises.get(e);return n||(n=fetch(e).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>Qd(r)),this._fontPromises.set(e,n)),n}_loadMetadata(e){const n=fx(e);let r=this._metadataPromises.get(n);return r||(r=fetch(this.fontRepository+n+"/METADATA.pb").then(i=>{if(!i.ok)throw new Error("Could not load font metadata: "+i.status);return i}).then(i=>i.text()).then(i=>sP(i)).catch(i=>{console.warn(i)}),this._metadataPromises.set(n,r)),r}getDefaultFont(){return this._defaultFontEntry}_createTexture(e){const n=this._webGLHelper.gl;return new Promise((r,i)=>{Fs(n,{src:e,min:n.LINEAR},(o,a,s)=>{o?i(o):r(a)})})}_createTextureNow(e){const n=this._webGLHelper.gl;let r;const i=new Promise((o,a)=>{r=Fs(n,{src:e,min:n.LINEAR},(s,l,f)=>{s?a(s):o(l)})});return this._promises.push(i),r}}function fx(t){return t.toLowerCase().replaceAll(/[^\w]/g,"")}function sP(t){const e=t.split(`
`),n=[];let r;for(const i of e)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let o=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(o){const a=o[1];r[a]=o[2]}if(o=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),o){const a=o[1];r[a]=+o[2]}}return n}function fP(t,e){let n,r=Number.POSITIVE_INFINITY;for(const i of t)if(e.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&e.style==i.style){const o=Math.abs(e.weight-i.weight);o<r&&(r=o,n=i)}return n==null?void 0:n.filename}function lP(t,e){const n=[];let r;for(const i of t.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class uP{constructor(e,n){this.animator=e,this.disabled=!!n,this.damping=.015,this.acceleration=.3,this.accelerationThreshold=100,this.lowerLimit=.5,this.loop=!1,this.momentum=0,this.timestamp=0,this.callback=null,this._transitionCallback=this.animate.bind(this),this.clear()}clear(){this.momentum=0,this.timestamp=null,this.loop=null,this.callback=null}cancel(){this.loop&&(this.animator.cancelTransition(this._transitionCallback),this.clear())}setMomentum(e,n){if(this.disabled){n(e);return}e*this.momentum<0?this.momentum=0:Math.abs(e)>this.accelerationThreshold?this.momentum=PS([this.momentum,e],this.acceleration):this.momentum=e,this.callback=n,this.loop||this.animate()}animate(e){this.callback(this.momentum);const n=e-this.timestamp||0;this.timestamp=e;const r=Math.abs(this.momentum);this.momentum=Math.sign(this.momentum)*Math.max(0,r-((r*this.damping)**1.5+.04)*n),Math.abs(this.momentum)>this.lowerLimit?(this.loop=!0,this.animator.requestTransition(this._transitionCallback)):this.clear()}}function cP(t){const e={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in t){const o=i;!r.includes(i)&&n.includes(typeof t[o])&&(e[o]=t[o])}return e}const lx=new Map;async function hP(t,e,n){const r=t.symbol;let i=lx.get(r)??await gP(t.symbol);return i?(lx.set(r,i),wn`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function dP(t){console.log("Searching: "+t);const e={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${t}[GENE]&sort=relevance&retmode=json`,e).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,e).then(a=>a.json())).result[r]:null}const pP=Eu(dP,500);function gP(t){return pP(t)}const mP=pt(".4~r"),bP=pt(".4~e");function ux(t){return t==null?wn` <span class="na">NA</span> `:Ye(t)?t.substring(0,30):Number.isInteger(t)?""+t:Ft(t)?Math.abs(t)>Math.pow(10,8)||Math.abs(t)<Math.pow(10,-8)?bP(t):mP(t):rl(t)?t?"True":"False":qt(t)?wn`${t.map((e,n)=>[ux(e),n<t.length-1?", ":Xe])}`:"?"+typeof t+" "+t}async function yP(t,e,n){const r=(l,f)=>{var u;for(const[c,h]of Object.entries(e.encoders))if((u=h==null?void 0:h.accessor)!=null&&u.fields.includes(l))switch(c){case"color":case"fill":case"stroke":return wn`
                            <span
                                class="color-legend"
                                style=${`background-color: ${h(f)}`}
                            ></span>
                        `}return""},i=Object.entries(t).filter(([l,f])=>!l.startsWith("_"));if(i.length===0)return;const o=wn`
        <table class="attributes">
            ${i.map(([l,f])=>wn`
                    <tr>
                        <th>${l}</th>
                        <td>${ux(f)} ${r(l,t)}</td>
                    </tr>
                `)}
        </table>
    `,a=e.unitView.getTitleText(),s=a?wn`
              <div class="title">
                  <strong>${a}</strong>
              </div>
          `:"";return wn`${s}${o}`}class Vs extends qi{constructor(n,r,i,o,a,s){super(n,r,i,o,a,s);ue(this,yr,[]);this.spec=n,this.needsAxes={x:!0,y:!0}}async initializeChildren(){bn(this,yr,await Promise.all(this.spec.layer.map((n,r)=>this.context.createOrImportView(n,this,this,"grid"+r,i=>{if(!g0(i)&&!p0(i))throw new ji("LayerView accepts only unit or layer specs as children!",this)}))))}get children(){return X(this,yr).slice()}*[Symbol.iterator](){for(const n of X(this,yr))yield n}render(n,r,i={}){if(this.isConfiguredVisible()){n.pushView(this,r);for(const o of X(this,yr))o.render(n,r,i);n.popView(this)}}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0);for(let r=X(this,yr).length-1;r>=0;r--)if(X(this,yr)[r].propagateInteractionEvent(n),n.stopped)return;this.handleInteractionEvent(void 0,n,!1)}}yr=new WeakMap;class cx{constructor(e,n){this.n=e,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const o=[];e.push(o);for(let a=0;a<n;a++){const s=i*n+a;s<this.n&&o.push(s)}}return e}get colIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const o=[];e.push(o);for(let a=0;a<r;a++){const s=a*n+i;s<this.n&&o.push(s)}}return e}getCellIndex(e,n){let r=0;if(this.maxCols==1/0)r=n==0?e:void 0;else{if(e>=this.maxCols)return;r=n*this.nCols+e}return r<this.n?r:void 0}getCellCoords(e){if(!(e<0||e>=this.n))return[e%this.nCols,Math.floor(e/this.nCols)]}}const wP="chromosome_ticks_and_labels",xP={x:"width",y:"height"};function u0(t){return t=="x"?"y":"x"}const Su={x:["bottom","top"],y:["left","right"]},c0=Object.fromEntries(Object.entries(Su).map(([t,e])=>e.map(n=>[n,t])).flat(1));function qr(t){return c0[t]}class hx extends Vs{constructor(e,n,r,i,o,a){const s=n=="locus",l={...s?AP:dx,...vP(n,e),...e};super(s?EP(l,n):px(l,n),r,i,o,`axis_${e.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...a}),this.axisProps=l}getSize(){const e={px:this.getPerpendicularSize()},n={grow:1};return c0[this.axisProps.orient]=="x"?new jr(n,e):new jr(e,n)}getPerpendicularSize(){return h0(this.axisProps)}isPickingSupported(){return!1}}function h0(t){const e=qr(t.orient);let n=t.ticks&&t.tickSize||0;return t.labels&&(n+=t.labelPadding,e=="x"?n+=t.labelFontSize:n+=30),t.title&&(n+=t.titlePadding+t.titleFontSize),n=Math.min(t.maxExtent||1/0,Math.max(t.minExtent||0,n)),n}const dx={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function vP(t,e){const n=e.orient,r=t=="nominal"||t=="ordinal";let i="center",o="middle",a=e.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(a)>30?(i=a>0==(n=="bottom")?"left":"right",o="middle"):o=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:a,labelBaseline:o}}function px(t,e){const n={...t,extent:h0(t)},r=qr(n.orient),i=u0(r),o=n.orient=="bottom"||n.orient=="right"?1:-1,a=n.orient=="bottom"||n.orient=="left"?1:0,s=()=>({name:"domain",data:{values:[0]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:a,size:n.domainWidth}}),l=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*o,[i]:a,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:e},text:{field:"label"}}}),f=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:a},[i+"2"]:{value:a-n.tickSize/n.extent*(a?1:-1)}}}),u=()=>({name:"title",data:{values:[0]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-a}}),c=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:e}},layer:[]};return n.ticks&&d.layer.push(f()),n.labels&&d.layer.push(l()),d},h={resolve:{scale:{[r]:"forced"}},[xP[u0(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:t}},layer:[]};return n.domain&&h.layer.push(s()),(n.ticks||n.labels)&&h.layer.push(c()),n.title&&h.layer.push(u()),h}const AP={...dx,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function EP(t,e){const n={...t,extent:h0(t)},r=qr(n.orient),i=u0(r),o=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:t.chromTickDash,strokeDashOffset:t.chromTickDashOffset,[i]:o,[i+"2"]:o-n.chromTickSize/n.extent*(o?1:-1),color:t.chromTickColor,size:n.chromTickWidth}}),s=()=>{let u;switch(n.orient){case"top":u={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":u={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":u={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":u={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:u={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:t.chromLabelAlign,baseline:"alphabetic",clip:!1,...u},encoding:{[r+"2"]:{field:"continuousEnd",type:e},text:{field:"name"}}}};let l;switch(n.orient){case"bottom":case"top":l={};break;case"left":l={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":l={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:l={}}const f=px({...t,...l},e);if(t.chromTicks||t.chromLabels){const u={name:wP,data:{lazy:{type:"axisGenome",channel:qr(n.orient)}},encoding:{[r]:{field:"continuousStart",type:e,band:0}},layer:[]};if(t.chromTicks&&u.layer.push(a()),t.chromLabels){u.layer.push(s());let c;f.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{c=d.mark})),c&&(n.orient=="top"||n.orient=="bottom"?(c.viewportEdgeFadeWidthLeft=30,c.viewportEdgeFadeDistanceLeft=40):(c.viewportEdgeFadeWidthBottom=30,c.viewportEdgeFadeDistanceBottom=40))}f.layer.push(u)}return f}class _P extends Vs{constructor(e,n,r,i,o,a){const l={...n=="locus"?SP:gx,...e};super(kP(l,n),r,i,o,`axisGrid_${e.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...a}),this.axisProps=l}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const gx={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},SP={...gx,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function CP(t,e){const n=t,r=qr(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:t}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:e}}}}function TP(t,e){const n=t,r=qr(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:e,band:0}}}}function IP(t,e){const n=t,r=qr(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:e,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function kP(t,e){const n={...t},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(IP(n,e)),n.chromGrid&&n.chromGridOpacity>0&&r.push(TP(n,e)),n.grid&&n.gridOpacity>0&&r.push(CP(n,e)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[qr(t.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const mx={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},DP={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},BP={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},FP={start:0,middle:.5,end:1},RP={start:"left",middle:"center",end:"right"};function PP(t){if(!t)return;const e=Ye(t)?{text:t}:t;if(!e.text||e.orient=="none")return;const n={"track-title":DP,overlay:BP}[e.style]??{},r={...mx,...n,...e};let i={},o={x:0,y:0};const a=FP[r.anchor??"middle"];switch(r.orient){case"top":o={x:a,y:1},i={baseline:"alphabetic",angle:0};break;case"right":o={x:1,y:1-a},i={baseline:"alphabetic",angle:90};break;case"bottom":o={x:a,y:0},i={baseline:"top",angle:0};break;case"left":o={x:0,y:a},i={baseline:"alphabetic",angle:-90};break}const s={...mx,...i,...n,...e},l={xOffset:0,yOffset:0};switch(r.orient){case"top":l.yOffset=-s.offset;break;case"right":l.xOffset=s.offset;break;case"bottom":l.yOffset=s.offset;break;case"left":l.xOffset=-s.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...o,...l,text:s.text,align:s.align??RP[s.anchor],angle:s.angle,baseline:s.baseline,dx:s.dx,dy:s.dy,color:s.color,font:s.font,size:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight}}}function MP(t,e,n,r){if(t.type=="wheel"){t.uiEvent.preventDefault();const i=t.uiEvent,o=i.deltaMode?120:1;let{x:a,y:s}=t.point;if(r){const l=r.mark.encoders;l.x&&!l.x2&&!l.x.constantValue&&(a=+l.x(r.datum)*e.width+e.x),l.y&&!l.y2&&!l.y.constantValue&&(s=(1-+l.y(r.datum))*e.height+e.y)}Math.abs(i.deltaX)<Math.abs(i.deltaY)?n({x:a,y:s,xDelta:0,yDelta:0,zDelta:i.deltaY*o/300}):n({x:a,y:s,xDelta:-i.deltaX*o,yDelta:0,zDelta:0})}else if(t.type=="mousedown"&&t.uiEvent.button===0){const i=t.uiEvent;i.preventDefault();let o=i;const a=l=>{n({x:o.clientX,y:o.clientY,xDelta:l.clientX-o.clientX,yDelta:l.clientY-o.clientY,zDelta:0}),o=l},s=l=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s)};document.addEventListener("mouseup",s,!1),document.addEventListener("mousemove",a,!1)}}class OP extends qi{constructor(n,r,i,o,a,s,l){super(n,r,i,o,a,l);ue(this,wr);ue(this,Dc);ue(this,bo);ue(this,Wf);ue(this,Zf);ue(this,$f);ue(this,Bc);ue(this,Ra);ue(this,Fc);ue(this,Da,1/0);ue(this,Ba,10);ue(this,Jt,[]);ue(this,mo,{});ue(this,Fa,0);this.spec=n,bn(this,Ba,n.spacing??10),bn(this,Da,s),bn(this,Jt,[]),this.wrappingFacet=!1}appendChild(n){n.layoutParent??(n.layoutParent=this),X(this,Jt).push(new yx(n,this,X(this,Fa))),lS(this,Fa)._++}setChildren(n){bn(this,Jt,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=X(this,Jt).findIndex(o=>o.view==n);if(i>=0)X(this,Jt)[i]=new yx(r,this,X(this,Fa));else throw new Error("Not my child view!")}get children(){return X(this,Jt).map(n=>n.view)}get childCount(){return X(this,Jt).length}async createAxes(){const n=[];for(const r of Po){const i=this.resolutions.axis[r];if(i){const o=i.getAxisProps();if(o){const a={title:i.getTitle(),orient:Su[r][0],...o},s=new hx(a,i.scaleResolution.type,this.context,this,this);n.push(s.initializeChildren()),X(this,mo)[r]=s}}}return Promise.all([...n,...X(this,Jt).map(r=>r.createAxes())])}*[Symbol.iterator](){for(const n of X(this,Jt))yield*n.getChildren();for(const n of Object.values(X(this,mo)))yield n}getOverhang(){return ie(this,Bc,dS).call(this).union(ie(this,Ra,Nc).call(this))}getSize(){return this._cache("size",()=>new jr(ie(this,Zf,Ug).call(this,"column"),ie(this,Zf,Ug).call(this,"row")).addPadding(ie(this,Ra,Nc).call(this)))}render(n,r,i={}){if(!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(ie(this,Ra,Nc).call(this)),n.pushView(this,r);const o={devicePixelRatio:this.context.devicePixelRatio},a=Ew(ie(this,Wf,zg).call(this,"column"),r.width,o),s=Ew(ie(this,Wf,zg).call(this,"row"),r.height,o),l=new cx(X(this,wr,wo).length,X(this,Da)??1/0),f=u=>Math.round(u*devicePixelRatio)/devicePixelRatio;for(const[u,c]of X(this,wr,wo).entries()){const{view:h,axes:d,gridLines:p,background:b,backgroundStroke:y,title:w}=c,[S,C]=l.getCellCoords(u),_=a[ie(this,$f,Gg).call(this,"column",S)],k=s[ie(this,$f,Gg).call(this,"row",C)],D=h.getViewportSize(),I=h.getSize(),R=h.getOverhang(),M=_.location-R.left,j=k.location-R.top,L=(Ne,O)=>(Ne[O].grow?(O=="width"?_:k).size:Ne[O].px)+R[O],ne=L(D,"width"),ae=L(D,"height"),de=L(I,"width"),ke=L(I,"height"),Qe=c.scrollbars.horizontal,Be=c.scrollbars.vertical,Ke=Qe?()=>f(Qe.viewportOffset):()=>0,qe=Be?()=>f(Be.viewportOffset):()=>0,Je=new fr(()=>r.x+M,()=>r.y+j,()=>ne,()=>ae),Ee=h.isScrollable(),_e=Ee?new fr(()=>r.x+M-Ke(),()=>r.y+j-qe(),()=>de,()=>ke):Je;c.coords=Je;const dt=i.clipRect?Je.intersect(i.clipRect):Je;b==null||b.render(n,dt,{...i,clipRect:void 0});for(const Ne of Object.values(p))Ne.render(n,Je,i);const Ht=UP(h)||Ee;Ht&&h.render(n,_e,{...i,clipRect:dt}),y==null||y.render(n,dt,{...i,clipRect:void 0});for(const[Ne,O]of Object.entries(d)){const P=Ne=="left"||Ne=="right"?"vertical":"horizontal",q=c.scrollbars[P],H=q?Je.modify(P=="vertical"?{y:()=>_e.y,height:ke}:{x:()=>_e.x,width:de}):Je,Z=bx(H,Ne,O);let E=i.clipRect;q&&(E=Z.intersect(E).intersect(q?Je.modify(P=="vertical"?{x:-1e5,width:2e5}:{y:-1e5,height:2e5}):void 0)),O.render(n,Z,{...i,clipRect:E})}for(const Ne of Object.values(X(this,mo))){const P=Ne.axisProps.orient;(P=="left"&&S==0||P=="right"&&S==l.nCols-1||P=="top"&&C==0||P=="bottom"&&C==l.nRows-1)&&Ne.render(n,bx(Je.shrink(c.view.getOverhang()),P,Ne),i)}Ht||h.render(n,_e,i);for(const Ne of Object.values(c.scrollbars))Ne.updateScrollbar(Je,_e),Ne.render(n,r,i);w==null||w.render(n,Je,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=X(this,wr,wo).find(o=>o.coords.containsPoint(n.point.x,n.point.y));for(const o of Object.values((r==null?void 0:r.scrollbars)??{}))if(o.coords.containsPoint(n.point.x,n.point.y)&&(o.propagateInteractionEvent(n),n.stopped))return;const i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof Yt||i instanceof Vs)&&MP(n,r.coords,o=>ie(this,Fc,pS).call(this,r.coords,r.view,o),this.context.getCurrentHover())),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}Da=new WeakMap,Ba=new WeakMap,Jt=new WeakMap,mo=new WeakMap,Fa=new WeakMap,wr=new WeakSet,wo=function(){return X(this,Jt).filter(n=>n.view.isConfiguredVisible())},Dc=new WeakSet,hS=function(){return new cx(X(this,wr,wo).length,X(this,Da)??1/0)},bo=new WeakSet,Xf=function(n){const r=n=="column"?"width":"height",i=(o,a)=>o.map(s=>{const f=X(this,wr,wo)[s].getOverhangAndPadding();return n=="column"?a?f.right:f.left:a?f.bottom:f.top}).reduce((s,l)=>Math.max(s,l),0);return this._cache(`size/directionSizes/${n}`,()=>X(this,Dc,hS)[n=="column"?"colIndices":"rowIndices"].map(o=>({axisBefore:i(o,0),axisAfter:i(o,1),view:qB(o.map(a=>X(this,wr,wo)[a].view.getViewportSize()[r]))})))},Wf=new WeakSet,zg=function(n){const r=ie(this,bo,Xf).call(this,n),i=[];i.push(Ns);for(const[o,a]of r.entries())o>0&&i.push({px:X(this,Ba),grow:0}),(o==0||this.wrappingFacet)&&i.push(Ns),i.push({px:a.axisBefore,grow:0}),i.push(a.view),i.push({px:a.axisAfter,grow:0}),(o==r.length-1||this.wrappingFacet)&&i.push(Ns);return i},Zf=new WeakSet,Ug=function(n){let r=0,i=0;const o=n=="row"?this.spec.height:this.spec.width;if(o||o===0)return Sw(o);const a=ie(this,bo,Xf).call(this,n);for(const[s,l]of a.entries())s>0&&(i+=X(this,Ba)),(s==0||this.wrappingFacet)&&(i+=0),i+=l.axisBefore,i+=l.view.px??0,r+=l.view.grow??0,i+=l.axisAfter,(s==a.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},$f=new WeakSet,Gg=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},Bc=new WeakSet,dS=function(){const n=ie(this,bo,Xf).call(this,"column"),r=ie(this,bo,Xf).call(this,"row");return!n.length||!r.length?Et.zero():new Et(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},Ra=new WeakSet,Nc=function(){const n=r=>{const i=c0[r],o=X(this,mo)[i];return(o==null?void 0:o.axisProps.orient)!==r?0:Math.max(o.getPerpendicularSize()+o.axisProps.offset,0)};return new Et(n("top"),n("right"),n("bottom"),n("left"))},Fc=new WeakSet,pS=function(n,r,i){for(const[o,a]of Object.entries(zP(r))){if(a.size<=0)continue;const s=n.normalizePoint(i.x,i.y),l=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),f={x:l.x-s.x,y:l.y-s.y};for(const u of a)u.zoom(2**i.zDelta,o=="y"?1-s[o]:s[o],o=="x"?f.x:-f.y)}this.context.animator.requestRender()};function NP(t){if(!(!t||!t.fill||t.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:t.fill,opacity:t.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function LP(t){if(!(!t||!t.stroke||t.strokeWidth===0||t.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:t.strokeWidth??1,color:t.stroke??"lightgray",strokeCap:"square",strokeOpacity:t.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function zP(t){const e={x:new Set,y:new Set};return t.visit(n=>{for(const[r,i]of Object.entries(e)){const o=n.getScaleResolution(r);o&&o.isZoomable()&&i.add(o)}}),e}function UP(t){let e=!0;return t.visit(n=>{n instanceof Yt&&e&&(e=n.mark.properties.clip===!0)}),e}function bx(t,e,n){const r=n.axisProps,i=n.getPerpendicularSize();if(e=="bottom")return t.translate(0,t.height+r.offset).modify({height:i});if(e=="top")return t.translate(0,-i-r.offset).modify({height:i});if(e=="left")return t.translate(-i-r.offset,0).modify({width:i});if(e=="right")return t.translate(t.width+r.offset,0).modify({width:i})}class yx{constructor(e,n,r){if(this.layoutParent=n,this.view=e,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.scrollbars={},this.title=void 0,this.coords=fr.ZERO,e.needsAxes.x||e.needsAxes.y){const i=e.spec,o="view"in i?i==null?void 0:i.view:void 0,a=NP(o);a&&(this.background=new Yt(a,n.context,n,e,"background"+r,{blockEncodingInheritance:!0}));const s=LP(o);s&&(this.backgroundStroke=new Yt(s,n.context,n,e,"backgroundStroke"+r,{blockEncodingInheritance:!0}));const l=PP(e.spec.title);if(l){const f=new Yt(l,n.context,n,e,"title"+r,{blockEncodingInheritance:!0});this.title=f}}e.spec.viewportWidth!=null&&(this.scrollbars.horizontal=new wx(this,"horizontal")),e.spec.viewportHeight!=null&&(this.scrollbars.vertical=new wx(this,"vertical"))}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view,yield*Object.values(this.scrollbars)}async createAxes(){const{view:e,axes:n,gridLines:r}=this,i=(s,l)=>{const f=s.getAxisProps();if(f===null)return;const u=f?{...f}:{};if(!u.orient){for(const c of Su[l])if(!n[c]){u.orient=c;break}if(!u.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(u.title??(u.title=s.getTitle()),!Su[l].includes(u.orient))throw new Error(`Invalid axis orientation "${u.orient}" on channel "${l}"!`);return u},o=async(s,l,f)=>{const u=i(s,l);if(u){if(n[u.orient])throw new Error(`An axis with the orient "${u.orient}" already exists!`);const c=new hx(u,s.scaleResolution.type,this.layoutParent.context,this.layoutParent,f);n[u.orient]=c,await c.initializeChildren()}},a=async(s,l,f)=>{const u=i(s,l);if(u&&(u.grid||u.chromGrid)){const c=new _P(u,s.scaleResolution.type,this.layoutParent.context,this.layoutParent,f);r[u.orient]=c,await c.initializeChildren()}};for(const s of["x","y"])if(e.needsAxes[s]){const l=e.resolutions.axis[s];if(!l)continue;await o(l,s,e)}for(const s of["x","y"])if(e.needsAxes[s]){const l=e.getAxisResolution(s);if(!l)continue;await a(l,s,e)}if(e instanceof Vs){for(const s of e)for(const[l,f]of Object.entries(s.resolutions.axis)){const u=f.getAxisProps();u&&u.orient&&await o(f,l,s)}for(const s of e)for(const[l,f]of Object.entries(s.resolutions.axis)){const u=f.getAxisProps();u&&!u.orient&&await o(f,l,s)}}[...Object.values(n),...Object.values(r)].forEach(s=>s.visit(l=>{l instanceof Yt&&l.resolve("scale")}))}getOverhang(){const e=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+r.axisProps.offset,0):0};return new Et(e("top"),e("right"),e("bottom"),e("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class wx extends Yt{constructor(e,n){const r={scrollbarSize:8,scrollbarPadding:2};super({data:{values:[{}]},mark:{type:"rect",fill:"#b0b0b0",fillOpacity:.6,stroke:"white",strokeWidth:1,strokeOpacity:1,cornerRadius:5,clip:!1},configurableVisibility:!1},e.layoutParent.context,e.layoutParent,e.view,"scrollbar-"+n,{blockEncodingInheritance:!0}),this.config=r,this.scrollDirection=n,this.viewportOffset=0,this.maxScrollOffset=0,this.scrollbarCoords=fr.ZERO,this.addInteractionEventListener("mousedown",(i,o)=>{if(o.stopPropagation(),this.maxScrollOffset<=0)return;const a=h=>n=="vertical"?h.clientY:h.clientX,s=o.uiEvent;s.preventDefault();const l=this.getScrollOffset(),f=a(s),u=h=>{const d=Xd(a(h)-f+l,0,this.maxScrollOffset);this.viewportOffset=d/this.maxScrollOffset*this.maxViewportOffset,this.context.animator.requestRender()},c=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)};document.addEventListener("mouseup",c,!1),document.addEventListener("mousemove",u,!1)})}getScrollOffset(){return this.viewportOffset/this.maxViewportOffset*this.maxScrollOffset}render(e,n,r){super.render(e,this.scrollbarCoords,r)}updateScrollbar(e,n){const r=this.config.scrollbarPadding,i=this.config.scrollbarSize,o=this.scrollDirection=="horizontal"?"width":"height",a=Math.min(1,e[o]/n[o]),s=e[o]-2*r,l=a*s;this.maxScrollOffset=s-l,this.maxViewportOffset=n[o]-e[o],this.viewportOffset=Xd(this.viewportOffset,0,this.maxViewportOffset),this.scrollbarCoords=this.scrollDirection=="vertical"?new fr(()=>e.x+e.width-i-r,()=>e.y+r+this.getScrollOffset(),()=>i,()=>l):new fr(()=>e.x+r+this.getScrollOffset(),()=>e.y+e.height-i-r,()=>l,()=>i)}}class d0 extends OP{constructor(e,n,r,i,o){super(e,n,r,i,o,m0(e)?e.columns:Cu(e)?1:1/0),this.spec=e}async initializeChildren(){const e=this.spec,n=m0(e)?e.concat:Cu(e)?e.vconcat:e.hconcat;this.setChildren(await Promise.all(n.map((r,i)=>this.context.createOrImportView(r,this,this,"grid"+i)))),await this.createAxes()}getDefaultResolution(e,n){return n=="axis"?"independent":Cu(this.spec)&&e==="x"||vx(this.spec)&&e==="y"?"shared":"independent"}}const xx="viewRoot";class GP{constructor(e={}){ue(this,Pa,new Map);this.options={allowImport:!0,wrapRoot:!0,...e};const n=r=>(i,o,a,s,l)=>new r(i,o,a,s,i.name??l);this.addViewType(g0,n(Vs)),this.addViewType(p0,n(Yt)),this.addViewType(Cu,n(d0)),this.addViewType(vx,n(d0)),this.addViewType(m0,n(d0)),this.addViewType(VP,()=>{throw new Error("SampleView is not supported by the @genome-spy/core package. Use @genome-spy/app instead!")})}addViewType(e,n){X(this,Pa).set(e,n)}createView(e,n,r,i,o){for(const[a,s]of X(this,Pa))if(a(e))return s(e,n,r,i,o);throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(e)]))}isViewSpec(e){const n=[...X(this,Pa).keys()].filter(r=>r(e));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}async createOrImportView(e,n,r,i,o,a){let s;if(HP(e))if(this.options.allowImport)s=await YR(e,i.getBaseUrl(),n),a&&a(s);else throw new ji("Importing views is not allowed!",r);else s=e;!i&&this.options.wrapRoot&&(p0(s)||g0(s))&&o===xx&&(s={name:"implicitRoot",vconcat:[s]});const l=this.createView(s,n,r,i,o);return l instanceof qi&&await l.initializeChildren(),l}}Pa=new WeakMap;function p0(t){return"mark"in t&&(Ye(t.mark)||Wt(t.mark))}function g0(t){return"layer"in t&&Wt(t.layer)}function HP(t){return"import"in t}function Cu(t){return"vconcat"in t&&qt(t.vconcat)}function vx(t){return"hconcat"in t&&qt(t.hconcat)}function m0(t){return"concat"in t&&qt(t.concat)}function VP(t){return"samples"in t&&Wt(t.samples)&&"spec"in t&&Wt(t.spec)}Qm("fasta",lP);class jP{constructor(e,n,r={}){this.container=e;const i=document.createElement("style");i.innerHTML=h8,e.appendChild(i),this.spec=n,this.accessorFactory=new JT,this.viewFactory=new GP,this.namedDataProviders=[],this.animator=new nP(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=o=>o.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new uP(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:yP,refseqgene:hP,...r.tooltipHandlers??{}},this.viewRoot=void 0}registerNamedDataProvider(e){this.namedDataProviders.unshift(e)}getNamedDataFromProvider(e){for(const n of this.namedDataProviders){const r=n(e);if(r)return r}}updateNamedData(e,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(e);if(!r)throw new Error("No such named data source: "+e);r.dataSource.updateDynamicData(n),a0(r.hosts),this.animator.requestRender()}broadcast(e,n){var i;const r={type:e,payload:n};this.viewRoot.visit(o=>o.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(e))==null||i.forEach(o=>o(r))}_prepareContainer(){this.container.classList.add("genome-spy"),this.container.classList.add("loading"),this._glHelper=new gB(this.container,()=>this.viewRoot?QR(this.viewRoot):{width:void 0,height:void 0},this.spec.background),this.loadingMessageElement=document.createElement("div"),this.loadingMessageElement.className="loading-message",this.loadingMessageElement.innerHTML='<div class="message">Loading<span class="ellipsis">...</span></div>',this.container.appendChild(this.loadingMessageElement),this.tooltip=new p8(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})}destroy(){this.container.classList.remove("genome-spy"),this.container.classList.remove("loading");for(const[e,n]of this._keyboardListeners)for(const r of n)document.removeEventListener(e,r);for(this._glHelper.finalize();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new rP(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const e=this,n={dataFlow:new rx,accessorFactory:this.accessorFactory,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new aP(this._glHelper),get devicePixelRatio(){return e._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,addKeyboardListener:(l,f)=>{document.addEventListener(l,f);let u=this._keyboardListeners.get(l);u||(u=[],this._keyboardListeners.set(l,u)),u.push(f)},addBroadcastListener(l,f){const u=e._extraBroadcastListeners;let c=u.get(l);c||(c=new Set,u.set(l,c)),c.add(f)},removeBroadcastListener(l,f){var c;(c=e._extraBroadcastListeners.get(l))==null||c.delete(f)},isViewConfiguredVisible:e.viewVisibilityPredicate,isViewSpec:l=>e.viewFactory.isViewSpec(l),createView:function(l,f,u,c){return e.viewFactory.createView(l,n,f,u,c)},createOrImportView:async function(l,f,u,c,h){return e.viewFactory.createOrImportView(l,n,f,u,c,h)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(l=>r.datasets[l]),this.viewRoot=await n.createOrImportView(r,null,null,xx),ZR(this.viewRoot),$R(this.viewRoot);const i=this.viewRoot.getDescendants();i.forEach(l=>l.configureViewOpacity()),this._glHelper.invalidateSize();const o=i.filter(l=>l instanceof Yt),a=GR(this.viewRoot,n.dataFlow);WR(a),this.broadcast("dataFlowBuilt",a),o.forEach(l=>l.mark.initializeEncoders());const s=Promise.all(o.map(l=>l.mark.initializeGraphics()));for(const l of o)a.addObserver(f=>{l.mark.initializeData(),l.mark.updateGraphicsData()},l);await n.fontManager.waitUntilReady(),a.initialize(),await Promise.all(a.dataSources.map(l=>l.load())),a0(this.viewRoot),this.broadcast("dataLoaded"),await s,this.viewRoot.visit(l=>{for(const f of Object.values(l.resolutions.scale))this._glHelper.createRangeTexture(f)});for(const l of o)l.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(l=>yu(l,"size")),this._glHelper.invalidateSize()}async launch(){try{return this._prepareContainer(),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),this._glHelper.addEventListener("resize",()=>{this.computeLayout(),this.renderAll()}),!0}catch(e){const n=`${e.view?`At "${e.view.getPathString()}": `:""}${e.toString()}`;return console.error(e.stack),qP(this.container,n),!1}finally{this.container.classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const e=this._glHelper.canvas,n=r=>{var i;if(r instanceof MouseEvent){r.type=="mousemove"&&(this.tooltip.handleMouseMove(r),this._tooltipUpdateRequested=!1,r.buttons==0&&this.renderPickingFramebuffer());const o=e.getBoundingClientRect(),a=new JR(r.clientX-o.left-e.clientLeft,r.clientY-o.top-e.clientTop),s=l=>{this.viewRoot.propagateInteractionEvent(new KR(a,l)),this._tooltipUpdateRequested||this.tooltip.clear()};if(r.type!="wheel"&&this._wheelInertia.cancel(),r.type=="mousemove")this._handlePicking(a.x,a.y);else if(r.type=="mousedown"||r.type=="mouseup")this.renderPickingFramebuffer();else if(r.type=="wheel"){this._tooltipUpdateRequested=!1;const l=r;if(Math.abs(l.deltaX)>Math.abs(l.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const f=cP(l);this._wheelInertia.setMomentum(l.deltaY*(l.deltaMode?80:1),u=>{const c=new WheelEvent("wheel",{...f,deltaMode:0,deltaX:0,deltaY:u});s(c)}),l.preventDefault();return}}if(r.type=="click"){const l=this._currentHover?{type:r.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(f=>f.name).reverse(),datum:this._currentHover.datum}:{type:r.type,viewPath:null,datum:null};(i=this._eventListeners.get("click"))==null||i.forEach(f=>f(l))}s(r)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(r=>e.addEventListener(r,n)),e.addEventListener("mousedown",()=>{document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),e.addEventListener("dragstart",r=>r.stopPropagation())}_handlePicking(e,n){var o;const r=this._glHelper.readPickingPixel(e,n),i=r[0]|r[1]<<8|r[2]<<16;if(i==0){this._currentHover=null;return}if(i!==((o=this._currentHover)==null?void 0:o.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(a=>{if(a instanceof Yt){if(a.mark.isPickingParticipant()){const s=a.mark.encoders.uniqueId.accessor;a.getCollector().visitData(l=>{s(l)==i&&(this._currentHover={mark:a.mark,datum:l,uniqueId:i})})}if(this._currentHover)return Ls}}),this._currentHover){const a=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async s=>{if(!a.isPickingParticipant())return;const l=a.properties.tooltip;if(l!==null){const f=(l==null?void 0:l.handler)??"default",u=this.tooltipHandlers[f];if(!u)throw new Error("No such tooltip handler: "+f);return u(s,a,l==null?void 0:l.params)}})}}updateTooltip(e,n){if(!this._tooltipUpdateRequested||!e)this.tooltip.updateWithDatum(e,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const e=this.viewRoot;if(!e)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new sx({picking:!1},this._glHelper),this._pickingContext=new sx({picking:!0},this._glHelper),e.render(new XR(this._renderingContext,this._pickingContext),fr.create(0,0,n.width,n.height)),this.broadcast("layoutComputed")}renderAll(){var e;(e=this._renderingContext)==null||e.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const e=[];return this.viewRoot.visit(n=>{n instanceof Yt&&n.getAccessor("search")&&e.push(n)}),e}getNamedScaleResolutions(){const e=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&e.set(r.name,r)}),e}}function qP(t,e){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=e,n.appendChild(r),t.appendChild(n)}async function WP(t,e,n={}){let r;if(Ye(t)){if(r=document.querySelector(t),!r)throw new Error(`No such element: ${t}`)}else if(t instanceof HTMLElement)r=t;else throw new Error(`Invalid element: ${t}`);let i;try{const o=Wt(e)?e:await $P(e);if(o.baseUrl??(o.baseUrl=""),o.width??(o.width="container"),o.padding??(o.padding=10),r==document.body){const a=document.createElement("div");a.style.position="fixed",a.style.inset="0",a.style.overflow="hidden",r.appendChild(a),r=a}i=new jP(r,o,n),ZP(i,n),await i.launch()}catch(o){r.innerText=o.toString(),console.error(o)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(o,a){const s=i._eventListeners;let l=s.get(o);l||(l=new Set,s.set(o,l)),l.add(a)},removeEventListener(o,a){var l;(l=i._eventListeners.get(o))==null||l.delete(a)},getScaleResolutionByName(o){return i.getNamedScaleResolutions().get(o)},updateNamedData:i.updateNamedData.bind(i)}}function ZP(t,e){e.namedDataProvider&&t.registerNamedDataProvider(e.namedDataProvider)}async function $P(t){let e;try{e=JSON.parse(await vl().load(t))}catch(n){throw new Error(`Could not load or parse configuration: ${t}, reason: ${n.message}`)}if(!e.baseUrl){const n=t.match(/^[^?#]*\//);e.baseUrl=n&&n[0]||"./"}return e}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Tu=globalThis,b0=Tu.ShadowRoot&&(Tu.ShadyCSS===void 0||Tu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,y0=Symbol(),Ax=new WeakMap;let Ex=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==y0)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(b0&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=Ax.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Ax.set(n,e))}return e}toString(){return this.cssText}};const YP=t=>new Ex(typeof t=="string"?t:t+"",void 0,y0),QP=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new Ex(n,t,y0)},XP=(t,e)=>{if(b0)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=Tu.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},_x=b0?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return YP(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:KP,defineProperty:JP,getOwnPropertyDescriptor:e5,getOwnPropertyNames:t5,getOwnPropertySymbols:n5,getPrototypeOf:r5}=Object,Wr=globalThis,Sx=Wr.trustedTypes,i5=Sx?Sx.emptyScript:"",w0=Wr.reactiveElementPolyfillSupport,js=(t,e)=>t,x0={toAttribute(t,e){switch(e){case Boolean:t=t?i5:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Cx=(t,e)=>!KP(t,e),Tx={attribute:!0,type:String,converter:x0,reflect:!1,hasChanged:Cx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Wr.litPropertyMetadata??(Wr.litPropertyMetadata=new WeakMap);class Zo extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=Tx){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&JP(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:o}=e5(this.prototype,e)??{get(){return this[n]},set(a){this[n]=a}};return{get(){return i==null?void 0:i.call(this)},set(a){const s=i==null?void 0:i.call(this);o.call(this,a),this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Tx}static _$Ei(){if(this.hasOwnProperty(js("elementProperties")))return;const e=r5(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(js("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(js("properties"))){const n=this.properties,r=[...t5(n),...n5(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(_x(i))}else e!==void 0&&n.push(_x(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$Eg=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$ES(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$E_??(this._$E_=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$E_)==null||n.delete(e)}_$ES(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return XP(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$E_)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$E_)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n){var o;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const a=(((o=r.converter)==null?void 0:o.toAttribute)!==void 0?r.converter:x0).toAttribute(n,r.type);this._$Em=e,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(e,n){var o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),s=typeof a.converter=="function"?{fromAttribute:a.converter}:((o=a.converter)==null?void 0:o.fromAttribute)!==void 0?a.converter:x0;this._$Em=i,this[i]=s.fromAttribute(n,a.type),this._$Em=null}}requestUpdate(e,n,r,i=!1,o){if(e!==void 0){if(r??(r=this.constructor.getPropertyOptions(e)),!(r.hasChanged??Cx)(i?o:this[e],n))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(e,n,r){this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,a]of this._$Ep)this[o]=a;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[o,a]of i)a.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.C(o,this[o],a)}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$E_)==null||r.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(n)):this._$ET()}catch(i){throw e=!1,this._$ET(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$E_)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EO(n,this[n]))),this._$ET()}updated(e){}firstUpdated(e){}}Zo.elementStyles=[],Zo.shadowRootOptions={mode:"open"},Zo[js("elementProperties")]=new Map,Zo[js("finalized")]=new Map,w0==null||w0({ReactiveElement:Zo}),(Wr.reactiveElementVersions??(Wr.reactiveElementVersions=[])).push("2.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let qs=class extends Zo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=xh(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Ti}};qs._$litElement$=!0,qs.finalized=!0,($_=globalThis.litElementHydrateSupport)==null||$_.call(globalThis,{LitElement:qs});const v0=globalThis.litElementPolyfillSupport;v0==null||v0({LitElement:qs}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ix={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},kx=t=>(...e)=>({_$litDirective$:t,values:e});let Dx=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bx="important",o5=" !"+Bx,Fx=kx(class extends Dx{constructor(t){var e;if(super(t),t.type!==Ix.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ut===void 0)return this.ut=new Set(Object.keys(e)),this.render(e);for(const r of this.ut)e[r]==null&&(this.ut.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in e){const i=e[r];if(i!=null){this.ut.add(r);const o=typeof i=="string"&&i.endsWith(o5);r.includes("-")||o?n.setProperty(r,o?i.slice(0,-11):i,o?Bx:""):n[r]=i}}return Ti}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const a5=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ws=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),Ws(i,e);return!0},Iu=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},Rx=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),l5(e)}};function s5(t){this._$AN!==void 0?(Iu(this),this._$AM=t,Rx(this)):this._$AM=t}function f5(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let o=n;o<r.length;o++)Ws(r[o],!1),Iu(r[o]);else r!=null&&(Ws(r,!1),Iu(r));else Ws(this,t)}const l5=t=>{t.type==Ix.CHILD&&(t._$AP??(t._$AP=f5),t._$AQ??(t._$AQ=s5))};class u5 extends Dx{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),Rx(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Ws(this,e),Iu(this))}setValue(e){if(a5(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c5=()=>new h5;class h5{}const A0=new WeakMap,d5=kx(class extends u5{render(t){return Xe}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.ot(void 0),(n||this.rt!==this.lt)&&(this.G=e,this.ct=(r=t.options)==null?void 0:r.host,this.ot(this.lt=t.element)),Xe}ot(t){if(typeof this.G=="function"){const e=this.ct??globalThis;let n=A0.get(e);n===void 0&&(n=new WeakMap,A0.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ct,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ct,t)}else this.G.value=t}get rt(){var t,e;return typeof this.G=="function"?(t=A0.get(this.ct??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});function Px(){const t=document.querySelector("meta[name='base_url']").getAttribute("content");return t||console.error('No <meta name="base_url" ...> found!'),t}async function p5(t,e){const r=`${Px()}/data/`;try{e.baseUrl=e.baseUrl||r,await WP(t,e,{bare:!0})}catch(i){const o=document.createElement("pre");o.innerText=i.toString(),t.appendChild(o)}}class Mx extends qs{static get styles(){return QP`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=c5()}render(){return wn`
            <link rel="stylesheet" href=${Px()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${Fx({height:this.height+"px"})}
                ${d5(this.embedRef)}
            ></div>
            ${this.specHidden?wn`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${e=>{this.specHidden=!1,e.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:Xe}

            <div
                class="embed-spec"
                style=${Fx({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const e=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(e){const r=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){const a=o.target;p5(a,JSON.parse(e)),r.unobserve(a)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",Mx);var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var be={},ku={};ku.byteLength=y5,ku.toByteArray=x5,ku.fromByteArray=E5;for(var Hn=[],rn=[],m5=typeof Uint8Array<"u"?Uint8Array:Array,E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$o=0,b5=E0.length;$o<b5;++$o)Hn[$o]=E0[$o],rn[E0.charCodeAt($o)]=$o;rn["-".charCodeAt(0)]=62,rn["_".charCodeAt(0)]=63;function Ox(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function y5(t){var e=Ox(t),n=e[0],r=e[1];return(n+r)*3/4-r}function w5(t,e,n){return(e+n)*3/4-n}function x5(t){var e,n=Ox(t),r=n[0],i=n[1],o=new m5(w5(t,r,i)),a=0,s=i>0?r-4:r,l;for(l=0;l<s;l+=4)e=rn[t.charCodeAt(l)]<<18|rn[t.charCodeAt(l+1)]<<12|rn[t.charCodeAt(l+2)]<<6|rn[t.charCodeAt(l+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=rn[t.charCodeAt(l)]<<2|rn[t.charCodeAt(l+1)]>>4,o[a++]=e&255),i===1&&(e=rn[t.charCodeAt(l)]<<10|rn[t.charCodeAt(l+1)]<<4|rn[t.charCodeAt(l+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function v5(t){return Hn[t>>18&63]+Hn[t>>12&63]+Hn[t>>6&63]+Hn[t&63]}function A5(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(v5(r));return i.join("")}function E5(t){for(var e,n=t.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(A5(t,a,a+o>s?s:a+o));return r===1?(e=t[n-1],i.push(Hn[e>>2]+Hn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Hn[e>>10]+Hn[e>>4&63]+Hn[e<<2&63]+"=")),i.join("")}var _0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_0.read=function(t,e,n,r,i){var o,a,s=i*8-r-1,l=(1<<s)-1,f=l>>1,u=-7,c=n?i-1:0,h=n?-1:1,d=t[e+c];for(c+=h,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=o*256+t[e+c],c+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=a*256+t[e+c],c+=h,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-f}return(d?-1:1)*a*Math.pow(2,o-r)},_0.write=function(t,e,n,r,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,c=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?e+=h/l:e+=h*Math.pow(2,1-c),e*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*l-1)*Math.pow(2,i),a=a+c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=s&255,d+=p,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[n+d]=a&255,d+=p,a/=256,f-=8);t[n+d-p]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ku,n=_0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const x=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(x,g),x.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const g=new Uint8Array(x);return Object.setPrototypeOf(g,s.prototype),g}function s(x,g,m){if(typeof x=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(x)}return l(x,g,m)}s.poolSize=8192;function l(x,g,m){if(typeof x=="string")return h(x,g);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(_t(x,ArrayBuffer)||x&&_t(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_t(x,SharedArrayBuffer)||x&&_t(x.buffer,SharedArrayBuffer)))return b(x,g,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=x.valueOf&&x.valueOf();if(T!=null&&T!==x)return s.from(T,g,m);const F=y(x);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return s.from(x[Symbol.toPrimitive]("string"),g,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}s.from=function(x,g,m){return l(x,g,m)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function u(x,g,m){return f(x),x<=0?a(x):g!==void 0?typeof m=="string"?a(x).fill(g,m):a(x).fill(g):a(x)}s.alloc=function(x,g,m){return u(x,g,m)};function c(x){return f(x),a(x<0?0:w(x)|0)}s.allocUnsafe=function(x){return c(x)},s.allocUnsafeSlow=function(x){return c(x)};function h(x,g){if((typeof g!="string"||g==="")&&(g="utf8"),!s.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const m=C(x,g)|0;let T=a(m);const F=T.write(x,g);return F!==m&&(T=T.slice(0,F)),T}function d(x){const g=x.length<0?0:w(x.length)|0,m=a(g);for(let T=0;T<g;T+=1)m[T]=x[T]&255;return m}function p(x){if(_t(x,Uint8Array)){const g=new Uint8Array(x);return b(g.buffer,g.byteOffset,g.byteLength)}return d(x)}function b(x,g,m){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(m||0))throw new RangeError('"length" is outside of buffer bounds');let T;return g===void 0&&m===void 0?T=new Uint8Array(x):m===void 0?T=new Uint8Array(x,g):T=new Uint8Array(x,g,m),Object.setPrototypeOf(T,s.prototype),T}function y(x){if(s.isBuffer(x)){const g=w(x.length)|0,m=a(g);return m.length===0||x.copy(m,0,0,g),m}if(x.length!==void 0)return typeof x.length!="number"||xr(x.length)?a(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function S(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==s.prototype},s.compare=function(g,m){if(_t(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),_t(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(g)||!s.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===m)return 0;let T=g.length,F=m.length;for(let N=0,V=Math.min(T,F);N<V;++N)if(g[N]!==m[N]){T=g[N],F=m[N];break}return T<F?-1:F<T?1:0},s.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return s.alloc(0);let T;if(m===void 0)for(m=0,T=0;T<g.length;++T)m+=g[T].length;const F=s.allocUnsafe(m);let N=0;for(T=0;T<g.length;++T){let V=g[T];if(_t(V,Uint8Array))N+V.length>F.length?(s.isBuffer(V)||(V=s.from(V)),V.copy(F,N)):Uint8Array.prototype.set.call(F,V,N);else if(s.isBuffer(V))V.copy(F,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=V.length}return F};function C(x,g){if(s.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||_t(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const m=x.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&m===0)return 0;let F=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return fe(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ui(x).length;default:if(F)return T?-1:fe(x).length;g=(""+g).toLowerCase(),F=!0}}s.byteLength=C;function _(x,g,m){let T=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(x||(x="utf8");;)switch(x){case"hex":return qe(this,g,m);case"utf8":case"utf-8":return de(this,g,m);case"ascii":return Be(this,g,m);case"latin1":case"binary":return Ke(this,g,m);case"base64":return ae(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Je(this,g,m);default:if(T)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),T=!0}}s.prototype._isBuffer=!0;function k(x,g,m){const T=x[g];x[g]=x[m],x[m]=T}s.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<g;m+=2)k(this,m,m+1);return this},s.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<g;m+=4)k(this,m,m+3),k(this,m+1,m+2);return this},s.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<g;m+=8)k(this,m,m+7),k(this,m+1,m+6),k(this,m+2,m+5),k(this,m+3,m+4);return this},s.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?de(this,0,g):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(g){if(!s.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:s.compare(this,g)===0},s.prototype.inspect=function(){let g="";const m=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(g+=" ... "),"<Buffer "+g+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(g,m,T,F,N){if(_t(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),!s.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(m===void 0&&(m=0),T===void 0&&(T=g?g.length:0),F===void 0&&(F=0),N===void 0&&(N=this.length),m<0||T>g.length||F<0||N>this.length)throw new RangeError("out of range index");if(F>=N&&m>=T)return 0;if(F>=N)return-1;if(m>=T)return 1;if(m>>>=0,T>>>=0,F>>>=0,N>>>=0,this===g)return 0;let V=N-F,le=T-m;const Ue=Math.min(V,le),Pe=this.slice(F,N),We=g.slice(m,T);for(let Se=0;Se<Ue;++Se)if(Pe[Se]!==We[Se]){V=Pe[Se],le=We[Se];break}return V<le?-1:le<V?1:0};function D(x,g,m,T,F){if(x.length===0)return-1;if(typeof m=="string"?(T=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,xr(m)&&(m=F?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(F)return-1;m=x.length-1}else if(m<0)if(F)m=0;else return-1;if(typeof g=="string"&&(g=s.from(g,T)),s.isBuffer(g))return g.length===0?-1:I(x,g,m,T,F);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(x,g,m):Uint8Array.prototype.lastIndexOf.call(x,g,m):I(x,[g],m,T,F);throw new TypeError("val must be string, number or Buffer")}function I(x,g,m,T,F){let N=1,V=x.length,le=g.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(x.length<2||g.length<2)return-1;N=2,V/=2,le/=2,m/=2}function Ue(We,Se){return N===1?We[Se]:We.readUInt16BE(Se*N)}let Pe;if(F){let We=-1;for(Pe=m;Pe<V;Pe++)if(Ue(x,Pe)===Ue(g,We===-1?0:Pe-We)){if(We===-1&&(We=Pe),Pe-We+1===le)return We*N}else We!==-1&&(Pe-=Pe-We),We=-1}else for(m+le>V&&(m=V-le),Pe=m;Pe>=0;Pe--){let We=!0;for(let Se=0;Se<le;Se++)if(Ue(x,Pe+Se)!==Ue(g,Se)){We=!1;break}if(We)return Pe}return-1}s.prototype.includes=function(g,m,T){return this.indexOf(g,m,T)!==-1},s.prototype.indexOf=function(g,m,T){return D(this,g,m,T,!0)},s.prototype.lastIndexOf=function(g,m,T){return D(this,g,m,T,!1)};function R(x,g,m,T){m=Number(m)||0;const F=x.length-m;T?(T=Number(T),T>F&&(T=F)):T=F;const N=g.length;T>N/2&&(T=N/2);let V;for(V=0;V<T;++V){const le=parseInt(g.substr(V*2,2),16);if(xr(le))return V;x[m+V]=le}return V}function M(x,g,m,T){return ci(fe(g,x.length-m),x,m,T)}function j(x,g,m,T){return ci(Vt(g),x,m,T)}function L(x,g,m,T){return ci(ui(g),x,m,T)}function ne(x,g,m,T){return ci(li(g,x.length-m),x,m,T)}s.prototype.write=function(g,m,T,F){if(m===void 0)F="utf8",T=this.length,m=0;else if(T===void 0&&typeof m=="string")F=m,T=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(T)?(T=T>>>0,F===void 0&&(F="utf8")):(F=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const N=this.length-m;if((T===void 0||T>N)&&(T=N),g.length>0&&(T<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let V=!1;for(;;)switch(F){case"hex":return R(this,g,m,T);case"utf8":case"utf-8":return M(this,g,m,T);case"ascii":case"latin1":case"binary":return j(this,g,m,T);case"base64":return L(this,g,m,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,g,m,T);default:if(V)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),V=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(x,g,m){return g===0&&m===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(g,m))}function de(x,g,m){m=Math.min(x.length,m);const T=[];let F=g;for(;F<m;){const N=x[F];let V=null,le=N>239?4:N>223?3:N>191?2:1;if(F+le<=m){let Ue,Pe,We,Se;switch(le){case 1:N<128&&(V=N);break;case 2:Ue=x[F+1],(Ue&192)===128&&(Se=(N&31)<<6|Ue&63,Se>127&&(V=Se));break;case 3:Ue=x[F+1],Pe=x[F+2],(Ue&192)===128&&(Pe&192)===128&&(Se=(N&15)<<12|(Ue&63)<<6|Pe&63,Se>2047&&(Se<55296||Se>57343)&&(V=Se));break;case 4:Ue=x[F+1],Pe=x[F+2],We=x[F+3],(Ue&192)===128&&(Pe&192)===128&&(We&192)===128&&(Se=(N&15)<<18|(Ue&63)<<12|(Pe&63)<<6|We&63,Se>65535&&Se<1114112&&(V=Se))}}V===null?(V=65533,le=1):V>65535&&(V-=65536,T.push(V>>>10&1023|55296),V=56320|V&1023),T.push(V),F+=le}return Qe(T)}const ke=4096;function Qe(x){const g=x.length;if(g<=ke)return String.fromCharCode.apply(String,x);let m="",T=0;for(;T<g;)m+=String.fromCharCode.apply(String,x.slice(T,T+=ke));return m}function Be(x,g,m){let T="";m=Math.min(x.length,m);for(let F=g;F<m;++F)T+=String.fromCharCode(x[F]&127);return T}function Ke(x,g,m){let T="";m=Math.min(x.length,m);for(let F=g;F<m;++F)T+=String.fromCharCode(x[F]);return T}function qe(x,g,m){const T=x.length;(!g||g<0)&&(g=0),(!m||m<0||m>T)&&(m=T);let F="";for(let N=g;N<m;++N)F+=hi[x[N]];return F}function Je(x,g,m){const T=x.slice(g,m);let F="";for(let N=0;N<T.length-1;N+=2)F+=String.fromCharCode(T[N]+T[N+1]*256);return F}s.prototype.slice=function(g,m){const T=this.length;g=~~g,m=m===void 0?T:~~m,g<0?(g+=T,g<0&&(g=0)):g>T&&(g=T),m<0?(m+=T,m<0&&(m=0)):m>T&&(m=T),m<g&&(m=g);const F=this.subarray(g,m);return Object.setPrototypeOf(F,s.prototype),F};function Ee(x,g,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>m)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(g,m,T){g=g>>>0,m=m>>>0,T||Ee(g,m,this.length);let F=this[g],N=1,V=0;for(;++V<m&&(N*=256);)F+=this[g+V]*N;return F},s.prototype.readUintBE=s.prototype.readUIntBE=function(g,m,T){g=g>>>0,m=m>>>0,T||Ee(g,m,this.length);let F=this[g+--m],N=1;for(;m>0&&(N*=256);)F+=this[g+--m]*N;return F},s.prototype.readUint8=s.prototype.readUInt8=function(g,m){return g=g>>>0,m||Ee(g,1,this.length),this[g]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(g,m){return g=g>>>0,m||Ee(g,2,this.length),this[g]|this[g+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(g,m){return g=g>>>0,m||Ee(g,2,this.length),this[g]<<8|this[g+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},s.prototype.readBigUInt64LE=jt(function(g){g=g>>>0,G(g,"offset");const m=this[g],T=this[g+7];(m===void 0||T===void 0)&&W(g,this.length-8);const F=m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,N=this[++g]+this[++g]*2**8+this[++g]*2**16+T*2**24;return BigInt(F)+(BigInt(N)<<BigInt(32))}),s.prototype.readBigUInt64BE=jt(function(g){g=g>>>0,G(g,"offset");const m=this[g],T=this[g+7];(m===void 0||T===void 0)&&W(g,this.length-8);const F=m*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],N=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T;return(BigInt(F)<<BigInt(32))+BigInt(N)}),s.prototype.readIntLE=function(g,m,T){g=g>>>0,m=m>>>0,T||Ee(g,m,this.length);let F=this[g],N=1,V=0;for(;++V<m&&(N*=256);)F+=this[g+V]*N;return N*=128,F>=N&&(F-=Math.pow(2,8*m)),F},s.prototype.readIntBE=function(g,m,T){g=g>>>0,m=m>>>0,T||Ee(g,m,this.length);let F=m,N=1,V=this[g+--F];for(;F>0&&(N*=256);)V+=this[g+--F]*N;return N*=128,V>=N&&(V-=Math.pow(2,8*m)),V},s.prototype.readInt8=function(g,m){return g=g>>>0,m||Ee(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},s.prototype.readInt16LE=function(g,m){g=g>>>0,m||Ee(g,2,this.length);const T=this[g]|this[g+1]<<8;return T&32768?T|4294901760:T},s.prototype.readInt16BE=function(g,m){g=g>>>0,m||Ee(g,2,this.length);const T=this[g+1]|this[g]<<8;return T&32768?T|4294901760:T},s.prototype.readInt32LE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},s.prototype.readInt32BE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},s.prototype.readBigInt64LE=jt(function(g){g=g>>>0,G(g,"offset");const m=this[g],T=this[g+7];(m===void 0||T===void 0)&&W(g,this.length-8);const F=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(T<<24);return(BigInt(F)<<BigInt(32))+BigInt(m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),s.prototype.readBigInt64BE=jt(function(g){g=g>>>0,G(g,"offset");const m=this[g],T=this[g+7];(m===void 0||T===void 0)&&W(g,this.length-8);const F=(m<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(F)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+T)}),s.prototype.readFloatLE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),n.read(this,g,!0,23,4)},s.prototype.readFloatBE=function(g,m){return g=g>>>0,m||Ee(g,4,this.length),n.read(this,g,!1,23,4)},s.prototype.readDoubleLE=function(g,m){return g=g>>>0,m||Ee(g,8,this.length),n.read(this,g,!0,52,8)},s.prototype.readDoubleBE=function(g,m){return g=g>>>0,m||Ee(g,8,this.length),n.read(this,g,!1,52,8)};function _e(x,g,m,T,F,N){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>F||g<N)throw new RangeError('"value" argument is out of bounds');if(m+T>x.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(g,m,T,F){if(g=+g,m=m>>>0,T=T>>>0,!F){const le=Math.pow(2,8*T)-1;_e(this,g,m,T,le,0)}let N=1,V=0;for(this[m]=g&255;++V<T&&(N*=256);)this[m+V]=g/N&255;return m+T},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(g,m,T,F){if(g=+g,m=m>>>0,T=T>>>0,!F){const le=Math.pow(2,8*T)-1;_e(this,g,m,T,le,0)}let N=T-1,V=1;for(this[m+N]=g&255;--N>=0&&(V*=256);)this[m+N]=g/V&255;return m+T},s.prototype.writeUint8=s.prototype.writeUInt8=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,1,255,0),this[m]=g&255,m+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4};function dt(x,g,m,T,F){v(g,T,F,x,m,7);let N=Number(g&BigInt(4294967295));x[m++]=N,N=N>>8,x[m++]=N,N=N>>8,x[m++]=N,N=N>>8,x[m++]=N;let V=Number(g>>BigInt(32)&BigInt(4294967295));return x[m++]=V,V=V>>8,x[m++]=V,V=V>>8,x[m++]=V,V=V>>8,x[m++]=V,m}function Ht(x,g,m,T,F){v(g,T,F,x,m,7);let N=Number(g&BigInt(4294967295));x[m+7]=N,N=N>>8,x[m+6]=N,N=N>>8,x[m+5]=N,N=N>>8,x[m+4]=N;let V=Number(g>>BigInt(32)&BigInt(4294967295));return x[m+3]=V,V=V>>8,x[m+2]=V,V=V>>8,x[m+1]=V,V=V>>8,x[m]=V,m+8}s.prototype.writeBigUInt64LE=jt(function(g,m=0){return dt(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=jt(function(g,m=0){return Ht(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(g,m,T,F){if(g=+g,m=m>>>0,!F){const Ue=Math.pow(2,8*T-1);_e(this,g,m,T,Ue-1,-Ue)}let N=0,V=1,le=0;for(this[m]=g&255;++N<T&&(V*=256);)g<0&&le===0&&this[m+N-1]!==0&&(le=1),this[m+N]=(g/V>>0)-le&255;return m+T},s.prototype.writeIntBE=function(g,m,T,F){if(g=+g,m=m>>>0,!F){const Ue=Math.pow(2,8*T-1);_e(this,g,m,T,Ue-1,-Ue)}let N=T-1,V=1,le=0;for(this[m+N]=g&255;--N>=0&&(V*=256);)g<0&&le===0&&this[m+N+1]!==0&&(le=1),this[m+N]=(g/V>>0)-le&255;return m+T},s.prototype.writeInt8=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},s.prototype.writeInt16LE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},s.prototype.writeInt16BE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},s.prototype.writeInt32LE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},s.prototype.writeInt32BE=function(g,m,T){return g=+g,m=m>>>0,T||_e(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},s.prototype.writeBigInt64LE=jt(function(g,m=0){return dt(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=jt(function(g,m=0){return Ht(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(x,g,m,T,F,N){if(m+T>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function O(x,g,m,T,F){return g=+g,m=m>>>0,F||Ne(x,g,m,4),n.write(x,g,m,T,23,4),m+4}s.prototype.writeFloatLE=function(g,m,T){return O(this,g,m,!0,T)},s.prototype.writeFloatBE=function(g,m,T){return O(this,g,m,!1,T)};function P(x,g,m,T,F){return g=+g,m=m>>>0,F||Ne(x,g,m,8),n.write(x,g,m,T,52,8),m+8}s.prototype.writeDoubleLE=function(g,m,T){return P(this,g,m,!0,T)},s.prototype.writeDoubleBE=function(g,m,T){return P(this,g,m,!1,T)},s.prototype.copy=function(g,m,T,F){if(!s.isBuffer(g))throw new TypeError("argument should be a Buffer");if(T||(T=0),!F&&F!==0&&(F=this.length),m>=g.length&&(m=g.length),m||(m=0),F>0&&F<T&&(F=T),F===T||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),g.length-m<F-T&&(F=g.length-m+T);const N=F-T;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,T,F):Uint8Array.prototype.set.call(g,this.subarray(T,F),m),N},s.prototype.fill=function(g,m,T,F){if(typeof g=="string"){if(typeof m=="string"?(F=m,m=0,T=this.length):typeof T=="string"&&(F=T,T=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!s.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(g.length===1){const V=g.charCodeAt(0);(F==="utf8"&&V<128||F==="latin1")&&(g=V)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(m<0||this.length<m||this.length<T)throw new RangeError("Out of range index");if(T<=m)return this;m=m>>>0,T=T===void 0?this.length:T>>>0,g||(g=0);let N;if(typeof g=="number")for(N=m;N<T;++N)this[N]=g;else{const V=s.isBuffer(g)?g:s.from(g,F),le=V.length;if(le===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(N=0;N<T-m;++N)this[N+m]=V[N%le]}return this};const q={};function H(x,g,m){q[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),H("ERR_OUT_OF_RANGE",function(x,g,m){let T=`The value of "${x}" is out of range.`,F=m;return Number.isInteger(m)&&Math.abs(m)>2**32?F=Z(String(m)):typeof m=="bigint"&&(F=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(F=Z(F)),F+="n"),T+=` It must be ${g}. Received ${F}`,T},RangeError);function Z(x){let g="",m=x.length;const T=x[0]==="-"?1:0;for(;m>=T+4;m-=3)g=`_${x.slice(m-3,m)}${g}`;return`${x.slice(0,m)}${g}`}function E(x,g,m){G(g,"offset"),(x[g]===void 0||x[g+m]===void 0)&&W(g,x.length-(m+1))}function v(x,g,m,T,F,N){if(x>m||x<g){const V=typeof g=="bigint"?"n":"";let le;throw N>3?g===0||g===BigInt(0)?le=`>= 0${V} and < 2${V} ** ${(N+1)*8}${V}`:le=`>= -(2${V} ** ${(N+1)*8-1}${V}) and < 2 ** ${(N+1)*8-1}${V}`:le=`>= ${g}${V} and <= ${m}${V}`,new q.ERR_OUT_OF_RANGE("value",le,x)}E(T,F,N)}function G(x,g){if(typeof x!="number")throw new q.ERR_INVALID_ARG_TYPE(g,"number",x)}function W(x,g,m){throw Math.floor(x)!==x?(G(x,m),new q.ERR_OUT_OF_RANGE(m||"offset","an integer",x)):g<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${g}`,x)}const se=/[^+/0-9A-Za-z-_]/g;function J(x){if(x=x.split("=")[0],x=x.trim().replace(se,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function fe(x,g){g=g||1/0;let m;const T=x.length;let F=null;const N=[];for(let V=0;V<T;++V){if(m=x.charCodeAt(V),m>55295&&m<57344){if(!F){if(m>56319){(g-=3)>-1&&N.push(239,191,189);continue}else if(V+1===T){(g-=3)>-1&&N.push(239,191,189);continue}F=m;continue}if(m<56320){(g-=3)>-1&&N.push(239,191,189),F=m;continue}m=(F-55296<<10|m-56320)+65536}else F&&(g-=3)>-1&&N.push(239,191,189);if(F=null,m<128){if((g-=1)<0)break;N.push(m)}else if(m<2048){if((g-=2)<0)break;N.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;N.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;N.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return N}function Vt(x){const g=[];for(let m=0;m<x.length;++m)g.push(x.charCodeAt(m)&255);return g}function li(x,g){let m,T,F;const N=[];for(let V=0;V<x.length&&!((g-=2)<0);++V)m=x.charCodeAt(V),T=m>>8,F=m%256,N.push(F),N.push(T);return N}function ui(x){return e.toByteArray(J(x))}function ci(x,g,m,T){let F;for(F=0;F<T&&!(F+m>=g.length||F>=x.length);++F)g[F+m]=x[F];return F}function _t(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function xr(x){return x!==x}const hi=function(){const x="0123456789abcdef",g=new Array(256);for(let m=0;m<16;++m){const T=m*16;for(let F=0;F<16;++F)g[T+F]=x[m]+x[F]}return g}();function jt(x){return typeof BigInt>"u"?Jn:x}function Jn(){throw new Error("BigInt not supported")}})(be);const Nx=xe({__proto__:null,default:Zs(be)},[be]),ct={},_5=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),S0=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class Zi{async getBufferFromResponse(e){if(typeof e.buffer=="function")return e.buffer();if(typeof e.arrayBuffer=="function"){const n=await e.arrayBuffer();return be.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(e,n={}){this.baseOverrides={},this.url=e;const r=n.fetch||S0.fetch&&S0.fetch.bind(S0);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(e,n){let r;try{r=await this.fetchImplementation(e,n)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(e,{...n,cache:"reload"});else throw i}return r}async read(e,n=0,r,i=0,o={}){const{headers:a={},signal:s,overrides:l={}}=o;r<1/0?a.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(a.range=`bytes=${i}-`);const f={...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s},u=await this.fetch(this.url,f);if(!u.ok)throw new Error(`HTTP ${u.status} ${u.statusText} ${this.url}`);if(u.status===200&&i===0||u.status===206){const c=await this.getBufferFromResponse(u),h=c.copy(e,n,0,Math.min(r,c.length)),d=u.headers.get("content-range"),p=/\/(\d+)$/.exec(d||"");return p&&p[1]&&(this._stat={size:parseInt(p[1],10)}),{bytesRead:h,buffer:e}}throw u.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${u.status} fetching ${this.url}`)}async readFile(e={}){let n,r;typeof e=="string"?(n=e,r={}):(n=e.encoding,r=e,delete r.encoding);const{headers:i={},signal:o,overrides:a={}}=r,s={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a},l=await this.fetch(this.url,s);if(!l)throw new Error("generic-filehandle failed to fetch");if(l.status!==200)throw Object.assign(new Error(`HTTP ${l.status} fetching ${this.url}`),{status:l.status});if(n==="utf8")return l.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(l)}async stat(){if(!this._stat){const e=be.Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function Lx(t){const e=new FileReader;return new Promise((n,r)=>{e.onerror=()=>{e.abort(),r(new Error("problem reading blob"))},e.onabort=()=>{r(new Error("blob reading was aborted"))},e.onload=()=>{e.result&&typeof e.result!="string"?n(e.result):r(new Error("unknown error reading blob"))},e.readAsArrayBuffer(t)})}function S5(t){const e=new FileReader;return new Promise((n,r)=>{e.onerror=()=>{e.abort(),r(new Error("problem reading blob"))},e.onabort=()=>{r(new Error("blob reading was aborted"))},e.onload=()=>{e.result&&typeof e.result=="string"?n(e.result):r(new Error("unknown error reading blob"))},e.readAsText(t)})}class C5{constructor(e){this.blob=e,this.size=e.size}async read(e,n=0,r,i=0){if(!r)return{bytesRead:0,buffer:e};const o=i,a=o+r,s=await Lx(this.blob.slice(o,a)),l=be.Buffer.from(s);return{bytesRead:l.copy(e,n),buffer:l}}async readFile(e){let n;if(typeof e=="string"?n=e:n=e&&e.encoding,n==="utf8")return S5(this.blob);if(n)throw new Error(`unsupported encoding: ${n}`);const r=await Lx(this.blob);return be.Buffer.from(r)}async stat(){return{size:this.size}}async close(){}}function zx(t,e={}){return new Zi(t,e)}function T5(t,e,n,r={}){if(n!==void 0)return n;if(t!==void 0)return zx(t,r);if(e!==void 0)return new ct(e,r);throw new Error("no url, path, or filehandle provided, cannot open")}const $s=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:C5,LocalFile:ct,RemoteFile:Zi,fromUrl:zx,open:T5},Symbol.toStringTag,{value:"Module"}));var lr={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,a){return Object.prototype.hasOwnProperty.call(o,a)}t.assign=function(o){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var s=a.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var l in s)n(s,l)&&(o[l]=s[l])}}return o},t.shrinkBuf=function(o,a){return o.length===a?o:o.subarray?o.subarray(0,a):(o.length=a,o)};var r={arraySet:function(o,a,s,l,f){if(a.subarray&&o.subarray){o.set(a.subarray(s,s+l),f);return}for(var u=0;u<l;u++)o[f+u]=a[s+u]},flattenChunks:function(o){var a,s,l,f,u,c;for(l=0,a=0,s=o.length;a<s;a++)l+=o[a].length;for(c=new Uint8Array(l),f=0,a=0,s=o.length;a<s;a++)u=o[a],c.set(u,f),f+=u.length;return c}},i={arraySet:function(o,a,s,l,f){for(var u=0;u<l;u++)o[f+u]=a[s+u]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(lr);var Ys={},Vn={},Yo={},I5=lr,k5=4,Ux=0,Gx=1,D5=2;function Qo(t){for(var e=t.length;--e>=0;)t[e]=0}var B5=0,Hx=1,F5=2,R5=3,P5=258,C0=29,Qs=256,Xs=Qs+1+C0,Xo=30,T0=19,Vx=2*Xs+1,$i=15,I0=16,M5=7,k0=256,jx=16,qx=17,Wx=18,D0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Du=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Zx=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N5=512,ur=new Array((Xs+2)*2);Qo(ur);var Ks=new Array(Xo*2);Qo(Ks);var Js=new Array(N5);Qo(Js);var ef=new Array(P5-R5+1);Qo(ef);var B0=new Array(C0);Qo(B0);var Bu=new Array(Xo);Qo(Bu);function F0(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var $x,Yx,Qx;function R0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Xx(t){return t<256?Js[t]:Js[256+(t>>>7)]}function tf(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Lt(t,e,n){t.bi_valid>I0-n?(t.bi_buf|=e<<t.bi_valid&65535,tf(t,t.bi_buf),t.bi_buf=e>>I0-t.bi_valid,t.bi_valid+=n-I0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function jn(t,e,n){Lt(t,n[e*2],n[e*2+1])}function Kx(t,e){var n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1}function L5(t){t.bi_valid===16?(tf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function z5(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length,f,u,c,h,d,p,b=0;for(h=0;h<=$i;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<Vx;f++)u=t.heap[f],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,b++),n[u*2+1]=h,!(u>r)&&(t.bl_count[h]++,d=0,u>=s&&(d=a[u-s]),p=n[u*2],t.opt_len+=p*(h+d),o&&(t.static_len+=p*(i[u*2+1]+d)));if(b!==0){do{for(h=l-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,b-=2}while(b>0);for(h=l;h!==0;h--)for(u=t.bl_count[h];u!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),u--)}}function Jx(t,e,n){var r=new Array($i+1),i=0,o,a;for(o=1;o<=$i;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=e;a++){var s=t[a*2+1];s!==0&&(t[a*2]=Kx(r[s]++,s))}}function U5(){var t,e,n,r,i,o=new Array($i+1);for(n=0,r=0;r<C0-1;r++)for(B0[r]=n,t=0;t<1<<D0[r];t++)ef[n++]=r;for(ef[n-1]=r,i=0,r=0;r<16;r++)for(Bu[r]=i,t=0;t<1<<Du[r];t++)Js[i++]=r;for(i>>=7;r<Xo;r++)for(Bu[r]=i<<7,t=0;t<1<<Du[r]-7;t++)Js[256+i++]=r;for(e=0;e<=$i;e++)o[e]=0;for(t=0;t<=143;)ur[t*2+1]=8,t++,o[8]++;for(;t<=255;)ur[t*2+1]=9,t++,o[9]++;for(;t<=279;)ur[t*2+1]=7,t++,o[7]++;for(;t<=287;)ur[t*2+1]=8,t++,o[8]++;for(Jx(ur,Xs+1,o),t=0;t<Xo;t++)Ks[t*2+1]=5,Ks[t*2]=Kx(t,5);$x=new F0(ur,D0,Qs+1,Xs,$i),Yx=new F0(Ks,Du,0,Xo,$i),Qx=new F0(new Array(0),O5,0,T0,M5)}function ev(t){var e;for(e=0;e<Xs;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Xo;e++)t.dyn_dtree[e*2]=0;for(e=0;e<T0;e++)t.bl_tree[e*2]=0;t.dyn_ltree[k0*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function tv(t){t.bi_valid>8?tf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G5(t,e,n,r){tv(t),r&&(tf(t,n),tf(t,~n)),I5.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function nv(t,e,n,r){var i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function P0(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&nv(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!nv(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function rv(t,e,n){var r,i,o=0,a,s;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,r===0?jn(t,i,e):(a=ef[i],jn(t,a+Qs+1,e),s=D0[a],s!==0&&(i-=B0[a],Lt(t,i,s)),r--,a=Xx(r),jn(t,a,n),s=Du[a],s!==0&&(r-=Bu[a],Lt(t,r,s)));while(o<t.last_lit);jn(t,k0,e)}function M0(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,a,s,l=-1,f;for(t.heap_len=0,t.heap_max=Vx,a=0;a<o;a++)n[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):n[a*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=l<2?++l:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)P0(t,n,a);f=o;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],P0(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,n[f*2]=n[a*2]+n[s*2],t.depth[f]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,n[a*2+1]=n[s*2+1]=f,t.heap[1]=f++,P0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],z5(t,e),Jx(n,l,t.bl_count)}function iv(t,e,n){var r,i=-1,o,a=e[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=a,a=e[(r+1)*2+1],!(++s<l&&o===a)&&(s<f?t.bl_tree[o*2]+=s:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[jx*2]++):s<=10?t.bl_tree[qx*2]++:t.bl_tree[Wx*2]++,s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4))}function ov(t,e,n){var r,i=-1,o,a=e[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),r=0;r<=n;r++)if(o=a,a=e[(r+1)*2+1],!(++s<l&&o===a)){if(s<f)do jn(t,o,t.bl_tree);while(--s!==0);else o!==0?(o!==i&&(jn(t,o,t.bl_tree),s--),jn(t,jx,t.bl_tree),Lt(t,s-3,2)):s<=10?(jn(t,qx,t.bl_tree),Lt(t,s-3,3)):(jn(t,Wx,t.bl_tree),Lt(t,s-11,7));s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4)}}function H5(t){var e;for(iv(t,t.dyn_ltree,t.l_desc.max_code),iv(t,t.dyn_dtree,t.d_desc.max_code),M0(t,t.bl_desc),e=T0-1;e>=3&&t.bl_tree[Zx[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function V5(t,e,n,r){var i;for(Lt(t,e-257,5),Lt(t,n-1,5),Lt(t,r-4,4),i=0;i<r;i++)Lt(t,t.bl_tree[Zx[i]*2+1],3);ov(t,t.dyn_ltree,e-1),ov(t,t.dyn_dtree,n-1)}function j5(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Ux;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Gx;for(n=32;n<Qs;n++)if(t.dyn_ltree[n*2]!==0)return Gx;return Ux}var av=!1;function q5(t){av||(U5(),av=!0),t.l_desc=new R0(t.dyn_ltree,$x),t.d_desc=new R0(t.dyn_dtree,Yx),t.bl_desc=new R0(t.bl_tree,Qx),t.bi_buf=0,t.bi_valid=0,ev(t)}function sv(t,e,n,r){Lt(t,(B5<<1)+(r?1:0),3),G5(t,e,n,!0)}function W5(t){Lt(t,Hx<<1,3),jn(t,k0,ur),L5(t)}function Z5(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D5&&(t.strm.data_type=j5(t)),M0(t,t.l_desc),M0(t,t.d_desc),a=H5(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?sv(t,e,n,r):t.strategy===k5||o===i?(Lt(t,(Hx<<1)+(r?1:0),3),rv(t,ur,Ks)):(Lt(t,(F5<<1)+(r?1:0),3),V5(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),rv(t,t.dyn_ltree,t.dyn_dtree)),ev(t),r&&tv(t)}function $5(t,e,n){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(ef[n]+Qs+1)*2]++,t.dyn_dtree[Xx(e)*2]++),t.last_lit===t.lit_bufsize-1}Yo._tr_init=q5,Yo._tr_stored_block=sv,Yo._tr_flush_block=Z5,Yo._tr_tally=$5,Yo._tr_align=W5;function Y5(t,e,n,r){for(var i=t&65535|0,o=t>>>16&65535|0,a=0;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}var fv=Y5;function Q5(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e}var X5=Q5();function K5(t,e,n,r){var i=X5,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[(t^e[a])&255];return t^-1}var lv=K5,O0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},It=lr,on=Yo,uv=fv,Zr=lv,J5=O0,Yi=0,eM=1,tM=3,$r=4,cv=5,qn=0,hv=1,an=-2,nM=-3,N0=-5,rM=-1,iM=1,Fu=2,oM=3,aM=4,sM=0,fM=2,Ru=8,lM=9,uM=15,cM=8,hM=29,dM=256,L0=dM+1+hM,pM=30,gM=19,mM=2*L0+1,bM=15,ce=3,Yr=258,Cn=Yr+ce+1,yM=32,Pu=42,z0=69,Mu=73,Ou=91,Nu=103,Qi=113,nf=666,it=1,rf=2,Xi=3,Ko=4,wM=3;function Qr(t,e){return t.msg=J5[e],e}function dv(t){return(t<<1)-(t>4?9:0)}function Xr(t){for(var e=t.length;--e>=0;)t[e]=0}function Kr(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(It.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))}function mt(t,e){on._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Kr(t.strm)}function ye(t,e){t.pending_buf[t.pending++]=e}function of(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function xM(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,It.arraySet(e,t.input,t.next_in,i,n),t.state.wrap===1?t.adler=uv(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Zr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function pv(t,e){var n=t.max_chain_length,r=t.strstart,i,o,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-Cn?t.strstart-(t.w_size-Cn):0,f=t.window,u=t.w_mask,c=t.prev,h=t.strstart+Yr,d=f[r+a-1],p=f[r+a];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(f[i+a]!==p||f[i+a-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(o=Yr-(h-r),r=h-Yr,o>a){if(t.match_start=e,a=o,o>=s)break;d=f[r+a-1],p=f[r+a]}}while((e=c[e&u])>l&&--n!==0);return a<=t.lookahead?a:t.lookahead}function Ki(t){var e=t.w_size,n,r,i,o,a;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Cn)){It.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);o+=e}if(t.strm.avail_in===0)break;if(r=xM(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=ce)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ce-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ce)););}while(t.lookahead<Cn&&t.strm.avail_in!==0)}function vM(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ki(t),t.lookahead===0&&e===Yi)return it;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,mt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Cn&&(mt(t,!1),t.strm.avail_out===0))return it}return t.insert=0,e===$r?(mt(t,!0),t.strm.avail_out===0?Xi:Ko):(t.strstart>t.block_start&&(mt(t,!1),t.strm.avail_out===0),it)}function U0(t,e){for(var n,r;;){if(t.lookahead<Cn){if(Ki(t),t.lookahead<Cn&&e===Yi)return it;if(t.lookahead===0)break}if(n=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Cn&&(t.match_length=pv(t,n)),t.match_length>=ce)if(r=on._tr_tally(t,t.strstart-t.match_start,t.match_length-ce),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ce){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=on._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(mt(t,!1),t.strm.avail_out===0))return it}return t.insert=t.strstart<ce-1?t.strstart:ce-1,e===$r?(mt(t,!0),t.strm.avail_out===0?Xi:Ko):t.last_lit&&(mt(t,!1),t.strm.avail_out===0)?it:rf}function Jo(t,e){for(var n,r,i;;){if(t.lookahead<Cn){if(Ki(t),t.lookahead<Cn&&e===Yi)return it;if(t.lookahead===0)break}if(n=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ce-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Cn&&(t.match_length=pv(t,n),t.match_length<=5&&(t.strategy===iM||t.match_length===ce&&t.strstart-t.match_start>4096)&&(t.match_length=ce-1)),t.prev_length>=ce&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ce,r=on._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ce),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ce-1,t.strstart++,r&&(mt(t,!1),t.strm.avail_out===0))return it}else if(t.match_available){if(r=on._tr_tally(t,0,t.window[t.strstart-1]),r&&mt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return it}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=on._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ce-1?t.strstart:ce-1,e===$r?(mt(t,!0),t.strm.avail_out===0?Xi:Ko):t.last_lit&&(mt(t,!1),t.strm.avail_out===0)?it:rf}function AM(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=Yr){if(Ki(t),t.lookahead<=Yr&&e===Yi)return it;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ce&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+Yr;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=Yr-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ce?(n=on._tr_tally(t,1,t.match_length-ce),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=on._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(mt(t,!1),t.strm.avail_out===0))return it}return t.insert=0,e===$r?(mt(t,!0),t.strm.avail_out===0?Xi:Ko):t.last_lit&&(mt(t,!1),t.strm.avail_out===0)?it:rf}function EM(t,e){for(var n;;){if(t.lookahead===0&&(Ki(t),t.lookahead===0)){if(e===Yi)return it;break}if(t.match_length=0,n=on._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(mt(t,!1),t.strm.avail_out===0))return it}return t.insert=0,e===$r?(mt(t,!0),t.strm.avail_out===0?Xi:Ko):t.last_lit&&(mt(t,!1),t.strm.avail_out===0)?it:rf}function Wn(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var ea;ea=[new Wn(0,0,0,0,vM),new Wn(4,4,8,4,U0),new Wn(4,5,16,8,U0),new Wn(4,6,32,32,U0),new Wn(4,4,16,16,Jo),new Wn(8,16,32,32,Jo),new Wn(8,16,128,128,Jo),new Wn(8,32,128,256,Jo),new Wn(32,128,258,1024,Jo),new Wn(32,258,258,4096,Jo)];function _M(t){t.window_size=2*t.w_size,Xr(t.head),t.max_lazy_match=ea[t.level].max_lazy,t.good_match=ea[t.level].good_length,t.nice_match=ea[t.level].nice_length,t.max_chain_length=ea[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ce-1,t.match_available=0,t.ins_h=0}function SM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ru,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new It.Buf16(mM*2),this.dyn_dtree=new It.Buf16((2*pM+1)*2),this.bl_tree=new It.Buf16((2*gM+1)*2),Xr(this.dyn_ltree),Xr(this.dyn_dtree),Xr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new It.Buf16(bM+1),this.heap=new It.Buf16(2*L0+1),Xr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new It.Buf16(2*L0+1),Xr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function gv(t){var e;return!t||!t.state?Qr(t,an):(t.total_in=t.total_out=0,t.data_type=fM,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Pu:Qi,t.adler=e.wrap===2?0:1,e.last_flush=Yi,on._tr_init(e),qn)}function mv(t){var e=gv(t);return e===qn&&_M(t.state),e}function CM(t,e){return!t||!t.state||t.state.wrap!==2?an:(t.state.gzhead=e,qn)}function bv(t,e,n,r,i,o){if(!t)return an;var a=1;if(e===rM&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>lM||n!==Ru||r<8||r>15||e<0||e>9||o<0||o>aM)return Qr(t,an);r===8&&(r=9);var s=new SM;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+ce-1)/ce),s.window=new It.Buf8(s.w_size*2),s.head=new It.Buf16(s.hash_size),s.prev=new It.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new It.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=(1+2)*s.lit_bufsize,s.level=e,s.strategy=o,s.method=n,mv(t)}function TM(t,e){return bv(t,e,Ru,uM,cM,sM)}function IM(t,e){var n,r,i,o;if(!t||!t.state||e>cv||e<0)return t?Qr(t,an):an;if(r=t.state,!t.output||!t.input&&t.avail_in!==0||r.status===nf&&e!==$r)return Qr(t,t.avail_out===0?N0:an);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===Pu)if(r.wrap===2)t.adler=0,ye(r,31),ye(r,139),ye(r,8),r.gzhead?(ye(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ye(r,r.gzhead.time&255),ye(r,r.gzhead.time>>8&255),ye(r,r.gzhead.time>>16&255),ye(r,r.gzhead.time>>24&255),ye(r,r.level===9?2:r.strategy>=Fu||r.level<2?4:0),ye(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ye(r,r.gzhead.extra.length&255),ye(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Zr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=z0):(ye(r,0),ye(r,0),ye(r,0),ye(r,0),ye(r,0),ye(r,r.level===9?2:r.strategy>=Fu||r.level<2?4:0),ye(r,wM),r.status=Qi);else{var a=Ru+(r.w_bits-8<<4)<<8,s=-1;r.strategy>=Fu||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,a|=s<<6,r.strstart!==0&&(a|=yM),a+=31-a%31,r.status=Qi,of(r,a),r.strstart!==0&&(of(r,t.adler>>>16),of(r,t.adler&65535)),t.adler=1}if(r.status===z0)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),Kr(t),i=r.pending,r.pending===r.pending_buf_size));)ye(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Mu)}else r.status=Mu;if(r.status===Mu)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),Kr(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,ye(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=Ou)}else r.status=Ou;if(r.status===Ou)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),Kr(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,ye(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Zr(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=Nu)}else r.status=Nu;if(r.status===Nu&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Kr(t),r.pending+2<=r.pending_buf_size&&(ye(r,t.adler&255),ye(r,t.adler>>8&255),t.adler=0,r.status=Qi)):r.status=Qi),r.pending!==0){if(Kr(t),t.avail_out===0)return r.last_flush=-1,qn}else if(t.avail_in===0&&dv(e)<=dv(n)&&e!==$r)return Qr(t,N0);if(r.status===nf&&t.avail_in!==0)return Qr(t,N0);if(t.avail_in!==0||r.lookahead!==0||e!==Yi&&r.status!==nf){var l=r.strategy===Fu?EM(r,e):r.strategy===oM?AM(r,e):ea[r.level].func(r,e);if((l===Xi||l===Ko)&&(r.status=nf),l===it||l===Xi)return t.avail_out===0&&(r.last_flush=-1),qn;if(l===rf&&(e===eM?on._tr_align(r):e!==cv&&(on._tr_stored_block(r,0,0,!1),e===tM&&(Xr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Kr(t),t.avail_out===0))return r.last_flush=-1,qn}return e!==$r?qn:r.wrap<=0?hv:(r.wrap===2?(ye(r,t.adler&255),ye(r,t.adler>>8&255),ye(r,t.adler>>16&255),ye(r,t.adler>>24&255),ye(r,t.total_in&255),ye(r,t.total_in>>8&255),ye(r,t.total_in>>16&255),ye(r,t.total_in>>24&255)):(of(r,t.adler>>>16),of(r,t.adler&65535)),Kr(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?qn:hv)}function kM(t){var e;return!t||!t.state?an:(e=t.state.status,e!==Pu&&e!==z0&&e!==Mu&&e!==Ou&&e!==Nu&&e!==Qi&&e!==nf?Qr(t,an):(t.state=null,e===Qi?Qr(t,nM):qn))}function DM(t,e){var n=e.length,r,i,o,a,s,l,f,u;if(!t||!t.state||(r=t.state,a=r.wrap,a===2||a===1&&r.status!==Pu||r.lookahead))return an;for(a===1&&(t.adler=uv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(a===0&&(Xr(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new It.Buf8(r.w_size),It.arraySet(u,e,n-r.w_size,r.w_size,0),e=u,n=r.w_size),s=t.avail_in,l=t.next_in,f=t.input,t.avail_in=n,t.next_in=0,t.input=e,Ki(r);r.lookahead>=ce;){i=r.strstart,o=r.lookahead-(ce-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+ce-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=ce-1,Ki(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ce-1,r.match_available=0,t.next_in=l,t.input=f,t.avail_in=s,r.wrap=a,qn}Vn.deflateInit=TM,Vn.deflateInit2=bv,Vn.deflateReset=mv,Vn.deflateResetKeep=gv,Vn.deflateSetHeader=CM,Vn.deflate=IM,Vn.deflateEnd=kM,Vn.deflateSetDictionary=DM,Vn.deflateInfo="pako deflate (from Nodeca project)";var Ji={},Lu=lr,yv=!0,wv=!0;try{String.fromCharCode.apply(null,[0])}catch{yv=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wv=!1}for(var af=new Lu.Buf8(256),Jr=0;Jr<256;Jr++)af[Jr]=Jr>=252?6:Jr>=248?5:Jr>=240?4:Jr>=224?3:Jr>=192?2:1;af[254]=af[254]=1,Ji.string2buf=function(t){var e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Lu.Buf8(s),o=0,i=0;o<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};function xv(t,e){if(e<65534&&(t.subarray&&wv||!t.subarray&&yv))return String.fromCharCode.apply(null,Lu.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}Ji.buf2binstring=function(t){return xv(t,t.length)},Ji.binstring2buf=function(t){for(var e=new Lu.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},Ji.buf2string=function(t,e){var n,r,i,o,a=e||t.length,s=new Array(a*2);for(r=0,n=0;n<a;){if(i=t[n++],i<128){s[r++]=i;continue}if(o=af[i],o>4){s[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<a;)i=i<<6|t[n++]&63,o--;if(o>1){s[r++]=65533;continue}i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|i&1023)}return xv(s,r)},Ji.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+af[t[n]]>e?n:e};function BM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vv=BM,sf=Vn,ff=lr,G0=Ji,H0=O0,FM=vv,Av=Object.prototype.toString,RM=0,V0=4,ta=0,Ev=1,_v=2,PM=-1,MM=0,OM=8;function eo(t){if(!(this instanceof eo))return new eo(t);this.options=ff.assign({level:PM,method:OM,chunkSize:16384,windowBits:15,memLevel:8,strategy:MM,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FM,this.strm.avail_out=0;var n=sf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ta)throw new Error(H0[n]);if(e.header&&sf.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(typeof e.dictionary=="string"?r=G0.string2buf(e.dictionary):Av.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=sf.deflateSetDictionary(this.strm,r),n!==ta)throw new Error(H0[n]);this._dict_set=!0}}eo.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:e===!0?V0:RM,typeof t=="string"?n.input=G0.string2buf(t):Av.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new ff.Buf8(r),n.next_out=0,n.avail_out=r),i=sf.deflate(n,o),i!==Ev&&i!==ta)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===V0||o===_v))&&(this.options.to==="string"?this.onData(G0.buf2binstring(ff.shrinkBuf(n.output,n.next_out))):this.onData(ff.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==Ev);return o===V0?(i=sf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ta):(o===_v&&(this.onEnd(ta),n.avail_out=0),!0)},eo.prototype.onData=function(t){this.chunks.push(t)},eo.prototype.onEnd=function(t){t===ta&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function j0(t,e){var n=new eo(e);if(n.push(t,!0),n.err)throw n.msg||H0[n.err];return n.result}function NM(t,e){return e=e||{},e.raw=!0,j0(t,e)}function LM(t,e){return e=e||{},e.gzip=!0,j0(t,e)}Ys.Deflate=eo,Ys.deflate=j0,Ys.deflateRaw=NM,Ys.gzip=LM;var lf={},Tn={},zu=30,zM=12,UM=function(e,n){var r,i,o,a,s,l,f,u,c,h,d,p,b,y,w,S,C,_,k,D,I,R,M,j,L;r=e.state,i=e.next_in,j=e.input,o=i+(e.avail_in-5),a=e.next_out,L=e.output,s=a-(n-e.avail_out),l=a+(e.avail_out-257),f=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,p=r.hold,b=r.bits,y=r.lencode,w=r.distcode,S=(1<<r.lenbits)-1,C=(1<<r.distbits)-1;e:do{b<15&&(p+=j[i++]<<b,b+=8,p+=j[i++]<<b,b+=8),_=y[p&S];t:for(;;){if(k=_>>>24,p>>>=k,b-=k,k=_>>>16&255,k===0)L[a++]=_&65535;else if(k&16){D=_&65535,k&=15,k&&(b<k&&(p+=j[i++]<<b,b+=8),D+=p&(1<<k)-1,p>>>=k,b-=k),b<15&&(p+=j[i++]<<b,b+=8,p+=j[i++]<<b,b+=8),_=w[p&C];n:for(;;){if(k=_>>>24,p>>>=k,b-=k,k=_>>>16&255,k&16){if(I=_&65535,k&=15,b<k&&(p+=j[i++]<<b,b+=8,b<k&&(p+=j[i++]<<b,b+=8)),I+=p&(1<<k)-1,I>f){e.msg="invalid distance too far back",r.mode=zu;break e}if(p>>>=k,b-=k,k=a-s,I>k){if(k=I-k,k>c&&r.sane){e.msg="invalid distance too far back",r.mode=zu;break e}if(R=0,M=d,h===0){if(R+=u-k,k<D){D-=k;do L[a++]=d[R++];while(--k);R=a-I,M=L}}else if(h<k){if(R+=u+h-k,k-=h,k<D){D-=k;do L[a++]=d[R++];while(--k);if(R=0,h<D){k=h,D-=k;do L[a++]=d[R++];while(--k);R=a-I,M=L}}}else if(R+=h-k,k<D){D-=k;do L[a++]=d[R++];while(--k);R=a-I,M=L}for(;D>2;)L[a++]=M[R++],L[a++]=M[R++],L[a++]=M[R++],D-=3;D&&(L[a++]=M[R++],D>1&&(L[a++]=M[R++]))}else{R=a-I;do L[a++]=L[R++],L[a++]=L[R++],L[a++]=L[R++],D-=3;while(D>2);D&&(L[a++]=L[R++],D>1&&(L[a++]=L[R++]))}}else if(k&64){e.msg="invalid distance code",r.mode=zu;break e}else{_=w[(_&65535)+(p&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){r.mode=zM;break e}else{e.msg="invalid literal/length code",r.mode=zu;break e}else{_=y[(_&65535)+(p&(1<<k)-1)];continue t}break}}while(i<o&&a<l);D=b>>3,i-=D,b-=D<<3,p&=(1<<b)-1,e.next_in=i,e.next_out=a,e.avail_in=i<o?5+(o-i):5-(i-o),e.avail_out=a<l?257+(l-a):257-(a-l),r.hold=p,r.bits=b},Sv=lr,na=15,Cv=852,Tv=592,Iv=0,q0=1,kv=2,GM=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],HM=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],VM=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],jM=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],qM=function(e,n,r,i,o,a,s,l){var f=l.bits,u=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,S=0,C=0,_,k,D,I,R,M=null,j=0,L,ne=new Sv.Buf16(na+1),ae=new Sv.Buf16(na+1),de=null,ke=0,Qe,Be,Ke;for(u=0;u<=na;u++)ne[u]=0;for(c=0;c<i;c++)ne[n[r+c]]++;for(p=f,d=na;d>=1&&ne[d]===0;d--);if(p>d&&(p=d),d===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<d&&ne[h]===0;h++);for(p<h&&(p=h),w=1,u=1;u<=na;u++)if(w<<=1,w-=ne[u],w<0)return-1;if(w>0&&(e===Iv||d!==1))return-1;for(ae[1]=0,u=1;u<na;u++)ae[u+1]=ae[u]+ne[u];for(c=0;c<i;c++)n[r+c]!==0&&(s[ae[n[r+c]]++]=c);if(e===Iv?(M=de=s,L=19):e===q0?(M=GM,j-=257,de=HM,ke-=257,L=256):(M=VM,de=jM,L=-1),C=0,c=0,u=h,R=a,b=p,y=0,D=-1,S=1<<p,I=S-1,e===q0&&S>Cv||e===kv&&S>Tv)return 1;for(;;){Qe=u-y,s[c]<L?(Be=0,Ke=s[c]):s[c]>L?(Be=de[ke+s[c]],Ke=M[j+s[c]]):(Be=32+64,Ke=0),_=1<<u-y,k=1<<b,h=k;do k-=_,o[R+(C>>y)+k]=Qe<<24|Be<<16|Ke|0;while(k!==0);for(_=1<<u-1;C&_;)_>>=1;if(_!==0?(C&=_-1,C+=_):C=0,c++,--ne[u]===0){if(u===d)break;u=n[r+s[c]]}if(u>p&&(C&I)!==D){for(y===0&&(y=p),R+=h,b=u-y,w=1<<b;b+y<d&&(w-=ne[b+y],!(w<=0));)b++,w<<=1;if(S+=1<<b,e===q0&&S>Cv||e===kv&&S>Tv)return 1;D=C&I,o[D]=p<<24|b<<16|R-a|0}}return C!==0&&(o[R+C]=u-y<<24|64<<16|0),l.bits=p,0},Qt=lr,W0=fv,Zn=lv,WM=UM,uf=qM,ZM=0,Dv=1,Bv=2,Fv=4,$M=5,Uu=6,to=0,YM=1,QM=2,sn=-2,Rv=-3,Pv=-4,XM=-5,Mv=8,Ov=1,Nv=2,Lv=3,zv=4,Uv=5,Gv=6,Hv=7,Vv=8,jv=9,qv=10,Gu=11,cr=12,Z0=13,Wv=14,$0=15,Zv=16,$v=17,Yv=18,Qv=19,Hu=20,Vu=21,Xv=22,Kv=23,Jv=24,eA=25,tA=26,Y0=27,nA=28,rA=29,Ve=30,iA=31,KM=32,JM=852,eO=592,tO=15,nO=tO;function oA(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function rO(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Qt.Buf16(320),this.work=new Qt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function aA(t){var e;return!t||!t.state?sn:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ov,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Qt.Buf32(JM),e.distcode=e.distdyn=new Qt.Buf32(eO),e.sane=1,e.back=-1,to)}function sA(t){var e;return!t||!t.state?sn:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,aA(t))}function fA(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?sn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,sA(t))}function lA(t,e){var n,r;return t?(r=new rO,t.state=r,r.window=null,n=fA(t,e),n!==to&&(t.state=null),n):sn}function iO(t){return lA(t,nO)}var uA=!0,Q0,X0;function oO(t){if(uA){var e;for(Q0=new Qt.Buf32(512),X0=new Qt.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(uf(Dv,t.lens,0,288,Q0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;uf(Bv,t.lens,0,32,X0,0,t.work,{bits:5}),uA=!1}t.lencode=Q0,t.lenbits=9,t.distcode=X0,t.distbits=5}function cA(t,e,n,r){var i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Qt.Buf8(o.wsize)),r>=o.wsize?(Qt.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),Qt.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(Qt.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function aO(t,e){var n,r,i,o,a,s,l,f,u,c,h,d,p,b,y=0,w,S,C,_,k,D,I,R,M=new Qt.Buf8(4),j,L,ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return sn;n=t.state,n.mode===cr&&(n.mode=Z0),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,f=n.hold,u=n.bits,c=s,h=l,R=to;e:for(;;)switch(n.mode){case Ov:if(n.wrap===0){n.mode=Z0;break}for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.wrap&2&&f===35615){n.check=0,M[0]=f&255,M[1]=f>>>8&255,n.check=Zn(n.check,M,2,0),f=0,u=0,n.mode=Nv;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=Ve;break}if((f&15)!==Mv){t.msg="unknown compression method",n.mode=Ve;break}if(f>>>=4,u-=4,I=(f&15)+8,n.wbits===0)n.wbits=I;else if(I>n.wbits){t.msg="invalid window size",n.mode=Ve;break}n.dmax=1<<I,t.adler=n.check=1,n.mode=f&512?qv:cr,f=0,u=0;break;case Nv:for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.flags=f,(n.flags&255)!==Mv){t.msg="unknown compression method",n.mode=Ve;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ve;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&(M[0]=f&255,M[1]=f>>>8&255,n.check=Zn(n.check,M,2,0)),f=0,u=0,n.mode=Lv;case Lv:for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.head&&(n.head.time=f),n.flags&512&&(M[0]=f&255,M[1]=f>>>8&255,M[2]=f>>>16&255,M[3]=f>>>24&255,n.check=Zn(n.check,M,4,0)),f=0,u=0,n.mode=zv;case zv:for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&(M[0]=f&255,M[1]=f>>>8&255,n.check=Zn(n.check,M,2,0)),f=0,u=0,n.mode=Uv;case Uv:if(n.flags&1024){for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&(M[0]=f&255,M[1]=f>>>8&255,n.check=Zn(n.check,M,2,0)),f=0,u=0}else n.head&&(n.head.extra=null);n.mode=Gv;case Gv:if(n.flags&1024&&(d=n.length,d>s&&(d=s),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Qt.arraySet(n.head.extra,r,o,d,I)),n.flags&512&&(n.check=Zn(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Hv;case Hv:if(n.flags&2048){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&(n.check=Zn(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Vv;case Vv:if(n.flags&4096){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&(n.check=Zn(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=jv;case jv:if(n.flags&512){for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ve;break}f=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=cr;break;case qv:for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}t.adler=n.check=oA(f),f=0,u=0,n.mode=Gu;case Gu:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,QM;t.adler=n.check=1,n.mode=cr;case cr:if(e===$M||e===Uu)break e;case Z0:if(n.last){f>>>=u&7,u-=u&7,n.mode=Y0;break}for(;u<3;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}switch(n.last=f&1,f>>>=1,u-=1,f&3){case 0:n.mode=Wv;break;case 1:if(oO(n),n.mode=Hu,e===Uu){f>>>=2,u-=2;break e}break;case 2:n.mode=$v;break;case 3:t.msg="invalid block type",n.mode=Ve}f>>>=2,u-=2;break;case Wv:for(f>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ve;break}if(n.length=f&65535,f=0,u=0,n.mode=$0,e===Uu)break e;case $0:n.mode=Zv;case Zv:if(d=n.length,d){if(d>s&&(d=s),d>l&&(d=l),d===0)break e;Qt.arraySet(i,r,o,d,a),s-=d,o+=d,l-=d,a+=d,n.length-=d;break}n.mode=cr;break;case $v:for(;u<14;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.nlen=(f&31)+257,f>>>=5,u-=5,n.ndist=(f&31)+1,f>>>=5,u-=5,n.ncode=(f&15)+4,f>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ve;break}n.have=0,n.mode=Yv;case Yv:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.lens[ne[n.have++]]=f&7,f>>>=3,u-=3}for(;n.have<19;)n.lens[ne[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},R=uf(ZM,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,R){t.msg="invalid code lengths set",n.mode=Ve;break}n.have=0,n.mode=Qv;case Qv:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(C<16)f>>>=w,u-=w,n.lens[n.have++]=C;else{if(C===16){for(L=w+2;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(f>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Ve;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,u-=2}else if(C===17){for(L=w+3;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=w,u-=w,I=0,d=3+(f&7),f>>>=3,u-=3}else{for(L=w+7;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=w,u-=w,I=0,d=11+(f&127),f>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ve;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===Ve)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ve;break}if(n.lenbits=9,j={bits:n.lenbits},R=uf(Dv,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,R){t.msg="invalid literal/lengths set",n.mode=Ve;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},R=uf(Bv,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,R){t.msg="invalid distances set",n.mode=Ve;break}if(n.mode=Hu,e===Uu)break e;case Hu:n.mode=Vu;case Vu:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,WM(t,h),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,f=n.hold,u=n.bits,n.mode===cr&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(S&&!(S&240)){for(_=w,k=S,D=C;y=n.lencode[D+((f&(1<<_+k)-1)>>_)],w=y>>>24,S=y>>>16&255,C=y&65535,!(_+w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=_,u-=_,n.back+=_}if(f>>>=w,u-=w,n.back+=w,n.length=C,S===0){n.mode=tA;break}if(S&32){n.back=-1,n.mode=cr;break}if(S&64){t.msg="invalid literal/length code",n.mode=Ve;break}n.extra=S&15,n.mode=Xv;case Xv:if(n.extra){for(L=n.extra;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Kv;case Kv:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(!(S&240)){for(_=w,k=S,D=C;y=n.distcode[D+((f&(1<<_+k)-1)>>_)],w=y>>>24,S=y>>>16&255,C=y&65535,!(_+w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=_,u-=_,n.back+=_}if(f>>>=w,u-=w,n.back+=w,S&64){t.msg="invalid distance code",n.mode=Ve;break}n.offset=C,n.extra=S&15,n.mode=Jv;case Jv:if(n.extra){for(L=n.extra;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ve;break}n.mode=eA;case eA:if(l===0)break e;if(d=h-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ve;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=a-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[a++]=b[p++];while(--d);n.length===0&&(n.mode=Vu);break;case tA:if(l===0)break e;i[a++]=n.length,l--,n.mode=Vu;break;case Y0:if(n.wrap){for(;u<32;){if(s===0)break e;s--,f|=r[o++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?Zn(n.check,i,h,a-h):W0(n.check,i,h,a-h)),h=l,(n.flags?f:oA(f))!==n.check){t.msg="incorrect data check",n.mode=Ve;break}f=0,u=0}n.mode=nA;case nA:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ve;break}f=0,u=0}n.mode=rA;case rA:R=YM;break e;case Ve:R=Rv;break e;case iA:return Pv;case KM:default:return sn}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<Ve&&(n.mode<Y0||e!==Fv))&&cA(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?Zn(n.check,i,h,t.next_out-h):W0(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===cr?128:0)+(n.mode===Hu||n.mode===$0?256:0),(c===0&&h===0||e===Fv)&&R===to&&(R=XM),R}function sO(t){if(!t||!t.state)return sn;var e=t.state;return e.window&&(e.window=null),t.state=null,to}function fO(t,e){var n;return!t||!t.state||(n=t.state,!(n.wrap&2))?sn:(n.head=e,e.done=!1,to)}function lO(t,e){var n=e.length,r,i,o;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==Gu)?sn:r.mode===Gu&&(i=1,i=W0(i,e,n,0),i!==r.check)?Rv:(o=cA(t,e,n,n),o?(r.mode=iA,Pv):(r.havedict=1,to))}Tn.inflateReset=sA,Tn.inflateReset2=fA,Tn.inflateResetKeep=aA,Tn.inflateInit=iO,Tn.inflateInit2=lA,Tn.inflate=aO,Tn.inflateEnd=sO,Tn.inflateGetHeader=fO,Tn.inflateSetDictionary=lO,Tn.inflateInfo="pako inflate (from Nodeca project)";var hA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function uO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cO=uO,ra=Tn,cf=lr,ju=Ji,tt=hA,K0=O0,hO=vv,dO=cO,dA=Object.prototype.toString;function no(t){if(!(this instanceof no))return new no(t);this.options=cf.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hO,this.strm.avail_out=0;var n=ra.inflateInit2(this.strm,e.windowBits);if(n!==tt.Z_OK)throw new Error(K0[n]);if(this.header=new dO,ra.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ju.string2buf(e.dictionary):dA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ra.inflateSetDictionary(this.strm,e.dictionary),n!==tt.Z_OK)))throw new Error(K0[n])}no.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,a,s,l,f,u=!1;if(this.ended)return!1;a=e===~~e?e:e===!0?tt.Z_FINISH:tt.Z_NO_FLUSH,typeof t=="string"?n.input=ju.binstring2buf(t):dA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new cf.Buf8(r),n.next_out=0,n.avail_out=r),o=ra.inflate(n,tt.Z_NO_FLUSH),o===tt.Z_NEED_DICT&&i&&(o=ra.inflateSetDictionary(this.strm,i)),o===tt.Z_BUF_ERROR&&u===!0&&(o=tt.Z_OK,u=!1),o!==tt.Z_STREAM_END&&o!==tt.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===tt.Z_STREAM_END||n.avail_in===0&&(a===tt.Z_FINISH||a===tt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=ju.utf8border(n.output,n.next_out),l=n.next_out-s,f=ju.buf2string(n.output,s),n.next_out=l,n.avail_out=r-l,l&&cf.arraySet(n.output,n.output,s,l,0),this.onData(f)):this.onData(cf.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==tt.Z_STREAM_END);return o===tt.Z_STREAM_END&&(a=tt.Z_FINISH),a===tt.Z_FINISH?(o=ra.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===tt.Z_OK):(a===tt.Z_SYNC_FLUSH&&(this.onEnd(tt.Z_OK),n.avail_out=0),!0)},no.prototype.onData=function(t){this.chunks.push(t)},no.prototype.onEnd=function(t){t===tt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cf.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function J0(t,e){var n=new no(e);if(n.push(t,!0),n.err)throw n.msg||K0[n.err];return n.result}function pO(t,e){return e=e||{},e.raw=!0,J0(t,e)}lf.Inflate=no,lf.inflate=J0,lf.inflateRaw=pO,lf.ungzip=J0;var gO=lr.assign,mO=Ys,bO=lf,yO=hA,pA={};gO(pA,mO,bO,yO);var qu=pA;async function ei(t){try{let e,n=0,r=0;const i=[];let o=0,a;do{const l=t.subarray(n);if(a=new qu.Inflate,{strm:e}=a,a.push(l,qu.Z_SYNC_FLUSH),a.err)throw new Error(a.msg);n+=e.next_in,i[r]=a.result,o+=i[r].length,r+=1}while(e.avail_in);const s=new Uint8Array(o);for(let l=0,f=0;l<i.length;l++)s.set(i[l],f),f+=i[l].length;return be.Buffer.from(s)}catch(e){throw`${e}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):e}}async function gA(t,e){try{let n;const{minv:r,maxv:i}=e;let o=r.blockPosition,a=r.dataPosition;const s=[],l=[],f=[];let u=0,c=0;do{const p=t.subarray(o-r.blockPosition),b=new qu.Inflate;if({strm:n}=b,b.push(p,qu.Z_SYNC_FLUSH),b.err)throw new Error(b.msg);const y=b.result;s.push(y);let w=y.length;l.push(o),f.push(a),s.length===1&&r.dataPosition&&(s[0]=s[0].subarray(r.dataPosition),w=s[0].length);const S=o;if(o+=n.next_in,a+=w,S>=i.blockPosition){s[c]=s[c].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),l.push(o),f.push(a),u+=s[c].length;break}u+=s[c].length,c++}while(n.avail_in);const h=new Uint8Array(u);for(let p=0,b=0;p<s.length;p++)h.set(s[p],b),b+=s[p].length;return{buffer:be.Buffer.from(h),cpositions:l,dpositions:f}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}var wO=Me,fn=null;try{fn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Me(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Me.prototype.__isLong__,Object.defineProperty(Me.prototype,"__isLong__",{value:!0});function zt(t){return(t&&t.__isLong__)===!0}Me.isLong=zt;var mA={},bA={};function ro(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=bA[t],r)?r:(n=Oe(t,(t|0)<0?-1:0,!0),i&&(bA[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=mA[t],r)?r:(n=Oe(t,t<0?-1:0,!1),i&&(mA[t]=n),n))}Me.fromInt=ro;function ln(t,e){if(isNaN(t))return e?io:un;if(e){if(t<0)return io;if(t>=wA)return _A}else{if(t<=-xA)return Ut;if(t+1>=xA)return EA}return t<0?ln(-t,e).neg():Oe(t%ia|0,t/ia|0,e)}Me.fromNumber=ln;function Oe(t,e,n){return new Me(t,e,n)}Me.fromBits=Oe;var Wu=Math.pow;function ep(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return un;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return ep(t.substring(1),e,n).neg();for(var i=ln(Wu(n,8)),o=un,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+s),n);if(s<8){var f=ln(Wu(n,s));o=o.mul(f).add(ln(l))}else o=o.mul(i),o=o.add(ln(l))}return o.unsigned=e,o}Me.fromString=ep;function In(t,e){return typeof t=="number"?ln(t,e):typeof t=="string"?ep(t,e):Oe(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Me.fromValue=In;var yA=65536,xO=1<<24,ia=yA*yA,wA=ia*ia,xA=wA/2,vA=ro(xO),un=ro(0);Me.ZERO=un;var io=ro(0,!0);Me.UZERO=io;var oa=ro(1);Me.ONE=oa;var AA=ro(1,!0);Me.UONE=AA;var tp=ro(-1);Me.NEG_ONE=tp;var EA=Oe(-1,2147483647,!1);Me.MAX_VALUE=EA;var _A=Oe(-1,-1,!0);Me.MAX_UNSIGNED_VALUE=_A;var Ut=Oe(0,-2147483648,!1);Me.MIN_VALUE=Ut;var $=Me.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*ia+(this.low>>>0):this.high*ia+(this.low>>>0)},$.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ut)){var n=ln(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=ln(Wu(e,6),this.unsigned),a=this,s="";;){var l=a.div(o),f=a.sub(l.mul(o)).toInt()>>>0,u=f.toString(e);if(a=l,a.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ut)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(this.low&1)===1},$.isEven=function(){return(this.low&1)===0},$.equals=function(e){return zt(e)||(e=In(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},$.eq=$.equals,$.notEquals=function(e){return!this.eq(e)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(e){return this.comp(e)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(e){return this.comp(e)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(e){return this.comp(e)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(e){return this.comp(e)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(e){if(zt(e)||(e=In(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(Ut)?Ut:this.not().add(oa)},$.neg=$.negate,$.add=function(e){zt(e)||(e=In(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,s=e.high&65535,l=e.low>>>16,f=e.low&65535,u=0,c=0,h=0,d=0;return d+=o+f,h+=d>>>16,d&=65535,h+=i+l,c+=h>>>16,h&=65535,c+=r+s,u+=c>>>16,c&=65535,u+=n+a,u&=65535,Oe(h<<16|d,u<<16|c,this.unsigned)},$.subtract=function(e){return zt(e)||(e=In(e)),this.add(e.neg())},$.sub=$.subtract,$.multiply=function(e){if(this.isZero())return un;if(zt(e)||(e=In(e)),fn){var n=fn.mul(this.low,this.high,e.low,e.high);return Oe(n,fn.get_high(),this.unsigned)}if(e.isZero())return un;if(this.eq(Ut))return e.isOdd()?Ut:un;if(e.eq(Ut))return this.isOdd()?Ut:un;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(vA)&&e.lt(vA))return ln(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,a=this.low&65535,s=e.high>>>16,l=e.high&65535,f=e.low>>>16,u=e.low&65535,c=0,h=0,d=0,p=0;return p+=a*u,d+=p>>>16,p&=65535,d+=o*u,h+=d>>>16,d&=65535,d+=a*f,h+=d>>>16,d&=65535,h+=i*u,c+=h>>>16,h&=65535,h+=o*f,c+=h>>>16,h&=65535,h+=a*l,c+=h>>>16,h&=65535,c+=r*u+i*f+o*l+a*s,c&=65535,Oe(d<<16|p,c<<16|h,this.unsigned)},$.mul=$.multiply,$.divide=function(e){if(zt(e)||(e=In(e)),e.isZero())throw Error("division by zero");if(fn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?fn.div_u:fn.div_s)(this.low,this.high,e.low,e.high);return Oe(n,fn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?io:un;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return io;if(e.gt(this.shru(1)))return AA;o=io}else{if(this.eq(Ut)){if(e.eq(oa)||e.eq(tp))return Ut;if(e.eq(Ut))return oa;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(un)?e.isNegative()?oa:tp:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(Ut))return this.unsigned?io:un;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=un}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),l=s<=48?1:Wu(2,s-48),f=ln(r),u=f.mul(e);u.isNegative()||u.gt(i);)r-=l,f=ln(r,this.unsigned),u=f.mul(e);f.isZero()&&(f=oa),o=o.add(f),i=i.sub(u)}return o},$.div=$.divide,$.modulo=function(e){if(zt(e)||(e=In(e)),fn){var n=(this.unsigned?fn.rem_u:fn.rem_s)(this.low,this.high,e.low,e.high);return Oe(n,fn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return Oe(~this.low,~this.high,this.unsigned)},$.and=function(e){return zt(e)||(e=In(e)),Oe(this.low&e.low,this.high&e.high,this.unsigned)},$.or=function(e){return zt(e)||(e=In(e)),Oe(this.low|e.low,this.high|e.high,this.unsigned)},$.xor=function(e){return zt(e)||(e=In(e)),Oe(this.low^e.low,this.high^e.high,this.unsigned)},$.shiftLeft=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Oe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Oe(0,this.low<<e-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Oe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Oe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(e){if(zt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Oe(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Oe(n,0,this.unsigned):Oe(n>>>e-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.toSigned=function(){return this.unsigned?Oe(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:Oe(this.low,this.high,!0)},$.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},$.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Me.fromBytes=function(e,n,r){return r?Me.fromBytesLE(e,n):Me.fromBytesBE(e,n)},Me.fromBytesLE=function(e,n){return new Me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Me.fromBytesBE=function(e,n){return new Me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const Zu=Zs(wO),$u=1;class vO{constructor({filehandle:e,path:n}){if(e)this.filehandle=e;else if(n)this.filehandle=new ct(n);else throw new TypeError("either filehandle or path must be defined")}_readLongWithOverflow(e,n=0,r=!0){const i=Zu.fromBytesLE(e.slice(n,n+8),r);if(i.greaterThan(Number.MAX_SAFE_INTEGER)||i.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return i.toNumber()}_getIndex(){return this.index||(this.index=this._readIndex()),this.index}async _readIndex(){let e=be.Buffer.allocUnsafe(8);await this.filehandle.read(e,0,8,0);const n=this._readLongWithOverflow(e,0,!0);if(!n)return[[0,0]];const r=new Array(n+1);r[0]=[0,0];const i=8*2*n;if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");e=be.Buffer.allocUnsafe(i),await this.filehandle.read(e,0,i,8);for(let o=0;o<n;o+=1){const a=this._readLongWithOverflow(e,o*16),s=this._readLongWithOverflow(e,o*16+8);r[o+1]=[a,s]}return r}async getLastBlock(){const e=await this._getIndex();if(e.length)return e[e.length-1]}async getRelevantBlocksForRead(e,n){const r=n+e;if(e===0)return[];const i=await this._getIndex(),o=[],a=(h,d)=>{const p=h[$u],b=d?d[$u]:1/0;return p<=n&&b>n?0:p<n?-1:1};let s=0,l=i.length-1,f=Math.floor(i.length/2),u=a(i[f],i[f+1]);for(;u!==0;)u>0?l=f-1:u<0&&(s=f+1),f=Math.ceil((l-s)/2)+s,u=a(i[f],i[f+1]);o.push(i[f]);let c=f+1;for(;c<i.length&&(o.push(i[c]),!(i[c][$u]>=r));c+=1);return o[o.length-1][$u]<r&&o.push([]),o}}class SA{constructor({filehandle:e,path:n,gziFilehandle:r,gziPath:i}){if(e)this.filehandle=e;else if(n)this.filehandle=new ct(n);else throw new TypeError("either filehandle or path must be defined");if(!r&&!i&&!n)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new vO({filehandle:r,path:!r&&!i&&n?i:`${n}.gzi`})}async stat(){const e=await this.filehandle.stat();return Object.assign(e,{size:await this.getUncompressedFileSize(),blocks:void 0,blksize:void 0})}async getUncompressedFileSize(){const[,e]=await this.gzi.getLastBlock(),{size:n}=await this.filehandle.stat(),r=be.Buffer.allocUnsafe(4),{bytesRead:i}=await this.filehandle.read(r,0,4,n-28-4);if(i!==4)throw new Error("read error");const o=r.readUInt32LE(0);return e+o}async _readAndUncompressBlock(e,[n],[r]){let i=r;i||(i=(await this.filehandle.stat()).size);const o=i-n;return await this.filehandle.read(e,0,o,n),await ei(e.slice(0,o))}async read(e,n,r,i){const o=await this.gzi.getRelevantBlocksForRead(r,i),a=be.Buffer.allocUnsafe(32768*2);let s=n,l=0;for(let f=0;f<o.length-1;f+=1){const u=await this._readAndUncompressBlock(a,o[f],o[f+1]),[,c]=o[f],h=c>=i?0:i-c,d=Math.min(i+r,c+u.length)-c;h>=0&&h<u.length&&(u.copy(e,s,h,d),s+=d-h,l+=d-h)}return{bytesRead:l,buffer:e}}}function CA(t,e){return t.offset+t.lineBytes*Math.floor(e/t.lineLength)+e%t.lineLength}async function AO(t,e){const n=await t.readFile(e);if(!(n&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const o=n.toString("utf8").split(/\r?\n/).filter(a=>/\S/.test(a)).map(a=>a.split("	")).filter(a=>a[0]!=="").map(a=>((!i||i.name!==a[0])&&(i={name:a[0],id:r},r+=1),{id:i.id,name:a[0],length:+a[1],start:0,end:+a[1],offset:+a[2],lineLength:+a[3],lineBytes:+a[4]}));return{name:Object.fromEntries(o.map(a=>[a.name,a])),id:Object.fromEntries(o.map(a=>[a.id,a]))}}class TA{constructor({fasta:e,fai:n,path:r,faiPath:i,chunkSizeLimit:o=1e6}){if(e)this.fasta=e;else if(r)this.fasta=new ct(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new ct(i);else if(r)this.fai=new ct(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile");this.chunkSizeLimit=o}async _getIndexes(e){return this.indexes||(this.indexes=AO(this.fai,e)),this.indexes}async getSequenceNames(e){return Object.keys((await this._getIndexes(e)).name)}async getSequenceSizes(e){const n={},r=await this._getIndexes(e),i=Object.values(r.id);for(let o=0;o<i.length;o+=1)n[i[o].name]=i[o].length;return n}async getSequenceSize(e,n){var r;return(r=(await this._getIndexes(n)).name[e])===null||r===void 0?void 0:r.length}async hasReferenceSequence(e,n){return!!(await this._getIndexes(n)).name[e]}async getResiduesById(e,n,r,i){const o=(await this._getIndexes(i)).id[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getResiduesByName(e,n,r,i){const o=(await this._getIndexes(i)).name[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getSequence(e,n,r,i){return this.getResiduesByName(e,n,r,i)}async _fetchFromIndexEntry(e,n=0,r,i){let o=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((o===void 0||o>e.length)&&(o=e.length),n>=o)return"";const a=CA(e,n),s=CA(e,o)-a;if(s>this.chunkSizeLimit)throw new Error(`data size of ${s.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`);const l=Buffer.allocUnsafe(s);return await this.fasta.read(l,0,s,a,i),l.toString("utf8").replace(/\s+/g,"")}}class EO extends TA{constructor({fasta:e,path:n,fai:r,faiPath:i,gzi:o,gziPath:a,chunkSizeLimit:s}){super({fasta:e,path:n,fai:r,faiPath:i,chunkSizeLimit:s}),e&&o?this.fasta=new SA({filehandle:e,gziFilehandle:o}):n&&a&&(this.fasta=new SA({path:n,gziPath:a}))}}function IA(t){return t.split(">").filter(e=>/\S/.test(e)).map(e=>{const[n,...r]=e.split(`
`),[i,...o]=n.split(" "),a=r.join("").replace(/\s/g,"");return{id:i,description:o.join(" "),sequence:a}})}class _O{constructor({fasta:e,path:n}){if(e)this.fasta=e;else if(n)this.fasta=new ct(n);else throw new Error("Need to pass fasta or path");this.data=this.fasta.readFile().then(r=>{const i=r.toString("utf8");return IA(i)})}async fetch(e,n,r){const o=(await this.data).find(s=>s.id===e),a=r-n;if(!o)throw new Error(`no sequence with id ${e} exists`);return o.sequence.substr(n,a)}async getSequenceNames(){return(await this.data).map(n=>n.id)}}const SO=Object.freeze(Object.defineProperty({__proto__:null,BgzipIndexedFasta:EO,FetchableSmallFasta:_O,IndexedFasta:TA,parseSmallFasta:IA},Symbol.toStringTag,{value:"Module"})),Yu=BigInt(32);function CO(t,e,n){const r=+!!n,i=+!n;return BigInt(t.getInt32(e,n)*i+t.getInt32(e+4,n)*r)<<Yu|BigInt(t.getUint32(e,n)*r+t.getUint32(e+4,n)*i)}function TO(t,e,n){const r=t.getUint32(e,n),i=t.getUint32(e+4,n),o=+!!n,a=+!n;return BigInt(r*a+i*o)<<Yu|BigInt(r*o+i*a)}function IO(t,e,n,r){const i=Number(n>>Yu),o=Number(n&BigInt(4294967295));r?(t.setInt32(e+4,i,r),t.setUint32(e,o,r)):(t.setInt32(e,i,r),t.setUint32(e+4,o,r))}function kO(t,e,n,r){const i=Number(n>>Yu),o=Number(n&BigInt(4294967295));r?(t.setUint32(e+4,i,r),t.setUint32(e,o,r)):(t.setUint32(e,i,r),t.setUint32(e+4,o,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(t,e){return CO(this,t,e)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(t,e){return TO(this,t,e)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(t,e,n){IO(this,t,e,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(t,e,n){kO(this,t,e,n)});class DO{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){const n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}}const kn=new Map,oo="___parser_",Dn={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Qu={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Xu={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};let Ie=class Rn{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Rn}primitiveGenerateN(e,n){const r=Qu[e],i=Xu[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Dn[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return kn.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!kn.has(n.type)&&!(n.type in Dn))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!kn.has(o)&&!(o in Dn))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof Rn)&&!kn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof Rn)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Dn)&&!kn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const n=new DO(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${oo+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){const e="imports";return this.getContext(e).code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${oo+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=kn.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){const e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Dn).indexOf(this.type)>=0)e=Dn[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Dn[this.options.type]:this.options.type instanceof Rn&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){const i=new Rn;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}const n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);const i=(u=0)=>{let c=0;for(let h=u;h<e.bitFields.length;h++){const d=e.bitFields[h].options.length;if(c+d>32)break;c+=d}return c},o=u=>(u<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),u=32),e.pushCode(`offset += ${u/8};`),u);let a=0;const s=this.endian==="be";let l=0,f=0;e.bitFields.forEach((u,c)=>{let h=u.options.length;if(h>f){if(f){const b=-1>>>32-f;e.pushCode(`${u.varName} = (${r} & 0x${b.toString(16)}) << ${h-f};`),h-=f}a=0,f=l=o(i(c)-f)}const d=s?l-a-h:a,p=-1>>>32-h;e.pushCode(`${u.varName} ${h<u.options.length?"|=":"="} ${r} >> ${d} & 0x${p.toString(16)};`),u.options.length===32&&e.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(e),u.options.formatter&&u.generateFormatter(e,u.varName,u.options.formatter),a+=h,f-=h}),e.bitFields=[]}}generateSeek(e){const n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",a='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const s=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${s});`);const l=`offset - ${r} < ${s} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${l}), ${a}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${l}));`)}else if(this.options.length){const s=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${s}), ${a}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${s}));`),e.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${a}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${a}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);const a=e.addImport(r);e.pushCode(`if (${a}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{const r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){const n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),a=e.generateVariable(this.varName),s=e.generateTmpVariable(),l=this.options.key,f=typeof l=="string";if(f?e.pushCode(`${a} = {};`):e.pushCode(`${a} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(kn.get(i)){const u=e.generateTmpVariable();if(e.pushCode(`var ${u} = ${oo+i}(offset, {`),e.useContextVariables){const c=e.generateVariable();e.pushCode(`$parent: ${c},`),e.pushCode(`$root: ${c}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${s} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&e.addReference(i)}else{const u=Qu[i],c=Xu[i];e.pushCode(`var ${s} = dataView.get${u}(offset, ${c});`),e.pushCode(`offset += ${Dn[i]};`)}else if(i instanceof Rn){e.pushCode(`var ${s} = {};`);const u=e.generateVariable();e.pushScope(s),e.useContextVariables&&(e.pushCode(`${s}.$parent = ${u};`),e.pushCode(`${s}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${s}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${s}.$parent;`),e.pushCode(`delete ${s}.$root;`),e.pushCode(`delete ${s}.$index;`)),e.popScope()}if(f?e.pushCode(`${a}[${s}.${l}] = ${s};`):e.pushCode(`${a}.push(${s});`),e.pushCode("}"),typeof this.options.readUntil=="function"){const u=this.options.readUntil,c=e.addImport(u);e.pushCode(`while (!${c}.call(${e.generateVariable()}, ${s}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){const i=e.generateVariable(this.varName);if(kn.has(r)){const o=e.generateTmpVariable();e.pushCode(`var ${o} = ${oo+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{const o=Qu[r],a=Xu[r];e.pushCode(`${i} = dataView.get${o}(offset, ${a});`),e.pushCode(`offset += ${Dn[r]}`)}}else r instanceof Rn&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){const n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){const i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const o=parseInt(i,10),a=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,a),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){const n=e.generateVariable(this.varName);if(this.options.type instanceof Rn){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){const r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(kn.has(this.options.type)){const r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${oo+this.options.type}(offset, {`),e.useContextVariables){const i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){const l=this.options.readUntil,f=e.generateTmpVariable(),u=e.generateTmpVariable();e.pushCode(`var ${f} = offset;`),e.pushCode(`var ${u} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${u} = dataView.getUint8(offset);`);const c=e.addImport(l);e.pushCode(`if (${c}.call(${e.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{const l=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${l});`),e.pushCode(`offset += ${l};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);const i=e.generateTmpVariable(),o=e.generateTmpVariable(),a=e.generateTmpVariable(),s=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${s}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${a} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Rn)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(kn.has(this.options.type)){const l=e.generateTmpVariable();e.pushCode(`var ${l} = ${oo+this.options.type}(0);`),e.pushCode(`${n} = ${l}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${a};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){const i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){const n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof Rn){if(e.pushCode(`${o} = {};`),e.useContextVariables){const a=e.generateVariable();e.pushCode(`${o}.$parent = ${a};`),e.pushCode(`${o}.$root = ${a}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(kn.has(this.options.type)){const a=e.generateTmpVariable();if(e.pushCode(`var ${a} = ${oo+this.options.type}(offset, {`),e.useContextVariables){const s=e.generateVariable();e.pushCode(`$parent: ${s},`),e.pushCode(`$root: ${s}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${a}.result; offset = ${a}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Dn).indexOf(this.options.type)>=0){const a=Qu[n],s=Xu[n];e.pushCode(`${o} = dataView.get${a}(offset, ${s});`),e.pushCode(`offset += ${Dn[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){const n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var kA={},np={},ao={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});function rp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ip(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&op(t,e)}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aa(t)}function op(t,e){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},op(t,e)}function FO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function df(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return df(t)}function PO(t){var e=FO();return function(){var r=aa(t),i;if(e){var o=aa(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RO(this,i)}}function MO(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=aa(t),t!==null););return t}function Ku(){return typeof Reflect<"u"&&Reflect.get?Ku=Reflect.get.bind():Ku=function(e,n,r){var i=MO(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ku.apply(this,arguments)}var BA=function(){function t(){rp(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return ip(t,[{key:"addEventListener",value:function(n,r,i){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push({callback:r,options:i})}},{key:"removeEventListener",value:function(n,r){if(n in this.listeners){for(var i=this.listeners[n],o=0,a=i.length;o<a;o++)if(i[o].callback===r){i.splice(o,1);return}}}},{key:"dispatchEvent",value:function(n){if(n.type in this.listeners){for(var r=this.listeners[n.type],i=r.slice(),o=0,a=i.length;o<a;o++){var s=i[o];try{s.callback.call(this,n)}catch(l){Promise.resolve().then(function(){throw l})}s.options&&s.options.once&&this.removeEventListener(n.type,s.callback)}return!n.defaultPrevented}}}]),t}(),ap=function(t){BO(n,t);var e=PO(n);function n(){var r;return rp(this,n),r=e.call(this),r.listeners||BA.call(df(r)),Object.defineProperty(df(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(df(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(df(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return ip(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),Ku(aa(n.prototype),"dispatchEvent",this).call(this,i)}}]),n}(BA),FA=function(){function t(){rp(this,t),Object.defineProperty(this,"signal",{value:new ap,writable:!0,configurable:!0})}return ip(t,[{key:"abort",value:function(n){var r;try{r=new Event("abort")}catch{typeof document<"u"?document.createEvent?(r=document.createEvent("Event"),r.initEvent("abort",!1,!1)):(r=document.createEventObject(),r.type="abort"):r={type:"abort",bubbles:!1,cancelable:!1}}var i=n;if(i===void 0)if(typeof document>"u")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch{i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();typeof Symbol<"u"&&Symbol.toStringTag&&(FA.prototype[Symbol.toStringTag]="AbortController",ap.prototype[Symbol.toStringTag]="AbortSignal");function OO(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof t.Request=="function"&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function NO(t){typeof t=="function"&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,i=r===void 0?n.Request:r,o=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=a===void 0?!1:a;if(!OO({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||s)&&(l=function(h,d){var p;d&&d.signal&&(p=d.signal,delete d.signal);var b=new i(h,d);return p&&Object.defineProperty(b,"signal",{writable:!1,enumerable:!1,configurable:!0,value:p}),b},l.prototype=i.prototype);var f=n,u=function(h,d){var p=l&&l.prototype.isPrototypeOf(h)?h.signal:d?d.signal:void 0;if(p){var b;try{b=new DOMException("Aborted","AbortError")}catch{b=new Error("Aborted"),b.name="AbortError"}if(p.aborted)return Promise.reject(b);var y=new Promise(function(w,S){p.addEventListener("abort",function(){return S(b)},{once:!0})});return d&&d.signal&&delete d.signal,Promise.race([y,f(h,d)])}return f(h,d)};return{fetch:u,Request:l}}hf.AbortController=FA,hf.AbortSignal=ap,hf.abortableFetch=NO,Object.defineProperty(ao,"__esModule",{value:!0}),ao.AbortSignal=ao.AbortController=void 0;const RA=hf;var Ju=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof nn<"u")return nn;throw new Error("unable to locate global object")};let LO=typeof Ju().AbortController>"u"?RA.AbortController:Ju().AbortController;ao.AbortController=LO;let zO=typeof Ju().AbortController>"u"?RA.AbortSignal:Ju().AbortSignal;ao.AbortSignal=zO;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});const UO=ao;class GO{}class HO{constructor(){this.signals=new Set,this.abortController=new UO.AbortController}addSignal(e=new GO){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):typeof e.addEventListener=="function"&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}sp.default=HO;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});class VO{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach(n=>{n(e)})}}fp.default=VO;var PA=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(np,"__esModule",{value:!0});const jO=ao,qO=PA(sp),WO=PA(fp);class ec{constructor({fill:e,cache:n}){if(typeof e!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=e}static isAbortException(e){return e.name==="AbortError"||e.code==="ERR_ABORTED"||e.message==="AbortError: aborted"||e.message==="Error: aborted"}evict(e,n){this.cache.get(e)===n&&this.cache.delete(e)}fill(e,n,r,i){const o=new qO.default,a=new WO.default;a.addCallback(i);const s={aborter:o,promise:this.fillCallback(n,o.signal,l=>{a.callback(l)}),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(r),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(e,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(e,s)}).catch(l=>{throw console.error(l),l}),this.cache.set(e,s)}static checkSinglePromise(e,n){function r(){if(n&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(i=>(r(),i),i=>{throw r(),i})}has(e){return this.cache.has(e)}get(e,n,r,i){if(!r&&n instanceof jO.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const o=this.cache.get(e);return o?o.aborted&&!o.settled?(this.evict(e,o),this.get(e,n,r,i)):o.settled?o.promise:(o.aborter.addSignal(r),o.statusReporter.addCallback(i),ec.checkSinglePromise(o.promise,r)):(this.fill(e,n,r,i),ec.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const n=this.cache.get(e);n&&(n.settled||n.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let n=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),n+=1;return n}}np.default=ec;var ZO=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kA,"__esModule",{value:!0});const $O=ZO(np);var tc=kA.default=$O.default;class YO{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}}var QO=YO;const nc=Zs(QO);class ti{constructor(e,n){this.ranges=arguments.length===2?[{min:e,max:n}]:0 in e?Object.assign({},e):[e]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(e){for(let n=0;n<this.ranges.length;n+=1){const r=this.ranges[n];if(r.min<=e&&r.max>=e)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(e=>new ti(e.min,e.max))}toString(){return this.ranges.map(e=>`[${e.min}-${e.max}]`).join(",")}union(e){const n=this.getRanges().concat(e.getRanges()).sort(this.rangeOrder),r=[];let i=n[0];for(let o=1;o<n.length;o+=1){const a=n[o];a.min()>i.max()+1?(r.push(i),i=a):a.max()>i.max()&&(i=new ti(i.min(),a.max()))}return r.push(i),r.length===1?r[0]:new ti(r)}intersection(e){let n=this,r=e;const i=this.ranges(),o=r.ranges(),a=i.length,s=o.length;let l=0,f=0;const u=[];for(;l<a&&f<s;){n=i[l],r=o[f];const c=Math.max(n.min(),r.min()),h=Math.min(n.max(),r.max());h>=c&&u.push(new ti(c,h)),n.max()>r.max()?f+=1:l+=1}if(u.length===0)throw new Error("found range of length 0");return u.length===1?u[0]:new ti(u)}coverage(){let e=0;const n=this.ranges();for(const r of n)e+=r.max()-r.min()+1;return e}rangeOrder(e,n){let r=e,i=n;return arguments.length<2&&(i=r,r=this),r.min()<i.min()?-1:r.min()>i.min()?1:r.max()<i.max()?-1:i.max()>r.max()?1:0}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const XO=4,MA=0,OA=1,KO=2;function sa(t){let e=t.length;for(;--e>=0;)t[e]=0}const JO=0,NA=1,e9=2,t9=3,n9=258,lp=29,pf=256,gf=pf+1+lp,fa=30,up=19,LA=2*gf+1,so=15,cp=16,r9=7,hp=256,zA=16,UA=17,GA=18,dp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i9=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),HA=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o9=512,hr=new Array((gf+2)*2);sa(hr);const mf=new Array(fa*2);sa(mf);const bf=new Array(o9);sa(bf);const yf=new Array(n9-t9+1);sa(yf);const pp=new Array(lp);sa(pp);const ic=new Array(fa);sa(ic);function gp(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let VA,jA,qA;function mp(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const WA=t=>t<256?bf[t]:bf[256+(t>>>7)],wf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Gt=(t,e,n)=>{t.bi_valid>cp-n?(t.bi_buf|=e<<t.bi_valid&65535,wf(t,t.bi_buf),t.bi_buf=e>>cp-t.bi_valid,t.bi_valid+=n-cp):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},$n=(t,e,n)=>{Gt(t,n[e*2],n[e*2+1])},ZA=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},a9=t=>{t.bi_valid===16?(wf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},s9=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let f,u,c,h,d,p,b=0;for(h=0;h<=so;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<LA;f++)u=t.heap[f],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,b++),n[u*2+1]=h,!(u>r)&&(t.bl_count[h]++,d=0,u>=s&&(d=a[u-s]),p=n[u*2],t.opt_len+=p*(h+d),o&&(t.static_len+=p*(i[u*2+1]+d)));if(b!==0){do{for(h=l-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,b-=2}while(b>0);for(h=l;h!==0;h--)for(u=t.bl_count[h];u!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),u--)}},$A=(t,e,n)=>{const r=new Array(so+1);let i=0,o,a;for(o=1;o<=so;o++)i=i+n[o-1]<<1,r[o]=i;for(a=0;a<=e;a++){let s=t[a*2+1];s!==0&&(t[a*2]=ZA(r[s]++,s))}},f9=()=>{let t,e,n,r,i;const o=new Array(so+1);for(n=0,r=0;r<lp-1;r++)for(pp[r]=n,t=0;t<1<<dp[r];t++)yf[n++]=r;for(yf[n-1]=r,i=0,r=0;r<16;r++)for(ic[r]=i,t=0;t<1<<rc[r];t++)bf[i++]=r;for(i>>=7;r<fa;r++)for(ic[r]=i<<7,t=0;t<1<<rc[r]-7;t++)bf[256+i++]=r;for(e=0;e<=so;e++)o[e]=0;for(t=0;t<=143;)hr[t*2+1]=8,t++,o[8]++;for(;t<=255;)hr[t*2+1]=9,t++,o[9]++;for(;t<=279;)hr[t*2+1]=7,t++,o[7]++;for(;t<=287;)hr[t*2+1]=8,t++,o[8]++;for($A(hr,gf+1,o),t=0;t<fa;t++)mf[t*2+1]=5,mf[t*2]=ZA(t,5);VA=new gp(hr,dp,pf+1,gf,so),jA=new gp(mf,rc,0,fa,so),qA=new gp(new Array(0),i9,0,up,r9)},YA=t=>{let e;for(e=0;e<gf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<fa;e++)t.dyn_dtree[e*2]=0;for(e=0;e<up;e++)t.bl_tree[e*2]=0;t.dyn_ltree[hp*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},QA=t=>{t.bi_valid>8?wf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},XA=(t,e,n,r)=>{const i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},bp=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&XA(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!XA(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},KA=(t,e,n)=>{let r,i,o=0,a,s;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?$n(t,i,e):(a=yf[i],$n(t,a+pf+1,e),s=dp[a],s!==0&&(i-=pp[a],Gt(t,i,s)),r--,a=WA(r),$n(t,a,n),s=rc[a],s!==0&&(r-=ic[a],Gt(t,r,s)));while(o<t.sym_next);$n(t,hp,e)},yp=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,l=-1,f;for(t.heap_len=0,t.heap_max=LA,a=0;a<o;a++)n[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):n[a*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=l<2?++l:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)bp(t,n,a);f=o;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],bp(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,n[f*2]=n[a*2]+n[s*2],t.depth[f]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,n[a*2+1]=n[s*2+1]=f,t.heap[1]=f++,bp(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],s9(t,e),$A(n,l,t.bl_count)},JA=(t,e,n)=>{let r,i=-1,o,a=e[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=a,a=e[(r+1)*2+1],!(++s<l&&o===a)&&(s<f?t.bl_tree[o*2]+=s:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[zA*2]++):s<=10?t.bl_tree[UA*2]++:t.bl_tree[GA*2]++,s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4))},e2=(t,e,n)=>{let r,i=-1,o,a=e[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),r=0;r<=n;r++)if(o=a,a=e[(r+1)*2+1],!(++s<l&&o===a)){if(s<f)do $n(t,o,t.bl_tree);while(--s!==0);else o!==0?(o!==i&&($n(t,o,t.bl_tree),s--),$n(t,zA,t.bl_tree),Gt(t,s-3,2)):s<=10?($n(t,UA,t.bl_tree),Gt(t,s-3,3)):($n(t,GA,t.bl_tree),Gt(t,s-11,7));s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4)}},l9=t=>{let e;for(JA(t,t.dyn_ltree,t.l_desc.max_code),JA(t,t.dyn_dtree,t.d_desc.max_code),yp(t,t.bl_desc),e=up-1;e>=3&&t.bl_tree[HA[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},u9=(t,e,n,r)=>{let i;for(Gt(t,e-257,5),Gt(t,n-1,5),Gt(t,r-4,4),i=0;i<r;i++)Gt(t,t.bl_tree[HA[i]*2+1],3);e2(t,t.dyn_ltree,e-1),e2(t,t.dyn_dtree,n-1)},c9=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return MA;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return OA;for(n=32;n<pf;n++)if(t.dyn_ltree[n*2]!==0)return OA;return MA};let t2=!1;const h9=t=>{t2||(f9(),t2=!0),t.l_desc=new mp(t.dyn_ltree,VA),t.d_desc=new mp(t.dyn_dtree,jA),t.bl_desc=new mp(t.bl_tree,qA),t.bi_buf=0,t.bi_valid=0,YA(t)},n2=(t,e,n,r)=>{Gt(t,(JO<<1)+(r?1:0),3),QA(t),wf(t,n),wf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},d9=t=>{Gt(t,NA<<1,3),$n(t,hp,hr),a9(t)},p9=(t,e,n,r)=>{let i,o,a=0;t.level>0?(t.strm.data_type===KO&&(t.strm.data_type=c9(t)),yp(t,t.l_desc),yp(t,t.d_desc),a=l9(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?n2(t,e,n,r):t.strategy===XO||o===i?(Gt(t,(NA<<1)+(r?1:0),3),KA(t,hr,mf)):(Gt(t,(e9<<1)+(r?1:0),3),u9(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),KA(t,t.dyn_ltree,t.dyn_dtree)),YA(t),r&&QA(t)},g9=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(yf[n]+pf+1)*2]++,t.dyn_dtree[WA(e)*2]++),t.sym_next===t.sym_end);var m9=h9,b9=n2,y9=p9,w9=g9,x9=d9,v9={_tr_init:m9,_tr_stored_block:b9,_tr_flush_block:y9,_tr_tally:w9,_tr_align:x9},xf=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0};const A9=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},E9=new Uint32Array(A9());var ht=(t,e,n,r)=>{const i=E9,o=r+n;t^=-1;for(let a=r;a<o;a++)t=t>>>8^i[(t^e[a])&255];return t^-1},la={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_9,_tr_stored_block:wp,_tr_flush_block:S9,_tr_tally:ni,_tr_align:C9}=v9,{Z_NO_FLUSH:ri,Z_PARTIAL_FLUSH:T9,Z_FULL_FLUSH:I9,Z_FINISH:cn,Z_BLOCK:r2,Z_OK:bt,Z_STREAM_END:i2,Z_STREAM_ERROR:Yn,Z_DATA_ERROR:k9,Z_BUF_ERROR:xp,Z_DEFAULT_COMPRESSION:D9,Z_FILTERED:B9,Z_HUFFMAN_ONLY:oc,Z_RLE:F9,Z_FIXED:R9,Z_DEFAULT_STRATEGY:P9,Z_UNKNOWN:M9,Z_DEFLATED:ac}=vf,O9=9,N9=15,L9=8,z9=29,vp=256+1+z9,U9=30,G9=19,H9=2*vp+1,V9=15,he=3,ii=258,Qn=ii+he+1,j9=32,ua=42,Ap=57,Ep=69,_p=73,Sp=91,Cp=103,fo=113,Af=666,kt=1,ca=2,lo=3,ha=4,q9=3,uo=(t,e)=>(t.msg=la[e],e),o2=t=>t*2-(t>4?9:0),oi=t=>{let e=t.length;for(;--e>=0;)t[e]=0},W9=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let ai=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Xt=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Kt=(t,e)=>{S9(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Xt(t.strm)},ve=(t,e)=>{t.pending_buf[t.pending++]=e},Ef=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Tp=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=xf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=ht(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},a2=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,a=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Qn?t.strstart-(t.w_size-Qn):0,f=t.window,u=t.w_mask,c=t.prev,h=t.strstart+ii;let d=f[r+a-1],p=f[r+a];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(f[i+a]!==p||f[i+a-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(o=ii-(h-r),r=h-ii,o>a){if(t.match_start=e,a=o,o>=s)break;d=f[r+a-1],p=f[r+a]}}while((e=c[e&u])>l&&--n!==0);return a<=t.lookahead?a:t.lookahead},da=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Qn)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),W9(t),r+=e),t.strm.avail_in===0)break;if(n=Tp(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=he)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=ai(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=ai(t,t.ins_h,t.window[i+he-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<he)););}while(t.lookahead<Qn&&t.strm.avail_in!==0)},s2=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,a=0,s=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==cn||e===ri||r!==i+t.strm.avail_in)))break;a=e===cn&&r===i+t.strm.avail_in?1:0,wp(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Xt(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Tp(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(a===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?ha:e!==ri&&e!==cn&&t.strm.avail_in===0&&t.strstart===t.block_start?ca:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Tp(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===cn)&&e!==ri&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,a=e===cn&&t.strm.avail_in===0&&r===i?1:0,wp(t,t.block_start,r,a),t.block_start+=r,Xt(t.strm)),a?lo:kt)},Ip=(t,e)=>{let n,r;for(;;){if(t.lookahead<Qn){if(da(t),t.lookahead<Qn&&e===ri)return kt;if(t.lookahead===0)break}if(n=0,t.lookahead>=he&&(t.ins_h=ai(t,t.ins_h,t.window[t.strstart+he-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Qn&&(t.match_length=a2(t,n)),t.match_length>=he)if(r=ni(t,t.strstart-t.match_start,t.match_length-he),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=he){t.match_length--;do t.strstart++,t.ins_h=ai(t,t.ins_h,t.window[t.strstart+he-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ai(t,t.ins_h,t.window[t.strstart+1]);else r=ni(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Kt(t,!1),t.strm.avail_out===0))return kt}return t.insert=t.strstart<he-1?t.strstart:he-1,e===cn?(Kt(t,!0),t.strm.avail_out===0?lo:ha):t.sym_next&&(Kt(t,!1),t.strm.avail_out===0)?kt:ca},pa=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Qn){if(da(t),t.lookahead<Qn&&e===ri)return kt;if(t.lookahead===0)break}if(n=0,t.lookahead>=he&&(t.ins_h=ai(t,t.ins_h,t.window[t.strstart+he-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=he-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Qn&&(t.match_length=a2(t,n),t.match_length<=5&&(t.strategy===B9||t.match_length===he&&t.strstart-t.match_start>4096)&&(t.match_length=he-1)),t.prev_length>=he&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-he,r=ni(t,t.strstart-1-t.prev_match,t.prev_length-he),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=ai(t,t.ins_h,t.window[t.strstart+he-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=he-1,t.strstart++,r&&(Kt(t,!1),t.strm.avail_out===0))return kt}else if(t.match_available){if(r=ni(t,0,t.window[t.strstart-1]),r&&Kt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return kt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ni(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<he-1?t.strstart:he-1,e===cn?(Kt(t,!0),t.strm.avail_out===0?lo:ha):t.sym_next&&(Kt(t,!1),t.strm.avail_out===0)?kt:ca},Z9=(t,e)=>{let n,r,i,o;const a=t.window;for(;;){if(t.lookahead<=ii){if(da(t),t.lookahead<=ii&&e===ri)return kt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=he&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ii;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ii-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=he?(n=ni(t,1,t.match_length-he),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=ni(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Kt(t,!1),t.strm.avail_out===0))return kt}return t.insert=0,e===cn?(Kt(t,!0),t.strm.avail_out===0?lo:ha):t.sym_next&&(Kt(t,!1),t.strm.avail_out===0)?kt:ca},$9=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(da(t),t.lookahead===0)){if(e===ri)return kt;break}if(t.match_length=0,n=ni(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Kt(t,!1),t.strm.avail_out===0))return kt}return t.insert=0,e===cn?(Kt(t,!0),t.strm.avail_out===0?lo:ha):t.sym_next&&(Kt(t,!1),t.strm.avail_out===0)?kt:ca};function Xn(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const _f=[new Xn(0,0,0,0,s2),new Xn(4,4,8,4,Ip),new Xn(4,5,16,8,Ip),new Xn(4,6,32,32,Ip),new Xn(4,4,16,16,pa),new Xn(8,16,32,32,pa),new Xn(8,16,128,128,pa),new Xn(8,32,128,256,pa),new Xn(32,128,258,1024,pa),new Xn(32,258,258,4096,pa)],Y9=t=>{t.window_size=2*t.w_size,oi(t.head),t.max_lazy_match=_f[t.level].max_lazy,t.good_match=_f[t.level].good_length,t.nice_match=_f[t.level].nice_length,t.max_chain_length=_f[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=he-1,t.match_available=0,t.ins_h=0};function Q9(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ac,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(H9*2),this.dyn_dtree=new Uint16Array((2*U9+1)*2),this.bl_tree=new Uint16Array((2*G9+1)*2),oi(this.dyn_ltree),oi(this.dyn_dtree),oi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(V9+1),this.heap=new Uint16Array(2*vp+1),oi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vp+1),oi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Sf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ua&&e.status!==Ap&&e.status!==Ep&&e.status!==_p&&e.status!==Sp&&e.status!==Cp&&e.status!==fo&&e.status!==Af?1:0},f2=t=>{if(Sf(t))return uo(t,Yn);t.total_in=t.total_out=0,t.data_type=M9;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Ap:e.wrap?ua:fo,t.adler=e.wrap===2?0:1,e.last_flush=-2,_9(e),bt},l2=t=>{const e=f2(t);return e===bt&&Y9(t.state),e},X9=(t,e)=>Sf(t)||t.state.wrap!==2?Yn:(t.state.gzhead=e,bt),u2=(t,e,n,r,i,o)=>{if(!t)return Yn;let a=1;if(e===D9&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>O9||n!==ac||r<8||r>15||e<0||e>9||o<0||o>R9||r===8&&a!==1)return uo(t,Yn);r===8&&(r=9);const s=new Q9;return t.state=s,s.strm=t,s.status=ua,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+he-1)/he),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=o,s.method=n,l2(t)},K9=(t,e)=>u2(t,e,ac,N9,L9,P9),J9=(t,e)=>{if(Sf(t)||e>r2||e<0)return t?uo(t,Yn):Yn;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Af&&e!==cn)return uo(t,t.avail_out===0?xp:Yn);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Xt(t),t.avail_out===0)return n.last_flush=-1,bt}else if(t.avail_in===0&&o2(e)<=o2(r)&&e!==cn)return uo(t,xp);if(n.status===Af&&t.avail_in!==0)return uo(t,xp);if(n.status===ua&&n.wrap===0&&(n.status=fo),n.status===ua){let i=ac+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=oc||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=j9),i+=31-i%31,Ef(n,i),n.strstart!==0&&(Ef(n,t.adler>>>16),Ef(n,t.adler&65535)),t.adler=1,n.status=fo,Xt(t),n.pending!==0)return n.last_flush=-1,bt}if(n.status===Ap){if(t.adler=0,ve(n,31),ve(n,139),ve(n,8),n.gzhead)ve(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ve(n,n.gzhead.time&255),ve(n,n.gzhead.time>>8&255),ve(n,n.gzhead.time>>16&255),ve(n,n.gzhead.time>>24&255),ve(n,n.level===9?2:n.strategy>=oc||n.level<2?4:0),ve(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ve(n,n.gzhead.extra.length&255),ve(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=ht(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Ep;else if(ve(n,0),ve(n,0),ve(n,0),ve(n,0),ve(n,0),ve(n,n.level===9?2:n.strategy>=oc||n.level<2?4:0),ve(n,q9),n.status=fo,Xt(t),n.pending!==0)return n.last_flush=-1,bt}if(n.status===Ep){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,Xt(t),n.pending!==0)return n.last_flush=-1,bt;i=0,o-=s}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=_p}if(n.status===_p){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i)),Xt(t),n.pending!==0)return n.last_flush=-1,bt;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,ve(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Sp}if(n.status===Sp){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i)),Xt(t),n.pending!==0)return n.last_flush=-1,bt;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,ve(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=ht(t.adler,n.pending_buf,n.pending-i,i))}n.status=Cp}if(n.status===Cp){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Xt(t),n.pending!==0))return n.last_flush=-1,bt;ve(n,t.adler&255),ve(n,t.adler>>8&255),t.adler=0}if(n.status=fo,Xt(t),n.pending!==0)return n.last_flush=-1,bt}if(t.avail_in!==0||n.lookahead!==0||e!==ri&&n.status!==Af){let i=n.level===0?s2(n,e):n.strategy===oc?$9(n,e):n.strategy===F9?Z9(n,e):_f[n.level].func(n,e);if((i===lo||i===ha)&&(n.status=Af),i===kt||i===lo)return t.avail_out===0&&(n.last_flush=-1),bt;if(i===ca&&(e===T9?C9(n):e!==r2&&(wp(n,0,0,!1),e===I9&&(oi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Xt(t),t.avail_out===0))return n.last_flush=-1,bt}return e!==cn?bt:n.wrap<=0?i2:(n.wrap===2?(ve(n,t.adler&255),ve(n,t.adler>>8&255),ve(n,t.adler>>16&255),ve(n,t.adler>>24&255),ve(n,t.total_in&255),ve(n,t.total_in>>8&255),ve(n,t.total_in>>16&255),ve(n,t.total_in>>24&255)):(Ef(n,t.adler>>>16),Ef(n,t.adler&65535)),Xt(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?bt:i2)},eN=t=>{if(Sf(t))return Yn;const e=t.state.status;return t.state=null,e===fo?uo(t,k9):bt},tN=(t,e)=>{let n=e.length;if(Sf(t))return Yn;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==ua||r.lookahead)return Yn;if(i===1&&(t.adler=xf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(oi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,da(r);r.lookahead>=he;){let l=r.strstart,f=r.lookahead-(he-1);do r.ins_h=ai(r,r.ins_h,r.window[l+he-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--f);r.strstart=l,r.lookahead=he-1,da(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=he-1,r.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,r.wrap=i,bt};var nN=K9,rN=u2,iN=l2,oN=f2,aN=X9,sN=J9,fN=eN,lN=tN,uN="pako deflate (from Nodeca project)",Cf={deflateInit:nN,deflateInit2:rN,deflateReset:iN,deflateResetKeep:oN,deflateSetHeader:aN,deflate:sN,deflateEnd:fN,deflateSetDictionary:lN,deflateInfo:uN};const cN=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var hN=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cN(n,r)&&(t[r]=n[r])}}return t},dN=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let a=t[r];n.set(a,i),i+=a.length}return n},sc={assign:hN,flattenChunks:dN};let c2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c2=!1}const Tf=new Uint8Array(256);for(let t=0;t<256;t++)Tf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Tf[254]=Tf[254]=1;var pN=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const gN=(t,e)=>{if(e<65534&&t.subarray&&c2)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var mN=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){o[i++]=a;continue}let s=Tf[a];if(s>4){o[i++]=65533,r+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&r<n;)a=a<<6|t[r++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return gN(o,i)},bN=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Tf[t[n]]>e?n:e},If={string2buf:pN,buf2string:mN,utf8border:bN};function yN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var h2=yN;const d2=Object.prototype.toString,{Z_NO_FLUSH:wN,Z_SYNC_FLUSH:xN,Z_FULL_FLUSH:vN,Z_FINISH:AN,Z_OK:fc,Z_STREAM_END:EN,Z_DEFAULT_COMPRESSION:_N,Z_DEFAULT_STRATEGY:SN,Z_DEFLATED:CN}=vf;function kp(t){this.options=sc.assign({level:_N,method:CN,chunkSize:16384,windowBits:15,memLevel:8,strategy:SN},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h2,this.strm.avail_out=0;let n=Cf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==fc)throw new Error(la[n]);if(e.header&&Cf.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=If.string2buf(e.dictionary):d2.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Cf.deflateSetDictionary(this.strm,r),n!==fc)throw new Error(la[n]);this._dict_set=!0}}kp.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?AN:wN,typeof t=="string"?n.input=If.string2buf(t):d2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===xN||o===vN)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Cf.deflate(n,o),i===EN)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Cf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fc;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},kp.prototype.onData=function(t){this.chunks.push(t)},kp.prototype.onEnd=function(t){t===fc&&(this.result=sc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const lc=16209,TN=16191;var IN=function(e,n){let r,i,o,a,s,l,f,u,c,h,d,p,b,y,w,S,C,_,k,D,I,R,M,j;const L=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),o=e.next_out,j=e.output,a=o-(n-e.avail_out),s=o+(e.avail_out-257),l=L.dmax,f=L.wsize,u=L.whave,c=L.wnext,h=L.window,d=L.hold,p=L.bits,b=L.lencode,y=L.distcode,w=(1<<L.lenbits)-1,S=(1<<L.distbits)-1;e:do{p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),C=b[d&w];t:for(;;){if(_=C>>>24,d>>>=_,p-=_,_=C>>>16&255,_===0)j[o++]=C&65535;else if(_&16){k=C&65535,_&=15,_&&(p<_&&(d+=M[r++]<<p,p+=8),k+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),C=y[d&S];n:for(;;){if(_=C>>>24,d>>>=_,p-=_,_=C>>>16&255,_&16){if(D=C&65535,_&=15,p<_&&(d+=M[r++]<<p,p+=8,p<_&&(d+=M[r++]<<p,p+=8)),D+=d&(1<<_)-1,D>l){e.msg="invalid distance too far back",L.mode=lc;break e}if(d>>>=_,p-=_,_=o-a,D>_){if(_=D-_,_>u&&L.sane){e.msg="invalid distance too far back",L.mode=lc;break e}if(I=0,R=h,c===0){if(I+=f-_,_<k){k-=_;do j[o++]=h[I++];while(--_);I=o-D,R=j}}else if(c<_){if(I+=f+c-_,_-=c,_<k){k-=_;do j[o++]=h[I++];while(--_);if(I=0,c<k){_=c,k-=_;do j[o++]=h[I++];while(--_);I=o-D,R=j}}}else if(I+=c-_,_<k){k-=_;do j[o++]=h[I++];while(--_);I=o-D,R=j}for(;k>2;)j[o++]=R[I++],j[o++]=R[I++],j[o++]=R[I++],k-=3;k&&(j[o++]=R[I++],k>1&&(j[o++]=R[I++]))}else{I=o-D;do j[o++]=j[I++],j[o++]=j[I++],j[o++]=j[I++],k-=3;while(k>2);k&&(j[o++]=j[I++],k>1&&(j[o++]=j[I++]))}}else if(_&64){e.msg="invalid distance code",L.mode=lc;break e}else{C=y[(C&65535)+(d&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){L.mode=TN;break e}else{e.msg="invalid literal/length code",L.mode=lc;break e}else{C=b[(C&65535)+(d&(1<<_)-1)];continue t}break}}while(r<i&&o<s);k=p>>3,r-=k,p-=k<<3,d&=(1<<p)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<s?257+(s-o):257-(o-s),L.hold=d,L.bits=p};const ga=15,p2=852,g2=592,m2=0,Dp=1,b2=2,kN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),BN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var kf=(t,e,n,r,i,o,a,s)=>{const l=s.bits;let f=0,u=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,S=0,C,_,k,D,I,R=null,M;const j=new Uint16Array(ga+1),L=new Uint16Array(ga+1);let ne=null,ae,de,ke;for(f=0;f<=ga;f++)j[f]=0;for(u=0;u<r;u++)j[e[n+u]]++;for(d=l,h=ga;h>=1&&j[h]===0;h--);if(d>h&&(d=h),h===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(c=1;c<h&&j[c]===0;c++);for(d<c&&(d=c),y=1,f=1;f<=ga;f++)if(y<<=1,y-=j[f],y<0)return-1;if(y>0&&(t===m2||h!==1))return-1;for(L[1]=0,f=1;f<ga;f++)L[f+1]=L[f]+j[f];for(u=0;u<r;u++)e[n+u]!==0&&(a[L[e[n+u]]++]=u);if(t===m2?(R=ne=a,M=20):t===Dp?(R=kN,ne=DN,M=257):(R=BN,ne=FN,M=0),S=0,u=0,f=c,I=o,p=d,b=0,k=-1,w=1<<d,D=w-1,t===Dp&&w>p2||t===b2&&w>g2)return 1;for(;;){ae=f-b,a[u]+1<M?(de=0,ke=a[u]):a[u]>=M?(de=ne[a[u]-M],ke=R[a[u]-M]):(de=32+64,ke=0),C=1<<f-b,_=1<<p,c=_;do _-=C,i[I+(S>>b)+_]=ae<<24|de<<16|ke|0;while(_!==0);for(C=1<<f-1;S&C;)C>>=1;if(C!==0?(S&=C-1,S+=C):S=0,u++,--j[f]===0){if(f===h)break;f=e[n+a[u]]}if(f>d&&(S&D)!==k){for(b===0&&(b=d),I+=c,p=f-b,y=1<<p;p+b<h&&(y-=j[p+b],!(y<=0));)p++,y<<=1;if(w+=1<<p,t===Dp&&w>p2||t===b2&&w>g2)return 1;k=S&D,i[k]=d<<24|p<<16|I-o|0}}return S!==0&&(i[I+S]=f-b<<24|64<<16|0),s.bits=d,0};const RN=0,y2=1,w2=2,{Z_FINISH:x2,Z_BLOCK:PN,Z_TREES:uc,Z_OK:co,Z_STREAM_END:MN,Z_NEED_DICT:ON,Z_STREAM_ERROR:hn,Z_DATA_ERROR:v2,Z_MEM_ERROR:A2,Z_BUF_ERROR:NN,Z_DEFLATED:E2}=vf,cc=16180,_2=16181,S2=16182,C2=16183,T2=16184,I2=16185,k2=16186,D2=16187,B2=16188,F2=16189,hc=16190,dr=16191,Bp=16192,R2=16193,Fp=16194,P2=16195,M2=16196,O2=16197,N2=16198,dc=16199,pc=16200,L2=16201,z2=16202,U2=16203,G2=16204,H2=16205,Rp=16206,V2=16207,j2=16208,je=16209,q2=16210,W2=16211,LN=852,zN=592,UN=15,Z2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function GN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ho=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cc||e.mode>W2?1:0},$2=t=>{if(ho(t))return hn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(LN),e.distcode=e.distdyn=new Int32Array(zN),e.sane=1,e.back=-1,co},Y2=t=>{if(ho(t))return hn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,$2(t)},Q2=(t,e)=>{let n;if(ho(t))return hn;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Y2(t))},X2=(t,e)=>{if(!t)return hn;const n=new GN;t.state=n,n.strm=t,n.window=null,n.mode=cc;const r=Q2(t,e);return r!==co&&(t.state=null),r},HN=t=>X2(t,UN);let K2=!0,Pp,Mp;const VN=t=>{if(K2){Pp=new Int32Array(512),Mp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kf(y2,t.lens,0,288,Pp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kf(w2,t.lens,0,32,Mp,0,t.work,{bits:5}),K2=!1}t.lencode=Pp,t.lenbits=9,t.distcode=Mp,t.distbits=5},J2=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},jN=(t,e)=>{let n,r,i,o,a,s,l,f,u,c,h,d,p,b,y=0,w,S,C,_,k,D,I,R;const M=new Uint8Array(4);let j,L;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ho(t)||!t.output||!t.input&&t.avail_in!==0)return hn;n=t.state,n.mode===dr&&(n.mode=Bp),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,f=n.hold,u=n.bits,c=s,h=l,R=co;e:for(;;)switch(n.mode){case cc:if(n.wrap===0){n.mode=Bp;break}for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=f&255,M[1]=f>>>8&255,n.check=ht(n.check,M,2,0),f=0,u=0,n.mode=_2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=je;break}if((f&15)!==E2){t.msg="unknown compression method",n.mode=je;break}if(f>>>=4,u-=4,I=(f&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=je;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?F2:dr,f=0,u=0;break;case _2:for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.flags=f,(n.flags&255)!==E2){t.msg="unknown compression method",n.mode=je;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=je;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=ht(n.check,M,2,0)),f=0,u=0,n.mode=S2;case S2:for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,M[2]=f>>>16&255,M[3]=f>>>24&255,n.check=ht(n.check,M,4,0)),f=0,u=0,n.mode=C2;case C2:for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=ht(n.check,M,2,0)),f=0,u=0,n.mode=T2;case T2:if(n.flags&1024){for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,n.check=ht(n.check,M,2,0)),f=0,u=0}else n.head&&(n.head.extra=null);n.mode=I2;case I2:if(n.flags&1024&&(d=n.length,d>s&&(d=s),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),I)),n.flags&512&&n.wrap&4&&(n.check=ht(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=k2;case k2:if(n.flags&2048){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&n.wrap&4&&(n.check=ht(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=D2;case D2:if(n.flags&4096){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&n.wrap&4&&(n.check=ht(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=B2;case B2:if(n.flags&512){for(;u<16;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=je;break}f=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=dr;break;case F2:for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}t.adler=n.check=Z2(f),f=0,u=0,n.mode=hc;case hc:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,ON;t.adler=n.check=1,n.mode=dr;case dr:if(e===PN||e===uc)break e;case Bp:if(n.last){f>>>=u&7,u-=u&7,n.mode=Rp;break}for(;u<3;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}switch(n.last=f&1,f>>>=1,u-=1,f&3){case 0:n.mode=R2;break;case 1:if(VN(n),n.mode=dc,e===uc){f>>>=2,u-=2;break e}break;case 2:n.mode=M2;break;case 3:t.msg="invalid block type",n.mode=je}f>>>=2,u-=2;break;case R2:for(f>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=je;break}if(n.length=f&65535,f=0,u=0,n.mode=Fp,e===uc)break e;case Fp:n.mode=P2;case P2:if(d=n.length,d){if(d>s&&(d=s),d>l&&(d=l),d===0)break e;i.set(r.subarray(o,o+d),a),s-=d,o+=d,l-=d,a+=d,n.length-=d;break}n.mode=dr;break;case M2:for(;u<14;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.nlen=(f&31)+257,f>>>=5,u-=5,n.ndist=(f&31)+1,f>>>=5,u-=5,n.ncode=(f&15)+4,f>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=je;break}n.have=0,n.mode=O2;case O2:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.lens[ne[n.have++]]=f&7,f>>>=3,u-=3}for(;n.have<19;)n.lens[ne[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},R=kf(RN,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,R){t.msg="invalid code lengths set",n.mode=je;break}n.have=0,n.mode=N2;case N2:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(C<16)f>>>=w,u-=w,n.lens[n.have++]=C;else{if(C===16){for(L=w+2;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(f>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=je;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,u-=2}else if(C===17){for(L=w+3;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=w,u-=w,I=0,d=3+(f&7),f>>>=3,u-=3}else{for(L=w+7;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=w,u-=w,I=0,d=11+(f&127),f>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=je;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===je)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=je;break}if(n.lenbits=9,j={bits:n.lenbits},R=kf(y2,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,R){t.msg="invalid literal/lengths set",n.mode=je;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},R=kf(w2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,R){t.msg="invalid distances set",n.mode=je;break}if(n.mode=dc,e===uc)break e;case dc:n.mode=pc;case pc:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,IN(t,h),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,f=n.hold,u=n.bits,n.mode===dr&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(S&&!(S&240)){for(_=w,k=S,D=C;y=n.lencode[D+((f&(1<<_+k)-1)>>_)],w=y>>>24,S=y>>>16&255,C=y&65535,!(_+w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=_,u-=_,n.back+=_}if(f>>>=w,u-=w,n.back+=w,n.length=C,S===0){n.mode=H2;break}if(S&32){n.back=-1,n.mode=dr;break}if(S&64){t.msg="invalid literal/length code",n.mode=je;break}n.extra=S&15,n.mode=L2;case L2:if(n.extra){for(L=n.extra;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=z2;case z2:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,S=y>>>16&255,C=y&65535,!(w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(!(S&240)){for(_=w,k=S,D=C;y=n.distcode[D+((f&(1<<_+k)-1)>>_)],w=y>>>24,S=y>>>16&255,C=y&65535,!(_+w<=u);){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}f>>>=_,u-=_,n.back+=_}if(f>>>=w,u-=w,n.back+=w,S&64){t.msg="invalid distance code",n.mode=je;break}n.offset=C,n.extra=S&15,n.mode=U2;case U2:if(n.extra){for(L=n.extra;u<L;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=je;break}n.mode=G2;case G2:if(l===0)break e;if(d=h-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=je;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=a-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[a++]=b[p++];while(--d);n.length===0&&(n.mode=pc);break;case H2:if(l===0)break e;i[a++]=n.length,l--,n.mode=pc;break;case Rp:if(n.wrap){for(;u<32;){if(s===0)break e;s--,f|=r[o++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?ht(n.check,i,h,a-h):xf(n.check,i,h,a-h)),h=l,n.wrap&4&&(n.flags?f:Z2(f))!==n.check){t.msg="incorrect data check",n.mode=je;break}f=0,u=0}n.mode=V2;case V2:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,f+=r[o++]<<u,u+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=je;break}f=0,u=0}n.mode=j2;case j2:R=MN;break e;case je:R=v2;break e;case q2:return A2;case W2:default:return hn}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=f,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<je&&(n.mode<Rp||e!==x2))&&J2(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?ht(n.check,i,h,t.next_out-h):xf(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===dr?128:0)+(n.mode===dc||n.mode===Fp?256:0),(c===0&&h===0||e===x2)&&R===co&&(R=NN),R},qN=t=>{if(ho(t))return hn;let e=t.state;return e.window&&(e.window=null),t.state=null,co},WN=(t,e)=>{if(ho(t))return hn;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,co):hn},ZN=(t,e)=>{const n=e.length;let r,i,o;return ho(t)||(r=t.state,r.wrap!==0&&r.mode!==hc)?hn:r.mode===hc&&(i=1,i=xf(i,e,n,0),i!==r.check)?v2:(o=J2(t,e,n,n),o?(r.mode=q2,A2):(r.havedict=1,co))};var $N=Y2,YN=Q2,QN=$2,XN=HN,KN=X2,JN=jN,eL=qN,tL=WN,nL=ZN,rL="pako inflate (from Nodeca project)",pr={inflateReset:$N,inflateReset2:YN,inflateResetKeep:QN,inflateInit:XN,inflateInit2:KN,inflate:JN,inflateEnd:eL,inflateGetHeader:tL,inflateSetDictionary:nL,inflateInfo:rL};function iL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oL=iL;const eE=Object.prototype.toString,{Z_NO_FLUSH:aL,Z_FINISH:sL,Z_OK:Df,Z_STREAM_END:Op,Z_NEED_DICT:Np,Z_STREAM_ERROR:fL,Z_DATA_ERROR:tE,Z_MEM_ERROR:lL}=vf;function Bf(t){this.options=sc.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h2,this.strm.avail_out=0;let n=pr.inflateInit2(this.strm,e.windowBits);if(n!==Df)throw new Error(la[n]);if(this.header=new oL,pr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=If.string2buf(e.dictionary):eE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=pr.inflateSetDictionary(this.strm,e.dictionary),n!==Df)))throw new Error(la[n])}Bf.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?sL:aL,eE.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=pr.inflate(n,a),o===Np&&i&&(o=pr.inflateSetDictionary(n,i),o===Df?o=pr.inflate(n,a):o===tE&&(o=Np));n.avail_in>0&&o===Op&&n.state.wrap>0&&t[n.next_in]!==0;)pr.inflateReset(n),o=pr.inflate(n,a);switch(o){case fL:case tE:case Np:case lL:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||o===Op))if(this.options.to==="string"){let l=If.utf8border(n.output,n.next_out),f=n.next_out-l,u=If.buf2string(n.output,l);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(l,l+f),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Df&&s===0)){if(o===Op)return o=pr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},Bf.prototype.onData=function(t){this.chunks.push(t)},Bf.prototype.onEnd=function(t){t===Df&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Lp(t,e){const n=new Bf(e);if(n.push(t),n.err)throw n.msg||la[n.err];return n.result}function uL(t,e){return e=e||{},e.raw=!0,Lp(t,e)}var cL=Bf,hL=Lp,dL=uL,pL=Lp,gL=vf,mL={Inflate:cL,inflate:hL,inflateRaw:dL,ungzip:pL,constants:gL};const{Inflate:lU,inflate:uU,inflateRaw:bL,ungzip:cU}=mL;var yL=bL;function wL(t){return yL(t.subarray(2))}let xL=class extends Error{constructor(e){super(e),this.code="ERR_ABORTED"}};function vL(t){t.sort((i,o)=>Number(i.offset)-Number(o.offset));const e=[];let n,r;for(const i of t)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):e.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return e}function gc(t){if(t&&t.aborted)if(typeof DOMException>"u"){const e=new xL("aborted");throw e.code="ERR_ABORTED",e}else throw new DOMException("aborted","AbortError")}const AL=1,EL=2,_L=3;function zp(t,e,n,r){return t<r&&e>=n}function SL(t){const e=t?"big":"little",n=new Ie().endianess(e).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new Ie().endianess(e).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Ie().endianess(e).array("blocksToFetch",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Ie().array("recurOffsets",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new Ie().endianess(e).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Ie().endianess(e).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[_L]:new Ie().array("items",{length:"itemCount",type:new Ie().floatle("score")}),[EL]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").floatle("score")}),[AL]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class nE{constructor(e,n,r,i,o,a){if(this.bbi=e,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=o,this.blockType=a,this.featureCache=new tc({cache:new nc({maxSize:1e3}),fill:async(l,f)=>{const u=Number(l.length),c=Number(l.offset),{buffer:h}=await this.bbi.read(be.Buffer.alloc(u),0,u,c,{signal:f});return h}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const s=SL(i);this.leafParser=s.leafParser,this.bigBedParser=s.bigBedParser}async readWigData(e,n,r,i,o){try{const{refsByName:a,bbi:s,cirTreeOffset:l,isBigEndian:f}=this,u=a[e];u===void 0&&i.complete();const c={chrId:u,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=s.read(be.Buffer.alloc(48),0,48,Number(l),o));const{buffer:h}=await this.cirTreePromise,d=f?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],b=0;const y=(_,k,D)=>{try{const I=_.subarray(k),R=this.leafParser.parse(I);if(R.blocksToFetch&&(p=p.concat(R.blocksToFetch.filter(M=>w(M)).map(M=>({offset:M.blockOffset,length:M.blockSize})))),R.recurOffsets){const M=R.recurOffsets.filter(j=>w(j)).map(j=>Number(j.blockOffset));M.length>0&&C(M,D+1)}}catch(I){i.error(I)}},w=_=>{const{startChrom:k,startBase:D,endChrom:I,endBase:R}=_;return(k<u||k===u&&D<=r)&&(I>u||I===u&&R>=n)},S=async(_,k,D)=>{try{const I=k.max()-k.min(),R=k.min(),M=await this.featureCache.get(`${I}_${R}`,{length:I,offset:R},o==null?void 0:o.signal);for(const j of _)k.contains(j)&&(y(M,j-R,D),b-=1,b===0&&this.readFeatures(i,p,{...o,request:c}))}catch(I){i.error(I)}},C=(_,k)=>{try{b+=_.length;const D=4+Number(d)*32;let I=new ti(_[0],_[0]+D);for(let R=1;R<_.length;R+=1){const M=new ti(_[R],_[R]+D);I=I.union(M)}I.getRanges().map(R=>S(_,R,k))}catch(D){i.error(D)}};return C([Number(l)+48],1)}catch(a){i.error(a)}}parseSummaryBlock(e,n,r){const i=[];let o=n;const a=new DataView(e.buffer,e.byteOffset,e.length);for(;o<e.byteLength;){const s=a.getUint32(o,!0);o+=4;const l=a.getUint32(o,!0);o+=4;const f=a.getUint32(o,!0);o+=4;const u=a.getUint32(o,!0);o+=4;const c=a.getFloat32(o,!0);o+=4;const h=a.getFloat32(o,!0);o+=4;const d=a.getFloat32(o,!0);o+=4,o+=4,(!r||s===r.chrId&&zp(l,f,r.start,r.end))&&i.push({start:l,end:f,maxScore:h,minScore:c,summary:!0,score:d/(u||1)})}return i}parseBigBedBlock(e,n,r,i){const o=[];let a=n;for(;a<e.byteLength;){const s=this.bigBedParser.parse(e.subarray(a));o.push({...s,uniqueId:`bb-${r+a}`}),a+=s.offset}return i?o.filter(s=>zp(s.start,s.end,i.start,i.end)):o}parseBigWigBlock(e,n,r){const i=e.subarray(n),o=new DataView(i.buffer,i.byteOffset,i.length);let a=0;a+=4;const s=o.getInt32(a,!0);a+=8;const l=o.getUint32(a,!0);a+=4;const f=o.getUint32(a,!0);a+=4;const u=o.getUint8(a);a+=2;const c=o.getUint16(a,!0);a+=2;const h=new Array(c);switch(u){case 1:{for(let d=0;d<c;d++){const p=o.getInt32(a,!0);a+=4;const b=o.getInt32(a,!0);a+=4;const y=o.getFloat32(a,!0);a+=4,h[d]={start:p,end:b,score:y}}break}case 2:{for(let d=0;d<c;d++){const p=o.getInt32(a,!0);a+=4;const b=o.getFloat32(a,!0);a+=4,h[d]={score:b,start:p,end:p+f}}break}case 3:{for(let d=0;d<c;d++){const p=o.getFloat32(a,!0);a+=4;const b=s+d*l;h[d]={score:p,start:b,end:b+f}}break}}return r?h.filter(d=>zp(d.start,d.end,r.start,r.end)):h}async readFeatures(e,n,r={}){try{const{blockType:i,isCompressed:o}=this,{signal:a,request:s}=r,l=vL(n);gc(a),await Promise.all(l.map(async f=>{gc(a);const{length:u,offset:c}=f,h=await this.featureCache.get(`${u}_${c}`,f,a);for(const d of f.blocks){gc(a);let p=Number(d.offset)-Number(f.offset),b=h;switch(o&&(b=wL(h.subarray(p)),p=0),gc(a),i){case"summary":{e.next(this.parseSummaryBlock(b,p,s));break}case"bigwig":{e.next(this.parseBigWigBlock(b,p,s));break}case"bigbed":{e.next(this.parseBigBedBlock(b,p,Number(d.offset)*256,s));break}default:console.warn(`Don't know what to do with ${i}`)}}})),e.complete()}catch(i){e.error(i)}}}var Up=function(t,e){return Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Up(t,e)};function Gp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Up(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function CL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{f(r.next(u))}catch(c){a(c)}}function l(u){try{f(r.throw(u))}catch(c){a(c)}}function f(u){u.done?o(u.value):i(u.value).then(s,l)}f((r=r.apply(t,e||[])).next())})}function rE(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return l([f,u])}}function l(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(u){f=[6,u],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ff(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function bc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ma(t){return this instanceof ma?(this.v=t,this):new ma(t)}function TL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(d){return new Promise(function(p,b){o.push([h,d,p,b])>1||s(h,d)})})}function s(h,d){try{l(r[h](d))}catch(p){c(o[0][3],p)}}function l(h){h.value instanceof ma?Promise.resolve(h.value.v).then(f,u):c(o[0][2],h)}function f(h){s("next",h)}function u(h){s("throw",h)}function c(h,d){h(d),o.shift(),o.length&&s(o[0][0],o[0][1])}}function IL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ff=="function"?Ff(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(f){o({value:f,done:s})},a)}}typeof SuppressedError=="function"&&SuppressedError;function ot(t){return typeof t=="function"}function iE(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hp=iE(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function oE(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Vp=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ff(a),l=s.next();!l.done;l=s.next()){var f=l.value;f.remove(this)}}catch(b){e={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(ot(u))try{u()}catch(b){o=b instanceof Hp?b.errors:[b]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=Ff(c),d=h.next();!d.done;d=h.next()){var p=d.value;try{sE(p)}catch(b){o=o??[],b instanceof Hp?o=bc(bc([],mc(o)),mc(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new Hp(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)sE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&oE(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&oE(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();Vp.EMPTY;function aE(t){return t instanceof Vp||t&&"closed"in t&&ot(t.remove)&&ot(t.add)&&ot(t.unsubscribe)}function sE(t){ot(t)?t():t.unsubscribe()}var fE={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jp={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=jp.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,bc([t,e],mc(n))):setTimeout.apply(void 0,bc([t,e],mc(n)))},clearTimeout:function(t){var e=jp.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function lE(t){jp.setTimeout(function(){throw t})}function uE(){}function kL(t){t()}var qp=function(t){Gp(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,aE(n)&&n.add(r)):r.destination=RL,r}return e.create=function(n,r,i){return new yc(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Vp),DL=Function.prototype.bind;function Wp(t,e){return DL.call(t,e)}var BL=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){wc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){wc(r)}else wc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){wc(n)}},t}(),yc=function(t){Gp(e,t);function e(n,r,i){var o=t.call(this)||this,a;if(ot(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&fE.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&Wp(n.next,s),error:n.error&&Wp(n.error,s),complete:n.complete&&Wp(n.complete,s)}):a=n}return o.destination=new BL(a),o}return e}(qp);function wc(t){lE(t)}function FL(t){throw t}var RL={closed:!0,next:uE,error:FL,complete:uE},Zp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cE(t){return t}function PL(t){return t.length===0?cE:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var dn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=OL(e)?e:new yc(e,n,r);return kL(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=hE(n),new n(function(i,o){var a=new yc({next:function(s){try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Zp]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return PL(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=hE(e),new e(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function hE(t){var e;return(e=t??fE.Promise)!==null&&e!==void 0?e:Promise}function ML(t){return t&&ot(t.next)&&ot(t.error)&&ot(t.complete)}function OL(t){return t&&t instanceof qp||ML(t)&&aE(t)}function NL(t){return ot(t==null?void 0:t.lift)}function ba(t){return function(e){if(NL(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Rf(t,e,n,r,i){return new LL(t,e,n,r,i)}var LL=function(t){Gp(e,t);function e(n,r,i,o,a,s){var l=t.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(f){try{r(f)}catch(u){n.error(u)}}:t.prototype._next,l._error=o?function(f){try{o(f)}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(qp),zL=new dn(function(t){return t.complete()});function UL(t){return t&&ot(t.schedule)}function dE(t){return t[t.length-1]}function GL(t){return UL(dE(t))?t.pop():void 0}function HL(t,e){return typeof dE(t)=="number"?t.pop():e}var pE=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function gE(t){return ot(t==null?void 0:t.then)}function mE(t){return ot(t[Zp])}function bE(t){return Symbol.asyncIterator&&ot(t==null?void 0:t[Symbol.asyncIterator])}function yE(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function VL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wE=VL();function xE(t){return ot(t==null?void 0:t[wE])}function vE(t){return TL(this,arguments,function(){var n,r,i,o;return rE(this,function(a){switch(a.label){case 0:n=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ma(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,ma(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ma(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function AE(t){return ot(t==null?void 0:t.getReader)}function ya(t){if(t instanceof dn)return t;if(t!=null){if(mE(t))return jL(t);if(pE(t))return qL(t);if(gE(t))return WL(t);if(bE(t))return EE(t);if(xE(t))return ZL(t);if(AE(t))return $L(t)}throw yE(t)}function jL(t){return new dn(function(e){var n=t[Zp]();if(ot(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qL(t){return new dn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function WL(t){return new dn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,lE)})}function ZL(t){return new dn(function(e){var n,r;try{for(var i=Ff(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function EE(t){return new dn(function(e){YL(t,e).catch(function(n){return e.error(n)})})}function $L(t){return EE(vE(t))}function YL(t,e){var n,r,i,o;return CL(this,void 0,void 0,function(){var a,s;return rE(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=IL(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function si(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _E(t,e){return e===void 0&&(e=0),ba(function(n,r){n.subscribe(Rf(r,function(i){return si(r,t,function(){return r.next(i)},e)},function(){return si(r,t,function(){return r.complete()},e)},function(i){return si(r,t,function(){return r.error(i)},e)}))})}function SE(t,e){return e===void 0&&(e=0),ba(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function QL(t,e){return ya(t).pipe(SE(e),_E(e))}function XL(t,e){return ya(t).pipe(SE(e),_E(e))}function KL(t,e){return new dn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function JL(t,e){return new dn(function(n){var r;return si(n,e,function(){r=t[wE](),si(n,e,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return ot(r==null?void 0:r.return)&&r.return()}})}function CE(t,e){if(!t)throw new Error("Iterable cannot be null");return new dn(function(n){si(n,e,function(){var r=t[Symbol.asyncIterator]();si(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function e7(t,e){return CE(vE(t),e)}function t7(t,e){if(t!=null){if(mE(t))return QL(t,e);if(pE(t))return KL(t,e);if(gE(t))return XL(t,e);if(bE(t))return CE(t,e);if(xE(t))return JL(t,e);if(AE(t))return e7(t,e)}throw yE(t)}function n7(t,e){return e?t7(t,e):ya(t)}var r7=iE(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function TE(t,e){var n=typeof e=="object";return new Promise(function(r,i){var o=new yc({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new r7)}});t.subscribe(o)})}function IE(t,e){return ba(function(n,r){var i=0;n.subscribe(Rf(r,function(o){r.next(t.call(e,o,i++))}))})}function i7(t,e,n,r,i,o,a,s){var l=[],f=0,u=0,c=!1,h=function(){c&&!l.length&&!f&&e.complete()},d=function(b){return f<r?p(b):l.push(b)},p=function(b){o&&e.next(b),f++;var y=!1;ya(n(b,u++)).subscribe(Rf(e,function(w){i==null||i(w),o?d(w):e.next(w)},function(){y=!0},void 0,function(){if(y)try{f--;for(var w=function(){var S=l.shift();a?si(e,a,function(){return p(S)}):p(S)};l.length&&f<r;)w();h()}catch(S){e.error(S)}}))};return t.subscribe(Rf(e,d,function(){c=!0,h()})),function(){s==null||s()}}function kE(t,e,n){return n===void 0&&(n=1/0),ot(e)?kE(function(r,i){return IE(function(o,a){return e(r,o,i,a)})(ya(t(r,i)))},n):(typeof e=="number"&&(n=e),ba(function(r,i){return i7(r,i,t,n)}))}function o7(t){return t===void 0&&(t=1/0),kE(cE,t)}function a7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=GL(t),r=HL(t,1/0),i=t;return i.length?i.length===1?ya(i[0]):o7(r)(n7(i,n)):zL}function s7(t,e,n,r,i){return function(o,a){var s=n,l=e,f=0;o.subscribe(Rf(a,function(u){var c=f++;l=s?t(l,u,c):(s=!0,u),r&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}function DE(t,e){return ba(s7(t,e,arguments.length>=2,!1,!0))}var f7=function(t,e){return t.push(e),t};function l7(){return ba(function(t,e){DE(f7,[])(t).subscribe(e)})}const BE=-2003829722,$p=-2021002517;function u7(t){return new TextDecoder().decode(t)}function FE(t){const e=t?"big":"little",n=new Ie().endianess(e).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Ie().endianess(e).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new Ie().endianess(e).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new Ie().endianess(e).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new Ie().endianess(e).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:o}}class RE{getHeader(e){return this.headerP||(this.headerP=this._getHeader(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(e){const{filehandle:n,renameRefSeqs:r=a=>a,path:i,url:o}=e;if(this.renameRefSeqs=r,n)this.bbi=n;else if(o)this.bbi=new Zi(o);else if(i)this.bbi=new ct(i);else throw new Error("no file given")}async _getHeader(e){const n=await this._getMainHeader(e),r=await this._readChromTree(n,e);return{...n,...r}}async _getMainHeader(e,n=2e3){const{buffer:r}=await this.bbi.read(be.Buffer.alloc(n),0,n,0,e),i=this._isBigEndian(r),o=FE(i),a=o.headerParser.parse(r),{magic:s,asOffset:l,totalSummaryOffset:f}=a;if(a.fileType=s===$p?"bigbed":"bigwig",l>n||f>n)return this._getMainHeader(e,n*2);if(l){const u=Number(a.asOffset);a.autoSql=u7(r.subarray(u,r.indexOf(0,u)))}if(a.totalSummaryOffset>n)return this._getMainHeader(e,n*2);if(a.totalSummaryOffset){const u=r.subarray(Number(a.totalSummaryOffset)),c=o.totalSummaryParser.parse(u);a.totalSummary={...c,basesCovered:Number(c.basesCovered)}}return{...a,isBigEndian:i}}_isBigEndian(e){let n=e.readInt32LE(0);if(n===BE||n===$p)return!1;if(n=e.readInt32BE(0),n===BE||n===$p)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(e,n){const r=e.isBigEndian,i=r?"big":"little",o=[],a={};let s=Number(e.unzoomedDataOffset);const l=Number(e.chromTreeOffset);for(;s%4!==0;)s+=1;const f=s-l,{buffer:u}=await this.bbi.read(be.Buffer.alloc(f),0,f,Number(l),n),c=FE(r),{keySize:h}=c.chromTreeParser.parse(u),d=new Ie().endianess(i).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=new Ie().endianess(i).skip(h).uint64("childOffset").saveOffset("offset"),b=32,y=async w=>{let S=w;if(S>=u.length)throw new Error("reading beyond end of buffer");const C=c.isLeafNode.parse(u.subarray(S)),{isLeafNode:_,cnt:k}=C;if(S+=C.offset,_)for(let D=0;D<k;D+=1){const I=d.parse(u.subarray(S));S+=I.offset;const{key:R,refId:M,refSize:j}=I,L={name:R,id:M,length:j};a[this.renameRefSeqs(R)]=M,o[M]=L}else{const D=[];for(let I=0;I<k;I+=1){const R=p.parse(u.subarray(S)),{childOffset:M}=R;S+=R.offset,D.push(y(Number(M)-Number(l)))}await Promise.all(D)}};return await y(b),{refsByName:a,refsByNumber:o}}async getUnzoomedView(e){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:o,fileType:a}=await this.getHeader(e);return new nE(this.bbi,r,n,o,i>0,a)}async getFeatureStream(e,n,r,i){await this.getHeader(i);const o=this.renameRefSeqs(e);let a;const{basesPerSpan:s,scale:l}=i||{};return s?a=await this.getView(1/s,i):l?a=await this.getView(l,i):a=await this.getView(1,i),new dn(f=>{a.readWigData(o,n,r,f,i)})}async getFeatures(e,n,r,i){const o=await this.getFeatureStream(e,n,r,i);return(await TE(o.pipe(l7()))).flat()}}class c7 extends RE{async getView(e,n){const{zoomLevels:r,refsByName:i,fileSize:o,isBigEndian:a,uncompressBufSize:s}=await this.getHeader(n),l=1/e;let f=r.length;o||(f-=1);for(let u=f;u>=0;u-=1){const c=r[u];if(c&&c.reductionLevel<=2*l){const h=Number(c.indexOffset);return new nE(this.bbi,i,h,a,s>0,"summary")}}return this.getUnzoomedView(n)}}function h7(t){return t.filter(e=>!!e)}class d7 extends RE{constructor(){super(...arguments),this.readIndicesCache=new tc({cache:new nc({maxSize:1}),fill:(e,n)=>this._readIndices({...e,signal:n})})}readIndices(e={}){const{signal:n,...r}=e;return this.readIndicesCache.get(JSON.stringify(r),e,n)}async getView(e,n){return this.getUnzoomedView(n)}async _readIndices(e){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(e),{buffer:i}=await this.bbi.read(be.Buffer.alloc(64),0,64,Number(n)),o=r?"big":"little",a=new Ie().endianess(o).uint16("size").uint16("count").uint64("offset").parse(i),{count:s,offset:l}=a;if(s===0)return[];const f=20,u=f*s,{buffer:c}=await this.bbi.read(be.Buffer.alloc(u),0,u,Number(l)),h=new Ie().endianess(o).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let p=0;p<s;p+=1)d.push(h.parse(c.subarray(p*f)));return d}async searchExtraIndexBlocks(e,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const o=i.map(async a=>{const{offset:s,field:l}=a,{buffer:f}=await this.bbi.read(be.Buffer.alloc(32),0,32,Number(s),n),u=r?"big":"little",c=new Ie().endianess(u).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:h,keySize:d,valSize:p}=c.parse(f),b=new Ie().endianess(u).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new Ie().array("leafkeys",{length:"cnt",type:new Ie().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new Ie().array("keys",{length:"cnt",type:new Ie().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),y=async S=>{const C=Number(S),_=4+h*(d+p),{buffer:k}=await this.bbi.read(be.Buffer.alloc(_),0,_,C,n),D=b.parse(k);if(D.leafkeys){let I;for(let R=0;R<D.leafkeys.length;R+=1){const{key:M}=D.leafkeys[R];if(e.localeCompare(M)<0&&I)return y(I);I=D.leafkeys[R].offset}return y(I)}for(let I=0;I<D.keys.length;I+=1)if(D.keys[I].key===e)return{...D.keys[I],field:l}},w=32;return y(Number(s)+w)});return h7(await Promise.all(o))}async searchExtraIndex(e,n={}){const r=await this.searchExtraIndexBlocks(e,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),o=r.map(s=>new dn(l=>{i.readFeatures(l,[s],n)}).pipe(DE((l,f)=>l.concat(f)),IE(l=>{for(const f of l)f.field=s.field;return l})));return(await TE(a7(...o))).filter(s=>{var l;return((l=s.rest)===null||l===void 0?void 0:l.split("	")[(s.field||0)-3])===e})}}const PE=Object.freeze(Object.defineProperty({__proto__:null,BigBed:d7,BigWig:c7},Symbol.toStringTag,{value:"Module"}));function p7(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function wa(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,wa)}p7(wa,Error),wa.buildMessage=function(t,e){var n={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var u="",c;for(c=0;c<f.parts.length;c++)u+=f.parts[c]instanceof Array?o(f.parts[c][0])+"-"+o(f.parts[c][1]):o(f.parts[c]);return"["+(f.inverted?"^":"")+u+"]"},any:function(f){return"any character"},end:function(f){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function o(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function a(f){return n[f.type](f)}function s(f){var u=new Array(f.length),c,h;for(c=0;c<f.length;c++)u[c]=a(f[c]);if(u.sort(),u.length>0){for(c=1,h=1;c<u.length;c++)u[c-1]!==u[c]&&(u[h]=u[c],h++);u.length=h}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function l(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+s(t)+" but "+l(e)+" found."};function g7(t,e){e=e!==void 0?e:{};var n={},r={declaration:iS},i=iS,o="(",a=Fe("(",!1),s=")",l=Fe(")",!1),f=function(A,z,Y,Q){return{type:A,name:z,comment:Y,fields:Q}},u="simple",c=Fe("simple",!1),h="object",d=Fe("object",!1),p="table",b=Fe("table",!1),y="auto",w=Fe("auto",!1),S="primary",C=Fe("primary",!1),_="index",k=Fe("index",!1),D="unique",I=Fe("unique",!1),R=function(A,z){return z},M=function(A,z){return A.name&&z.unshift(A),z},j="#",L=Fe("#",!1),ne=";",ae=Fe(";",!1),de=function(A,z,Y){return{type:A,name:z,comment:Y}},ke="[",Qe=Fe("[",!1),Be="]",Ke=Fe("]",!1),qe=function(A,z,Y,Q){return{type:A,size:z,name:Y,comment:Q}},Je=function(A,z,Y,Q){return{type:A,vals:z,name:Y,comment:Q}},Ee=",",_e=Fe(",",!1),dt=function(A,z){return z.unshift(A),z},Ht="int",Ne=Fe("int",!1),O="uint",P=Fe("uint",!1),q="short",H=Fe("short",!1),Z="ushort",E=Fe("ushort",!1),v="byte",G=Fe("byte",!1),W="ubyte",se=Fe("ubyte",!1),J="float",fe=Fe("float",!1),Vt="char",li=Fe("char",!1),ui="string",ci=Fe("string",!1),_t="lstring",xr=Fe("lstring",!1),hi="enum",jt=Fe("enum",!1),Jn="double",x=Fe("double",!1),g="bigint",m=Fe("bigint",!1),T="set",F=Fe("set",!1),N=function(A,z){return A+" "+z},V=/^[a-zA-Z_]/,le=Yf([["a","z"],["A","Z"],"_"],!1,!1),Ue=/^[a-zA-Z0-9_]/,Pe=Yf([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),We=function(A){return eS()},Se=/^[^\n\r]/,Y_=Yf([`
`,"\r"],!0,!1),Mz=function(A){return A.join("").replace(/^"/,"").replace(/"$/,"")},Oz=tS("integer"),Q_=/^[0-9]/,X_=Yf([["0","9"]],!1,!1),Nz=function(){return parseInt(eS(),10)},Lz=tS("whitespace"),K_=/^[ \t\n\r]/,J_=Yf([" ","	",`
`,"\r"],!1,!1),B=0,Dt=0,Rc=[{line:1,column:1}],er=0,Bg=[],te=0,Pc;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function eS(){return t.substring(Dt,B)}function Fe(A,z){return{type:"literal",text:A,ignoreCase:z}}function Yf(A,z,Y){return{type:"class",parts:A,inverted:z,ignoreCase:Y}}function zz(){return{type:"end"}}function tS(A){return{type:"other",description:A}}function nS(A){var z=Rc[A],Y;if(z)return z;for(Y=A-1;!Rc[Y];)Y--;for(z=Rc[Y],z={line:z.line,column:z.column};Y<A;)t.charCodeAt(Y)===10?(z.line++,z.column=1):z.column++,Y++;return Rc[A]=z,z}function rS(A,z){var Y=nS(A),Q=nS(z);return{start:{offset:A,line:Y.line,column:Y.column},end:{offset:z,line:Q.line,column:Q.column}}}function re(A){B<er||(B>er&&(er=B,Bg=[]),Bg.push(A))}function Uz(A,z,Y){return new wa(wa.buildMessage(A,z),A,z,Y)}function iS(){var A,z,Y,Q,ee,Le,Ze,mn,di,vr,pi,Ar,gi,Er;return A=B,z=pe(),z!==n?(Y=oS(),Y!==n?(Q=pe(),Q!==n?(ee=aS(),ee!==n?(Le=pe(),Le!==n?(Ze=Mc(),Ze!==n?(mn=pe(),mn!==n?(t.charCodeAt(B)===40?(di=o,B++):(di=n,te===0&&re(a)),di!==n?(vr=pe(),vr!==n?(pi=Gz(),pi!==n?(Ar=pe(),Ar!==n?(t.charCodeAt(B)===41?(gi=s,B++):(gi=n,te===0&&re(l)),gi!==n?(Er=pe(),Er!==n?(Dt=A,z=f(Y,ee,Ze,pi),A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n),A}function oS(){var A;return t.substr(B,6)===u?(A=u,B+=6):(A=n,te===0&&re(c)),A===n&&(t.substr(B,6)===h?(A=h,B+=6):(A=n,te===0&&re(d)),A===n&&(t.substr(B,5)===p?(A=p,B+=5):(A=n,te===0&&re(b)))),A}function aS(){var A,z,Y,Q;return A=Fn(),A===n&&(A=B,z=Fn(),z!==n?(Y=sS(),Y!==n?(z=[z,Y],A=z):(B=A,A=n)):(B=A,A=n),A===n&&(A=B,z=Fn(),z!==n?(t.substr(B,4)===y?(Y=y,B+=4):(Y=n,te===0&&re(w)),Y!==n?(z=[z,Y],A=z):(B=A,A=n)):(B=A,A=n),A===n&&(A=B,z=Fn(),z!==n?(Y=sS(),Y!==n?(t.substr(B,4)===y?(Q=y,B+=4):(Q=n,te===0&&re(w)),Q!==n?(z=[z,Y,Q],A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)))),A}function sS(){var A;return t.substr(B,7)===S?(A=S,B+=7):(A=n,te===0&&re(C)),A===n&&(t.substr(B,5)===_?(A=_,B+=5):(A=n,te===0&&re(k)),A===n&&(t.substr(B,6)===D?(A=D,B+=6):(A=n,te===0&&re(I)))),A}function Mc(){var A;return A=fS(),A===n&&(A=pe()),A}function Gz(){var A,z,Y,Q,ee,Le,Ze;if(A=B,z=Fg(),z!==n)if(Y=pe(),Y!==n){for(Q=[],ee=B,Le=pe(),Le!==n?(Ze=Fg(),Ze!==n?(Dt=ee,Le=R(z,Ze),ee=Le):(B=ee,ee=n)):(B=ee,ee=n);ee!==n;)Q.push(ee),ee=B,Le=pe(),Le!==n?(Ze=Fg(),Ze!==n?(Dt=ee,Le=R(z,Ze),ee=Le):(B=ee,ee=n)):(B=ee,ee=n);Q!==n?(ee=pe(),ee!==n?(Dt=A,z=M(z,Q),A=z):(B=A,A=n)):(B=A,A=n)}else B=A,A=n;else B=A,A=n;return A}function Hz(){var A;return t.charCodeAt(B)===35?(A=j,B++):(A=n,te===0&&re(L)),A}function Vz(){var A,z,Y,Q,ee;return A=B,z=pe(),z!==n?(Y=Hz(),Y!==n?(Q=fS(),Q!==n?(ee=pe(),ee!==n?(z=[z,Y,Q,ee],A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n),A}function Fg(){var A,z,Y,Q,ee,Le,Ze,mn,di,vr,pi,Ar,gi,Er;return A=B,z=Rg(),z!==n?(Y=pe(),Y!==n?(Q=Fn(),Q!==n?(ee=pe(),ee!==n?(t.charCodeAt(B)===59?(Le=ne,B++):(Le=n,te===0&&re(ae)),Le!==n?(Ze=pe(),Ze!==n?(mn=Mc(),mn!==n?(Dt=A,z=de(z,Q,mn),A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n),A===n&&(A=B,z=Rg(),z!==n?(Y=pe(),Y!==n?(t.charCodeAt(B)===91?(Q=ke,B++):(Q=n,te===0&&re(Qe)),Q!==n?(ee=pe(),ee!==n?(Le=qz(),Le!==n?(Ze=pe(),Ze!==n?(t.charCodeAt(B)===93?(mn=Be,B++):(mn=n,te===0&&re(Ke)),mn!==n?(di=pe(),di!==n?(vr=Fn(),vr!==n?(pi=pe(),pi!==n?(t.charCodeAt(B)===59?(Ar=ne,B++):(Ar=n,te===0&&re(ae)),Ar!==n?(gi=pe(),gi!==n?(Er=Mc(),Er!==n?(Dt=A,z=qe(z,Le,vr,Er),A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n),A===n&&(A=B,z=Rg(),z!==n?(Y=pe(),Y!==n?(t.charCodeAt(B)===40?(Q=o,B++):(Q=n,te===0&&re(a)),Q!==n?(ee=pe(),ee!==n?(Le=jz(),Le!==n?(Ze=pe(),Ze!==n?(t.charCodeAt(B)===41?(mn=s,B++):(mn=n,te===0&&re(l)),mn!==n?(di=pe(),di!==n?(vr=Fn(),vr!==n?(pi=pe(),pi!==n?(t.charCodeAt(B)===59?(Ar=ne,B++):(Ar=n,te===0&&re(ae)),Ar!==n?(gi=pe(),gi!==n?(Er=Mc(),Er!==n?(Dt=A,z=Je(z,Le,vr,Er),A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n)):(B=A,A=n),A===n&&(A=Vz()))),A}function jz(){var A,z,Y,Q,ee,Le,Ze;if(A=B,z=Fn(),z!==n){for(Y=[],Q=B,t.charCodeAt(B)===44?(ee=Ee,B++):(ee=n,te===0&&re(_e)),ee!==n?(Le=pe(),Le!==n?(Ze=Fn(),Ze!==n?(Dt=Q,ee=R(z,Ze),Q=ee):(B=Q,Q=n)):(B=Q,Q=n)):(B=Q,Q=n);Q!==n;)Y.push(Q),Q=B,t.charCodeAt(B)===44?(ee=Ee,B++):(ee=n,te===0&&re(_e)),ee!==n?(Le=pe(),Le!==n?(Ze=Fn(),Ze!==n?(Dt=Q,ee=R(z,Ze),Q=ee):(B=Q,Q=n)):(B=Q,Q=n)):(B=Q,Q=n);Y!==n?(Dt=A,z=dt(z,Y),A=z):(B=A,A=n)}else B=A,A=n;return A}function Rg(){var A,z,Y,Q;return t.substr(B,3)===Ht?(A=Ht,B+=3):(A=n,te===0&&re(Ne)),A===n&&(t.substr(B,4)===O?(A=O,B+=4):(A=n,te===0&&re(P)),A===n&&(t.substr(B,5)===q?(A=q,B+=5):(A=n,te===0&&re(H)),A===n&&(t.substr(B,6)===Z?(A=Z,B+=6):(A=n,te===0&&re(E)),A===n&&(t.substr(B,4)===v?(A=v,B+=4):(A=n,te===0&&re(G)),A===n&&(t.substr(B,5)===W?(A=W,B+=5):(A=n,te===0&&re(se)),A===n&&(t.substr(B,5)===J?(A=J,B+=5):(A=n,te===0&&re(fe)),A===n&&(t.substr(B,4)===Vt?(A=Vt,B+=4):(A=n,te===0&&re(li)),A===n&&(t.substr(B,6)===ui?(A=ui,B+=6):(A=n,te===0&&re(ci)),A===n&&(t.substr(B,7)===_t?(A=_t,B+=7):(A=n,te===0&&re(xr)),A===n&&(t.substr(B,4)===hi?(A=hi,B+=4):(A=n,te===0&&re(jt)),A===n&&(t.substr(B,6)===Jn?(A=Jn,B+=6):(A=n,te===0&&re(x)),A===n&&(t.substr(B,6)===g?(A=g,B+=6):(A=n,te===0&&re(m)),A===n&&(t.substr(B,3)===T?(A=T,B+=3):(A=n,te===0&&re(F)),A===n&&(A=B,z=oS(),z!==n?(Y=pe(),Y!==n?(Q=aS(),Q!==n?(Dt=A,z=N(z,Q),A=z):(B=A,A=n)):(B=A,A=n)):(B=A,A=n))))))))))))))),A}function qz(){var A;return A=Wz(),A===n&&(A=Fn()),A}function Fn(){var A,z,Y,Q,ee;if(A=B,z=B,V.test(t.charAt(B))?(Y=t.charAt(B),B++):(Y=n,te===0&&re(le)),Y!==n){for(Q=[],Ue.test(t.charAt(B))?(ee=t.charAt(B),B++):(ee=n,te===0&&re(Pe));ee!==n;)Q.push(ee),Ue.test(t.charAt(B))?(ee=t.charAt(B),B++):(ee=n,te===0&&re(Pe));Q!==n?(Y=[Y,Q],z=Y):(B=z,z=n)}else B=z,z=n;return z!==n&&(Dt=A,z=We()),A=z,A}function fS(){var A,z,Y;for(A=B,z=[],Se.test(t.charAt(B))?(Y=t.charAt(B),B++):(Y=n,te===0&&re(Y_));Y!==n;)z.push(Y),Se.test(t.charAt(B))?(Y=t.charAt(B),B++):(Y=n,te===0&&re(Y_));return z!==n&&(Dt=A,z=Mz(z)),A=z,A}function Wz(){var A,z,Y,Q;if(te++,A=B,z=pe(),z!==n){if(Y=[],Q_.test(t.charAt(B))?(Q=t.charAt(B),B++):(Q=n,te===0&&re(X_)),Q!==n)for(;Q!==n;)Y.push(Q),Q_.test(t.charAt(B))?(Q=t.charAt(B),B++):(Q=n,te===0&&re(X_));else Y=n;Y!==n?(Dt=A,z=Nz(),A=z):(B=A,A=n)}else B=A,A=n;return te--,A===n&&(z=n,te===0&&re(Oz)),A}function pe(){var A,z;for(te++,A=[],K_.test(t.charAt(B))?(z=t.charAt(B),B++):(z=n,te===0&&re(J_));z!==n;)A.push(z),K_.test(t.charAt(B))?(z=t.charAt(B),B++):(z=n,te===0&&re(J_));return te--,A===n&&(z=n,te===0&&re(Lz)),A}if(Pc=i(),Pc!==n&&B===t.length)return Pc;throw Pc!==n&&B<t.length&&re(zz()),Uz(Bg,er<t.length?t.charAt(er):null,er<t.length?rS(er,er+1):rS(er,er))}var ME={SyntaxError:wa,parse:g7};const m7=Zs(ME),Yp=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([t,e])=>[t,ME.parse(e.trim())]));function Qp(t){const e=["uint","int","float","long"];return{...t,fields:t.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&e.includes(n.type),isNumeric:!n.size&&e.includes(n.type)}))}}const b7={".":0,"-":-1,"+":1};function y7(t){var e;return t.length>=12&&!Number.isNaN(parseInt(t[9],10))&&((e=t[10])===null||e===void 0?void 0:e.split(",").filter(n=>!!n).length)===parseInt(t[9],10)}class w7{constructor(e={}){if(e.autoSql)this.autoSql=Qp(m7.parse(e.autoSql));else if(e.type){if(!Yp[e.type])throw new Error("Type not found");this.autoSql=Qp(Yp[e.type])}else this.autoSql=Qp(Yp.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(e,n={}){const{autoSql:r}=this,{uniqueId:i}=n,o=Array.isArray(e)?e:e.split("	");let a={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&y7(o))for(let s=0;s<r.fields.length;s++){const l=r.fields[s];let f=o[s];const{isNumeric:u,isArray:c,arrayIsNumeric:h,name:d}=l;if(f==null)break;if(f!=="."){if(u){const p=Number(f);f=Number.isNaN(p)?f:p}else c&&(f=f.split(","),f[f.length-1]===""&&f.pop(),h&&(f=f.map(p=>Number(p))));a[d]=f}}else{const s=["chrom","chromStart","chromEnd","name"];a=Object.fromEntries(o.map((l,f)=>[s[f]||"field"+f,l])),a.chromStart=+a.chromStart,a.chromEnd=+a.chromEnd,Number.isNaN(Number.parseFloat(a.field4))||(a.score=+a.field4,delete a.field4),(a.field5==="+"||a.field5==="-")&&(a.strand=a.field5,delete a.field5)}return i&&(a.uniqueId=i),a.strand=b7[a.strand]||0,a.chrom=decodeURIComponent(a.chrom),a}}const x7=Object.freeze(Object.defineProperty({__proto__:null,default:w7},Symbol.toStringTag,{value:"Module"}));let OE=class{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}};function xa(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new OE(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}let NE=class{constructor(e,n,r,i){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}};function v7(t){return new Promise(e=>setTimeout(e,t))}function A7(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}function E7(t){if(t&&t.aborted)if(typeof DOMException>"u"){const e=new Error("aborted");throw e.code="ERR_ABORTED",e}else throw new DOMException("aborted","AbortError")}function _7(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function S7(t={}){return"aborted"in t?{signal:t}:t}function LE(t,e){const n=[];let r;if(t.length===0)return t;t.sort((i,o)=>{const a=i.minv.blockPosition-o.minv.blockPosition;return a===0?i.minv.dataPosition-o.minv.dataPosition:a});for(const i of t)(!e||i.maxv.compareTo(e)>0)&&(r===void 0?(n.push(i),r=i):_7(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i));return n}function zE(t,e){return{lineCount:A7(Zu.fromBytesLE(Array.prototype.slice.call(t,e,e+8),!0))}}function xc(t,e){return t?t.compareTo(e)>0?e:t:e}function C7(t,e=n=>n){let n=0,r=0;const i=[],o={};for(let a=0;a<t.length;a+=1)if(!t[a]){if(r<a){let s=t.toString("utf8",r,a);s=e(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}let UE=class{constructor({filehandle:e,renameRefSeq:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}};const T7=21578050;function I7(t,e){return t-t%e}function k7(t,e){return t-t%e+e}function D7(t,e){return e-=1,[[0,0],[1+(t>>26),1+(e>>26)],[9+(t>>23),9+(e>>23)],[73+(t>>20),73+(e>>20)],[585+(t>>17),585+(e>>17)],[4681+(t>>14),4681+(e>>14)]]}class va extends UE{async lineCount(e,n){var r,i;return((i=(r=(await this.parse(n)).indices[e])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async _parse(e){const n=await this.filehandle.readFile(e);if(n.readUInt32LE(0)!==T7)throw new Error("Not a BAI file");const r=n.readInt32LE(4),o=((1<<(5+1)*3)-1)/7;let a=8,s;const l=new Array(r);for(let f=0;f<r;f++){const u=n.readInt32LE(a);let c;a+=4;const h={};for(let b=0;b<u;b+=1){const y=n.readUInt32LE(a);if(a+=4,y===o+1)a+=4,c=zE(n,a+16),a+=32;else{if(y>o+1)throw new Error("bai index contains too many bins, please use CSI");{const w=n.readInt32LE(a);a+=4;const S=new Array(w);for(let C=0;C<w;C++){const _=xa(n,a);a+=8;const k=xa(n,a);a+=8,s=xc(s,_),S[C]=new NE(_,k,y)}h[y]=S}}}const d=n.readInt32LE(a);a+=4;const p=new Array(d);for(let b=0;b<d;b++){const y=xa(n,a);a+=8,s=xc(s,y),p[b]=y}l[f]={binIndex:h,linearIndex:p,stats:c}}return{bai:!0,firstDataLine:s,maxBlockSize:65536,indices:l,refCount:r}}async indexCov(e,n,r,i={}){const a=n!==void 0,l=(await this.parse(i)).indices[e];if(!l)return[];const{linearIndex:f=[],stats:u}=l;if(f.length===0)return[];const c=r===void 0?(f.length-1)*16384:k7(r,16384),h=n===void 0?0:I7(n,16384),d=a?new Array((c-h)/16384):new Array(f.length-1),p=f[f.length-1].blockPosition;if(c>(f.length-1)*16384)throw new Error("query outside of range of linear index");let b=f[h/16384].blockPosition;for(let y=h/16384,w=0;y<c/16384;y++,w++)d[w]={score:f[y+1].blockPosition-b,start:y*16384,end:y*16384+16384},b=f[y+1].blockPosition;return d.map(y=>({...y,score:y.score*((u==null?void 0:u.lineCount)||0)/p}))}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const a=o.indices[e];if(!a)return[];const s=D7(n,r),l=[];for(const[d,p]of s)for(let b=d;b<=p;b++)if(a.binIndex[b]){const y=a.binIndex[b];for(const w of y)l.push(w)}const f=a.linearIndex.length;let u;const c=Math.min(n>>14,f-1),h=Math.min(r>>14,f-1);for(let d=c;d<=h;++d){const p=a.linearIndex[d];p&&(!u||p.compareTo(u)<0)&&(u=p)}return LE(l,u)}async parse(e={}){return this.setupP||(this.setupP=this._parse(e).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(e,n={}){var r;return!!(!((r=(await this.parse(n)).indices[e])===null||r===void 0)&&r.binIndex)}}var fi=be.Buffer,Xp=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Xp=new Int32Array(Xp));function GE(t){if(fi.isBuffer(t))return t;var e=typeof fi.alloc=="function"&&typeof fi.from=="function";if(typeof t=="number")return e?fi.alloc(t):new fi(t);if(typeof t=="string")return e?fi.from(t):new fi(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function B7(t){var e=GE(4);return e.writeInt32BE(t,0),e}function Kp(t,e){t=GE(t),fi.isBuffer(e)&&(e=e.readUInt32BE(0));for(var n=~~e^-1,r=0;r<t.length;r++)n=Xp[(n^t[r])&255]^n>>>8;return n^-1}function Jp(){return B7(Kp.apply(null,arguments))}Jp.signed=function(){return Kp.apply(null,arguments)},Jp.unsigned=function(){return Kp.apply(null,arguments)>>>0};var F7=Jp;const R7=Zs(F7),P7=21582659,M7=38359875;function O7(t,e){return t*2**e}function HE(t,e){return Math.floor(t/2**e)}let vc=class extends UE{constructor(){super(...arguments),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e,n){var r,i;return((i=(r=(await this.parse(n)).indices[e])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async indexCov(){return[]}parseAuxData(e,n){const r=e.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},s=e.readInt32LE(n+16),l=s?String.fromCharCode(s):"",f=e.readInt32LE(n+20),u=e.readInt32LE(n+24);return{columnNumbers:a,coordinateType:i,metaValue:s,metaChar:l,skipLines:f,format:o,formatFlags:r,...C7(e.subarray(n+28,n+28+u),this.renameRefSeq)}}async _parse(e){const n=await this.filehandle.readFile(e),r=await ei(n);let i;if(r.readUInt32LE(0)===P7)i=1;else if(r.readUInt32LE(0)===M7)i=2;else throw new Error("Not a CSI file");this.minShift=r.readInt32LE(4),this.depth=r.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const o=r.readInt32LE(12),a=o>=30?this.parseAuxData(r,16):void 0,s=r.readInt32LE(16+o);let l=16+o+4,f;const u=new Array(s);for(let c=0;c<s;c++){const h=r.readInt32LE(l);l+=4;const d={};let p;for(let b=0;b<h;b++){const y=r.readUInt32LE(l);if(l+=4,y>this.maxBinNumber)p=zE(r,l+28),l+=28+16;else{f=xc(f,xa(r,l)),l+=8;const w=r.readInt32LE(l);l+=4;const S=new Array(w);for(let C=0;C<w;C+=1){const _=xa(r,l);l+=8;const k=xa(r,l);l+=8,f=xc(f,_),S[C]=new NE(_,k,y)}d[y]=S}}u[c]={binIndex:d,stats:p}}return{csiVersion:i,firstDataLine:f,indices:u,refCount:s,csi:!0,maxBlockSize:65536,...a}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i),a=o==null?void 0:o.indices[e];if(!a)return[];const s=this.reg2bins(n,r);if(s.length===0)return[];const l=[];for(const[f,u]of s)for(let c=f;c<=u;c++)if(a.binIndex[c]){const h=a.binIndex[c];for(const d of h)l.push(d)}return LE(l,new OE(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const a=[];for(;r<=this.depth;o-=3,i+=O7(1,r*3),r+=1){const s=i+HE(e,o),l=i+HE(n,o);if(l-s+a.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);a.push([s,l])}return a}async parse(e={}){return this.setupP||(this.setupP=this._parse(e).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(e,n={}){var r;return!!(!((r=(await this.parse(n)).indices[e])===null||r===void 0)&&r.binIndex)}};const pn={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},VE="=ACMGRSVTWYHKDBN".split(""),Pf="MIDNSHP=X???????".split("");class jE{constructor(e){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=e,{byteArray:i,start:o}=n;this.data={},this.bytes=n,this._id=r,this._refID=i.readInt32LE(o+4),this.data.start=i.readInt32LE(o+8),this.flags=(i.readInt32LE(o+16)&4294901760)>>16}get(e){return this[e]?this.data[e]?this.data[e]:(this.data[e]=this[e](),this.data[e]):this._get(e.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(e){return e in this.data?this.data[e]:(this.data[e]=this._parseTag(e),this.data[e])}_tags(){this._parseAllTags();let e=["seq"];this.isSegmentUnmapped()||e.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&e.push("next_segment_position","pair_orientation"),e=e.concat(this._tagList||[]);for(const r of Object.keys(this.data))r[0]!=="_"&&r!=="next_seq_id"&&e.push(r);const n={};return e.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),o=n[i];return n[i]=!0,!o})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const e=(this.get("_bin_mq_nl")&65280)>>8;return e===255?void 0:e}score(){return this.get("mq")}qual(){var e;return(e=this.qualRaw())===null||e===void 0?void 0:e.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:e,byteArray:n}=this.bytes,r=e+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const e=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+e-1)}_parseTag(e){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const o=this.bytes.end;let a;for(;i<o&&a!==e;){const s=String.fromCharCode(n[i],n[i+1]);a=s.toLowerCase();const l=String.fromCharCode(n[i+2]);i+=3;let f;switch(l){case"A":{f=String.fromCharCode(n[i]),i+=1;break}case"i":{f=n.readInt32LE(i),i+=4;break}case"I":{f=n.readUInt32LE(i),i+=4;break}case"c":{f=n.readInt8(i),i+=1;break}case"C":{f=n.readUInt8(i),i+=1;break}case"s":{f=n.readInt16LE(i),i+=2;break}case"S":{f=n.readUInt16LE(i),i+=2;break}case"f":{f=n.readFloatLE(i),i+=4;break}case"Z":case"H":{for(f="";i<=o;){const u=n[i++];if(u===0)break;f+=String.fromCharCode(u)}break}case"B":{f="";const u=n[i++],c=String.fromCharCode(u),h=n.readInt32LE(i);if(i+=4,c==="i")if(s==="CG")for(let d=0;d<h;d++){const p=n.readInt32LE(i),b=p>>4,y=Pf[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="I")if(s==="CG")for(let d=0;d<h;d++){const p=n.readUInt32LE(i),b=p>>4,y=Pf[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readUInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="s")for(let d=0;d<h;d++)f+=n.readInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="S")for(let d=0;d<h;d++)f+=n.readUInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="c")for(let d=0;d<h;d++)f+=n.readInt8(i),d+1<h&&(f+=","),i+=1;if(c==="C")for(let d=0;d<h;d++)f+=n.readUInt8(i),d+1<h&&(f+=","),i+=1;if(c==="f")for(let d=0;d<h;d++)f+=n.readFloatLE(i),d+1<h&&(f+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${l}', tags may be incomplete`),f=void 0,i=o}if(this._tagOffset=i,this._tagList.push(s),a===e)return f;this.data[a]=f}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(e){return e.match(/\d+\D/g).map(n=>[n.match(/\D/)[0].toUpperCase(),Number.parseInt(n,10)])}isPaired(){return!!(this.flags&pn.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&pn.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&pn.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&pn.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&pn.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&pn.BAM_FMREVERSE)}isRead1(){return!!(this.flags&pn.BAM_FREAD1)}isRead2(){return!!(this.flags&pn.BAM_FREAD2)}isSecondary(){return!!(this.flags&pn.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&pn.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&pn.BAM_FDUP)}isSupplementary(){return!!(this.flags&pn.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:e,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const o=this.get("seq_length");let a="",s=0,l=e.readInt32LE(i),f=l>>4,u=Pf[l&15];if(u==="S"&&f===o)return i+=4,l=e.readInt32LE(i),f=l>>4,u=Pf[l&15],u!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=f,this.get("CG");for(let c=0;c<r;++c)l=e.readInt32LE(i),f=l>>4,u=Pf[l&15],a+=f+u,u!=="H"&&u!=="S"&&u!=="I"&&(s+=f),i+=4;return this.data.length_on_ref=s,a}_flags(){}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:e,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),o=this.get("seq_length");let a="",s=0;for(let l=0;l<i;++l){const f=e[r+l];a+=VE[(f&240)>>4],s++,s<o&&(a+=VE[f&15],s++)}return a}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const e=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const o=[];return this.template_length()>0?(o[0]=e,o[1]=r,o[2]=n,o[3]=i):(o[2]=e,o[3]=r,o[0]=n,o[1]=i),o.join("")}return""}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const e={};for(const n of Object.keys(this))n.charAt(0)==="_"||n==="bytes"||(e[n]=this[n]);return e}}function qE(t){const e=t.split(/\r?\n/),n=[];for(const r of e){const[i,...o]=r.split(/\t/);i&&n.push({tag:i.slice(1),data:o.map(a=>{const[s,l]=a.split(":",2);return{tag:s,value:l}})})}return n}const WE=21840194,ZE=65536;async function N7(t){let e=[];for await(const n of t)e=e.concat(n);return e}class L7{read(){throw new Error("never called")}stat(){throw new Error("never called")}readFile(){throw new Error("never called")}close(){throw new Error("never called")}}class $E{constructor({bamFilehandle:e,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:o,baiUrl:a,csiPath:s,csiFilehandle:l,csiUrl:f,htsget:u,yieldThreadTime:c=100,renameRefSeqs:h=d=>d}){if(this.htsget=!1,this.featureCache=new tc({cache:new nc({maxSize:50}),fill:async(d,p)=>{const{chunk:b,opts:y}=d,{data:w,cpositions:S,dpositions:C}=await this._readChunk({chunk:b,opts:{...y,signal:p}});return this.readBamFeatures(w,S,C,b)}}),this.renameRefSeq=h,e)this.bam=e;else if(n)this.bam=new ct(n);else if(r)this.bam=new Zi(r);else if(u)this.htsget=!0,this.bam=new L7;else throw new Error("unable to initialize bam");if(l)this.index=new vc({filehandle:l});else if(s)this.index=new vc({filehandle:new ct(s)});else if(f)this.index=new vc({filehandle:new Zi(f)});else if(o)this.index=new va({filehandle:o});else if(i)this.index=new va({filehandle:new ct(i)});else if(a)this.index=new va({filehandle:new Zi(a)});else if(n)this.index=new va({filehandle:new ct(`${n}.bai`)});else if(r)this.index=new va({filehandle:new Zi(`${r}.bai`)});else if(u)this.htsget=!0;else throw new Error("unable to infer index format");this.yieldThreadTime=c}async getHeaderPre(e){const n=S7(e);if(!this.index)return;const r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let o;if(i){const u=i+ZE,c=await this.bam.read(be.Buffer.alloc(u),0,u,0,n);if(!c.bytesRead)throw new Error("Error reading header");o=c.buffer.subarray(0,Math.min(c.bytesRead,i))}else o=await this.bam.readFile(n);const a=await ei(o);if(a.readInt32LE(0)!==WE)throw new Error("Not a BAM file");const s=a.readInt32LE(4);this.header=a.toString("utf8",8,8+s);const{chrToIndex:l,indexToChr:f}=await this._readRefSeqs(s+8,65535,n);return this.chrToIndex=l,this.indexToChr=f,qE(this.header)}getHeader(e){return this.headerP||(this.headerP=this.getHeaderPre(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}async getHeaderText(e={}){return await this.getHeader(e),this.header}async _readRefSeqs(e,n,r){if(e>n)return this._readRefSeqs(e,n*2,r);const i=n+ZE,{bytesRead:o,buffer:a}=await this.bam.read(be.Buffer.alloc(i),0,n,0,r);if(!o)throw new Error("Error reading refseqs from header");const s=await ei(a.subarray(0,Math.min(o,n))),l=s.readInt32LE(e);let f=e+4;const u={},c=[];for(let h=0;h<l;h+=1){const d=s.readInt32LE(f),p=this.renameRefSeq(s.toString("utf8",f+4,f+4+d-1)),b=s.readInt32LE(f+d+4);if(u[p]=h,c.push({refName:p,length:b}),f=f+8+d,f>s.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(e,n*2,r)}return{chrToIndex:u,indexToChr:c}}async getRecordsForRange(e,n,r,i){return N7(this.streamRecordsForRange(e,n,r,i))}async*streamRecordsForRange(e,n,r,i){var o;await this.getHeader(i);const a=(o=this.chrToIndex)===null||o===void 0?void 0:o[e];if(a===void 0||!this.index)yield[];else{const s=await this.index.blocksForRange(a,n-1,r,i);yield*this._fetchChunkFeatures(s,a,n,r,i)}}async*_fetchChunkFeatures(e,n,r,i,o={}){const{viewAsPairs:a}=o,s=[];let l=!1;for(const f of e){const u=await this.featureCache.get(f.toString(),{chunk:f,opts:o},o.signal),c=[];for(const h of u)if(h.seq_id()===n)if(h.get("start")>=i){l=!0;break}else h.get("end")>=r&&c.push(h);if(s.push(c),yield c,l)break}E7(o.signal),a&&(yield this.fetchPairs(n,s,o))}async fetchPairs(e,n,r){const{pairAcrossChr:i,maxInsertSize:o=2e5}=r,a={},s={};n.map(h=>{const d={};for(const p of h){const b=p.name(),y=p.id();d[b]||(d[b]=0),d[b]++,s[y]=1}for(const[p,b]of Object.entries(d))b===1&&(a[p]=!0)});const l=[];n.map(h=>{for(const d of h){const p=d.name(),b=d.get("start"),y=d._next_pos(),w=d._next_refid();this.index&&a[p]&&(i||w===e&&Math.abs(b-y)<o)&&l.push(this.index.blocksForRange(w,y,y+1,r))}});const f=new Map,u=await Promise.all(l);for(const h of u.flat())f.has(h.toString())||f.set(h.toString(),h);return(await Promise.all([...f.values()].map(async h=>{const{data:d,cpositions:p,dpositions:b,chunk:y}=await this._readChunk({chunk:h,opts:r}),w=[];for(const S of await this.readBamFeatures(d,p,b,y))a[S.get("name")]&&!s[S.id()]&&w.push(S);return w}))).flat()}async _readRegion(e,n,r={}){const{bytesRead:i,buffer:o}=await this.bam.read(be.Buffer.alloc(n),0,n,e,r);return o.subarray(0,Math.min(i,n))}async _readChunk({chunk:e,opts:n}){const r=await this._readRegion(e.minv.blockPosition,e.fetchedSize(),n),{buffer:i,cpositions:o,dpositions:a}=await gA(r,e);return{data:i,cpositions:o,dpositions:a,chunk:e}}async readBamFeatures(e,n,r,i){let o=0;const a=[];let s=0,l=+Date.now();for(;o+4<e.length;){const f=e.readInt32LE(o),u=o+4+f-1;if(r){for(;o+i.minv.dataPosition>=r[s++];);s--}if(u<e.length){const c=new jE({bytes:{byteArray:e,start:o,end:u},fileOffset:n.length>0?n[s]*256+(o-r[s])+i.minv.dataPosition+1:R7.signed(e.slice(o,u))});a.push(c),this.yieldThreadTime&&+Date.now()-l>this.yieldThreadTime&&(await v7(1),l=+Date.now())}o=u+1}return a}async hasRefSeq(e){var n,r;const i=(n=this.chrToIndex)===null||n===void 0?void 0:n[e];return i===void 0?!1:(r=this.index)===null||r===void 0?void 0:r.hasRefSeq(i)}async lineCount(e){var n;const r=(n=this.chrToIndex)===null||n===void 0?void 0:n[e];return r===void 0||!this.index?0:this.index.lineCount(r)}async indexCov(e,n,r){var i;if(!this.index)return[];await this.index.parse();const o=(i=this.chrToIndex)===null||i===void 0?void 0:i[e];return o===void 0?[]:this.index.indexCov(o,n,r)}async blocksForRange(e,n,r,i){var o;if(!this.index)return[];await this.index.parse();const a=(o=this.chrToIndex)===null||o===void 0?void 0:o[e];return a===void 0?[]:this.index.blocksForRange(a,n,r,i)}}async function YE(t,e){const n=await Promise.all(t.map(async r=>{const{url:i,headers:o}=r;if(i.startsWith("data:"))return be.Buffer.from(i.split(",")[1],"base64");{const{referer:a,...s}=o,l=await fetch(i,{...e,headers:{...e==null?void 0:e.headers,...s}});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${i}: ${await l.text()}`);return be.Buffer.from(await l.arrayBuffer())}}));return be.Buffer.concat(await Promise.all(n.map(r=>ei(r))))}class z7 extends $E{constructor(e){super({htsget:!0}),this.baseUrl=e.baseUrl,this.trackId=e.trackId}async*streamRecordsForRange(e,n,r,i){var o;const s=`${`${this.baseUrl}/${this.trackId}`}?referenceName=${e}&start=${n}&end=${r}&format=BAM`,l=(o=this.chrToIndex)===null||o===void 0?void 0:o[e];if(l===void 0)yield[];else{const f=await fetch(s,{...i});if(!f.ok)throw new Error(`HTTP ${f.status} fetching ${s}: ${await f.text()}`);const u=await f.json(),c=await YE(u.htsget.urls.slice(1),i);yield*this._fetchChunkFeatures([{buffer:c,_fetchedSize:void 0,bin:0,compareTo(){return 0},toUniqueString(){return`${e}_${n}_${r}`},fetchedSize(){return 0},minv:{dataPosition:0,blockPosition:0,compareTo:()=>0},maxv:{dataPosition:Number.MAX_SAFE_INTEGER,blockPosition:0,compareTo:()=>0},toString(){return`${e}_${n}_${r}`}}],l,n,r,i)}}async _readChunk({chunk:e}){if(!e.buffer)throw new Error("expected chunk.buffer in htsget");return{data:e.buffer,cpositions:[],dpositions:[],chunk:e}}async getHeader(e={}){const n=`${this.baseUrl}/${this.trackId}?referenceName=na&class=header`,r=await fetch(n,e);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${n}: ${await r.text()}`);const i=await r.json(),o=await YE(i.htsget.urls,e);if(o.readInt32LE(0)!==WE)throw new Error("Not a BAM file");const a=o.readInt32LE(4),s=o.toString("utf8",8,8+a),l=qE(s),f=[],u={},c=l.filter(h=>h.tag==="SQ");for(const[h,d]of c.entries()){let p="",b=0;for(const y of d.data)y.tag==="SN"?p=y.value:y.tag==="LN"&&(b=+y.value);u[p]=h,f[h]={refName:p,length:b}}return this.chrToIndex=u,this.indexToChr=f,l}}const U7=Object.freeze(Object.defineProperty({__proto__:null,BAI:va,BamFile:$E,BamRecord:jE,CSI:vc,HtsgetFile:z7},Symbol.toStringTag,{value:"Module"}));function QE(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}class G7 extends Error{}function po(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new G7("aborted");throw e.code="ERR_ABORTED",e}}}function H7(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function XE(t,e){const n=[];let r=null;return t.length===0?t:(t.sort(function(i,o){const a=i.minv.blockPosition-o.minv.blockPosition;return a!==0?a:i.minv.dataPosition-o.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):H7(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}class eg{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}}function Aa(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new eg(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}class Ac{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class KE{constructor({filehandle:e,renameRefSeqs:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}async getMetadata(e={}){const{indices:n,...r}=await this.parse(e);return r}_findFirstData(e,n){return e?e.compareTo(n)>0?n:e:n}async parse(e={}){return this.parseP||(this.parseP=this._parse(e).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}}const V7=21578324,JE=14;function j7(t,e){return t+=1,e-=1,[[0,0],[1+(t>>26),1+(e>>26)],[9+(t>>23),9+(e>>23)],[73+(t>>20),73+(e>>20)],[585+(t>>17),585+(e>>17)],[4681+(t>>14),4681+(e>>14)]]}class Ec extends KE{async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:a}=r.indices[i];return a?a.lineCount:-1}async _parse(e={}){const n=await this.filehandle.readFile(e),r=await ei(n);if(po(e.signal),r.readUInt32LE(0)!==V7)throw new Error("Not a TBI file");const i=r.readInt32LE(4),o=r.readInt32LE(8),a=o&65536?"zero-based-half-open":"1-based-closed",l={0:"generic",1:"SAM",2:"VCF"}[o&15];if(!l)throw new Error(`invalid Tabix preset format flags ${o}`);const f={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},u=r.readInt32LE(24),c=5,h=((1<<(c+1)*3)-1)/7,d=2**(14+c*3),p=u?String.fromCharCode(u):null,b=r.readInt32LE(28),y=r.readInt32LE(32),{refNameToId:w,refIdToName:S}=this._parseNameBytes(r.slice(36,36+y));let C=36+y,_;return{indices:new Array(i).fill(0).map(()=>{const D=r.readInt32LE(C);C+=4;const I={};let R;for(let L=0;L<D;L+=1){const ne=r.readUInt32LE(C);if(C+=4,ne>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(ne===h+1){const ae=r.readInt32LE(C);C+=4,ae===2&&(R=this.parsePseudoBin(r,C)),C+=16*ae}else{const ae=r.readInt32LE(C);C+=4;const de=new Array(ae);for(let ke=0;ke<ae;ke+=1){const Qe=Aa(r,C),Be=Aa(r,C+8);C+=16,_=this._findFirstData(_,Qe),de[ke]=new Ac(Qe,Be,ne)}I[ne]=de}}const M=r.readInt32LE(C);C+=4;const j=new Array(M);for(let L=0;L<M;L+=1)j[L]=Aa(r,C),C+=8,_=this._findFirstData(_,j[L]);return{binIndex:I,linearIndex:j,stats:R}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:b,firstDataLine:_,columnNumbers:f,coordinateType:a,format:l,refIdToName:S,refNameToId:w,maxBlockSize:65536}}parsePseudoBin(e,n){return{lineCount:QE(Zu.fromBytesLE(e.slice(n+16,n+24),!0))}}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let a=0;a<e.length;a+=1)if(!e[a]){if(r<a){let s=e.toString("utf8",r,a);s=this.renameRefSeq(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const a=o.refNameToId[e],s=o.indices[a];if(!s)return[];(s.linearIndex.length?s.linearIndex[n>>JE>=s.linearIndex.length?s.linearIndex.length-1:n>>JE]:new eg(0,0))||console.warn("querying outside of possible tabix range");const f=j7(n,r),u=[];for(const[b,y]of f)for(let w=b;w<=y;w++)if(s.binIndex[w]){const S=s.binIndex[w];for(let C=0;C<S.length;++C)u.push(new Ac(S[C].minv,S[C].maxv,w))}const c=s.linearIndex.length;let h=null;const d=Math.min(n>>14,c-1),p=Math.min(r>>14,c-1);for(let b=d;b<=p;++b){const y=s.linearIndex[b];y&&(!h||y.compareTo(h)<0)&&(h=y)}return XE(u,h)}}const q7=21582659,W7=38359875;function Z7(t,e){return t*2**e}function e_(t,e){return Math.floor(t/2**e)}class tg extends KE{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:a}=r.indices[i];return a?a.lineCount:-1}async indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(e,n){const r=e.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},s=e.readInt32LE(n+16),l=s?String.fromCharCode(s):null,f=e.readInt32LE(n+20),u=e.readInt32LE(n+24),{refIdToName:c,refNameToId:h}=this._parseNameBytes(e.slice(n+28,n+28+u));return{refIdToName:c,refNameToId:h,skipLines:f,metaChar:l,columnNumbers:a,format:o,coordinateType:i}}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let a=0;a<e.length;a+=1)if(!e[a]){if(r<a){let s=e.toString("utf8",r,a);s=this.renameRefSeq(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}async _parse(e={}){const n=await ei(await this.filehandle.readFile(e));let r;if(n.readUInt32LE(0)===q7)r=1;else if(n.readUInt32LE(0)===W7)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),o=n.readInt32LE(12),a=o&&o>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},s=n.readInt32LE(16+o);let l,f=16+o+4;const u=new Array(s).fill(0).map(()=>{const c=n.readInt32LE(f);f+=4;const h={};let d;for(let p=0;p<c;p+=1){const b=n.readUInt32LE(f);if(b>this.maxBinNumber)d=this.parsePseudoBin(n,f+4),f+=4+8+4+16+16;else{const y=Aa(n,f+4);l=this._findFirstData(l,y);const w=n.readInt32LE(f+12);f+=16;const S=new Array(w);for(let C=0;C<w;C+=1){const _=Aa(n,f),k=Aa(n,f+8);f+=16,S[C]=new Ac(_,k,b)}h[b]=S}}return{binIndex:h,stats:d}});return{...a,csi:!0,refCount:s,maxBlockSize:65536,firstDataLine:l,csiVersion:r,indices:u,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(e,n){return{lineCount:QE(Zu.fromBytesLE(e.slice(n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const a=o.refNameToId[e],s=o.indices[a];if(!s)return[];const l=this.reg2bins(n,r),f=[];for(const[u,c]of l)for(let h=u;h<=c;h++)if(s.binIndex[h]){const d=s.binIndex[h];for(let p=0;p<d.length;++p)f.push(new Ac(d[p].minv,d[p].maxv,h))}return XE(f,new eg(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const a=[];for(;r<=this.depth;o-=3,i+=Z7(1,r*3),r+=1){const s=i+e_(e,o),l=i+e_(n,o);if(l-s+a.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);a.push([s,l])}return a}}const ng=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function $7(t){return new Promise(e=>setTimeout(e,t))}class Y7{constructor({path:e,filehandle:n,tbiPath:r,tbiFilehandle:i,csiPath:o,csiFilehandle:a,yieldTime:s=500,chunkSizeLimit:l=5e7,renameRefSeqs:f=c=>c,chunkCacheSize:u=5*2**20}){if(n)this.filehandle=n;else if(e)this.filehandle=new ct(e);else throw new TypeError("must provide either filehandle or path");if(i)this.index=new Ec({filehandle:i,renameRefSeqs:f});else if(a)this.index=new tg({filehandle:a,renameRefSeqs:f});else if(r)this.index=new Ec({filehandle:new ct(r),renameRefSeqs:f});else if(o)this.index=new tg({filehandle:new ct(o),renameRefSeqs:f});else if(e)this.index=new Ec({filehandle:new ct(`${e}.tbi`),renameRefSeqs:f});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.chunkSizeLimit=l,this.renameRefSeq=f,this.yieldTime=s,this.chunkCache=new tc({cache:new nc({maxSize:Math.floor(u/65536)}),fill:(c,h)=>this.readChunk(c,{signal:h})})}async getLines(e,n,r,i){let o,a={},s;if(typeof i>"u")throw new TypeError("line callback must be provided");if(typeof i=="function"?s=i:(a=i,s=i.lineCallback),e===void 0)throw new TypeError("must provide a reference sequence name");if(!s)throw new TypeError("line callback must be provided");const l=await this.index.getMetadata(a);if(po(o),n||(n=0),r||(r=l.maxRefLength),!(n<=r))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(n===r)return;const f=await this.index.blocksForRange(e,n,r,a);po(o);for(let c=0;c<f.length;c+=1){const h=f[c].fetchedSize();if(h>this.chunkSizeLimit)throw new Error(`Too much data. Chunk size ${h.toLocaleString()} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit.toLocaleString()}.`)}let u=Date.now();for(let c=0;c<f.length;c+=1){let h;const d=f[c],{buffer:p,cpositions:b,dpositions:y}=await this.chunkCache.get(d.toString(),d);po(o);let w=0,S=0;for(;w<p.length;){const C=p.indexOf(`
`,w);if(C===-1)break;const _=p.slice(w,C),k=(ng==null?void 0:ng.decode(_))||_.toString();if(y){for(;w+d.minv.dataPosition>=y[S++];);S--}const{startCoordinate:D,overlaps:I}=this.checkLine(l,e,n,r,k);if(h!==void 0&&D!==void 0&&h>D)throw new Error(`Lines not sorted by start coordinate (${h} > ${D}), this file is not usable with Tabix.`);if(h=D,I)s(k.trim(),b[S]*256+(w-y[S])+d.minv.dataPosition+1);else if(D!==void 0&&D>=r)return;this.yieldTime&&u-Date.now()>this.yieldTime&&(u=Date.now(),po(o),await $7(1)),w=C+1}}}async getMetadata(e={}){return this.index.getMetadata(e)}async getHeaderBuffer(e={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(e);po(e.signal);const o=((n==null?void 0:n.blockPosition)||0)+i;let a=await this._readRegion(0,o,e);po(e.signal);try{a=await ei(a)}catch(s){throw console.error(s),new Error(`error decompressing block ${s.code} at 0 (length ${o}) ${s}`)}if(r){let s=-1;const l=`
`.charCodeAt(0),f=r.charCodeAt(0);for(let u=0;u<a.length&&!(u===s+1&&a[u]!==f);u+=1)a[u]===l&&(s=u);a=a.slice(0,s+1)}return a}async getHeader(e={}){return(await this.getHeaderBuffer(e)).toString("utf8")}async getReferenceSequenceNames(e={}){return(await this.getMetadata(e)).refIdToName}checkLine(e,n,r,i,o){const{columnNumbers:a,metaChar:s,coordinateType:l,format:f}=e;if(o.charAt(0)===s)return{overlaps:!1};let{ref:u,start:c,end:h}=a;u||(u=0),c||(c=0),h||(h=0),f==="VCF"&&(h=8);const d=Math.max(u,c,h);let p=1,b=0,y="",w=-1/0;for(let S=0;S<o.length+1;S+=1)if(o[S]==="	"||S===o.length){if(p===u){if(this.renameRefSeq(o.slice(b,S))!==n)return{overlaps:!1}}else if(p===c){if(w=parseInt(o.slice(b,S),10),l==="1-based-closed"&&(w-=1),w>=i)return{startCoordinate:w,overlaps:!1};if((h===0||h===c)&&w+1<=r)return{startCoordinate:w,overlaps:!1}}else if(f==="VCF"&&p===4)y=o.slice(b,S);else if(p===h){let C;if(f==="VCF"?C=this._getVcfEnd(w,y,o.slice(b,S)):C=parseInt(o.slice(b,S),10),C<=r)return{overlaps:!1}}if(b=S+1,p+=1,p>d)break}return{startCoordinate:w,overlaps:!0}}_getVcfEnd(e,n,r){let i=e+n.length;const o=r.indexOf("SVTYPE=TRA")!==-1;if(r[0]!=="."&&!o){let a=";";for(let s=0;s<r.length;s+=1){if(a===";"&&r.slice(s,s+4)==="END="){let l=r.indexOf(";",s);l===-1&&(l=r.length),i=parseInt(r.slice(s+4,l),10);break}a=r[s]}}else if(o)return e+1;return i}async lineCount(e,n={}){return this.index.lineCount(e,n)}async _readRegion(e,n,r={}){const i=Buffer.alloc(n),{bytesRead:o,buffer:a}=await this.filehandle.read(i,0,n,e,r);return a.slice(0,o)}async readChunk(e,n={}){const r=await this._readRegion(e.minv.blockPosition,e.fetchedSize(),n);try{return gA(r,e)}catch(i){throw new Error(`error decompressing c ${e.toString()} ${i}`)}}}const Q7=Object.freeze(Object.defineProperty({__proto__:null,CSI:tg,TBI:Ec,TabixIndexedFile:Y7},Symbol.toStringTag,{value:"Module"}));var rg={exports:{}},Ea=typeof Reflect=="object"?Reflect:null,t_=Ea&&typeof Ea.apply=="function"?Ea.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},_c;Ea&&typeof Ea.ownKeys=="function"?_c=Ea.ownKeys:Object.getOwnPropertySymbols?_c=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:_c=function(e){return Object.getOwnPropertyNames(e)};function X7(t){console&&console.warn&&console.warn(t)}var n_=Number.isNaN||function(e){return e!==e};function De(){De.init.call(this)}rg.exports=De,rg.exports.once=tz,De.EventEmitter=De,De.prototype._events=void 0,De.prototype._eventsCount=0,De.prototype._maxListeners=void 0;var r_=10;function Sc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(De,"defaultMaxListeners",{enumerable:!0,get:function(){return r_},set:function(t){if(typeof t!="number"||t<0||n_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");r_=t}}),De.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},De.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||n_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function i_(t){return t._maxListeners===void 0?De.defaultMaxListeners:t._maxListeners}De.prototype.getMaxListeners=function(){return i_(this)},De.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")t_(l,this,n);else for(var f=l.length,u=l_(l,f),r=0;r<f;++r)t_(u[r],this,n);return!0};function o_(t,e,n,r){var i,o,a;if(Sc(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),a===void 0)a=o[e]=n,++t._eventsCount;else if(typeof a=="function"?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=i_(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,X7(s)}return t}De.prototype.addListener=function(e,n){return o_(this,e,n,!1)},De.prototype.on=De.prototype.addListener,De.prototype.prependListener=function(e,n){return o_(this,e,n,!0)};function K7(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a_(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=K7.bind(r);return i.listener=n,r.wrapFn=i,i}De.prototype.once=function(e,n){return Sc(n),this.on(e,a_(this,e,n)),this},De.prototype.prependOnceListener=function(e,n){return Sc(n),this.prependListener(e,a_(this,e,n)),this},De.prototype.removeListener=function(e,n){var r,i,o,a,s;if(Sc(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():J7(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||n)}return this},De.prototype.off=De.prototype.removeListener,De.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function s_(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?ez(i):l_(i,i.length)}De.prototype.listeners=function(e){return s_(this,e,!0)},De.prototype.rawListeners=function(e){return s_(this,e,!1)},De.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):f_.call(t,e)},De.prototype.listenerCount=f_;function f_(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}De.prototype.eventNames=function(){return this._eventsCount>0?_c(this._events):[]};function l_(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function J7(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function ez(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function tz(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,o),r(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}u_(t,e,o,{once:!0}),e!=="error"&&nz(t,i,{once:!0})})}function nz(t,e,n){typeof t.on=="function"&&u_(t,"error",e,n)}function u_(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ig=rg.exports,og={exports:{}};typeof Object.create=="function"?og.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:og.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var _a=og.exports,ag,c_;function h_(){return c_||(c_=1,ag=ig.EventEmitter),ag}const d_=g5(_5);var sg,p_;function rz(){if(p_)return sg;p_=1;function t(p,b){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);b&&(w=w.filter(function(S){return Object.getOwnPropertyDescriptor(p,S).enumerable})),y.push.apply(y,w)}return y}function e(p){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?t(Object(y),!0).forEach(function(w){n(p,w,y[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(w){Object.defineProperty(p,w,Object.getOwnPropertyDescriptor(y,w))})}return p}function n(p,b,y){return b=a(b),b in p?Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[b]=y,p}function r(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function i(p,b){for(var y=0;y<b.length;y++){var w=b[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,a(w.key),w)}}function o(p,b,y){return b&&i(p.prototype,b),y&&i(p,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function a(p){var b=s(p,"string");return typeof b=="symbol"?b:String(b)}function s(p,b){if(typeof p!="object"||p===null)return p;var y=p[Symbol.toPrimitive];if(y!==void 0){var w=y.call(p,b||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}var l=be,f=l.Buffer,u=d_,c=u.inspect,h=c&&c.custom||"inspect";function d(p,b,y){f.prototype.copy.call(p,b,y)}return sg=function(){function p(){r(this,p),this.head=null,this.tail=null,this.length=0}return o(p,[{key:"push",value:function(y){var w={data:y,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(y){var w={data:y,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var w=this.head,S=""+w.data;w=w.next;)S+=y+w.data;return S}},{key:"concat",value:function(y){if(this.length===0)return f.alloc(0);for(var w=f.allocUnsafe(y>>>0),S=this.head,C=0;S;)d(S.data,w,C),C+=S.data.length,S=S.next;return w}},{key:"consume",value:function(y,w){var S;return y<this.head.data.length?(S=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?S=this.shift():S=w?this._getString(y):this._getBuffer(y),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var w=this.head,S=1,C=w.data;for(y-=C.length;w=w.next;){var _=w.data,k=y>_.length?_.length:y;if(k===_.length?C+=_:C+=_.slice(0,y),y-=k,y===0){k===_.length?(++S,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=_.slice(k));break}++S}return this.length-=S,C}},{key:"_getBuffer",value:function(y){var w=f.allocUnsafe(y),S=this.head,C=1;for(S.data.copy(w),y-=S.data.length;S=S.next;){var _=S.data,k=y>_.length?_.length:y;if(_.copy(w,w.length-y,0,k),y-=k,y===0){k===_.length?(++C,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=_.slice(k));break}++C}return this.length-=C,w}},{key:h,value:function(y,w){return c(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),p}(),sg}var fg,g_;function m_(){if(g_)return fg;g_=1;function t(a,s){var l=this,f=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return f||u?(s?s(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,a)):process.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(c){!s&&c?l._writableState?l._writableState.errorEmitted?process.nextTick(n,l):(l._writableState.errorEmitted=!0,process.nextTick(e,l,c)):process.nextTick(e,l,c):s?(process.nextTick(n,l),s(c)):process.nextTick(n,l)}),this)}function e(a,s){i(a,s),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,s){a.emit("error",s)}function o(a,s){var l=a._readableState,f=a._writableState;l&&l.autoDestroy||f&&f.autoDestroy?a.destroy(s):a.emit("error",s)}return fg={destroy:t,undestroy:r,errorOrDestroy:o},fg}var lg={},b_;function Sa(){if(b_)return lg;b_=1;function t(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var e={};function n(s,l,f){f||(f=Error);function u(h,d,p){return typeof l=="string"?l:l(h,d,p)}var c=function(h){t(d,h);function d(p,b,y){return h.call(this,u(p,b,y))||this}return d}(f);c.prototype.name=f.name,c.prototype.code=s,e[s]=c}function r(s,l){if(Array.isArray(s)){var f=s.length;return s=s.map(function(u){return String(u)}),f>2?"one of ".concat(l," ").concat(s.slice(0,f-1).join(", "),", or ")+s[f-1]:f===2?"one of ".concat(l," ").concat(s[0]," or ").concat(s[1]):"of ".concat(l," ").concat(s[0])}else return"of ".concat(l," ").concat(String(s))}function i(s,l,f){return s.substr(!f||f<0?0:+f,l.length)===l}function o(s,l,f){return(f===void 0||f>s.length)&&(f=s.length),s.substring(f-l.length,f)===l}function a(s,l,f){return typeof f!="number"&&(f=0),f+l.length>s.length?!1:s.indexOf(l,f)!==-1}return n("ERR_INVALID_OPT_VALUE",function(s,l){return'The value "'+l+'" is invalid for option "'+s+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(s,l,f){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var c;if(o(s," argument"))c="The ".concat(s," ").concat(u," ").concat(r(l,"type"));else{var h=a(s,".")?"property":"argument";c='The "'.concat(s,'" ').concat(h," ").concat(u," ").concat(r(l,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),lg.codes=e,lg}var ug,y_;function w_(){if(y_)return ug;y_=1;var t=Sa().codes.ERR_INVALID_OPT_VALUE;function e(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function n(r,i,o,a){var s=e(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new t(l,s)}return Math.floor(s)}return r.objectMode?16:16*1024}return ug={getHighWaterMark:n},ug}var cg,x_;function iz(){if(x_)return cg;x_=1,cg=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return o}function e(n){try{if(!nn.localStorage)return!1}catch{return!1}var r=nn.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return cg}var hg,v_;function A_(){if(v_)return hg;v_=1,hg=R;function t(O){var P=this;this.next=null,this.entry=null,this.finish=function(){Ne(P,O)}}var e;R.WritableState=D;var n={deprecate:iz()},r=h_(),i=be.Buffer,o=(typeof nn<"u"?nn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(O){return i.from(O)}function s(O){return i.isBuffer(O)||O instanceof o}var l=m_(),f=w_(),u=f.getHighWaterMark,c=Sa().codes,h=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,w=c.ERR_STREAM_NULL_VALUES,S=c.ERR_STREAM_WRITE_AFTER_END,C=c.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;_a(R,r);function k(){}function D(O,P,q){e=e||Ca(),O=O||{},typeof q!="boolean"&&(q=P instanceof e),this.objectMode=!!O.objectMode,q&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=u(this,O,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=O.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){Qe(P,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}D.prototype.getBuffer=function(){for(var P=this.bufferedRequest,q=[];P;)q.push(P),P=P.next;return q},function(){try{Object.defineProperty(D.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(P){return I.call(this,P)?!0:this!==R?!1:P&&P._writableState instanceof D}})):I=function(P){return P instanceof this};function R(O){e=e||Ca();var P=this instanceof e;if(!P&&!I.call(R,this))return new R(O);this._writableState=new D(O,this,P),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),r.call(this)}R.prototype.pipe=function(){_(this,new b)};function M(O,P){var q=new S;_(O,q),process.nextTick(P,q)}function j(O,P,q,H){var Z;return q===null?Z=new w:typeof q!="string"&&!P.objectMode&&(Z=new h("chunk",["string","Buffer"],q)),Z?(_(O,Z),process.nextTick(H,Z),!1):!0}R.prototype.write=function(O,P,q){var H=this._writableState,Z=!1,E=!H.objectMode&&s(O);return E&&!i.isBuffer(O)&&(O=a(O)),typeof P=="function"&&(q=P,P=null),E?P="buffer":P||(P=H.defaultEncoding),typeof q!="function"&&(q=k),H.ending?M(this,q):(E||j(this,H,O,q))&&(H.pendingcb++,Z=ne(this,H,E,O,P,q)),Z},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&qe(this,O))},R.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new C(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function L(O,P,q){return!O.objectMode&&O.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,q)),P}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ne(O,P,q,H,Z,E){if(!q){var v=L(P,H,Z);H!==v&&(q=!0,Z="buffer",H=v)}var G=P.objectMode?1:H.length;P.length+=G;var W=P.length<P.highWaterMark;if(W||(P.needDrain=!0),P.writing||P.corked){var se=P.lastBufferedRequest;P.lastBufferedRequest={chunk:H,encoding:Z,isBuf:q,callback:E,next:null},se?se.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else ae(O,P,!1,G,H,Z,E);return W}function ae(O,P,q,H,Z,E,v){P.writelen=H,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new y("write")):q?O._writev(Z,P.onwrite):O._write(Z,E,P.onwrite),P.sync=!1}function de(O,P,q,H,Z){--P.pendingcb,q?(process.nextTick(Z,H),process.nextTick(dt,O,P),O._writableState.errorEmitted=!0,_(O,H)):(Z(H),O._writableState.errorEmitted=!0,_(O,H),dt(O,P))}function ke(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function Qe(O,P){var q=O._writableState,H=q.sync,Z=q.writecb;if(typeof Z!="function")throw new p;if(ke(q),P)de(O,q,H,P,Z);else{var E=Je(q)||O.destroyed;!E&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&qe(O,q),H?process.nextTick(Be,O,q,E,Z):Be(O,q,E,Z)}}function Be(O,P,q,H){q||Ke(O,P),P.pendingcb--,H(),dt(O,P)}function Ke(O,P){P.length===0&&P.needDrain&&(P.needDrain=!1,O.emit("drain"))}function qe(O,P){P.bufferProcessing=!0;var q=P.bufferedRequest;if(O._writev&&q&&q.next){var H=P.bufferedRequestCount,Z=new Array(H),E=P.corkedRequestsFree;E.entry=q;for(var v=0,G=!0;q;)Z[v]=q,q.isBuf||(G=!1),q=q.next,v+=1;Z.allBuffers=G,ae(O,P,!0,P.length,Z,"",E.finish),P.pendingcb++,P.lastBufferedRequest=null,E.next?(P.corkedRequestsFree=E.next,E.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;q;){var W=q.chunk,se=q.encoding,J=q.callback,fe=P.objectMode?1:W.length;if(ae(O,P,!1,fe,W,se,J),q=q.next,P.bufferedRequestCount--,P.writing)break}q===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=q,P.bufferProcessing=!1}R.prototype._write=function(O,P,q){q(new d("_write()"))},R.prototype._writev=null,R.prototype.end=function(O,P,q){var H=this._writableState;return typeof O=="function"?(q=O,O=null,P=null):typeof P=="function"&&(q=P,P=null),O!=null&&this.write(O,P),H.corked&&(H.corked=1,this.uncork()),H.ending||Ht(this,H,q),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Je(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function Ee(O,P){O._final(function(q){P.pendingcb--,q&&_(O,q),P.prefinished=!0,O.emit("prefinish"),dt(O,P)})}function _e(O,P){!P.prefinished&&!P.finalCalled&&(typeof O._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,process.nextTick(Ee,O,P)):(P.prefinished=!0,O.emit("prefinish")))}function dt(O,P){var q=Je(P);if(q&&(_e(O,P),P.pendingcb===0&&(P.finished=!0,O.emit("finish"),P.autoDestroy))){var H=O._readableState;(!H||H.autoDestroy&&H.endEmitted)&&O.destroy()}return q}function Ht(O,P,q){P.ending=!0,dt(O,P),q&&(P.finished?process.nextTick(q):O.once("finish",q)),P.ended=!0,O.writable=!1}function Ne(O,P,q){var H=O.entry;for(O.entry=null;H;){var Z=H.callback;P.pendingcb--,Z(q),H=H.next}P.corkedRequestsFree.next=O}return Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(O,P){P(O)},hg}var dg,E_;function Ca(){if(E_)return dg;E_=1;var t=Object.keys||function(f){var u=[];for(var c in f)u.push(c);return u};dg=a;var e=k_(),n=A_();_a(a,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(f){if(!(this instanceof a))return new a(f);e.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||process.nextTick(l,this)}function l(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),dg}var pg={},gg={exports:{}};(function(t,e){var n=be,r=n.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(a,s,l){return r(a,s,l)}i(r,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=r(a);return s!==void 0?typeof l=="string"?f.fill(s,l):f.fill(s):f.fill(0),f},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(gg,gg.exports);var oz=gg.exports,mg=oz.Buffer,__=mg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function az(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function sz(t){var e=az(t);if(typeof e!="string"&&(mg.isEncoding===__||!__(t)))throw new Error("Unknown encoding: "+t);return e||t}var fz=pg.StringDecoder=Mf;function Mf(t){this.encoding=sz(t);var e;switch(this.encoding){case"utf16le":this.text=pz,this.end=gz,e=4;break;case"utf8":this.fillLast=cz,e=4;break;case"base64":this.text=mz,this.end=bz,e=3;break;default:this.write=yz,this.end=wz;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mg.allocUnsafe(e)}Mf.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},Mf.prototype.end=dz,Mf.prototype.text=hz,Mf.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function bg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function lz(t,e,n){var r=e.length-1;if(r<n)return 0;var i=bg(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=bg(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=bg(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function uz(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function cz(t){var e=this.lastTotal-this.lastNeed,n=uz(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function hz(t,e){var n=lz(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function dz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function pz(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function gz(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function mz(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function bz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function yz(t){return t.toString(this.encoding)}function wz(t){return t&&t.length?this.write(t):""}var yg,S_;function wg(){if(S_)return yg;S_=1;var t=Sa().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];o.apply(this,l)}}}function n(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=e(s||n);var l=a.readable||a.readable!==!1&&o.readable,f=a.writable||a.writable!==!1&&o.writable,u=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){f=!1,c=!0,l||s.call(o)},d=o._readableState&&o._readableState.endEmitted,p=function(){l=!1,d=!0,f||s.call(o)},b=function(C){s.call(o,C)},y=function(){var C;if(l&&!d)return(!o._readableState||!o._readableState.ended)&&(C=new t),s.call(o,C);if(f&&!c)return(!o._writableState||!o._writableState.ended)&&(C=new t),s.call(o,C)},w=function(){o.req.on("finish",h)};return r(o)?(o.on("complete",h),o.on("abort",y),o.req?w():o.on("request",w)):f&&!o._writableState&&(o.on("end",u),o.on("close",u)),o.on("end",p),o.on("finish",h),a.error!==!1&&o.on("error",b),o.on("close",y),function(){o.removeListener("complete",h),o.removeListener("abort",y),o.removeListener("request",w),o.req&&o.req.removeListener("finish",h),o.removeListener("end",u),o.removeListener("close",u),o.removeListener("finish",h),o.removeListener("end",p),o.removeListener("error",b),o.removeListener("close",y)}}return yg=i,yg}var xg,C_;function xz(){if(C_)return xg;C_=1;var t;function e(C,_,k){return _=n(_),_ in C?Object.defineProperty(C,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[_]=k,C}function n(C){var _=r(C,"string");return typeof _=="symbol"?_:String(_)}function r(C,_){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var D=k.call(C,_||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(C)}var i=wg(),o=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function h(C,_){return{value:C,done:_}}function d(C){var _=C[o];if(_!==null){var k=C[c].read();k!==null&&(C[f]=null,C[o]=null,C[a]=null,_(h(k,!1)))}}function p(C){process.nextTick(d,C)}function b(C,_){return function(k,D){C.then(function(){if(_[l]){k(h(void 0,!0));return}_[u](k,D)},D)}}var y=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var _=this,k=this[s];if(k!==null)return Promise.reject(k);if(this[l])return Promise.resolve(h(void 0,!0));if(this[c].destroyed)return new Promise(function(M,j){process.nextTick(function(){_[s]?j(_[s]):M(h(void 0,!0))})});var D=this[f],I;if(D)I=new Promise(b(D,this));else{var R=this[c].read();if(R!==null)return Promise.resolve(h(R,!1));I=new Promise(this[u])}return this[f]=I,I}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var _=this;return new Promise(function(k,D){_[c].destroy(null,function(I){if(I){D(I);return}k(h(void 0,!0))})})}),t),y),S=function(_){var k,D=Object.create(w,(k={},e(k,c,{value:_,writable:!0}),e(k,o,{value:null,writable:!0}),e(k,a,{value:null,writable:!0}),e(k,s,{value:null,writable:!0}),e(k,l,{value:_._readableState.endEmitted,writable:!0}),e(k,u,{value:function(R,M){var j=D[c].read();j?(D[f]=null,D[o]=null,D[a]=null,R(h(j,!1))):(D[o]=R,D[a]=M)},writable:!0}),k));return D[f]=null,i(_,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=D[a];R!==null&&(D[f]=null,D[o]=null,D[a]=null,R(I)),D[s]=I;return}var M=D[o];M!==null&&(D[f]=null,D[o]=null,D[a]=null,M(h(void 0,!0))),D[l]=!0}),_.on("readable",p.bind(null,D)),D};return xg=S,xg}var vg,T_;function vz(){return T_||(T_=1,vg=function(){throw new Error("Readable.from is not available in the browser")}),vg}var Ag,I_;function k_(){if(I_)return Ag;I_=1,Ag=M;var t;M.ReadableState=R,ig.EventEmitter;var e=function(v,G){return v.listeners(G).length},n=h_(),r=be.Buffer,i=(typeof nn<"u"?nn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(E){return r.from(E)}function a(E){return r.isBuffer(E)||E instanceof i}var s=d_,l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var f=rz(),u=m_(),c=w_(),h=c.getHighWaterMark,d=Sa().codes,p=d.ERR_INVALID_ARG_TYPE,b=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,C,_;_a(M,n);var k=u.errorOrDestroy,D=["error","close","destroy","pause","resume"];function I(E,v,G){if(typeof E.prependListener=="function")return E.prependListener(v,G);!E._events||!E._events[v]?E.on(v,G):Array.isArray(E._events[v])?E._events[v].unshift(G):E._events[v]=[G,E._events[v]]}function R(E,v,G){t=t||Ca(),E=E||{},typeof G!="boolean"&&(G=v instanceof t),this.objectMode=!!E.objectMode,G&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=h(this,E,"readableHighWaterMark",G),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(S||(S=pg.StringDecoder),this.decoder=new S(E.encoding),this.encoding=E.encoding)}function M(E){if(t=t||Ca(),!(this instanceof M))return new M(E);var v=this instanceof t;this._readableState=new R(E,this,v),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),n.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),M.prototype.destroy=u.destroy,M.prototype._undestroy=u.undestroy,M.prototype._destroy=function(E,v){v(E)},M.prototype.push=function(E,v){var G=this._readableState,W;return G.objectMode?W=!0:typeof E=="string"&&(v=v||G.defaultEncoding,v!==G.encoding&&(E=r.from(E,v),v=""),W=!0),j(this,E,v,!1,W)},M.prototype.unshift=function(E){return j(this,E,null,!0,!1)};function j(E,v,G,W,se){l("readableAddChunk",v);var J=E._readableState;if(v===null)J.reading=!1,Qe(E,J);else{var fe;if(se||(fe=ne(J,v)),fe)k(E,fe);else if(J.objectMode||v&&v.length>0)if(typeof v!="string"&&!J.objectMode&&Object.getPrototypeOf(v)!==r.prototype&&(v=o(v)),W)J.endEmitted?k(E,new w):L(E,J,v,!0);else if(J.ended)k(E,new b);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!G?(v=J.decoder.write(v),J.objectMode||v.length!==0?L(E,J,v,!1):qe(E,J)):L(E,J,v,!1)}else W||(J.reading=!1,qe(E,J))}return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function L(E,v,G,W){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,E.emit("data",G)):(v.length+=v.objectMode?1:G.length,W?v.buffer.unshift(G):v.buffer.push(G),v.needReadable&&Be(E)),qe(E,v)}function ne(E,v){var G;return!a(v)&&typeof v!="string"&&v!==void 0&&!E.objectMode&&(G=new p("chunk",["string","Buffer","Uint8Array"],v)),G}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(E){S||(S=pg.StringDecoder);var v=new S(E);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,W="";G!==null;)W+=v.write(G.data),G=G.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var ae=1073741824;function de(E){return E>=ae?E=ae:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function ke(E,v){return E<=0||v.length===0&&v.ended?0:v.objectMode?1:E!==E?v.flowing&&v.length?v.buffer.head.data.length:v.length:(E>v.highWaterMark&&(v.highWaterMark=de(E)),E<=v.length?E:v.ended?v.length:(v.needReadable=!0,0))}M.prototype.read=function(E){l("read",E),E=parseInt(E,10);var v=this._readableState,G=E;if(E!==0&&(v.emittedReadable=!1),E===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return l("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?q(this):Be(this),null;if(E=ke(E,v),E===0&&v.ended)return v.length===0&&q(this),null;var W=v.needReadable;l("need readable",W),(v.length===0||v.length-E<v.highWaterMark)&&(W=!0,l("length less than watermark",W)),v.ended||v.reading?(W=!1,l("reading or ended",W)):W&&(l("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(E=ke(G,v)));var se;return E>0?se=P(E,v):se=null,se===null?(v.needReadable=v.length<=v.highWaterMark,E=0):(v.length-=E,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),G!==E&&v.ended&&q(this)),se!==null&&this.emit("data",se),se};function Qe(E,v){if(l("onEofChunk"),!v.ended){if(v.decoder){var G=v.decoder.end();G&&G.length&&(v.buffer.push(G),v.length+=v.objectMode?1:G.length)}v.ended=!0,v.sync?Be(E):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,Ke(E)))}}function Be(E){var v=E._readableState;l("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(l("emitReadable",v.flowing),v.emittedReadable=!0,process.nextTick(Ke,E))}function Ke(E){var v=E._readableState;l("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(E.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,O(E)}function qe(E,v){v.readingMore||(v.readingMore=!0,process.nextTick(Je,E,v))}function Je(E,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var G=v.length;if(l("maybeReadMore read 0"),E.read(0),G===v.length)break}v.readingMore=!1}M.prototype._read=function(E){k(this,new y("_read()"))},M.prototype.pipe=function(E,v){var G=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=E;break;case 1:W.pipes=[W.pipes,E];break;default:W.pipes.push(E);break}W.pipesCount+=1,l("pipe count=%d opts=%j",W.pipesCount,v);var se=(!v||v.end!==!1)&&E!==process.stdout&&E!==process.stderr,J=se?Vt:Jn;W.endEmitted?process.nextTick(J):G.once("end",J),E.on("unpipe",fe);function fe(x,g){l("onunpipe"),x===G&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,ci())}function Vt(){l("onend"),E.end()}var li=Ee(G);E.on("drain",li);var ui=!1;function ci(){l("cleanup"),E.removeListener("close",hi),E.removeListener("finish",jt),E.removeListener("drain",li),E.removeListener("error",xr),E.removeListener("unpipe",fe),G.removeListener("end",Vt),G.removeListener("end",Jn),G.removeListener("data",_t),ui=!0,W.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&li()}G.on("data",_t);function _t(x){l("ondata");var g=E.write(x);l("dest.write",g),g===!1&&((W.pipesCount===1&&W.pipes===E||W.pipesCount>1&&Z(W.pipes,E)!==-1)&&!ui&&(l("false write response, pause",W.awaitDrain),W.awaitDrain++),G.pause())}function xr(x){l("onerror",x),Jn(),E.removeListener("error",xr),e(E,"error")===0&&k(E,x)}I(E,"error",xr);function hi(){E.removeListener("finish",jt),Jn()}E.once("close",hi);function jt(){l("onfinish"),E.removeListener("close",hi),Jn()}E.once("finish",jt);function Jn(){l("unpipe"),G.unpipe(E)}return E.emit("pipe",G),W.flowing||(l("pipe resume"),G.resume()),E};function Ee(E){return function(){var G=E._readableState;l("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,G.awaitDrain===0&&e(E,"data")&&(G.flowing=!0,O(E))}}M.prototype.unpipe=function(E){var v=this._readableState,G={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return E&&E!==v.pipes?this:(E||(E=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,E&&E.emit("unpipe",this,G),this);if(!E){var W=v.pipes,se=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var J=0;J<se;J++)W[J].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=Z(v.pipes,E);return fe===-1?this:(v.pipes.splice(fe,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),E.emit("unpipe",this,G),this)},M.prototype.on=function(E,v){var G=n.prototype.on.call(this,E,v),W=this._readableState;return E==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):E==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,l("on readable",W.length,W.reading),W.length?Be(this):W.reading||process.nextTick(dt,this)),G},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(E,v){var G=n.prototype.removeListener.call(this,E,v);return E==="readable"&&process.nextTick(_e,this),G},M.prototype.removeAllListeners=function(E){var v=n.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&process.nextTick(_e,this),v};function _e(E){var v=E._readableState;v.readableListening=E.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:E.listenerCount("data")>0&&E.resume()}function dt(E){l("readable nexttick read 0"),E.read(0)}M.prototype.resume=function(){var E=this._readableState;return E.flowing||(l("resume"),E.flowing=!E.readableListening,Ht(this,E)),E.paused=!1,this};function Ht(E,v){v.resumeScheduled||(v.resumeScheduled=!0,process.nextTick(Ne,E,v))}function Ne(E,v){l("resume",v.reading),v.reading||E.read(0),v.resumeScheduled=!1,E.emit("resume"),O(E),v.flowing&&!v.reading&&E.read(0)}M.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(E){var v=E._readableState;for(l("flow",v.flowing);v.flowing&&E.read()!==null;);}M.prototype.wrap=function(E){var v=this,G=this._readableState,W=!1;E.on("end",function(){if(l("wrapped end"),G.decoder&&!G.ended){var fe=G.decoder.end();fe&&fe.length&&v.push(fe)}v.push(null)}),E.on("data",function(fe){if(l("wrapped data"),G.decoder&&(fe=G.decoder.write(fe)),!(G.objectMode&&fe==null)&&!(!G.objectMode&&(!fe||!fe.length))){var Vt=v.push(fe);Vt||(W=!0,E.pause())}});for(var se in E)this[se]===void 0&&typeof E[se]=="function"&&(this[se]=function(Vt){return function(){return E[Vt].apply(E,arguments)}}(se));for(var J=0;J<D.length;J++)E.on(D[J],this.emit.bind(this,D[J]));return this._read=function(fe){l("wrapped _read",fe),W&&(W=!1,E.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=xz()),C(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),M._fromList=P,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(E,v){if(v.length===0)return null;var G;return v.objectMode?G=v.buffer.shift():!E||E>=v.length?(v.decoder?G=v.buffer.join(""):v.buffer.length===1?G=v.buffer.first():G=v.buffer.concat(v.length),v.buffer.clear()):G=v.buffer.consume(E,v.decoder),G}function q(E){var v=E._readableState;l("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,process.nextTick(H,v,E))}function H(E,v){if(l("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,v.readable=!1,v.emit("end"),E.autoDestroy)){var G=v._writableState;(!G||G.autoDestroy&&G.finished)&&v.destroy()}}typeof Symbol=="function"&&(M.from=function(E,v){return _===void 0&&(_=vz()),_(M,E,v)});function Z(E,v){for(var G=0,W=E.length;G<W;G++)if(E[G]===v)return G;return-1}return Ag}var Eg,D_;function B_(){if(D_)return Eg;D_=1,Eg=s;var t=Sa().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,o=Ca();_a(s,o);function a(u,c){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function s(u){if(!(this instanceof s))return new s(u);o.call(this,u),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){f(u,c,h)}):f(this,null,null)}s.prototype.push=function(u,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,u,c)},s.prototype._transform=function(u,c,h){h(new e("_transform()"))},s.prototype._write=function(u,c,h){var d=this._transformState;if(d.writecb=h,d.writechunk=u,d.writeencoding=c,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},s.prototype._read=function(u){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(u,c){o.prototype._destroy.call(this,u,function(h){c(h)})};function f(u,c,h){if(c)return u.emit("error",c);if(h!=null&&u.push(h),u._writableState.length)throw new i;if(u._transformState.transforming)throw new r;return u.push(null)}return Eg}var _g,F_;function Az(){if(F_)return _g;F_=1,_g=e;var t=B_();_a(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},_g}var Sg,R_;function Ez(){if(R_)return Sg;R_=1;var t;function e(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=Sa().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,d,p,b){b=e(b);var y=!1;h.on("close",function(){y=!0}),t===void 0&&(t=wg()),t(h,{readable:d,writable:p},function(S){if(S)return b(S);y=!0,b()});var w=!1;return function(S){if(!y&&!w){if(w=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();b(S||new i("pipe"))}}}function l(h){h()}function f(h,d){return h.pipe(d)}function u(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var b=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var y,w=d.map(function(S,C){var _=C<d.length-1,k=C>0;return s(S,_,k,function(D){y||(y=D),D&&w.forEach(l),!_&&(w.forEach(l),b(y))})});return d.reduce(f)}return Sg=c,Sg}var P_=gn,Cg=ig.EventEmitter,_z=_a;_z(gn,Cg),gn.Readable=k_(),gn.Writable=A_(),gn.Duplex=Ca(),gn.Transform=B_(),gn.PassThrough=Az(),gn.finished=wg(),gn.pipeline=Ez(),gn.Stream=gn;function gn(){Cg.call(this)}gn.prototype.pipe=function(t,e){var n=this;function r(u){t.writable&&t.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",a),n.on("close",s));var o=!1;function a(){o||(o=!0,t.end())}function s(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){if(f(),Cg.listenerCount(this,"error")===0)throw u}n.on("error",l),t.on("error",l);function f(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t};function Of(t){return t.replace(/%([0-9A-Fa-f]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}function M_(t,e){return String(e).replace(t,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function Nf(t){return M_(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,t)}function gr(t){return M_(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,t)}function O_(t){if(!(t&&t.length)||t===".")return{};const e={};return t.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=e[r[0].trim()];i||(i=[],e[r[0]]=i),i.push(...r[1].split(",").map(o=>o.trim()).map(Of))}),e}function N_(t){const e=t.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:e[0]&&Of(e[0]),source:e[1]&&Of(e[1]),type:e[2]&&Of(e[2]),start:e[3]===null?null:parseInt(e[3],10),end:e[4]===null?null:parseInt(e[4],10),score:e[5]===null?null:parseFloat(e[5]),strand:e[6],phase:e[7],attributes:e[8]===null?null:O_(e[8])}}function L_(t){const e=/^\s*##\s*(\S+)\s*(.*)/.exec(t);if(!e)return null;const[,n]=e;let[,,r]=e;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const o=r.split(/\s+/,3);return{...i,seq_id:o[0],start:o[1]&&o[1].replace(/\D/g,""),end:o[2]&&o[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[o,a]=r.split(/\s+/,2);return{...i,source:o,buildName:a}}return i}function z_(t){const e=[];return Object.entries(t).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=Nf(r.toString()):Array.isArray(r)?i=r.map(Nf).join(","):i=Nf(r),e.push(`${Nf(n)}=${i}`)}),e.length?e.join(";"):"."}function Sz(t,e){const n=t.attributes===null||t.attributes===void 0?".":z_(t.attributes),i=`${[t.seq_id===null?".":gr(t.seq_id),t.source===null?".":gr(t.source),t.type===null?".":gr(t.type),t.start===null?".":gr(t.start),t.end===null?".":gr(t.end),t.score===null?".":gr(t.score),t.strand===null?".":gr(t.strand),t.phase===null?".":gr(t.phase),n].join("	")}
`;return e[i]?"":(e[i]=!0,i)}function Cc(t,e){if(Array.isArray(t))return t.map(r=>Cc(r,e)).join("");const n=[Sz(t,e)];return Cz(t)&&n.push(...t.child_features.map(r=>Cc(r,e)),...t.derived_features.map(r=>Cc(r,e))),n.join("")}function U_(t){return Cc(t,{})}function G_(t){let e=`##${t.directive}`;return t.value&&(e+=` ${t.value}`),e+=`
`,e}function H_(t){return`# ${t.comment}
`}function Tg(t){return`>${t.id}${t.description?` ${t.description}`:""}
${t.sequence}
`}function Tc(t){function e(n){return"attributes"in n?U_(n):"directive"in n?G_(n):"sequence"in n?Tg(n):"comment"in n?H_(n):`# (invalid item found during format)
`}return Array.isArray(t)?t.map(e):e(t)}function Cz(t){return t.child_features!==void 0&&t.derived_features!==void 0}const Tz=Object.freeze(Object.defineProperty({__proto__:null,escape:Nf,escapeColumn:gr,formatAttributes:z_,formatComment:H_,formatDirective:G_,formatFeature:U_,formatItem:Tc,formatSequence:Tg,parseAttributes:O_,parseDirective:L_,parseFeature:N_,unescape:Of},Symbol.toStringTag,{value:"Module"})),V_={Parent:"child_features",Derives_from:"derived_features"};class j_{constructor(e){this.seqCallback=e,this.currentSequence=void 0}addLine(e){const n=/^>\s*(\S+)\s*(.*)/.exec(e);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(e)&&(this.currentSequence.sequence+=e.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class q_{constructor(e){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=e.featureCallback||n,this.endCallback=e.endCallback||n,this.commentCallback=e.commentCallback||n,this.errorCallback=e.errorCallback||n,this.directiveCallback=e.directiveCallback||n,this.sequenceCallback=e.sequenceCallback||n,this.disableDerivesFromReferences=e.disableDerivesFromReferences||!1,this.bufferSize=e.bufferSize===void 0?1e3:e.bufferSize}addLine(e){if(this.fastaParser){this.fastaParser.addLine(e);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(e)){this._bufferLine(e);return}const n=/^\s*(#+)(.*)/.exec(e);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const o=L_(e);o&&(o.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new j_(this.sequenceCallback)):this._emitItem(o))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(e))if(/^\s*>/.test(e))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new j_(this.sequenceCallback),this.fastaParser.addLine(e);else{const r=e.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(e){Array.isArray(e)?this.featureCallback(e):"directive"in e?this.directiveCallback(e):"comment"in e&&this.commentCallback(e)}_enforceBufferSizeLimit(e=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(o=>{delete this._underConstructionById[o],delete this._completedReferences[o]}),r.forEach(o=>{o.child_features&&o.child_features.forEach(a=>n(a)),o.derived_features&&o.derived_features.forEach(a=>n(a))}))};for(;this._underConstructionTopLevel.length+e>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(e){var n,r,i;const a={...N_(e),child_features:[],derived_features:[]},s=((n=a.attributes)===null||n===void 0?void 0:n.ID)||[],l=((r=a.attributes)===null||r===void 0?void 0:r.Parent)||[],f=this.disableDerivesFromReferences?[]:((i=a.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!s.length&&!l.length&&!f.length){this._emitItem([a]);return}let u;s.forEach(c=>{const h=this._underConstructionById[c];h?(h[h.length-1].type!==a.type&&this._parseError(`multi-line feature "${c}" has inconsistent types: "${a.type}", "${h[h.length-1].type}"`),h.push(a),u=h):(u=[a],this._enforceBufferSizeLimit(1),!l.length&&!f.length&&this._underConstructionTopLevel.push(u),this._underConstructionById[c]=u,this._resolveReferencesTo(u,c))}),this._resolveReferencesFrom(u||[a],{Parent:l,Derives_from:f},s)}_resolveReferencesTo(e,n){const r=this._underConstructionOrphans[n];r&&(e.forEach(i=>{i.child_features.push(...r.Parent)}),e.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(e){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${e}`)}_resolveReferencesFrom(e,n,r){function i(o,a,s){let l=o[a];l||(l={},o[a]=l);const f=l[s]||!1;return l[s]=!0,f}n.Parent.forEach(o=>{const a=this._underConstructionById[o];if(a){const s=V_.Parent;r.filter(l=>i(this._completedReferences,l,`Parent,${o}`)).length||a.forEach(l=>{l[s].push(e)})}else{let s=this._underConstructionOrphans[o];s||(s={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=s),s.Parent.push(e)}}),n.Derives_from.forEach(o=>{const a=this._underConstructionById[o];if(a){const s=V_.Derives_from;r.filter(l=>i(this._completedReferences,l,`Derives_from,${o}`)).length||a.forEach(l=>{l[s].push(e)})}else{let s=this._underConstructionOrphans[o];s||(s={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=s),s.Derives_from.push(e)}})}}function Ig(t){process&&process.nextTick?process.nextTick(t):t()}function W_(t){const e={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...t};return t.parseAll&&(e.parseFeatures=!0,e.parseDirectives=!0,e.parseComments=!0,e.parseSequences=!0),e}class Iz extends P_.Transform{constructor(e={}){super({objectMode:!0}),this.textBuffer="";const n=W_(e);this.encoding=e.encoding||"utf8",this.decoder=new fz;const r=this.push.bind(this);this.parser=new q_({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(e){e&&this.parser.addLine(e)}_nextText(e){const n=(this.textBuffer+e).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(e,n,r){this._nextText(this.decoder.write(e)),Ig(r)}_flush(e){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),Ig(e)}}function kz(t={}){return new Iz(t)}function Dz(t,e={}){if(!t)return[];const n=W_(e),r=[],i=r.push.bind(r),o=new q_({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:a=>{throw a}});return t.split(/\r?\n/).forEach(o.addLine.bind(o)),o.finish(),r}function Bz(t){const e=[],n=[];t.forEach(i=>{"sequence"in i?n.push(i):e.push(i)});let r=e.map(Tc).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(Tg).join("")),r}class Z_ extends P_.Transform{constructor(e={}){super(Object.assign(e,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=e.minSyncLines||100,this.insertVersionDirective=e.insertVersionDirective||!1}_transform(e,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const o=Array.isArray(e)?e[0]:e;"directive"in o&&o.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in e&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(e)?i=e.map(Tc).join(""):i=Tc(e),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let o=0;for(let a=0;a<i.length;a+=1)i[a]===`
`&&(o+=1);this.linesSinceLastSyncMark+=o}this.haveWeEmittedData=!0,Ig(r)}}function Fz(t={}){return new Z_(t)}function Rz(t,e,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,o)=>{t.pipe(new Z_(r)).on("end",()=>i(null)).on("error",o).pipe(e)})}const Pz=Object.freeze(Object.defineProperty({__proto__:null,default:{parseStream:kz,parseStringSync:Dz,formatSync:Bz,formatStream:Fz,formatFile:Rz,util:Tz}},Symbol.toStringTag,{value:"Module"}));we.GenomeSpyDocEmbed=Mx,Object.defineProperty(we,Symbol.toStringTag,{value:"Module"})});
