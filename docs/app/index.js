(function(ae,te){typeof exports=="object"&&typeof module<"u"?te(exports):typeof define=="function"&&define.amd?define(["exports"],te):(ae=typeof globalThis<"u"?globalThis:ae||self,te(ae.genomeSpyDocEmbed={}))})(this,(function(ae){"use strict";var H7=Object.defineProperty;var _7=Object.getPrototypeOf;var V7=Reflect.get;var w2=ae=>{throw TypeError(ae)};var Y7=(ae,te,Fe)=>te in ae?H7(ae,te,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):ae[te]=Fe;var X=(ae,te,Fe)=>Y7(ae,typeof te!="symbol"?te+"":te,Fe),gp=(ae,te,Fe)=>te.has(ae)||w2("Cannot "+Fe);var g=(ae,te,Fe)=>(gp(ae,te,"read from private field"),Fe?Fe.call(ae):te.get(ae)),v=(ae,te,Fe)=>te.has(ae)?w2("Cannot add the same private member more than once"):te instanceof WeakSet?te.add(ae):te.set(ae,Fe),Q=(ae,te,Fe,Ps)=>(gp(ae,te,"write to private field"),Ps?Ps.call(ae,Fe):te.set(ae,Fe),Fe),F=(ae,te,Fe)=>(gp(ae,te,"access private method"),Fe);var ur=(ae,te,Fe,Ps)=>({set _(Ah){Q(ae,te,Ah,Fe)},get _(){return g(ae,te,Ps)}}),C2=(ae,te,Fe)=>V7(_7(ae),Fe,te);var KB,Xn,Go,Gi,Xr,zo,yl,Ct,zi,Ho,Zr,$r,es,Hi,ts,_i,Vi,xl,ns,_o,is,vu,bl,Il,El,Dn,Bl,Vo,y2,x2,cn,Yi,pp,mp,Yo,qA,b2,kn,Ji,vl,Sl,Ql,Jo,qo,qt,I2,wp,Cp,E2,Dl,kl,Ko,Fl,Rl,rs,Nl,jo,Ml,KA,B2,Kt,Tl,Pl,Wo,Xo,Ll,Zn,Ol,yp,ln,Zo,qi,Te,Nt,jt,ss,Ul,K,xp,bp,Ip,Ep,Pa,La,v2,S2,Bp,Q2,D2,oh,k2,vp,Sp,Qp,Fn,jA,F2,Gl,Dp,$o,zl,$n,os,Ki,ji,Wi,as,cs,Xi,ls,Ye,R2,N2,kp,Su,Fp,M2,WA,us,Hl,Rn,fs,ei,yt,Pe,Mt,Wt,un,Zi,ea,_l,Vl,Rp,ta,As,na,ia,Yl,Jl,ra,sa,oa,Tt,Qu,Np,Mp,ql,Kl,aa,XA,T2,hs,ti,ca,la,P2,L2,ni,jl,$i,ua,ds,fa,er,st,Tp,Pp,ah,Lp,O2,gs,ii,Wl,Op,ZA,U2,Aa,ha,da,Xl,ga,pa,Zl,Up,$l,Gp,ps,ma,eu,zp,tu,nu,wa,iu,ru,ri,ms,su,$A,G2,Xt,ou,Hp,ws,tr,nr,ir,au,Pt,Ca,ya,we,z2,_p,ch,Du,H2,_2,lh,Vp,eh,V2,Cs,rr,si,ys,sr,xs,or,Y2,J2,q2,xa,ba,At,oi,cu,bs,ie,Ts,K2,Yp,ku,Jp,qp,Fu,Kp,uh,j2,Is,W2,jp,Ia,Ea,Ba,Es,xt,lu,uu,fu,va,Au,Je,Bs,Sa,ai,th,X2,hu,An,du,Qa,gu,pu,mu,Da,wu,nh,Z2,Cu,vs,yu,ka,xu,Ss,Qs,Ds,Fa,ks,Ra,ci,Na,Fs,bt,bu,Rs,Ma,De,fh,$2,ev,tv,nv,iv,rv,sv,ov,av;function te(n,t,e){return n.fields=t||[],n.fname=e,n}function Fe(n){return n==null?null:n.fname}function Ps(n){return n==null?null:n.fields}function Ah(n){return n.length===1?cv(n[0]):lv(n)}const cv=n=>function(t){return t[n]},lv=n=>{const t=n.length;return function(e){for(let i=0;i<t;++i)e=e[n[i]];return e}};function Le(n){throw Error(n)}function uv(n){const t=[],e=n.length;let i=null,r=0,s="",o,a,l;n=n+"";function c(){t.push(s+n.substring(o,a)),s="",o=a+1}for(o=a=0;a<e;++a)if(l=n[a],l==="\\")s+=n.substring(o,a++),o=a;else if(l===i)c(),i=null,r=-1;else{if(i)continue;o===r&&l==='"'||o===r&&l==="'"?(o=a+1,i=l):l==="."&&!r?a>o?c():o=a+1:l==="["?(a>o&&c(),r=o=a+1):l==="]"&&(r||Le("Access path missing open bracket: "+n),r>0&&c(),r=0,o=a+1)}return r&&Le("Access path missing closing bracket: "+n),i&&Le("Access path missing closing quote: "+n),a>o&&(a++,c()),t}function Ru(n,t,e){const i=uv(n);return n=i.length===1?i[0]:n,te((e&&e.get||Ah)(i),[n],t||n)}Ru("id");const Nu=te(n=>n,[],"identity");te(()=>0,[],"zero"),te(()=>1,[],"one"),te(()=>!0,[],"true"),te(()=>!1,[],"false");const fv=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(n=>typeof Object.prototype[n]=="function"),"__proto__"]);var Ne=Array.isArray;function tt(n){return n===Object(n)}function $t(n){return n[n.length-1]}function Oa(n){return n==null||n===""?null:+n}const Xp=n=>t=>n*Math.exp(t),Zp=n=>t=>Math.log(n*t),Av=n=>t=>Math.sign(t)*Math.log1p(Math.abs(t/n)),hv=n=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*n,Mu=n=>t=>t<0?-Math.pow(-t,n):Math.pow(t,n);function hh(n,t,e,i){const r=e(n[0]),s=e($t(n)),o=(s-r)*t;return[i(r-o),i(s-o)]}function dv(n,t){return hh(n,t,Oa,Nu)}function gv(n,t){var e=Math.sign(n[0]);return hh(n,t,Zp(e),Xp(e))}function pv(n,t,e){return hh(n,t,Mu(e),Mu(1/e))}function Tu(n,t,e,i,r){const s=i(n[0]),o=i($t(n)),a=t!=null?i(t):(s+o)/2;return[r(a+(s-a)*e),r(a+(o-a)*e)]}function $p(n,t,e){return Tu(n,t,e,Oa,Nu)}function em(n,t,e){const i=Math.sign(n[0]);return Tu(n,t,e,Zp(i),Xp(i))}function dh(n,t,e,i){return Tu(n,t,e,Mu(i),Mu(1/i))}function mv(n,t,e,i){return Tu(n,t,e,Av(i),hv(i))}function gh(n){return n!=null?Ne(n)?n:[n]:[]}function wv(n,t,e){let i=n[0],r=n[1],s;return r<i&&(s=r,r=i,i=s),s=r-i,s>=e-t?[t,e]:[i=Math.min(Math.max(i,t),e-s),i+s]}function Ot(n){return typeof n=="function"}const Cv="descending";function tm(n,t,e){e=e||{},t=gh(t)||[];const i=[],r=[],s={},o=e.comparator||yv;return gh(n).forEach((a,l)=>{a!=null&&(i.push(t[l]===Cv?-1:1),r.push(a=Ot(a)?a:Ru(a,null,e)),(Ps(a)||[]).forEach(c=>s[c]=1))}),r.length===0?null:te(o(r,i),Object.keys(s))}const nm=(n,t)=>(n<t||n==null)&&t!=null?-1:(n>t||t==null)&&n!=null?1:(t=t instanceof Date?+t:t,(n=n instanceof Date?+n:n)!==n&&t===t?-1:t!==t&&n===n?1:0),yv=(n,t)=>n.length===1?xv(n[0],t[0]):bv(n,t,n.length),xv=(n,t)=>function(e,i){return nm(n(e),n(i))*t},bv=(n,t,e)=>(t.push(0),function(i,r){let s,o=0,a=-1;for(;o===0&&++a<e;)s=n[a],o=nm(s(i),s(r));return o*t[a]});function Iv(n){for(let t,e,i=1,r=arguments.length;i<r;++i){t=arguments[i];for(e in t)n[e]=t[e]}return n}function Ls(n,t){return Object.hasOwn(n,t)}function Ua(n){return typeof n=="boolean"}function Ev(n){return Object.prototype.toString.call(n)==="[object Date]"}function Bv(n){return n&&Ot(n[Symbol.iterator])}function ot(n){return typeof n=="number"}function vv(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function Ce(n){return typeof n=="string"}function im(n,t){const e=n[0],i=$t(n),r=+t;return r?r===1?i:e+r*(i-e):e}function Ga(n){return n&&$t(n)-n[0]||0}function ph(n){return Ne(n)?`[${n.map(t=>t===null?"null":ph(t))}]`:tt(n)||Ce(n)?JSON.stringify(n).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):n}function Sv(n){return n==null||n===""?null:!n||n==="false"||n==="0"?!1:!!n}const Qv=n=>ot(n)||Ev(n)?n:Date.parse(n);function Dv(n,t){return t=t||Qv,n==null||n===""?null:t(n)}function kv(n){return n==null||n===""?null:n+""}function Pu(n){const t={},e=n.length;for(let i=0;i<e;++i)t[n[i]]=!0;return t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lu=globalThis,mh=Lu.ShadowRoot&&(Lu.ShadyCSS===void 0||Lu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wh=Symbol(),rm=new WeakMap;let sm=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==wh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(mh&&t===void 0){const i=e!==void 0&&e.length===1;i&&(t=rm.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&rm.set(e,t))}return t}toString(){return this.cssText}};const Fv=n=>new sm(typeof n=="string"?n:n+"",void 0,wh),Rv=(n,...t)=>{const e=n.length===1?n[0]:t.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+n[s+1],n[0]);return new sm(e,n,wh)},Nv=(n,t)=>{if(mh)n.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const e of t){const i=document.createElement("style"),r=Lu.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=e.cssText,n.appendChild(i)}},om=mh?n=>n:n=>n instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return Fv(e)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Mv,defineProperty:Tv,getOwnPropertyDescriptor:Pv,getOwnPropertyNames:Lv,getOwnPropertySymbols:Ov,getPrototypeOf:Uv}=Object,di=globalThis,am=di.trustedTypes,Gv=am?am.emptyScript:"",Ch=di.reactiveElementPolyfillSupport,za=(n,t)=>n,yh={toAttribute(n,t){switch(t){case Boolean:n=n?Gv:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,t){let e=n;switch(t){case Boolean:e=n!==null;break;case Number:e=n===null?null:Number(n);break;case Object:case Array:try{e=JSON.parse(n)}catch{e=null}}return e}},cm=(n,t)=>!Mv(n,t),lm={attribute:!0,type:String,converter:yh,reflect:!1,useDefault:!1,hasChanged:cm};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),di.litPropertyMetadata??(di.litPropertyMetadata=new WeakMap);let Os=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=lm){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,e);r!==void 0&&Tv(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){const{get:r,set:s}=Pv(this.prototype,t)??{get(){return this[e]},set(o){this[e]=o}};return{get:r,set(o){const a=r==null?void 0:r.call(this);s==null||s.call(this,o),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??lm}static _$Ei(){if(this.hasOwnProperty(za("elementProperties")))return;const t=Uv(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(za("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(za("properties"))){const e=this.properties,i=[...Lv(e),...Ov(e)];for(const r of i)this.createProperty(r,e[r])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[i,r]of e)this.elementProperties.set(i,r)}this._$Eh=new Map;for(const[e,i]of this.elementProperties){const r=this._$Eu(e,i);r!==void 0&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const r of i)e.unshift(om(r))}else t!==void 0&&e.push(om(t));return e}static _$Eu(t,e){const i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(e=>e(this))}addController(t){var e;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((e=t.hostConnected)==null||e.call(t))}removeController(t){var e;(e=this._$EO)==null||e.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Nv(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostConnected)==null?void 0:i.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(e=>{var i;return(i=e.hostDisconnected)==null?void 0:i.call(e)})}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){var s;const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(r!==void 0&&i.reflect===!0){const o=(((s=i.converter)==null?void 0:s.toAttribute)!==void 0?i.converter:yh).toAttribute(e,i.type);this._$Em=t,o==null?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(t,e){var s,o;const i=this.constructor,r=i._$Eh.get(t);if(r!==void 0&&this._$Em!==r){const a=i.getPropertyOptions(r),l=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:yh;this._$Em=r;const c=l.fromAttribute(e,a.type);this[r]=c??((o=this._$Ej)==null?void 0:o.get(r))??c,this._$Em=null}}requestUpdate(t,e,i,r=!1,s){var o;if(t!==void 0){const a=this.constructor;if(r===!1&&(s=this[t]),i??(i=a.getPropertyOptions(t)),!((i.hasChanged??cm)(s,e)||i.useDefault&&i.reflect&&s===((o=this._$Ej)==null?void 0:o.get(t))&&!this.hasAttribute(a._$Eu(t,i))))return;this.C(t,e,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:r,wrapped:s},o){i&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??e??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),r===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,o]of r){const{wrapped:a}=o,l=this[s];a!==!0||this._$AL.has(s)||l===void 0||this.C(s,void 0,o,l)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdate)==null?void 0:s.call(r)}),this.update(e)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(e)}willUpdate(t){}_$AE(t){var e;(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostUpdated)==null?void 0:r.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(e=>this._$ET(e,this[e]))),this._$EM()}updated(t){}firstUpdated(t){}};Os.elementStyles=[],Os.shadowRootOptions={mode:"open"},Os[za("elementProperties")]=new Map,Os[za("finalized")]=new Map,Ch==null||Ch({ReactiveElement:Os}),(di.reactiveElementVersions??(di.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ha=globalThis,um=n=>n,Ou=Ha.trustedTypes,fm=Ou?Ou.createPolicy("lit-html",{createHTML:n=>n}):void 0,Am="$lit$",gi=`lit$${Math.random().toFixed(9).slice(2)}$`,hm="?"+gi,zv=`<${hm}>`,fr=document,_a=()=>fr.createComment(""),Va=n=>n===null||typeof n!="object"&&typeof n!="function",xh=Array.isArray,Hv=n=>xh(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",bh=`[ 	
\f\r]`,Ya=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,dm=/-->/g,gm=/>/g,Ar=RegExp(`>|${bh}(?:([^\\s"'>=/]+)(${bh}*=${bh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),pm=/'/g,mm=/"/g,wm=/^(?:script|style|textarea|title)$/i,_v=n=>(t,...e)=>({_$litType$:n,strings:t,values:e}),pe=_v(1),hr=Symbol.for("lit-noChange"),Ee=Symbol.for("lit-nothing"),Cm=new WeakMap,dr=fr.createTreeWalker(fr,129);function ym(n,t){if(!xh(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return fm!==void 0?fm.createHTML(t):t}const Vv=(n,t)=>{const e=n.length-1,i=[];let r,s=t===2?"<svg>":t===3?"<math>":"",o=Ya;for(let a=0;a<e;a++){const l=n[a];let c,u,f=-1,h=0;for(;h<l.length&&(o.lastIndex=h,u=o.exec(l),u!==null);)h=o.lastIndex,o===Ya?u[1]==="!--"?o=dm:u[1]!==void 0?o=gm:u[2]!==void 0?(wm.test(u[2])&&(r=RegExp("</"+u[2],"g")),o=Ar):u[3]!==void 0&&(o=Ar):o===Ar?u[0]===">"?(o=r??Ya,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?Ar:u[3]==='"'?mm:pm):o===mm||o===pm?o=Ar:o===dm||o===gm?o=Ya:(o=Ar,r=void 0);const A=o===Ar&&n[a+1].startsWith("/>")?" ":"";s+=o===Ya?l+zv:f>=0?(i.push(c),l.slice(0,f)+Am+l.slice(f)+gi+A):l+gi+(f===-2?a:A)}return[ym(n,s+(n[e]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};class Ja{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let s=0,o=0;const a=t.length-1,l=this.parts,[c,u]=Vv(t,e);if(this.el=Ja.createElement(c,i),dr.currentNode=this.el.content,e===2||e===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(r=dr.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const f of r.getAttributeNames())if(f.endsWith(Am)){const h=u[o++],A=r.getAttribute(f).split(gi),d=/([.?@])?(.*)/.exec(h);l.push({type:1,index:s,name:d[2],strings:A,ctor:d[1]==="."?Jv:d[1]==="?"?qv:d[1]==="@"?Kv:Uu}),r.removeAttribute(f)}else f.startsWith(gi)&&(l.push({type:6,index:s}),r.removeAttribute(f));if(wm.test(r.tagName)){const f=r.textContent.split(gi),h=f.length-1;if(h>0){r.textContent=Ou?Ou.emptyScript:"";for(let A=0;A<h;A++)r.append(f[A],_a()),dr.nextNode(),l.push({type:2,index:++s});r.append(f[h],_a())}}}else if(r.nodeType===8)if(r.data===hm)l.push({type:2,index:s});else{let f=-1;for(;(f=r.data.indexOf(gi,f+1))!==-1;)l.push({type:7,index:s}),f+=gi.length-1}s++}}static createElement(t,e){const i=fr.createElement("template");return i.innerHTML=t,i}}function Us(n,t,e=n,i){var o,a;if(t===hr)return t;let r=i!==void 0?(o=e._$Co)==null?void 0:o[i]:e._$Cl;const s=Va(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==s&&((a=r==null?void 0:r._$AO)==null||a.call(r,!1),s===void 0?r=void 0:(r=new s(n),r._$AT(n,e,i)),i!==void 0?(e._$Co??(e._$Co=[]))[i]=r:e._$Cl=r),r!==void 0&&(t=Us(n,r._$AS(n,t.values),r,i)),t}class Yv{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,r=((t==null?void 0:t.creationScope)??fr).importNode(e,!0);dr.currentNode=r;let s=dr.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new qa(s,s.nextSibling,this,t):l.type===1?c=new l.ctor(s,l.name,l.strings,this,t):l.type===6&&(c=new jv(s,this,t)),this._$AV.push(c),l=i[++a]}o!==(l==null?void 0:l.index)&&(s=dr.nextNode(),o++)}return dr.currentNode=fr,r}p(t){let e=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class qa{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=Ee,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Us(this,t,e),Va(t)?t===Ee||t==null||t===""?(this._$AH!==Ee&&this._$AR(),this._$AH=Ee):t!==this._$AH&&t!==hr&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Hv(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Ee&&Va(this._$AH)?this._$AA.nextSibling.data=t:this.T(fr.createTextNode(t)),this._$AH=t}$(t){var s;const{values:e,_$litType$:i}=t,r=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=Ja.createElement(ym(i.h,i.h[0]),this.options)),i);if(((s=this._$AH)==null?void 0:s._$AD)===r)this._$AH.p(e);else{const o=new Yv(r,this),a=o.u(this.options);o.p(e),this.T(a),this._$AH=o}}_$AC(t){let e=Cm.get(t.strings);return e===void 0&&Cm.set(t.strings,e=new Ja(t)),e}k(t){xh(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const s of t)r===e.length?e.push(i=new qa(this.O(_a()),this.O(_a()),this,this.options)):i=e[r],i._$AI(s),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,e);t!==this._$AB;){const r=um(t).nextSibling;um(t).remove(),t=r}}setConnected(t){var e;this._$AM===void 0&&(this._$Cv=t,(e=this._$AP)==null||e.call(this,t))}}class Uu{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,s){this.type=1,this._$AH=Ee,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ee}_$AI(t,e=this,i,r){const s=this.strings;let o=!1;if(s===void 0)t=Us(this,t,e,0),o=!Va(t)||t!==this._$AH&&t!==hr,o&&(this._$AH=t);else{const a=t;let l,c;for(t=s[0],l=0;l<s.length-1;l++)c=Us(this,a[i+l],e,l),c===hr&&(c=this._$AH[l]),o||(o=!Va(c)||c!==this._$AH[l]),c===Ee?t=Ee:t!==Ee&&(t+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!r&&this.j(t)}j(t){t===Ee?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Jv extends Uu{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Ee?void 0:t}}class qv extends Uu{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Ee)}}let Kv=class extends Uu{constructor(t,e,i,r,s){super(t,e,i,r,s),this.type=5}_$AI(t,e=this){if((t=Us(this,t,e,0)??Ee)===hr)return;const i=this._$AH,r=t===Ee&&i!==Ee||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==Ee&&(i===Ee||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,t):this._$AH.handleEvent(t)}};class jv{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Us(this,t)}}const Ih=Ha.litHtmlPolyfillSupport;Ih==null||Ih(Ja,qa),(Ha.litHtmlVersions??(Ha.litHtmlVersions=[])).push("3.3.2");const Ka=(n,t,e)=>{const i=(e==null?void 0:e.renderBefore)??t;let r=i._$litPart$;if(r===void 0){const s=(e==null?void 0:e.renderBefore)??null;i._$litPart$=r=new qa(t.insertBefore(_a(),s),s,void 0,e??{})}return r._$AI(n),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gr=globalThis;let ja=class extends Os{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ka(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return hr}};ja._$litElement$=!0,ja.finalized=!0,(KB=gr.litElementHydrateSupport)==null||KB.call(gr,{LitElement:ja});const Eh=gr.litElementPolyfillSupport;Eh==null||Eh({LitElement:ja}),(gr.litElementVersions??(gr.litElementVersions=[])).push("4.2.2");var xm={},Bh={},vh=34,Wa=10,Sh=13;function bm(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Wv(n,t){var e=bm(n);return function(i,r){return t(e(i),r,n)}}function Im(n){var t=Object.create(null),e=[];return n.forEach(function(i){for(var r in i)r in t||e.push(t[r]=r)}),e}function Bt(n,t){var e=n+"",i=e.length;return i<t?new Array(t-i+1).join(0)+e:e}function Xv(n){return n<0?"-"+Bt(-n,6):n>9999?"+"+Bt(n,6):Bt(n,4)}function Zv(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),i=n.getUTCSeconds(),r=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Xv(n.getUTCFullYear())+"-"+Bt(n.getUTCMonth()+1,2)+"-"+Bt(n.getUTCDate(),2)+(r?"T"+Bt(t,2)+":"+Bt(e,2)+":"+Bt(i,2)+"."+Bt(r,3)+"Z":i?"T"+Bt(t,2)+":"+Bt(e,2)+":"+Bt(i,2)+"Z":e||t?"T"+Bt(t,2)+":"+Bt(e,2)+"Z":"")}function Em(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function i(f,h){var A,d,p=r(f,function(w,m){if(A)return A(w,m-1);d=w,A=h?Wv(w,h):bm(w)});return p.columns=d||[],p}function r(f,h){var A=[],d=f.length,p=0,w=0,m,y=d<=0,x=!1;f.charCodeAt(d-1)===Wa&&--d,f.charCodeAt(d-1)===Sh&&--d;function C(){if(y)return Bh;if(x)return x=!1,xm;var B,b=p,D;if(f.charCodeAt(b)===vh){for(;p++<d&&f.charCodeAt(p)!==vh||f.charCodeAt(++p)===vh;);return(B=p)>=d?y=!0:(D=f.charCodeAt(p++))===Wa?x=!0:D===Sh&&(x=!0,f.charCodeAt(p)===Wa&&++p),f.slice(b+1,B-1).replace(/""/g,'"')}for(;p<d;){if((D=f.charCodeAt(B=p++))===Wa)x=!0;else if(D===Sh)x=!0,f.charCodeAt(p)===Wa&&++p;else if(D!==e)continue;return f.slice(b,B)}return y=!0,f.slice(b,d)}for(;(m=C())!==Bh;){for(var E=[];m!==xm&&m!==Bh;)E.push(m),m=C();h&&(E=h(E,w++))==null||A.push(E)}return A}function s(f,h){return f.map(function(A){return h.map(function(d){return u(A[d])}).join(n)})}function o(f,h){return h==null&&(h=Im(f)),[h.map(u).join(n)].concat(s(f,h)).join(`
`)}function a(f,h){return h==null&&(h=Im(f)),s(f,h).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(n)}function u(f){return f==null?"":f instanceof Date?Zv(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:i,parseRows:r,format:o,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}var $v=Em("	"),eS=$v.parseRows;function tS(n){return n}function nS(n){if(n==null)return tS;var t,e,i=n.scale[0],r=n.scale[1],s=n.translate[0],o=n.translate[1];return function(a,l){l||(t=e=0);var c=2,u=a.length,f=new Array(u);for(f[0]=(t+=a[0])*i+s,f[1]=(e+=a[1])*r+o;c<u;)f[c]=a[c],++c;return f}}function iS(n,t){for(var e,i=n.length,r=i-t;r<--i;)e=n[r],n[r++]=n[i],n[i]=e}function rS(n,t){return typeof t=="string"&&(t=n.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(e){return Bm(n,e)})}:Bm(n,t)}function Bm(n,t){var e=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,s=vm(n,t);return e==null&&i==null?{type:"Feature",properties:r,geometry:s}:i==null?{type:"Feature",id:e,properties:r,geometry:s}:{type:"Feature",id:e,bbox:i,properties:r,geometry:s}}function vm(n,t){var e=nS(n.transform),i=n.arcs;function r(u,f){f.length&&f.pop();for(var h=i[u<0?~u:u],A=0,d=h.length;A<d;++A)f.push(e(h[A],A));u<0&&iS(f,d)}function s(u){return e(u)}function o(u){for(var f=[],h=0,A=u.length;h<A;++h)r(u[h],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(a)}function c(u){var f=u.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":h=s(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(s);break;case"LineString":h=o(u.arcs);break;case"MultiLineString":h=u.arcs.map(o);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:f,coordinates:h}}return c(t)}function sS(n,t){var e={},i={},r={},s=[],o=-1;t.forEach(function(c,u){var f=n.arcs[c<0?~c:c],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++o],t[o]=c,t[u]=h)}),t.forEach(function(c){var u=a(c),f=u[0],h=u[1],A,d;if(A=r[f])if(delete r[A.end],A.push(c),A.end=h,d=i[h]){delete i[d.start];var p=d===A?A:A.concat(d);i[p.start=A.start]=r[p.end=d.end]=p}else i[A.start]=r[A.end]=A;else if(A=i[h])if(delete i[A.start],A.unshift(c),A.start=f,d=r[f]){delete r[d.end];var w=d===A?A:d.concat(A);i[w.start=d.start]=r[w.end=A.end]=w}else i[A.start]=r[A.end]=A;else A=[c],i[A.start=f]=r[A.end=h]=A});function a(c){var u=n.arcs[c<0?~c:c],f=u[0],h;return n.transform?(h=[0,0],u.forEach(function(A){h[0]+=A[0],h[1]+=A[1]})):h=u[u.length-1],c<0?[h,f]:[f,h]}function l(c,u){for(var f in c){var h=c[f];delete u[h.start],delete h.start,delete h.end,h.forEach(function(A){e[A<0?~A:A]=1}),s.push(h)}}return l(r,i),l(i,r),t.forEach(function(c){e[c<0?~c:c]||s.push([c])}),s}function oS(n){return vm(n,aS.apply(this,arguments))}function aS(n,t,e){var i,r,s;if(arguments.length>1)i=cS(n,t,e);else for(r=0,i=new Array(s=n.arcs.length);r<s;++r)i[r]=r;return{type:"MultiLineString",arcs:sS(n,i)}}function cS(n,t,e){var i=[],r=[],s;function o(f){var h=f<0?~f:f;(r[h]||(r[h]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function l(f){f.forEach(a)}function c(f){f.forEach(l)}function u(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),r.forEach(e==null?function(f){i.push(f[0].i)}:function(f){e(f[0].g,f[f.length-1].g)&&i.push(f[0].i)}),i}function pr(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function lS(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function mr(n){let t,e,i;n.length!==2?(t=pr,e=(a,l)=>pr(n(a),l),i=(a,l)=>n(a)-l):(t=n===pr||n===lS?n:uS,e=n,i=n);function r(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;e(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;e(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=r(a,l,c,u-1);return f>c&&i(a[f-1],l)>-i(a[f],l)?f-1:f}return{left:r,center:o,right:s}}function uS(){return 0}function Sm(n){return n===null?NaN:+n}function*fS(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(i=+i)>=i&&(yield i)}}const Qm=mr(pr),pi=Qm.right;Qm.left,mr(Sm).center;function AS(n,t){let e=0;if(t===void 0)for(let i of n)i!=null&&(i=+i)>=i&&++e;else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(r=+r)>=r&&++e}return e}function hS(n,t){let e=0,i,r=0,s=0;if(t===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(i=o-r,r+=i/++e,s+=i*(o-r));else{let o=-1;for(let a of n)(a=t(a,++o,n))!=null&&(a=+a)>=a&&(i=a-r,r+=i/++e,s+=i*(a-r))}if(e>1)return s/(e-1)}function dS(n,t){let e,i;for(const r of n)r!=null&&(e===void 0?r>=r&&(e=i=r):(e>r&&(e=r),i<r&&(i=r)));return[e,i]}class Tn extends Map{constructor(t,e=mS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Dm(this,t))}has(t){return super.has(Dm(this,t))}set(t,e){return super.set(gS(this,t),e)}delete(t){return super.delete(pS(this,t))}}function Dm({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function gS({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function pS({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function mS(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Qh(n){return n}function Gu(n,...t){return km(n,Qh,Qh,t)}function wS(n,...t){return km(n,Array.from,Qh,t)}function km(n,t,e,i){return(function r(s,o){if(o>=i.length)return e(s);const a=new Tn,l=i[o++];let c=-1;for(const u of s){const f=l(u,++c,s),h=a.get(f);h?h.push(u):a.set(f,[u])}for(const[u,f]of a)a.set(u,r(f,o));return t(a)})(n,0)}function CS(n=pr){if(n===pr)return Fm;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function Fm(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const yS=Math.sqrt(50),xS=Math.sqrt(10),bS=Math.sqrt(2);function zu(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=yS?10:s>=xS?5:s>=bS?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?zu(n,t,e*2):[a,l,c]}function Hu(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,s,o]=i?zu(t,n,e):zu(n,t,e);if(!(s>=r))return[];const a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function Dh(n,t,e){return t=+t,n=+n,e=+e,zu(n,t,e)[2]}function wr(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?Dh(t,n,e):Dh(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function kh(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function Fh(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e>r||e===void 0&&r>=r)&&(e=r)}return e}function Rm(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?Fm:CS(r);i>e;){if(i-e>600){const l=i-e+1,c=t-e+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),A=Math.max(e,Math.floor(t-c*f/l+h)),d=Math.min(i,Math.floor(t+(l-c)*f/l+h));Rm(n,t,A,d,r)}const s=n[t];let o=e,a=i;for(Xa(n,e,t),r(n[i],s)>0&&Xa(n,e,i);o<a;){for(Xa(n,o,a),++o,--a;r(n[o],s)<0;)++o;for(;r(n[a],s)>0;)--a}r(n[e],s)===0?Xa(n,e,a):(++a,Xa(n,a,i)),a<=t&&(e=a+1),t<=a&&(i=a-1)}return n}function Xa(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function IS(n,t,e){if(n=Float64Array.from(fS(n,e)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return Fh(n);if(t>=1)return kh(n);var i,r=(i-1)*t,s=Math.floor(r),o=kh(Rm(n,s).subarray(0,s+1)),a=Fh(n.subarray(s+1));return o+(a-o)*(r-s)}}function Nm(n,t,e=Sm){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,s=Math.floor(r),o=+e(n[s],s,n),a=+e(n[s+1],s+1,n);return o+(a-o)*(r-s)}}function ES(n,t){let e=0,i=0;if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++e,i+=r);else{let r=-1;for(let s of n)(s=t(s,++r,n))!=null&&(s=+s)>=s&&(++e,i+=s)}if(e)return i/e}function BS(n,t){return IS(n,.5,t)}function Za(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,s=new Array(r);++i<r;)s[i]=n+i*e;return s}function $a(n,t){let e=0;if(t===void 0)for(let i of n)(i=+i)&&(e+=i);else{let i=-1;for(let r of n)(r=+t(r,++i,n))&&(e+=r)}return e}function vS(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function _u(n,t){if(!isFinite(n)||n===0)return null;var e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"),i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function Gs(n){return n=_u(Math.abs(n)),n?n[1]:NaN}function SS(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}function QS(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var DS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zs(n){if(!(t=DS.exec(n)))throw new Error("invalid format: "+n);var t;return new Rh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zs.prototype=Rh.prototype;function Rh(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Rh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kS(n){e:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var Vu;function FS(n,t){var e=_u(n,t);if(!e)return Vu=void 0,n.toPrecision(t);var i=e[0],r=e[1],s=r-(Vu=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+_u(n,Math.max(0,t+s-1))[0]}function Mm(n,t){var e=_u(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Tm={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:vS,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Mm(n*100,t),r:Mm,s:FS,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Pm(n){return n}var Lm=Array.prototype.map,Om=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function RS(n){var t=n.grouping===void 0||n.thousands===void 0?Pm:SS(Lm.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Pm:QS(Lm.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(f,h){f=zs(f);var A=f.fill,d=f.align,p=f.sign,w=f.symbol,m=f.zero,y=f.width,x=f.comma,C=f.precision,E=f.trim,B=f.type;B==="n"?(x=!0,B="g"):Tm[B]||(C===void 0&&(C=12),E=!0,B="g"),(m||A==="0"&&d==="=")&&(m=!0,A="0",d="=");var b=(h&&h.prefix!==void 0?h.prefix:"")+(w==="$"?e:w==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():""),D=(w==="$"?i:/[%p]/.test(B)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),R=Tm[B],k=/[defgprs%]/.test(B);C=C===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(T){var O=b,z=D,J,_,q;if(B==="c")z=R(T)+z,T="";else{T=+T;var se=T<0||1/T<0;if(T=isNaN(T)?l:R(Math.abs(T),C),E&&(T=kS(T)),se&&+T==0&&p!=="+"&&(se=!1),O=(se?p==="("?p:a:p==="-"||p==="("?"":p)+O,z=(B==="s"&&!isNaN(T)&&Vu!==void 0?Om[8+Vu/3]:"")+z+(se&&p==="("?")":""),k){for(J=-1,_=T.length;++J<_;)if(q=T.charCodeAt(J),48>q||q>57){z=(q===46?r+T.slice(J+1):T.slice(J))+z,T=T.slice(0,J);break}}}x&&!m&&(T=t(T,1/0));var re=O.length+T.length+z.length,Ae=re<y?new Array(y-re+1).join(A):"";switch(x&&m&&(T=t(Ae+T,Ae.length?y-z.length:1/0),Ae=""),d){case"<":T=O+T+z+Ae;break;case"=":T=O+Ae+T+z;break;case"^":T=Ae.slice(0,re=Ae.length>>1)+O+T+z+Ae.slice(re);break;default:T=Ae+O+T+z;break}return s(T)}return P.toString=function(){return f+""},P}function u(f,h){var A=Math.max(-8,Math.min(8,Math.floor(Gs(h)/3)))*3,d=Math.pow(10,-A),p=c((f=zs(f),f.type="f",f),{suffix:Om[8+A/3]});return function(w){return p(d*w)}}return{format:c,formatPrefix:u}}var Yu,nt,Um;NS({thousands:",",grouping:[3],currency:["$",""]});function NS(n){return Yu=RS(n),nt=Yu.format,Um=Yu.formatPrefix,Yu}function MS(n){return Math.max(0,-Gs(Math.abs(n)))}function TS(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(t)/3)))*3-Gs(Math.abs(n)))}function PS(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Gs(t)-Gs(n))+1}const Nh=new Date,Mh=new Date;function Ge(n,t,e,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),n(s);while(c<s&&s<o);return l},r.filter=s=>Ge(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(Nh.setTime(+s),Mh.setTime(+o),n(Nh),n(Mh),Math.floor(e(Nh,Mh))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r}const Hs=Ge(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Hs.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Ge(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Hs),Hs.range;const Pn=1e3,Ut=Pn*60,Ln=Ut*60,On=Ln*24,Th=On*7,Gm=On*30,Ph=On*365,Un=Ge(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Pn)},(n,t)=>(t-n)/Pn,n=>n.getUTCSeconds());Un.range;const Ju=Ge(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pn)},(n,t)=>{n.setTime(+n+t*Ut)},(n,t)=>(t-n)/Ut,n=>n.getMinutes());Ju.range;const qu=Ge(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Ut)},(n,t)=>(t-n)/Ut,n=>n.getUTCMinutes());qu.range;const Ku=Ge(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pn-n.getMinutes()*Ut)},(n,t)=>{n.setTime(+n+t*Ln)},(n,t)=>(t-n)/Ln,n=>n.getHours());Ku.range;const ju=Ge(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Ln)},(n,t)=>(t-n)/Ln,n=>n.getUTCHours());ju.range;const mi=Ge(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Ut)/On,n=>n.getDate()-1);mi.range;const Cr=Ge(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/On,n=>n.getUTCDate()-1);Cr.range;const zm=Ge(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/On,n=>Math.floor(n/On));zm.range;function yr(n){return Ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/Th)}const ec=yr(0),Wu=yr(1),LS=yr(2),OS=yr(3),_s=yr(4),US=yr(5),GS=yr(6);ec.range,Wu.range,LS.range,OS.range,_s.range,US.range,GS.range;function xr(n){return Ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/Th)}const tc=xr(0),Xu=xr(1),zS=xr(2),HS=xr(3),Vs=xr(4),_S=xr(5),VS=xr(6);tc.range,Xu.range,zS.range,HS.range,Vs.range,_S.range,VS.range;const nc=Ge(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());nc.range;const ic=Ge(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());ic.range;const dn=Ge(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());dn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}),dn.range;const gn=Ge(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());gn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}),gn.range;function Hm(n,t,e,i,r,s){const o=[[Un,1,Pn],[Un,5,5*Pn],[Un,15,15*Pn],[Un,30,30*Pn],[s,1,Ut],[s,5,5*Ut],[s,15,15*Ut],[s,30,30*Ut],[r,1,Ln],[r,3,3*Ln],[r,6,6*Ln],[r,12,12*Ln],[i,1,On],[i,2,2*On],[e,1,Th],[t,1,Gm],[t,3,3*Gm],[n,1,Ph]];function a(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const A=f&&typeof f.range=="function"?f:l(c,u,f),d=A?A.range(c,+u+1):[];return h?d.reverse():d}function l(c,u,f){const h=Math.abs(u-c)/f,A=mr(([,,w])=>w).right(o,h);if(A===o.length)return n.every(wr(c/Ph,u/Ph,f));if(A===0)return Hs.every(Math.max(wr(c,u,f),1));const[d,p]=o[h/o[A-1][2]<o[A][2]/h?A-1:A];return d.every(p)}return[a,l]}const[YS,JS]=Hm(gn,ic,tc,zm,ju,qu),[qS,KS]=Hm(dn,nc,ec,mi,Ku,Ju),rc="year",sc="quarter",oc="month",ac="week",cc="date",Zu="day",Lh="dayofyear",lc="hours",uc="minutes",fc="seconds",$u="milliseconds";[rc,sc,oc,ac,cc,Zu,Lh,lc,uc,fc,$u].reduce((n,t,e)=>(n[t]=1+e,n),{});const jS={[rc]:dn,[sc]:nc.every(3),[oc]:nc,[ac]:ec,[cc]:mi,[Zu]:mi,[Lh]:mi,[lc]:Ku,[uc]:Ju,[fc]:Un,[$u]:Hs},WS={[rc]:gn,[sc]:ic.every(3),[oc]:ic,[ac]:tc,[cc]:Cr,[Zu]:Cr,[Lh]:Cr,[lc]:ju,[uc]:qu,[fc]:Un,[$u]:Hs};function XS(n){return jS[n]}function ZS(n){return WS[n]}function Oh(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Uh(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Ac(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function _m(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=hc(r),u=dc(r),f=hc(s),h=dc(s),A=hc(o),d=dc(o),p=hc(a),w=dc(a),m=hc(l),y=dc(l),x={a:q,A:se,b:re,B:Ae,c:null,d:jm,e:jm,f:xQ,g:FQ,G:NQ,H:wQ,I:CQ,j:yQ,L:Wm,m:bQ,M:IQ,p:ht,q:Lt,Q:nw,s:iw,S:EQ,u:BQ,U:vQ,V:SQ,w:QQ,W:DQ,x:null,X:null,y:kQ,Y:RQ,Z:MQ,"%":tw},C={a:Nn,A:Ns,b:Iu,B:Ta,c:null,d:Zm,e:Zm,f:OQ,g:KQ,G:WQ,H:TQ,I:PQ,j:LQ,L:$m,m:UQ,M:GQ,p:li,q:Ms,Q:nw,s:iw,S:zQ,u:HQ,U:_Q,V:VQ,w:YQ,W:JQ,x:null,X:null,y:qQ,Y:jQ,Z:XQ,"%":tw},E={a:k,A:P,b:T,B:O,c:z,d:qm,e:qm,f:dQ,g:Jm,G:Ym,H:Km,I:Km,j:uQ,L:hQ,m:lQ,M:fQ,p:R,q:cQ,Q:pQ,s:mQ,S:AQ,u:iQ,U:rQ,V:sQ,w:nQ,W:oQ,x:J,X:_,y:Jm,Y:Ym,Z:aQ,"%":gQ};x.x=B(e,x),x.X=B(i,x),x.c=B(t,x),C.x=B(e,C),C.X=B(i,C),C.c=B(t,C);function B(V,ee){return function(oe){var L=[],dt=-1,ge=0,It=V.length,gt,ui,Eu;for(oe instanceof Date||(oe=new Date(+oe));++dt<It;)V.charCodeAt(dt)===37&&(L.push(V.slice(ge,dt)),(ui=Vm[gt=V.charAt(++dt)])!=null?gt=V.charAt(++dt):ui=gt==="e"?" ":"0",(Eu=ee[gt])&&(gt=Eu(oe,ui)),L.push(gt),ge=dt+1);return L.push(V.slice(ge,dt)),L.join("")}}function b(V,ee){return function(oe){var L=Ac(1900,void 0,1),dt=D(L,V,oe+="",0),ge,It;if(dt!=oe.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ee&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ge=Uh(Ac(L.y,0,1)),It=ge.getUTCDay(),ge=It>4||It===0?Xu.ceil(ge):Xu(ge),ge=Cr.offset(ge,(L.V-1)*7),L.y=ge.getUTCFullYear(),L.m=ge.getUTCMonth(),L.d=ge.getUTCDate()+(L.w+6)%7):(ge=Oh(Ac(L.y,0,1)),It=ge.getDay(),ge=It>4||It===0?Wu.ceil(ge):Wu(ge),ge=mi.offset(ge,(L.V-1)*7),L.y=ge.getFullYear(),L.m=ge.getMonth(),L.d=ge.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),It="Z"in L?Uh(Ac(L.y,0,1)).getUTCDay():Oh(Ac(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(It+5)%7:L.w+L.U*7-(It+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Uh(L)):Oh(L)}}function D(V,ee,oe,L){for(var dt=0,ge=ee.length,It=oe.length,gt,ui;dt<ge;){if(L>=It)return-1;if(gt=ee.charCodeAt(dt++),gt===37){if(gt=ee.charAt(dt++),ui=E[gt in Vm?ee.charAt(dt++):gt],!ui||(L=ui(V,oe,L))<0)return-1}else if(gt!=oe.charCodeAt(L++))return-1}return L}function R(V,ee,oe){var L=c.exec(ee.slice(oe));return L?(V.p=u.get(L[0].toLowerCase()),oe+L[0].length):-1}function k(V,ee,oe){var L=A.exec(ee.slice(oe));return L?(V.w=d.get(L[0].toLowerCase()),oe+L[0].length):-1}function P(V,ee,oe){var L=f.exec(ee.slice(oe));return L?(V.w=h.get(L[0].toLowerCase()),oe+L[0].length):-1}function T(V,ee,oe){var L=m.exec(ee.slice(oe));return L?(V.m=y.get(L[0].toLowerCase()),oe+L[0].length):-1}function O(V,ee,oe){var L=p.exec(ee.slice(oe));return L?(V.m=w.get(L[0].toLowerCase()),oe+L[0].length):-1}function z(V,ee,oe){return D(V,t,ee,oe)}function J(V,ee,oe){return D(V,e,ee,oe)}function _(V,ee,oe){return D(V,i,ee,oe)}function q(V){return o[V.getDay()]}function se(V){return s[V.getDay()]}function re(V){return l[V.getMonth()]}function Ae(V){return a[V.getMonth()]}function ht(V){return r[+(V.getHours()>=12)]}function Lt(V){return 1+~~(V.getMonth()/3)}function Nn(V){return o[V.getUTCDay()]}function Ns(V){return s[V.getUTCDay()]}function Iu(V){return l[V.getUTCMonth()]}function Ta(V){return a[V.getUTCMonth()]}function li(V){return r[+(V.getUTCHours()>=12)]}function Ms(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ee=B(V+="",x);return ee.toString=function(){return V},ee},parse:function(V){var ee=b(V+="",!1);return ee.toString=function(){return V},ee},utcFormat:function(V){var ee=B(V+="",C);return ee.toString=function(){return V},ee},utcParse:function(V){var ee=b(V+="",!0);return ee.toString=function(){return V},ee}}}var Vm={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,$S=/^%/,eQ=/[\\^$*+?|[\]().{}]/g;function le(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function tQ(n){return n.replace(eQ,"\\$&")}function hc(n){return new RegExp("^(?:"+n.map(tQ).join("|")+")","i")}function dc(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function nQ(n,t,e){var i=qe.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function iQ(n,t,e){var i=qe.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function rQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function sQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function oQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function Ym(n,t,e){var i=qe.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function Jm(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function aQ(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function cQ(n,t,e){var i=qe.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function lQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function qm(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function uQ(n,t,e){var i=qe.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function Km(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function fQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function AQ(n,t,e){var i=qe.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function hQ(n,t,e){var i=qe.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function dQ(n,t,e){var i=qe.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function gQ(n,t,e){var i=$S.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function pQ(n,t,e){var i=qe.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function mQ(n,t,e){var i=qe.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function jm(n,t){return le(n.getDate(),t,2)}function wQ(n,t){return le(n.getHours(),t,2)}function CQ(n,t){return le(n.getHours()%12||12,t,2)}function yQ(n,t){return le(1+mi.count(dn(n),n),t,3)}function Wm(n,t){return le(n.getMilliseconds(),t,3)}function xQ(n,t){return Wm(n,t)+"000"}function bQ(n,t){return le(n.getMonth()+1,t,2)}function IQ(n,t){return le(n.getMinutes(),t,2)}function EQ(n,t){return le(n.getSeconds(),t,2)}function BQ(n){var t=n.getDay();return t===0?7:t}function vQ(n,t){return le(ec.count(dn(n)-1,n),t,2)}function Xm(n){var t=n.getDay();return t>=4||t===0?_s(n):_s.ceil(n)}function SQ(n,t){return n=Xm(n),le(_s.count(dn(n),n)+(dn(n).getDay()===4),t,2)}function QQ(n){return n.getDay()}function DQ(n,t){return le(Wu.count(dn(n)-1,n),t,2)}function kQ(n,t){return le(n.getFullYear()%100,t,2)}function FQ(n,t){return n=Xm(n),le(n.getFullYear()%100,t,2)}function RQ(n,t){return le(n.getFullYear()%1e4,t,4)}function NQ(n,t){var e=n.getDay();return n=e>=4||e===0?_s(n):_s.ceil(n),le(n.getFullYear()%1e4,t,4)}function MQ(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+le(t/60|0,"0",2)+le(t%60,"0",2)}function Zm(n,t){return le(n.getUTCDate(),t,2)}function TQ(n,t){return le(n.getUTCHours(),t,2)}function PQ(n,t){return le(n.getUTCHours()%12||12,t,2)}function LQ(n,t){return le(1+Cr.count(gn(n),n),t,3)}function $m(n,t){return le(n.getUTCMilliseconds(),t,3)}function OQ(n,t){return $m(n,t)+"000"}function UQ(n,t){return le(n.getUTCMonth()+1,t,2)}function GQ(n,t){return le(n.getUTCMinutes(),t,2)}function zQ(n,t){return le(n.getUTCSeconds(),t,2)}function HQ(n){var t=n.getUTCDay();return t===0?7:t}function _Q(n,t){return le(tc.count(gn(n)-1,n),t,2)}function ew(n){var t=n.getUTCDay();return t>=4||t===0?Vs(n):Vs.ceil(n)}function VQ(n,t){return n=ew(n),le(Vs.count(gn(n),n)+(gn(n).getUTCDay()===4),t,2)}function YQ(n){return n.getUTCDay()}function JQ(n,t){return le(Xu.count(gn(n)-1,n),t,2)}function qQ(n,t){return le(n.getUTCFullYear()%100,t,2)}function KQ(n,t){return n=ew(n),le(n.getUTCFullYear()%100,t,2)}function jQ(n,t){return le(n.getUTCFullYear()%1e4,t,4)}function WQ(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Vs(n):Vs.ceil(n),le(n.getUTCFullYear()%1e4,t,4)}function XQ(){return"+0000"}function tw(){return"%"}function nw(n){return+n}function iw(n){return Math.floor(+n/1e3)}var Ys,Gh,rw,zh,sw;ZQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZQ(n){return Ys=_m(n),Gh=Ys.format,rw=Ys.parse,zh=Ys.utcFormat,sw=Ys.utcParse,Ys}function ef(n){const t={};return e=>t[e]||(t[e]=n(e))}function ow(n,t,e){e=e||{},tt(e)||Le(`Invalid time multi-format specifier: ${e}`);const i=t(fc),r=t(uc),s=t(lc),o=t(cc),a=t(ac),l=t(oc),c=t(sc),u=t(rc),f=n(e[$u]||".%L"),h=n(e[fc]||":%S"),A=n(e[uc]||"%I:%M"),d=n(e[lc]||"%I %p"),p=n(e[cc]||e[Zu]||"%a %d"),w=n(e[ac]||"%b %d"),m=n(e[oc]||"%B"),y=n(e[sc]||"%B"),x=n(e[rc]||"%Y");return C=>(i(C)<C?f:r(C)<C?h:s(C)<C?A:o(C)<C?d:l(C)<C?a(C)<C?p:w:u(C)<C?c(C)<C?m:y:x)(C)}function aw(n){const t=ef(n.format),e=ef(n.utcFormat);return{timeFormat:i=>Ce(i)?t(i):ow(t,XS,i),utcFormat:i=>Ce(i)?e(i):ow(e,ZS,i),timeParse:ef(n.parse),utcParse:ef(n.utcParse)}}let Hh;$Q();function $Q(){return Hh=aw({format:Gh,parse:rw,utcFormat:zh,utcParse:sw})}function eD(n){return aw(_m(n))}function tD(n){return arguments.length?Hh=eD(n):Hh}const nD=n=>n!=null&&n===n,iD=n=>n==="true"||n==="false"||n===!0||n===!1,rD=n=>!Number.isNaN(Date.parse(n)),cw=n=>!Number.isNaN(+n)&&!(n instanceof Date),sD=n=>cw(n)&&Number.isInteger(+n),lw={boolean:Sv,integer:Oa,number:Oa,date:Dv,string:kv,unknown:Nu},tf=[iD,sD,cw,rD],oD=["boolean","integer","number","date"];function aD(n,t){if(!n||!n.length)return"unknown";const e=n.length,i=tf.length,r=tf.map((s,o)=>o+1);for(let s=0,o=0,a,l;s<e;++s)for(l=t?n[s][t]:n[s],a=0;a<i;++a)if(r[a]&&nD(l)&&!tf[a](l)&&(r[a]=0,++o,o===tf.length))return"string";return oD[r.reduce((s,o)=>s===0?o:s,0)-1]}function cD(n,t){return t.reduce((e,i)=>(e[i]=aD(n,i),e),{})}function uw(n){const t=function(e,i){const r={delimiter:n};return _h(e,i?Iv(i,r):r)};return t.responseType="text",t}function _h(n,t){return t.header&&(n=t.header.map(ph).join(t.delimiter)+`
`+n),Em(t.delimiter).parse(n+"")}_h.responseType="text";function lD(n){return typeof Buffer=="function"&&Ot(Buffer.isBuffer)?Buffer.isBuffer(n):!1}function Vh(n,t){const e=t&&t.property?Ru(t.property):Nu;return tt(n)&&!lD(n)?uD(e(n),t):e(JSON.parse(n))}Vh.responseType="json";function uD(n,t){return!Ne(n)&&Bv(n)&&(n=[...n]),t&&t.copy?JSON.parse(JSON.stringify(n)):n}const fD={interior:(n,t)=>n!==t,exterior:(n,t)=>n===t};function fw(n,t){let e,i,r,s;return n=Vh(n,t),t&&t.feature?(e=rS,r=t.feature):t&&t.mesh?(e=oS,r=t.mesh,s=fD[t.filter]):Le("Missing TopoJSON feature or mesh parameter."),i=(i=n.objects[r])?e(n,i,s):Le("Invalid TopoJSON object: "+r),i&&i.features||[i]}fw.responseType="json";const Yh={dsv:_h,csv:uw(","),tsv:uw("	"),json:Vh,topojson:fw};function Jh(n,t){return arguments.length>1?(Yh[n]=t,this):Ls(Yh,n)?Yh[n]:null}function qh(n,t,e,i){t=t||{};const r=Jh(t.type||"json");return r||Le("Unknown data format type: "+t.type),n=r(n,t),t.parse&&AD(n,t.parse,e,i),Ls(n,"columns")&&delete n.columns,n}function AD(n,t,e,i){if(!n.length)return;const r=tD();e=e||r.timeParse,i=i||r.utcParse;let s=n.columns||Object.keys(n[0]),o,a,l,c,u,f;t==="auto"&&(t=cD(n,s)),s=Object.keys(t);const h=s.map(A=>{const d=t[A];let p,w;if(d&&(d.startsWith("date:")||d.startsWith("utc:")))return p=d.split(/:(.+)?/,2),w=p[1],(w[0]==="'"&&w[w.length-1]==="'"||w[0]==='"'&&w[w.length-1]==='"')&&(w=w.slice(1,-1)),(p[0]==="utc"?i:e)(w);if(!lw[d])throw Error("Illegal format pattern: "+A+":"+d);return lw[d]});for(l=0,u=n.length,f=s.length;l<u;++l)for(o=n[l],c=0;c<f;++c)a=s[c],o[a]=h[c](o[a])}const hD=`
:root {
--genome-spy-basic-spacing: 10px;
--genome-spy-font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial,
sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

.genome-spy {
font-family: var(--genome-spy-font-family);

position: relative;

display: flex;
flex-direction: column;

.canvas-wrapper {
position: relative;
flex-grow: 1;
overflow: hidden;
}

canvas {
display: block;
transform: scale(1, 1);
opacity: 1;
transition:
transform 0.6s,
opacity 0.6s;

&:focus,
&:focus-visible {
outline: none;
}
}

.loading {
> canvas {
transform: scale(0.95, 0.95);
opacity: 0;
}
}

.loading-indicators {
position: absolute;
inset: 0;

user-select: none;
pointer-events: none;

div {
position: absolute;
display: flex;
align-items: center;
justify-content: center;

> div {
font-size: 11px;
transition: opacity 0.2s;
background: white;
padding: 2px 5px;
display: flex;
border-radius: 3px;
gap: 0.5em;
opacity: 0;

&.loading {
opacity: 0.5;
}

&.error {
opacity: 0.8;
color: firebrick;
}

> * {
display: block;
}

img {
width: 1.5em;
height: 1.5em;
}
}
}
}

.tooltip {
position: absolute;

max-width: 450px;
overflow: hidden;

--background-color: #f6f6f6;
background: var(--background-color);
padding: var(--genome-spy-basic-spacing);

--font-size: 12px;
font-size: var(--font-size);

box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);

&:not(.sticky) {
pointer-events: none;
}

transition:
outline-color 0.3s ease-in-out,
box-shadow 0.3s ease-in-out;

outline: 0px solid transparent;
&.sticky {
outline: 2px solid black;
box-shadow: 0px 3px 18px 0px rgba(0, 0, 0, 0.3);
}

z-index: 100;

> :last-child {
margin-bottom: 0;
}

> .title {
padding-bottom: calc(var(--genome-spy-basic-spacing) / 2);
margin-bottom: calc(var(--genome-spy-basic-spacing) / 2);
border-bottom: 1px dashed var(--background-color);
border-bottom: 1px dashed
color-mix(in srgb, black 25%, var(--background-color));
}

.summary {
font-size: 12px;
}

table {
&:first-child {
margin-top: 0;
}

border-collapse: collapse;

th,
td {
padding: 2px 0.4em;
vertical-align: top;
font-size: var(--font-size);

&:first-child {
padding-left: 0;
}
}

th {
text-align: left;
font-weight: bold;
}
}

.color-legend {
display: inline-block;
width: 0.8em;
height: 0.8em;
margin-left: 0.4em;
box-shadow: 0px 0px 3px 1px white;
}

.attributes {
.hovered {
background-color: #e0e0e0;
}
}

.na {
color: #aaa;
font-style: italic;
font-size: 80%;
}
}

.gene-track-tooltip {
.summary {
font-size: 90%;
}
}

.message-box {
display: flex;
align-items: center;
justify-content: center;
position: absolute;
top: 0;
height: 100%;
width: 100%;

> div {
border: 1px solid red;
padding: 10px;
background: #fff0f0;
}
}
}

.gs-input-binding {
display: grid;
grid-template-columns: max-content max-content;
column-gap: 1em;
row-gap: 0.3em;
justify-items: start;

> select,
> input:not([type="checkbox"]) {
width: 100%;
}

input[type="range"] + span {
display: inline-block;
margin-left: 0.3em;
min-width: 2.2em;
font-variant-numeric: tabular-nums;
}

input[type="range"],
input[type="radio"] {
vertical-align: text-bottom;
}

.radio-group {
display: flex;
align-items: center;
}

.description {
max-width: 26em;
grid-column: 1 / -1;
color: #777;
font-size: 90%;
margin-top: -0.5em;
}
}

.gs-input-bindings {
flex-basis: content;
font-size: 14px;
padding: var(--genome-spy-basic-spacing);
}
`;function dD(n,t){var e=n.getBoundingClientRect();return[t.clientX-e.left-n.clientLeft,t.clientY-e.top-n.clientTop]}function Js(n,t){return n.length==t.length&&n.every((e,i)=>n[i]===t[i])}function Ke(n){return Array.isArray(n)?n:typeof n<"u"?[n]:[]}function nf(n){return n[n.length-1]}class gD{constructor(t){v(this,Xn,!1);v(this,Go,!0);v(this,Gi);v(this,Xr,0);v(this,zo);v(this,yl,0);v(this,Ct);v(this,zi);v(this,Ho,[!0]);Q(this,zi,t),Q(this,Ct,document.createElement("div")),g(this,Ct).className="tooltip",g(this,zi).appendChild(g(this,Ct)),this.clear()}set sticky(t){!t&&g(this,Xn)&&this.clear(),Q(this,Xn,t),g(this,Ct).classList.toggle("sticky",g(this,Xn))}get sticky(){return g(this,Xn)}set visible(t){t!=g(this,Go)&&(g(this,Ct).style.display=t?null:"none",Q(this,Go,t))}get visible(){return g(this,Go)}get enabled(){return nf(g(this,Ho))??!0}pushEnabledState(t){g(this,Ho).push(t),t||(this.visible=!1)}popEnabledState(){g(this,Ho).pop()}handleMouseMove(t){if(g(this,Xn))return;this.mouseCoords=dD(g(this,zi),t);const e=performance.now();!this.visible&&!this._isPenalty()&&e-g(this,yl)>500&&Q(this,Xr,e+70),g(this,zo)&&pD(this.mouseCoords,g(this,zo))>20&&Q(this,Xr,e+400),Q(this,zo,this.mouseCoords),this.visible&&this.updatePlacement(),Q(this,yl,e)}updatePlacement(){const[e,i]=this.mouseCoords;let r=e+20;r>g(this,zi).clientWidth-g(this,Ct).offsetWidth&&(r=e-20-g(this,Ct).offsetWidth),g(this,Ct).style.left=r+"px",g(this,Ct).style.top=Math.min(i+20,g(this,zi).clientHeight-g(this,Ct).offsetHeight)+"px"}setContent(t){if(!g(this,Xn)){if(!t||!this.enabled||this._isPenalty()){this.visible&&(Ka("",g(this,Ct)),this.visible=!1),Q(this,Gi,void 0);return}Ka(t,g(this,Ct)),this.visible=!0,this.updatePlacement()}}clear(){Q(this,Gi,void 0),this.setContent(void 0)}updateWithDatum(t,e){if(t!==g(this,Gi)){Q(this,Gi,t),e||(e=r=>Promise.resolve(pe` ${JSON.stringify(r)} `));const i=t;e(t).then(r=>{g(this,Gi)===i&&this.setContent(r)}).catch(r=>{if(r!=="debounced")throw r})}}_isPenalty(){return g(this,Xr)&&g(this,Xr)>performance.now()}}Xn=new WeakMap,Go=new WeakMap,Gi=new WeakMap,Xr=new WeakMap,zo=new WeakMap,yl=new WeakMap,Ct=new WeakMap,zi=new WeakMap,Ho=new WeakMap;function pD(n,t){let e=0;for(let i=0;i<n.length;i++)e+=(n[i]-t[i])**2;return Math.sqrt(e)}function mD(n){n.classList.add("genome-spy");const t=document.createElement("style");t.innerHTML=hD,n.appendChild(t);const e=Aw("div",{class:"canvas-wrapper"});n.appendChild(e),e.classList.add("loading");const i=Aw("div",{class:"loading-indicators"});e.appendChild(i);const r=new gD(n);return{canvasWrapper:e,loadingIndicatorsElement:i,tooltip:r,styleElement:t}}function wD(n,t){const e=document.createElement("div");e.className="message-box";const i=document.createElement("div");i.textContent=t,e.appendChild(i),n.appendChild(e)}function Aw(n,t){const e=document.createElement(n);for(const[i,r]of Object.entries(t))["innerHTML","innerText","className"].includes(i)&&(e[i]=r),e.setAttribute(i,r);return e}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hw={ATTRIBUTE:1,CHILD:2},dw=n=>(...t)=>({_$litDirective$:n,values:t});let gw=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pw="important",CD=" !"+pw,rf=dw(class extends gw{constructor(n){var t;if(super(n),n.type!==hw.ATTRIBUTE||n.name!=="style"||((t=n.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(n){return Object.keys(n).reduce((t,e)=>{const i=n[e];return i==null?t:t+`${e=e.includes("-")?e:e.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(n,[t]){const{style:e}=n.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const i of this.ft)t[i]==null&&(this.ft.delete(i),i.includes("-")?e.removeProperty(i):e[i]=null);for(const i in t){const r=t[i];if(r!=null){this.ft.add(i);const s=typeof r=="string"&&r.endsWith(CD);i.includes("-")||s?e.setProperty(i,s?r.slice(0,-11):r,s?pw:""):e[i]=r}}return hr}}),mw="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.spinner_ajPY{transform-origin:center;animation:spinner_AtaB%20.75s%20infinite%20linear}@keyframes%20spinner_AtaB{100%25{transform:rotate(360deg)}}%3c/style%3e%3cpath%20d='M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z'%20opacity='.25'/%3e%3cpath%20d='M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z'%20class='spinner_ajPY'/%3e%3c/svg%3e";class yD{constructor(t,e){v(this,Zr);v(this,$r);v(this,es,null);Q(this,Zr,t),Q(this,$r,e),Q(this,es,g(this,$r).subscribe(()=>this.updateLayout())),this.updateLayout()}destroy(){g(this,es)&&(g(this,es).call(this),Q(this,es,null))}updateLayout(){const t=[],e=()=>{for(const[,s]of g(this,$r).entries())if(s.status=="loading"||s.status=="error")return!0;return!1};let i,r=!1;for(const[s,o]of g(this,$r).entries()){const a=o.status=="loading"||o.status=="error",l=s.coords;if(!l&&a&&!i&&(i=o),l){a&&(r=!0);const c={left:`${l.x}px`,top:`${l.y}px`,width:`${l.width}px`,height:`${l.height}px`};t.push(pe`<div style=${rf(c)}>
                        <div class=${o.status}>
                            ${o.status=="error"?pe`<span
                                      >Loading
                                      failed${o.detail?pe`: ${o.detail}`:Ee}</span
                                  >`:pe`
                                      <img src="${mw}" alt="" />
                                      <span>Loading...</span>
                                  `}
                        </div>
                    </div>`)}}if(i&&!r){const s={left:"0px",top:"0px",width:"100%",height:"100%"};t.push(pe`<div style=${rf(s)}>
                    <div class=${i.status}>
                        ${i.status=="error"?pe`<span
                                  >Loading
                                  failed${i.detail?pe`: ${i.detail}`:Ee}</span
                              >`:pe`
                                  <img src="${mw}" alt="" />
                                  <span>Loading...</span>
                              `}
                    </div>
                </div>`)}e()?g(this,Zr).style.display="block":setTimeout(()=>{e()||(g(this,Zr).style.display="none")},3e3),Ka(t,g(this,Zr))}}Zr=new WeakMap,$r=new WeakMap,es=new WeakMap;class ww{constructor(){v(this,Hi,new Map);v(this,ts,new Set)}set(t,e,i){if(!t)throw new Error("LoadingStatusRegistry.set requires a view.");g(this,Hi).set(t,{status:e,detail:i});const r={view:t,status:e,detail:i};for(const s of g(this,ts))s(r)}delete(t){const e=g(this,Hi).get(t);if(!e)return;g(this,Hi).delete(t);const i={view:t,status:e.status,detail:e.detail};for(const r of g(this,ts))r(i)}get(t){return g(this,Hi).get(t)}entries(){return g(this,Hi).entries()}subscribe(t){return g(this,ts).add(t),()=>{g(this,ts).delete(t)}}}Hi=new WeakMap,ts=new WeakMap;function xD(n){return t=>{var e;if((e=n.querySelector(".view-highlight"))==null||e.remove(),t){if(!t.isConfiguredVisible())return;const i=t.coords;if(i){const r=document.createElement("div");r.className="view-highlight",r.style.position="absolute",r.style.left=i.x+"px",r.style.top=i.y+"px",r.style.width=i.width+"px",r.style.height=i.height+"px",r.style.border="1px solid green",r.style.backgroundColor="rgba(0, 255, 0, 0.1)",r.style.pointerEvents="none",n.appendChild(r)}}}}class bD{constructor(){v(this,_i);Q(this,_i,new Map)}add(t,e){document.addEventListener(t,e);let i=g(this,_i).get(t);i||(i=[],g(this,_i).set(t,i)),i.push(e)}removeAll(){for(const[t,e]of g(this,_i))for(const i of e)document.removeEventListener(t,i);g(this,_i).clear()}}_i=new WeakMap;class Cw{constructor(){v(this,Vi);Q(this,Vi,new Map)}add(t,e){let i=g(this,Vi).get(t);i||(i=new Set,g(this,Vi).set(t,i)),i.add(e)}remove(t,e){var i;(i=g(this,Vi).get(t))==null||i.delete(e)}emit(t,e){var i;(i=g(this,Vi).get(t))==null||i.forEach(r=>r(e))}}Vi=new WeakMap;function sf(n,t,e=!0){let i,r=o=>{};return function(...a){return new Promise((l,c)=>{const u=()=>{clearTimeout(i),r=f=>{},l(n(...a))};e&&r("debounced"),clearTimeout(i),r=c,i=window.setTimeout(u,typeof t=="function"?t():t)})}}const pn=1,wi=2,Kh=4;class jh{constructor(t){v(this,is);X(this,"stats",{count:0,first:null});v(this,xl,!1);v(this,ns,!1);v(this,_o,[]);X(this,"paramRuntimeProvider",null);this.paramRuntimeProvider=t,this.children=[],this.parent=void 0,this.completed=!1}get behavior(){return 0}get label(){return`(${this.constructor.name})`}get disposed(){return g(this,ns)}reset(){this.completed=!1;for(const t of this.children)t.reset();this.stats.count=0,this.stats.first=null}initialize(){}initializeOnce(){g(this,xl)||(this.initialize(),Q(this,xl,!0))}setParent(t){this.parent=t}addChild(t){if(t.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(t),t.setParent(this),F(this,is,vu).call(this),this}adopt(t){t.parent&&t.parent.removeChild(t),this.addChild(t)}adoptChildrenOf(t){for(const e of t.children)this.adopt(e)}insertAsParent(t){var e;if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");t.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=t,F(e=this.parent,is,vu).call(e),this.parent=void 0,t.addChild(this)}removeChild(t){const e=this.children.indexOf(t);if(e>-1)this.children.splice(e,1),t.parent=void 0,F(this,is,vu).call(this);else throw new Error("Trying to remove an unknown child node!")}excise(){var t;if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const e=this.children[0];e.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=e,F(t=this.parent,is,vu).call(t),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(t){t(this);for(const e of this.children)e.visit(t);t.afterChildren&&t.afterChildren(this)}subtreeToString(t=0){const e=this.children.map(i=>i.subtreeToString(t+1)).join("");return`${" ".repeat(t*2)}* ${this.label}${"identifier"in this&&this.identifier?": "+this.identifier:""} 
${e}`}handle(t){this._propagate(t)}complete(){this.completed=!0;for(const t of this.children)t.complete()}registerDisposer(t){g(this,ns)?t():g(this,_o).push(t)}dispose(){if(!g(this,ns)){Q(this,ns,!0);for(const t of g(this,_o))t();g(this,_o).length=0}}disposeSubtree(){const t=()=>{};t.afterChildren=e=>{e.dispose()},this.visit(t)}beginBatch(t){for(const e of this.children)e.beginBatch(t)}get paramRuntime(){if(this.paramRuntimeProvider&&this.paramRuntimeProvider.paramRuntime)return this.paramRuntimeProvider.paramRuntime;if(!this.parent)throw new Error("Cannot find paramRuntime!");return this.parent.paramRuntime}repropagate(){if(this.parent)this.parent.repropagate();else throw new Error("Cannot repropagate data, no FlowNode with stored data found!")}_propagate(t){}}xl=new WeakMap,ns=new WeakMap,_o=new WeakMap,is=new WeakSet,vu=function(){this._propagate=Function("children","stats",Za(this.children.length).map(t=>`const child${t} = children[${t}];`).join(`
`)+`return function propagate(datum) {
                    if (stats.count === 0) {
                        stats.first = structuredClone(datum);
                    }
                    stats.count++;
                ${Za(this.children.length).map(t=>`child${t}.handle(datum);`).join(`
`)}
                };`)(this.children,this.stats)};function yw(n){return n.type=="file"}function ID(n){return n.type=="facet"}class ze extends jh{constructor(e,i){super(i);v(this,bl);Q(this,bl,e.type)}get label(){return g(this,bl)}}bl=new WeakMap;const Gt="_uniqueId",xw=1e4,bw=[null];class Wh extends ze{get behavior(){return wi}constructor(t){super(t),this.params=t,this.as=t.as??Gt,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(t){t[this.as]=this._nextId(),this._propagate(t)}_nextId(){return++this._id%xw==0&&(this._id=this._getBlock()*xw),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const t=bw.length;return bw[t]=this,this._blocks.push(t),this._usedBlocks++,t}}function ue(n,t=n){if(/^[A-Za-z0-9_]+$/.test(n)){const e=function(r){n in r||ED(r,n)},i=new Function("validator",`
                let validated = !validator;
                return function accessField(datum) {
                    if (!validated) {
                        validator(datum);
                        validated = true;
                    }
                    return datum[${JSON.stringify(n)}];
                }`)(e);return te(i,[n],t)}else return Ru(n)}function ED(n,t){throw new Error(`Invalid field "${t}". Available fields or properties: ${Object.keys(n).join(", ")}`)}function Iw(n,t,e){if(!n)return;function i(s){const o=s;return o.fields??(o.fields=[]),o.constant=o.fields.length===0,o.channelDef=t,o.channel=n,o.sourceKey=vD(t),o.scaleChannel=((zt(t)&&t.resolutionChannel)??(af(n)&&n))||void 0,o.scaleChannel!==void 0&&(o.domainKeyBase=Bw({scaleChannel:o.scaleChannel,source:Xh(t)}).domainKeyBase),"param"in t?(o.predicate=Hw(!1),o.predicate.param=t.param,o.predicate.empty=t.empty??!0):(o.predicate=Hw(!0),o.predicate.empty=!1),o.equals=a=>a?o===a||o.sourceKey!==void 0&&o.sourceKey===a.sourceKey:!1,o.asNumberAccessor=()=>o,o}function r(s){if(Me(s)){const o=i(e.createExpression(s.expr));if(o.fields.length>0)throw new Error("Expression in DatumDef/ValueDef cannot access data fields: "+s.expr);return o}else{const o=s;return i(()=>o)}}if(Gn(t))try{return i(ue(t.field))}catch(s){throw new Error(`Invalid field definition: ${s.message}`)}else{if(Ks(t))return i(e.createExpression(t.expr));if(qs(t))return r(t.datum);if(Ft(t))return r(t.value);throw new Error(`Invalid channel definition: "${n}": ${JSON.stringify(t)}! The channel definition must contain one of the following properties: "field", "datum", "value" or "expr".`)}}function BD(n,t,e){const i=[];if(FD(t)||Zh(t)){const r=Array.isArray(t.condition)?t.condition:[t.condition];for(const s of r)i.push(Iw(n,s,e))}if(i.push(Iw(n,t,e)),i.filter(r=>!r.constant).length>1)throw new Error("Only one accessor can be non-constant. Channel: "+n);return i}function Ew(n){return n.scaleChannel!==void 0}function Xh(n){if(Gn(n))return{kind:"field",value:n.field};if(Ks(n))return{kind:"expr",value:n.expr};if(qs(n))return{kind:"datum",value:n.datum};if(Ft(n))return{kind:"value",value:n.value};throw new Error("Cannot derive a domain key from channel definition: "+JSON.stringify(n))}function vD(n){const t=Xh(n);return t.kind==="datum"||t.kind==="value"?"constant|"+Qw(t.value):t.kind+"|"+Sw(t)}function Bw({scaleChannel:n,source:t,type:e}){if(!n)throw new Error("Cannot build a domain key without a scale channel.");const i=n+"|"+t.kind+"|"+Sw(t),r=e?e+"|"+i:void 0;return{domainKeyBase:i,domainKey:r}}function vw(n,t){const{domainKey:e,domainKeyBase:i}=Bw({scaleChannel:n.scaleChannel,source:Xh(n.channelDef),type:t});if(!e)throw new Error("Cannot finalize a domain key without a resolved type.");return n.domainKeyBase=i,n.domainKey=e,e}function Sw(n){switch(n.kind){case"field":case"expr":return n.value;case"datum":case"value":return Qw(n.value);default:throw new Error("Unknown domain key source.")}}function Qw(n){return Me(n)?"expr:"+n.expr:n===void 0?"undefined":JSON.stringify(n)}function SD(n,t){const e={},i=r=>{var s;return(s=n.getScaleResolution(r))==null?void 0:s.getScale()};for(const[r,s]of Object.entries(t)){if(!s)continue;const o=r;if(QD(o))continue;const a=s;e[o]=DD(BD(o,a,n.paramRuntime),i)}return e}function QD(n){return n==="key"||n==="search"}function DD(n,t){if(n.length===1)return Dw(n[0],t);const e=n.map(s=>s.predicate),i=n.map(s=>Dw(s,t));return Object.assign(s=>{for(let o=0;o<i.length;o++)if(e[o](s))return i[o](s)},{constant:!1,accessors:i.map(s=>s.accessors[0]),dataAccessor:i.map(s=>s.dataAccessor).find(s=>s),scale:i.map(s=>s.scale).find(s=>s),channelDef:n.at(-1).channelDef})}function Dw(n,t){const{channel:e,scaleChannel:i,channelDef:r}=n,s=n.scaleChannel?t(i):void 0;if(i&&!s)throw new Error(`Missing scale! "${e}": ${JSON.stringify(r)}`);return Object.assign(s?o=>s(n(o)):o=>n(o),{scale:s,constant:n.constant,accessors:[n],dataAccessor:n.constant?void 0:n,channelDef:r})}function Ft(n){return n&&"value"in n}function Gn(n){return n&&"field"in n}function qs(n){return n&&"datum"in n}function zt(n){return Gn(n)||qs(n)||Ks(n)||Fw(n)}function kw(n){if(Zh(n)){const t=n.condition;if(!Array.isArray(t)&&zt(t))return t}else if(zt(n))return n}function kD(n,t){const e=n.mark.encoding[t];if(!Array.isArray(e)&&zt(e))return e;throw new Error("Not a channel def with scale!")}function Fw(n){return n&&"chrom"in n}function Ks(n){return n&&"expr"in n}function FD(n){return(Gn(n)||qs(n))&&"condition"in n}function Zh(n){return Ft(n)&&"condition"in n}const br=["x","y"],RD=["x2","y2"],ND=[...br,...RD];function $h(n){return br.includes(n)}function gc(n){return ND.includes(n)}const Rw={x:"x2",y:"y2"},Nw=Object.fromEntries(Object.entries(Rw).map(n=>[n[1],n[0]]));function ed(n){return n in Nw}function td(n){const t=Rw[n];if(t)return t;throw new Error(`${n} has no secondary channel!`)}function Ci(n){return Nw[n]??n}function yi(n){return["color","fill","stroke"].includes(Ci(n))}function of(n){return["shape"].includes(n)}function af(n){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(n)}function MD(n){switch(n){case"shape":return["circle","square","cross","diamond","triangle-up","triangle-right","triangle-down","triangle-left","tick-up","tick-right","tick-down","tick-left"]}}function Mw(n){if(!of(n))throw new Error("Not a discrete channel: "+n);const t=new Map(MD(n).map((e,i)=>[e,i]));return e=>{const i=t.get(e);if(i!==void 0)return i;throw new Error(`Invalid value for "${n}" channel: ${e}`)}}function nd(n){return{type:"single",datum:n,uniqueId:n==null?void 0:n[Gt]}}function id(n){return n??(n=[]),{type:"multi",data:new Map(n.map(t=>[t[Gt],t]))}}function Tw(n){return{type:"interval",intervals:Object.fromEntries(n.map(t=>[t,null]))}}function TD(n,{add:t,remove:e,toggle:i}){const r=n.data;for(const s of t??[])r.set(s[Gt],s);for(const s of e??[])r.delete(s[Gt]);for(const s of i??[]){const o=s[Gt];r.has(o)?r.delete(o):r.set(o,s)}return{type:"multi",data:r}}function PD(n,t){const e=!!(n.empty??!0),i=mn(n.param),r=n.fields??{};if(Lw(t))return`${i}.uniqueId == null ? ${e} : ${i}.uniqueId === datum[${JSON.stringify(Gt)}]`;if(rd(t))return`${i}.data.size == 0 ? ${e} : mapHasKey(${i}.data, datum[${JSON.stringify(Gt)}])`;if(Pw(t)){const s=Object.keys(t.intervals),o=Object.keys(r).filter($h);if(o.length===0)throw new Error("Filtering using interval selections requires at least one primary positional channel in the config! "+JSON.stringify(n));if(o.some(c=>!s.includes(c)))throw new Error(`Selection channels (${s.join(", ")}) do not match the fields: ${JSON.stringify(n)}!`);const a=c=>`datum[${JSON.stringify(c)}]`;return s.map(c=>{const u=td(c),f=r[c],h=r[u]??r[c],A=`${i}.intervals.${c}[0] <= ${a(h)}`,d=`${a(f)} <= ${i}.intervals.${c}[1]`;return`(${i}.intervals.${c} ? (${A} && ${d}) : ${e})`}).join(" && ")}else throw new Error(`Unrecognized selection type : ${JSON.stringify(t)}`)}function Pw(n){return n.type==="interval"}function Lw(n){return n.type==="single"}function rd(n){return n.type==="multi"}function cf(n){const t=typeof n=="string"?{type:n}:{...n};return t.on=t.on?Gw(t.on):lf(t)?{type:"click"}:void 0,t.clear=t.clear===!1?void 0:t.clear===!0||t.clear==null?{type:"dblclick"}:Gw(t.clear),lf(t)&&t.on.type==="click"&&(t.toggle=!0),t}function lf(n){return n&&n.type=="point"}function Ow(n){return n&&n.type=="interval"}function Uw(n){return Object.values(n.intervals).some(t=>t&&t.length===2)}function LD(n,t){return Object.entries(n.intervals).every(([e,i])=>(e=="x"||e=="y")&&i&&i[0]<=t[e]&&i[1]>=t[e])}function Gw(n){if(typeof n=="string"){const t=n.match(/^([a-zA-Z]+)(?:\[(.+)\])?$/);if(!t)throw new Error(`Invalid event type string: ${n}`);const[,e,i]=t,r={type:e};return i&&(r.filter=i),r}else return n}function Me(n){return typeof n=="object"&&n!=null&&"expr"in n&&Ce(n.expr)}function Oe(n){if(Me(n))throw new Error("ExprRef "+JSON.stringify(n)+" not allowed here. Expected a scalar value.");return n}function zw(n){return("expr"in n||"bind"in n)&&!("select"in n)}function sd(n){return!("expr"in n||"bind"in n)&&"select"in n}function mn(n){if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n))throw new Error("Invalid parameter name: "+n+". Must be a valid JavaScript identifier.");return n}function od(n,t,e){if("select"in n){const i=cf(n.select);if(lf(i))return i.toggle?id():nd(null);if(Ow(i)){if(!i.encodings)throw new Error('Interval selection "'+n.name+'" must have encodings defined!');return Tw(i.encodings)}throw new Error('Unknown selection config for parameter "'+n.name+'".')}if("expr"in n){const i=t==null?void 0:t.createExpression(n.expr);if(!i)throw new Error('Cannot evaluate expression for parameter "'+n.name+'".');return i(null)}return"value"in n?n.value:null}function pc(n,t,e,i,r={}){const s={...t},o=new Set;let a=!1,l=!1;const c=r.batchMode??"microtask",u=()=>{l=!0,o.clear(),a=!1};i==null||i(u);const f=()=>{if(l)return;if(!e||o.size===0){a=!1;return}const A=new Set(o);o.clear(),a=!1,e(A)},h=A=>{l||(o.add(A),a||(a=!0,queueMicrotask(()=>{l||(c=="whenPropagated"&&n.whenPropagated?n.whenPropagated().then(f).catch(()=>{f()}):f())})))};for(const[A,d]of Object.entries(t))if(Me(d))if(e){const p=()=>h(A),w=n.watchExpression?n.watchExpression(d.expr,p,{scopeOwned:!i,registerDisposer:i}):n.createExpression(d.expr);if(!n.watchExpression){const m=w.subscribe(p);i==null||i(m)}Object.defineProperty(s,A,{enumerable:!0,get(){return w()}})}else{const p=n.createExpression(d.expr);Object.defineProperty(s,A,{enumerable:!0,get(){return p()}})}else s[A]=d;return s}function Hw(n){return Object.assign(()=>n,{subscribe:()=>()=>{},invalidate:()=>{},identifier:()=>"constant",fields:[],globals:[],code:JSON.stringify(n)})}function OD(n){const t=Math.floor(Math.random()*16777215).toString(16),e=[];for(const i of n.paramConfigs.values()){if(!zw(i))continue;const r=i.bind;if(!r||!("input"in r))continue;const s=i.name,o=f=>{n.setValue(s,f)},a=n.getValue(s),l=r.name??s,c=r.debounce?sf(o,r.debounce,!1):o,u=`${t}-param-${s}`;if(r.input=="range")e.push(pe`<label for=${u}>${l}</label>
                    <div>
                        <input
                            id=${u}
                            type="range"
                            min=${r.min??0}
                            max=${r.max??100}
                            step=${r.step??wr(r.min,r.max,100)}
                            .value=${a}
                            @input=${f=>{c(f.target.valueAsNumber),f.target.nextElementSibling.textContent=f.target.valueAsNumber}}
                        /><span>${a}</span>
                    </div>`);else if(r.input=="checkbox")e.push(pe`<label for=${u}>${l}</label>
                    <input
                        id=${u}
                        type="checkbox"
                        ?checked=${a}
                        @input=${f=>c(f.target.checked)}
                    />`);else if(r.input=="radio")e.push(pe`<span class="label">${l}</span>
                    <div class="radio-group">
                        ${r.options.map((f,h)=>{var A;return pe`<label>
                                    <input
                                        type="radio"
                                        name=${s}
                                        value=${f}
                                        .checked=${a==f}
                                        @input=${d=>c(d.target.value)}
                                    />${((A=r.labels)==null?void 0:A[h])??f}</label
                                >`})}
                    </div>`);else if(r.input=="select")e.push(pe`<label for=${u}>${l}</label>
                    <select
                        id=${u}
                        @input=${f=>c(f.target.value)}
                    >
                        ${r.options.map((f,h)=>{var A;return pe`<option
                                    value=${f}
                                    ?selected=${a==f}
                                >
                                    ${((A=r.labels)==null?void 0:A[h])??f}
                                </option>`})}
                    </select> `);else if(r.input=="text"||r.input=="number"||r.input=="color")e.push(pe`<label for=${u}>${l}</label>
                    <div>
                        <input
                            id=${u}
                            type=${r.input}
                            placeholder=${r.placeholder??""}
                            autocomplete=${r.autocomplete??"off"}
                            .value=${a}
                            @focus=${f=>f.target.select()}
                            @input=${f=>{c(r.input=="number"?f.target.valueAsNumber:f.target.value)}}
                        />
                    </div>`);else throw new Error("Unsupported input type: "+r.input);r.description&&e.push(pe`<div class="description">${r.description}</div>`)}return e}class UD{constructor(t,e){v(this,Il);v(this,El);v(this,Dn);Q(this,Il,t),Q(this,El,e),Q(this,Dn,void 0)}initialize(t){const e=[];t.visit(r=>{const s=r.paramRuntime;e.push(...OD(s))});const i=g(this,El).inputBindingContainer;if(!(!i||i=="none"||!e.length)){if(Q(this,Dn,document.createElement("div")),g(this,Dn).className="gs-input-bindings",i=="default")g(this,Il).appendChild(g(this,Dn));else if(i instanceof HTMLElement)i.appendChild(g(this,Dn));else throw new Error("Invalid inputBindingContainer");e.length&&Ka(pe`<div class="gs-input-binding">${e}</div>`,g(this,Dn))}}remove(){var t;(t=g(this,Dn))==null||t.remove()}}Il=new WeakMap,El=new WeakMap,Dn=new WeakMap;/* @license twgl.js 4.24.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const ad=5120,mc=5121,cd=5122,ld=5123,ud=5124,fd=5125,Ad=5126,GD=32819,zD=32820,HD=33635,_D=5131,VD=33640,YD=35899,JD=35902,qD=36269,KD=34042,_w={};{const n=_w;n[ad]=Int8Array,n[mc]=Uint8Array,n[cd]=Int16Array,n[ld]=Uint16Array,n[ud]=Int32Array,n[fd]=Uint32Array,n[Ad]=Float32Array,n[GD]=Uint16Array,n[zD]=Uint16Array,n[HD]=Uint16Array,n[_D]=Uint16Array,n[VD]=Uint32Array,n[YD]=Uint32Array,n[JD]=Uint32Array,n[qD]=Uint32Array,n[KD]=Uint32Array}function hd(n){if(n instanceof Int8Array)return ad;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return mc;if(n instanceof Int16Array)return cd;if(n instanceof Uint16Array)return ld;if(n instanceof Int32Array)return ud;if(n instanceof Uint32Array)return fd;if(n instanceof Float32Array)return Ad;throw new Error("unsupported typed array type")}function jD(n){if(n===Int8Array)return ad;if(n===Uint8Array||n===Uint8ClampedArray)return mc;if(n===Int16Array)return cd;if(n===Uint16Array)return ld;if(n===Int32Array)return ud;if(n===Uint32Array)return fd;if(n===Float32Array)return Ad;throw new Error("unsupported typed array type")}function WD(n){const t=_w[n];if(!t)throw new Error("unknown gl type");return t}const uf=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function XD(...n){console.error(...n)}function Vw(...n){console.warn(...n)}function ZD(n,t){return typeof WebGLBuffer<"u"&&t instanceof WebGLBuffer}function Yw(n,t){return typeof WebGLRenderbuffer<"u"&&t instanceof WebGLRenderbuffer}function ff(n,t){return typeof WebGLTexture<"u"&&t instanceof WebGLTexture}function $D(n,t){return typeof WebGLSampler<"u"&&t instanceof WebGLSampler}const Jw=35044,wn=34962,e3=34963,t3=34660,n3=5120,i3=5121,r3=5122,s3=5123,o3=5124,a3=5125,c3=5126,qw={attribPrefix:""};function Kw(n,t,e,i,r){n.bindBuffer(t,e),n.bufferData(t,i,r||Jw)}function jw(n,t,e,i){if(ZD(n,t))return t;e=e||wn;const r=n.createBuffer();return Kw(n,e,r,t,i),r}function Ww(n){return n==="indices"}function l3(n){return n instanceof Int8Array||n instanceof Uint8Array}function u3(n){return n===Int8Array||n===Uint8Array}function f3(n){return n.length?n:n.data}const A3=/coord|texture/i,h3=/color|colour/i;function Xw(n,t){let e;if(A3.test(n)?e=2:h3.test(n)?e=4:e=3,t%e>0)throw new Error(`Can not guess numComponents for attribute '${n}'. Tried ${e} but ${t} values is not evenly divisible by ${e}. You should specify it.`);return e}function d3(n,t){return n.numComponents||n.size||Xw(t,f3(n).length)}function dd(n,t){if(uf(n))return n;if(uf(n.data))return n.data;Array.isArray(n)&&(n={data:n});let e=n.type;return e||(Ww(t)?e=Uint16Array:e=Float32Array),new e(n.data)}function g3(n,t){const e={};return Object.keys(t).forEach(function(i){if(!Ww(i)){const r=t[i],s=r.attrib||r.name||r.attribName||qw.attribPrefix+i;if(r.value){if(!Array.isArray(r.value)&&!uf(r.value))throw new Error("array.value is not array or typedarray");e[s]={value:r.value}}else{let o,a,l,c;if(r.buffer&&r.buffer instanceof WebGLBuffer)o=r.buffer,c=r.numComponents||r.size,a=r.type,l=r.normalize;else if(typeof r=="number"||typeof r.data=="number"){const u=r.data||r,f=r.type||Float32Array,h=u*f.BYTES_PER_ELEMENT;a=jD(f),l=r.normalize!==void 0?r.normalize:u3(f),c=r.numComponents||r.size||Xw(i,u),o=n.createBuffer(),n.bindBuffer(wn,o),n.bufferData(wn,h,r.drawType||Jw)}else{const u=dd(r,i);o=jw(n,u,void 0,r.drawType),a=hd(u),l=r.normalize!==void 0?r.normalize:l3(u),c=d3(r,i)}e[s]={buffer:o,numComponents:c,type:a,normalize:l,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),n.bindBuffer(wn,null),e}function p3(n,t,e,i){e=dd(e),i!==void 0?(n.bindBuffer(wn,t.buffer),n.bufferSubData(wn,i,e)):Kw(n,wn,t.buffer,e,t.drawType)}function m3(n,t){return t===n3||t===i3?1:t===r3||t===s3?2:t===o3||t===a3||t===c3?4:0}const gd=["position","positions","a_position"];function w3(n,t){let e,i;for(i=0;i<gd.length&&(e=gd[i],!(e in t||(e=qw.attribPrefix+e,e in t)));++i);i===gd.length&&(e=Object.keys(t)[0]);const r=t[e];if(!r.buffer)return 1;n.bindBuffer(wn,r.buffer);const s=n.getBufferParameter(wn,t3);n.bindBuffer(wn,null);const o=m3(n,r.type),a=s/o,l=r.numComponents||r.size,c=a/l;if(c%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return c}function C3(n,t,e){const i=g3(n,t),r=Object.assign({},e||{});r.attribs=Object.assign({},e?e.attribs:{},i);const s=t.indices;if(s){const o=dd(s,"indices");r.indices=jw(n,o,e3),r.numElements=o.length,r.elementType=hd(o)}else r.numElements||(r.numElements=w3(n,r.attribs));return r}function js(n){return!!n.texStorage2D}const pd=(function(){const n={},t={};function e(i){const r=i.constructor.name;if(!n[r]){for(const s in i)if(typeof i[s]=="number"){const o=t[i[s]];t[i[s]]=o?`${o} | ${s}`:s}n[r]=!0}}return function(r,s){return e(r),t[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}})(),xi={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Ws=uf,Zw=(function(){let n;return function(){return n=n||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),n}})(),$w=6406,Cn=6407,Be=6408,eC=6409,tC=6410,wc=6402,nC=34041,Af=33071,y3=9728,x3=9729,zn=3553,Hn=34067,bi=32879,Ii=35866,hf=34069,b3=34070,I3=34071,E3=34072,B3=34073,v3=34074,md=10241,wd=10240,df=10242,gf=10243,iC=32882,S3=33082,Q3=33083,D3=33084,k3=33085,Cd=3317,rC=3314,sC=32878,oC=3316,aC=3315,cC=32877,F3=37443,R3=37441,N3=37440,M3=33321,T3=36756,P3=33325,L3=33326,O3=33330,U3=33329,G3=33338,z3=33337,H3=33340,_3=33339,V3=33323,Y3=36757,J3=33327,q3=33328,K3=33336,j3=33335,W3=33332,X3=33331,Z3=33334,$3=33333,ek=32849,tk=35905,nk=36194,ik=36758,rk=35898,sk=35901,ok=34843,ak=34837,ck=36221,lk=36239,uk=36215,fk=36233,Ak=36209,hk=36227,dk=32856,gk=35907,pk=36759,mk=32855,wk=32854,Ck=32857,yk=34842,xk=34836,bk=36220,Ik=36238,Ek=36975,Bk=36214,vk=36232,Sk=36226,Qk=36208,Dk=33189,kk=33190,Fk=36012,Rk=36013,Nk=35056,Ei=5120,ve=5121,pf=5122,Xs=5123,mf=5124,Ir=5125,at=5126,lC=32819,uC=32820,fC=33635,en=5131,Cc=36193,yd=33640,Mk=35899,Tk=35902,Pk=36269,Lk=34042,wf=33319,Zs=33320,Cf=6403,$s=36244,eo=36248,Er=36249;let xd;function yf(n){if(!xd){const t={};t[$w]={textureFormat:$w,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[ve,en,Cc,at]},t[eC]={textureFormat:eC,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[ve,en,Cc,at]},t[tC]={textureFormat:tC,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[ve,en,Cc,at]},t[Cn]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[ve,en,Cc,at,fC]},t[Be]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[ve,en,Cc,at,lC,uC]},t[wc]={textureFormat:wc,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ir,Xs]},t[M3]={textureFormat:Cf,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[ve]},t[T3]={textureFormat:Cf,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Ei]},t[P3]={textureFormat:Cf,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[at,en]},t[L3]={textureFormat:Cf,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[at]},t[O3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[ve]},t[U3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ei]},t[W3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Xs]},t[X3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[pf]},t[Z3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ir]},t[$3]={textureFormat:$s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[mf]},t[V3]={textureFormat:wf,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[ve]},t[Y3]={textureFormat:wf,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Ei]},t[J3]={textureFormat:wf,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[at,en]},t[q3]={textureFormat:wf,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[at]},t[K3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[ve]},t[j3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ei]},t[G3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xs]},t[z3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[pf]},t[H3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ir]},t[_3]={textureFormat:Zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[mf]},t[ek]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[ve]},t[tk]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[ve]},t[nk]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[ve,fC]},t[ik]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ei]},t[rk]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[at,en,Mk]},t[sk]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[at,en,Tk]},t[ok]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[at,en]},t[ak]={textureFormat:Cn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[at]},t[ck]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[ve]},t[lk]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ei]},t[uk]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Xs]},t[fk]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[pf]},t[Ak]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ir]},t[hk]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[mf]},t[dk]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ve]},t[gk]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ve]},t[pk]={textureFormat:Be,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Ei]},t[mk]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[ve,uC,yd]},t[wk]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[ve,lC]},t[Ck]={textureFormat:Be,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[yd]},t[yk]={textureFormat:Be,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[at,en]},t[xk]={textureFormat:Be,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[at]},t[bk]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ve]},t[Ik]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ei]},t[Ek]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yd]},t[Bk]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Xs]},t[vk]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[pf]},t[Sk]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[mf]},t[Qk]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ir]},t[Dk]={textureFormat:wc,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Xs,Ir]},t[kk]={textureFormat:wc,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ir]},t[Fk]={textureFormat:wc,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[at]},t[Nk]={textureFormat:nC,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Lk]},t[Rk]={textureFormat:nC,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pk]},Object.keys(t).forEach(function(e){const i=t[e];i.bytesPerElementMap={},i.bytesPerElement.forEach(function(r,s){const o=i.type[s];i.bytesPerElementMap[o]=r})}),xd=t}return xd[n]}function Ok(n,t){const e=yf(n);if(!e)throw"unknown internal format";const i=e.bytesPerElementMap[t];if(i===void 0)throw"unknown internal format";return i}function to(n){const t=yf(n);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function AC(n){return(n&n-1)===0}function Uk(n,t,e,i){if(!js(n))return AC(t)&&AC(e);const r=yf(i);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function Gk(n){const t=yf(n);if(!t)throw"unknown internal format";return t.textureFilterable}function hC(n,t,e){return Ws(t)?hd(t):e||ve}function xf(n,t,e,i,r){if(r%1!==0)throw"can't guess dimensions";if(!e&&!i){const s=Math.sqrt(r/(t===Hn?6:1));s%1===0?(e=s,i=s):(e=r,i=1)}else if(i){if(!e&&(e=r/i,e%1))throw"can't guess dimensions"}else if(i=r/e,i%1)throw"can't guess dimensions";return{width:e,height:i}}function no(n,t){t.colorspaceConversion!==void 0&&n.pixelStorei(F3,t.colorspaceConversion),t.premultiplyAlpha!==void 0&&n.pixelStorei(R3,t.premultiplyAlpha),t.flipY!==void 0&&n.pixelStorei(N3,t.flipY)}function dC(n){n.pixelStorei(Cd,4),js(n)&&(n.pixelStorei(rC,0),n.pixelStorei(sC,0),n.pixelStorei(oC,0),n.pixelStorei(aC,0),n.pixelStorei(cC,0))}function zk(n,t,e,i){i.minMag&&(e.call(n,t,md,i.minMag),e.call(n,t,wd,i.minMag)),i.min&&e.call(n,t,md,i.min),i.mag&&e.call(n,t,wd,i.mag),i.wrap&&(e.call(n,t,df,i.wrap),e.call(n,t,gf,i.wrap),(t===bi||$D(n,t))&&e.call(n,t,iC,i.wrap)),i.wrapR&&e.call(n,t,iC,i.wrapR),i.wrapS&&e.call(n,t,df,i.wrapS),i.wrapT&&e.call(n,t,gf,i.wrapT),i.minLod&&e.call(n,t,S3,i.minLod),i.maxLod&&e.call(n,t,Q3,i.maxLod),i.baseLevel&&e.call(n,t,D3,i.baseLevel),i.maxLevel&&e.call(n,t,k3,i.maxLevel)}function gC(n,t,e){const i=e.target||zn;n.bindTexture(i,t),zk(n,i,n.texParameteri,e)}function Hk(n){return n=n||xi.textureColor,Ws(n)?n:new Uint8Array([n[0]*255,n[1]*255,n[2]*255,n[3]*255])}function bd(n,t,e,i,r,s){e=e||xi.textureOptions,s=s||Be;const o=e.target||zn;if(i=i||e.width,r=r||e.height,n.bindTexture(o,t),Uk(n,i,r,s))n.generateMipmap(o);else{const a=Gk(s)?x3:y3;n.texParameteri(o,md,a),n.texParameteri(o,wd,a),n.texParameteri(o,df,Af),n.texParameteri(o,gf,Af)}}function yc(n){return n.auto===!0||n.auto===void 0&&n.level===void 0}function Id(n,t){return t=t||{},t.cubeFaceOrder||[hf,b3,I3,E3,B3,v3]}function Ed(n,t){const i=Id(n,t).map(function(r,s){return{face:r,ndx:s}});return i.sort(function(r,s){return r.face-s.face}),i}function pC(n,t,e,i){i=i||xi.textureOptions;const r=i.target||zn,s=i.level||0;let o=e.width,a=e.height;const l=i.internalFormat||i.format||Be,c=to(l),u=i.format||c.format,f=i.type||c.type;if(no(n,i),n.bindTexture(r,t),r===Hn){const h=e.width,A=e.height;let d,p;if(h/6===A)d=A,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===h)d=h,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===A/2)d=h/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===A/3)d=h/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(e.src?e.src:e.nodeName);const w=Zw();w?(w.canvas.width=d,w.canvas.height=d,o=d,a=d,Ed(n,i).forEach(function(m){const y=p[m.ndx*2+0]*d,x=p[m.ndx*2+1]*d;w.drawImage(e,y,x,d,d,0,0,d,d),n.texImage2D(m.face,s,l,u,f,w.canvas)}),w.canvas.width=1,w.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,Ed(n,i).forEach(function(m){const y=p[m.ndx*2+0]*d,x=p[m.ndx*2+1]*d;n.texImage2D(m.face,s,l,d,d,0,u,f,null),createImageBitmap(e,y,x,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(C){no(n,i),n.bindTexture(r,t),n.texImage2D(m.face,s,l,u,f,C),yc(i)&&bd(n,t,i,o,a,l)})}))}else if(r===bi||r===Ii){const h=Math.min(e.width,e.height),A=Math.max(e.width,e.height),d=A/h;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=e.width===A?1:0,w=e.height===A?1:0;n.pixelStorei(Cd,1),n.pixelStorei(rC,e.width),n.pixelStorei(sC,0),n.pixelStorei(cC,0),n.texImage3D(r,s,l,h,h,h,0,u,f,null);for(let m=0;m<d;++m){const y=m*h*p,x=m*h*w;n.pixelStorei(oC,y),n.pixelStorei(aC,x),n.texSubImage3D(r,s,0,0,m,h,h,1,u,f,e)}dC(n)}else n.texImage2D(r,s,l,u,f,e);yc(i)&&bd(n,t,i,o,a,l),gC(n,t,i)}function xc(){}function _k(n){if(typeof document<"u"){const t=document.createElement("a");return t.href=n,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(n,location.href).origin===t}}function Vk(n,t){return t===void 0&&!_k(n)?"anonymous":t}function Yk(n,t,e){e=e||xc;let i;if(t=t!==void 0?t:xi.crossOrigin,t=Vk(n,t),typeof Image<"u"){i=new Image,t!==void 0&&(i.crossOrigin=t);const r=function(){i.removeEventListener("error",s),i.removeEventListener("load",o),i=null},s=function(){const l="couldn't load image: "+n;XD(l),e(l,i),r()},o=function(){e(null,i),r()};return i.addEventListener("error",s),i.addEventListener("load",o),i.src=n,i}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){e(r,s)},a={};t&&(a.mode="cors"),fetch(n,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),i=null}return i}function mC(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof ImageData<"u"&&n instanceof ImageData||typeof HTMLElement<"u"&&n instanceof HTMLElement}function Bd(n,t,e){return mC(n)?(setTimeout(function(){e(null,n)}),n):Yk(n,t,e)}function vd(n,t,e){e=e||xi.textureOptions;const i=e.target||zn;if(n.bindTexture(i,t),e.color===!1)return;const r=Hk(e.color);if(i===Hn)for(let s=0;s<6;++s)n.texImage2D(hf+s,0,Be,1,1,0,Be,ve,r);else i===bi||i===Ii?n.texImage3D(i,0,Be,1,1,1,0,Be,ve,r):n.texImage2D(i,0,Be,1,1,0,Be,ve,r)}function Jk(n,t,e,i){return i=i||xc,e=e||xi.textureOptions,vd(n,t,e),e=Object.assign({},e),Bd(e.src,e.crossOrigin,function(s,o){s?i(s,t,o):(pC(n,t,o,e),i(null,t,o))})}function qk(n,t,e,i){i=i||xc;const r=e.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=e.level||0,o=e.internalFormat||e.format||Be,a=to(o),l=e.format||a.format,c=e.type||ve,u=e.target||zn;if(u!==Hn)throw"target must be TEXTURE_CUBE_MAP";vd(n,t,e),e=Object.assign({},e);let f=6;const h=[],A=Id(n,e);let d;function p(w){return function(m,y){--f,m?h.push(m):y.width!==y.height?h.push("cubemap face img is not a square: "+y.src):(no(n,e),n.bindTexture(u,t),f===5?Id().forEach(function(x){n.texImage2D(x,s,o,l,c,y)}):n.texImage2D(w,s,o,l,c,y),yc(e)&&n.generateMipmap(u)),f===0&&i(h.length?h:void 0,t,d)}}d=r.map(function(w,m){return Bd(w,e.crossOrigin,p(A[m]))})}function Kk(n,t,e,i){i=i||xc;const r=e.src,s=e.internalFormat||e.format||Be,o=to(s),a=e.format||o.format,l=e.type||ve,c=e.target||Ii;if(c!==bi&&c!==Ii)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";vd(n,t,e),e=Object.assign({},e);let u=r.length;const f=[];let h;const A=e.level||0;let d=e.width,p=e.height;const w=r.length;let m=!0;function y(x){return function(C,E){if(--u,C)f.push(C);else{if(no(n,e),n.bindTexture(c,t),m){m=!1,d=e.width||E.width,p=e.height||E.height,n.texImage3D(c,A,s,d,p,w,0,a,l,null);for(let B=0;B<w;++B)n.texSubImage3D(c,A,0,0,B,d,p,1,a,l,E)}else{let B=E,b;(E.width!==d||E.height!==p)&&(b=Zw(),B=b.canvas,b.canvas.width=d,b.canvas.height=p,b.drawImage(E,0,0,d,p)),n.texSubImage3D(c,A,0,0,x,d,p,1,a,l,B),b&&B===b.canvas&&(b.canvas.width=0,b.canvas.height=0)}yc(e)&&n.generateMipmap(c)}u===0&&i(f.length?f:void 0,t,h)}}h=r.map(function(x,C){return Bd(x,e.crossOrigin,y(C))})}function wC(n,t,e,i){i=i||xi.textureOptions;const r=i.target||zn;n.bindTexture(r,t);let s=i.width,o=i.height,a=i.depth;const l=i.level||0,c=i.internalFormat||i.format||Be,u=to(c),f=i.format||u.format,h=i.type||hC(n,e,u.type);if(Ws(e))e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));else{const w=WD(h);e=new w(e)}const A=Ok(c,h),d=e.byteLength/A;if(d%1)throw"length wrong size for format: "+pd(n,f);let p;if(r===bi||r===Ii)if(!s&&!o&&!a){const w=Math.cbrt(d);if(w%1!==0)throw"can't guess cube size of array of numElements: "+d;s=w,o=w,a=w}else s&&(!o||!a)?(p=xf(n,r,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=xf(n,r,s,a,d/o),s=p.width,a=p.height):(p=xf(n,r,s,o,d/a),s=p.width,o=p.height);else p=xf(n,r,s,o,d),s=p.width,o=p.height;if(dC(n),n.pixelStorei(Cd,i.unpackAlignment||1),no(n,i),r===Hn){const w=A/e.BYTES_PER_ELEMENT,m=d/6*w;Ed(n,i).forEach(y=>{const x=m*y.ndx,C=e.subarray(x,x+m);n.texImage2D(y.face,l,c,s,o,0,f,h,C)})}else r===bi||r===Ii?n.texImage3D(r,l,c,s,o,a,0,f,h,e):n.texImage2D(r,l,c,s,o,0,f,h,e);return{width:s,height:o,depth:a,type:h}}function jk(n,t,e){const i=e.target||zn;n.bindTexture(i,t);const r=e.level||0,s=e.internalFormat||e.format||Be,o=to(s),a=e.format||o.format,l=e.type||o.type;if(no(n,e),i===Hn)for(let c=0;c<6;++c)n.texImage2D(hf+c,r,s,e.width,e.height,0,a,l,null);else i===bi||i===Ii?n.texImage3D(i,r,s,e.width,e.height,e.depth,0,a,l,null):n.texImage2D(i,r,s,e.width,e.height,0,a,l,null)}function bc(n,t,e){e=e||xc,t=t||xi.textureOptions;const i=n.createTexture(),r=t.target||zn;let s=t.width||1,o=t.height||1;const a=t.internalFormat||Be;n.bindTexture(r,i),r===Hn&&(n.texParameteri(r,df,Af),n.texParameteri(r,gf,Af));let l=t.src;if(l)if(typeof l=="function"&&(l=l(n,t)),typeof l=="string")Jk(n,i,t,e);else if(Ws(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||Ws(l[0]))){const c=wC(n,i,l,t);s=c.width,o=c.height}else Array.isArray(l)&&(typeof l[0]=="string"||mC(l[0]))?r===Hn?qk(n,i,t,e):Kk(n,i,t,e):(pC(n,i,l,t),s=l.width,o=l.height);else jk(n,i,t);return yc(t)&&bd(n,i,t,s,o,a),gC(n,i,t),i}function Wk(n,t,e,i,r,s){i=i||e.width,r=r||e.height,s=s||e.depth;const o=e.target||zn;n.bindTexture(o,t);const a=e.level||0,l=e.internalFormat||e.format||Be,c=to(l),u=e.format||c.format;let f;const h=e.src;if(h&&(Ws(h)||Array.isArray(h)&&typeof h[0]=="number")?f=e.type||hC(n,h,c.type):f=e.type||c.type,o===Hn)for(let A=0;A<6;++A)n.texImage2D(hf+A,a,l,i,r,0,u,f,null);else o===bi||o===Ii?n.texImage3D(o,a,l,i,r,s,0,u,f,null):n.texImage2D(o,a,l,i,r,0,u,f,null)}const Xk=Vw,bf=33984,Zk=35048,If=34962,$k=34963,Sd=35345,CC=35718,eF=35721,tF=35971,nF=35382,iF=35396,rF=35398,sF=35392,oF=35395,Ef=5126,yC=35664,xC=35665,bC=35666,Qd=5124,IC=35667,EC=35668,BC=35669,vC=35670,SC=35671,QC=35672,DC=35673,kC=35674,FC=35675,RC=35676,aF=35678,cF=35680,lF=35679,uF=35682,fF=35685,AF=35686,hF=35687,dF=35688,gF=35689,pF=35690,mF=36289,wF=36292,CF=36293,Dd=5125,NC=36294,MC=36295,TC=36296,yF=36298,xF=36299,bF=36300,IF=36303,EF=36306,BF=36307,vF=36308,SF=36311,Bf=3553,vf=34067,kd=32879,Sf=35866,$={};function PC(n,t){return $[t].bindPoint}function QF(n,t){return function(e){n.uniform1f(t,e)}}function DF(n,t){return function(e){n.uniform1fv(t,e)}}function kF(n,t){return function(e){n.uniform2fv(t,e)}}function FF(n,t){return function(e){n.uniform3fv(t,e)}}function RF(n,t){return function(e){n.uniform4fv(t,e)}}function LC(n,t){return function(e){n.uniform1i(t,e)}}function OC(n,t){return function(e){n.uniform1iv(t,e)}}function UC(n,t){return function(e){n.uniform2iv(t,e)}}function GC(n,t){return function(e){n.uniform3iv(t,e)}}function zC(n,t){return function(e){n.uniform4iv(t,e)}}function NF(n,t){return function(e){n.uniform1ui(t,e)}}function MF(n,t){return function(e){n.uniform1uiv(t,e)}}function TF(n,t){return function(e){n.uniform2uiv(t,e)}}function PF(n,t){return function(e){n.uniform3uiv(t,e)}}function LF(n,t){return function(e){n.uniform4uiv(t,e)}}function OF(n,t){return function(e){n.uniformMatrix2fv(t,!1,e)}}function UF(n,t){return function(e){n.uniformMatrix3fv(t,!1,e)}}function GF(n,t){return function(e){n.uniformMatrix4fv(t,!1,e)}}function zF(n,t){return function(e){n.uniformMatrix2x3fv(t,!1,e)}}function HF(n,t){return function(e){n.uniformMatrix3x2fv(t,!1,e)}}function _F(n,t){return function(e){n.uniformMatrix2x4fv(t,!1,e)}}function VF(n,t){return function(e){n.uniformMatrix4x2fv(t,!1,e)}}function YF(n,t){return function(e){n.uniformMatrix3x4fv(t,!1,e)}}function JF(n,t){return function(e){n.uniformMatrix4x3fv(t,!1,e)}}function pt(n,t,e,i){const r=PC(n,t);return js(n)?function(s){let o,a;ff(n,s)?(o=s,a=null):(o=s.texture,a=s.sampler),n.uniform1i(i,e),n.activeTexture(bf+e),n.bindTexture(r,o),n.bindSampler(e,a)}:function(s){n.uniform1i(i,e),n.activeTexture(bf+e),n.bindTexture(r,s)}}function mt(n,t,e,i,r){const s=PC(n,t),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=e+a;return js(n)?function(a){n.uniform1iv(i,o),a.forEach(function(l,c){n.activeTexture(bf+o[c]);let u,f;ff(n,l)?(u=l,f=null):(u=l.texture,f=l.sampler),n.bindSampler(e,f),n.bindTexture(s,u)})}:function(a){n.uniform1iv(i,o),a.forEach(function(l,c){n.activeTexture(bf+o[c]),n.bindTexture(s,l)})}}$[Ef]={Type:Float32Array,size:4,setter:QF,arraySetter:DF},$[yC]={Type:Float32Array,size:8,setter:kF,cols:2},$[xC]={Type:Float32Array,size:12,setter:FF,cols:3},$[bC]={Type:Float32Array,size:16,setter:RF,cols:4},$[Qd]={Type:Int32Array,size:4,setter:LC,arraySetter:OC},$[IC]={Type:Int32Array,size:8,setter:UC,cols:2},$[EC]={Type:Int32Array,size:12,setter:GC,cols:3},$[BC]={Type:Int32Array,size:16,setter:zC,cols:4},$[Dd]={Type:Uint32Array,size:4,setter:NF,arraySetter:MF},$[NC]={Type:Uint32Array,size:8,setter:TF,cols:2},$[MC]={Type:Uint32Array,size:12,setter:PF,cols:3},$[TC]={Type:Uint32Array,size:16,setter:LF,cols:4},$[vC]={Type:Uint32Array,size:4,setter:LC,arraySetter:OC},$[SC]={Type:Uint32Array,size:8,setter:UC,cols:2},$[QC]={Type:Uint32Array,size:12,setter:GC,cols:3},$[DC]={Type:Uint32Array,size:16,setter:zC,cols:4},$[kC]={Type:Float32Array,size:32,setter:OF,rows:2,cols:2},$[FC]={Type:Float32Array,size:48,setter:UF,rows:3,cols:3},$[RC]={Type:Float32Array,size:64,setter:GF,rows:4,cols:4},$[fF]={Type:Float32Array,size:32,setter:zF,rows:2,cols:3},$[AF]={Type:Float32Array,size:32,setter:_F,rows:2,cols:4},$[hF]={Type:Float32Array,size:48,setter:HF,rows:3,cols:2},$[dF]={Type:Float32Array,size:48,setter:YF,rows:3,cols:4},$[gF]={Type:Float32Array,size:64,setter:VF,rows:4,cols:2},$[pF]={Type:Float32Array,size:64,setter:JF,rows:4,cols:3},$[aF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Bf},$[cF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:vf},$[lF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:kd},$[uF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Bf},$[mF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Sf},$[wF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Sf},$[CF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:vf},$[yF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Bf},$[xF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:kd},$[bF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:vf},$[IF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Sf},$[EF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Bf},$[BF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:kd},$[vF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:vf},$[SF]={Type:null,size:0,setter:pt,arraySetter:mt,bindPoint:Sf};function Qf(n,t){return function(e){if(e.value)switch(n.disableVertexAttribArray(t),e.value.length){case 4:n.vertexAttrib4fv(t,e.value);break;case 3:n.vertexAttrib3fv(t,e.value);break;case 2:n.vertexAttrib2fv(t,e.value);break;case 1:n.vertexAttrib1fv(t,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else n.bindBuffer(If,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribPointer(t,e.numComponents||e.size,e.type||Ef,e.normalize||!1,e.stride||0,e.offset||0),e.divisor!==void 0&&n.vertexAttribDivisor(t,e.divisor)}}function Bi(n,t){return function(e){if(e.value)if(n.disableVertexAttribArray(t),e.value.length===4)n.vertexAttrib4iv(t,e.value);else throw new Error("The length of an integer constant value must be 4!");else n.bindBuffer(If,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribIPointer(t,e.numComponents||e.size,e.type||Qd,e.stride||0,e.offset||0),e.divisor!==void 0&&n.vertexAttribDivisor(t,e.divisor)}}function Df(n,t){return function(e){if(e.value)if(n.disableVertexAttribArray(t),e.value.length===4)n.vertexAttrib4uiv(t,e.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else n.bindBuffer(If,e.buffer),n.enableVertexAttribArray(t),n.vertexAttribIPointer(t,e.numComponents||e.size,e.type||Dd,e.stride||0,e.offset||0),e.divisor!==void 0&&n.vertexAttribDivisor(t,e.divisor)}}function Fd(n,t,e){const i=e.size,r=e.count;return function(s){n.bindBuffer(If,s.buffer);const o=s.size||s.numComponents||i,a=o/r,l=s.type||Ef,u=$[l].size*o,f=s.normalize||!1,h=s.offset||0,A=u/r;for(let d=0;d<r;++d)n.enableVertexAttribArray(t+d),n.vertexAttribPointer(t+d,a,l,f,u,h+A*d),s.divisor!==void 0&&n.vertexAttribDivisor(t+d,s.divisor)}}const Ue={};Ue[Ef]={size:4,setter:Qf},Ue[yC]={size:8,setter:Qf},Ue[xC]={size:12,setter:Qf},Ue[bC]={size:16,setter:Qf},Ue[Qd]={size:4,setter:Bi},Ue[IC]={size:8,setter:Bi},Ue[EC]={size:12,setter:Bi},Ue[BC]={size:16,setter:Bi},Ue[Dd]={size:4,setter:Df},Ue[NC]={size:8,setter:Df},Ue[MC]={size:12,setter:Df},Ue[TC]={size:16,setter:Df},Ue[vC]={size:4,setter:Bi},Ue[SC]={size:8,setter:Bi},Ue[QC]={size:12,setter:Bi},Ue[DC]={size:16,setter:Bi},Ue[kC]={size:4,setter:Fd,count:2},Ue[FC]={size:9,setter:Fd,count:3},Ue[RC]={size:16,setter:Fd,count:4};function HC(n){const t=n.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const qF=/(\.|\[|]|\w+)/g,KF=n=>n>="0"&&n<="9";function _C(n,t,e,i){const r=n.split(qF).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=KF(a[0]),c=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){e[c]=t;break}else{const f=r[s++],h=f==="[",A=e[c]||(h?[]:{});e[c]=A,e=A,i[o]=i[o]||(function(d){return function(p){KC(d,p)}})(A),o+=f}}}function jF(n,t){let e=0;function i(a,l,c){const u=l.name.endsWith("[0]"),f=l.type,h=$[f];if(!h)throw new Error(`unknown type: 0x${f.toString(16)}`);let A;if(h.bindPoint){const d=e;e+=l.size,u?A=h.arraySetter(n,f,d,c,l.size):A=h.setter(n,f,d,c,l.size)}else h.arraySetter&&u?A=h.arraySetter(n,c):A=h.setter(n,c);return A.location=c,A}const r={},s={},o=n.getProgramParameter(t,CC);for(let a=0;a<o;++a){const l=n.getActiveUniform(t,a);if(HC(l))continue;let c=l.name;c.endsWith("[0]")&&(c=c.substr(0,c.length-3));const u=n.getUniformLocation(t,l.name);if(u){const f=i(t,l,u);r[c]=f,_C(c,f,s,r)}}return r}function WF(n,t){const e={},i=n.getProgramParameter(t,tF);for(let r=0;r<i;++r){const s=n.getTransformFeedbackVarying(t,r);e[s.name]={index:r,type:s.type,size:s.size}}return e}function XF(n,t){const e=n.getProgramParameter(t,CC),i=[],r=[];for(let a=0;a<e;++a){r.push(a),i.push({});const l=n.getActiveUniform(t,a);i[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],c=a[1];n.getActiveUniforms(t,r,n[l]).forEach(function(u,f){i[f][c]=u})});const s={},o=n.getProgramParameter(t,nF);for(let a=0;a<o;++a){const l=n.getActiveUniformBlockName(t,a),c={index:n.getUniformBlockIndex(t,l),usedByVertexShader:n.getActiveUniformBlockParameter(t,a,iF),usedByFragmentShader:n.getActiveUniformBlockParameter(t,a,rF),size:n.getActiveUniformBlockParameter(t,a,sF),uniformIndices:n.getActiveUniformBlockParameter(t,a,oF)};c.used=c.usedByVertexShader||c.usedByFragmentShader,s[l]=c}return{blockSpecs:s,uniformData:i}}const VC=/\[\d+\]\.$/,ZF=(n,t)=>((n+(t-1))/t|0)*t;function $F(n,t,e,i){if(t||e){i=i||1;const s=n.length/4;return function(o){let a=0,l=0;for(let c=0;c<s;++c){for(let u=0;u<i;++u)n[a++]=o[l++];a+=4-i}}}else return function(r){r.length?n.set(r):n[0]=r}}function e4(n,t,e,i){const r=e.blockSpecs,s=e.uniformData,o=r[i];if(!o)return Xk("no uniform block object named:",i),{name:i,uniforms:{}};const a=new ArrayBuffer(o.size),l=n.createBuffer(),c=o.index;n.bindBuffer(Sd,l),n.uniformBlockBinding(t,o.index,c);let u=i+".";VC.test(u)&&(u=u.replace(VC,"."));const f={},h={},A={};return o.uniformIndices.forEach(function(d){const p=s[d];let w=p.name;w.startsWith(u)&&(w=w.substr(u.length));const m=w.endsWith("[0]");m&&(w=w.substr(0,w.length-3));const y=$[p.type],x=y.Type,C=m?ZF(y.size,16)*p.size:y.size*p.size,E=new x(a,p.offset,C/x.BYTES_PER_ELEMENT);f[w]=E;const B=$F(E,m,y.rows,y.cols);h[w]=B,_C(w,B,A,h)}),{name:i,array:a,asFloat:new Float32Array(a),buffer:l,uniforms:f,setters:h}}function YC(n,t,e){return e4(n,t.program,t.uniformBlockSpec,e)}function JC(n,t,e){const r=(t.uniformBlockSpec||t).blockSpecs[e.name];if(r){const s=r.index;return n.bindBufferRange(Sd,s,e.buffer,e.offset||0,e.array.byteLength),!0}return!1}function qC(n,t,e){JC(n,t,e)&&n.bufferData(Sd,e.array,Zk)}function Ic(n,t){const e=n.setters;for(const i in t){const r=e[i];if(r){const s=t[i];r(s)}}}function KC(n,t){for(const e in t){const i=n[e];typeof i=="function"?i(t[e]):KC(n[e],t[e])}}function Br(n,...t){const e=n.uniformSetters||n,i=t.length;for(let r=0;r<i;++r){const s=t[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)Br(e,s[a])}else for(const o in s){const a=e[o];a&&a(s[o])}}}function t4(n,t){const e={},i=n.getProgramParameter(t,eF);for(let r=0;r<i;++r){const s=n.getActiveAttrib(t,r);if(HC(s))continue;const o=n.getAttribLocation(t,s.name),a=Ue[s.type],l=a.setter(n,o,a);l.location=o,e[s.name]=l}return e}function n4(n,t){for(const e in t){const i=n[e];i&&i(t[e])}}function vr(n,t,e){e.vertexArrayObject?n.bindVertexArray(e.vertexArrayObject):(n4(t.attribSetters||t,e.attribs),e.indices&&n.bindBuffer($k,e.indices))}function i4(n,t){const e=jF(n,t),i=t4(n,t),r={program:t,uniformSetters:e,attribSetters:i};return js(n)&&(r.uniformBlockSpec=XF(n,t),r.transformFeedbackInfo=WF(n,t)),r}const r4=4,jC=5123;function kf(n,t,e,i,r,s){e=e===void 0?r4:e;const o=t.indices,a=t.elementType,l=i===void 0?t.numElements:i;r=r===void 0?0:r,a||o?s!==void 0?n.drawElementsInstanced(e,l,a===void 0?jC:t.elementType,r,s):n.drawElements(e,l,a===void 0?jC:t.elementType,r):s!==void 0?n.drawArraysInstanced(e,r,l,s):n.drawArrays(e,r,l)}const s4=36160,Sr=36161,o4=3553,a4=5121,c4=6402,l4=6408,u4=33190,f4=36012,A4=35056,h4=36013,d4=32854,g4=32855,p4=36194,WC=33189,XC=6401,ZC=36168,Rd=34041,Nd=36064,Ff=36096,$C=36128,Md=33306,Td=33071,Pd=9729,ey=[{format:l4,type:a4,min:Pd,wrap:Td},{format:Rd}],tn={};tn[Rd]=Md,tn[XC]=$C,tn[ZC]=$C,tn[c4]=Ff,tn[WC]=Ff,tn[u4]=Ff,tn[f4]=Ff,tn[A4]=Md,tn[h4]=Md;function m4(n,t){return tn[n]||tn[t]}const vi={};vi[d4]=!0,vi[g4]=!0,vi[p4]=!0,vi[Rd]=!0,vi[WC]=!0,vi[XC]=!0,vi[ZC]=!0;function w4(n){return vi[n]}const C4=32;function y4(n){return n>=Nd&&n<Nd+C4}function ty(n,t,e,i){const r=s4,s=n.createFramebuffer();n.bindFramebuffer(r,s),e=e||n.drawingBufferWidth,i=i||n.drawingBufferHeight,t=t||ey;const o=[],a={framebuffer:s,attachments:[],width:e,height:i};return t.forEach(function(l,c){let u=l.attachment;const f=l.samples,h=l.format;let A=l.attachmentPoint||m4(h,l.internalFormat);if(A||(A=Nd+c),y4(A)&&o.push(A),!u)if(f!==void 0||w4(h))u=n.createRenderbuffer(),n.bindRenderbuffer(Sr,u),f>1?n.renderbufferStorageMultisample(Sr,f,h,e,i):n.renderbufferStorage(Sr,h,e,i);else{const d=Object.assign({},l);d.width=e,d.height=i,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||Pd,d.mag=d.mag||d.minMag||Pd,d.wrapS=d.wrapS||d.wrap||Td,d.wrapT=d.wrapT||d.wrap||Td),u=bc(n,d)}if(Yw(n,u))n.framebufferRenderbuffer(r,A,Sr,u);else if(ff(n,u))l.layer!==void 0?n.framebufferTextureLayer(r,A,u,l.level||0,l.layer):n.framebufferTexture2D(r,A,l.target||o4,u,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(u)}),n.drawBuffers&&n.drawBuffers(o),a}function x4(n,t,e,i,r){i=i||n.drawingBufferWidth,r=r||n.drawingBufferHeight,t.width=i,t.height=r,e=e||ey,e.forEach(function(s,o){const a=t.attachments[o],l=s.format,c=s.samples;if(c!==void 0||Yw(n,a))n.bindRenderbuffer(Sr,a),c>1?n.renderbufferStorageMultisample(Sr,c,l,i,r):n.renderbufferStorage(Sr,l,i,r);else if(ff(n,a))Wk(n,a,s,i,r);else throw new Error("unknown attachment type")})}function b4(n,t,e){const i=n.createVertexArray();return n.bindVertexArray(i),t.length||(t=[t]),t.forEach(function(r){vr(n,r,e)}),n.bindVertexArray(null),{numElements:e.numElements,elementType:e.elementType,vertexArrayObject:i}}const I4=/^(.*?)_/;function E4(n,t){pd(n,0);const e=n.getExtension(t);if(e){const i={},r=I4.exec(t)[1],s="_"+r;for(const o in e){const a=e[o],l=typeof a=="function",c=l?r:s;let u=o;o.endsWith(c)&&(u=o.substring(0,o.length-c.length)),n[u]!==void 0?!l&&n[u]!==a&&Vw(u,n[u],a,o):l?n[u]=(function(f){return function(){return f.apply(e,arguments)}})(a):(n[u]=a,i[u]=a)}i.constructor={name:e.constructor.name},pd(i,0)}return e}const ny=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function iy(n){for(let t=0;t<ny.length;++t)E4(n,ny[t])}function B4(n,t){const e=["webgl2","webgl","experimental-webgl"];let i=null;for(let r=0;r<e.length;++r)if(i=n.getContext(e[r],t),i){iy(i);break}return i}function v4(n,t){return B4(n,t)}const S4=`flat out lowp vec4 vFillColor;
flat out lowp vec4 vStrokeColor;
flat out float vHalfStrokeWidth;
flat out vec4 vCornerRadii;

#if defined(ROUNDED_CORNERS) || defined(STROKED) || defined(SHADOW)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
flat out vec2 vHalfSizeInPixels;

/**
 * Adjusts the vertex position to ensure that the rectangle is at least \`minSpan\`
 * wide or high. Returns a value that reflects the amount of clamping and can be
 * used to adjust the opacity of the rectangle.
 *
 * pos: vertex position
 * frac: vertex position within the rectangle, [0, 1]
 * size: width or height of the rectangle
 * minSize: minimum width or height of the rectangle
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && size < minSize) {
        pos += (frac - 0.5) * (minSize - size);
        return size / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
vec2 getVertexPos() {
    int index = gl_VertexID % 6;
    return vec2(
        index == 0 || index == 1 || index == 3 ? 0.0 : 1.0,
        index == 0 || index == 1 || index == 2 ? 0.0 : 1.0
    );
    
}

void main(void) {
    vec2 frac = getVertexPos();

    vec2 normalizedMinSize = vec2(uMinWidth, uMinHeight) / uViewportSize;
    vec4 cornerRadii = vec4(
        uCornerRadiusTopRight,
        uCornerRadiusBottomRight,
        uCornerRadiusTopLeft,
        uCornerRadiusBottomLeft
    );

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    size = max(size, normalizedMinSize);

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED) || defined(SHADOW)
    // Add an extra pixel to the stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;

    // TODO: Only expand to the offset direction. Now high offsets result in
    // a large expansion in all directions.
    float shadowPadding = uShadowBlur + max(abs(uShadowOffsetX), abs(uShadowOffsetY));

    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding + shadowPadding * 2.0) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(cornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,Q4=`#if defined(ROUNDED_CORNERS) || defined(STROKED) || defined(SHADOW)
in vec2 vPosInPixels;
#endif

flat in vec2 vHalfSizeInPixels;

flat in lowp vec4 vFillColor;
flat in lowp vec4 vStrokeColor;
flat in float vHalfStrokeWidth;
flat in vec4 vCornerRadii;

out lowp vec4 fragColor;

// ----------------------------------------------------------------------------
// Shadow source: https://madebyevan.com/shaders/fast-rounded-rectangle-shadows/
// License: CC0 (http://creativecommons.org/publicdomain/zero/1.0/)

#ifdef SHADOW

// A standard gaussian function, used for weighting samples
float gaussian(float x, float sigma) {
  const float pi = 3.141592653589793;
  return exp(-(x * x) / (2.0 * sigma * sigma)) / (sqrt(2.0 * pi) * sigma);
}

// This approximates the error function, needed for the gaussian integral
vec2 erf(vec2 x) {
  vec2 s = sign(x), a = abs(x);
  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;
  x *= x;
  return s - s / (x * x);
}

// Return the blurred mask along the x dimension
float roundedBoxShadowX(float x, float y, float sigma, float corner, vec2 halfSize) {
  float delta = min(halfSize.y - corner - abs(y), 0.0);
  float curved = halfSize.x - corner + sqrt(max(0.0, corner * corner - delta * delta));
  vec2 integral = 0.5 + 0.5 * erf((x + vec2(-curved, curved)) * (sqrt(0.5) / sigma));
  return integral.y - integral.x;
}

// Return the mask for the shadow of a box from lower to upper
float roundedBoxShadow(vec2 lower, vec2 upper, vec2 point, float sigma, float corner) {
  // Center everything to make the math easier
  vec2 center = (lower + upper) * 0.5;
  vec2 halfSize = (upper - lower) * 0.5;
  point -= center;

  // The signal is only non-zero in a limited range, so don't waste samples
  float low = point.y - halfSize.y;
  float high = point.y + halfSize.y;
  float start = clamp(-3.0 * sigma, low, high);
  float end = clamp(3.0 * sigma, low, high);

  // Accumulate samples (we can get away with surprisingly few samples)
  float step = (end - start) / 4.0;
  float y = start + step * 0.5;
  float value = 0.0;
  for (int i = 0; i < 4; i++) {
    value += roundedBoxShadowX(point.x, point.y - y, sigma, corner, halfSize) * gaussian(y, sigma) * step;
    y += step;
  }

  return value;
}

// ----------------------------------------------------------------------------

#endif

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

float diagonalPattern(vec2 uv, float spacing) {
    // Using 1.5 to approximate sqrt(2.0) to reduce aliasing artifacts.
    float divisor = spacing * vHalfStrokeWidth * 2.0 * 1.5;
    return abs(mod(uv.x - uv.y, divisor) - 0.5 * divisor) / 1.5;
}

float verticalPattern(float x, float spacing) {
    float divisor = spacing * vHalfStrokeWidth * 2.0;
    return abs(mod(x, divisor)) / 2.0;
}

float circle(vec2 p, float r) {
    return length(p) - r;
}

float masonryCirclePattern(vec2 uv, float spacing, float radius) {
    float halfSpacing = 0.5 * spacing;

    float row = floor(uv.y / spacing);
    float shift = mod(row, 2.0) * halfSpacing;

    vec2 shifted = vec2(uv.x + shift, uv.y + halfSpacing);
    vec2 cell = mod(shifted + 0.5 * spacing, spacing) - halfSpacing;

    return abs(circle(cell, radius));
}

/**
 * Patterns:
 * 0  none
 * 1  diagonal (/)
 * 2  antiDiagonal (\\)
 * 3  cross (X)
 * 4  vertical (|)
 * 5  horizontal (-)
 * 6  grid (+)
 * 7  dots (.)
 * 8  rings (o)
 * 9  ringsLarge (O)
 */
float pattern() {
#ifdef STROKED
    int patternType = uHatchPattern;
    vec2 uv = vPosInPixels;
    float spacing = 4.0;

    switch (patternType) {
        case 1:
            return diagonalPattern(vec2(uv.x, -uv.y), spacing);
        case 2:
            return diagonalPattern(uv, spacing);
        case 3:
            return min(
                diagonalPattern(uv, spacing),
                diagonalPattern(vec2(uv.x, -uv.y), spacing)
            );
        case 4:
            return verticalPattern(uv.x, spacing);
        case 5:
            return verticalPattern(uv.y, spacing);
        case 6:
            return min(
                verticalPattern(uv.x, spacing),
                verticalPattern(uv.y, spacing)
            );
        case 7:
        case 8:
        case 9: {
            float spacing = vHalfStrokeWidth * 14.0;
            float radius = spacing * (
                patternType == 8 ? 0.2 :
                patternType == 9 ? 0.35 :
                0.07
            );
            return masonryCirclePattern(uv, spacing, radius);
        }
        default:
            break;
    }
#endif
    return 1.0 / 0.0; // Infinity
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED) || defined(SHADOW)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    vec4 backgroundColor = vec4(0.0, 0.0, 0.0, 0.0);

#ifdef SHADOW
    float maxCornerRadius = max(vCornerRadii.x, max(vCornerRadii.y, max(vCornerRadii.z, vCornerRadii.w)));

    float shadow = 0.0;
    // Only calculate shadow for the region outside the stroke.
    if (d >= vHalfStrokeWidth - 1.0 && uShadowOpacity > 0.0) {
        shadow = roundedBoxShadow(
            -vHalfSizeInPixels - vHalfStrokeWidth,
            vHalfSizeInPixels + vHalfStrokeWidth,
            vPosInPixels - vec2(uShadowOffsetX, -uShadowOffsetY),
            max(uShadowBlur / 2.5, 0.25),
            maxCornerRadius + vHalfStrokeWidth
        ) * uShadowOpacity * uViewOpacity;
    }
    backgroundColor = vec4(uShadowColor * shadow, shadow);
#endif

    if (vHalfStrokeWidth > 0.0 && uHatchPattern > 0) {
        d = max(d, -pattern());
    }

    fragColor = distanceToColor(
        d,
        vFillColor,
        vStrokeColor,
        backgroundColor,
        vHalfStrokeWidth
    );

    if (uPickingEnabled) {
        if (d < vHalfStrokeWidth) {
            fragColor = vPickingColor;
        }
    } else if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
#endif
}
`,D4=`layout(std140) uniform Mark {
    /** Minimum size (width, height) of the displayed rectangle in pixels */
    uniform float uMinWidth;
    uniform float uMinHeight;

    /** Minimum opacity for the size clamping */
    uniform float uMinOpacity;

    uniform float uCornerRadiusTopRight;
    uniform float uCornerRadiusBottomRight;
    uniform float uCornerRadiusTopLeft;
    uniform float uCornerRadiusBottomLeft;

    uniform int uHatchPattern;

    uniform vec3 uShadowColor;
    uniform float uShadowOpacity;
    uniform float uShadowBlur;
    uniform float uShadowOffsetX;
    uniform float uShadowOffsetY;

#pragma markUniforms
};
`,ry=1e4;class k4{constructor(t){v(this,Vo);v(this,Bl,!1);this.size=t,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}configure(){if(g(this,Bl))throw new Error("Already configured!");F(this,Vo,y2).call(this),F(this,Vo,x2).call(this),Q(this,Bl,!0)}addConverter(t,e){const i=this.createUpdater(t,e.numComponents||1,e.targetArrayType??Float32Array,e.arrayReference),r=e.f;this.dataUpdaters.push(e.arrayReference?s=>i(r(s)):s=>i(r(s)))}createUpdater(t,e,i=Float32Array,r=void 0){if(!ot(this.size))throw new Error("The number of vertices must be defined!");let s,o,a=0;const l=new i(this.size*e);if(this.arrays[t]={data:l,numComponents:e},e==1){let c=0;const u=f=>{c=+f};s=()=>{l[a++]=c},o=u}else{let c=r??[0];const u=r?f=>{}:f=>{c=f};switch(e){case 1:break;case 2:s=()=>{l[a++]=c[0],l[a++]=c[1]},o=u;break;case 3:s=()=>{l[a++]=c[0],l[a++]=c[1],l[a++]=c[2]},o=u;break;case 4:s=()=>{l[a++]=c[0],l[a++]=c[1],l[a++]=c[2],l[a++]=c[3]},o=u;break;default:throw new Error("Invalid numComponents: "+e)}}return this.pushers.push(s),o}pushAll(){throw new Error("Call configure() first!")}updateFromDatum(t){throw new Error("Call configure() first!")}pushFromDatum(t){this.updateFromDatum(t),this.pushAll()}}Bl=new WeakMap,Vo=new WeakSet,y2=function(){if(this.size>ry){const t=this.pushers.map((i,r)=>`const p${r} = that.pushers[${r}];`).join(`
`),e=this.pushers.map((i,r)=>`  p${r}();`).join(`
`);this.pushAll=new Function("that",`${t}
return function unrolledPushAll() {
${e}
  that.vertexCount++;
};`)(this)}else this.pushAll=()=>{for(let t=0;t<this.pushers.length;t++)this.pushers[t]();this.vertexCount++}},x2=function(){if(this.size>ry){const t=this.dataUpdaters.map((i,r)=>`const u${r} = that.dataUpdaters[${r}];`).join(`
`),e=this.dataUpdaters.map((i,r)=>`  u${r}(datum);`).join(`
`);this.updateFromDatum=new Function("that","datum",`${t}
return function unrolledUpdateFromDatum(datum) {
${e}
};`)(this)}else this.updateFromDatum=t=>{for(let e=0;e<this.dataUpdaters.length;e++)this.dataUpdaters[e](t)}};const io=5,Ld=127;function Od(n){const t=[];for(let d=0;d<=Ld;d++)t.push(void 0);const e=new Map;for(const d of n.chars)d.id<=Ld?t[d.id]=d:e.set(d.id,d);const i=8722;e.has(i)||e.set(i,t[45]);function r(d){return(d<=Ld?t[d]:e.get(d))||t[63]}function s(d){return r(d.charCodeAt(0))}const o=n.common.base,a=s("x"),l=s("X"),c=s("q"),u=a.height-io*2,f=l.height-io*2,h=c.height-a.height+c.yoffset-a.yoffset;function A(d,p=1){let w=0;for(let m=0;m<d.length;m++)w+=r(d.charCodeAt(m)).xadvance;return w/o*p}return{measureWidth:A,getCharByCode:r,getChar:s,xHeight:u,capHeight:f,descent:h,common:n.common}}function ro(n,t=0,e=1){return Math.max(t,Math.min(e,n))}const sy=2**31-1,F4=-2147483648;function R4(n,t,e,i=e){const r=new Array(n);r.fill(sy);let s=F4,o=-1/0,a=!1;const l=new Array(n);l.fill(0);const c=t[0],f=(t[1]-t[0])/n,h=(m,y)=>{const x=(m-c)/f,C=Math.floor(x);return ro(y&&C==x?C-1:C,0,n-1)};function A(m,y,x){if(a)return;if(y>s)s=y;else{a=!0;return}const C=e(m);if(C<o){a=!0;return}o=C;const E=h(C,!1);r[E]>y&&(r[E]=y),l[E]<x&&(l[E]=x)}function d(m,y,x){if(a)return;if(y>s)s=y;else{a=!0,console.debug("Items (vertices) are not ordered properly. Disabling binned index.");return}const C=e(m),E=i(m);if(C<o){a=!0;return}else if(E<C){a=!0;return}o=C;const B=h(C,!1),b=h(E,!0);for(let D=B;D<=b;D++)r[D]>y&&(r[D]=y),l[D]<x&&(l[D]=x)}const p=(m,y,x=[0,0])=>{const C=h(m,!1),E=h(y,!0),B=r[C],b=Math.max(l[E],B);return x[0]=B,x[1]=b,x},w=()=>{if(a)return;for(let y=1;y<l.length;y++)l[y]<l[y-1]&&(l[y]=l[y-1]);let m=!0;for(let y=r.length-1;y>0;y--)m&&r[y]==sy?(r[y]=l[y],m=!1):r[y-1]>r[y]&&(r[y-1]=r[y]);return p};return A.getIndex=w,d.getIndex=w,e==i?A:d}function yn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Si(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rf=Symbol("implicit");function Ud(){var n=new Tn,t=[],e=[],i=Rf;function r(s){let o=n.get(s);if(o===void 0){if(i!==Rf)return i;n.set(s,o=t.push(s)-1)}return e[o%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new Tn;for(const o of s)n.has(o)||n.set(o,t.push(o)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Ud(t,e).unknown(i)},yn.apply(r,arguments),r}function so(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Ec(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Qi(){}var Qr=.7,oo=1/Qr,ao="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N4=/^#([0-9a-f]{3,8})$/,M4=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),T4=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),P4=new RegExp(`^rgba\\(${ao},${ao},${ao},${Bc}\\)$`),L4=new RegExp(`^rgba\\(${xn},${xn},${xn},${Bc}\\)$`),O4=new RegExp(`^hsl\\(${Bc},${xn},${xn}\\)$`),U4=new RegExp(`^hsla\\(${Bc},${xn},${xn},${Bc}\\)$`),oy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};so(Qi,Di,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ay,formatHex:ay,formatHex8:G4,formatHsl:z4,formatRgb:cy,toString:cy});function ay(){return this.rgb().formatHex()}function G4(){return this.rgb().formatHex8()}function z4(){return hy(this).formatHsl()}function cy(){return this.rgb().formatRgb()}function Di(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=N4.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?ly(t):e===3?new je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Nf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Nf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=M4.exec(n))?new je(t[1],t[2],t[3],1):(t=T4.exec(n))?new je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P4.exec(n))?Nf(t[1],t[2],t[3],t[4]):(t=L4.exec(n))?Nf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O4.exec(n))?Ay(t[1],t[2]/100,t[3]/100,1):(t=U4.exec(n))?Ay(t[1],t[2]/100,t[3]/100,t[4]):oy.hasOwnProperty(n)?ly(oy[n]):n==="transparent"?new je(NaN,NaN,NaN,0):null}function ly(n){return new je(n>>16&255,n>>8&255,n&255,1)}function Nf(n,t,e,i){return i<=0&&(n=t=e=NaN),new je(n,t,e,i)}function Gd(n){return n instanceof Qi||(n=Di(n)),n?(n=n.rgb(),new je(n.r,n.g,n.b,n.opacity)):new je}function Mf(n,t,e,i){return arguments.length===1?Gd(n):new je(n,t,e,i??1)}function je(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}so(je,Mf,Ec(Qi,{brighter(n){return n=n==null?oo:Math.pow(oo,n),new je(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Qr:Math.pow(Qr,n),new je(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new je(Dr(this.r),Dr(this.g),Dr(this.b),Tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uy,formatHex:uy,formatHex8:H4,formatRgb:fy,toString:fy}));function uy(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function H4(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function fy(){const n=Tf(this.opacity);return`${n===1?"rgb(":"rgba("}${Dr(this.r)}, ${Dr(this.g)}, ${Dr(this.b)}${n===1?")":`, ${n})`}`}function Tf(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Dr(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function kr(n){return n=Dr(n),(n<16?"0":"")+n.toString(16)}function Ay(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new nn(n,t,e,i)}function hy(n){if(n instanceof nn)return new nn(n.h,n.s,n.l,n.opacity);if(n instanceof Qi||(n=Di(n)),!n)return new nn;if(n instanceof nn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(e-i)/a+(e<i)*6:e===s?o=(i-t)/a+2:o=(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new nn(o,a,l,n.opacity)}function zd(n,t,e,i){return arguments.length===1?hy(n):new nn(n,t,e,i??1)}function nn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}so(nn,zd,Ec(Qi,{brighter(n){return n=n==null?oo:Math.pow(oo,n),new nn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Qr:Math.pow(Qr,n),new nn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new je(Hd(n>=240?n-240:n+120,r,i),Hd(n,r,i),Hd(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new nn(dy(this.h),Pf(this.s),Pf(this.l),Tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Tf(this.opacity);return`${n===1?"hsl(":"hsla("}${dy(this.h)}, ${Pf(this.s)*100}%, ${Pf(this.l)*100}%${n===1?")":`, ${n})`}`}}));function dy(n){return n=(n||0)%360,n<0?n+360:n}function Pf(n){return Math.max(0,Math.min(1,n||0))}function Hd(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const gy=Math.PI/180,py=180/Math.PI,Lf=18,my=.96422,wy=1,Cy=.82521,yy=4/29,co=6/29,xy=3*co*co,_4=co*co*co;function by(n){if(n instanceof bn)return new bn(n.l,n.a,n.b,n.opacity);if(n instanceof _n)return Iy(n);n instanceof je||(n=Gd(n));var t=qd(n.r),e=qd(n.g),i=qd(n.b),r=Vd((.2225045*t+.7168786*e+.0606169*i)/wy),s,o;return t===e&&e===i?s=o=r:(s=Vd((.4360747*t+.3850649*e+.1430804*i)/my),o=Vd((.0139322*t+.0971045*e+.7141733*i)/Cy)),new bn(116*r-16,500*(s-r),200*(r-o),n.opacity)}function _d(n,t,e,i){return arguments.length===1?by(n):new bn(n,t,e,i??1)}function bn(n,t,e,i){this.l=+n,this.a=+t,this.b=+e,this.opacity=+i}so(bn,_d,Ec(Qi,{brighter(n){return new bn(this.l+Lf*(n??1),this.a,this.b,this.opacity)},darker(n){return new bn(this.l-Lf*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return t=my*Yd(t),n=wy*Yd(n),e=Cy*Yd(e),new je(Jd(3.1338561*t-1.6168667*n-.4906146*e),Jd(-.9787684*t+1.9161415*n+.033454*e),Jd(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}}));function Vd(n){return n>_4?Math.pow(n,1/3):n/xy+yy}function Yd(n){return n>co?n*n*n:xy*(n-yy)}function Jd(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function qd(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function V4(n){if(n instanceof _n)return new _n(n.h,n.c,n.l,n.opacity);if(n instanceof bn||(n=by(n)),n.a===0&&n.b===0)return new _n(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*py;return new _n(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Kd(n,t,e,i){return arguments.length===1?V4(n):new _n(n,t,e,i??1)}function _n(n,t,e,i){this.h=+n,this.c=+t,this.l=+e,this.opacity=+i}function Iy(n){if(isNaN(n.h))return new bn(n.l,0,0,n.opacity);var t=n.h*gy;return new bn(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}so(_n,Kd,Ec(Qi,{brighter(n){return new _n(this.h,this.c,this.l+Lf*(n??1),this.opacity)},darker(n){return new _n(this.h,this.c,this.l-Lf*(n??1),this.opacity)},rgb(){return Iy(this).rgb()}}));var Ey=-.14861,jd=1.78277,Wd=-.29227,Of=-.90649,vc=1.97294,By=vc*Of,vy=vc*jd,Sy=jd*Wd-Of*Ey;function Y4(n){if(n instanceof Fr)return new Fr(n.h,n.s,n.l,n.opacity);n instanceof je||(n=Gd(n));var t=n.r/255,e=n.g/255,i=n.b/255,r=(Sy*i+By*t-vy*e)/(Sy+By-vy),s=i-r,o=(vc*(e-r)-Wd*s)/Of,a=Math.sqrt(o*o+s*s)/(vc*r*(1-r)),l=a?Math.atan2(o,s)*py-120:NaN;return new Fr(l<0?l+360:l,a,r,n.opacity)}function Xd(n,t,e,i){return arguments.length===1?Y4(n):new Fr(n,t,e,i??1)}function Fr(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}so(Fr,Xd,Ec(Qi,{brighter(n){return n=n==null?oo:Math.pow(oo,n),new Fr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Qr:Math.pow(Qr,n),new Fr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*gy,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(n),r=Math.sin(n);return new je(255*(t+e*(Ey*i+jd*r)),255*(t+e*(Wd*i+Of*r)),255*(t+e*(vc*i)),this.opacity)}}));function Qy(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}function Dy(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1],o=i>0?n[i-1]:2*r-s,a=i<t-1?n[i+2]:2*s-r;return Qy((e-i/t)*t,o,r,s,a)}}function ky(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t),r=n[(i+t-1)%t],s=n[i%t],o=n[(i+1)%t],a=n[(i+2)%t];return Qy((e-i/t)*t,r,s,o,a)}}const Uf=n=>()=>n;function Fy(n,t){return function(e){return n+e*t}}function J4(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Gf(n,t){var e=t-n;return e?Fy(n,e>180||e<-180?e-360*Math.round(e/360):e):Uf(isNaN(n)?t:n)}function q4(n){return(n=+n)==1?We:function(t,e){return e-t?J4(t,e,n):Uf(isNaN(t)?e:t)}}function We(n,t){var e=t-n;return e?Fy(n,e):Uf(isNaN(n)?t:n)}const Zd=(function n(t){var e=q4(t);function i(r,s){var o=e((r=Mf(r)).r,(s=Mf(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=We(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i})(1);function Ry(n){return function(t){var e=t.length,i=new Array(e),r=new Array(e),s=new Array(e),o,a;for(o=0;o<e;++o)a=Mf(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var K4=Ry(Dy),j4=Ry(ky);function $d(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(s){for(r=0;r<e;++r)i[r]=n[r]*(1-s)+t[r]*s;return i}}function Ny(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function W4(n,t){return(Ny(t)?$d:My)(n,t)}function My(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),s=new Array(e),o;for(o=0;o<i;++o)r[o]=ki(n[o],t[o]);for(;o<e;++o)s[o]=t[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function Ty(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function rn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Py(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=ki(n[r],t[r]):i[r]=t[r];return function(s){for(r in e)i[r]=e[r](s);return i}}var e0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t0=new RegExp(e0.source,"g");function X4(n){return function(){return n}}function Z4(n){return function(t){return n(t)+""}}function Ly(n,t){var e=e0.lastIndex=t0.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",t=t+"";(i=e0.exec(n))&&(r=t0.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:rn(i,r)})),e=t0.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Z4(l[0].x):X4(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function ki(n,t){var e=typeof t,i;return t==null||e==="boolean"?Uf(t):(e==="number"?rn:e==="string"?(i=Di(t))?(t=i,Zd):Ly:t instanceof Di?Zd:t instanceof Date?Ty:Ny(t)?$d:Array.isArray(t)?My:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Py:rn)(n,t)}function $4(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}function e8(n,t){var e=Gf(+n,+t);return function(i){var r=e(i);return r-360*Math.floor(r/360)}}function Sc(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var Oy=180/Math.PI,n0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Uy(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*Oy,skewX:Math.atan(l)*Oy,scaleX:o,scaleY:a}}var zf;function t8(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?n0:Uy(t.a,t.b,t.c,t.d,t.e,t.f)}function n8(n){return n==null||(zf||(zf=document.createElementNS("http://www.w3.org/2000/svg","g")),zf.setAttribute("transform",n),!(n=zf.transform.baseVal.consolidate()))?n0:(n=n.matrix,Uy(n.a,n.b,n.c,n.d,n.e,n.f))}function Gy(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,f,h,A,d){if(c!==f||u!==h){var p=A.push("translate(",null,t,null,e);d.push({i:p-4,x:rn(c,f)},{i:p-2,x:rn(u,h)})}else(f||h)&&A.push("translate("+f+t+h+e)}function o(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:rn(c,u)})):u&&f.push(r(f)+"rotate("+u+i)}function a(c,u,f,h){c!==u?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:rn(c,u)}):u&&f.push(r(f)+"skewX("+u+i)}function l(c,u,f,h,A,d){if(c!==f||u!==h){var p=A.push(r(A)+"scale(",null,",",null,")");d.push({i:p-4,x:rn(c,f)},{i:p-2,x:rn(u,h)})}else(f!==1||h!==1)&&A.push(r(A)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,h),o(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(A){for(var d=-1,p=h.length,w;++d<p;)f[(w=h[d]).i]=w.x(A);return f.join("")}}}var i8=Gy(t8,"px, ","px)","deg)"),r8=Gy(n8,", ",")",")"),s8=1e-12;function zy(n){return((n=Math.exp(n))+1/n)/2}function o8(n){return((n=Math.exp(n))-1/n)/2}function a8(n){return((n=Math.exp(2*n))-1)/(n+1)}const c8=(function n(t,e,i){function r(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],f=o[1],h=o[2],A=u-a,d=f-l,p=A*A+d*d,w,m;if(p<s8)m=Math.log(h/c)/t,w=function(b){return[a+b*A,l+b*d,c*Math.exp(t*b*m)]};else{var y=Math.sqrt(p),x=(h*h-c*c+i*p)/(2*c*e*y),C=(h*h-c*c-i*p)/(2*h*e*y),E=Math.log(Math.sqrt(x*x+1)-x),B=Math.log(Math.sqrt(C*C+1)-C);m=(B-E)/t,w=function(b){var D=b*m,R=zy(E),k=c/(e*y)*(R*a8(t*D+E)-o8(E));return[a+k*A,l+k*d,c*R/zy(t*D+E)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return r.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},r})(Math.SQRT2,2,4);function Hy(n){return function(t,e){var i=n((t=zd(t)).h,(e=zd(e)).h),r=We(t.s,e.s),s=We(t.l,e.l),o=We(t.opacity,e.opacity);return function(a){return t.h=i(a),t.s=r(a),t.l=s(a),t.opacity=o(a),t+""}}}const l8=Hy(Gf);var u8=Hy(We);function f8(n,t){var e=We((n=_d(n)).l,(t=_d(t)).l),i=We(n.a,t.a),r=We(n.b,t.b),s=We(n.opacity,t.opacity);return function(o){return n.l=e(o),n.a=i(o),n.b=r(o),n.opacity=s(o),n+""}}function _y(n){return function(t,e){var i=n((t=Kd(t)).h,(e=Kd(e)).h),r=We(t.c,e.c),s=We(t.l,e.l),o=We(t.opacity,e.opacity);return function(a){return t.h=i(a),t.c=r(a),t.l=s(a),t.opacity=o(a),t+""}}}const A8=_y(Gf);var h8=_y(We);function Vy(n){return(function t(e){e=+e;function i(r,s){var o=n((r=Xd(r)).h,(s=Xd(s)).h),a=We(r.s,s.s),l=We(r.l,s.l),c=We(r.opacity,s.opacity);return function(u){return r.h=o(u),r.s=a(u),r.l=l(Math.pow(u,e)),r.opacity=c(u),r+""}}return i.gamma=t,i})(1)}const d8=Vy(Gf);var g8=Vy(We);function i0(n,t){t===void 0&&(t=n,n=ki);for(var e=0,i=t.length-1,r=t[0],s=new Array(i<0?0:i);e<i;)s[e]=n(r,r=t[++e]);return function(o){var a=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[a](o-a)}}function p8(n,t){for(var e=new Array(t),i=0;i<t;++i)e[i]=n(i/(t-1));return e}const m8=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ki,interpolateArray:W4,interpolateBasis:Dy,interpolateBasisClosed:ky,interpolateCubehelix:d8,interpolateCubehelixLong:g8,interpolateDate:Ty,interpolateDiscrete:$4,interpolateHcl:A8,interpolateHclLong:h8,interpolateHsl:l8,interpolateHslLong:u8,interpolateHue:e8,interpolateLab:f8,interpolateNumber:rn,interpolateNumberArray:$d,interpolateObject:Py,interpolateRgb:Zd,interpolateRgbBasis:K4,interpolateRgbBasisClosed:j4,interpolateRound:Sc,interpolateString:Ly,interpolateTransformCss:i8,interpolateTransformSvg:r8,interpolateZoom:c8,piecewise:i0,quantize:p8},Symbol.toStringTag,{value:"Module"}));function w8(n){return function(){return n}}function r0(n){return+n}var Yy=[0,1];function vt(n){return n}function s0(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:w8(isNaN(t)?NaN:.5)}function C8(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function y8(n,t,e){var i=n[0],r=n[1],s=t[0],o=t[1];return r<i?(i=s0(r,i),s=e(o,s)):(i=s0(i,r),s=e(s,o)),function(a){return s(i(a))}}function x8(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=s0(n[o],n[o+1]),s[o]=e(t[o],t[o+1]);return function(a){var l=pi(n,a,1,i)-1;return s[l](r[l](a))}}function Qc(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Hf(){var n=Yy,t=Yy,e=ki,i,r,s,o=vt,a,l,c;function u(){var h=Math.min(n.length,t.length);return o!==vt&&(o=C8(n[0],n[h-1])),a=h>2?x8:y8,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(n.map(i),t,e)))(i(o(h)))}return f.invert=function(h){return o(r((c||(c=a(t,n.map(i),rn)))(h)))},f.domain=function(h){return arguments.length?(n=Array.from(h,r0),u()):n.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),e=Sc,u()},f.clamp=function(h){return arguments.length?(o=h?!0:vt,u()):o!==vt},f.interpolate=function(h){return arguments.length?(e=h,u()):e},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,A){return i=h,r=A,u()}}function Jy(){return Hf()(vt,vt)}function qy(n,t,e,i){var r=wr(n,t,e),s;switch(i=zs(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(s=TS(r,o))&&(i.precision=s),Um(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=PS(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=MS(r))&&(i.precision=s-(i.type==="%")*2);break}}return nt(i)}function Rr(n){var t=n.domain;return n.ticks=function(e){var i=t();return Hu(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return qy(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=Dh(o,a,e),c===l)return i[r]=o,i[s]=a,t(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return n},n}function Ky(){var n=Jy();return n.copy=function(){return Qc(n,Ky())},yn.apply(n,arguments),Rr(n)}function jy(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,r0),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return jy(n).unknown(t)},n=arguments.length?Array.from(n,r0):[0,1],Rr(e)}function Wy(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],s=n[i],o;return s<r&&(o=e,e=i,i=o,o=r,r=s,s=o),n[e]=t.floor(r),n[i]=t.ceil(s),n}function Xy(n){return Math.log(n)}function Zy(n){return Math.exp(n)}function b8(n){return-Math.log(-n)}function I8(n){return-Math.exp(-n)}function E8(n){return isFinite(n)?+("1e"+n):n<0?0:n}function B8(n){return n===10?E8:n===Math.E?Math.exp:t=>Math.pow(n,t)}function v8(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function $y(n){return(t,e)=>-n(-t,e)}function o0(n){const t=n(Xy,Zy),e=t.domain;let i=10,r,s;function o(){return r=v8(i),s=B8(i),e()[0]<0?(r=$y(r),s=$y(s),n(b8,I8)):n(Xy,Zy),t}return t.base=function(a){return arguments.length?(i=+a,o()):i},t.domain=function(a){return arguments.length?(e(a),o()):e()},t.ticks=a=>{const l=e();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=r(c),A=r(u),d,p;const w=a==null?10:+a;let m=[];if(!(i%1)&&A-h<w){if(h=Math.floor(h),A=Math.ceil(A),c>0){for(;h<=A;++h)for(d=1;d<i;++d)if(p=h<0?d/s(-h):d*s(h),!(p<c)){if(p>u)break;m.push(p)}}else for(;h<=A;++h)for(d=i-1;d>=1;--d)if(p=h>0?d/s(-h):d*s(h),!(p<c)){if(p>u)break;m.push(p)}m.length*2<w&&(m=Hu(c,u,w))}else m=Hu(h,A,Math.min(A-h,w)).map(s);return f?m.reverse():m},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=zs(l)).precision==null&&(l.trim=!0),l=nt(l)),a===1/0)return l;const c=Math.max(1,i*a/t.ticks().length);return u=>{let f=u/s(Math.round(r(u)));return f*i<i-.5&&(f*=i),f<=c?l(u):""}},t.nice=()=>e(Wy(e(),{floor:a=>s(Math.floor(r(a))),ceil:a=>s(Math.ceil(r(a)))})),t}function a0(){const n=o0(Hf()).domain([1,10]);return n.copy=()=>Qc(n,a0()).base(n.base()),yn.apply(n,arguments),n}function ex(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function tx(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function c0(n){var t=1,e=n(ex(t),tx(t));return e.constant=function(i){return arguments.length?n(ex(t=+i),tx(t)):t},Rr(e)}function nx(){var n=c0(Hf());return n.copy=function(){return Qc(n,nx()).constant(n.constant())},yn.apply(n,arguments)}function ix(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function S8(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Q8(n){return n<0?-n*n:n*n}function l0(n){var t=n(vt,vt),e=1;function i(){return e===1?n(vt,vt):e===.5?n(S8,Q8):n(ix(e),ix(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},Rr(t)}function u0(){var n=l0(Hf());return n.copy=function(){return Qc(n,u0()).exponent(n.exponent())},yn.apply(n,arguments),n}function D8(){return u0.apply(null,arguments).exponent(.5)}function rx(){var n=[],t=[],e=[],i;function r(){var o=0,a=Math.max(1,t.length);for(e=new Array(a-1);++o<a;)e[o-1]=Nm(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:t[pi(e,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?e[a-1]:n[0],a<e.length?e[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(pr),r()},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return e.slice()},s.copy=function(){return rx().domain(n).range(t).unknown(i)},yn.apply(s,arguments)}function sx(){var n=0,t=1,e=1,i=[.5],r=[0,1],s;function o(l){return l!=null&&l<=l?r[pi(i,l,0,e)]:s}function a(){var l=-1;for(i=new Array(e);++l<e;)i[l]=((l+1)*t-(l-e)*n)/(e+1);return o}return o.domain=function(l){return arguments.length?([n,t]=l,n=+n,t=+t,a()):[n,t]},o.range=function(l){return arguments.length?(e=(r=Array.from(l)).length-1,a()):r.slice()},o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,i[0]]:c>=e?[i[e-1],t]:[i[c-1],i[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return i.slice()},o.copy=function(){return sx().domain([n,t]).range(r).unknown(s)},yn.apply(Rr(o),arguments)}function ox(){var n=[.5],t=[0,1],e,i=1;function r(s){return s!=null&&s<=s?t[pi(n,s,0,i)]:e}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(s){return arguments.length?(t=Array.from(s),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(s){var o=t.indexOf(s);return[n[o-1],n[o]]},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return ox().domain(n).range(t).unknown(e)},yn.apply(r,arguments)}function k8(n){return new Date(n)}function F8(n){return n instanceof Date?+n:+new Date(+n)}function f0(n,t,e,i,r,s,o,a,l,c){var u=Jy(),f=u.invert,h=u.domain,A=c(".%L"),d=c(":%S"),p=c("%I:%M"),w=c("%I %p"),m=c("%a %d"),y=c("%b %d"),x=c("%B"),C=c("%Y");function E(B){return(l(B)<B?A:a(B)<B?d:o(B)<B?p:s(B)<B?w:i(B)<B?r(B)<B?m:y:e(B)<B?x:C)(B)}return u.invert=function(B){return new Date(f(B))},u.domain=function(B){return arguments.length?h(Array.from(B,F8)):h().map(k8)},u.ticks=function(B){var b=h();return n(b[0],b[b.length-1],B??10)},u.tickFormat=function(B,b){return b==null?E:c(b)},u.nice=function(B){var b=h();return(!B||typeof B.range!="function")&&(B=t(b[0],b[b.length-1],B??10)),B?h(Wy(b,B)):u},u.copy=function(){return Qc(u,f0(n,t,e,i,r,s,o,a,l,c))},u}function R8(){return yn.apply(f0(qS,KS,dn,nc,ec,mi,Ku,Ju,Un,Gh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N8(){return yn.apply(f0(YS,JS,gn,ic,tc,Cr,ju,qu,Un,zh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _f(){var n=0,t=1,e,i,r,s,o=vt,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(r===0?.5:(f=(s(f)-e)*r,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([n,t]=f,e=s(n=+n),i=s(t=+t),r=e===i?0:1/(i-e),c):[n,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var A,d;return arguments.length?([A,d]=h,o=f(A,d),c):[o(0),o(1)]}}return c.range=u(ki),c.rangeRound=u(Sc),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,e=f(n),i=f(t),r=e===i?0:1/(i-e),c}}function Fi(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function A0(){var n=Rr(_f()(vt));return n.copy=function(){return Fi(n,A0())},Si.apply(n,arguments)}function ax(){var n=o0(_f()).domain([1,10]);return n.copy=function(){return Fi(n,ax()).base(n.base())},Si.apply(n,arguments)}function cx(){var n=c0(_f());return n.copy=function(){return Fi(n,cx()).constant(n.constant())},Si.apply(n,arguments)}function h0(){var n=l0(_f());return n.copy=function(){return Fi(n,h0()).exponent(n.exponent())},Si.apply(n,arguments)}function M8(){return h0.apply(null,arguments).exponent(.5)}function Vf(){var n=0,t=.5,e=1,i=1,r,s,o,a,l,c=vt,u,f=!1,h;function A(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-s)*(i*p<i*s?a:l),c(f?Math.max(0,Math.min(1,p)):p))}A.domain=function(p){return arguments.length?([n,t,e]=p,r=u(n=+n),s=u(t=+t),o=u(e=+e),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,A):[n,t,e]},A.clamp=function(p){return arguments.length?(f=!!p,A):f},A.interpolator=function(p){return arguments.length?(c=p,A):c};function d(p){return function(w){var m,y,x;return arguments.length?([m,y,x]=w,c=i0(p,[m,y,x]),A):[c(0),c(.5),c(1)]}}return A.range=d(ki),A.rangeRound=d(Sc),A.unknown=function(p){return arguments.length?(h=p,A):h},function(p){return u=p,r=p(n),s=p(t),o=p(e),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,A}}function lx(){var n=Rr(Vf()(vt));return n.copy=function(){return Fi(n,lx())},Si.apply(n,arguments)}function ux(){var n=o0(Vf()).domain([.1,1,10]);return n.copy=function(){return Fi(n,ux()).base(n.base())},Si.apply(n,arguments)}function fx(){var n=c0(Vf());return n.copy=function(){return Fi(n,fx()).constant(n.constant())},Si.apply(n,arguments)}function d0(){var n=l0(Vf());return n.copy=function(){return Fi(n,d0()).exponent(n.exponent())},Si.apply(n,arguments)}function T8(){return d0.apply(null,arguments).exponent(.5)}function In(n){for(var t=n.length/6|0,e=new Array(t),i=0;i<t;)e[i]="#"+n.slice(i*6,++i*6);return e}const P8=In("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),L8=In("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),O8=In("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),U8=In("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),G8=In("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),z8=In("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),H8=In("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),_8=In("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),V8=In("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Y8=In("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function g0(n,t,e){const i=n-t+e*2;return n?i>0?i:1:0}const J8="identity",lo="linear",Ri="log",Dc="pow",kc="sqrt",Yf="symlog",Ax="time",hx="utc",En="sequential",uo="diverging",p0="quantile",dx="quantize",gx="threshold",Fc="ordinal",m0="point",px="band",w0="bin-ordinal",He="continuous",Rc="discrete",Nc="discretizing",Ht="interpolating",mx="temporal";function q8(n){return function(t){let e=t[0],i=t[1],r;return i<e&&(r=e,e=i,i=r),[n.invert(e),n.invert(i)]}}function K8(n){return function(t){const e=n.range();let i=t[0],r=t[1],s=-1,o,a,l,c;for(r<i&&(a=i,i=r,r=a),l=0,c=e.length;l<c;++l)e[l]>=i&&e[l]<=r&&(s<0&&(s=l),o=l);if(!(s<0))return i=n.invertExtent(e[s]),r=n.invertExtent(e[o]),[i[0]===void 0?i[1]:i[0],r[1]===void 0?r[0]:r[1]]}}function C0(){const n=Ud().unknown(void 0),t=n.domain,e=n.range;let i=[0,1],r,s,o=!1,a=0,l=0,c=.5;delete n.unknown;function u(){const f=t().length,h=i[1]<i[0],A=i[1-h],d=g0(f,a,l);let p=i[h-0];r=(A-p)/(d||1),o&&(r=Math.floor(r)),p+=(A-p-r*(f-a))*c,s=r*(1-a),o&&(p=Math.round(p),s=Math.round(s));const w=Za(f).map(m=>p+r*m);return e(h?w.reverse():w)}return n.domain=function(f){return arguments.length?(t(f),u()):t()},n.range=function(f){return arguments.length?(i=[+f[0],+f[1]],u()):i.slice()},n.rangeRound=function(f){return i=[+f[0],+f[1]],o=!0,u()},n.bandwidth=function(){return s},n.step=function(){return r},n.round=function(f){return arguments.length?(o=!!f,u()):o},n.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,u()):a},n.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),u()):a},n.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},n.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},n.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=i[1]<i[0],A=h?e().reverse():e(),d=A.length-1;let p=+f[0],w=+f[1],m,y,x;if(!(p!==p||w!==w)&&(w<p&&(x=p,p=w,w=x),!(w<A[0]||p>i[1-h])))return m=Math.max(0,pi(A,p)-1),y=p===w?m:pi(A,w)-1,p-A[m]>s+1e-10&&++m,h&&(x=m,m=d-y,y=d-x),m>y?void 0:t().slice(m,y+1)},n.invert=function(f){const h=n.invertRange([f,f]);return h&&h[0]},n.copy=function(){return C0().domain(t()).range(i).round(o).paddingInner(a).paddingOuter(l).align(c)},u()}function wx(n){const t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,n.copy=function(){return wx(t())},n}function j8(){return wx(C0().paddingInner(1))}var W8=Array.prototype.map;function X8(n){return W8.call(n,Oa)}const Z8=Array.prototype.slice;function Cx(){let n=[],t=[];function e(i){return i==null||i!==i?void 0:t[(pi(n,i)-1)%t.length]}return e.domain=function(i){return arguments.length?(n=X8(i),e):n.slice()},e.range=function(i){return arguments.length?(t=Z8.call(i),e):t.slice()},e.tickFormat=function(i,r){return qy(n[0],$t(n),i??10,r)},e.copy=function(){return Cx().domain(e.domain()).range(e.range())},e}const Jf=new Map,$8=Symbol("vega_scale");function eR(n){return n[$8]=!0,n}function tR(n,t,e){const i=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?q8(s):s.invertExtent?K8(s):void 0),s.type=n,eR(s)};return i.metadata=Pu(gh(e)),i}function he(n,t,e){return arguments.length>1?(Jf.set(n,tR(n,t,e)),this):nR(n)?Jf.get(n):void 0}he(J8,jy),he(lo,Ky,He),he(Ri,a0,[He,Ri]),he(Dc,u0,He),he(kc,D8,He),he(Yf,nx,He),he(Ax,R8,[He,mx]),he(hx,N8,[He,mx]),he(En,A0,[He,Ht]),he(`${En}-${lo}`,A0,[He,Ht]),he(`${En}-${Ri}`,ax,[He,Ht,Ri]),he(`${En}-${Dc}`,h0,[He,Ht]),he(`${En}-${kc}`,M8,[He,Ht]),he(`${En}-${Yf}`,cx,[He,Ht]),he(`${uo}-${lo}`,lx,[He,Ht]),he(`${uo}-${Ri}`,ux,[He,Ht,Ri]),he(`${uo}-${Dc}`,d0,[He,Ht]),he(`${uo}-${kc}`,T8,[He,Ht]),he(`${uo}-${Yf}`,fx,[He,Ht]),he(p0,rx,[Nc,p0]),he(dx,sx,Nc),he(gx,ox,Nc),he(w0,Cx,[Rc,Nc]),he(Fc,Ud,Rc),he(px,C0,Rc),he(m0,j8,Rc);function nR(n){return Jf.has(n)}function Mc(n,t){const e=Jf.get(n);return e&&e.metadata[t]}function Xe(n){return Mc(n,He)}function Vn(n){return Mc(n,Rc)}function Nr(n){return Mc(n,Nc)}function yx(n){return Mc(n,Ri)}function qf(n){return Mc(n,Ht)}function iR(n,t){const e=t[0],i=$t(t)-e;return function(r){return n(e+r*i)}}function Kf(n,t,e){return i0(xx(t||"rgb",e),n)}function rR(n,t){const e=new Array(t),i=t+1;for(let r=0;r<t;)e[r]=n(++r/i);return e}function xx(n,t){const e=m8[sR(n)];return t!=null&&e&&e.gamma?e.gamma(t):e}function sR(n){return"interpolate"+n.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const oR={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aR={accent:L8,category10:P8,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:O8,observable10:U8,paired:G8,pastel1:z8,pastel2:H8,set1:_8,set2:V8,set3:Y8,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function bx(n){if(Ne(n))return n;const t=n.length/6|0,e=new Array(t);for(let i=0;i<t;)e[i]="#"+n.slice(i*6,++i*6);return e}function Ix(n,t){for(const e in n)y0(e,t(n[e]))}const Ex={};Ix(aR,bx),Ix(oR,n=>Kf(bx(n)));function y0(n,t){return n=n&&n.toLowerCase(),arguments.length>1?(Ex[n]=t,this):Ex[n]}function x0(){const n=t=>t;return n.invert=t=>t,n.copy=x0,n.invertRange=()=>{},n.type="null",n}class cR{constructor(t,e,i={}){this._container=t,this._sizeSource=e??(()=>({width:void 0,height:void 0})),this._shaderCache=new Map,this.rangeTextures=new WeakMap,this.selectionTextures=new WeakMap;const r=document.createElement("canvas");t.appendChild(r);const s=v4(r,{antialias:!0,depth:!1,premultipliedAlpha:!0,...i});if(!s)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!js(s))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");iy(s);const o=s.getExtension("WEBGL_provoking_vertex");o&&o.provokingVertexWEBGL(o.FIRST_VERTEX_CONVENTION_WEBGL),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.canvas=r,this.gl=s,this._pickingAttachmentOptions=[{format:s.RGBA,type:s.UNSIGNED_BYTE,minMag:s.LINEAR,wrap:s.CLAMP_TO_EDGE}],this._pickingBufferInfo=ty(s,this._pickingAttachmentOptions),s.bindFramebuffer(s.FRAMEBUFFER,null),this.adjustGl()}invalidateSize(){this._logicalCanvasSize=void 0,this.adjustGl()}compileShader(t,e){const i="#version 300 es",r="precision mediump float;";Ne(e)&&(e=e.join(`

`));const s=this.gl,o=e.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let a=this._shaderCache.get(o);if(!a){const l=[i,r,e].join(`

`);a=s.createShader(t),s.shaderSource(a,l),s.compileShader(a),this._shaderCache.set(o,a)}return a}adjustGl(){const t=this.getLogicalCanvasSize();this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`;const e=this.getPhysicalCanvasSize(t);this.canvas.width=e.width,this.canvas.height=e.height,x4(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this.canvas.remove()}getPhysicalCanvasSize(t){const e=window.devicePixelRatio??1;return t=t||this.getLogicalCanvasSize(),{width:t.width*e,height:t.height*e}}getLogicalCanvasSize(){if(this._logicalCanvasSize)return this._logicalCanvasSize;const t=this._sizeSource(),e=window.getComputedStyle(this._container,null),i=t.width??this._container.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight),r=t.height??this._container.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom);return this._logicalCanvasSize={width:i,height:r},this._logicalCanvasSize}createRangeTexture(t,e=!1){const i=this.rangeTextures.get(t.getScale());if(!e&&i)return;function r(o,a){return Vn(a.type)?a.domain().length:a.type=="threshold"?a.domain().length+1:a.type=="quantize"||a.type=="quantile"?o??4:o}const s=t.channel;if(yi(s)){const o=t.getScale(),a=o.props,l=o.range();let c;if(a.scheme)if(o.type=="threshold"&&l)c=b0(l,this.gl,o.domain().length,i);else{let u=Ce(a.scheme)?void 0:a.scheme.count;u=r(u,o),c=hR(a.scheme,this.gl,u,i)}else qf(o.type)||Xe(o.type)&&l.length>1?c=dR(l,a.interpolate,this.gl,i):c=b0(l,this.gl,o.domain().length,i);this.rangeTextures.set(o,c)}else{const o=t.getScale();if(o.type==="ordinal"||Nr(o.type)){const a=of(s)?Mw(s):c=>c,l=o.range();this.rangeTextures.set(o,gR(l.map(a),this.gl,o.domain().length,i))}}}createSelectionTexture(t,e=!0){if(!rd(t))throw new Error("Not a multi-point selection, cannot create texture");const i=Array.from(t.data.keys()),r=i.length>0?i.sort((l,c)=>l-c):[0],s=this.selectionTextures.get(t),o=this.gl,a=Tc(this.gl,{level:0,minMag:o.NEAREST,format:o.RED_INTEGER,internalFormat:o.R32UI,height:1,width:r.length},new Uint32Array(r),e?s:!1);this.selectionTextures.set(t,a)}}function lR(n,t="",e=0){const i=/ERROR:\s*\d+:(\d+)/gi,r=[...t.matchAll(i)],s=new Map(r.map((o,a)=>{const l=parseInt(o[1]),c=r[a+1],u=c?c.index:t.length,f=t.substring(o.index,u);return[l-1,f]}));return n.split(`
`).map((o,a)=>{const l=s.get(a);return`${a+1+e}: ${o}${l?`

^^^ ${l}`:""}`}).join(`
`)}function uR(n,t,e){const i=n.createProgram();n.attachShader(i,t),n.attachShader(i,e),n.linkProgram(i);function r(){let s,o;if(!n.getProgramParameter(i,n.LINK_STATUS)){s=n.getProgramInfoLog(i);for(const l of[t,e])n.getShaderParameter(l,n.COMPILE_STATUS)||(s=n.getShaderInfoLog(l),o=lR(n.getShaderSource(l),s,0)+`
Error compiling: ${s}`,n.deleteShader(l));n.deleteProgram(i)}if(s)return{message:s,detail:o}}return{program:i,getProgramErrors:r}}function Tc(n,t,e,i){return i?wC(n,i,e,t):i=bc(n,{...t,src:e}),i}function fR(n,t,e,i){const{height:r,framebuffer:s}=t,o=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,s),n.readPixels(e,r-i-1,1,1,n.RGBA,n.UNSIGNED_BYTE,o),n.bindFramebuffer(n.FRAMEBUFFER,null),o}function AR(n,t,e="image/png"){const{width:i,height:r}=t,s=new Uint8Array(i*r*4);n.bindFramebuffer(n.FRAMEBUFFER,t.framebuffer),n.readPixels(0,0,i,r,n.RGBA,n.UNSIGNED_BYTE,s),n.bindFramebuffer(n.FRAMEBUFFER,null);const o=document.createElement("canvas");o.width=i,o.height=r;const a=o.getContext("2d"),l=a.createImageData(i,r);for(let c=0;c<r;c++){const u=(r-1-c)*i*4,f=c*i*4;l.data.set(s.subarray(u,u+i*4),f)}return a.putImageData(l,0,0),o.toDataURL(e)}function hR(n,t,e,i){const r=Ce(n)?n:n.name,s=!Ce(n)&&n.extent||[0,1];if(e===void 0&&!Ce(n)&&(e=n.count),r){const o=y0(r);if(Ot(o)){const a=Bx(o,{extent:s,count:e});return Tc(t,{minMag:t.LINEAR,format:t.RGB,height:1,wrap:t.CLAMP_TO_EDGE},a,i)}else{if(Ne(o))return b0(o,t);throw new Error("Unknown scheme: "+r)}}}function dR(n,t="rgb",e,i){const r=Kf(n,Ce(t)?t:t.type,Ce(t)?void 0:t.gamma),s=Bx(r);return Tc(e,{minMag:e.LINEAR,format:e.RGB,height:1,wrap:e.CLAMP_TO_EDGE},s,i)}function gR(n,t,e,i){const r=Math.max(n.length,e||0),s=new Float32Array(r);for(let o=0;o<r;o++)s[o]=n[o%n.length];return Tc(t,{minMag:t.NEAREST,format:t.RED,internalFormat:t.R32F,height:1},s,i)}function b0(n,t,e,i){const r=vx(n,e);return Tc(t,{minMag:t.NEAREST,format:t.RGB,height:1},r,i)}function Bx(n,{extent:t=[0,1],reverse:e=!1,count:i=256}={}){const r=t[0],s=nf(t)-r,o=Za(i).map(a=>a/(i-1)).map(a=>r+a/s).map(n);return e&&o.reverse(),vx(o)}function vx(n,t){const e=Math.max(n.length,t||0),i=new Uint8Array(e*3);for(let r=0;r<e;r++){const s=n[r%n.length],o=Di(s);if(!o)throw new Error(`Invalid color "${s}" in the scheme ${JSON.stringify(n)}!`);const a=o.rgb();i[r*3+0]=a.r,i[r*3+1]=a.g,i[r*3+2]=a.b}return i}function I0(n){const t=Di(n).rgb();return[t.r,t.g,t.b].map(e=>e/255)}const pR="attr_",mR="uDomain_",wR="range_",CR="accessor_",Sx="scale_",yR="getScaled_",E0="uRangeTexture_",jf="uParam_",Pc="checkSelection_",Qx=3402823466e29;function xR(n){const t=n.match(/^(?:(\w+)-)?(\w+)$/);if(!t)throw new Error("Not a scale type: "+n);return{family:t[1]||"continuous",transform:t[2]}}function Lc(n,t){return`${CR}${n}_${t}`}function bR(n,t,e){let i;if(of(n))i=Mr(Mw(n)(e));else if(Ce(e))if(yi(n))i=SR(e);else throw new Error(`String values are not supported on the "${n}" channel: ${e}`);else if(Ua(e))i=Mr(e?1:0);else if(e===null)if(yi(n))i=Mr([0,0,0]);else throw new Error(`null value is not supported on the "${n}" chanel.`);else i=Mr(e);const r=Lc(n,t),s=`
${i.type} ${r}() {
    // Constant value
    return ${i};
}`;return{channel:n,accessorGlsl:s,accessorFunctionName:r}}function IR(n,t){let e="float",i=l=>l;yi(n)&&(e="vec3",i=l=>I0(l));const r=`u${RR(n)}_${t}`,s=`    // Dynamic value
    uniform ${e} ${r};`,o=Lc(n,t);let a=`
${e} ${o}() {
    // Dynamic value
    return ${r};
}`;return{channel:n,uniformName:r,uniformGlsl:s,accessorGlsl:a,accessorFunctionName:o,adjuster:i}}function Dx(n,t,e,i=[n]){const{attributeType:r}=fo(t,n),s=Ao(i),o=`in highp ${r} ${s};`,a=Lc(n,e),l=`
${r} ${a}() {
    return ${s};
}`;return{channel:n,attributeName:s,attributeGlsl:o,accessorGlsl:l,accessorFunctionName:a}}function ER(n,t,e){const{attributeType:i}=fo(t,n),r=Ao(n),s=`    uniform highp ${i} ${r};`,o=Lc(n,e),a=`
${i} ${o}() {
    return ${r};
}`;return{channel:n,uniformName:r,uniformGlsl:s,accessorGlsl:a,accessorFunctionName:o}}function BR(n,t,e){t??(t=x0());const i=Ci(n),r=mR+i,s=wR+i,{hp:o,attributeType:a}=fo(t,n),l=t.domain?t.domain().length:void 0;let c;const u=[];u.push(""),u.push("/".repeat(70)),u.push(`// Channel: ${n}`),u.push("");const{transform:f}=xR(t.type),h=(b,...D)=>QR.apply(null,[b,"value",...D]);let A;switch(f){case"linear":A=h("scaleLinear","domain",s);break;case"log":A=h("scaleLog","domain",s,t.base());break;case"symlog":A=h("scaleSymlog","domain",s,t.constant());break;case"pow":case"sqrt":A=h("scalePow","domain",s,t.exponent());break;case"index":case"locus":A=h("scaleBandHp","domain",s,t.paddingInner(),t.paddingOuter(),t.align(),e.band??.5);break;case"point":case"band":A=h("scaleBand","domain",s,t.paddingInner(),t.paddingOuter(),t.align(),e.band??.5);break;case"ordinal":case"null":case"identity":A=h("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${t.type}! ${n}: ${JSON.stringify(e)}`)}const d=Lx(t,n);let p;if(d&&n==i){const b=t.props.range??[];if(Me(b)||b.some(Me)){if(d.length<1||d.length>4)throw new Error(`A range with ExprRefs must have 1-4 elements, not ${d.length}! Range: ${JSON.stringify(d)}`);p=`    uniform ${Fx(d.length)} ${s};`}else if(d.length&&d.every(ot)){const D=Nx(d);u.push(`const ${D.type} ${s} = ${D};`)}}const w=Rx(n);let m;if(yi(n)){const b=E0+i;if(n==i&&u.push(`uniform sampler2D ${b};`),Xe(t.type))m=`getInterpolatedColor(${b}, transformed)`;else if(Vn(t.type)||Nr(t.type))m=`getDiscreteColor(${b}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(t.type==="ordinal"||Nr(t.type)){const b=E0+i;n==i&&u.push(`uniform sampler2D ${b};`),m=`getDiscreteColor(${b}, int(transformed)).r`}const y=[],x=Xe(t.type)&&l>2,C=Nr(t.type)||x;if(y.push("int slot = 0;"),C){const b=r;y.push(x?`while (slot < ${b}.length() - 2 && value >= ${b}[slot + 1]) { slot++; }`:`while (slot < ${b}.length() && value >= ${b}[slot]) { slot++; }`)}const E=Xe(t.type)||Nr(t.type)||["band","point"].includes(t.type);if(A){const b=r;E&&(o?y.push(`vec3 domain = ${b};`):y.push(`vec2 domain = vec2(${b}[slot], ${b}[slot + 1]);`)),y.push(`float transformed = ${A};`),x&&y.push(`transformed = (float(slot) + transformed) / (float(${b}.length() - 1));`)}else y.push("float transformed = float(slot);");"clamp"in t&&t.clamp()&&y.push(`transformed = clampToRange(transformed, ${Nx(d)});`),y.push(`return ${m??"transformed"};`),u.push(`
${w} ${Sx}${n}(${a} value) {
${y.map(b=>`    ${b}
`).join("")}
}`);const B=u.join(`
`);if(E&&n==i){const b=Xe(t.type)||Nr(t.type)?l:2;c=o?`    highp vec3 ${r};`:`    mediump float ${r}[${b}];`}return{glsl:B,domainUniformName:r,domainUniform:c,rangeUniformName:s,rangeUniform:p}}function vR(n,t){const e=Rx(n),i=[],r=[];for(let s=0;s<t.length;s++){const o=t[s],a=Lc(n,s),{param:l,empty:c}=o.predicate;i.push(l?`${Pc}${l}(${!!c})`:null),r.push(o.scaleChannel?`return ${Sx}${n}(${a}());`:`return ${a}();`)}return`${e} ${yR}${n}() {
${NR(i,r)}
}

#define ${n}_DEFINED`}function kx(n){if(!ot(n))throw new Error(`Not a number: ${n}`);if(n==1/0)return""+Qx;if(n==-1/0)return""+-Qx;{let t=`${n}`;return/^(-)?\d+$/.test(t)&&(t+=".0"),t}}function Mr(n){typeof n=="number"&&(n=[n]);const t=n.length;if(t<1||t>4)throw new Error("Invalid number of components: "+t);const e=Fx(t),i=`${e}(${n.map(kx).join(", ")})`;return Object.assign(i,{type:e,numComponents:t})}function Fx(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error("Invalid number of components: "+n)}}function Rx(n){return yi(n)?"vec3":n=="uniqueId"?"uint":"float"}function SR(n){return Mr(I0(n))}function Nx(n){return Mr([n[0],nf(n)])}function QR(n,...t){const e=[];for(const i of t)ot(i)?e.push(kx(i)):Ne(i)?e.push(Mr(i)):e.push(i);return`${n}(${e.join(", ")})`}function fo(n,t){var o;const e=n&&Vn(n.type),i=n&&Mx(n.type),r=i&&DR(n.domain()),s=r?{attributeType:"uvec2",arrayConstructor:Uint32Array}:i?{attributeType:"uint",arrayConstructor:Uint32Array}:e?{attributeType:"uint",arrayConstructor:Uint16Array}:t=="uniqueId"?{attributeType:"uint",arrayConstructor:Uint32Array}:{attributeType:"float",arrayConstructor:Float32Array};return Object.assign(s,{numComponents:+(((o=s.attributeType.match(/^vec([234])$/))==null?void 0:o[1])??1),discrete:e,hp:i,largeHp:r})}function Mx(n){return n=="index"||n=="locus"}function DR(n){return n[1]>2**32}const B0=2**12;function Tx(n,t=[]){const e=n%B0,i=(n-e)/B0;return t[0]=i,t[1]=e,t}function kR(n){const t=n%B0;return[n-t,t]}function FR(n){return[...kR(n[0]),n[1]-n[0]]}function Px(n){const t=new Tn([],JSON.stringify);for(const[e,i]of Object.entries(n)){const r=i.channelDef;if(Gn(r)){const o=[r.field,i.scale?(Xe(i.scale.type)||Nr(i.scale.type))??!1:!1];t.set(o,[...t.get(o)??[],e])}}return t}function Ao(n){return pR+Ke(n).toSorted().join("_")}function RR(n){return n[0].toUpperCase()+n.slice(1)}const Lx=(n,t)=>qf(n.type)||Xe(n.type)&&yi(t)?[0,1]:n.range?n.range():void 0;function NR(n,t){if(n.length!=t.length)throw new Error("Unequal array lengths");const e=n.length;if(e==0)return"";if(e==1&&n[0]==null)return t[0];const i=[];for(let r=0;r<e;r++){const s=n[r],o=r==0?`if (${s})`:s==null&&r==e-1?"else":`else if (${s})`;i.push(`    ${o} {
        ${t[r]}
    }`)}return i.join(`
`)}function Ox(){let n=0,t,e=0;const i=new Map,r=s=>(s===t||(e=i.get(s),e===void 0&&(e=n++,i.set(s,e)),t=s),e);return r.addAll=s=>{for(const o of s)r(o)},r.invert=s=>{for(const o of i.entries())if(o[1]==s)return o[0]},r.domain=()=>[...i.keys()],r}class Oc{constructor({encoders:t,numVertices:e=void 0,attributes:i=[]}){this.encoders=t,this.variableEncoders=Object.fromEntries(Object.entries(t).filter(([s,o])=>i.includes(s)&&o&&!o.constant));const r=[...Px(t).entries()].filter(([s,o])=>s[1]&&o.length>1).map(([s,o])=>o);this.allocatedVertices=e,this.variableBuilder=new k4(e);for(const[s,o]of Object.entries(this.variableEncoders)){const a=o.dataAccessor;if(!a)continue;const l=r.find(x=>x.find(C=>C==s));if(l&&s!=l[0])continue;const c=a.asNumberAccessor(),u=o.scale,{largeHp:f,arrayConstructor:h,discrete:A,numComponents:d}=fo(u,s),p=[0,0];let w;if(u&&A)if("props"in u&&u.props.domainIndexer)w=u.props.domainIndexer;else if("domain"in u)w=Ox(),w.addAll(u.domain());else throw new Error("Missing domain indexer for discrete scale.");const m=w?x=>w(a(x)):f?x=>Tx(c(x),p):c,y=Ao(l??s);this.variableBuilder.addConverter(y,{f:m,numComponents:d,arrayReference:f?p:void 0,targetArrayType:h})}this.lastOffset=0,this.rangeMap=new Tn([],JSON.stringify)}registerBatch(t){var s;const e=this.lastOffset,i=this.variableBuilder.vertexCount,r=i-e;r&&this.rangeMap.set(t,{offset:e,count:r,xIndex:(s=this.xIndexer)==null?void 0:s.getIndex()}),this.lastOffset=i}addBatches(t){for(const[e,i]of t)this.addBatch(e,i)}addBatch(t,e,i=0,r=e.length){this.prepareXIndexer(e,i,r);for(let s=i;s<r;s++){const o=e[s];this.variableBuilder.pushFromDatum(o),this.addToXIndex(o)}this.registerBatch(t)}prepareXIndexer(t,e=0,i=e+t.length){var c;const r=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0},s=(c=this.encoders.x)==null?void 0:c.channelDef;if(!("buildIndex"in s)||!s.buildIndex||!t.length||i-e<0){r();return}const o=u=>{var f;return u&&Xe((f=u.scale)==null?void 0:f.type)&&u},a=o(this.variableEncoders.x),l=o(this.variableEncoders.x2);if(a&&!a.constant&&(!l||!l.constant)){const u=a.dataAccessor.asNumberAccessor(),f=l?l.dataAccessor.asNumberAccessor():u,h=[u(t[e]),f(t[i-1])];if(h[1]>h[0]){this.xIndexer=R4(50,h,u,f);let A=this.variableBuilder.vertexCount;this.addToXIndex=d=>{let p=this.variableBuilder.vertexCount;this.xIndexer(d,A,p),A=p}}else r()}else r()}addToXIndex(t){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class MR extends Oc{constructor({encoders:t,attributes:e,numItems:i}){super({encoders:t,attributes:e,numVertices:i*6}),this.variableBuilder.configure();const r=this.variableBuilder.pushAll;this.pushAllSixTimes=i>500?new Function("pushAll",`return function unrolledPushAllSixTimes() {
  pushAll(); pushAll(); pushAll(); pushAll(); pushAll(); pushAll();
};`)(r):function(){r(),r(),r(),r(),r(),r()}}addBatch(t,e,i=0,r=e.length){if(!(r<=i)){this.prepareXIndexer(e,i,r);for(let s=i;s<r;s++){const o=e[s];this.variableBuilder.updateFromDatum(o),this.pushAllSixTimes(),this.addToXIndex(o)}this.registerBatch(t)}}}class TR extends Oc{constructor({encoders:t,attributes:e,tessellationThreshold:i=1/0,visibleRange:r=[-1/0,1/0],numItems:s}){super({encoders:t,attributes:e,numVertices:i==1/0?s*6:void 0}),this.visibleRange=r,this.tessellationThreshold=i||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1),this.variableBuilder.configure()}addBatch(t,e,i=0,r=e.length){this.prepareXIndexer(e,i,r);for(let s=i;s<r;s++){const o=e[s];this.variableBuilder.updateFromDatum(o),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const a=1;for(let l=0;l<=a;l++)this.updatePos(l/a),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(o)}this.registerBatch(t)}}class PR extends Oc{constructor({encoders:t,attributes:e,numItems:i=void 0}){super({encoders:t,attributes:e,numVertices:i}),this.variableBuilder.configure()}}class LR extends Oc{constructor({encoders:t,attributes:e,numItems:i=void 0}){super({encoders:t,attributes:e,numVertices:i}),this.variableBuilder.configure()}toArrays(){const t=this.variableBuilder.arrays;for(let e of Object.values(t))e.divisor=1;return super.toArrays()}}class OR extends Oc{constructor({encoders:t,attributes:e,fontMetrics:i,properties:r,numCharacters:s=void 0}){super({encoders:t,attributes:e,numVertices:s*6}),this.metadata=i,this.metrics=i,this.properties=r;const a=t.text.channelDef;this.numberFormat=!Ft(a)&&"format"in a&&a.format?nt(a.format):l=>l,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1),this.variableBuilder.configure()}addBatch(t,e,i=0,r=e.length){const s=this.properties.align||"left",o=this.properties.logoLetters??!1,a=this.metadata.common.base,l=this.metadata.common.scaleH;let c=-io;switch(this.properties.baseline){case"top":c+=this.metrics.capHeight;break;case"middle":c+=this.metrics.capHeight/2;break;case"bottom":c-=this.metrics.descent;break}const u=this.encoders.text,f=[0,0];this.updateVertexCoord(f);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(e,i,r);for(let A=i;A<r;A++){const d=e[A],p=this.numberFormat(u(d)),w=Ce(p)?p:p===null?"":""+p;if(w.length==0)continue;this.variableBuilder.updateFromDatum(d);const m=o?w.length:this.metrics.measureWidth(w);this.updateWidth(m);let y=s=="right"?-m:s=="center"?-m/2:0;if(!o){const B=this.metrics.getCharByCode(w.charCodeAt(0));y-=(B.width-B.xadvance)/a/2}let x=-.5,C=1,E=1;for(let B=0;B<w.length;B++){const b=this.metrics.getCharByCode(w.charCodeAt(B)),D=o?1:b.xadvance/a;if(b.id==32){y+=D;continue}o?(E=(b.width+io*2)/b.width,y=-E/2,C=(b.height+io*2)/b.height,x=-.5-io/b.height):(C=b.height/a,x=-(b.height+b.yoffset+c)/a,E=b.width/a);const R=b.x,k=b.y;f[0]=y,f[1]=x+C,h[0]=R/l,h[1]=k/l,this.variableBuilder.pushAll(),f[0]=y+E,f[1]=x+C,h[0]=(R+b.width)/l,h[1]=k/l,this.variableBuilder.pushAll(),f[0]=y,f[1]=x,h[0]=R/l,h[1]=(k+b.height)/l,this.variableBuilder.pushAll(),f[0]=y+E,f[1]=x+C,h[0]=(R+b.width)/l,h[1]=k/l,this.variableBuilder.pushAll(),f[0]=y,f[1]=x,h[0]=R/l,h[1]=(k+b.height)/l,this.variableBuilder.pushAll(),f[0]=y+E,f[1]=x,h[0]=(R+b.width)/l,h[1]=(k+b.height)/l,this.variableBuilder.pushAll(),y+=D}this.addToXIndex(d)}this.registerBatch(t)}}const Ux=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

bool isEmptyBinarySearchTexture(highp usampler2D s) {
    // The minimum texture size is 1x1. Zero is a special value that indicates
    // an empty selection. Unique ids never start at zero.
    return textureSize(s, 0).x == 1 && texelFetch(s, ivec2(0, 0), 0).r == 0u;
}

bool binarySearchTexture(highp usampler2D s, uint value) {
    int texSize = textureSize(s, 0).x;

    if (texSize == 1 && texelFetch(s, ivec2(0, 0), 0).r == 0u) {
        return false;
    }

    int left = 0;
    int right = texSize - 1;

    while (left <= right) {
        int mid = left + (right - left) / 2;

        uint midValue = texelFetch(s, ivec2(mid, 0), 0).r;

        if (midValue == value) {
            return true;
        }

        if (midValue < value) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }

    return false;
}

/**
 * Calculates a gamma for antialiasing opacity based on the color.
 */
float getGammaForColor(vec3 rgb) {
    return mix(
        1.25,
        0.75,
        // RGB should be linearized but this is good enough for now
        smoothstep(0.0, 1.0, dot(rgb, vec3(0.299, 0.587, 0.114))));
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, vec4 background, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : background,
            distanceToRatio(sd));
    } else {
        return mix(background, fill, distanceToRatio(-d));
    }
}
`,UR=`uniform highp float uZero;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleIdentity(uint value) {
    return float(value);
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

// TODO: domainExtent should be uint
float scaleBand(uint value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (float(value) - domainExtent[0]) * step + bandwidth * band;
}

const int lowBits = 12;
const float lowDivisor = pow(2.0, float(lowBits));
const uint lowMask = uint(lowDivisor - 1.0);

vec2 splitUint(uint value) {
    uint valueLo = value & lowMask;
    uint valueHi = value - valueLo;
    return vec2(float(valueHi), float(valueLo));
}

/**
 * High precision variant of scaleBand for index/locus scales
 */
float scaleBandHp(uint value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = splitUint(value);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}

/**
 * High precision variant of scaleBand for index/locus scales for large
 * domains where 32bit uints are not sufficient to represent the domain.
 */
float scaleBandHp(uvec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = vec2(float(value[0]) * lowDivisor, float(value[1]));

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,GR=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,zR=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        uint id = attr_uniqueId;
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, id >> 24) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,HR=`in highp vec4 vPickingColor;
`,Wf=Symbol("cacheMap");function Xf(n,t,e){let i=Gc(n).get(t);return i===void 0&&(i=e(t),Gc(n).set(t,i)),i}function v0(n,t){Gc(n).delete(t)}function Uc(n,t){const e=Gc(n);for(const i of e.keys())i.startsWith(t)&&e.delete(i);Gc(n).delete(t)}function Gx(n){n[Wf]=new Map}function Gc(n){return n[Wf]||Gx(n),n[Wf]}function zx(...n){const t={get(e,i,r){for(const s of n){const a=s()[i];if(a!==void 0)return a}},has(e,i,r){for(const s of n){const o=s();if(i in o)return!0}return!1}};return new Proxy({},t)}function _R(n){return Ce(n)||ot(n)||Ua(n)}class it extends Error{constructor(t,e){super(t),this.name="ViewError",this.view=e}}const VR="SAMPLE_FACET_UNIFORM",Hx="SAMPLE_FACET_TEXTURE",_x="uSelectionTexture_";class zc{constructor(t){v(this,cn,[]);this.unitView=t,this.encoders=void 0,this.bufferInfo=void 0,this.bytesPerElement=new Map,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.viewUniformInfo=void 0,this.markUniformInfo=void 0,this.markUniformsAltered=!0,this.selectionTextureOps=[],this.rangeMap=new YR,this.defaultProperties={get clip(){return["x","y"].map(e=>t.getScaleResolution(e)).some(e=>(e==null?void 0:e.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=zx(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}augmentDefaultProperties(t){Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors(t))}get opaque(){return!1}get defaultHitTestMode(){return"intersects"}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const t={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(t.uniqueId={field:Gt}),t}fixEncoding(t){return t}setupExprRefsNeedingGraphicsUpdate(t){const e=this.getSupportedChannels(),i={};for(const s of t){const o=this.properties[s];if(o&&Me(o)){const a=this.unitView.paramRuntime.watchExpression(o.expr,()=>{this.updateGraphicsData(),this.unitView.context.animator.requestRender()});e.includes(s)||Object.defineProperty(i,s,{get(){return a()}})}}const r=this.properties;this.properties=zx(()=>i,()=>r)}get encoding(){return Xf(this,"encoding",()=>{var o;const t=this.getDefaultEncoding(),e=this.unitView.getEncoding(),i=a=>{const l=this.properties[a];return _R(l)||Me(l)?{value:l}:void 0},r=Object.fromEntries(this.getSupportedChannels().map(a=>[a,i(a)]).filter(a=>Ft(a[1]))),s=this.fixEncoding({...t,...r,...e});for(const a of Object.keys(s))this.getSupportedChannels().includes(a)||delete s[a];return s.x&&((o=s.x).buildIndex??(o.buildIndex=!0)),s})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=SD(this.unitView,this.encoding)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return Hx;if(this.unitView.getLayoutAncestors().find(t=>"samples"in t.spec))return VR}createAndLinkShaders(t,e,i=[]){const r=this.getAttributes(),s=this.encoders,o=this.getSampleFacetMode();o&&i.push(`#define ${o}`);const a="// view: "+this.unitView.getPathString();let l=[];const c=new Set,u=Px(s),f=[],h=Object.values(s).flatMap(E=>E.accessors).map(E=>E.predicate).filter(E=>E.param),A=new Map;for(const E of h){const B=E.param,b=this.unitView.paramRuntime,D=b.findValue(B);if(!D)throw new Error(`Cannot infer selection type as the parameter "${B}" has no value. Please ensure that the parameter is properly defined!`);const R=Ao("uniqueId");if(Lw(D)){if(!A.has(B)){A.set(B,"single");const k=jf+mn(B);f.push("    // Selection parameter"),f.push(`    uniform highp uint ${k};`),g(this,cn).push(()=>{this.registerMarkUniformValue(k,{expr:B},P=>P.uniqueId??0)}),l.push(`bool ${Pc}${B}(bool empty) {
    return ${jf}${B} == ${R} || (empty && ${jf}${B} == 0u);
}`)}}else if(rd(D)){if(!A.has(B)){A.set(B,"multi");const k=_x+mn(B);l.push(`// Selection texture
uniform highp usampler2D ${k};`);const P=this.getContext().glHelper,T=P.selectionTextures;this.selectionTextureOps.push(()=>{const z=b.getValue(B),J=T.get(z);if(!J)throw new Error(`Bug: no selection texture found for "${B}"!`);Br(this.programInfo,{[k]:J})});const O=_x+B;l.push(`bool ${Pc}${B}(bool empty) {
   return binarySearchTexture(${O}, ${R}) || (empty && isEmptyBinarySearchTexture(${O}));
}`),P.createSelectionTexture(D),b.watchExpression(B,()=>{const z=b.getValue(B);P.createSelectionTexture(z),this.getContext().animator.requestRender()})}}else if(Pw(D)&&!A.has(B)){A.set(B,"interval");const k=[],P=[];for(const T of Object.keys(D.intervals)){if(!["x","y"].includes(T))continue;const O=jf+mn(B)+`_${T}`,{attributeType:z}=fo(this.unitView.getScaleResolution(T).getScale(),T);f.push("    // Selection parameter"),f.push(`    uniform highp ${z}[2] ${O};`),g(this,cn).push(()=>{this.registerMarkUniformValue(O,{expr:B},Ae=>Ae.intervals[T]??[1,0])});const J=Ae=>{for(const[ht,Lt]of u.entries())if(ht[1]&&Lt.includes(Ae))return Ao(Lt);return Ao(Ae)},_=J(T),q=O+"[0]",se=O+"[1]",re=td(T);if(this.encoding[re]){const Ae=J(re),ht=this.defaultHitTestMode;if(ht=="endpoints")k.push(`((${q} <= ${_} && ${_} <= ${se}) || (${q} <= ${Ae} && ${Ae} <= ${se}))`);else if(ht=="encloses")k.push(`(${q} <= ${_} && ${Ae} <= ${se})`);else if(ht=="intersects")k.push(`(${q} <= ${Ae} && ${_} <= ${se})`);else throw new it(`Unsupported hit test mode "${ht}" for interval selection!`,this.unitView)}else k.push(`(${q} <= ${_} && ${_} <= ${se})`);P.push(`${q} > ${se}`)}l.push(`bool ${Pc}${B}(bool empty) {
    return ${k.join(" && ")} || (empty && (${P.join(" || ")}));
}`)}}const d=(E,B,b,D)=>{const R=B.channelDef;if(Ft(R))if(Me(R.value)){const{uniformName:k,uniformGlsl:P,accessorGlsl:T,adjuster:O}=IR(E,b);l.push(T),f.push(P),g(this,cn).push(()=>{this.registerMarkUniformValue(k,R.value,O)})}else l.push(bR(E,b,R.value).accessorGlsl);else if(qs(R)){const{uniformName:k,uniformGlsl:P,accessorGlsl:T}=ER(E,D,b);f.push(P),l.push(T);const{largeHp:O,discrete:z}=fo(D,E),J=z&&"domain"in D?_=>D.domain().indexOf(_):O?Tx:_=>+_;g(this,cn).push(()=>{this.registerMarkUniformValue(k,R.datum,J)})}else if(Gn(R)){const k=u.get([R.field,!0]),{attributeGlsl:P,accessorGlsl:T}=Dx(E,D,b,k!=null&&k.includes(E)?k:void 0);c.add(P),l.push(T)}else if(Ks(R)){const{attributeGlsl:k,accessorGlsl:P}=Dx(E,D,b);c.add(k),l.push(P)}else throw new it(`Unsupported channel definition: ${JSON.stringify(R)}`,this.unitView)};for(const[E,B]of Object.entries(s)){if(!r.includes(E))continue;const{channelDef:b,accessors:D,scale:R}=B;for(let k=0;k<D.length;k++)d(E,D[k],k,R);if(R){const k=kw(b),P=k&&k.resolutionChannel||E,T=af(P)?this.unitView.getScaleResolution(P):null,{glsl:O,domainUniform:z,domainUniformName:J,rangeUniform:_,rangeUniformName:q}=BR(E,R,b);l.push(O),f.push(z),f.push(_),_&&g(this,cn).push(()=>{const se=this.createMarkUniformSetter(q),re=()=>se(Lx(R,E));T.addEventListener("range",re),re()}),z&&g(this,cn).push(()=>{const se=this.createMarkUniformSetter(J),re=()=>{const Ae=Vn(R.type)?[0,R.domain().length]:R.domain();se(Mx(R.type)?FR(Ae):Ae)};T.addEventListener("domain",re),re()})}l.push(vR(E,D))}const p=[...A.keys()].map(E=>`${Pc}${E}(false)`);l.push(`bool isPointSelected() {
`+(this.encoders.uniqueId&&p.length>0?`    return ${p.join(" || ")};`:"    return false;")+`
}`);const w=`precision highp float;
precision highp int;`,m=E=>E.replace("#pragma markUniforms",f.join(`
`));i=i.map(m),t=m(t),e=m(e);const y=[w,a,...i,Ux,UR,[...c].join(`
`),...l,GR,zR,t],x=[w,a,...i,Ux,HR,e],C=this.gl;this.programStatus=uR(C,this.glHelper.compileShader(C.VERTEX_SHADER,y),this.glHelper.compileShader(C.FRAGMENT_SHADER,x))}finalizeGraphicsInitialization(){if(this.programInfo)return;if(!this.programStatus)throw new Error("No program status found! "+this.unitView.getPathString());const t=this.programStatus.getProgramErrors();if(t){t.detail&&console.warn(t.detail);const e=new Error("Cannot create shader program: "+t.message);throw e.view=this.unitView,e}this.programInfo=i4(this.gl,this.programStatus.program),delete this.programStatus,this.viewUniformInfo=YC(this.gl,this.programInfo,"View"),this.markUniformInfo=YC(this.gl,this.programInfo,"Mark"),this.gl.useProgram(this.programInfo.program),Br(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0,uZero:0});for(const e of g(this,cn))e();Q(this,cn,void 0)}createMarkUniformSetter(t){const e=this.markUniformInfo.setters[t];if(!e)throw new Error(`Uniform "${t}" not found int the Mark block!`);return i=>{e(i),this.markUniformsAltered=!0,this.unitView.context.animator.requestRender()}}registerMarkUniformValue(t,e,i=r=>r){const r=this.createMarkUniformSetter(t),s=o=>{if(o==null)throw new Error(`Trying to set null/undefined value for uniform: ${t}${Me(e)?`Expr: ${e.expr}`:""}`);r(o)};if(Me(e)){let o;const a=()=>s(i(o(null)));o=this.unitView.paramRuntime.watchExpression(e.expr,a),a()}else s(i(e))}deleteGraphicsData(){const t=this.glHelper;if(!t){this.vertexArrayInfo=void 0,this.bufferInfo=void 0;return}const e=t.gl;if(this.vertexArrayInfo&&(this.gl.bindVertexArray(null),e.deleteVertexArray(this.vertexArrayInfo.vertexArrayObject),this.vertexArrayInfo=void 0),this.bufferInfo){for(let i=0;i<8;i++)e.disableVertexAttribArray(i);Object.values(this.bufferInfo.attribs).forEach(i=>this.gl.deleteBuffer(i.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}dispose(){this.deleteGraphicsData()}updateBufferInfo(t){if(this.gl.bindVertexArray(null),this.bufferInfo&&t.vertexCount<=this.bufferInfo.allocatedVertices)for(const[e,i]of Object.entries(t.arrays))i.data&&p3(this.gl,this.bufferInfo.attribs[e],i.data,0);else{this.deleteGraphicsData(),this.bufferInfo=C3(this.gl,t.arrays,{numElements:t.vertexCount}),this.bufferInfo.allocatedVertices=t.allocatedVertices;for(const[e,i]of Object.entries(t.arrays))this.bytesPerElement.set(e,i.data.BYTES_PER_ELEMENT)}}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null&&!this.unitView.paramRuntime.hasPointSelections())return!1;for(const t of this.unitView.getLayoutAncestors())if(!t.isPickingSupported())return!1;return!0}bindOrSetMarkUniformBlock(){this.markUniformsAltered?(qC(this.gl,this.programInfo,this.markUniformInfo),this.markUniformsAltered=!1):JC(this.gl,this.programInfo,this.markUniformInfo)}prepareRender(t){const e=this.glHelper,i=this.gl,r=[];r.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=b4(this.gl,this.programInfo,this.bufferInfo)),i.useProgram(this.programInfo.program)});for(const[o,a]of Object.entries(this.encoders)){const l=e.rangeTextures.get(a.scale);l&&r.push(()=>Br(this.programInfo,{[E0+o]:l}))}r.push(...this.selectionTextureOps),this.getSampleFacetMode()==Hx&&r.push(()=>{let o;for(const a of this.unitView.getLayoutAncestors())if(o=a.getSampleFacetTexture(),o)break;if(!o)throw new Error("No facet texture available. This is bug.");Br(this.programInfo,{uSampleFacetTexture:o})});const s=(t.picking??!1)&&this.isPickingParticipant();return r.push(()=>Ic(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:s})),this.opaque||t.picking?r.push(()=>i.disable(i.BLEND)):r.push(()=>i.enable(i.BLEND)),r}prepareSampleFacetRendering(t){const e=t.sampleFacetRenderingOptions,i=this.programInfo.uniformSetters.uSampleFacet;if(e&&i){const r=e.pixelToUnit,s=e.locSize.location*r,o=e.locSize.size*r;if(s>1||s+o<0)return!1;this.gl.uniform4f(i.location,s,o,s,o)}return!0}render(t){}createRenderCallback(t,e){var f;if(!this.bufferInfo)return()=>{};const i=this;let r;const s=(f=this.unitView.getScaleResolution("x"))==null?void 0:f.getScale(),o=s&&Xe(s.type),a=["index","locus"].includes(s==null?void 0:s.type)?-1:0,l=[0,0];r=h=>{if(o&&h.xIndex){const A=s.domain(),d=h.xIndex(A[0]+a,A[1],l),p=d[0],w=d[1]-p;w>0&&t(p,w)}else t(h.offset,h.count)};const c=this.rangeMap.get(void 0).count==0?e.facetId:void 0,u=this.rangeMap.get(c);return e.sampleFacetRenderingOptions?function(){u.count&&i.prepareSampleFacetRendering(e)&&r(u)}:function(){u.count&&r(u)}}setViewport(t,e,i,r){i=i.flatten();const s=this.gl,o=this.properties,a=.5,l=(o.xOffset??0)+a,c=(o.yOffset??0)+a;let u,f=i;if(o.clip!=="never"&&(o.clip||r)){let h=0,A=0,d;if(r){if(f=i.intersect(r).flatten(),!f.isDefined())return!1;d=[i.width/f.width,i.height/f.height],A=Math.max(0,i.y2-r.y2),h=Math.min(0,i.x-r.x)}else d=[1,1];const p=[f.x,t.height-f.y2,f.width,f.height].map(x=>x*e),w=p.map(x=>Math.floor(x)),m=p[0]-w[0],y=p[1]-w[1];s.viewport(...w),s.scissor(...w),s.enable(s.SCISSOR_TEST),u={uViewOffset:[(l+h+m/e)/f.width,-(c+A-y/e)/f.height],uViewScale:d}}else{if(!i.isDefined())return!1;s.viewport(0,0,t.width*e,t.height*e),s.disable(s.SCISSOR_TEST),u={uViewOffset:[(i.x+l)/t.width,(t.height-i.y-c-i.height)/t.height],uViewScale:[i.width/t.width,i.height/t.height]}}return Ic(this.viewUniformInfo,{...u,uViewportSize:[i.width,i.height],uDevicePixelRatio:e}),qC(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(t,e){}}cn=new WeakMap;class YR extends Tn{constructor(){super([],JSON.stringify)}get(t){let e=super.get(t);return e===void 0&&(e={offset:0,count:0,xIndex:void 0},super.set(t,e)),e}migrateEntries(t){for(const[e,i]of this.entries())t.has(e)||(i.offset=0,i.count=0,i.xIndex=void 0);for(const[e,i]of t.entries())Object.assign(this.get(e),i)}}function S0(n,t){const e=td(t);let i=n[t]&&{...n[t]},r=n[e]&&{...n[e]};if(!(Ft(i)||Ft(r))){if(i){if(!zt(n[t]))return;if(r){if(i.type!="quantitative"){const s=(1-(i.band||1))/2;i.band=s,r.band=-s}}else if(i.type=="quantitative")r={datum:0,domainInert:!0};else{r={...i};const s=(1-(i.band??1))/2;i.band=0+s,r.band=1-s}}else i={value:0},r={value:1};n[t]=i,n[e]=r}}function Zf(n,t){const e=kw(n);e&&(e.resolutionChannel=t)}function Vx(n,t){n.stroke||(t?n.stroke={value:null}:(n.stroke=structuredClone(n.color),Zf(n.stroke,"color"))),Ft(n.stroke)&&n.stroke.value===null&&(n.strokeWidth={value:0}),n.strokeOpacity||(n.strokeOpacity=structuredClone(n.opacity),Zf(n.strokeOpacity,"opacity"))}function Yx(n,t){Ft(n.fill)&&n.fill.value===null?n.fillOpacity={value:0}:n.fill||(n.fill=structuredClone(n.color),Zf(n.fill,"color"),!t&&!n.fillOpacity&&(n.fillOpacity={value:0})),n.fillOpacity||(t?(n.fillOpacity=structuredClone(n.opacity),Zf(n.fillOpacity,"opacity")):n.fillOpacity={value:0})}const JR=["none","diagonal","antiDiagonal","cross","vertical","horizontal","grid","dots","rings","ringsLarge"];class qR extends zc{constructor(e){super(e);v(this,Yi);this.augmentDefaultProperties({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return Xf(this,"opaque",()=>!F(this,Yi,pp).call(this)&&!F(this,Yi,mp).call(this)&&!this.properties.shadowOpacity&&Ft(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(e){return S0(e,"x"),S0(e,"y"),Vx(e,this.properties.filled),Yx(e,this.properties.filled),delete e.color,delete e.opacity,e}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}async initializeGraphics(){await super.initializeGraphics();const e=[];F(this,Yi,pp).call(this)&&e.push("ROUNDED_CORNERS"),F(this,Yi,mp).call(this)&&e.push("STROKED"),this.properties.shadowOpacity&&e.push("SHADOW"),this.createAndLinkShaders(S4,Q4,[D4,...e.map(i=>"#define "+i)])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;this.registerMarkUniformValue("uMinWidth",e.minWidth),this.registerMarkUniformValue("uMinHeight",e.minHeight),this.registerMarkUniformValue("uMinOpacity",e.minOpacity),this.registerMarkUniformValue("uCornerRadiusTopRight",e.cornerRadiusTopRight??e.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomRight",e.cornerRadiusBottomRight??e.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusTopLeft",e.cornerRadiusTopLeft??e.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomLeft",e.cornerRadiusBottomLeft??e.cornerRadius??0),this.registerMarkUniformValue("uHatchPattern",e.hatch,i=>Math.max(0,JR.indexOf(i??"none"))),this.registerMarkUniformValue("uShadowBlur",e.shadowBlur??0),this.registerMarkUniformValue("uShadowOpacity",e.shadowOpacity??0),this.registerMarkUniformValue("uShadowOffsetX",e.shadowOffsetX??0),this.registerMarkUniformValue("uShadowOffsetY",e.shadowOffsetY??0),this.registerMarkUniformValue("uShadowColor",e.shadowColor??"black",I0)}updateGraphicsData(){const e=this.unitView.getCollector();if(!e){console.debug("No collector");return}const i=e.getItemCount(),r=new MR({encoders:this.encoders,attributes:this.getAttributes(),numItems:i});r.addBatches(e.facetBatches);const s=r.toArrays();this.rangeMap.migrateEntries(s.rangeMap),this.updateBufferInfo(s)}prepareRender(e){const i=super.prepareRender(e);return i.push(()=>this.bindOrSetMarkUniformBlock()),i.push(()=>vr(this.gl,this.programInfo,this.vertexArrayInfo)),i}render(e){const i=this.gl;return this.createRenderCallback((r,s)=>{kf(i,this.vertexArrayInfo,i.TRIANGLE_STRIP,s,r)},e)}findDatumAt(e,i){e=Ke(e);const r=this.unitView.getCollector().facetBatches.get(e);if(!r)return;const s=this.encoders,o=s.x.scale.type;if(Vn(o)){const a=s.x.dataAccessor;return r.find(l=>i==a(l))}else{const a=s.x.dataAccessor,l=s.x2.dataAccessor;return r.find(c=>i>=a(c)&&i<l(c))}}}Yi=new WeakSet,pp=function(){const e=this.properties;return e.cornerRadius||e.cornerRadiusBottomLeft||e.cornerRadiusBottomRight||e.cornerRadiusTopLeft||e.cornerRadiusTopRight},mp=function(){const e=this.encoding.strokeWidth;return!(Ft(e)&&!e.value)||"condition"in e};const KR=`flat out float vRadius;
flat out float vRadiusWithPadding;
flat out lowp vec4 vFillColor;
flat out lowp vec4 vStrokeColor;
flat out lowp float vShape;
flat out lowp float vHalfStrokeWidth;
flat out mat2 vRotationMatrix;

// Copypaste from fragment shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TRIANGLE_RIGHT = 5.0;
const float TRIANGLE_DOWN = 6.0;
const float TRIANGLE_LEFT = 7.0;
const float TICK_UP = 8.0;
const float TICK_RIGHT = 9.0;
const float TICK_DOWN = 10.0;
const float TICK_LEFT = 11.0;

float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {
    float shapeAngle = 0.0;

    // Selected points should always be visible
    float semanticThresholdFactor = isPointSelected()
        ? 1.0
        : computeSemanticThresholdFactor();

    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor;

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

    if (vShape > TICK_UP && vShape <= TICK_LEFT) {
        shapeAngle = (vShape - TICK_UP) * 90.0;
        vShape = TICK_UP;
    } else if (vShape > TRIANGLE_UP && vShape <= TRIANGLE_LEFT) {
        shapeAngle = (vShape - TRIANGLE_UP) * 90.0;
        vShape = TRIANGLE_UP;
    }

	float angleInDegrees = getScaled_angle();
	float angle = -(shapeAngle + angleInDegrees) * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    // Not needed if we would draw rotated quads instead of gl.POINTS
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;

    gl_PointSize = max(
        (diameter + padding),
        uPickingEnabled ? uMinPickingSize : 0.0
    ) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,jR=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

flat in float vRadius;
flat in float vRadiusWithPadding;

flat in lowp vec4 vFillColor;
flat in lowp vec4 vStrokeColor;
flat in lowp float vShape;
flat in lowp float vHalfStrokeWidth;

flat in mat2 vRotationMatrix;

out lowp vec4 fragColor;

// Copypaste from vertex shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TICK_UP = 8.0;

// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float tickUp(vec2 p, float r) {
    float halfR = r * 0.5;
    p.y += halfR;
    p = abs(p);
    return max(p.x - r * 0.15, p.y - halfR);
}

float equilateralTriangle(vec2 p, float r) {
    p.y = -p.y;
    float k = sqrt(3.0);
    float kr = k * r;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r);

    } else if (vShape == TICK_UP) {
        d = tickUp(p, r);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
            vec4(0.0),
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,WR=`layout(std140) uniform Mark {
    /**
    * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
    * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
    * geometric zoom, etc.
    */
    uniform bool uInwardStroke;

    /** The minimum point size in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    /** Scale factor for geometric zoom */
    uniform mediump float uScaleFactor;

    uniform mediump float uZoomLevel;
    uniform highp float uSemanticThreshold;

    uniform mediump float uGradientStrength;

#pragma markUniforms
};
`;class Jx extends ze{constructor(t){super(t),this.params=t,this.k=t.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(t){this.reservoir.push(t),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(t){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=t,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(t){this.ingester(t)}complete(){for(const t of this.reservoir)this._propagate(t);super.complete()}}function XR(n,t,e){const i=new Jx({type:"sample",size:n});for(const r of t)i.handle(e(r));return i.complete(),i.reservoir}const ZR={};class $R extends zc{constructor(e){super(e);v(this,qA);v(this,Yo,()=>0);this.augmentDefaultProperties({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02,minPickingSize:2});const i=this.properties.semanticZoomFraction;if(i!=null)if(Me(i)){const r=this.unitView.paramRuntime.watchExpression(i.expr,()=>this.getContext().animator.requestRender());Q(this,Yo,r)}else Q(this,Yo,()=>i);"geometricZoomBound"in this.properties&&console.warn('geometricZoomBound is deprecated. Use something like the following instead: "size": { "expr": "min(0.5 * pow(zoomLevel, 2), 200)" }.')}getAttributes(){return["uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...ZR}}fixEncoding(e){return Vx(e,this.properties.filled),Yx(e,this.properties.filled),delete e.color,delete e.opacity,e}initializeData(){var i,r;super.initializeData();const e=(r=(i=this.encoders.semanticScore)==null?void 0:i.dataAccessor)==null?void 0:r.asNumberAccessor();e&&(this.sampledSemanticScores=Float32Array.from(XR(1e4,this.unitView.getCollector().getData(),e)),this.sampledSemanticScores.sort((s,o)=>s-o))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(KR,jR,[WR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;this.registerMarkUniformValue("uInwardStroke",e.inwardStroke,i=>!!i),this.registerMarkUniformValue("uGradientStrength",e.fillGradientStrength),this.registerMarkUniformValue("uMinPickingSize",e.minPickingSize)}updateGraphicsData(){const e=this.unitView.getCollector();if(!e){console.debug("No collector");return}const i=e.getItemCount(),r=new PR({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(i,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const s=r.toArrays();this.rangeMap.migrateEntries(s.rangeMap),this.updateBufferInfo(s)}getSemanticThreshold(){if(this.sampledSemanticScores){const e=Math.max(0,1-g(this,Yo).call(this)*this.unitView.getZoomLevel());if(e<=0)return-1/0;if(e>=1)return 1/0;{const i=this.sampledSemanticScores;return Nm(i,e)}}else return-1}prepareRender(e){const i=super.prepareRender(e);return i.push(()=>{Ic(this.markUniformInfo,{uScaleFactor:F(this,qA,b2).call(this),uSemanticThreshold:this.getSemanticThreshold()}),this.markUniformsAltered=!0}),i.push(()=>this.bindOrSetMarkUniformBlock()),i.push(()=>vr(this.gl,this.programInfo,this.vertexArrayInfo)),i}render(e){const i=this.gl;return this.createRenderCallback((r,s)=>{s&&kf(i,this.vertexArrayInfo,i.POINTS,s,r)},e)}}Yo=new WeakMap,qA=new WeakSet,b2=function(){const e=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/e),1/3)};const eN=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

flat out vec4 vColor;

/** Stroke width */
flat out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,tN=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;

flat in vec4 vColor;
flat in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,nN=`layout(std140) uniform Mark {
    /** Minimum rule length in pixels */
    uniform mediump float uMinLength;

    uniform mediump float uDashTextureSize;
    uniform lowp int uStrokeCap;
    uniform mediump float uStrokeDashOffset;

#pragma markUniforms
};
`;class iN extends zc{constructor(t){super(t),this.dashTextureSize=0,this.augmentDefaultProperties({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){if(!(t.x&&t.y&&t.x2&&t.y2))if(t.x&&t.x2&&!t.y)t.y={value:.5},t.y2=t.y;else if(t.y&&t.y2&&!t.x)t.x={value:.5},t.x2=t.x;else if(t.x&&!t.y)t.y={value:0},t.y2={value:1},t.x2=t.x;else if(t.y&&!t.x)t.x={value:0},t.x2={value:1},t.y2=t.y;else if(t.x&&t.y&&t.y2)t.x2=t.x;else if(t.y&&t.x&&t.x2)t.y2=t.y;else if(t.y&&t.x)if(!t.x2&&zt(t.y)&&t.y.type=="quantitative")t.x2=t.x,t.y2={datum:0};else if(!t.y2&&zt(t.x)&&t.x.type=="quantitative")t.y2=t.y,t.x2={datum:0};else throw new Error("A bug!");else throw new Error("At a minimum, either the x or y channel must be defined in the rule mark's encoding: "+JSON.stringify(t));return t}async initializeGraphics(){await super.initializeGraphics();const t=this.gl,e=rN(this.properties.strokeDash);this.dashTexture=bc(t,{level:0,mag:t.NEAREST,min:t.NEAREST,internalFormat:t.R8,format:t.RED,src:e,height:1}),this.dashTextureSize=e.length,this.createAndLinkShaders(eN,tN,[nN])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uMinLength",t.minLength),this.registerMarkUniformValue("uStrokeCap",t.strokeCap??"butt",e=>["butt","square","round"].indexOf(e)),Ic(this.markUniformInfo,{uDashTextureSize:+this.dashTextureSize}),this.markUniformsAltered=!0}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const e=t.getItemCount(),i=new TR({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(e,this.properties.minBufferSize||0)});i.addBatches(t.facetBatches);const r=i.toArrays();this.rangeMap.migrateEntries(r.rangeMap),this.updateBufferInfo(r)}prepareRender(t){const e=super.prepareRender(t);return e.push(()=>this.bindOrSetMarkUniformBlock()),e.push(()=>Br(this.programInfo,{uDashTexture:this.dashTexture})),e.push(()=>vr(this.gl,this.programInfo,this.vertexArrayInfo)),e}render(t){const e=this.gl;return this.createRenderCallback((i,r)=>kf(e,this.vertexArrayInfo,e.TRIANGLE_STRIP,r,i),t)}}function rN(n){if(!n)return new Uint8Array(0);if(n.length==0||n.length%2||n.findIndex(s=>Math.round(s)!=s||s<1||s>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(n));const t=n.reduce((s,o)=>s+o),e=new Uint8Array(t);let i=!0,r=0;for(let s of n){for(;s;)e[r++]=i&&255||0,s--;i=!i}return e}const sN=`flat out vec4 vColor;

/** Stroke width */
flat out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

flat out float vGamma;

const int SHAPE_ARC = 0;
const int SHAPE_DOME = 1;
const int SHAPE_DIAGONAL = 2;
const int SHAPE_LINE = 3;
const int ORIENT_VERTICAL = 0;
const int ORIENT_HORIZONTAL = 1;

float distanceFromLine(vec2 pointOnLine1, vec2 pointOnLine2, vec2 point) {
    vec2 a = point - pointOnLine1;
    vec2 b = pointOnLine2 - pointOnLine1;
    vec2 proj = dot(a, b) / dot(b, b) * b;
    return length(a - proj);
}

bool isInsideViewport(vec2 point, float marginFactor) {
    vec2 margin = uViewportSize * vec2(marginFactor);
    return point.x >= -margin.x
        && point.x <= uViewportSize.x + margin.x
        && point.y >= -margin.y
        && point.y <= uViewportSize.y + margin.y;
}

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    // The bezier's control points
    vec2 p1, p2, p3, p4;

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y())) * uViewportSize;
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2())) * uViewportSize;

    if (uShape <= SHAPE_DOME) {
        if (uShape == SHAPE_DOME) {
            vec2 height = vec2(0.0);
            if (uOrient == ORIENT_VERTICAL) {
                p1 = vec2(min(a.x, b.x), b.y);
                p4 = vec2(max(a.x, b.x), b.y);
                height = vec2(0.0, a.y - b.y);

                if (uClampApex) {
                    if (p4.x > 0.0) {
                        p1.x = max(p1.x, -p4.x);
                    }
                    if (p1.x < uViewportSize.x) {
                        p4.x = min(p4.x, 2.0 * uViewportSize.x - p1.x);
                    }
                }

            } else {
                p1 = vec2(b.x, min(a.y, b.y));
                p4 = vec2(b.x, max(a.y, b.y));
                height = vec2(a.x - b.x, 0.0);

                if (uClampApex) {
                    if (p4.y > 0.0) {
                        p1.y = max(p1.y, -p4.y);
                    }
                    if (p1.y < uViewportSize.y) {
                        p4.y = min(p4.y, 2.0 * uViewportSize.y - p1.y);
                    }
                }
            }

            vec2 controlOffset = height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;

        } if (uShape == SHAPE_ARC) {
            p1 = a;
            p4 = b;

            vec2 chordVector = p4 - p1;
            vec2 unitChordVector = normalize(chordVector);
            vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);
            float chordLength = length(chordVector);

            if (chordLength > uMaxChordLength) {
                if (isInsideViewport(p1, 2.0)) {
                    chordLength = uMaxChordLength;
                    p4 = p1 + unitChordVector * uMaxChordLength;
                } else if (isInsideViewport(p4, 2.0)) {
                    chordLength = uMaxChordLength;
                    p1 = p4 - unitChordVector * uMaxChordLength;
                }
            }

            float height = max(
                chordLength / 2.0 * uArcHeightFactor,
                uMinArcHeight
            );

            // This is a bit poor approximation of a circular arc, but it's probably enough for most purposes.
            // TODO: Consider a more sophisticated approach: https://stackoverflow.com/a/44829356/1547896
            vec2 controlOffset = chordNormal * height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;
        }

    } else if (uShape == SHAPE_DIAGONAL) {
        if (uOrient == ORIENT_VERTICAL) {
            p1 = a;
            p2 = vec2(a.x, (a.y + b.y) / 2.0);
            p3 = vec2(b.x, (a.y + b.y) / 2.0);
            p4 = b;
        } else {
            p1 = a;
            p2 = vec2((a.x + b.x) / 2.0, a.y);
            p3 = vec2((a.x + b.x) / 2.0, b.y);
            p4 = b;
        }
    } else if (uShape == SHAPE_LINE) {
        p1 = a;
        p2 = (a + b) / 2.0;
        p3 = p2;
        p4 = b;
    }

    vec2 strip = vec2(
        float(gl_VertexID / 2) / float(uSegmentBreaks),
        float(gl_VertexID % 2) - 0.5
    );

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    float size = getScaled_size();

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    // Handle minimum picking size or add an extra pixel to the stroke width to accommodate edge antialiasing
    float paddedSize = uPickingEnabled
        ? max(size, uMinPickingSize)
        : size + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    if (uShape == SHAPE_ARC &&
        uArcFadingDistance[0] > 0.0 &&
        uArcFadingDistance[1] > 0.0 &&
        (!uNoFadingOnPointSelection || !isPointSelected()))
    {
        float d = distanceFromLine(p1, p4, p);
        float distanceOpacity = smoothstep(uArcFadingDistance[1], uArcFadingDistance[0], d);    

        // Fade out
        opacity *= distanceOpacity;

        // Collapse fully transparent triangles to skip fragment processing 
        if (distanceOpacity <= 0.0) {
            vNormalLengthInPixels = 0.0;
        }
    }

    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

    vec3 color = getScaled_color();

    vColor = vec4(color * opacity, opacity);

    vGamma = getGammaForColor(color);

    vSize = paddedSize;

    setupPicking();
}
`,oN=`flat in vec4 vColor;
flat in float vSize;
in float vNormalLengthInPixels;
flat in float vGamma;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    opacity = pow(opacity, vGamma);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,aN=`layout(std140) uniform Mark {
    uniform float uArcHeightFactor;

    /** Make very small arcs visible */
    uniform float uMinArcHeight;

    /** The minimum stroke width in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    uniform int uShape;
    uniform int uOrient;
    uniform bool uClampApex;

    // In pixels
    uniform float uMaxChordLength;
    // In pixels
    uniform vec2 uArcFadingDistance;
    uniform bool uNoFadingOnPointSelection;

    uniform int uSegmentBreaks;

#pragma markUniforms
};
`,cN=["arc","dome","diagonal","line"],lN=["vertical","horizontal"];class uN extends zc{constructor(t){super(t),this.augmentDefaultProperties({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,arcHeightFactor:1,minArcHeight:1.5,minPickingSize:3,clampApex:!1,maxChordLength:5e4,arcFadingDistance:!1,noFadingOnPointSelection:!0,linkShape:"arc",orient:"vertical"}),this._baseInstanceExt=this.gl.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}get defaultHitTestMode(){return"endpoints"}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){return t.x2||(zt(t.x)?t.x2={datum:0}:t.x2=t.x),t.y2||(zt(t.y)?t.y2={datum:0}:t.y2=t.y),t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(sN,oN,[aN])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uArcFadingDistance",t.arcFadingDistance,e=>e||[0,0]),this.registerMarkUniformValue("uArcHeightFactor",t.arcHeightFactor),this.registerMarkUniformValue("uMinArcHeight",t.minArcHeight),this.registerMarkUniformValue("uMinPickingSize",t.minPickingSize),this.registerMarkUniformValue("uShape",t.linkShape,e=>cN.indexOf(e)),this.registerMarkUniformValue("uOrient",t.orient,e=>lN.indexOf(e)),this.registerMarkUniformValue("uClampApex",t.clampApex,e=>!!e),this.registerMarkUniformValue("uMaxChordLength",t.maxChordLength),this.registerMarkUniformValue("uSegmentBreaks",t.segments,e=>e),this.registerMarkUniformValue("uNoFadingOnPointSelection",t.noFadingOnPointSelection,e=>!!e)}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const e=t.getItemCount(),i=new LR({encoders:this.encoders,attributes:this.getAttributes(),numItems:e});i.addBatches(t.facetBatches);const r=i.toArrays();this.rangeMap.migrateEntries(r.rangeMap),this.arrays=Object.fromEntries(Object.entries(r.arrays).map(([s,o])=>[s,{...o,data:void 0}])),this.updateBufferInfo(r)}prepareRender(t){const e=super.prepareRender(t);return e.push(()=>this.bindOrSetMarkUniformBlock()),this._baseInstanceExt?e.push(()=>vr(this.gl,this.programInfo,this.vertexArrayInfo)):e.push(()=>this.gl.bindVertexArray(null)),e}render(t){const e=this.gl,i=()=>(this.markUniformInfo.uniforms.uSegmentBreaks[0]+1)*2;return this._baseInstanceExt?this.createRenderCallback((r,s)=>{this._baseInstanceExt.drawArraysInstancedBaseInstanceWEBGL(e.TRIANGLE_STRIP,0,i(),s,r)},t):this.createRenderCallback((r,s)=>{for(const o of Object.entries(this.bufferInfo.attribs)){const[a,l]=o;l.buffer&&l.numComponents&&l.divisor&&(l.offset=r*this.arrays[a].numComponents*this.bytesPerElement.get(a))}vr(e,this.programInfo,this.bufferInfo),e.drawArraysInstanced(e.TRIANGLE_STRIP,0,i(),s)},t)}}const fN=`in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

// Width of the text (all letters)
in float width;

out vec2 vTexCoord;
out float vEdgeFadeOpacity;
flat out vec4 vColor;
flat out float vSlope;
flat out float vGamma;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator * uDevicePixelRatio);

    vec3 color = getScaled_color();

    // Premultiply alpha
    vColor = vec4(color * opacity, opacity);

    // Do something like gamma correction for text when the color is close to black or white.
    vGamma = getGammaForColor(color);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,AN=`uniform sampler2D uTexture;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
flat in vec4 vColor;
flat in float vSlope;
flat in float vGamma;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

float getDist(vec2 uv) {
    vec3 c = texture(uTexture, uv).rgb;
    return 1.0 - median(c.r, c.g, c.b);
}

/**
 * Calculates the super-sampled distance to the edge.
 * This is used to avoid aliasing when rendering small text,
 * as mip-mapping cannot be used here.
 * The distance is averaged over a grid of n x n samples.
 */
float getSuperDist(vec2 uv) {
    vec2 dx = dFdx(uv);
    vec2 dy = dFdy(uv);

    float n = 2.0;

    float sum = 0.0;
    for (float x = 0.5; x < n; x++){
        for (float y = 0.5; y < n; y++) {
            sum += getDist(
                uv +
                x / n * dx +
                y / n * dy
            ); 
        }
    }

    return sum / (n * n);
}

void main() {
    float sigDist = getSuperDist(vTexCoord);

    float slope = vSlope;
    if (uLogoLetter) {
        // Using screen-space derivatives for logo letters because skewed aspect ratios
        // result in blurry edges otherwise. However, use of screen-space derivatives
        // results in crappy looking text with regular letters text.
        slope = 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)));
    }

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);
    opa *= clamp(vEdgeFadeOpacity, 0.0, 1.0);

    opa = pow(opa, vGamma);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,hN=`layout(std140) uniform Mark {
    uniform mediump float uSdfNumerator;

    uniform mediump vec2 uD; // dx & dy

    uniform mediump vec4 uViewportEdgeFadeWidth;
    uniform mediump vec4 uViewportEdgeFadeDistance;
        
    uniform bool uSqueeze;
    uniform bool uLogoLetter;

    // x: -1, 0, 1 = left, center, right
    // y: -1, 0, 1 = top, middle, bottom 
    uniform lowp ivec2 uAlign;

    uniform mediump float uPaddingX;
    uniform bool uFlushX;
    uniform mediump float uPaddingY;
    uniform bool uFlushY;

#pragma markUniforms
};
`,dN={left:-1,center:0,right:1},gN={top:-1,middle:0,bottom:1,alphabetic:1};class pN extends zc{constructor(t){super(t),this.augmentDefaultProperties({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0}),this.font=this.properties.font?t.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):t.context.fontManager.getDefaultFont(),this.setupExprRefsNeedingGraphicsUpdate(["text","fitToBand","logoLetters"])}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(t){for(const e of br)this.properties.fitToBand&&S0(t,e);return t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(fN,AN,[hN])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties,e=this.font.metrics.common.base*.35*(this.properties.logoLetters?.5:1);this.registerMarkUniformValue("uPaddingX",t.paddingX),this.registerMarkUniformValue("uPaddingY",t.paddingY),this.registerMarkUniformValue("uFlushX",t.flushX,i=>!!i),this.registerMarkUniformValue("uFlushY",t.flushY,i=>!!i),this.registerMarkUniformValue("uSqueeze",t.squeeze,i=>!!i),Ic(this.markUniformInfo,{uAlign:[dN[t.align],gN[t.baseline]],uD:[t.dx,-t.dy],uLogoLetter:!!t.logoLetters,uSdfNumerator:e,uViewportEdgeFadeWidth:[t.viewportEdgeFadeWidthTop,t.viewportEdgeFadeWidthRight,t.viewportEdgeFadeWidthBottom,t.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[t.viewportEdgeFadeDistanceTop,t.viewportEdgeFadeDistanceRight,t.viewportEdgeFadeDistanceBottom,t.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const e=t.getData(),i=this.encoding,r=this.encoders.text;let s=0;const o="format"in i.text?nt(i.text.format):c=>c;for(const c of e){const u=o(r(c)),f=Ce(u)?u:u===null?"":""+u;s+=f&&f.length||0}const a=new OR({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(s,this.properties.minBufferSize||1024)});a.addBatches(t.facetBatches);const l=a.toArrays();this.rangeMap.migrateEntries(l.rangeMap),this.updateBufferInfo(l)}prepareRender(t){const e=super.prepareRender(t);return e.push(()=>{Br(this.programInfo,{uTexture:this.font.texture})}),e.push(()=>this.bindOrSetMarkUniformBlock()),e.push(()=>vr(this.gl,this.programInfo,this.vertexArrayInfo)),e}render(t){const e=this.gl;return this.createRenderCallback((i,r)=>kf(e,this.vertexArrayInfo,e.TRIANGLES,r,i),t)}}const qx=1;function Q0(){let n=[0,1],t=[0,1],e=1,i=1,r=0,s=0,o=.5,a=0;const c=u=>(u+o-n[0])/e*i+t[0];return c.invert=u=>(u-t[0])/i*e+n[0]-o,c.domain=function(u){if(arguments.length){n=dS(u),e=n[1]-n[0];const f=n[0]===0&&n[0]===0;if(e<qx&&!f){e=qx;const h=(n[0]+n[1])/2;n[0]=h-e/2,n[1]=h+e/2}return c}else return n.slice()},c.range=function(u){return arguments.length?(t=[...u],i=t[1]-t[0],c):t},c.numberingOffset=function(u){return arguments.length?(a=u,c):a},c.padding=function(u){return arguments.length?(s=u,r=Math.min(1,u),c):r},c.paddingInner=function(u){return arguments.length?(r=Math.min(1,u),c):r},c.paddingOuter=function(u){return arguments.length?(s=u,c):s},c.align=function(u){return arguments.length?(o=Math.max(0,Math.min(1,u)),c):o},c.step=()=>i/e,c.bandwidth=()=>c.step(),c.ticks=u=>{const f=c.align(),h=c.numberingOffset();return Hu(n[0]-f+h,n[1]-f+h,Math.min(u,Math.ceil(e))).filter(Number.isInteger).map(A=>A-a)},c.tickFormat=(u,f)=>{if(f)throw new Error("Index scale's tickFormat does not support a specifier!");const A=wr(n[0],n[1],Math.min(u,Math.ceil(e)))<1e5?nt(","):nt(".3s");return d=>A(d+a)},c.copy=()=>Q0().domain(n).range(t).paddingInner(r).paddingOuter(s).numberingOffset(a),c}const D0=nt(",d");function mN(n){return n.chrom+":"+D0(Math.floor(n.pos+1))}function wN(n,t){return n.chrom+":"+D0(Math.floor(n.pos+1))+"-"+(n.chrom!=t.chrom?t.chrom+":":"")+D0(Math.ceil(t.pos))}const Kx={dm6:`chr3R	32079331
chr3L	28110227
chr2R	25286936
chrX	23542271
chr2L	23513712
chrY	3667352
chr4	1348131
chrM	19524`,hg18:`chr1	247249719
chr2	242951149
chr3	199501827
chr4	191273063
chr5	180857866
chr6	170899992
chr7	158821424
chr8	146274826
chr9	140273252
chr10	135374737
chr11	134452384
chr12	132349534
chr13	114142980
chr14	106368585
chr15	100338915
chr16	88827254
chr17	78774742
chr18	76117153
chr19	63811651
chr20	62435964
chr21	46944323
chr22	49691432
chrX	154913754
chrY	57772954
chrM	16571`,hg19:`chr1	249250621
chr2	243199373
chr3	198022430
chr4	191154276
chr5	180915260
chr6	171115067
chr7	159138663
chr8	146364022
chr9	141213431
chr10	135534747
chr11	135006516
chr12	133851895
chr13	115169878
chr14	107349540
chr15	102531392
chr16	90354753
chr17	81195210
chr18	78077248
chr19	59128983
chr20	63025520
chr21	48129895
chr22	51304566
chrX	155270560
chrY	59373566
chrM	16571`,hg38:`chr1	248956422
chr2	242193529
chr3	198295559
chr4	190214555
chr5	181538259
chr6	170805979
chr7	159345973
chr8	145138636
chr9	138394717
chr10	133797422
chr11	135086622
chr12	133275309
chr13	114364328
chr14	107043718
chr15	101991189
chr16	90338345
chr17	83257441
chr18	80373285
chr19	58617616
chr20	64444167
chr21	46709983
chr22	50818468
chrX	156040895
chrY	57227415
chrM	16569`,mm9:`chr1	197195432
chr2	181748087
chr3	159599783
chr4	155630120
chr5	152537259
chr6	149517037
chr7	152524553
chr8	131738871
chr9	124076172
chr10	129993255
chr11	121843856
chr12	121257530
chr13	120284312
chr14	125194864
chr15	103494974
chr16	98319150
chr17	95272651
chr18	90772031
chr19	61342430
chrX	166650296
chrY	15902555
chrM	16299`,mm10:`chr1	195471971
chr2	182113224
chr3	160039680
chr4	156508116
chr5	151834684
chr6	149736546
chr7	145441459
chr8	129401213
chr9	124595110
chr10	130694993
chr11	122082543
chr12	120129022
chr13	120421639
chr14	124902244
chr15	104043685
chr16	98207768
chr17	94987271
chr18	90702639
chr19	61431566
chrX	171031299
chrY	91744698
chrM	16299`};function CN(n){if(!(n in Kx))throw new Error(`Unknown assembly: ${n}`);return Kx[n].split(`
`).map(t=>{const e=t.split("	");return{name:e[0],size:parseInt(e[1])}})}const yN=/^([A-Za-z]+:)?\/\//;function Tr(n,t){if(t&&yN.test(t))return t;const e=typeof n=="function"?n():n;if(!e)return t;if(!t)return e;if(/[#?]/.test(e))throw new Error(`Cannot append to a url with query or hash. Append: ${t}, base: ${e}`);return jx(e)+t}function jx(n){const t=n.replace(/[^/]*$/,"");return t===""?void 0:t.endsWith("://")?n+"/":t}class xN{constructor(t){if(this.config={name:"custom",...t},"baseUrl"in t)throw new Error("The `baseUrl` property in genome config has been removed in GenomeSpy v0.52.0. Use `url` instead. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.");if(!k0(t))throw new Error("Not a genome configuration: "+JSON.stringify(t));if(this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,Xx(this.config))this.setChromSizes(this.config.contigs);else if(!F0(this.config)){const e=CN(this.config.name);if(e)this.setChromSizes(e);else throw new Error(`Unknown genome: ${this.config.name}. Please provide contigs or a URL. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.`)}}get name(){return this.config.name}async load(t){if(F0(this.config))try{const e=Tr(t,this.config.url),i=await fetch(e);if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);this.setChromSizes(bN(await i.text()))}catch(e){throw new Error(`Could not load chrom sizes: ${this.config.url}. Reason: ${e.message}`)}}hasChrPrefix(){return this.chromosomes.some(t=>t.name.startsWith("chr"))}setChromSizes(t){let e=0;this.startByIndex=[0];for(let i=0;i<t.length;i++){this.startByIndex.push(e);const r=t[i].size,s={...t[i],continuousStart:e,continuousEnd:e+r,continuousInterval:[e,e+r],index:i,number:i+1,odd:!(i&1)};this.chromosomes.push(s);const o=s.name.replace(/^chr/i,"");for(const a of["chr"+o,"CHR"+o,"Chr"+o,s.number,""+s.number,o,s.name])this.cumulativeChromPositions.set(a,e),this.chromosomesByName.set(a,s);e+=s.size}this.totalSize=e}getExtent(){return[0,this.totalSize]}toContinuous(t,e){let i=this.cumulativeChromPositions.get(t);if(i===void 0)throw new Error("Unknown chromosome/contig: "+t);return i+ +e}toChromosome(t){if(t>this.totalSize)return;t=Math.floor(t);const e=pi(this.startByIndex,t)-1;if(e>0&&e<=this.chromosomes.length)return this.chromosomes[e-1]}toChromosomal(t){const e=this.toChromosome(t);if(e)return{chrom:e.name,pos:Math.floor(t)-e.continuousStart}}getChromosome(t){return this.chromosomesByName.get(t)}formatInterval(t){return wN(...this.toChromosomalInterval(t))}formatLocus(t){const e=this.toChromosomal(t);if(e)return mN(e)}toChromosomalInterval(t){const e=this.toChromosomal(t[0]+.5),i=this.toChromosomal(t[1]-.5);return i.pos+=1,[e,i]}toContinuousInterval(t){var r;let[e,i]=t;return i||(i=e),[this.toContinuous(e.chrom,e.pos??0),this.toContinuous(i.chrom,i.pos??((r=this.chromosomesByName.get(i.chrom))==null?void 0:r.size))]}toDiscreteChromosomeIntervals(t){const e=t[0],i=t[1],r=[];if(e.chrom===i.chrom)r.push({chrom:e.chrom,startPos:e.pos,endPos:i.pos});else{const s=this.chromosomes.findIndex(a=>a.name===e.chrom),o=this.chromosomes.findIndex(a=>a.name===i.chrom);r.push({chrom:e.chrom,startPos:e.pos,endPos:this.chromosomes[s].size});for(let a=s+1;a<o;a++)r.push({chrom:this.chromosomes[a].name,startPos:0,endPos:this.chromosomes[a].size});r.push({chrom:i.chrom,startPos:0,endPos:i.pos})}return r}continuousToDiscreteChromosomeIntervals(t){return this.toDiscreteChromosomeIntervals([this.toChromosomal(t[0]),this.toChromosomal(t[1])])}parseInterval(t){const e=t.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(e){const i=e[1];if(e.slice(2).every(a=>a===void 0)){const a=this.getChromosome(i);return a?[a.continuousStart,a.continuousEnd]:void 0}const r=e[3]||i,s=parseInt(e[2].replace(/,/g,"")),o=e[4]!==void 0?parseInt(e[4].replace(/,/g,"")):s;return[this.toContinuous(i,s-1),this.toContinuous(r,o)]}}}function bN(n){return eS(n).map(([t,e])=>({name:t,size:parseInt(e)}))}function Wx(n){return tt(n)&&"chrom"in n}function IN(n){return n.every(Wx)}function k0(n){return tt(n)&&("name"in n||F0(n)||Xx(n))}function F0(n){return k0(n)&&"url"in n}function Xx(n){return k0(n)&&"contigs"in n}function EN(){const n=Q0().numberingOffset(1);let t;n.genome=function(i){return arguments.length?(t=i,n):t},n.ticks=i=>{if(!t)return[];const r=n.domain(),s=n.numberingOffset(),[o,a]=[Math.max(r[0],0),Math.min(r[1],t.totalSize-1)].map(u=>t.toChromosome(u)),l=Math.max(1,wr(r[0],r[1],i)),c=[];for(let u=o.index;u<=a.index;u++){const f=t.chromosomes[u],h=Math.max(f.continuousStart+l,r[0]-(r[0]-f.continuousStart)%l),A=Math.min(f.continuousEnd-l/4,r[1]+1);for(let d=h;d<=A;d+=l){const p=d-s;p>=r[0]&&p<r[1]&&c.push(p)}}return c},n.tickFormat=(i,r)=>{if(!t)return;if(r)throw new Error("Locus scale's tickFormat does not support a specifier!");const s=n.domain(),o=s[1]-s[0],a=n.numberingOffset(),c=wr(s[0],s[1],Math.min(i,Math.ceil(o)))<1e6?nt(","):nt(".3s"),u=f=>f-t.toChromosome(f).continuousStart;return f=>c(u(f)+a)};const e=n.copy;return n.copy=()=>{const i=e();let r=t;return i.genome=function(s){return arguments.length?(r=s,i):r},i.genome(t)},n}function BN(n){return n.type=="locus"}function vN(n,t){const e=Hc(n);return e?e.toChromosomal(t):t}function SN(n,t){const e=Hc(n);return e&&Wx(t)?e.toContinuous(t.chrom,t.pos):t}function QN(n,t){const e=Hc(n);return e&&IN(t)?e.toContinuousInterval(t):t}function DN(n,t){const e=Hc(n);return e?e.toChromosomalInterval(t):t}function kN(n){const t=Hc(n);if(!t)throw new Error("No genome has been defined!");return t.getExtent()}function Hc(n){if(n&&"toChromosomal"in n)return n;if(n&&"genome"in n)return n.genome()}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function Zx(n,t,e){return ot(t)&&e!=null&&(t=Math.min(t,~~(Ga(n.domain())/e)||1)),tt(t)&&(t.step,t=t.interval),t}function $x(n,t,e){var i=n.range(),r=Math.floor(i[0]),s=Math.ceil($t(i));if(r>s&&(i=s,s=r,r=i),t=t.filter(function(a){return a=n(a),r<=a&&a<=s}),e>0&&t.length>1){for(var o=[t[0],$t(t)];t.length>e&&t.length>=3;)t=t.filter(function(a,l){return!(l%2)});t.length<3&&(t=o)}return t}function FN(n,t){return n.bins?$x(n,RN(n.bins,t)):n.ticks?n.ticks(t):n.domain()}function RN(n,t){var e=n.length,i=~~(e/(t||e));return i<2?n.slice():n.filter(function(r,s){return!(s%i)})}function NN(n,t,e){var i=n.tickFormat?n.tickFormat(t,e):e?nt(e):String;if(yx(n.type)){var r=TN(e);i=n.bins?r:MN(i,r)}return i}function MN(n,t){return function(e){return n(e)?t(e):""}}function TN(n){var t=zs(n||",");if(t.precision==null){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1;break}return PN(nt(t),nt(".1f")(1)[1])}else return nt(t)}function PN(n,t){return function(e){var i=n(e),r=i.indexOf(t),s,o;if(r<0)return i;for(s=LN(i,r),o=s<i.length?i.slice(s):"";--s>r;)if(i[s]!=="0"){++s;break}return i.slice(0,s)+o}}function LN(n,t){var e=n.lastIndexOf("e"),i;if(e>0)return e;for(e=n.length;--e>t;)if(i=n.charCodeAt(e),i>=48&&i<=57)return e+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const ON="locus",UN="index";var GN=5;function zN(n){const t=n.type;return!n.bins&&(t===lo||t===Dc||t===kc)}function e1(n){return Xe(n)&&![En,UN,ON].includes(n)}function t1(n){return n||{warn:(t,...e)=>console.warn(t,...e)}}var HN=Pu(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function n1(n,t,e){e=t1(e);for(const r in n)if(!HN[r]){if(r==="padding"&&e1(t.type))continue;Ot(t[r])?t[r](n[r]):e.warn("Unsupported scale property: "+r)}const i=i1(t,n,e);i.domain&&t.domain(i.domain),i.applyOrdinalUnknown&&t.unknown(i.ordinalUnknown),WN(t,n,jN(t,n,i.count))}function _N(n,t){const e=VN(n),i=he(e);if(!i)throw new Error("Unknown scale type: "+e);const r=i();return!n.domain&&Xe(r.type)&&(n.domain=[0,0]),n1(n,r,t),r}function VN(n){var t=n.type,e="",i;return t===En?En+"-"+lo:(YN(n)&&(i=n.rawDomain?n.rawDomain.length:n.domain?n.domain.length+ +(n.domainMid!=null):0,e=i===2?En+"-":i===3?uo+"-":""),(e+t||lo).toLowerCase())}function YN(n){const t=n.type;return Xe(t)&&t!==Ax&&t!==hx&&(n.scheme||n.range&&n.range.length&&n.range.every(Ce))}function JN(n){if(!n.copy)return n;const t=n.copy();return t.type==null&&n.type!=null&&(t.type=n.type),t}function i1(n,t,e){if(!n.domain)return{domain:null,count:0,ordinalUnknown:void 0,applyOrdinalUnknown:!1};e=t1(e);const i=JN(n);var r=qN(i,t.domainRaw,e);if(r>-1)return{domain:i.domain(),count:r,ordinalUnknown:i.type===Fc&&t.domainImplicit?Rf:void 0,applyOrdinalUnknown:!1};var s=t.domain,o=i.type,a=t.zero||t.zero===void 0&&zN(i),l,c;return s?(e1(o)&&t.padding&&s[0]!==$t(s)&&(s=KN(o,s,t.range,t.padding,t.exponent,t.constant)),(a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(l=(s=s.slice()).length-1||1,a&&(s[0]>0&&(s[0]=0),s[l]<0&&(s[l]=0)),t.domainMin!=null&&(s[0]=t.domainMin),t.domainMax!=null&&(s[l]=t.domainMax),t.domainMid!=null&&(c=t.domainMid,(c<s[0]||c>s[l])&&e.warn("Scale domainMid exceeds domain min or max.",c),s.splice(l,0,c))),i.domain(r1(o,s,e)),t.nice&&i.nice&&i.nice(t.nice!==!0&&Zx(i,t.nice)||null),{domain:i.domain(),count:s.length,ordinalUnknown:o===Fc&&t.domainImplicit?Rf:void 0,applyOrdinalUnknown:o===Fc}):{domain:null,count:0,ordinalUnknown:void 0,applyOrdinalUnknown:!1}}function qN(n,t,e){return t?(n.domain(r1(n.type,t,e)),t.length):-1}function KN(n,t,e,i,r,s){e??(e=[0,1]);var o=Math.abs($t(e)-e[0]),a=o/(o-2*i),l=n===Ri?em(t,null,a):n===kc?dh(t,null,a,.5):n===Dc?dh(t,null,a,r||1):n===Yf?mv(t,null,a,s||1):$p(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function r1(n,t,e){if(yx(n)){var i=Math.abs(t.reduce(function(r,s){return r+(s<0?-1:s>0?1:0)},0));i!==t.length&&e.warn("Log scale domain includes zero: "+ph(t))}return t}function jN(n,t,e){let i=t.bins;if(i&&!Ne(i)){const r=(i.start==null||i.stop==null)&&n.domain(),s=i.start==null?r[0]:i.start,o=i.stop==null?$t(r):i.stop,a=i.step;a||Le("Scale bins parameter missing step property."),i=Za(s,o+a,a)}return i?n.bins=i:n.bins&&delete n.bins,n.type===w0&&(i?!t.domain&&!t.domainRaw&&(n.domain(i),e=i.length):n.bins=n.domain()),e}function WN(n,t,e){var i=n.type,r=t.round||!1,s=t.range;if(t.rangeStep!=null)s=XN(i,t,e);else if(t.scheme&&(s=ZN(i,t,e),Ot(s))){if(n.interpolator)return n.interpolator(s);Le(`Scale type ${i} does not support interpolating color schemes.`)}if(s&&qf(i))return n.interpolator(Kf(R0(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&n.interpolate?n.interpolate(xx(t.interpolate,t.interpolateGamma)):Ot(n.round)?n.round(r):Ot(n.rangeRound)&&n.interpolate(r?Sc:ki),s&&n.range(R0(s,t.reverse))}function XN(n,t,e){n!==px&&n!==m0&&Le("Only band and point scales support rangeStep.");var i=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,r=n===m0?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*g0(e,r,i)]}function ZN(n,t,e){var i=t.schemeExtent,r,s;return Ne(t.scheme)?s=Kf(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),s=y0(r),s||Le(`Unrecognized scheme name: ${t.scheme}`)),e=n===gx?e+1:n===w0?e-1:n===p0||n===dx?+t.schemeCount||GN:e,qf(n)?s1(s,i,t.reverse):Ot(s)?rR(s1(s,i),e):n===Fc?s:s.slice(0,e)}function s1(n,t,e){return Ot(n)&&(t||e)?iR(n,R0(t||[0,1],e)):n}function R0(n,t){return t?n.slice().reverse():n}class $N{constructor({getParamRuntime:t,onRangeChange:e,onDomainChange:i,getGenomeStore:r}){v(this,qt);v(this,kn);v(this,Ji,new Set);v(this,vl);v(this,Sl);v(this,Ql);v(this,Jo);v(this,qo,0);Q(this,vl,t),Q(this,Sl,e),Q(this,Ql,i),Q(this,Jo,r)}get scale(){return g(this,kn)}getLocusGenome(){var i;const t=(i=g(this,Jo))==null?void 0:i.call(this),e=t==null?void 0:t.getGenome();if(!e)throw new Error("No genome has been defined!");return e}createScale(t){const e=_N({...F(this,qt,wp).call(this,t),range:void 0});return e.props=t,"unknown"in e&&e.unknown(null),Q(this,kn,e),F(this,qt,I2).call(this,t),F(this,qt,Cp).call(this),F(this,qt,E2).call(this),g(this,kn)}reconfigureScale(t){const e=g(this,kn);!e||e.type=="null"||(n1({...F(this,qt,wp).call(this,t),range:void 0},e),e.props=t,F(this,qt,Cp).call(this))}withDomainNotificationsSuppressed(t){Q(this,qo,g(this,qo)+1);try{t()}finally{Q(this,qo,g(this,qo)-1)}}dispose(){g(this,Ji).forEach(t=>t.invalidate()),g(this,Ji).clear()}}kn=new WeakMap,Ji=new WeakMap,vl=new WeakMap,Sl=new WeakMap,Ql=new WeakMap,Jo=new WeakMap,qo=new WeakMap,qt=new WeakSet,I2=function(t){var s;const e=g(this,kn);if(!e||!BN(e))return;const i=(s=g(this,Jo))==null?void 0:s.call(this),r=i==null?void 0:i.getGenome(t.assembly);if(!r)throw new Error("No genome has been defined!");e.genome(r)},wp=function(t){const e=t,{assembly:i,domainIndexer:r,...s}=e;return s},Cp=function(){const t=g(this,kn);if(!t)return;const e=t.props;g(this,Ji).forEach(s=>s.invalidate()),g(this,Ji).clear();const i=tM({range:e.range,reverse:e.reverse,createExpression:s=>g(this,vl).call(this).createExpression(s),registerExpr:s=>g(this,Ji).add(s)});if(!i)return;if("values"in i){t.range(i.values);return}const r=()=>t.range(i.evaluate());i.setup(r),r()},E2=function(){const t=g(this,kn);if(!t)return;const e=t.range,i=t.domain,r=()=>{var o;return(o=g(this,Sl))==null?void 0:o.call(this)};eM(t,{onRangeChange:r,onDomainChange:()=>{var o;g(this,qo)>0||(o=g(this,Ql))==null||o.call(this)},range:e,domain:i}),r()};function eM(n,{onRangeChange:t,onDomainChange:e,range:i,domain:r}){typeof i=="function"&&(n.range=(function(s){if(arguments.length)i(s),t==null||t();else return i()})),typeof r=="function"&&(n.domain=(function(s){if(arguments.length)r(s),e==null||e();else return r()}))}function tM({range:n,reverse:t,createExpression:e,registerExpr:i}){if(!n||!Ne(n))return null;const r=(s,o)=>o?s.slice().reverse():s;if(n.some(Me)){let s;return{dynamic:!0,evaluate:()=>r(s.map(l=>l()),t),setup:l=>{s=n.map(c=>{if(Me(c)){const u=e(c.expr);return u.subscribe(l),i(u),()=>u(null)}return()=>c})}}}return{dynamic:!1,values:r(n,t)}}function $f(n,t,e){if(e=e||[],n.some(o=>o===null)){if(n.every(o=>o===null))return null;throw console.warn(n),new Error("Cannot merge objects with nulls!")}const i={},r=(o,a)=>o===a||ho(o)&&ho(a)||ho(o)&&a===!0||o===!0&&tt(a)||Array.isArray(o)&&Array.isArray(a)&&o.length===a.length&&o.every((l,c)=>l===a[c]),s=o=>{for(let a in o){const l=o[a];if(!e.includes(a)&&l!==void 0)if(i[a]!==void 0&&!r(i[a],l))console.warn(`Conflicting property ${a} of ${t}: (${JSON.stringify(i[a])} and ${JSON.stringify(o[a])}). Using ${JSON.stringify(i[a])}.`);else{const c=i[a];if(ho(c))ho(l)&&(i[a]=$f([c,l],a));else if(ho(l)){if(!(c===!0||c===void 0))throw new Error("Bug in merge! Target is: "+c);i[a]=$f([{},l],a)}else i[a]=l}}};for(const o of n)s(o);return i}function ho(n){return tt(n)&&!Array.isArray(n)}const o1="quantitative",a1="ordinal",c1="nominal",_c="locus",l1="index";function nM(n,t,e){const i={};return e&&(i.zero=!1),gc(n)?i.nice=!e:yi(n)?i.scheme=t==c1?"tableau10":t==a1?"blues":"viridis":of(n)?i.range=n=="shape"?["circle","square","triangle-up","cross","diamond"]:[]:n=="size"?i.range=[0,400]:n=="angle"&&(i.range=[0,360]),i}function iM(n,t){if(t==l1||t==_c){if($h(n))return t;throw new Error(n+" does not support "+t+" data type. Only positional channels do.")}const e={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"],sample:["null",void 0,void 0]},r=["sample"].includes(n)?"null":e[n]?e[n][[c1,a1,o1].indexOf(t)]:t==o1?"linear":"ordinal";if(r===void 0)throw new Error('Channel "'+n+'" is not compatible with "'+t+'" data type. Use of a proper scale may be needed.');return r}function rM(n,t){gc(t)&&n.type!=="ordinal"&&(n.range=[0,1]),t=="opacity"&&Xe(n.type)&&(n.clamp=!0)}function sM({channel:n,dataType:t,members:e,isExplicitDomain:i}){const r=Array.from(e).map(a=>a.channelDef.scale).filter(a=>a!==void 0),s=$f(r,"scale",["domain"]);if(s===null||s.type=="null")return{type:"null"};const o={...nM(n,t,i),...s};return o.type||(o.type=iM(n,t)),n=="y"&&Vn(o.type)&&o.reverse==null&&(o.reverse=!0),o.range&&o.scheme&&delete o.scheme,!("zoom"in o)&&[l1,_c].includes(o.type)&&(o.zoom=!0),rM(o,n),o}class Vc extends Array{constructor(){super(),this.type=void 0}extend(t){return this}extendAll(t){if(t instanceof Vc&&t.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${t.type}`);for(const e of t)this.extend(e);return this}extendAllWithAccessor(t,e){for(const i of t)this.extend(e(i));return this}}class N0 extends Vc{constructor(){super(),this.type="quantitative"}extend(t){return t==null||Number.isNaN(t)?this:(t=+t,this.length?t<this[0]?this[0]=t:t>this[1]&&(this[1]=t):(this.push(t),this.push(t)),this)}}class u1 extends Vc{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(t){return t==null||Number.isNaN(t)?this:(this.uniqueValues.has(t)||(this.uniqueValues.add(t),this.push(t)),this)}}class M0 extends u1{constructor(){super(),this.type="nominal"}}class oM extends Vc{constructor(t){super();let e=0;for(let i=1;i<t.length;i++)e+=Math.sign(t[i]-t[i-1]);if(Math.abs(e)!=t.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(t));t.forEach(i=>this.push(i))}extend(t){if(this.includes(t))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const f1={quantitative:N0,index:N0,locus:N0,nominal:M0,ordinal:u1};function eA(n,t){if(n=="quantitative"&&aM(t)){const e=new oM(t);return e.type=n,e}else if(f1[n]){const e=new f1[n];return e.type=n,t&&e.extendAll(t),e}throw new Error("Unknown type: "+n)}function aM(n){return n&&n.length>0&&n.length!=2&&n.every(t=>typeof t=="number")}class cM{constructor({getMembers:t,getDataMembers:e,getType:i,getLocusExtent:r,fromComplexInterval:s}){v(this,KA);v(this,Dl);v(this,kl);v(this,Ko);v(this,Fl);v(this,Rl);v(this,rs);v(this,Nl);v(this,jo,!0);v(this,Ml,new WeakMap);Q(this,Dl,t),Q(this,kl,e??t),Q(this,Ko,i),Q(this,Fl,r),Q(this,Rl,s)}get initialDomainSnapshot(){return g(this,rs)}hasConfiguredDomain(){return!!this.getConfiguredDomain()}invalidateConfiguredDomain(){Q(this,jo,!0)}getConfiguredOrDefaultDomain(t=!1){return this.getConfiguredDomain()??fM(g(this,Ko).call(this),g(this,Fl),t?this.getDataDomain():void 0)}getConfiguredDomain(){if(!g(this,jo))return g(this,Nl);const t=lM(g(this,Dl).call(this),g(this,Rl));return Q(this,Nl,t),Q(this,jo,!1),t}getDataDomain(){return uM(g(this,kl).call(this),g(this,Ko),t=>F(this,KA,B2).call(this,t))}captureInitialDomain(t,e){if(!g(this,rs)&&Xe(t.type)){const i=t.domain();Ga(i)>0&&Q(this,rs,i)}return e?!1:(Q(this,rs,t.domain()),!0)}}Dl=new WeakMap,kl=new WeakMap,Ko=new WeakMap,Fl=new WeakMap,Rl=new WeakMap,rs=new WeakMap,Nl=new WeakMap,jo=new WeakMap,Ml=new WeakMap,KA=new WeakSet,B2=function(t){const e=g(this,Ml).get(t);if(e)return e;const i=t.view.mark.encoders;if(!i)return[];const r=i[t.channel];if(!r)return[];const s=r.accessors??[];if(s.length===0)return[];const o=s.filter(Ew).filter(a=>!a.channelDef.domainInert);return g(this,Ml).set(t,o),o};function lM(n,t){const e=Array.from(n).filter(i=>i.contributesToDomain).map(i=>i.channelDef).filter(i=>{var r;return(r=i.scale)==null?void 0:r.domain}).map(i=>eA(i.type,t(i.scale.domain)));if(e.length>0)return e.reduce((i,r)=>i.extendAll(r))}function uM(n,t,e){const i=t(),r=new Map;for(const o of n){if(!o.contributesToDomain)continue;const a=e(o);if(a.length===0)continue;const l=o.view.getCollector();for(const c of a){const u=vw(c,i),f=l??null;let h=r.get(f);if(h||(h=new Map,r.set(f,h)),h.has(u))continue;let A;if(l)A=l.getDomain(u,i,c);else if(c.constant)A=eA(i),A.extend(c({}));else continue;h.set(u,A)}}if(r.size===0)return;const s=eA(i);for(const o of r.values())for(const a of o.values())s.extendAll(a);return s}function fM(n,t,e){return n==_c?t():e??[]}function AM(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}function hM(n,t,e){return n*Math.pow(t/n,e)}const dM=n=>new Promise(t=>setTimeout(t,n));function gM(){return{canceled:!1}}function pM(n){const t=n.requestAnimationFrame||window.requestAnimationFrame,e=n.signal,i=n.cancelToken,r=()=>new Promise((s,o)=>{if(i!=null&&i.canceled)return s();if(e!=null&&e.aborted)return o("aborted");const a=performance.now(),l=a+(n.duration||1e3),c=typeof n.from=="number"?n.from:0,u=typeof n.to=="number"?n.to:1,f=n.easingFunction||(w=>w),h=w=>(w-a)/(l-a),A=w=>w*(u-c)+c,d=w=>Math.max(0,Math.min(1,w)),p=w=>{if(i!=null&&i.canceled){s();return}e!=null&&e.aborted?o("aborted"):(n.onUpdate(A(f(d(h(w))))),w<l?t(p):(n.onUpdate(A(f(1))),s()))};t(p)});return n.delay?i!=null&&i.canceled?Promise.resolve():e!=null&&e.aborted?Promise.reject("aborted"):dM(n.delay).then(r):r()}class mM{constructor({getScale:t,getAnimator:e,getInitialDomainSnapshot:i,getResetDomain:r,fromComplexInterval:s,getGenomeExtent:o}){v(this,Ol);v(this,Kt);v(this,Tl);v(this,Pl);v(this,Wo);v(this,Xo);v(this,Ll);v(this,Zn,null);Q(this,Kt,t),Q(this,Tl,e),Q(this,Pl,i),Q(this,Wo,r),Q(this,Xo,s),Q(this,Ll,o)}getZoomExtent(){const t=g(this,Kt).call(this),e=t.props.zoom;return wM(t,e,g(this,Xo),g(this,Ll),g(this,Pl))}isZoomable(){return this.isZoomingSupported()&&!!g(this,Kt).call(this).props.zoom}isZoomingSupported(){const t=g(this,Kt).call(this).type;return Xe(t)&&!Vn(t)}getDomainChangeAction(t,e){return Js(e,t)?"none":this.isZoomable()?"restore":this.isZoomingSupported()?"animate":"notify"}isZoomed(){return this.isZoomingSupported()&&Js(g(this,Wo).call(this),g(this,Kt).call(this).domain())}zoom(t,e,i){if(!this.isZoomingSupported())return!1;const r=g(this,Kt).call(this),s=r.domain();let o=CM(r,s,t,e,i);const a=this.getZoomExtent();return o=wv(o,a[0],a[1]),[0,1].some(l=>o[l]!=s[l])?(r.domain(o),!0):!1}async zoomTo(t,e=!1){if(Ua(e)&&(e=e?700:0),!this.isZoomingSupported())throw new Error("Not a zoomable scale!");const i=g(this,Xo).call(this,t),r=g(this,Tl).call(this),s=g(this,Kt).call(this),o=s.domain();if(e>0&&o.length==2){const a=o[1]-o[0],l=i[1]-i[0],c=o[0]+a/2,u=i[0]+l/2,f=o[0]==i[0],h=o[1]==i[1];F(this,Ol,yp).call(this);const A=gM();Q(this,Zn,A),await r.transition({duration:e,easingFunction:AM,cancelToken:A,onUpdate:d=>{const p=hM(a,l,d),w=a==l?d:(a-p)/(a-l),m=w*u+(1-w)*c,y=[f?o[0]:m-p/2,h?o[1]:m+p/2];s.domain(y)}}),g(this,Zn)===A&&Q(this,Zn,null),s.domain(i)}else F(this,Ol,yp).call(this),s.domain(i),r==null||r.requestRender()}resetZoom(){if(!this.isZoomingSupported())throw new Error("Not a zoomable scale!");const t=g(this,Kt).call(this),e=t.domain(),i=g(this,Wo).call(this);return[0,1].some(r=>i[r]!=e[r])?(t.domain(i),!0):!1}getZoomLevel(){return this.isZoomable()?Ga(this.getZoomExtent())/Ga(g(this,Kt).call(this).domain()):1}}Kt=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,Wo=new WeakMap,Xo=new WeakMap,Ll=new WeakMap,Zn=new WeakMap,Ol=new WeakSet,yp=function(){g(this,Zn)&&(g(this,Zn).canceled=!0,Q(this,Zn,null))};function wM(n,t,e,i,r){return yM(t)&&Ne(t.extent)?e(t.extent):t&&n.props.type=="locus"?i():r()}function CM(n,t,e,i,r){let s=[...t],o=n.invert(i);switch(n.props.reverse&&(r=-r),"align"in n&&(o+=n.align()),n.type){case"linear":case"index":case"locus":s=dv(s,r||0),s=$p(s,o,e);break;case"log":s=gv(s,r||0),s=em(s,o,e);break;case"pow":case"sqrt":{const a=n;s=pv(s,r||0,a.exponent()),s=dh(s,o,e,a.exponent());break}default:throw new Error("Zooming is not implemented for: "+n.type)}return s}function yM(n){return tt(n)}he("index",Q0,["continuous"]),he("locus",EN,["continuous"]),he("null",x0,[]);class xM{constructor(t){v(this,K);v(this,ln,new Set);v(this,Zo,new Set);v(this,qi,{domain:new Set,range:new Set});v(this,Te);v(this,Nt);v(this,jt);v(this,ss);v(this,Ul,!1);this.channel=t,this.type=null,this.name=void 0,Q(this,Nt,new cM({getMembers:()=>F(this,K,bp).call(this),getDataMembers:()=>F(this,K,bp).call(this,g(this,Zo)),getType:()=>this.type,getLocusExtent:()=>F(this,K,Ep).call(this),fromComplexInterval:this.fromComplexInterval.bind(this)})),Q(this,Te,new $N({getParamRuntime:()=>g(this,K,xp).paramRuntime,onRangeChange:()=>F(this,K,La).call(this,"range"),onDomainChange:()=>F(this,K,La).call(this,"domain"),getGenomeStore:()=>g(this,K,Ip).genomeStore})),Q(this,jt,new mM({getScale:()=>this.getScale(),getAnimator:()=>g(this,K,Ip).animator,getInitialDomainSnapshot:()=>g(this,Nt).initialDomainSnapshot,getResetDomain:()=>g(this,Nt).getConfiguredOrDefaultDomain(),fromComplexInterval:this.fromComplexInterval.bind(this),getGenomeExtent:()=>F(this,K,Ep).call(this)}))}get zoomExtent(){return(g(this,Te).scale&&Xe(g(this,Te).scale.type)&&g(this,jt).getZoomExtent())??[-1/0,1/0]}addEventListener(t,e){g(this,qi)[t].add(e)}removeEventListener(t,e){g(this,qi)[t].delete(e)}registerMember(t){return F(this,K,v2).call(this,t),()=>{const e=g(this,ln).delete(t);return e&&(g(this,Zo).delete(t),g(this,Nt).invalidateConfiguredDomain()),e&&g(this,ln).size===0}}dispose(){g(this,qi).domain.clear(),g(this,qi).range.clear(),g(this,Te).dispose()}registerCollectorSubscriptions(t,e){const i=new Set;for(const o of e)o.channelDef.domainInert||i.add(vw(o,this.type));if(i.size===0)return()=>{};const r=()=>{this.reconfigureDomain()},s=[];for(const o of i)s.push(t.subscribeDomainChanges(o,r));return()=>{for(const o of s)o()}}reconfigure(){g(this,Nt).invalidateConfiguredDomain();const t=F(this,K,vp).call(this,!0);t&&(F(this,K,Sp).call(this,t,(e,i)=>g(this,Te).reconfigureScale(i)),F(this,K,Qp).call(this,t))}reconfigureDomain(){const t=F(this,K,vp).call(this,!0,!0);if(!t)return;const{domainConfig:e,targetDomain:i}=t,r=i!=null&&Js(i,t.scale.domain());i!=null&&!r&&F(this,K,Sp).call(this,t,s=>{s.domain(i),e.applyOrdinalUnknown&&s.unknown(e.ordinalUnknown)}),F(this,K,Qp).call(this,t)}get scale(){if(g(this,Te).scale)return g(this,Te).scale;throw new Error("ScaleResolution.scale accessed before initialization. Call initializeScale().")}getScale(){return g(this,Te).scale??this.initializeScale()}initializeScale(){if(g(this,Te).scale)return g(this,Te).scale;const t=F(this,K,oh).call(this);return g(this,Te).createScale(t)}getDomain(){return this.getScale().domain()}getDataDomain(){return g(this,Nt).getDataDomain()}getComplexDomain(){return DN(F(this,K,Pa).call(this),this.getDomain())}isZoomed(){return g(this,jt).isZoomed()}isZoomable(){return g(this,jt).isZoomable()}zoom(t,e,i){return g(this,jt).zoom(t,e,i)}async zoomTo(t,e=!1){return g(this,jt).zoomTo(t,e)}resetZoom(){return g(this,jt).resetZoom()}getZoomLevel(){return g(this,jt).getZoomLevel()}getAxisLength(){if(this.channel!=="x"&&this.channel!=="y")throw new Error("Axis length is only defined for x and y channels!");const t=Array.from(g(this,ln)).map(e=>{var i;return(i=e.view.coords)==null?void 0:i[this.channel==="x"?"width":"height"]}).filter(e=>e>0);return t.length?t.reduce((e,i)=>Math.min(e,i),1e4):0}invertToComplex(t){const e=this.getScale();if("invert"in e){const i=e.invert(t);return this.toComplex(i)}else throw new Error("The scale does not support inverting!")}toComplex(t){return vN(F(this,K,Pa).call(this),t)}fromComplex(t){return SN(F(this,K,Pa).call(this),t)}fromComplexInterval(t){return this.type==_c?QN(F(this,K,Pa).call(this),t):t}}ln=new WeakMap,Zo=new WeakMap,qi=new WeakMap,Te=new WeakMap,Nt=new WeakMap,jt=new WeakMap,ss=new WeakMap,Ul=new WeakMap,K=new WeakSet,xp=function(){const t=g(this,ln).values().next().value;if(!t)throw new Error("ScaleResolution has no members!");return t.view},bp=function(t=g(this,ln)){var i,r;const e=new Set;for(const s of t){const o=s.view;o.isConfiguredVisible()&&(!o.isDataInitialized()&&!((r=(i=s.channelDef)==null?void 0:i.scale)!=null&&r.domain)||e.add(s))}return e},Ip=function(){return g(this,K,xp).context},Ep=function(){return kN(F(this,K,Pa).call(this))},Pa=function(){if(this.type===_c)return g(this,Te).scale??g(this,Te).getLocusGenome()},La=function(t){for(const e of g(this,qi)[t].values())e({type:t,scaleResolution:this})},v2=function(t){var a;const{channel:e,channelDef:i}=t,r=i.type==null&&this.type;if(e!="sample"&&!i.type&&!ed(e)&&!r)throw new Error(`The "type" property must be defined in channel definition: "${e}": ${JSON.stringify(i)}. Must be one of: "quantitative", "ordinal", "nominal", "locus", "index"`);const s=e=="sample"?"nominal":i.type,o=(a=i==null?void 0:i.scale)==null?void 0:a.name;if(o){if(this.name!==void 0&&o!=this.name)throw new Error(`Shared scales have conflicting names: "${o}" vs. "${this.name}"!`);this.name=o}if(!r){if(!this.type)this.type=s;else if(s!==this.type&&!ed(e))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${s}. Use "resolve: independent" for channel ${this.channel}`)}g(this,ln).add(t),t.contributesToDomain&&g(this,Zo).add(t),g(this,Nt).invalidateConfiguredDomain()},S2=function(){for(const t of g(this,ln))if(t.view.hasRendered())return!0;return!1},Bp=function(){return g(this,Nt).hasConfiguredDomain()},Q2=function(){const t=g(this,Te).scale;if(!t)return!1;const e=t.domain();return Xe(t.type)?e.length>2||e.length==2&&(e[0]!==0||e[1]!==0):e.length>0},D2=function(){return sM({channel:this.channel,dataType:this.type,members:g(this,ln),isExplicitDomain:F(this,K,Bp).call(this)})},oh=function(t=!1){const e=F(this,K,D2).call(this);if(e===null||e.type=="null")return{type:"null"};const i=g(this,Nt).getConfiguredOrDefaultDomain(t);if(Vn(e.type)){const r=F(this,K,Bp).call(this),s=F(this,K,k2).call(this,r);if(i!=null){if(r&&s.domain().length>0&&!Js(s.domain(),i))return Q(this,ss,void 0),F(this,K,oh).call(this,t);s.addAll(i);const o=new Set(i),a=s.domain().filter(l=>o.has(l));e.domain=a.length>0?a:new M0}else{const o=s.domain();e.domain=o.length>0?o:new M0}e.domainIndexer=s}else i&&i.length>0&&(e.domain=i);return!e.domain&&e.domainMid!==void 0&&(e.domain=[e.domainMin??0,e.domainMax??1]),e},k2=function(t){return(!g(this,ss)||g(this,Ul)!==t)&&(Q(this,ss,Ox()),Q(this,Ul,t)),g(this,ss)},vp=function(t,e=!1){const i=g(this,Te).scale;if(!i||i.type=="null")return;const r={scale:i,props:F(this,K,oh).call(this,t),previousDomain:i.domain(),domainWasInitialized:F(this,K,Q2).call(this)};if(e){const s=i1(i,r.props);return{...r,domainConfig:s,targetDomain:s.domain}}return r},Sp=function(t,e){g(this,Te).withDomainNotificationsSuppressed(()=>{e(t.scale,t.props)})},Qp=function(t){const{scale:e,previousDomain:i,domainWasInitialized:r}=t;if(g(this,Nt).captureInitialDomain(e,r)){F(this,K,La).call(this,"domain");return}const s=e.domain(),o=g(this,jt).getDomainChangeAction(i,s);o==="restore"?g(this,Te).withDomainNotificationsSuppressed(()=>{e.domain(i)}):o==="animate"?F(this,K,S2).call(this)?(g(this,Te).withDomainNotificationsSuppressed(()=>{e.domain(i)}),this.zoomTo(s,500)):F(this,K,La).call(this,"domain"):o==="notify"&&F(this,K,La).call(this,"domain")};function T0(...n){for(const t of n)if(t!==void 0)return t}class bM{constructor(t){v(this,jA);v(this,Fn,new Set);this.channel=t}get scaleResolution(){const t=g(this,Fn).values().next().value;return t==null?void 0:t.view.getScaleResolution(this.channel)}registerMember(t){return F(this,jA,F2).call(this,t),()=>this.removeMember(t)&&g(this,Fn).size===0}removeMember(t){const e=g(this,Fn).delete(t);return e&&v0(this,"axisProps"),e}getAxisProps(){return Xf(this,"axisProps",()=>{const t=Array.from(g(this,Fn)).map(e=>{const i=e.view.mark.encoding[e.channel];return"axis"in i&&i.axis});return t.length>0&&t.some(e=>e===null)?null:$f(t.filter(e=>e!==void 0),"axis",["title"])})}getTitle(){const t=o=>{var l,c;const a=kD(o.view,o.channel);if(!Ft(a))return{member:o,axisTitle:"axis"in a?(l=a.axis)==null?void 0:l.title:void 0,explicitTitle:T0("axis"in a?(c=a.axis)==null?void 0:c.title:void 0,a.title),implicitTitle:T0(Gn(a)?a.field:void 0,Ks(a)?a.expr:void 0)}},e=Array.from(g(this,Fn)).map(t),i=e.map(o=>o.axisTitle).find(o=>o!==void 0);if(i!==void 0)return i;const r=e.filter(o=>{var a;if(ed(o.member.channel)&&!o.explicitTitle){const l=Ci(o.member.channel);return((a=e.find(c=>c.member.view==o.member.view&&c.member.channel==l))==null?void 0:a.explicitTitle)===void 0}return!0}),s=new Set(r.map(o=>T0(o.explicitTitle,o.implicitTitle)).filter(Ce));return s.size?[...s].join(", "):null}}Fn=new WeakMap,jA=new WeakSet,F2=function(t){const{view:e}=t,i=e.getScaleResolution(this.channel);if(!i)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&i!==this.scaleResolution)throw new Error(`Shared axes must have a shared scale! Channel: ${this.channel}, existing views: [${Array.from(g(this,Fn)).map(r=>r.view.getPathString()).join(", ")}], new view: ${e.getPathString()}.`);g(this,Fn).add(t),v0(this,"axisProps")};function A1(n,t,{spacing:e,devicePixelRatio:i,offset:r,reverse:s}={}){e=e||0,r=r||0;let o=0,a=0;for(const d of n)o+=tA(d.px)+(P0(d)?0:e),a+=tA(d.grow);o-=e;const l=Math.max(0,t-o),c=i!==void 0?d=>Math.round(d*i)/i:d=>d,u=[],f=[],h=d=>{const p=u.length;if(!p)return;const w=(d?e:0)*(s?-1:1);A-=w;for(let m=0;m<p;m++)f.push({location:A+(m+1)/(p+1)*w,size:0});A+=w,u.length=0};let A=s?Math.max(t,o):0+r;if(n.length==1&&P0(n[0]))return[{location:A,size:0}];for(let d=0;d<n.length;d++){const p=n[d];if(P0(p))u.push(p);else{h(f.length>0);const w=tA(p.px)+(a?tA(p.grow)/a*l:0);s&&(A-=w),f.push({location:c(A),size:c(w)}),s?A-=e:A+=w+e}}return A+=s?e:-e,h(!1),f}function IM(n){let t=0,e=0;for(const i of n)t=Math.max(t,i.px??0),e=Math.max(e,i.grow??0);return{px:t,grow:e}}const lp=class lp{constructor(t,e){v(this,Gl);this.width=t,this.height=e}addPadding(t){return F(this,Gl,Dp).call(this,t.width,t.height)}subtractPadding(t){return F(this,Gl,Dp).call(this,-t.width,-t.height)}isGrowing(){return!!(this.width.grow||this.height.grow)}};Gl=new WeakSet,Dp=function(t,e){return new lp({px:(this.width.px??0)+t,grow:this.width.grow},{px:(this.height.px??0)+e,grow:this.height.grow})};let Ni=lp;const Yc=Object.freeze({px:0,grow:0}),h1=new Ni(Yc,Yc);function P0(n){return!n.px&&!n.grow}function tA(n){return n||0}function EM(n){return n&&(ot(n.px)||ot(n.grow))}function d1(n){if(J0(n))throw new Error("parseSizeDef does not accept step-based sizes.");if(EM(n))return n;if(ot(n))return{px:n,grow:0};if(n==="container")return{px:0,grow:1};if(!n)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${n}`)}class ct{constructor(t,e,i,r){this.top=t||0,this.right=e||0,this.bottom=i||0,this.left=r||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(t){return t<=0?this:new ct(this.top+t,this.right+t,this.bottom+t,this.left+t)}add(t){return new ct(this.top+t.top,this.right+t.right,this.bottom+t.bottom,this.left+t.left)}subtract(t){return new ct(this.top-t.top,this.right-t.right,this.bottom-t.bottom,this.left-t.left)}union(t){return new ct(Math.max(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom),Math.max(this.left,t.left))}getHorizontal(){return new ct(0,this.right,0,this.left)}getVertical(){return new ct(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(t){return typeof t=="number"?this.createUniformPadding(t):t?this.createFromRecord(t):L0}static createFromRecord(t){return new ct(t.top,t.right,t.bottom,t.left)}static zero(){return L0}static createUniformPadding(t){return new ct(t,t,t,t)}}const L0=ct.createUniformPadding(0);Object.freeze(L0);class go{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,e){let i=this.length++;for(;i>0;){const r=i-1>>1,s=this.values[r];if(e>=s)break;this.ids[i]=this.ids[r],this.values[i]=s,i=r}this.ids[i]=t,this.values[i]=e}pop(){if(this.length===0)return;const t=this.ids,e=this.values,i=t[0],r=--this.length;if(r>0){const s=t[r],o=e[r];let a=0;const l=r>>1;for(;a<l;){const c=(a<<1)+1,u=c+1,f=c+(+(u<r)&+(e[u]<e[c]));if(e[f]>=o)break;t[a]=t[f],e[a]=e[f],a=f}t[a]=s,e[a]=o}return i}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}const g1=Symbol("runtimeNode"),p1=1e6;function BM(n){return n?(t,e)=>{n.addDisposer(t,e)}:()=>{}}function m1(n,t){const e={id:n.id,name:n.name,kind:n.kind,get(){return n.value},subscribe(i){return n.listeners.add(i),()=>{n.listeners.delete(i)}}};return Object.defineProperty(e,g1,{enumerable:!1,configurable:!1,writable:!1,value:n}),t?Object.assign(e,{set(i){t(i)}}):e}function w1(n){const t=n[g1];if(!t)throw new Error("ParamRef is not bound to this graph runtime. Expected runtime-created ref.");return t}function C1(n){for(const t of n)t()}class vM{constructor(t={}){v(this,Ye);v(this,$o,1);v(this,zl,1);v(this,$n,0);v(this,os,!1);v(this,Ki,!1);v(this,ji,new Set);v(this,Wi,new Set);v(this,as,new go);v(this,cs,new go);v(this,Xi,new Set);v(this,ls);Q(this,ls,BM(t.lifecycleRegistry))}createWritable(t,e,i,r,s={}){const o="n"+ur(this,$o)._++,a=s.notify??!0,l={id:o,name:e,kind:i,value:r,rank:0,disposed:!1,listeners:new Set,subscribe(u){return l.listeners.add(u),()=>{l.listeners.delete(u)}}},c=u=>{if(l.disposed)throw new Error('Cannot set disposed parameter "'+e+'" ('+o+").");u!==l.value&&(l.value=u,a&&(C1(l.listeners),F(this,Ye,Su).call(this)))};return g(this,ls).call(this,t,()=>{l.disposed=!0,l.listeners.clear()}),m1(l,c)}computed(t,e,i,r){const o=i.map(w1).reduce((h,A)=>Math.max(h,A.rank),0),l={id:"n"+ur(this,$o)._++,name:e,kind:"derived",rank:o+1,value:r(),disposed:!1,listeners:new Set,fn:r,subscribe(h){return l.listeners.add(h),()=>{l.listeners.delete(h)}}},c=()=>{l.disposed||F(this,Ye,R2).call(this,l)},u=i.map(h=>h.subscribe(c)),f=()=>{l.disposed||(l.disposed=!0,u.forEach(h=>h()),l.listeners.clear(),g(this,ji).delete(l))};return g(this,ls).call(this,t,f),m1(l)}effect(t,e,i){const s=e.map(w1).reduce((f,h)=>Math.max(f,h.rank),0),a={id:"n"+ur(this,$o)._++,rank:s+1,disposed:!1,fn:i},l=()=>{a.disposed||F(this,Ye,N2).call(this,a)},c=e.map(f=>f.subscribe(l)),u=()=>{a.disposed||(a.disposed=!0,c.forEach(f=>f()),g(this,Wi).delete(a))};return g(this,ls).call(this,t,u),u}runInTransaction(t){Q(this,$n,g(this,$n)+1);try{return t()}finally{Q(this,$n,g(this,$n)-1),g(this,$n)===0&&F(this,Ye,Su).call(this)}}flushNow(){if(!(g(this,$n)>0||g(this,Ki))){Q(this,os,!1),Q(this,Ki,!0);try{let t=!0;for(;t;){for(t=!1;g(this,as).length>0;){t=!0;const e=g(this,as).pop();if(g(this,ji).delete(e),e.disposed)continue;const i=e.value,r=e.fn();r!==i&&(e.value=r,C1(e.listeners))}for(;g(this,cs).length>0;){t=!0;const e=g(this,cs).pop();g(this,Wi).delete(e),!e.disposed&&e.fn()}}}finally{Q(this,Ki,!1),F(this,Ye,M2).call(this)}}}whenPropagated(t={}){if(F(this,Ye,Fp).call(this))return Promise.resolve();const{signal:e,timeoutMs:i}=t;return e!=null&&e.aborted?Promise.reject(new Error("whenPropagated aborted")):new Promise((r,s)=>{const o={resolve:r,reject:s};e&&(o.abortHandler=()=>{g(this,Xi).delete(o),s(new Error("whenPropagated aborted"))},e.addEventListener("abort",o.abortHandler,{once:!0})),i!=null&&(o.timeoutId=setTimeout(()=>{g(this,Xi).delete(o),o.abortHandler&&(e==null||e.removeEventListener("abort",o.abortHandler)),s(new Error("whenPropagated timeout after "+i+" ms"))},i)),g(this,Xi).add(o)})}}$o=new WeakMap,zl=new WeakMap,$n=new WeakMap,os=new WeakMap,Ki=new WeakMap,ji=new WeakMap,Wi=new WeakMap,as=new WeakMap,cs=new WeakMap,Xi=new WeakMap,ls=new WeakMap,Ye=new WeakSet,R2=function(t){g(this,ji).has(t)||(g(this,ji).add(t),g(this,as).push(t,F(this,Ye,kp).call(this,t.rank)),F(this,Ye,Su).call(this))},N2=function(t){g(this,Wi).has(t)||(g(this,Wi).add(t),g(this,cs).push(t,F(this,Ye,kp).call(this,t.rank)),F(this,Ye,Su).call(this))},kp=function(t){const e=g(this,zl)%p1;return Q(this,zl,g(this,zl)+1),t*p1+e},Su=function(){g(this,$n)>0||g(this,os)||g(this,Ki)||(Q(this,os,!0),queueMicrotask(()=>{this.flushNow()}))},Fp=function(){return g(this,$n)===0&&!g(this,os)&&!g(this,Ki)&&g(this,as).length===0&&g(this,cs).length===0&&g(this,ji).size===0&&g(this,Wi).size===0},M2=function(){if(F(this,Ye,Fp).call(this)){for(const t of g(this,Xi))t.timeoutId&&clearTimeout(t.timeoutId),t.resolve();g(this,Xi).clear()}};class SM{constructor(){v(this,WA,1);v(this,us,new Map)}createOwner(t,e){const i=t+":"+e+":"+ur(this,WA)._++;return g(this,us).set(i,new Set),i}addDisposer(t,e){const i=g(this,us).get(t);if(!i)throw new Error("Unknown owner: "+t);i.add(e)}disposeOwner(t){const e=g(this,us).get(t);if(e){for(const i of e)i();e.clear(),g(this,us).delete(t)}}}WA=new WeakMap,us=new WeakMap;class QM{constructor(){v(this,Hl,1);v(this,Rn,new Map)}createRootScope(t){const e="scope:"+ur(this,Hl)._++;return g(this,Rn).set(e,{params:new Map,ownerId:t}),e}createChildScope(t,e){if(!g(this,Rn).has(e))throw new Error("Unknown parent scope: "+e);const i="scope:"+ur(this,Hl)._++;return g(this,Rn).set(i,{parentScope:e,params:new Map,ownerId:t}),i}getOwnerId(t){const e=g(this,Rn).get(t);if(!e)throw new Error("Unknown scope: "+t);return e.ownerId}clearScope(t){const e=g(this,Rn).get(t);if(!e)throw new Error("Unknown scope: "+t);e.params.clear()}register(t,e,i){mn(e);const r=g(this,Rn).get(t);if(!r)throw new Error("Unknown scope: "+t);if(r.params.has(e))throw new Error('Parameter "'+e+'" already exists in scope '+t);return r.params.set(e,i),i}resolve(t,e){mn(e);let i=t;for(;i;){const r=g(this,Rn).get(i);if(!r)throw new Error("Unknown scope: "+i);const s=r.params.get(e);if(s)return s;i=r.parentScope}}}Hl=new WeakMap,Rn=new WeakMap;const DM="RawCode",kM="Literal",FM="Property",RM="Identifier",NM="ArrayExpression",MM="BinaryExpression",TM="CallExpression",PM="ConditionalExpression",LM="LogicalExpression",OM="MemberExpression",UM="ObjectExpression",GM="UnaryExpression";function sn(n){this.type=n}sn.prototype.visit=function(n){let t,e,i;if(n(this))return 1;for(t=zM(this),e=0,i=t.length;e<i;++e)if(t[e].visit(n))return 1};function zM(n){switch(n.type){case NM:return n.elements;case MM:case LM:return[n.left,n.right];case TM:return[n.callee].concat(n.arguments);case PM:return[n.test,n.consequent,n.alternate];case OM:return[n.object,n.property];case UM:return n.properties;case FM:return[n.key,n.value];case GM:return[n.argument];case RM:case kM:case DM:default:return[]}}var Bn,Y,M,lt,de,nA=1,Jc=2,Pr=3,Mi=4,iA=5,Lr=6,St=7,qc=8,HM=9;Bn={},Bn[nA]="Boolean",Bn[Jc]="<end>",Bn[Pr]="Identifier",Bn[Mi]="Keyword",Bn[iA]="Null",Bn[Lr]="Numeric",Bn[St]="Punctuator",Bn[qc]="String",Bn[HM]="RegularExpression";var _M="ArrayExpression",VM="BinaryExpression",YM="CallExpression",JM="ConditionalExpression",y1="Identifier",qM="Literal",KM="LogicalExpression",jM="MemberExpression",WM="ObjectExpression",XM="Property",ZM="UnaryExpression",Ze="Unexpected token %0",$M="Unexpected number",eT="Unexpected string",tT="Unexpected identifier",nT="Unexpected reserved word",iT="Unexpected end of input",O0="Invalid regular expression",U0="Invalid regular expression: missing /",x1="Octal literals are not allowed in strict mode.",rT="Duplicate data property in object literal not allowed in strict mode",rt="ILLEGAL",Kc="Disabled.",sT=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),oT=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function rA(n,t){if(!n)throw new Error("ASSERT: "+t)}function Yn(n){return n>=48&&n<=57}function G0(n){return"0123456789abcdefABCDEF".includes(n)}function jc(n){return"01234567".includes(n)}function aT(n){return n===32||n===9||n===11||n===12||n===160||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(n)}function Wc(n){return n===10||n===13||n===8232||n===8233}function Xc(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n===92||n>=128&&sT.test(String.fromCharCode(n))}function sA(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||n===92||n>=128&&oT.test(String.fromCharCode(n))}const cT={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function b1(){for(;M<lt;){const n=Y.charCodeAt(M);if(aT(n)||Wc(n))++M;else break}}function z0(n){var t,e,i,r=0;for(e=n==="u"?4:2,t=0;t<e;++t)M<lt&&G0(Y[M])?(i=Y[M++],r=r*16+"0123456789abcdef".indexOf(i.toLowerCase())):fe({},Ze,rt);return String.fromCharCode(r)}function lT(){var n,t,e,i;for(n=Y[M],t=0,n==="}"&&fe({},Ze,rt);M<lt&&(n=Y[M++],!!G0(n));)t=t*16+"0123456789abcdef".indexOf(n.toLowerCase());return(t>1114111||n!=="}")&&fe({},Ze,rt),t<=65535?String.fromCharCode(t):(e=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(e,i))}function I1(){var n,t;for(n=Y.charCodeAt(M++),t=String.fromCharCode(n),n===92&&(Y.charCodeAt(M)!==117&&fe({},Ze,rt),++M,n=z0("u"),(!n||n==="\\"||!Xc(n.charCodeAt(0)))&&fe({},Ze,rt),t=n);M<lt&&(n=Y.charCodeAt(M),!!sA(n));)++M,t+=String.fromCharCode(n),n===92&&(t=t.substr(0,t.length-1),Y.charCodeAt(M)!==117&&fe({},Ze,rt),++M,n=z0("u"),(!n||n==="\\"||!sA(n.charCodeAt(0)))&&fe({},Ze,rt),t+=n);return t}function uT(){var n,t;for(n=M++;M<lt;){if(t=Y.charCodeAt(M),t===92)return M=n,I1();if(sA(t))++M;else break}return Y.slice(n,M)}function fT(){var n,t,e;return n=M,t=Y.charCodeAt(M)===92?I1():uT(),t.length===1?e=Pr:cT.hasOwnProperty(t)?e=Mi:t==="null"?e=iA:t==="true"||t==="false"?e=nA:e=Pr,{type:e,value:t,start:n,end:M}}function H0(){var n=M,t=Y.charCodeAt(M),e,i=Y[M],r,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++M,{type:St,value:String.fromCharCode(t),start:n,end:M};default:if(e=Y.charCodeAt(M+1),e===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return M+=2,{type:St,value:String.fromCharCode(t)+String.fromCharCode(e),start:n,end:M};case 33:case 61:return M+=2,Y.charCodeAt(M)===61&&++M,{type:St,value:Y.slice(n,M),start:n,end:M}}}if(o=Y.substr(M,4),o===">>>=")return M+=4,{type:St,value:o,start:n,end:M};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return M+=3,{type:St,value:s,start:n,end:M};if(r=s.substr(0,2),i===r[1]&&"+-<>&|".includes(i)||r==="=>")return M+=2,{type:St,value:r,start:n,end:M};if(r==="//"&&fe({},Ze,rt),"<>=!+-*%&|^/".includes(i))return++M,{type:St,value:i,start:n,end:M};fe({},Ze,rt)}function AT(n){let t="";for(;M<lt&&G0(Y[M]);)t+=Y[M++];return t.length===0&&fe({},Ze,rt),Xc(Y.charCodeAt(M))&&fe({},Ze,rt),{type:Lr,value:parseInt("0x"+t,16),start:n,end:M}}function hT(n){let t="0"+Y[M++];for(;M<lt&&jc(Y[M]);)t+=Y[M++];return(Xc(Y.charCodeAt(M))||Yn(Y.charCodeAt(M)))&&fe({},Ze,rt),{type:Lr,value:parseInt(t,8),octal:!0,start:n,end:M}}function E1(){var n,t,e;if(e=Y[M],rA(Yn(e.charCodeAt(0))||e===".","Numeric literal must start with a decimal digit or a decimal point"),t=M,n="",e!=="."){if(n=Y[M++],e=Y[M],n==="0"){if(e==="x"||e==="X")return++M,AT(t);if(jc(e))return hT(t);e&&Yn(e.charCodeAt(0))&&fe({},Ze,rt)}for(;Yn(Y.charCodeAt(M));)n+=Y[M++];e=Y[M]}if(e==="."){for(n+=Y[M++];Yn(Y.charCodeAt(M));)n+=Y[M++];e=Y[M]}if(e==="e"||e==="E")if(n+=Y[M++],e=Y[M],(e==="+"||e==="-")&&(n+=Y[M++]),Yn(Y.charCodeAt(M)))for(;Yn(Y.charCodeAt(M));)n+=Y[M++];else fe({},Ze,rt);return Xc(Y.charCodeAt(M))&&fe({},Ze,rt),{type:Lr,value:parseFloat(n),start:t,end:M}}function dT(){var n="",t,e,i,r,s=!1;for(t=Y[M],rA(t==="'"||t==='"',"String literal must starts with a quote"),e=M,++M;M<lt;)if(i=Y[M++],i===t){t="";break}else if(i==="\\")if(i=Y[M++],!i||!Wc(i.charCodeAt(0)))switch(i){case"u":case"x":Y[M]==="{"?(++M,n+=lT()):n+=z0(i);break;case"n":n+=`
`;break;case"r":n+="\r";break;case"t":n+="	";break;case"b":n+="\b";break;case"f":n+="\f";break;case"v":n+="\v";break;default:jc(i)?(r="01234567".indexOf(i),r!==0&&(s=!0),M<lt&&jc(Y[M])&&(s=!0,r=r*8+"01234567".indexOf(Y[M++]),"0123".includes(i)&&M<lt&&jc(Y[M])&&(r=r*8+"01234567".indexOf(Y[M++]))),n+=String.fromCharCode(r)):n+=i;break}else i==="\r"&&Y[M]===`
`&&++M;else{if(Wc(i.charCodeAt(0)))break;n+=i}return t!==""&&fe({},Ze,rt),{type:qc,value:n,octal:s,start:e,end:M}}function gT(n,t){let e=n;t.includes("u")&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,r)=>{if(parseInt(r,16)<=1114111)return"x";fe({},O0)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(e)}catch{fe({},O0)}try{return new RegExp(n,t)}catch{return null}}function pT(){var n,t,e,i,r;for(n=Y[M],rA(n==="/","Regular expression literal must start with a slash"),t=Y[M++],e=!1,i=!1;M<lt;)if(n=Y[M++],t+=n,n==="\\")n=Y[M++],Wc(n.charCodeAt(0))&&fe({},U0),t+=n;else if(Wc(n.charCodeAt(0)))fe({},U0);else if(e)n==="]"&&(e=!1);else if(n==="/"){i=!0;break}else n==="["&&(e=!0);return i||fe({},U0),r=t.substr(1,t.length-2),{value:r,literal:t}}function mT(){var n,t,e;for(t="",e="";M<lt&&(n=Y[M],!!sA(n.charCodeAt(0)));)++M,n==="\\"&&M<lt?fe({},Ze,rt):(e+=n,t+=n);return e.search(/[^gimuy]/g)>=0&&fe({},O0,e),{value:e,literal:t}}function wT(){var n,t,e,i;return de=null,b1(),n=M,t=pT(),e=mT(),i=gT(t.value,e.value),{literal:t.literal+e.literal,value:i,regex:{pattern:t.value,flags:e.value},start:n,end:M}}function CT(n){return n.type===Pr||n.type===Mi||n.type===nA||n.type===iA}function B1(){if(b1(),M>=lt)return{type:Jc,start:M,end:M};const n=Y.charCodeAt(M);return Xc(n)?fT():n===40||n===41||n===59?H0():n===39||n===34?dT():n===46?Yn(Y.charCodeAt(M+1))?E1():H0():Yn(n)?E1():H0()}function Qt(){const n=de;return M=n.end,de=B1(),M=n.end,n}function v1(){const n=M;de=B1(),M=n}function yT(n){const t=new sn(_M);return t.elements=n,t}function S1(n,t,e){const i=new sn(n==="||"||n==="&&"?KM:VM);return i.operator=n,i.left=t,i.right=e,i}function xT(n,t){const e=new sn(YM);return e.callee=n,e.arguments=t,e}function bT(n,t,e){const i=new sn(JM);return i.test=n,i.consequent=t,i.alternate=e,i}function _0(n){const t=new sn(y1);return t.name=n,t}function Zc(n){const t=new sn(qM);return t.value=n.value,t.raw=Y.slice(n.start,n.end),n.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=n.regex),t}function Q1(n,t,e){const i=new sn(jM);return i.computed=n==="[",i.object=t,i.property=e,i.computed||(e.member=!0),i}function IT(n){const t=new sn(WM);return t.properties=n,t}function D1(n,t,e){const i=new sn(XM);return i.key=t,i.value=e,i.kind=n,i}function ET(n,t){const e=new sn(ZM);return e.operator=n,e.argument=t,e.prefix=!0,e}function fe(n,t){var e,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(s,o)=>(rA(o<i.length,"Message reference must be in range"),i[o]));throw e=new Error(r),e.index=M,e.description=r,e}function oA(n){n.type===Jc&&fe(n,iT),n.type===Lr&&fe(n,$M),n.type===qc&&fe(n,eT),n.type===Pr&&fe(n,tT),n.type===Mi&&fe(n,nT),fe(n,Ze,n.value)}function ut(n){const t=Qt();(t.type!==St||t.value!==n)&&oA(t)}function Ie(n){return de.type===St&&de.value===n}function V0(n){return de.type===Mi&&de.value===n}function BT(){const n=[];for(M=de.start,ut("[");!Ie("]");)Ie(",")?(Qt(),n.push(null)):(n.push(Or()),Ie("]")||ut(","));return Qt(),yT(n)}function k1(){M=de.start;const n=Qt();return n.type===qc||n.type===Lr?(n.octal&&fe(n,x1),Zc(n)):_0(n.value)}function vT(){var n,t,e,i;if(M=de.start,n=de,n.type===Pr)return e=k1(),ut(":"),i=Or(),D1("init",e,i);if(n.type===Jc||n.type===St)oA(n);else return t=k1(),ut(":"),i=Or(),D1("init",t,i)}function ST(){var n=[],t,e,i,r={},s=String;for(M=de.start,ut("{");!Ie("}");)t=vT(),t.key.type===y1?e=t.key.name:e=s(t.key.value),i="$"+e,Object.prototype.hasOwnProperty.call(r,i)?fe({},rT):r[i]=!0,n.push(t),Ie("}")||ut(",");return ut("}"),IT(n)}function QT(){ut("(");const n=Y0();return ut(")"),n}const DT={if:1};function kT(){var n,t,e;if(Ie("("))return QT();if(Ie("["))return BT();if(Ie("{"))return ST();if(n=de.type,M=de.start,n===Pr||DT[de.value])e=_0(Qt().value);else if(n===qc||n===Lr)de.octal&&fe(de,x1),e=Zc(Qt());else{if(n===Mi)throw new Error(Kc);n===nA?(t=Qt(),t.value=t.value==="true",e=Zc(t)):n===iA?(t=Qt(),t.value=null,e=Zc(t)):Ie("/")||Ie("/=")?(e=Zc(wT()),v1()):oA(Qt())}return e}function FT(){const n=[];if(ut("("),!Ie(")"))for(;M<lt&&(n.push(Or()),!Ie(")"));)ut(",");return ut(")"),n}function RT(){M=de.start;const n=Qt();return CT(n)||oA(n),_0(n.value)}function NT(){return ut("."),RT()}function MT(){ut("[");const n=Y0();return ut("]"),n}function TT(){var n,t,e;for(n=kT();;)if(Ie("."))e=NT(),n=Q1(".",n,e);else if(Ie("("))t=FT(),n=xT(n,t);else if(Ie("["))e=MT(),n=Q1("[",n,e);else break;return n}function F1(){const n=TT();if(de.type===St&&(Ie("++")||Ie("--")))throw new Error(Kc);return n}function aA(){var n,t;if(de.type!==St&&de.type!==Mi)t=F1();else{if(Ie("++")||Ie("--"))throw new Error(Kc);if(Ie("+")||Ie("-")||Ie("~")||Ie("!"))n=Qt(),t=aA(),t=ET(n.value,t);else{if(V0("delete")||V0("void")||V0("typeof"))throw new Error(Kc);t=F1()}}return t}function R1(n){let t=0;if(n.type!==St&&n.type!==Mi)return 0;switch(n.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function PT(){var n,t,e,i,r,s,o,a,l,c;if(n=de,l=aA(),i=de,r=R1(i),r===0)return l;for(i.prec=r,Qt(),t=[n,de],o=aA(),s=[l,i,o];(r=R1(de))>0;){for(;s.length>2&&r<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),e=S1(a,l,o),s.push(e);i=Qt(),i.prec=r,s.push(i),t.push(de),e=aA(),s.push(e)}for(c=s.length-1,e=s[c],t.pop();c>1;)t.pop(),e=S1(s[c-1].value,s[c-2],e),c-=2;return e}function Or(){var n,t,e;return n=PT(),Ie("?")&&(Qt(),t=Or(),ut(":"),e=Or(),n=bT(n,t,e)),n}function Y0(){const n=Or();if(Ie(","))throw new Error(Kc);return n}function N1(n){Y=n,M=0,lt=Y.length,de=null,v1();const t=Y0();if(de.type!==Jc)throw new Error("Unexpect token after expression.");return t}var LT={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function M1(n){function t(o,a,l,c){let u=n(a[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+o+(c<0?"":c===0?"()":"("+a.slice(1).map(n).join(",")+")")}function e(o,a,l){return c=>t(o,c,a,l)}const i="new Date",r="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Le("Missing arguments to clamp function."),o.length>3&&Le("Too many arguments to clamp function.");const a=o.map(n);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:e("getDate",i,0),day:e("getDay",i,0),year:e("getFullYear",i,0),month:e("getMonth",i,0),hours:e("getHours",i,0),minutes:e("getMinutes",i,0),seconds:e("getSeconds",i,0),milliseconds:e("getMilliseconds",i,0),time:e("getTime",i,0),timezoneoffset:e("getTimezoneOffset",i,0),utcdate:e("getUTCDate",i,0),utcday:e("getUTCDay",i,0),utcyear:e("getUTCFullYear",i,0),utcmonth:e("getUTCMonth",i,0),utchours:e("getUTCHours",i,0),utcminutes:e("getUTCMinutes",i,0),utcseconds:e("getUTCSeconds",i,0),utcmilliseconds:e("getUTCMilliseconds",i,0),length:e("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase",r,0),lower:e("toLowerCase",r,0),substring:e("substring",r),split:e("split",r),trim:e("trim",r,0),btoa:"btoa",atob:"atob",regexp:s,test:e("test",s),if:function(o){o.length<3&&Le("Missing arguments to if function."),o.length>3&&Le("Too many arguments to if function.");const a=o.map(n);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function OT(n){const t=n&&n.length-1;return t&&(n[0]==='"'&&n[t]==='"'||n[0]==="'"&&n[t]==="'")?n.slice(1,-1):n}function T1(n){n=n||{};const t=n.allowed?Pu(n.allowed):{},e=n.forbidden?Pu(n.forbidden):{},i=n.constants||LT,r=(n.functions||M1)(f),s=n.globalvar,o=n.fieldvar,a=Ot(s)?s:d=>`${s}["${d}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(d=>typeof Object.prototype[d]=="function")];let l={},c={},u=0;function f(d){if(Ce(d))return d;const p=h[d.type];return p==null&&Le("Unsupported type: "+d.type),p(d)}const h={Literal:d=>d.raw,Identifier:d=>{const p=d.name;return u>0?p:Ls(e,p)?Le("Illegal identifier: "+p):Ls(i,p)?i[p]:Ls(t,p)?p:(l[p]=1,a(p))},MemberExpression:d=>{const p=!d.computed,w=f(d.object);p&&(u+=1);const m=f(d.property);return w===o&&(c[OT(m)]=1),p&&(u-=1),w+(p?"."+m:"["+m+"]")},CallExpression:d=>{d.callee.type!=="Identifier"&&Le("Illegal callee type: "+d.callee.type);const p=d.callee.name,w=d.arguments,m=Ls(r,p)&&r[p];return m||Le("Unrecognized function: "+p),Ot(m)?m(w):m+"("+w.map(f).join(",")+")"},ArrayExpression:d=>"["+d.elements.map(f).join(",")+"]",BinaryExpression:d=>"("+f(d.left)+" "+d.operator+" "+f(d.right)+")",UnaryExpression:d=>"("+d.operator+f(d.argument)+")",ConditionalExpression:d=>"("+f(d.test)+"?"+f(d.consequent)+":"+f(d.alternate)+")",LogicalExpression:d=>"("+f(d.left)+d.operator+f(d.right)+")",ObjectExpression:d=>{for(const p of d.properties){const w=p.key.name;fv.has(w)&&Le("Illegal property: "+w)}return"{"+d.properties.map(f).join(",")+"}"},Property:d=>{u+=1;const p=f(d.key);return u-=1,p+":"+f(d.value)}};function A(d){const p={code:f(d),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},p}return A.functions=r,A.constants=i,A}function P1(n,t,e){return e=(e-n)/(t-n),e=Math.max(0,Math.min(1,e)),e*e*(3-2*e)}function UT(n,t,e){return ro((e-n)/(t-n),0,1)}const L1={clamp:ro,format(n,t){return nt(t)(n)},mapHasKey(n,t){return n.has(t)},isArray:Ne,isBoolean:Ua,isDefined(n){return n!==void 0},isNumber:ot,isObject:tt,isRegExp:vv,isString:Ce,isValid(n){return n!=null&&n===n},lerp:im,linearstep:UT,replace(n,t,e){return String(n).replace(t,e)},smoothstep:P1};function GT(n){const t=M1(n);for(const e in L1)t[e]=`this.${e}`;return t}const zT=T1({forbidden:[],allowed:["datum","undefined"],globalvar:"globalObject",fieldvar:"datum",functions:GT});function HT(n,t={}){try{const e=N1(n),i=zT(e),r=Function("datum","globalObject",`"use strict";
            try {
                return (${i.code});
            } catch (e) {
                throw new Error("Error evaluating expression: " + ${JSON.stringify(n)} + ", " + e.message, e);
            }`).bind(L1),s=o=>r(o,t);return s.fields=i.fields,s.globals=i.globals,s.code=i.code,s}catch(e){throw new Error(`Invalid expression: ${n}, ${e.message}`)}}const _T=T1({forbidden:[],allowed:["event"],globalvar:"globalObject"});function O1(n){try{const t=N1(n),e=_T(t);return Function("event","globalObject",`"use strict";
            try {
                return !!(${e.code});
            } catch (e) {
                throw new Error("Error evaluating expression: " + ${JSON.stringify(n)} + ", " + e.message, e);
            }`)}catch(t){throw new Error(`Invalid expression: ${n}, ${t.message}`)}}function VT(n,t={}){return HT(n,t)}function U1(n,t){const e={},i=VT(n,e),r=new Map;for(const o of i.globals){if(r.has(o))continue;const a=t(o);if(!a)throw new Error('Unknown variable "'+o+'" in expression: '+n);r.set(o,a),Object.defineProperty(e,o,{enumerable:!0,get(){return a.get()}})}const s=new Set;return i.subscribe=o=>{const a=[];for(const u of r.values())a.push(u.subscribe(o));let l=!0;const c=()=>{l&&(l=!1,s.delete(c),a.forEach(u=>u()))};return s.add(c),c},i.invalidate=()=>{for(const o of s)o();s.clear()},i.identifier=()=>i.code+"|"+Array.from(r.values()).map(o=>o.id).join(","),{expression:i,dependencies:Array.from(r.values())}}class YT{constructor(){v(this,fs,new SM);v(this,ei,new vM({lifecycleRegistry:g(this,fs)}));v(this,yt,new QM)}createScope(t){const e=g(this,fs).createOwner("scope",t??"root");return t?g(this,yt).createChildScope(e,t):g(this,yt).createRootScope(e)}disposeScope(t){const e=g(this,yt).getOwnerId(t);g(this,fs).disposeOwner(e),g(this,yt).clearScope(t)}addScopeDisposer(t,e){const i=g(this,yt).getOwnerId(t);g(this,fs).addDisposer(i,e)}registerBase(t,e,i,r){const s=g(this,yt).getOwnerId(t),o=g(this,ei).createWritable(s,e,"base",i,r);return g(this,yt).register(t,e,o)}registerSelection(t,e,i,r){const s=g(this,yt).getOwnerId(t),o=g(this,ei).createWritable(s,e,"selection",i,r);return g(this,yt).register(t,e,o)}registerDerived(t,e,i){const{expression:r,dependencies:s}=U1(i,l=>this.resolve(t,l)),o=g(this,yt).getOwnerId(t),a=g(this,ei).computed(o,e,s,()=>r(null));return g(this,yt).register(t,e,a)}createExpression(t,e){const{expression:i}=U1(e,r=>this.resolve(t,r));return i}resolve(t,e){return g(this,yt).resolve(t,e)}runInTransaction(t){return g(this,ei).runInTransaction(t)}flushNow(){g(this,ei).flushNow()}whenPropagated(t){return g(this,ei).whenPropagated(t)}}fs=new WeakMap,ei=new WeakMap,yt=new WeakMap;class JT{constructor(t){v(this,Vl);v(this,Pe);v(this,Mt);v(this,Wt,new Map);v(this,un,new Map);v(this,Zi,new Map);v(this,ea);v(this,_l,!1);Q(this,ea,t??(()=>{}));const e=g(this,ea).call(this);e?(Q(this,Pe,g(e,Pe)),Q(this,Mt,g(this,Pe).createScope(g(e,Mt)))):(Q(this,Pe,new YT),Q(this,Mt,g(this,Pe).createScope()))}registerParam(t){const e=t.name;if(mn(e),g(this,Zi).has(e))throw new Error('Parameter "'+e+'" already registered in this scope.');if("value"in t&&"expr"in t)throw new Error(`The parameter "${e}" must not have both value and expr properties!`);let i,r;if(t.push=="outer"){const s=this.findRuntimeForParam(e);if(!s)throw new Error(`Parameter "${e}" not found in outer scope!`);const o=s.paramConfigs.get(e);if(!o)throw new Error(`Outer parameter "${e}" exists as a value but has no registered config.`);if("expr"in o||"select"in o)throw new Error(`The outer parameter "${e}" must not have expr or select properties!`);i=a=>{s.setValue(e,a)},g(this,Wt).set(e,i)}else if("value"in t)r=od(t,this),i=F(this,Vl,Rp).call(this,e,r);else if("expr"in t){const s=g(this,Pe).registerDerived(g(this,Mt),e,t.expr);g(this,un).set(e,s),i=()=>{throw new Error('Cannot set derived parameter "'+e+'".')}}else r=od(t,this),i=F(this,Vl,Rp).call(this,e,r);if("select"in t){if(r??(r=od(t,this)),!g(this,Wt).has(e)){const s=g(this,Pe).registerSelection(g(this,Mt),e,r);g(this,un).set(e,s),g(this,Wt).set(e,o=>{s.set(o),g(this,Pe).flushNow()}),i=g(this,Wt).get(e)}i(r)}return g(this,Zi).set(e,t),i}allocateSetter(t,e,i=!1){if(mn(t),g(this,Wt).has(t))throw new Error("Setter already allocated for parameter: "+t);const r=g(this,Pe).registerBase(g(this,Mt),t,e,{notify:!i});g(this,un).set(t,r);const s=o=>{r.set(o),g(this,Pe).flushNow()};return g(this,Wt).set(t,s),s}setValue(t,e){mn(t);const i=g(this,Wt).get(t);if(!i)throw new Error("Writable parameter not found in this scope: "+t);i(e)}getValue(t){var e;return(e=g(this,un).get(t))==null?void 0:e.get()}subscribe(t,e){mn(t);const i=this.findRuntimeForParam(t);if(!i)throw new Error("Parameter not found: "+t);const r=g(i,un).get(t);if(!r)throw new Error("Parameter found without local reference: "+t);return r.subscribe(e)}findValue(t){const e=this.findRuntimeForParam(t);return e==null?void 0:e.getValue(t)}get paramConfigs(){return g(this,Zi)}findRuntimeForParam(t){var e;return g(this,un).has(t)?this:(e=g(this,ea).call(this))==null?void 0:e.findRuntimeForParam(t)}createExpression(t){return g(this,Pe).createExpression(g(this,Mt),t)}watchExpression(t,e,i={}){var o;const r=this.createExpression(t),s=r.subscribe(e);return(i.scopeOwned??!0)&&g(this,Pe).addScopeDisposer(g(this,Mt),s),(o=i.registerDisposer)==null||o.call(i,s),r}evaluateAndGet(t){return this.createExpression(t)()}runInTransaction(t){return g(this,Pe).runInTransaction(t)}flushNow(){g(this,Pe).flushNow()}whenPropagated(t){return g(this,Pe).whenPropagated(t)}dispose(){g(this,_l)||(Q(this,_l,!0),g(this,Pe).disposeScope(g(this,Mt)),g(this,Wt).clear(),g(this,un).clear(),g(this,Zi).clear())}hasPointSelections(){for(const t of g(this,Zi).values())if(sd(t)){const e=t.select;if(Ce(e)){if(e=="point")return!0}else if(e.type=="point")return!0}return!1}}Pe=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,un=new WeakMap,Zi=new WeakMap,ea=new WeakMap,_l=new WeakMap,Vl=new WeakSet,Rp=function(t,e){const i=g(this,Pe).registerBase(g(this,Mt),t,e);g(this,un).set(t,i);const r=s=>{i.set(s),g(this,Pe).flushNow()};return g(this,Wt).set(t,r),r};function $c(n,t){return!t||/^(data:|([A-Za-z]+:)?\/\/)/.test(n)||n.startsWith("/")?n:(t.endsWith("/")||(t+="/"),t+n)}function qT(n){if(!n)return n;if(/[?#]/.test(n))throw new Error(`Invalid base URL: ${n} - cannot contain query or hash.`);return n.endsWith("/")?n:n+"/"}const on="VISIT_SKIP",Ti="VISIT_STOP",G1=n=>n;class z1{constructor(t,e,i,r,s,o={}){v(this,Tt);v(this,ta);v(this,As,{});v(this,na,{});v(this,ia,{});v(this,Yl);v(this,Jl);v(this,ra,!1);X(this,"opacityFunction",G1);v(this,sa,[]);v(this,oa,"none");X(this,"facetCoords",new Tn([],JSON.stringify));var a;if(!t)throw new Error("View spec must be defined!");if(this.context=e,this.layoutParent=i,this.dataParent=r,Q(this,ta,s),this.spec=t,this.resolutions={scale:{},axis:{}},Gx(this),this.options={blockEncodingInheritance:!1,...o},this.flowHandle=void 0,this.needsAxes={x:!1,y:!1},this.paramRuntime=new JT(()=>{var l;return(l=this.dataParent)==null?void 0:l.paramRuntime}),t.params)for(const l of t.params)this.paramRuntime.registerParam(l);if(!((a=this.layoutParent)!=null&&a.options.layeredChildren)){const l=c=>this.paramRuntime.findRuntimeForParam(c)?void 0:this.paramRuntime.allocateSetter(c,0);Q(this,Jl,l("height")),Q(this,Yl,l("width"))}}get name(){return this.spec.name??g(this,ta)}get explicitName(){return this.spec.name}get defaultName(){return g(this,ta)}get coords(){return this.facetCoords.values().next().value}getPadding(){return this._cache("size/padding",()=>ct.createFromConfig(this.spec.padding))}getOverhang(){return ct.zero()}isScrollable(){return this.spec.viewportWidth!=null||this.spec.viewportHeight!=null}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?new Ni(F(this,Tt,Qu).call(this,"width"),F(this,Tt,Qu).call(this,"height")):h1)}getViewportSize(){if(!this.isScrollable())return this.getSize();if(!this.isConfiguredVisible())return h1;const t=this.getSize();return new Ni(F(this,Tt,Qu).call(this,"viewportWidth")??t.width,F(this,Tt,Qu).call(this,"viewportHeight")??t.height)}registerStepSizeInvalidation(){F(this,Tt,Np).call(this,"width","x"),F(this,Tt,Np).call(this,"height","y")}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(t=>t.isConfiguredVisible())}isDomainInert(){if(this.spec.domainInert)return!0;const t=this.dataParent;return t?t.isDomainInert():!1}getDataInitializationState(){return g(this,oa)}_setDataInitializationState(t){Q(this,oa,t)}isDataInitialized(){return g(this,oa)==="ready"}getEffectiveOpacity(){var t;return this.opacityFunction(((t=this.layoutParent)==null?void 0:t.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(t=>t.name).reverse().join("/")}getLayoutAncestors(){return F(this,Tt,Mp).call(this,"layoutParent")}getDataAncestors(){return F(this,Tt,Mp).call(this,"dataParent")}handleBroadcast(t){for(const e of g(this,As)[t.type]||[])e(t)}_addBroadcastHandler(t,e){let i=g(this,As)[t];return i||(i=[],g(this,As)[t]=i),i.push(e),()=>{const r=g(this,As)[t];if(!r)return;const s=r.indexOf(e);s>=0&&r.splice(s,1)}}handleInteractionEvent(t,e,i){const r=i?g(this,na):g(this,ia);for(const s of r[e.type]||[])s(t,e)}addInteractionEventListener(t,e,i){const r=i?g(this,na):g(this,ia);let s=r[t];s||(s=[],r[t]=s),s.push(e)}removeInteractionEventListener(t,e,i){const r=i?g(this,na):g(this,ia);let s=r==null?void 0:r[t];if(s){const o=s.indexOf(e);o>=0&&s.splice(o,1)}}visit(t){try{const e=t(this);if(t.postOrder&&t.postOrder(this),e!==Ti)return e}catch(e){throw e.view=this,e}}getDescendants(){const t=[];return this.visit(e=>{t.push(e)}),t}dispose(){for(const e of g(this,sa))e();g(this,sa).length=0;const t=this.flowHandle;t!=null&&t.collector&&(this.context.dataFlow.pruneCollectorBranch(t.collector),this.context.dataFlow.removeCollector(t.collector)),t!=null&&t.dataSource&&t.dataSource.view===this&&!t.dataSource.identifier&&this.context.dataFlow.removeDataSource(t.dataSource),this.paramRuntime.dispose(),this.context.dataFlow.loadingStatusRegistry.delete(this),this.flowHandle=void 0}registerDisposer(t){g(this,sa).push(t)}disposeSubtree(){const t=()=>{};t.postOrder=e=>{e.dispose()},this.visit(t)}configureViewOpacity(){(!this.opacityFunction||this.opacityFunction===G1)&&(this.opacityFunction=jT(this))}onBeforeRender(){g(this,ra)||Q(this,ra,!0)}hasRendered(){return g(this,ra)}render(t,e,i={}){var r,s;i.firstFacet&&this.facetCoords.clear(),this.facetCoords.set(i.facetId,i.clipRect?e.intersect(i.clipRect):e),(r=g(this,Yl))==null||r.call(this,e.width),(s=g(this,Jl))==null||s.call(this,e.height)}getEncoding(){const t=this.dataParent&&!this.options.blockEncodingInheritance?this.dataParent.getEncoding():{},e=this.spec.encoding||{},i={...t,...e};for(const[r,s]of Object.entries(i))s===null&&delete i[r];return i}getFacetAccessor(t){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(t){var i;const e=this.getEncoding().sample;return Gn(e)?[e.field]:(i=this.layoutParent)==null?void 0:i.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(t){const e=Ci(t);return this.getDataAncestors().map(i=>i.resolutions.scale[e]).find(i=>i)}getAxisResolution(t){const e=Ci(t);return this.getDataAncestors().map(i=>i.resolutions.axis[e]).find(i=>i)}getConfiguredResolution(t,e){var i,r;return(r=(i=this.spec.resolve)==null?void 0:i[e])==null?void 0:r[t]}getConfiguredOrDefaultResolution(t,e){return this.getConfiguredResolution(t,e)??this.getConfiguredResolution("default",e)??this.getDefaultResolution(t,e)}getDefaultResolution(t,e){return"independent"}getBaseUrl(){return Tr(()=>{var t;return(t=this.dataParent)==null?void 0:t.getBaseUrl()},qT(this.spec.baseUrl))}isPickingSupported(){return!0}getTitleText(){const t=this.spec.title;if(t)return Ce(t)?t:Me(t.text)?this.paramRuntime.evaluateAndGet(t.text.expr):t.text}_cache(t,e){return Xf(this,t,e)}_invalidateCacheByPrefix(t,e="self"){switch(e){case"self":Uc(this,t);break;case"ancestors":for(const i of this.getLayoutAncestors())Uc(i,t);break;case"progeny":this.visit(i=>Uc(i,t));break}}invalidateSizeCache(){Uc(this,"size"),this._invalidateCacheByPrefix("size","ancestors")}propagateInteractionEvent(t){}}ta=new WeakMap,As=new WeakMap,na=new WeakMap,ia=new WeakMap,Yl=new WeakMap,Jl=new WeakMap,ra=new WeakMap,sa=new WeakMap,oa=new WeakMap,Tt=new WeakSet,Qu=function(t){var s;let e=this.spec[t];const i=J0(e),r=t=="viewportWidth"||t=="viewportHeight";if(i){if(r)throw new it(`Cannot use step-based size with "${t}"!`,this);const o=e.step,a=(s=this.getScaleResolution(t=="width"?"x":"y"))==null?void 0:s.getScale();if(a){let l=0;if(Vn(a.type))l=a.domain().length;else if(["locus","index"].includes(a.type)){const u=a.domain();l=nf(u)-u[0]}else throw new it(`Cannot use step-based size with "${a.type}" scale!`,this);const c=a;return l=g0(l,c.paddingInner(),c.paddingOuter()),{px:l*o,grow:0}}else throw new it(`Cannot use step-based size with "${t}"!`,this)}else return(e&&d1(e))??(r?void 0:{px:0,grow:1})},Np=function(t,e){const i=this.spec[t];if(!J0(i))return;const r=this.getScaleResolution(e);if(!r)throw new it("Cannot use 'step' size without a scale!",this);const s=()=>this.invalidateSizeCache();r.addEventListener("domain",s),this.registerDisposer(()=>r.removeEventListener("domain",s))},Mp=function(t){const e=[];let i=this;do e.push(i),i=i[t];while(i);return e};function KT(n){return"unitsPerPixel"in n}function jT(n){const t="opacity"in n.spec?n.spec.opacity:void 0;if(t!==void 0){if(ot(t))return e=>e*t;if(KT(t)){const e=c=>{const u=n.getScaleResolution(c),f=u==null?void 0:u.getScale();if(["linear","index","locus"].includes(f==null?void 0:f.type))return{scale:f,scaleResolution:u}},i=H1(t.values,"opacity.values",n);if(!Ne(t.unitsPerPixel))throw new it('"opacity.unitsPerPixel" must be an array.',n);let r=()=>1,s=[];const o=()=>{const c=H1(s.map(h=>h()),"opacity.unitsPerPixel",n),u=WT(c,i,n),f=a0().domain(u.unitsPerPixel).range(u.values).clamp(!0);r=h=>f(h)};s=t.unitsPerPixel.map(c=>{if(Me(c)){const u=n.paramRuntime.watchExpression(c.expr,()=>{o(),n.context.animator.requestRender()});return()=>u(null)}else return()=>c}),o();const a=c=>{const f=c.scaleResolution.getAxisLength()||1e3;return Ga(c.scale.domain())/f};let l;if(t.channel==="auto"){const c=e("x"),u=e("y");if(c&&u)l=()=>(a(c)+a(u))/2;else if(c)l=()=>a(c);else if(u)l=()=>a(u);else throw new it("Cannot find a resolved quantitative x or y scale for dynamic opacity!",n)}else{const c=t.channel?e(t.channel):e("x")??e("y");if(!c)throw new it("Cannot find a resolved quantitative scale for dynamic opacity!",n);l=()=>a(c)}return c=>r(l())*c}else if(Me(t)){const e=n.paramRuntime.watchExpression(t.expr,()=>n.context.animator.requestRender());return i=>e(null)*i}}return e=>e}function WT(n,t,e){if(!n.length)throw new it('"opacity.unitsPerPixel" must contain at least one stop.',e);if(n.length!==t.length)throw new it('"opacity.unitsPerPixel" and "opacity.values" must have the same length.',e);n.forEach((o,a)=>{if(o<=0)throw new it("Invalid opacity.unitsPerPixel value at index "+a+". Stop values must be positive.",e)});const i=n.map((o,a)=>({stop:o,value:t[a]}));i.sort((o,a)=>a.stop-o.stop);const r=i.map(o=>o.stop),s=i.map(o=>o.value);for(let o=1;o<n.length;o++)if(r[o-1]<=r[o])throw new it('"opacity.unitsPerPixel" must be strictly decreasing.',e);return{unitsPerPixel:r,values:s}}function H1(n,t,e){if(!Ne(n))throw new it('"'+t+'" must evaluate to an array.',e);return n.map((i,r)=>{if(!ot(i)||!Number.isFinite(i))throw new it("Invalid "+t+" value at index "+r+". Expected a finite number.",e);return i})}const J0=n=>!!(n!=null&&n.step);function XT(n){return ZT(n==null?void 0:n.search,"search")}function ZT(n,t){if(!n)return;const e=Array.isArray(n)?n:[n];if(e.length===0)throw new Error("The "+t+" channel array must not be empty.");const i=[];for(const r of e){if(!r||typeof r!="object"||!("field"in r))throw new Error("The "+t+" channel must be a field definition or an array of field definitions.");const s=r.field;if(typeof s!="string")throw new Error("The "+t+" channel field definition must include a string field name.");i.push(s)}return i}const $T={point:$R,rect:qR,rule:iN,link:uN,text:pN};class wt extends z1{constructor(e,i,r,s,o,a){super(e,i,r,s,o,a);v(this,XA);v(this,ql);v(this,Kl,!1);v(this,aa,null);this.spec=e;const l=$T[this.getMarkType()];if(l)this.mark=new l(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.resolve(),Q(this,ql,this.paramRuntime.allocateSetter("zoomLevel",1));for(const c of["x","y"]){const u=this.getScaleResolution(c);if(u){const f=()=>{g(this,ql).call(this,Math.sqrt(this.getZoomLevel()))};u.addEventListener("domain",f),this.registerDisposer(()=>u.removeEventListener("domain",f))}}this.needsAxes={x:!0,y:!0},F(this,XA,T2).call(this)}render(e,i,r={}){super.render(e,i,r),this.isConfiguredVisible()&&(e.pushView(this,i),e.renderMark(this.mark,r),e.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}getEncoding(){const e=super.getEncoding(),i=this.mark.getSupportedChannels();for(const r of Object.keys(e))r!=="key"&&(i.includes(r)||delete e[r]);return e}resolve(e){if(!e){this.resolve("scale"),this.resolve("axis");return}const i=this.mark.encoding;for(const[r,s]of Object.entries(i)){if(!s||Array.isArray(s))continue;let o;if(zt(s))o=s;else if(Zh(s)){const c=s.condition;if(!Array.isArray(c)&&zt(c))o=c;else continue}else continue;const a=Ci(o.resolutionChannel??r);if(!af(a)||e=="axis"&&!gc(a))continue;let l=this;for(;(l.getConfiguredOrDefaultResolution(a,e)=="forced"||l.dataParent&&["shared","excluded","forced"].includes(l.dataParent.getConfiguredOrDefaultResolution(a,e)))&&l.getConfiguredOrDefaultResolution(a,e)!="excluded";)l=l.dataParent;if(e=="axis"&&gc(r)&&$h(a)){l.resolutions[e][a]||(l.resolutions[e][a]=new bM(a));const c=l.resolutions[e][a],u=c.registerMember({view:this,channel:r,channelDef:o});this.registerDisposer(()=>{u()&&l.resolutions[e][a]===c&&delete l.resolutions[e][a]})}else if(e=="scale"&&af(r)){if(!l.resolutions[e][a]){const h=new xM(a);l.resolutions[e][a]=h;const A=d=>{var p;(p=this.context.glHelper)==null||p.createRangeTexture(d.scaleResolution,!0)};h.addEventListener("range",A),h.addEventListener("domain",A),this.registerDisposer(()=>{h.removeEventListener("range",A),h.removeEventListener("domain",A)})}const c=!this.isDomainInert(),u=l.resolutions[e][a],f=u.registerMember({view:this,channel:r,channelDef:o,contributesToDomain:c});this.registerDisposer(()=>{f()&&l.resolutions[e][a]===u&&(u.dispose(),delete l.resolutions[e][a])})}}}dispose(){super.dispose(),this.mark.dispose()}getDataAccessor(e){var r;const i=this.mark.encoders;if(i)return(r=i[e])==null?void 0:r.dataAccessor}getSearchAccessors(){if(!g(this,aa)){const e=XT(this.getEncoding())??[];Q(this,aa,e.map(i=>ue(i)))}return g(this,aa)}getFacetAccessor(e){const i=this.getDataAccessor("sample");return i||super.getFacetAccessor(this)}getCollector(){var e;return(e=this.flowHandle)==null?void 0:e.collector}registerDomainSubscriptions(){if(g(this,Kl)||this.isDomainInert())return;const e=this.getCollector();if(!e)return;const i=this.mark.encoders;if(!i)throw new Error("Encoders are not initialized!");Q(this,Kl,!0);const r=new Map;for(const s of Object.values(i)){if(!s)continue;const o=s.accessors??[];if(o.length!==0)for(const a of o){if(!Ew(a)||a.channelDef.domainInert)continue;const l=this.getScaleResolution(a.scaleChannel);if(!l)throw new Error("Missing scale resolution for channel: "+a.scaleChannel);let c=r.get(l);c||(c=new Set,r.set(l,c)),c.add(a)}}for(const[s,o]of r){if(o.size===0)continue;const a=s.registerCollectorSubscriptions(e,o);this.registerDisposer(a)}}getZoomLevel(){const e=i=>{var r;return((r=this.getScaleResolution(i))==null?void 0:r.getZoomLevel())??1};return br.map(e).reduce((i,r)=>i*r,1)}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0),e.target=this,!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,i){return e=="x"?"shared":"independent"}}ql=new WeakMap,Kl=new WeakMap,aa=new WeakMap,XA=new WeakSet,T2=function(){for(const[e,i]of this.paramRuntime.paramConfigs){if(!("select"in i))continue;const r=cf(i.select),s=r.on,o=r.clear;if(lf(r)){let l=0;const c=A=>{this.paramRuntime.setValue(e,A)},u=()=>{var d;const A=this.context.getCurrentHover();return((d=A==null?void 0:A.mark)==null?void 0:d.unitView)===this?A.datum:null},f=s.filter?O1(s.filter):()=>!0,h=(A,d)=>{if(!f(d.proxiedMouseEvent))return;const p=u(),w=p?p[Gt]:0;let m;if(r.toggle)if(d.mouseEvent.shiftKey){if(p){const x=this.paramRuntime.getValue(e);m=TD(x,{toggle:[p]})}}else m=id(p?[p]:null);else w!=l&&(l=w,m=nd(p));m!==void 0&&c(m)};if(this.addInteractionEventListener(["mouseover","pointerover"].includes(s.type)?"mousemove":s.type,h),o){const A=o.filter?O1(o.filter):()=>!0,d=(p,w)=>{if(!A(w.proxiedMouseEvent))return;l=0;const m=r.toggle?id():nd(null);c(m)};this.addInteractionEventListener(o.type,d)}}}};function e6(n){const t=new Set;n.visit(e=>{for(const i of Object.values(e.resolutions.scale)){const r=i.name;if(r&&t.has(r))throw new Error(`The same scale name "${r}" occurs in multiple scale resolutions!`);t.add(r)}})}function t6(n){for(const t of br){const e=n.getScaleResolution(t);e&&!e.name&&e.isZoomable()&&(e.name=`${t}_at_root`)}}function q0(n,t=()=>!0){return Promise.allSettled(n).then(e=>{if(t())for(const i of e)"value"in i?i.value.finalizeGraphicsInitialization():"reason"in i&&console.error(i.reason)})}async function n6(n,t,e){const i=n.import;if(!("url"in i))throw new Error("Not an url import: "+JSON.stringify(i));const r=Tr(t,i.url);let s;try{const o=await fetch(r);if(!o.ok)throw new Error(`${o.status} ${o.statusText}`);s=await o.json()}catch(o){throw new Error(`Could not load imported view spec: ${r}. Reason: ${o.message}`)}if(e.isViewSpec(s))return s.baseUrl=Tr(jx(i.url),s.baseUrl),s;throw new Error(`The imported spec "${r}" is not a view spec: ${JSON.stringify(n)}`)}function i6(n){const t=n.getSize(),e=n.getPadding(),i=(r,s)=>r.grow>0?void 0:r.px+s;return{width:i(t.width,e.horizontalTotal),height:i(t.height,e.verticalTotal)}}function*K0(n,t=[]){for(const[e,i]of n.entries())if(i instanceof Map)for(const r of K0(i,[...t,e]))yield r;else yield[[...t,e],i]}const _1=2147483647,r6=V1([_1]);function V1(n){let t=0;for(let e=0,i=n.length;e<i;e++)t=Math.max(t,n[e]);return Math.floor(Math.log2(t)/4)+1}function s6(n){const t=V1(n);let e=Array.from({length:n.length},(s,o)=>o),i=new Array(n.length);const r=new Array(16);for(let s=0;s<t;s++){r.fill(0);const o=s*4,a=Math.pow(16,s),l=c=>{const u=n[e[c]];return s>=r6?u>_1?Math.floor(u/a)%16:0:u>>o&15};for(let c=0;c<n.length;c++)r[l(c)]++;for(let c=1;c<16;c++)r[c]+=r[c-1];for(let c=n.length-1;c>=0;c--)i[--r[l(c)]]=e[c];[e,i]=[i,e]}return e}const cA="|",j0="\\";class o6{constructor(){v(this,la);v(this,hs,null);v(this,ti,null);v(this,ca,!1)}invalidate(){Q(this,hs,null),Q(this,ti,null),Q(this,ca,!1)}findDatum(t,e,i){if(!t||t.length===0)return;const r=t.join(", ");if(t.length!==e.length)throw new Error(`Key tuple length ${e.length} does not match fields [${r}]`);(!g(this,hs)||!F(this,la,L2).call(this,t))&&F(this,la,P2).call(this,t,i);const s=g(this,ti);let o;if(g(this,ca)){let a="";for(let l=0;l<e.length;l++){l>0&&(a+=cA);const c=s[l],u=lA(e[l],c);a+=Y1(u)}o=a}else{const a=s[0];o=lA(e[0],a)}return g(this,hs).get(o)}}hs=new WeakMap,ti=new WeakMap,ca=new WeakMap,la=new WeakSet,P2=function(t,e){const i=t.map(a=>ue(a)),r=new Map,s=t.join(", "),o=t.length!==1;if(o)for(const a of e)for(let l=0,c=a.length;l<c;l++){const u=a[l];let f="";for(let A=0;A<i.length;A++){A>0&&(f+=cA);const d=t[A],p=lA(i[A](u),d);f+=Y1(p)}if(r.get(f)!==void 0){const A=i.map(d=>d(u));throw new Error(`Duplicate key detected for fields [${s}]: ${JSON.stringify(A)}`)}r.set(f,u)}else{const a=i[0],l=t[0];for(const c of e)for(let u=0,f=c.length;u<f;u++){const h=c[u],A=lA(a(h),l);if(r.get(A)!==void 0)throw new Error(`Duplicate key detected for fields [${s}]: ${JSON.stringify(A)}`);r.set(A,h)}}Q(this,hs,r),Q(this,ti,[...t]),Q(this,ca,o)},L2=function(t){if(!g(this,ti)||g(this,ti).length!==t.length)return!1;for(let e=0;e<t.length;e++)if(g(this,ti)[e]!==t[e])return!1;return!0};function lA(n,t){if(n===void 0)throw new Error(`Key field "${t}" is undefined. Ensure all key fields are present in the data.`);if(n===null)throw new Error(`Key field "${t}" is null. Ensure all key fields are present in the data.`);if(typeof n!="string"&&typeof n!="number"&&typeof n!="boolean")throw new Error(`Key field "${t}" must be a scalar value (string, number, or boolean).`);return n}function a6(n){if(!(n.indexOf(j0)!==-1||n.indexOf(cA)!==-1))return n;let e="";for(let i=0;i<n.length;i++){const r=n[i];(r===j0||r===cA)&&(e+=j0),e+=r}return e}function Y1(n){return typeof n=="string"?a6(n):String(n)}class J1 extends jh{constructor(e){var i;super();v(this,st);v(this,ni,[]);v(this,jl,ue(Gt));v(this,$i,[]);v(this,ua,new o6);v(this,ds);v(this,fa);v(this,er,new c6);this.params=e??{type:"collect"},this.observers=new Set,this.facetBatches=new Tn([],JSON.stringify),Q(this,fa,u6((i=this.params)==null?void 0:i.sort)),F(this,st,Tp).call(this)}get behavior(){return Kh}get label(){return"collect"}reset(){super.reset(),F(this,st,Tp).call(this)}handle(e){g(this,ni).push(e)}beginBatch(e){g(this,ua).invalidate(),ID(e)&&(Q(this,ni,[]),this.facetBatches.set(Ke(e.facetId),g(this,ni)))}complete(){var e;if(Q(this,ni,[]),(e=this.params.groupby)!=null&&e.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const i=this.facetBatches.get(void 0),r=this.params.groupby.map(o=>ue(o)),s=r.length>1?Gu(i,...r):l6(i,r[0]);this.facetBatches.clear();for(const[o,a]of K0(s))this.facetBatches.set(o,a)}if(g(this,fa))for(const i of this.facetBatches.values())i.sort(g(this,fa));F(this,st,O2).call(this),F(this,st,Pp).call(this),super.complete(),F(this,st,Lp).call(this);for(const i of this.observers)i(this)}observe(e){return this.observers.add(e),()=>{this.observers.delete(e)}}repropagate(){for(const e of this.children)e.reset();F(this,st,Pp).call(this);for(const e of this.children)e.complete();F(this,st,Lp).call(this)}getDomain(e,i,r){return g(this,er).getDomain(e,()=>{const s=eA(i);if(r.constant)s.extend(r({}));else if(this.completed)for(const o of this.facetBatches.values())for(let a=0,l=o.length;a<l;a++)s.extend(r(o[a]));return s})}subscribeDomainChanges(e,i){return g(this,er).subscribe(e,i)}getData(){switch(F(this,st,ah).call(this),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const e=this.facetBatches;return{[Symbol.iterator]:function*(){for(const r of e.values())yield*r}}}}}visitData(e){F(this,st,ah).call(this);for(const i of this.facetBatches.values())for(let r=0;r<i.length;r++)e(i[r])}getItemCount(){let e=0;for(const i of this.facetBatches.values())e+=i.length;return e}findDatumByUniqueId(e){if(!g(this,$i).length)return;const i=mr(l=>l.start).right,r=g(this,jl),s=mr(l=>r(o(l))).left,o=l=>{const c=i(g(this,ds),l),u=g(this,ds)[c-1];return!u||l>=u.stop?void 0:this.facetBatches.get(u.facetId)[l-u.start]},a=s(g(this,$i),e);if(a>=0){const l=o(g(this,$i)[a]);if(l&&r(l)===e)return l}}findDatumByKey(e,i){return F(this,st,ah).call(this),g(this,ua).findDatum(e,i,this.facetBatches.values())}}ni=new WeakMap,jl=new WeakMap,$i=new WeakMap,ua=new WeakMap,ds=new WeakMap,fa=new WeakMap,er=new WeakMap,st=new WeakSet,Tp=function(){Q(this,ni,[]),Q(this,$i,[]),g(this,ua).invalidate(),this.facetBatches.clear(),this.facetBatches.set(void 0,g(this,ni))},Pp=function(){if(this.children.length)for(const[e,i]of this.facetBatches.entries()){if(e){const r={type:"facet",facetId:e};for(const s of this.children)s.beginBatch(r)}for(let r=0,s=i.length;r<s;r++)this._propagate(i[r])}},ah=function(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")},Lp=function(){g(this,er).hasCachedDomains()&&g(this,er).clear(),g(this,er).notify()},O2=function(){var o;Q(this,ds,[]);const e=(o=this.facetBatches.values().next().value)==null?void 0:o[0];if(e==null||!(Gt in e))return;let i=0;const r=[],s=g(this,jl);for(const[a,l]of this.facetBatches){g(this,ds).push({start:i,stop:i+l.length,facetId:a}),i+=l.length;for(let c=0,u=l.length;c<u;c++)r.push(s(l[c]))}Q(this,$i,s6(r))};class c6{constructor(){v(this,gs,new Map);v(this,ii,new Map)}hasCachedDomains(){return g(this,gs).size>0}clear(){g(this,gs).clear()}getDomain(t,e){const i=g(this,gs).get(t);if(i)return i;{const r=e();return g(this,gs).set(t,r),r}}subscribe(t,e){let i=g(this,ii).get(t);return i||(i=new Set,g(this,ii).set(t,i)),i.add(e),()=>{const r=g(this,ii).get(t);r&&(r.delete(e),r.size===0&&g(this,ii).delete(t))}}notify(){if(g(this,ii).size===0)return;const t=new Set;for(const e of g(this,ii).values())for(const i of e)t.add(i);for(const e of t)e()}}gs=new WeakMap,ii=new WeakMap;function l6(n,t){const e=new Map;for(let i=0,r=n.length;i<r;i++){const s=n[i],o=t(s);let a=e.get(o);a||(a=[],e.set(o,a)),a.push(s)}return e}function u6(n){if(n!=null&&n.field){const t=Ke(n.field);if(t.length==1&&!t[0].includes(".")){const e=Ke(n.order)[0]??"ascending",i=JSON.stringify(t[0]);return new Function("a","b",`return a[${i}] ${e==="ascending"?"-":"+"} b[${i}];`)}return tm(n.field,n.order)}}class f6 extends ze{get behavior(){return pn}constructor(t){super(t),this.params=t,this.startAccessor=ue(t.start),this.endAccessor=ue(t.end),this.chromAccessor=t.chrom?ue(t.chrom):e=>{},this.weightAccessor=t.weight?ue(t.weight):e=>1,this.as={coverage:t.as??"coverage",start:t.asStart??t.start,end:t.asEnd??t.end,chrom:t.asChrom??t.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([e,i])=>i).map(([e,i])=>`${JSON.stringify(i)}: ${e}`).join(", ")+"};"),this.ends=new go}reset(){super.reset(),this.initialize()}initialize(){const t=this.as.coverage,e=this.as.end,i=this.as.chrom,r=this.startAccessor,s=this.endAccessor,o=this.chromAccessor,a=this.weightAccessor;let l,c,u,f=0,h=NaN;const A=this.ends;A.clear();const d=m=>{this._propagate(m),l=null},p=(m,y,x)=>{if(m==y)return;let C=!1;l&&(l[t]===x?(l[e]=y,C=!0):l[t]!=0&&d(l)),C||(l=this.createSegment(m,y,x,u))},w=()=>{let m=0;for(;(m=A.peekValue())!==void 0;)p(h,m,f),h=m,f-=A.pop();h=NaN,l&&d(l)};this.handle=m=>{const y=r(m);let x=0;for(;(x=A.peekValue())!==void 0&&x<y;)p(h,x,f),h=x,f-=A.pop();if(i){let E=o(m);E!==c&&(w(),u=E,c=u)}isNaN(h)||p(h,y,f),h=y;const C=a(m);f+=C,A.push(C,s(m))},this.complete=()=>{w(),super.complete()},this.beginBatch=m=>{w(),c=null,super.beginBatch(m)}}}function A6(n,t,e=s=>+s,i=0,r=n.length){const s=new go,o=r-i;let a;for(a=0;a<t&&a<o;a++)s.push(a,e(n[i+a]));for(;a<o;a++){const u=e(n[i+a]);u>=s.peekValue()&&(s.push(a,u),s.pop())}const l=[];let c;for(;(c=s.pop())!==void 0;)l.push(n[i+c]);return l.reverse()}class h6{constructor(t,e=-1/0,i=1/0){this.maxSize=t,this.lowerLimit=e,this.upperLimit=i;const r=this.maxSize*2+1;this.lowerLimits=new Float64Array(r),this.upperLimits=new Float64Array(r),this.lowerChildren=new Int32Array(r),this.upperChildren=new Int32Array(r),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(t,e,i=0){if(t>=this.lowerLimits[i]&&e<=this.upperLimits[i]){const r=this.lowerChildren[i];if(r){const s=this._findSlot(t,e,r);return s>=0?s:this._findSlot(t,e,this.upperChildren[i])}else return i}else return-1}reserve(t,e){if(e-t<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const i=this._findSlot(t,e);if(i<0)return!1;const r=this.n++,s=this.n++;return this.lowerLimits[r]=this.lowerLimits[i],this.upperLimits[r]=t,this.lowerLimits[s]=e,this.upperLimits[s]=this.upperLimits[i],this.lowerChildren[i]=r,this.upperChildren[i]=s,!0}}class d6 extends ze{get behavior(){return Kh}constructor(t,e){if(super(t),this.params=t,this._data=[],this.channel=t.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.startPosAccessor=ue(this.params.pos),this.endPosAccessor=ue(this.params.pos2??this.params.pos),this.startPosBisector=mr(this.startPosAccessor),this.endPosBisector=mr(this.endPosAccessor),this.scoreAccessor=ue(this.params.score),this.widthAccessor=ue(this.params.width),this.laneAccessor=this.params.lane?ue(this.params.lane):o=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=e.getScaleResolution(this.channel);const i=()=>this._filterAndPropagate();this.schedule=()=>e.context.animator.requestTransition(i);const r=()=>this.schedule();this.resolution.addEventListener("domain",r),this.registerDisposer(()=>this.resolution.removeEventListener("domain",r));const s=e._addBroadcastHandler("layoutComputed",()=>this.schedule());this.registerDisposer(s)}complete(){const t=this.startPosAccessor;this._data.sort((e,i)=>t(e)-t(i));for(const e of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(e,new h6(200));this.schedule(),super.complete()}_filterAndPropagate(){super.reset();const t=this.resolution.getScale(),e=this.resolution.getAxisLength();if(!e)return;for(const o of this.reservationMaps.values())o.reset();const i=t.domain(),s=A6(this._data,70,this.scoreAccessor,this.endPosBisector.left(this._data,i[0]),this.startPosBisector.right(this._data,i[1]));for(const o of s){let a=t(this.startPosAccessor(o))*e,l=t(this.endPosAccessor(o))*e;const c=l-a,u=this.widthAccessor(o)+this.padding*2;let f=(a+l)/2;const h=Math.max(0,(c-u)/2);if(h>0){const A=Math.max(0,u/2-f);f+=Math.min(A,h);const d=Math.max(0,u/2+f-e);f-=Math.min(d,h)}if(this.reservationMaps.get(this.laneAccessor(o)).reserve(f-u/2,f+u/2))if(this.params.asMidpoint){const A=Object.assign({},o);A[this.params.asMidpoint]=t.invert(f/e),this._propagate(A)}else this._propagate(o)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(t){this._data.push(t)}}class g6 extends ze{constructor(t,e){super(t,e),this.params=t,this.predicate=void 0}initialize(){let t="";if(p6(this.params))t=this.params.expr;else if(m6(this.params)){const e=this.paramRuntime.findValue(this.params.param);if(!e)throw new Error(`Cannot initialize filter transform. Selection parameter "${this.params.param}" not found!`);t=PD(this.params,e)}else throw new Error("Invalid filter params: "+JSON.stringify(this.params));this.predicate=this.paramRuntime.watchExpression(t,()=>this.repropagate(),{scopeOwned:!1,registerDisposer:e=>this.registerDisposer(e)})}handle(t){this.predicate(t)&&this._propagate(t)}}function p6(n){return"expr"in n}function m6(n){return"param"in n}class w6 extends ze{get behavior(){return pn}constructor(t){super(t),this.params=t;const e=t.index;if(t.fields){const i=Ke(t.fields).map(s=>ue(s)),r=Ke(t.as||t.fields);if(i.length!==r.length)throw new Error(`Lengths of "fields" (${i.length}), and "as" (${r.length}) do not match!`);this.handle=s=>{const o=i.map((l,c)=>l(s)??[]),a=o[0].length;for(let l=0;l<a;l++){const c=Object.assign({},s);for(let u=0;u<i.length;u++)c[r[u]]=l<o[u].length?o[u][l]:null;e&&(c[e]=l),this._propagate(c)}}}else this.handle=i=>{for(let r=0;r<i.length;r++){const s=Object.assign({},i[r]);e&&(s[e]=r),this._propagate(s)}}}}const C6=48;function*y6(n,t=","){const e=t.charCodeAt(0);let i=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);s==e?(yield i,i=0):i=i*10+s-C6}yield i}class x6 extends ze{get behavior(){return pn}constructor(t){super(t);const e=ue(t.exons??"exons"),i=ue(t.start??"start"),[r,s]=t.as||["exonStart","exonEnd"];this.handle=o=>{let a=i(o),l=a,c=!0;const u=e(o);for(const f of y6(u)){if(c)l=a+f;else{a=l+f;const h=Object.assign({},o);h[r]=l,h[s]=a,this._propagate(h)}c=!c}}}}class b6 extends ze{get behavior(){return pn}constructor(t){super(t);const e=Ke(t.field).map(s=>ue(s)),i=Ke(t.separator),r=Ke(t.as||t.field);if(e.length!==i.length||e.length!==r.length)throw new Error(`Lengths of "separator" (${i.length}), "fields" (${e.length}), and "as" (${r.length}) do not match!`);this.handle=s=>{if(e.some(l=>!l(s)))return;const o=e.map((l,c)=>l(s).split(i[c]));I6(o,s);const a=o[0].length;for(let l=0;l<a;l++){const c=Object.assign({},s);for(let u=0;u<e.length;u++)c[r[u]]=o[u][l];this._propagate(c)}}}}function I6(n,t){const e=n.map(i=>i.length);if(!e.every(i=>i==e[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(t))}class E6 extends ze{get behavior(){return wi}constructor(t,e){super(t,e),this.params=t,this.as=t.as,this.fn=void 0}initialize(){this.fn=this.paramRuntime.watchExpression(this.params.expr,()=>this.repropagate(),{scopeOwned:!1,registerDisposer:t=>this.registerDisposer(t)})}handle(t){t[this.as]=this.fn(t),this._propagate(t)}}class q1 extends ze{get behavior(){return wi}constructor(t,e){t={channel:"x",...t},super(t),this.params=t;const i=t.channel;if(!["x","y"].includes(i))throw new Error("Invalid channel: "+i);const r=e.getScaleResolution(i).getScale(),s="genome"in r?r.genome():void 0;if(!s)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const o=ue(t.chrom),a=Ke(t.pos).map(p=>ue(p)),l=Ke(t.as);if(a.length!=l.length)throw new Error('The number of "pos" and "as" elements must be equal!');const c=Ke(t.offset);let u;if(c.length==0)u=new Array(a.length).fill(0);else if(c.length==1)u=new Array(a.length).fill(c[0]);else if(c.length==a.length)u=c;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(t.offset)}!`);const f=new Function("datum","chromOffset","posAccessors",l.map((p,w)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${w}](datum) - ${u[w]};`).join(`
`));let h,A=0;const d=p=>{if(p!==h){if(A=s.cumulativeChromPositions.get(p),A===void 0)return;h=p}return A};this.handle=p=>{const w=o(p),m=d(w);if(m===void 0)throw new Error(`Unknown chromosome/contig "${w}" in datum: ${JSON.stringify(p)}`);f(p,m,a),this._propagate(p)}}}const K1={chars:JSON.parse('[{"id":87,"width":53,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":43.491,"chnl":15,"x":0,"y":0,"page":0},{"id":124,"width":17,"height":50,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":10.521,"chnl":15,"x":0,"y":42,"page":0},{"id":40,"width":20,"height":49,"xoffset":0,"yoffset":-32.571000000000005,"xadvance":11.214,"chnl":15,"x":0,"y":94,"page":0},{"id":41,"width":19,"height":49,"xoffset":0,"yoffset":-32.571000000000005,"xadvance":11.214,"chnl":15,"x":0,"y":145,"page":0},{"id":36,"width":32,"height":49,"xoffset":0,"yoffset":-34.419000000000004,"xadvance":24.360000000000003,"chnl":15,"x":0,"y":196,"page":0},{"id":125,"width":21,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.642000000000001,"chnl":15,"x":0,"y":247,"page":0},{"id":91,"width":22,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.852,"chnl":15,"x":0,"y":297,"page":0},{"id":93,"width":19,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.852,"chnl":15,"x":0,"y":347,"page":0},{"id":123,"width":21,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.642000000000001,"chnl":15,"x":0,"y":397,"page":0},{"id":106,"width":19,"height":48,"xoffset":0,"yoffset":-30.639000000000003,"xadvance":10.08,"chnl":15,"x":0,"y":447,"page":0},{"id":81,"width":43,"height":47,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":33.621,"chnl":15,"x":21,"y":447,"page":0},{"id":77,"width":45,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":38.997,"chnl":15,"x":66,"y":447,"page":0},{"id":64,"width":43,"height":44,"xoffset":0,"yoffset":-28.539,"xadvance":35.133,"chnl":15,"x":23,"y":397,"page":0},{"id":92,"width":28,"height":43,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":18.984,"chnl":15,"x":68,"y":397,"page":0},{"id":47,"width":28,"height":43,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":18.984,"chnl":15,"x":98,"y":397,"page":0},{"id":109,"width":42,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":34.545,"chnl":15,"x":113,"y":447,"page":0},{"id":119,"width":42,"height":31,"xoffset":0,"yoffset":-21.315,"xadvance":32.991,"chnl":15,"x":157,"y":447,"page":0},{"id":42,"width":25,"height":42,"xoffset":0,"yoffset":-31.626,"xadvance":17.85,"chnl":15,"x":128,"y":397,"page":0},{"id":37,"width":42,"height":41,"xoffset":0,"yoffset":-30.387,"xadvance":33.663000000000004,"chnl":15,"x":155,"y":397,"page":0},{"id":79,"width":42,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":33.621,"chnl":15,"x":199,"y":397,"page":0},{"id":102,"width":24,"height":41,"xoffset":0,"yoffset":-30.534000000000002,"xadvance":14.721,"chnl":15,"x":243,"y":397,"page":0},{"id":100,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.520000000000003,"chnl":15,"x":269,"y":397,"page":0},{"id":98,"width":32,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.520000000000003,"chnl":15,"x":302,"y":397,"page":0},{"id":56,"width":32,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":336,"y":397,"page":0},{"id":38,"width":40,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":29.904000000000003,"chnl":15,"x":370,"y":397,"page":0},{"id":108,"width":17,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":9.912,"chnl":15,"x":412,"y":397,"page":0},{"id":107,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":21.336000000000002,"chnl":15,"x":431,"y":397,"page":0},{"id":48,"width":33,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":464,"y":397,"page":0},{"id":71,"width":38,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":30.681,"chnl":15,"x":21,"y":347,"page":0},{"id":83,"width":31,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":22.785,"chnl":15,"x":61,"y":347,"page":0},{"id":63,"width":27,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":18.795,"chnl":15,"x":94,"y":347,"page":0},{"id":105,"width":18,"height":41,"xoffset":0,"yoffset":-30.639000000000003,"xadvance":10.08,"chnl":15,"x":123,"y":347,"page":0},{"id":51,"width":32,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":143,"y":347,"page":0},{"id":104,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.436,"chnl":15,"x":177,"y":347,"page":0},{"id":67,"width":37,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":28.056,"chnl":15,"x":210,"y":347,"page":0},{"id":88,"width":37,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.258000000000003,"chnl":15,"x":249,"y":347,"page":0},{"id":68,"width":40,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":31.941000000000003,"chnl":15,"x":288,"y":347,"page":0},{"id":70,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":23.751,"chnl":15,"x":330,"y":347,"page":0},{"id":34,"width":23,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":15.561000000000002,"chnl":15,"x":364,"y":347,"page":0},{"id":72,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":32.067,"chnl":15,"x":389,"y":347,"page":0},{"id":73,"width":18,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":11.760000000000002,"chnl":15,"x":429,"y":347,"page":0},{"id":74,"width":24,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":17.745,"chnl":15,"x":449,"y":347,"page":0},{"id":75,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.825000000000003,"chnl":15,"x":24,"y":297,"page":0},{"id":76,"width":31,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":21.567,"chnl":15,"x":475,"y":347,"page":0},{"id":66,"width":35,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.153000000000002,"chnl":15,"x":64,"y":297,"page":0},{"id":78,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":32.067,"chnl":15,"x":101,"y":297,"page":0},{"id":33,"width":18,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":11.298,"chnl":15,"x":141,"y":297,"page":0},{"id":80,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":25.221,"chnl":15,"x":161,"y":297,"page":0},{"id":65,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":28.434,"chnl":15,"x":197,"y":297,"page":0},{"id":82,"width":36,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":26.313000000000002,"chnl":15,"x":237,"y":297,"page":0},{"id":35,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":275,"y":297,"page":0},{"id":84,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.801000000000002,"chnl":15,"x":310,"y":297,"page":0},{"id":85,"width":37,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":30.891000000000002,"chnl":15,"x":346,"y":297,"page":0},{"id":86,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":28.434,"chnl":15,"x":385,"y":297,"page":0},{"id":39,"width":16,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":8.568000000000001,"chnl":15,"x":425,"y":297,"page":0},{"id":69,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.255000000000003,"chnl":15,"x":443,"y":297,"page":0},{"id":89,"width":36,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":26.208000000000002,"chnl":15,"x":23,"y":247,"page":0},{"id":90,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":25.284000000000002,"chnl":15,"x":477,"y":297,"page":0},{"id":49,"width":31,"height":40,"xoffset":0,"yoffset":-30.156000000000002,"xadvance":24.360000000000003,"chnl":15,"x":61,"y":247,"page":0},{"id":50,"width":32,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":94,"y":247,"page":0},{"id":57,"width":32,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":128,"y":247,"page":0},{"id":94,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":162,"y":247,"page":0},{"id":96,"width":21,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":16.8,"chnl":15,"x":196,"y":247,"page":0},{"id":55,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":219,"y":247,"page":0},{"id":54,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":254,"y":247,"page":0},{"id":53,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":289,"y":247,"page":0},{"id":52,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":323,"y":247,"page":0},{"id":103,"width":31,"height":39,"xoffset":0,"yoffset":-21.630000000000003,"xadvance":21.84,"chnl":15,"x":358,"y":247,"page":0},{"id":112,"width":32,"height":39,"xoffset":0,"yoffset":-21.651,"xadvance":23.541,"chnl":15,"x":391,"y":247,"page":0},{"id":113,"width":31,"height":39,"xoffset":0,"yoffset":-21.651,"xadvance":23.520000000000003,"chnl":15,"x":425,"y":247,"page":0},{"id":116,"width":25,"height":39,"xoffset":0,"yoffset":-28.182000000000002,"xadvance":15.057,"chnl":15,"x":458,"y":247,"page":0},{"id":121,"width":31,"height":38,"xoffset":0,"yoffset":-21.273,"xadvance":21.651,"chnl":15,"x":34,"y":196,"page":0},{"id":59,"width":18,"height":36,"xoffset":0,"yoffset":-20.706,"xadvance":10.983,"chnl":15,"x":485,"y":247,"page":0},{"id":43,"width":32,"height":34,"xoffset":0,"yoffset":-24.486,"xadvance":24.360000000000003,"chnl":15,"x":67,"y":196,"page":0},{"id":60,"width":30,"height":33,"xoffset":0,"yoffset":-23.331000000000003,"xadvance":24.360000000000003,"chnl":15,"x":101,"y":196,"page":0},{"id":62,"width":31,"height":33,"xoffset":0,"yoffset":-23.331000000000003,"xadvance":24.360000000000003,"chnl":15,"x":133,"y":196,"page":0},{"id":117,"width":30,"height":32,"xoffset":0,"yoffset":-21.273,"xadvance":23.415000000000003,"chnl":15,"x":166,"y":196,"page":0},{"id":99,"width":29,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":20.055,"chnl":15,"x":198,"y":196,"page":0},{"id":110,"width":31,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":23.436,"chnl":15,"x":229,"y":196,"page":0},{"id":111,"width":32,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":23.814,"chnl":15,"x":262,"y":196,"page":0},{"id":126,"width":32,"height":26,"xoffset":0,"yoffset":-16.128,"xadvance":24.360000000000003,"chnl":15,"x":201,"y":447,"page":0},{"id":101,"width":31,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":22.176000000000002,"chnl":15,"x":296,"y":196,"page":0},{"id":114,"width":25,"height":32,"xoffset":0,"yoffset":-21.651,"xadvance":15.288,"chnl":15,"x":329,"y":196,"page":0},{"id":115,"width":27,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":18.186,"chnl":15,"x":356,"y":196,"page":0},{"id":97,"width":28,"height":32,"xoffset":0,"yoffset":-21.651,"xadvance":20.874000000000002,"chnl":15,"x":385,"y":196,"page":0},{"id":118,"width":31,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":21.672,"chnl":15,"x":415,"y":196,"page":0},{"id":61,"width":31,"height":29,"xoffset":0,"yoffset":-19.089000000000002,"xadvance":24.360000000000003,"chnl":15,"x":448,"y":196,"page":0},{"id":120,"width":30,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":20.916,"chnl":15,"x":21,"y":145,"page":0},{"id":58,"width":18,"height":31,"xoffset":0,"yoffset":-20.706,"xadvance":10.5,"chnl":15,"x":53,"y":145,"page":0},{"id":122,"width":28,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":18.984,"chnl":15,"x":73,"y":145,"page":0},{"id":95,"width":28,"height":16,"xoffset":0,"yoffset":0,"xadvance":19.278000000000002,"chnl":15,"x":235,"y":447,"page":0},{"id":45,"width":23,"height":24,"xoffset":0,"yoffset":-14.175,"xadvance":15.603000000000002,"chnl":15,"x":481,"y":196,"page":0},{"id":44,"width":17,"height":21,"xoffset":0,"yoffset":-4.956,"xadvance":9.534,"chnl":15,"x":103,"y":145,"page":0},{"id":46,"width":18,"height":15,"xoffset":0,"yoffset":-4.956,"xadvance":9.912,"chnl":15,"x":0,"y":497,"page":0},{"id":32,"width":0,"height":0,"xoffset":0,"yoffset":0,"xadvance":10.752,"chnl":15,"x":20,"y":497,"page":0}]'),common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0}};class B6 extends ze{get behavior(){return wi}constructor(t,e){super(t,e),this.params=t;const i=Od(K1),r=ue(t.field),s=t.as;let o=0;if(Me(t.fontSize)){const a=e.paramRuntime.watchExpression(t.fontSize.expr,()=>{o=a(),this.repropagate()},{scopeOwned:!1,registerDisposer:l=>this.registerDisposer(l)});o=a()}else o=t.fontSize;this.handle=a=>{const l=r(a);l!==void 0?a[s]=i.measureWidth(l,o):a[s]=0,this._propagate(a)}}}const v6=65536;class S6 extends ze{get behavior(){return wi}constructor(t){super(t),this.params=t}reset(){super.reset(),this.initialize()}initialize(){const t=this.params,e=t.as||"lane",i=ot(t.spacing)?t.spacing:1,r=ue(t.start),s=ue(t.end);if(!t.preference!=!t.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(t.preference){const o=new Float64Array(v6),a=ue(t.preference),l=t.preferredOrder;let c=1/0;this.handle=u=>{const f=r(u);f<c&&o.fill(-1/0),c=f;const h=l.indexOf(a(u));let A=-1;if(h>=0&&o[h]<f)A=h;else{const d=r(u);for(A=0;A<o.length&&!(o[A]<d);A++);if(A>=o.length)throw new Error("Out of lanes!")}o[A]=s(u)+i,u[e]=A,this._propagate(u)}}else{const o=new go,a=new go;let l=-1/0,c=0;this.handle=u=>{const f=r(u);for(;o.length&&(o.peekValue()<=f||f<l);){const A=o.pop();a.push(A,A)}l=f;let h=a.pop();h===void 0&&(h=c++),u[e]=h,this._propagate(u),o.push(h,s(u)+i)}}}}class Q6 extends ze{get behavior(){return pn}constructor(t){if(super(t),this.params=t,t.as&&t.as.length!=t.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const e=t.fields.map(r=>ue(r)),i=t.as?t.as:e.map(Fe);this.handle=r=>{const s={};for(let o=0;o<e.length;o++)s[i[o]]=e[o](r);this._propagate(s)}}}class D6 extends ze{get behavior(){return wi}constructor(t){super(t),this.params=t;const e=new RegExp(t.regex),i=typeof t.as=="string"?[t.as]:t.as,r=ue(t.field);this.handle=s=>{const o=r(s);if(Ce(o)){const a=o.match(e);if(a){if(a.length-1!=i.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let l=0;l<i.length;l++)s[i[l]]=a[l+1]}else if(t.skipInvalidInput)for(let l=0;l<i.length;l++)s[i[l]]=void 0;else throw new Error(`"${o}" does not match the given regex: ${e.toString()}`)}else if(!t.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof o}, field content: "${o}".`);this._propagate(s)}}}class k6 extends ze{get behavior(){return pn}constructor(t){super(t),this.params=t;const e=Ke(t.columnRegex).map(h=>new RegExp(h));for(const h of e)if(RegExp("|"+h.source).exec("").length-1!=1)throw new Error(`Regex ${h.toString()} must have exactly one capturing group!`);const i=Ke(t.asValue);if(e.length!=i.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const r=t.skipRegex?new RegExp(t.skipRegex):void 0,s=t.asKey||"sample";let o,a,l;const c=h=>{var w;const A=Object.keys(h);for(const m of e)if(!A.some(y=>m.test(y)))throw new Error(`No columns matching the regex ${m.toString()} found in the data!`);const d=new Map;for(const[m,y]of e.entries())for(const x of A){const C=(w=y.exec(x))==null?void 0:w[1];if(C!==void 0){let E=d.get(C);E||(E=[],d.set(C,E)),E[m]=x}}o=[...d.entries()],a=A.filter(m=>!e.some(y=>y.test(m))&&!(r&&r.test(m)));const p=[...a.map(m=>JSON.stringify(m)+": datum["+JSON.stringify(m)+"]"),JSON.stringify(s)+": sampleId",...i.map((m,y)=>JSON.stringify(m)+`: datum[attrs[${y}]]`)];l=new Function("datum","sampleId","attrs",`return {
`+p.join(`,
`)+`
};`)},u=h=>{o||c(h);for(let A=0;A<o.length;A++){const[d,p]=o[A],w=l(h,d,p);this._propagate(w)}},f=h=>{c(h),u(h),this.handle=u};this.handle=f,this.beginBatch=h=>{yw(h)&&(this.handle=f),super.beginBatch(h)}}}class F6 extends ze{get behavior(){return wi}constructor(t){super(t),this.params=t,this.buffer=[]}reset(){super.reset(),this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,e=t.as||["y0","y1"],i=t.sort?tm(t.sort.field,t.sort.order):void 0,r=t.field?ue(t.field):()=>1,s=t.groupby.map(u=>ue(u)),o=wS(this.buffer,u=>s.map(f=>f(u)).join()).map(u=>u[1]);let a=u=>!0;if(t.baseField){const u=ue(t.baseField);a=f=>u(f)!==null}let l,c;switch(t.offset){case"normalize":l=(u,f)=>u/f,c=(u,f)=>$a(u,f);break;case"center":l=(u,f)=>u-f/2,c=(u,f)=>$a(u,f);break;case"information":{const u=Math.log2(t.cardinality??4);l=(f,h)=>f/h,c=(f,h)=>{const d=$a(f,y=>+!a(y)),p=$a(f,h),w=p-d;let m=0;for(let y=0;y<f.length;y++){const x=f[y];if(a(x)){const C=h(x)/w;m-=C*Math.log2(C)}}return w/(u-(m+0))*(w/p)}}break;default:l=(u,f)=>u,c=(u,f)=>1}for(const u of o){i&&u.sort(i);const f=c(u,r);let h=0;for(const A of u){const d=h+r(A);a(A)&&(A[e[0]]=l(h,f),A[e[1]]=l(d,f),this._propagate(A),h=d)}}super.complete()}}class R6 extends ze{get behavior(){return pn}constructor(t){super(t),this.params=t;const e=ue(t.field??"sequence"),[i,r]=t.as??["pos","sequence"];this.handle=s=>{const o=Object.assign({},s,{[r]:"",[i]:0}),a=e(s);for(let l=0;l<a.length;l++){const c=Object.assign({},o);c[i]=l,c[r]=a.charAt(l),this._propagate(c)}}}}const j1={count:n=>n.length,valid:AS,sum:$a,min:Fh,max:kh,mean:ES,median:BS,variance:hS};class N6 extends ze{get behavior(){return pn}constructor(t){if(super(t),this.params=t,this.buffer=[],this.ops=[],this.as=[],t.fields){if(t.fields.length!=t.ops.length)throw new Error("Fields and ops must have the same length!");if(t.as&&t.as.length!=t.ops.length)throw new Error('If "as" is defined, "fields" and "as" must have the same length!');t.fields.forEach((e,i)=>{const r=ue(e),s=j1[t.ops[i]];this.ops.push(o=>s(o,r)),this.as.push(t.as?t.as[i]:`${t.ops[i]}_${t.fields[i]}`)})}else this.ops.push(e=>j1.count(e)),this.as.push("count")}reset(){super.reset(),this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,e=t==null?void 0:t.groupby;if((e==null?void 0:e.length)>0){const i=e.map(s=>ue(s)),r=Gu(this.buffer,...i);for(const[s,o]of K0(r)){const a={};for(let l=0;l<e.length;l++)a[e[l]]=s[l];this.ops.forEach((l,c)=>{a[this.as[c]]=l(o)}),this._propagate(a)}}else{const i={};this.ops.forEach((r,s)=>{i[this.as[s]]=r(this.buffer)}),this._propagate(i)}super.complete()}}const M6={aggregate:N6,collect:J1,coverage:f6,filterScoredLabels:d6,filter:g6,flatten:w6,flattenCompressedExons:x6,flattenDelimited:b6,flattenSequence:R6,formula:E6,identifier:Wh,linearizeGenomicCoordinate:q1,measureText:B6,pileup:S6,project:Q6,regexExtract:D6,regexFold:k6,sample:Jx,stack:F6};function T6(n,t){const e=M6[n.type];if(e)return new e(n,t);throw new Error("Unknown transform: "+n.type)}function W1(n,t=[]){if(!$1(n)&&!Z1(n))return;const e={...n.format};if(e.type??(e.type=Z1(n)&&L6(t)),e.parse??(e.parse="auto"),!e.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(n));return e}function P6(n){var t;return((t=Jh(n))==null?void 0:t.responseType)??"text"}function L6(n){var t;if(Array.isArray(n)&&(n=n[0]),n)return(t=n.match(/\.(csv|tsv|json)/))==null?void 0:t[1]}const X1=n=>typeof n!="object"?O6:U6,O6=n=>({data:n}),U6=n=>n;function Z1(n){return"url"in n}class Ur extends jh{constructor(e){super();X(this,"view");this.view=e}get identifier(){}setLoadingStatus(e,i){this.view.context.dataFlow.loadingStatusRegistry.set(this.view,e,i)}get paramRuntime(){return this.view.paramRuntime}handle(e){throw new Error("Source does not handle incoming data!")}async load(){}repropagate(){this.load()}}function $1(n){return"values"in n}class G6 extends Ur{constructor(e,i){var r;super(i);v(this,Wl);if(this.params=e,typeof e.values=="string"&&!((r=e==null?void 0:e.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}get label(){return"inlineSource"}isTrivial(){const e=this.params.values,i=Array.isArray(e)?e[0]:e;return!!(i&&Object.keys(i).length==0&&i.constructor===Object)}updateDynamicData(e){F(this,Wl,Op).call(this,e)}loadSynchronously(){F(this,Wl,Op).call(this,this.params.values)}async load(){this.loadSynchronously()}}Wl=new WeakSet,Op=function(e){let i=[],r=s=>s;if(Array.isArray(e))e.length>0&&(i=e,r=X1(e[0]));else if(typeof e=="object")i=[e];else if(typeof e=="string")i=qh(e,W1(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const s of i)this._propagate(r(s));this.complete()};function z6(n){return"url"in n}class H6 extends Ur{constructor(e,i){super(i);v(this,ZA);this.params=pc(i.paramRuntime,e,()=>this.load(),r=>this.registerDisposer(r),{batchMode:"whenPropagated"}),this.baseUrl=i==null?void 0:i.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}get label(){return"urlSource"}async load(){const e=Oe(this.params.url),i=typeof e=="object"&&"urlsFromFile"in e?await F(this,ZA,U2).call(this,e):(Array.isArray(e)?e:[e]).map(l=>Tr(this.baseUrl,l)),r=W1(this.params,i),s=P6(r.type);if(i.length===0||!i[0]){this.reset(),this.complete();return}const o=async l=>{try{const c=await fetch(l);if(!c.ok)throw new Error(`${c.status} ${c.statusText}`);return typeof c[s]=="function"?c[s]():c.text()}catch(c){throw new Error(`Could not load data: ${l}. Reason: ${c.message}`)}},a=(l,c)=>{try{const u=qh(l,r);this.beginBatch({type:"file",url:c});for(const f of u)this._propagate(f)}catch(u){throw new Error(`Cannot parse: ${c}: ${u.message}`)}};this.setLoadingStatus("loading"),this.reset();try{await Promise.all(i.map(l=>o(l).then(a))),this.setLoadingStatus("complete")}catch(l){this.setLoadingStatus("error",l.message)}this.complete()}}ZA=new WeakSet,U2=async function(e){const i=Tr(this.baseUrl,e.urlsFromFile),r=await fetch(i);if(!r.ok)throw new Error(`Cannot load "${i}": ${r.status} ${r.statusText}`);const s=await r.text();return qh(s,{type:e.type??"tsv"}).map(a=>typeof a=="string"?a:a.url).map(a=>Tr(i,a))};function _6(n){return"sequence"in n}class V6 extends Ur{constructor(t,e){if(super(e),this.sequence=pc(e.paramRuntime,t.sequence,()=>this.loadSynchronously(),i=>this.registerDisposer(i),{batchMode:"whenPropagated"}),!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}get label(){return"sequenceSource"}loadSynchronously(){const t=Oe(this.sequence.as)??"data",e=Oe(this.sequence.start)??0,i=Oe(this.sequence.step)??1,r=Oe(this.sequence.stop);this.reset(),this.beginBatch({type:"file"});for(let s=e;s<r;s+=i)this._propagate({[t]:s});this.complete()}async load(){this.loadSynchronously()}}class W0 extends Ur{constructor(e,i){super(e);X(this,"initializedPromise",Promise.resolve());X(this,"_lastLoadedDomain");if(i){if(i!=="x"&&i!=="y")throw new Error(`Invalid channel specified for the lazy data source: ${i}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the lazy data source. Must be either "x" or "y".');if(this.channel=i,this.scaleResolution=this.view.getScaleResolution(i),!this.scaleResolution){const s=[`The lazy data source cannot find a resolved scale for channel "${i}".`];throw this.view instanceof wt||s.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(s.join(" "))}const r=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",r),this.view.context.addBroadcastListener("layoutComputed",r)}get genome(){const e=this.scaleResolution.getScale();if("genome"in e){const i=e.genome();if(i)return i}throw new Error("No genome has been defined!")}onDomainChanged(e,i){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(e){this._lastLoadedDomain=Array.from(this.scaleResolution.getDomain()),this.reset(),this.beginBatch({type:"file"});for(const i of e)for(const r of i)this._propagate(r);this.complete()}isDataReadyForDomain(e){const i=e[this.channel];if(!i||!this._lastLoadedDomain)return!1;const[r,s]=i[0]<=i[1]?i:[i[1],i[0]],[o,a]=this._lastLoadedDomain[0]<=this._lastLoadedDomain[1]?this._lastLoadedDomain:[this._lastLoadedDomain[1],this._lastLoadedDomain[0]];return r>=o&&s<=a}}class Y6 extends W0{constructor(e,i){const r={...e};super(i,r.channel);X(this,"ticks",[]);this.params=e}get label(){return"axisTickSource"}async load(){this.ticks=null,this.onDomainChanged()}onDomainChanged(){const e=this.scaleResolution.getScale(),i=this.scaleResolution.getAxisLength(),r=this.params.axis,s=c=>25+60*P1(100,700,c),o=ot(r.tickCount)?r.tickCount:Math.round(i/s(i)),a=Zx(e,o,r.tickMinStep),l=r.values?$x(e,r.values,a):FN(e,a);if(this.ticks==null||!Js(l,this.ticks)){this.ticks=l;const c=NN(e,o,r.format);this.publishData([l.map(u=>({value:u,label:c(u)}))])}}}class J6 extends W0{constructor(t,e){super(e,t.channel)}get label(){return"axisGenomeSource"}async load(){this.publishData([this.genome.chromosomes])}}class el extends W0{constructor(){super(...arguments);v(this,Aa,new AbortController);v(this,ha,[0,0]);v(this,da,[0,0]);v(this,Xl,0);X(this,"params")}setupDebouncing(e){const i=()=>Oe(e.debounce),r=e.debounceMode;if(r=="domain")this.onDomainChanged=sf(this.onDomainChanged.bind(this),i,!1);else if(r=="window")this.loadInterval=sf(this.loadInterval.bind(this),i,!1);else throw new Error("Invalid debounceMode: "+r)}onDomainChanged(e){var r;Q(this,da,e);const i=Oe((r=this.params)==null?void 0:r.windowSize)??-1;e[1]-e[0]>i||this.callIfWindowsChanged(e,i,async s=>{await this.initializedPromise,this.loadInterval(s)})}reloadLastDomain(){const e=g(this,da);Q(this,da,[0,0]),Q(this,ha,[0,0]),this._lastLoadedDomain=void 0,this.onDomainChanged(e)}async loadInterval(e){}publishData(e){const i=this._lastLoadedDomain;super.publishData(e),i&&(this._lastLoadedDomain=i)}async discretizeAndLoad(e,i){g(this,Aa).abort(),this.setLoadingStatus("loading"),Q(this,Aa,new AbortController);const r=g(this,Aa).signal,s=this.genome.continuousToDiscreteChromosomeIntervals(e);try{const o=await Promise.all(s.map(async a=>i(a,r)));if(!r.aborted)return this.setLoadingStatus("complete"),this._lastLoadedDomain=Array.from(e),o}catch(o){if(!r.aborted)throw this.setLoadingStatus("error",o.message),o}}callIfWindowsChanged(e,i,r){const s=[Math.max(Math.floor(e[0]/i)*i,0),Math.min(Math.ceil(e[1]/i)*i,this.genome.totalSize)],o=g(this,ha);(i!==g(this,Xl)||s[0]<o[0]||s[1]>o[1])&&(Q(this,ha,s),Q(this,Xl,i),r(s))}}Aa=new WeakMap,ha=new WeakMap,da=new WeakMap,Xl=new WeakMap;class q6 extends el{constructor(t,e){const i={channel:"x",windowSize:7e3,debounce:200,debounceMode:"window",...t};if(super(e,i.channel),this.params=i,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(r=>{Promise.all([Promise.resolve().then(()=>hL),Promise.resolve().then(()=>sl)]).then(([{IndexedFasta:s},{RemoteFile:o}])=>{const a=l=>new o($c(l,this.view.getBaseUrl()));this.fasta=new s({fasta:a(this.params.url),fai:a(this.params.indexUrl??this.params.url+".fai")}),r()})})}get label(){return"bigWigSource"}async loadInterval(t){const e=await this.discretizeAndLoad(t,async(i,r)=>this.fasta.getSequence(i.chrom,i.startPos,i.endPos,{signal:r}).then(s=>{if(s!=null)return{chrom:i.chrom,start:i.startPos,sequence:s};console.log(`No sequence found for interval ${i.chrom}:${i.startPos}-${i.endPos}`)}));this.publishData([e.filter(i=>i!==void 0)])}}class K6 extends el{constructor(e,i){const r={pixelsPerBin:2,channel:"x",debounce:200,debounceMode:"window",...e},s=Oe(r.channel);super(i,s);v(this,Zl);v(this,ga,[]);v(this,pa);if(this.params=pc(i.paramRuntime,r,o=>{o.has("url")?F(this,Zl,Up).call(this).then(()=>this.reloadLastDomain()):o.has("pixelsPerBin")&&this.reloadLastDomain()},o=>this.registerDisposer(o),{batchMode:"whenPropagated"}),!this.params.url)throw new Error("No URL provided for BigWigSource");this.setupDebouncing(this.params),F(this,Zl,Up).call(this)}get label(){return"bigWigSource"}async onDomainChanged(e){await this.initializedPromise;const i=this.scaleResolution.getAxisLength()||700,r=j6(e,i,g(this,ga)),s=Math.max(r*i,5e3);this.callIfWindowsChanged(e,s,o=>this.loadInterval(o,r))}async loadInterval(e,i){const r=.5/i/Oe(this.params.pixelsPerBin),s=await this.discretizeAndLoad(e,(o,a)=>g(this,pa).getFeatures(o.chrom,o.startPos,o.endPos,{scale:r,signal:a}).then(l=>l.map(c=>({chrom:o.chrom,start:c.start,end:c.end,score:c.score}))));s&&this.publishData(s)}}ga=new WeakMap,pa=new WeakMap,Zl=new WeakSet,Up=function(){return this.initializedPromise=new Promise((e,i)=>{Promise.all([Promise.resolve().then(()=>BE),Promise.resolve().then(()=>sl)]).then(([{BigWig:r},{RemoteFile:s}])=>{Q(this,pa,new r({filehandle:new s($c(Oe(this.params.url),this.view.getBaseUrl()))})),this.setLoadingStatus("loading"),g(this,pa).getHeader().then(o=>{Q(this,ga,o.zoomLevels.map(a=>a.reductionLevel).reverse()),g(this,ga).push(1),this.setLoadingStatus("complete"),e()}).catch(o=>{this.load(),this.setLoadingStatus("error",`${Oe(this.params.url)}: ${o.message}`),i(o)})})}),this.initializedPromise};function j6(n,t,e){const i=(n[1]-n[0])/t;return e.find(r=>r<i)??e.at(-1)}class W6 extends el{constructor(e,i){const r={channel:"x",windowSize:1e6,debounce:200,debounceMode:"window",...e},s=Oe(r.channel);super(i,s);v(this,$l);X(this,"parser");X(this,"bbi");X(this,"parseLine");if(this.params=pc(i.paramRuntime,r,o=>{o.has("url")?F(this,$l,Gp).call(this).then(()=>this.reloadLastDomain()):o.has("windowSize")&&this.reloadLastDomain()},o=>this.registerDisposer(o),{batchMode:"whenPropagated"}),!this.params.url)throw new Error("No URL provided for BigBedSource");this.setupDebouncing(this.params),F(this,$l,Gp).call(this)}get label(){return"bigBedSource"}async loadInterval(e){const i=await this.discretizeAndLoad(e,async(r,s)=>this.bbi.getFeatures(r.chrom,r.startPos,r.endPos,{signal:s}).then(o=>o.map(a=>this.parseLine(r.chrom,a))));i&&this.publishData(i)}}$l=new WeakSet,Gp=function(){return this.initializedPromise=new Promise((e,i)=>{Promise.all([Promise.resolve().then(()=>CO),Promise.resolve().then(()=>BE),Promise.resolve().then(()=>sl)]).then(([r,{BigBed:s},{RemoteFile:o}])=>{const a=r.default;this.bbi=new s({filehandle:new o($c(Oe(this.params.url),this.view.getBaseUrl()))}),this.setLoadingStatus("loading"),this.bbi.getHeader().then(async l=>{this.parser=new a({autoSql:l.autoSql});try{const c=X6(this.parser);this.parseLine=(u,f)=>c(u,f.start,f.end,f.rest)}catch{this.parseLine=(u,f)=>this.parser.parseLine(`${u}	${f.start}	${f.end}	${f.rest}`)}this.setLoadingStatus("complete"),e()}).catch(l=>{this.load(),this.setLoadingStatus("error",`${Oe(this.params.url)}: ${l.message}`),i(l)})})}),this.initializedPromise};function X6(n){const t=n.autoSql.fields.filter(y=>y.type).slice(3);let e=0,i="",r=0,s={};const o="	",a=o.charCodeAt(0),l=48,c=45;function u(){let y=i.indexOf(o,e);y<0&&(y=r);const x=i.substring(e,y);return e=y+1,x}function f(){let y=0,x=i.charCodeAt(e),C=1;x===c&&(C=-1,e++,x=i.charCodeAt(e));do{if(x===a){e++;break}y=y*10+x-l,x=i.charCodeAt(++e)}while(e<r);return y*C}const h=t.map(y=>`${JSON.stringify(y.name)}: ${y.isNumeric?"0":"emptyString"}`),A=new Function(`
        const emptyString = "";
        return function makeTemplate(chrom, chromStart, chromEnd) {
            return {
                chrom,
                chromStart,
                chromEnd,
                ${h.join(`,
`)}
            }
        };`)(),d=t.map(y=>{const x=y.type,C=JSON.stringify(y.name);if(["ubyte","int","uint"].includes(x))return`d[${C}] = parseInt();`;if(y.isNumeric)return`d[${C}] = Number(parseString());`;if(["char","string","lstring"].includes(x))return`d[${C}] = parseString();`;throw new Error("Unsupported type: "+x)}),p=Z6(d,50).map((y,x)=>Function("parseInt","parseString",`return function parseFieldChunk${x}(d) {
            ${y.join(`
`)}
        }`)(f,u));function w(y){i=y,r=y.length,e=0}function m(y,x,C,E){w(E),s=A(y,x,C);for(const B of p)B(s);return s}return m}function Z6(n,t){return Array.from({length:Math.ceil(n.length/t)},(e,i)=>n.slice(i*t,i*t+t))}class $6 extends el{constructor(e,i){const r={channel:"x",windowSize:2e4,debounce:200,debounceMode:"domain",...e};super(i,r.channel);v(this,ps);X(this,"chrPrefixFixer",e=>e);if(this.params=r,!this.params.url)throw new Error("No URL provided for BamSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(s=>{Promise.all([Promise.resolve().then(()=>LU),Promise.resolve().then(()=>sl)]).then(([{BamFile:o},{RemoteFile:a}])=>{const l=c=>new a($c(c,this.view.getBaseUrl()));Q(this,ps,new o({bamFilehandle:l(this.params.url),baiFilehandle:l(this.params.indexUrl??this.params.url+".bai")})),g(this,ps).getHeader().then(c=>{var h,A;const u=this.genome.hasChrPrefix(),f=(A=(h=g(this,ps).indexToChr)==null?void 0:h[0])==null?void 0:A.refName.startsWith("chr");u&&!f?this.chrPrefixFixer=d=>d.replace("chr",""):!u&&f&&(this.chrPrefixFixer=d=>"chr"+d),s()})})})}get label(){return"bamSource"}async loadInterval(e){const i=await this.discretizeAndLoad(e,async(r,s)=>g(this,ps).getRecordsForRange(this.chrPrefixFixer(r.chrom),r.startPos,r.endPos,{signal:s}).then(o=>o.map(a=>({chrom:r.chrom,start:a.start,end:a.end,name:a.name,cigar:a.CIGAR,mapq:a.mq,strand:a.strand===1?"+":"-"}))));i&&this.publishData(i)}}ps=new WeakMap;class eb extends el{constructor(e,i){const r={channel:"x",windowSize:3e6,debounce:200,debounceMode:"domain",addChrPrefix:!1,...e},s=Oe(r.channel);super(i,s);v(this,eu);v(this,ma);if(this.params=pc(i.paramRuntime,r,o=>{o.has("url")||o.has("indexUrl")||o.has("addChrPrefix")?F(this,eu,zp).call(this).then(()=>this.reloadLastDomain()):o.has("windowSize")&&this.reloadLastDomain()},o=>this.registerDisposer(o),{batchMode:"whenPropagated"}),!Oe(this.params.url))throw new Error("No URL provided for TabixSource");this.setupDebouncing(this.params),F(this,eu,zp).call(this)}async loadInterval(e){await this.initializedPromise;const i=await this.discretizeAndLoad(e,async(r,s)=>{const o=[];return await g(this,ma).getLines(r.chrom,r.startPos,r.endPos,{lineCallback:a=>{o.push(a)},signal:s}),this._parseFeatures(o)});i&&this.publishData(i)}async _handleHeader(e){}_parseFeatures(e){return[]}}ma=new WeakMap,eu=new WeakSet,zp=function(){return this.initializedPromise=new Promise((e,i)=>{Promise.all([Promise.resolve().then(()=>qU),Promise.resolve().then(()=>sl)]).then(async([{TabixIndexedFile:r},{RemoteFile:s}])=>{const o=u=>new s($c(u,this.view.getBaseUrl())),a=Oe(this.params.url),l=Oe(this.params.indexUrl)??a+".tbi",c=Oe(this.params.addChrPrefix);Q(this,ma,new r({filehandle:o(a),tbiFilehandle:o(l),renameRefSeqs:c===!0?u=>"chr"+u:c?u=>c+u:void 0}));try{this.setLoadingStatus("loading");const u=await g(this,ma).getHeader();await this._handleHeader(u),this.setLoadingStatus("complete"),e()}catch(u){this.load(),this.setLoadingStatus("error",`${Oe(this.params.url)}: ${u.message}`),i(u)}})}),this.initializedPromise};class e9 extends eb{constructor(){super(...arguments);v(this,tu)}get label(){return"gff3Source"}async _handleHeader(e){Q(this,tu,await Promise.resolve().then(()=>f7))}_parseFeatures(e){var r;return(r=g(this,tu))==null?void 0:r.parseArraySync(e)}}tu=new WeakMap;class t9 extends eb{constructor(){super(...arguments);v(this,nu)}get label(){return"vcfSource"}async _handleHeader(e){const i=(await Promise.resolve().then(()=>w7)).default;Q(this,nu,new i({header:e}))}_parseFeatures(e){return e.map(i=>{const r=g(this,nu).parseLine(i);return delete r.GENOTYPES,r.SAMPLES=r.SAMPLES(),r})}}nu=new WeakMap;const n9=[];function i9(n,t){if($1(n))return new G6(n,t);if(z6(n))return new H6(n,t);if(_6(n))return new V6(n,t);if(r9(n))return d9(n.lazy,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(n))}function r9(n){return"lazy"in n}function s9(n){return(n==null?void 0:n.type)=="axisTicks"}function o9(n){return(n==null?void 0:n.type)=="axisGenome"}function a9(n){return(n==null?void 0:n.type)=="indexedFasta"}function c9(n){return(n==null?void 0:n.type)=="bigwig"}function l9(n){return(n==null?void 0:n.type)=="bigbed"}function u9(n){return(n==null?void 0:n.type)=="bam"}function f9(n){return(n==null?void 0:n.type)=="gff3"}function A9(n){return(n==null?void 0:n.type)=="vcf"}const h9=[{guard:s9,Source:Y6},{guard:o9,Source:J6},{guard:a9,Source:q6},{guard:c9,Source:K6},{guard:l9,Source:W6},{guard:u9,Source:$6},{guard:f9,Source:e9},{guard:A9,Source:t9}];function d9(n,t){for(const e of n9)if(e.guard(n))return new e.Source(n,t);for(const e of h9)if(e.guard(n))return new e.Source(n,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(n))}function g9(n){const t=tb(n).filter(i=>typeof i=="string"),e=new Function("source","return { "+t.map(i=>JSON.stringify(i)).map(i=>`${i}: source[${i}]`).join(`,
`)+" };");return e.properties=t,e}function tb(n){let t=[];do t=t.concat(Object.keys(n)),n=Object.getPrototypeOf(n);while(n&&n!==Object.prototype);return Array.from(new Set(t))}class uA extends ze{constructor(){super({type:"clone"});v(this,wa);v(this,iu,e=>e);const e=i=>{const r=tb(i);(!g(this,wa)||!Js(r,g(this,wa)))&&(Q(this,wa,r),Q(this,iu,g9(i)));const s=g(this,iu);this.handle=o=>this._propagate(s(o)),this.handle(i)};this.handle=e,this.beginBatch=i=>{yw(i)&&(this.handle=e),super.beginBatch(i)}}get behavior(){return pn}}wa=new WeakMap,iu=new WeakMap;function p9(n){return"name"in n}class nb extends Ur{constructor(e,i,r){super(i);v(this,ru);this.provider=r,this.params=e}get identifier(){return this.params.name}get label(){return"namedSource"}updateDynamicData(e){Q(this,ru,e),this.loadSynchronously()}loadSynchronously(){const e=g(this,ru)??this.provider(this.params.name)??[];let i=r=>r;if(Array.isArray(e))e.length>0&&(i=X1(e[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const r of e)this._propagate(i(r));this.complete()}async load(){this.loadSynchronously()}}ru=new WeakMap;class ib{constructor(){v(this,ri);v(this,ms);X(this,"loadingStatusRegistry");Q(this,ri,new Set),Q(this,ms,new Set),this.loadingStatusRegistry=new ww}get dataSources(){return[...g(this,ri)]}get collectors(){return[...g(this,ms)]}replaceDataSources(t){Q(this,ri,new Set(t))}addDataSource(t){g(this,ri).add(t)}removeDataSource(t){t.disposeSubtree(),g(this,ri).delete(t)}addCollector(t){g(this,ms).add(t)}removeCollector(t){t.parent&&t.parent.removeChild(t),t.disposeSubtree(),t.observers.clear(),g(this,ms).delete(t)}pruneCollectorBranch(t){let e=t.parent;for(e&&e.removeChild(t),t.disposeSubtree();e&&e.children.length===0;){const i=e;e=i.parent,e?(e.removeChild(i),i.dispose()):i instanceof Ur?this.removeDataSource(i):i.dispose()}}findNamedDataSource(t){let e;for(const i of g(this,ri).values())if(i instanceof nb&&t==i.identifier){if(e&&e!==i)throw new Error(`Found multiple instances of named data: ${t}. Data flow optimization is broken (it's a bug).`);e=i}if(e)return{dataSource:e}}}ri=new WeakMap,ms=new WeakMap;function m9(n,t){const e=new Map,i=[];for(const r of n)e.set(r,{ref:r,children:[]});for(const r of e.values()){const s=e.get(t(r.ref));s?s.children.push(r):i.push(r)}return i}function rb(n,t,e){var r,s;const i=(r=t.preOrder)==null?void 0:r.call(t,n);if(i)return i;for(const o of e(n)){const a=rb(o,t,e);if(a==="stop")return a}return(s=t.postOrder)==null?void 0:s.call(t,n)}function w9(n,t){return rb(n,t,e=>e.children)}function C9(n,t,e,i){const r=[],s=[];let o;const a=t??new ib,l=[],c=i??(()=>!0);function u(m,y=()=>{}){if(!o)throw y()||new Error("Cannot append data flow node, no parent exist!");return o.addChild(m),o=m,r.push(m),m}function f(m,y){return u(m,()=>new Error("Cannot append a transform because no (inherited) data are available! "))}function h(m,y){for(const x of m){let C;try{C=T6(x,y)}catch(E){throw console.warn(E),new Error(`Cannot initialize "${x.type}" transform: ${E}`)}C.behavior&wi&&f(new uA),f(C)}}function A(){return r.findLastIndex(m=>m instanceof Wh)>r.findLastIndex(m=>m instanceof Ur)}const d=m=>{var y,x,C;if(!c(m)){const E=(y=m.flowHandle)==null?void 0:y.node;if(E){E!==o&&(o=E,r.push(E));return}if(m.spec.data||m.spec.transform||m instanceof wt)throw new Error("Cannot reuse missing flow nodes for "+m.getPathString());return}if(m.spec.data){const E=(x=m.flowHandle)==null?void 0:x.dataSource;E&&E.view===m&&!E.identifier&&a.removeDataSource(E);const B=p9(m.spec.data)?new nb(m.spec.data,m,m.context.getNamedDataFromProvider):i9(m.spec.data,m);o=B,r.push(B),a.addDataSource(B),m.flowHandle??(m.flowHandle={}),m.flowHandle.dataSource=B}if(m.spec.transform&&h(m.spec.transform,m),m instanceof wt){if(!o)throw new Error(`A unit view (${m.getPathString()}) has no (inherited) data source`);const E=x9(m);if(E){l.push(E.rewrite);for(const D of E.transforms)f(D)}m.mark.isPickingParticipant()&&!A()&&(f(new uA),f(new Wh({type:"identifier"})));const B=new J1({type:"collect",groupby:m.getFacetFields(),sort:b9(m,E==null?void 0:E.rewrittenEncoding)});u(B);const b=(C=m.flowHandle)==null?void 0:C.collector;b&&a.removeCollector(b),a.addCollector(B),m.flowHandle??(m.flowHandle={}),m.flowHandle.collector=B}o&&(m.flowHandle??(m.flowHandle={}),m.flowHandle.node=o)},p=y9(n,e),w=m9(p,m=>m.dataParent);for(const m of w)w9(m,{preOrder:y=>{s.push({view:y.ref,nodeStackDepth:r.length}),d(y.ref)},postOrder:()=>{const{nodeStackDepth:y}=s.pop();r.length=y,o=r.at(-1)}});return l.forEach(m=>m()),a}function y9(n,t){if(!t)return n.getDescendants();const e=[];return n.visit(i=>{if(!t(i))return on;e.push(i)}),e}function x9(n){var a;const t=[],e={},i=n.mark.encoding,r=n.getEncoding(),s=[];for(const[l,c]of Object.entries(i)){const u=l;Ci(u)!==u&&!(u in r)||gc(u)&&!Array.isArray(c)&&Fw(c)&&s.push({channel:u,chromPosDef:c})}const o=Gu(s,l=>Ci(l.channel),l=>l.chromPosDef.chrom);for(const[l,c]of o.entries())for(const[u,f]of c.entries()){const h=[],A=[],d=[];for(const{channel:p,chromPosDef:w}of f){const m=C=>C.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",m(w.chrom),"_",m(w.pos)].join(""),x={...((a=n.spec.encoding)==null?void 0:a[p])??r[p]??i[p]??{},field:y};delete x.chrom,delete x.pos,!x.type&&w.type&&(x.type=w.type),e[p]=x,h.push(w.pos),d.push(w.offset??0),A.push(y)}t.push(new uA),t.push(new q1({type:"linearizeGenomicCoordinate",channel:l,chrom:u,pos:h,offset:d,as:A},n))}return t.length?{transforms:t,rewrittenEncoding:e,rewrite:()=>{n.spec.encoding={...n.spec.encoding,...e},v0(n.mark,"encoding")}}:void 0}function b9(n,t){var i;const e={...n.getEncoding(),...t}.x;if(zt(e)&&(i=n.getScaleResolution("x"))!=null&&i.isZoomable()){if(Gn(e))return"buildIndex"in e&&e.buildIndex?{field:e.field}:null;if(!qs(e)){if(Ks(e))throw new Error("A zoomable x channel must be mapped to a field.")}}}function sb(n,t=void 0){if(n.parent!==t)return!1;for(const e of n.children)if(!sb(e,n))return!1;return!0}function X0(n,t=!1){if(n.behavior&Kh&&(t=!0),n instanceof uA)if(t)t=!1;else{const e=n.children[0];n.excise(),e&&X0(e,t);return}n.behavior&pn&&(t=!1);for(let e=0,i=n.children.length;e<i;e++)X0(n.children[e],t||i>1)}function I9(n){const t=n.dataSources,e=new Map;for(const s of t)s.identifier&&!e.has(s.identifier)&&e.set(s.identifier,s);const i=new Set,r=new Map;for(const s of t)if(s.identifier){const o=e.get(s.identifier);o&&(o!==s&&o.adoptChildrenOf(s),i.add(o),r.set(s,o))}else i.add(s),r.set(s,s);return n.replaceDataSources(i),r}function E9(n){if(X0(n),!sb(n))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function B9(n){const t=I9(n);for(const e of n.dataSources)E9(e);return t}const Z0=new WeakMap,$0=new WeakMap;function ob(n,t){const e=Z0.get(n);if(e){if(!(t!=null&&t.queueReload))return e;const r=$0.get(n);if(r)return r;const s=e.catch(()=>{}).then(()=>ob(n)).finally(()=>{$0.delete(n)});return $0.set(n,s),s}const i=Promise.resolve().then(()=>n.load()).finally(()=>{Z0.delete(n)});return Z0.set(n,i),i}function v9(n,t){for(const e of n.getDescendants()){const i=e.flowHandle;if(!i)continue;const r=i.dataSource;r&&(i.dataSource=t.get(r)??r)}}function eg(n,t,e,i){const r=i??(()=>!0),o=ab(n,e).filter(r);if(o.length===0)return{dataFlow:t,unitViews:[],dataSources:new Set,graphicsPromises:[]};const a=new Set(o);for(const A of o)A._setDataInitializationState("pending");let l;try{l=C9(n,t,e,d=>a.has(d));const A=B9(l);v9(n,A)}catch(A){for(const d of o)d._setDataInitializationState("none");throw A}const c=S9(o);for(const A of c)A.visit(d=>d.initializeOnce());const u=o.filter(A=>A instanceof wt),f=[],h=!!n.context.glHelper;for(const A of u){const d=A.mark;d.initializeEncoders(),A.registerDomainSubscriptions(),h&&f.push(d.initializeGraphics().then(()=>d));const p=w=>{if(d.initializeData(),h)try{d.updateGraphicsData()}catch(m){throw m.view=A,m}A.context.animator.requestRender()};A.registerDisposer(A.flowHandle.collector.observe(p))}for(const A of o)A._setDataInitializationState("ready");return{dataFlow:l,unitViews:u,dataSources:c,graphicsPromises:f}}function S9(n,t){var r,s;const e=Array.isArray(n)?n:ab(n,t),i=new Set;for(const o of e){let a=o;for(;a&&!((r=a.flowHandle)!=null&&r.dataSource);)a=a.dataParent;(s=a==null?void 0:a.flowHandle)!=null&&s.dataSource&&i.add(a.flowHandle.dataSource)}return i}function Q9(n,t){const e=new Set;return n.visit(i=>{var r;if(t&&!t(i))return on;if((r=i.flowHandle)!=null&&r.dataSource)return e.add(i.flowHandle.dataSource),on}),e}function tg(n,t,e,i){return t||(t=Q9(n,e)),Promise.all(Array.from(t).map(r=>ob(r,i))).then(r=>(D9(n),r))}function ab(n,t){const e=[];return t?(n.visit(i=>{if(!t(i))return on;e.push(i)}),e):n.getDescendants()}function D9(n){const t={type:"subtreeDataReady",payload:{subtreeRoot:n}};n.visit(e=>e.handleBroadcast(t))}async function k9(n,t,e,i){const r=a=>a.isConfiguredVisible(),{dataFlow:s,graphicsPromises:o}=eg(n,t,r);return i(s),await e.waitUntilReady(),await tg(n,new Set(s.dataSources),r),await q0(o),s}async function F9(n,t,e){const i=h=>h.isConfiguredVisible(),s=R9(n,i).filter(h=>h.getDataInitializationState()==="none");if(s.length===0)return t;const o=new Set(s),a=h=>o.has(h),l=new Set,c=[];for(const h of s){if(h.spec.data){c.push(h);continue}const A=M9(h);A?l.add(A):c.push(h)}const{dataFlow:u,graphicsPromises:f}=eg(n,t,i,a);await e.waitUntilReady();for(const h of l)h.repropagate();if(c.length){const h=N9(c);await Promise.all(Array.from(h.entries()).map(([A,d])=>tg(A,d,void 0,{queueReload:!0})))}return await q0(f),u}function R9(n,t){const e=[];return n.visit(i=>{if(!t(i))return on;e.push(i)}),e}function N9(n){var e,i;const t=new Map;for(const r of n){let s=r;for(;s&&!((e=s.flowHandle)!=null&&e.dataSource);)s=s.dataParent;if(!((i=s==null?void 0:s.flowHandle)!=null&&i.dataSource)){if(r.spec.data)throw new Error("No data source found for view "+r.getPathString());continue}let o=t.get(s);o||(o=new Set,t.set(s,o)),o.add(s.flowHandle.dataSource)}return t}function M9(n){var e;let t=n.dataParent;for(;t;){const i=(e=t.flowHandle)==null?void 0:e.collector;if(i)return i.completed?i:void 0;t=t.dataParent}}class T9{constructor(t){this._renderCallback=t,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(t){this.cancelTransition(t),this.transitions.push(t),this.requestRender()}cancelTransition(t){const e=this.transitions.indexOf(t);e>=0&&this.transitions.splice(e,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(t=>{this._renderRequested=!1;const e=this.transitions;this.transitions=[];let i;for(;i=e.shift();)i(t);this._renderCallback(t)}))}transition(t){return pM({requestAnimationFrame:e=>this.requestTransition(e),...t})}}function ng(n,t,e,i,r){let s=0,o=!0,a=structuredClone(r),l=a;function c(h,A,d,p){return A+(h-A)*Math.pow(2,-d/p)}function u(h){if(o)return;const A=h-s;s=h;for(const p of Object.keys(l))a[p]=c(a[p],l[p],A,e);t(a);let d=-1/0;for(const p of Object.keys(l))d=Math.max(d,Math.abs(l[p]-a[p]));d<i?(a=l,t(a),o=!0,d!=0&&n.requestRender()):n.requestTransition(p=>u(p))}function f(h){l=h,o&&(o=!1,s=+document.timeline.currentTime,u(s))}return f.stop=()=>{o=!0},f}class P9{constructor(t){this.genomes=new Map,this.baseUrl=t}async initialize(t){const e=new xN(t);return this.genomes.set(e.name,e),Promise.all([...this.genomes.values()].map(i=>i.load(this.baseUrl)))}getGenome(t){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(t){const e=this.genomes.get(t);if(!e)throw new Error(`No genome with the name ${t} has been configured!`);return e}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const L9="data:image/png;base64,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",O9={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class U9{constructor(t){this._webGLHelper=t,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new Tn([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:Od(K1),texture:t?this._createTextureNow(L9):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(t,e="normal",i="regular"){if(Ce(i)&&(i=O9[i.toLowerCase()],!i))throw new Error("Unknown font weight: "+i);const r={family:t,style:e,weight:i};let s=this._fonts.get(r);return s||(s={metrics:void 0,texture:void 0},this._fonts.set(r,s),this._promises.push(this._loadFontEntry(s,r))),s}async _loadFontEntry(t,e){try{const i=await this._loadMetadata(e.family),r=z9(i,e),s=this.fontRepository+cb(e.family)+"/"+r.replace(/\.\w+/,""),o=this._createTexture(s+".png"),a=this._loadFont(s+".json");t.texture=await o,t.metrics=await a}catch{console.warn(`Cannot load font: "${e.family}". Using the embedded default font.`),t.metrics=this._defaultFontEntry.metrics,t.texture=this._defaultFontEntry.texture}}_loadFont(t){let e=this._fontPromises.get(t);return e||(e=fetch(t).then(i=>{if(!i.ok)throw new Error("Could not load font: "+i.status);return i}).then(i=>i.json()).then(i=>Od(i)),this._fontPromises.set(t,e)),e}_loadMetadata(t){const e=cb(t);let i=this._metadataPromises.get(e);if(!i){const r=this.fontRepository+e+"/METADATA.pb";i=fetch(r).then(s=>{if(!s.ok)throw new Error("Could not load font metadata. Response status: "+s.status+", url: "+r);return s}).then(s=>s.text()).then(s=>G9(s)).catch(s=>{console.warn(s.message)}),this._metadataPromises.set(e,i)}return i}getDefaultFont(){return this._defaultFontEntry}_createTexture(t){const e=this._webGLHelper.gl;return new Promise((i,r)=>{bc(e,{src:t,min:e.LINEAR},(s,o,a)=>{s?r(s):i(o)})})}_createTextureNow(t){const e=this._webGLHelper.gl;let i;const r=new Promise((s,o)=>{i=bc(e,{src:t,min:e.LINEAR},(a,l,c)=>{a?o(a):s(l)})});return this._promises.push(r),i}}function cb(n){return n.toLowerCase().replaceAll(/[^\w]/g,"")}function G9(n){const t=n.split(`
`),e=[];let i;for(const r of t)if(r.startsWith("fonts {")&&(i={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),r.startsWith("}")&&(e.push(i),i=void 0),i){let s=r.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(s){const o=s[1];i[o]=s[2]}if(s=r.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),s){const o=s[1];i[o]=+s[2]}}return e}function z9(n,t){let e,i=Number.POSITIVE_INFINITY;for(const r of n)if(t.family.localeCompare(r.name,void 0,{sensitivity:"accent"})==0&&t.style==r.style){const s=Math.abs(t.weight-r.weight);s<i&&(i=s,e=r)}return e==null?void 0:e.filename}function H9(n,t){const e=[];let i;for(const r of n.split(`
`))if(r.startsWith(">"))i={identifier:r.match(/>(\S+)/)[1],sequence:""},e.push(i);else if(i)i.sequence+=r.trim();else throw new Error("Invalid fasta file!");return e}const lb=new Map,_9={Organism:"Homo sapiens"};async function V9(n,t,e={}){const i=n.symbol,r={..._9,GENE:i};for(const[o,a]of Object.entries(e))typeof a=="string"&&(r[o]=a);let s=lb.get(i)??await q9(r);return s?(lb.set(i,s),pe`
            <div class="title">
                <strong>${s.name}</strong>
                ${s.description}
            </div>
            <p class="summary">${s.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function Y9(n){const t={mode:"cors"},e=new URL("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi");e.search=new URLSearchParams({db:"gene",term:K9(n),sort:"relevance",retmax:"1",retmode:"json"}).toString();const r=(await fetch(e.toString(),t).then(s=>s.json())).esearchresult.idlist[0];if(r){const s=new URL("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi");return s.search=new URLSearchParams({db:"gene",id:r,retmode:"json"}).toString(),(await fetch(s.toString(),t).then(l=>l.json())).result[r]}else return null}const J9=sf(Y9,500);function q9(n){return J9(n)}function K9(n){return Object.entries(n).filter(([t,e])=>e&&e.length>0).map(([t,e])=>`("${e}"[${t}])`).join(" AND ")}const j9=nt(".4~r"),W9=nt(".4~e");function ub(n){return n==null?pe` <span class="na">NA</span> `:Ce(n)?n.substring(0,30):Number.isInteger(n)?""+n:ot(n)?Math.abs(n)>Math.pow(10,8)||Math.abs(n)<Math.pow(10,-8)?W9(n):j9(n):Ua(n)?n?"True":"False":Ne(n)?pe`${n.map((t,e)=>[ub(t),e<n.length-1?", ":Ee])}`:"?"+typeof n+" "+n}function fb(n){const t=[];return Ab(Object.entries(n),t),t}function Ab(n,t,e){for(const[i,r]of n)i.startsWith("_")||(r!==null&&typeof r=="object"&&!Array.isArray(r)?Ab(Object.entries(r),t,(e||"")+i+"."):t.push({key:(e||"")+i,value:r}))}const X9={x:"x2",y:"y2"},Z9=new Set(["auto","locus","interval","endpoints","disabled"]),hb=new WeakMap;function db(n,t,e){const i=$9(t),r=pb("x",n,t,i,xb(e,"x")),s=pb("y",n,t,i,xb(e,"y")),o=r.rows.length>0&&s.rows.length>0,a=[...o?gb("x",r.rows):r.rows,...o?gb("y",s.rows):s.rows],l=new Set;for(const c of[r,s])for(const u of c.usedLinearizedFields){const f=i.get(u);if(!f||f.ambiguous)continue;s5(n,u,f,t)&&(l.add(f.chrom),l.add(f.pos))}return{hiddenRowKeys:[...l],genomicRows:a,flattenDatumRows:()=>fb(n),formatGenomicLocus:(c,u)=>fA(t,c,u),formatGenomicInterval:(c,u)=>yb(t,c,u)}}function $9(n){const t=hb.get(n);if(t)return t;const e=i5(n);return hb.set(n,e),e}function gb(n,t){const e=n.toUpperCase()+" ";return t.map(i=>({key:e+i.key,value:i.value}))}function pb(n,t,e,i,r){const s=new Set;if(r==="disabled")return{rows:[],usedLinearizedFields:s};const o=Cb(e,n,t);if(!o)return{rows:[],usedLinearizedFields:s};o.field&&s.add(o.field);const a=Cb(e,X9[n],t);a!=null&&a.field&&s.add(a.field);const l=r==="auto"?e5(o,a,i):r;if(l==="endpoints"&&a){const[c,u]=t5(o,a,i);return{rows:[{key:"Endpoint 1",value:fA(e,n,c.value)??String(c.value)},{key:"Endpoint 2",value:fA(e,n,u.value)??String(u.value)}],usedLinearizedFields:s}}return l==="interval"&&a?{rows:[{key:"Interval",value:yb(e,n,[o.value,a.value])??o.value+" - "+a.value}],usedLinearizedFields:s}:{rows:[{key:"Coordinate",value:fA(e,n,o.value)??String(o.value)}],usedLinearizedFields:s}}function e5(n,t,e){if(!t)return"locus";const i=mb(n.field,e),r=mb(t.field,e);return i&&r&&i!==r?"endpoints":"interval"}function mb(n,t){const e=n?t.get(n):void 0;return e&&!e.ambiguous?e.groupId:void 0}function t5(n,t,e){const i=wb(n.field,e),r=wb(t.field,e);return i===2&&r!==2?[t,n]:r===1&&i!==1?[t,n]:i===2&&r===1?[t,n]:[n,t]}function wb(n,t){const e=n?t.get(n):void 0,i=[e==null?void 0:e.pos,e==null?void 0:e.chrom,n];let r;for(const s of i){const o=n5(s);if(o!==void 0){if(r===void 0)r=o;else if(r!==o)return}}return r}function n5(n){if(!n)return;const t=n.toLowerCase(),e=t.match(/(?:^|[^0-9])(1|2)$/);if(e)return e[1]==="1"?1:2;const i=t.match(/(?:^|[_-])(first|second)(?:[_-]|$)/);if(i)return i[1]==="first"?1:2}function Cb(n,t,e){var o,a,l;const i=(o=n.encoders)==null?void 0:o[t];if(((a=i==null?void 0:i.scale)==null?void 0:a.type)!=="locus")return;const r=i.dataAccessor;if(!r)return;const s=+r(e);if(Number.isFinite(s))return{value:s,field:((l=r.fields)==null?void 0:l.length)===1?r.fields[0]:void 0}}function i5(n){var s,o;const t=new Map;let e=0;const i=(o=(s=n.unitView)==null?void 0:s.getCollector)==null?void 0:o.call(s);let r=i==null?void 0:i.parent;for(;r;){const a=r.params;if((a==null?void 0:a.type)==="linearizeGenomicCoordinate"){const l=Ke(a.as),c=Ke(a.pos),u=r5(a.offset,c.length),f="g"+e++,h=a.channel==="y"?"y":"x";for(let A=0;A<l.length;A++){if(A>=c.length)continue;const d=t.get(l[A]);d?d.ambiguous=!0:t.set(l[A],{groupId:f,chrom:a.chrom,pos:c[A],offset:u[A],channel:h,ambiguous:!1})}}r=r.parent}return t}function r5(n,t){const e=Ke(n);return e.length===0?new Array(t).fill(0):e.length===1?new Array(t).fill(e[0]):e.length===t?e:new Array(t).fill(0)}function fA(n,t,e){const i=ig(n,t);return i==null?void 0:i.formatLocus(e)}function yb(n,t,e){const i=ig(n,t);return i==null?void 0:i.formatInterval(e)}function ig(n,t){var i,r;const e=(r=(i=n.encoders)==null?void 0:i[t])==null?void 0:r.scale;return(e==null?void 0:e.type)==="locus"&&"genome"in e?e.genome():void 0}function xb(n,t){var r;const e=(r=n==null?void 0:n.genomicCoordinates)==null?void 0:r[t],i=typeof e=="string"?e:(e==null?void 0:e.mode)??"auto";if(!Z9.has(i))throw new Error('Unknown genomic coordinate display mode: "'+i+'"');return i}function s5(n,t,e,i){const r=ig(i,e.channel);if(!r)return!1;const s=n[e.chrom],o=n[e.pos],a=n[t];if(s===void 0||o===void 0||a===void 0)return!1;const l=+o,c=+a;if(!Number.isFinite(l)||!Number.isFinite(c))return!1;let u;try{u=r.toContinuous(s,l-e.offset)}catch{return!1}return Math.abs(u-c)<1e-6}async function o5(n,t,e,i){const r=(p,w)=>{var m;for(const[y,x]of Object.entries(t.encoders))if((m=x==null?void 0:x.dataAccessor)!=null&&m.fields.includes(p))switch(y){case"color":case"fill":case"stroke":return pe`
                            <span
                                class="color-legend"
                                style=${`background-color: ${x(w)}`}
                            ></span>
                        `}return""},s=i??db(n,t,e),o=s.flattenDatumRows?s.flattenDatumRows():fb(n),a=s.genomicRows??[],l=new Set(s.hiddenRowKeys??[]),c=o.filter(p=>!l.has(p.key)),u=[...a,...c];if(!u.length)return;const f=u.map(p=>{const w=ub(p.value),m=r(p.key,n);return pe`
            <tr>
                <th>${p.key}</th>
                <td>${w} ${m}</td>
            </tr>
        `}),h=pe`
        <table class="attributes">
            ${f}
        </table>
    `,A=t.unitView.getTitleText(),d=A?pe`
              <div class="title">
                  <strong>${A}</strong>
              </div>
          `:"";return pe`${d}${h}`}const up=class up extends z1{constructor(e,i,r,s,o,a){super(e,i,r,s,o,a);v(this,$A);v(this,su,new Map);this.spec=e}async initializeChildren(){}getNextAutoName(e){const i=g(this,su).get(e)??0;return g(this,su).set(e,i+1),e+i}*[Symbol.iterator](){}visit(e){let i;try{i=e(this)}catch(r){throw r.view=this,r}if(i===Ti)return i;if(i!==on){e.beforeChildren&&e.beforeChildren(this);for(const r of this){const s=r.visit(e);if(s===Ti)return s}e.afterChildren&&e.afterChildren(this),e.postOrder&&e.postOrder(this)}}findDescendantByPath(e){var r;let i=this;for(let s=0;s<e.length;s++){if(!(i instanceof up))return;const o=F(r=i,$A,G2).call(r,e[s]);if(!o)return;if(s===e.length-1)return o;i=o}}findDescendantByName(e){let i;return this.visit(r=>{if(r.name==e)return i=r,Ti}),i}getDefaultResolution(e,i){return"shared"}};su=new WeakMap,$A=new WeakSet,G2=function(e){for(const i of this)if(i.name===e)return i};let tl=up;function a5(n){e6(n),t6(n)}function bb(n){n.getDescendants().forEach(t=>t.configureViewOpacity())}class Ib{constructor(t,e){this.container=t,this.options=e}async addChildSpec(t,e){var h,A;const{specs:i,insertAt:r}=this.options.getChildSpecs(),s=e??i.length,o=((A=(h=this.options).defaultName)==null?void 0:A.call(h,s,t))??this.container.getNextAutoName("child"),a=await this.container.context.createOrImportView(t,this.container,this.container,o);r(s,t);const l=this.options.insertView(a,s);this.options.prepareView&&await this.options.prepareView(a,s,l),bb(a);const c=d=>d.isConfiguredVisible(),{dataSources:u,graphicsPromises:f}=eg(a,this.container.context.dataFlow,c);return await tg(a,u),await q0(f),this.options.requestLayout!==!1&&(this.container.invalidateSizeCache(),this.container.context.requestLayoutReflow()),a}async removeChildAt(t){const{removeAt:e}=this.options.getChildSpecs();this.options.removeView(t),e(t),this.options.afterRemove&&await this.options.afterRemove(t),this.options.requestLayout!==!1&&(this.container.invalidateSizeCache(),this.container.context.requestLayoutReflow())}}const Eb=.5;function rg(n){return"multiscale"in n&&Ne(n.multiscale)}function c5(n){if(!n.multiscale.length)throw new Error('"multiscale" must contain at least one child view.');const t=l5(n.stops,n.multiscale.length),e=n.multiscale.map((r,s)=>n.multiscale.length===1?r:{opacity:u5(s,n.multiscale.length,t),layer:[r]}),i={...n};return delete i.multiscale,delete i.stops,{...i,layer:e}}function l5(n,t){let e="unitsPerPixel",i,r="auto",s=Eb;if(Ne(n))i=Bb(n,t,"stops");else if(tt(n))e=n.metric??"unitsPerPixel",i=Bb(n.values,t,"stops.values"),r=n.channel??"auto",s=n.fade??Eb;else throw new Error('"stops" must be an array or an object with "values".');if(e!=="unitsPerPixel")throw new Error('Only "unitsPerPixel" is supported for "stops.metric" in multiscale.');if(!["x","y","auto"].includes(r))throw new Error('"stops.channel" must be one of "x", "y", or "auto".');if(!Number.isFinite(s)||s<0||s>.5)throw new Error('"stops.fade" must be a finite number in range [0, 0.5].');if(i.forEach((o,a)=>{if(!Me(o)&&(!Number.isFinite(o)||o<=0))throw new Error("Invalid stop value at index "+a+". Stop values must be positive finite numbers.")}),!i.some(Me)){const o=i;for(let a=1;a<o.length;a++)if(o[a-1]<=o[a])throw new Error('"stops.values" must be strictly decreasing for "unitsPerPixel".');for(let a=0;a<o.length-1;a++){const l=o[a]*(1-s),c=o[a+1]*(1+s);if(l<=c)throw new Error("Adjacent transitions overlap. Reduce fade or increase stop spacing.")}}return{metric:e,values:i,channel:r,fade:s}}function Bb(n,t,e){if(!Ne(n))throw new Error('"'+e+'" must be an array of numbers or ExprRefs.');const i=t-1;if(n.length!==i)throw new Error("Invalid stop count for multiscale. Expected "+i+", got "+n.length+".");for(const r of n)if(!Me(r)&&!Number.isFinite(r))throw new Error('"'+e+'" must contain only numbers or ExprRefs.');return n}function u5(n,t,e){let i,r;const s=e.values.map(o=>({hi:vb(o,1+e.fade),lo:vb(o,1-e.fade)}));if(n===0)i=[s[0].hi,s[0].lo];else if(n===t-1){const o=s.at(-1);i=[o.hi,o.lo]}else{const o=s[n-1],a=s[n];i=[o.hi,o.lo,a.hi,a.lo]}return n===0?r=[1,0]:n===t-1?r=[0,1]:r=[0,1,1,0],{channel:e.channel,unitsPerPixel:i,values:r}}function vb(n,t){return Me(n)?{expr:"("+n.expr+") * "+t}:n*t}class Gr extends tl{constructor(e,i,r,s,o,a){super(e,i,r,s,o,{layersChildren:!0,...a});v(this,ou);v(this,Xt,[]);this.spec=e,this.needsAxes={x:!0,y:!0}}async initializeChildren(){Q(this,Xt,await Promise.all(this.spec.layer.map(e=>this.context.createOrImportView(e,this,this,this.getNextAutoName("layer"),i=>{if(!lg(i)&&!cg(i)&&!rg(i))throw new it("LayerView accepts only unit, layer, or multiscale specs as children!",this)}))))}async addChildSpec(e,i){return F(this,ou,Hp).call(this).addChildSpec(e,i)}async removeChildAt(e){await F(this,ou,Hp).call(this).removeChildAt(e)}get children(){return g(this,Xt).slice()}*[Symbol.iterator](){for(const e of g(this,Xt))yield e}render(e,i,r={}){if(super.render(e,i,r),!!this.isConfiguredVisible()){e.pushView(this,i);for(const s of g(this,Xt))s.render(e,i,r);e.popView(this)}}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0);for(let i=g(this,Xt).length-1;i>=0;i--)if(g(this,Xt)[i].propagateInteractionEvent(e),e.stopped)return;this.handleInteractionEvent(void 0,e,!1)}}Xt=new WeakMap,ou=new WeakSet,Hp=function(){return new Ib(this,{getChildSpecs:()=>({specs:this.spec.layer,insertAt:(e,i)=>{this.spec.layer.splice(e,0,i)},removeAt:e=>{this.spec.layer.splice(e,1)}}),insertView:(e,i)=>(e.layoutParent??(e.layoutParent=this),g(this,Xt).splice(i,0,e),e),removeView:e=>{const i=g(this,Xt)[e];if(!i)throw new Error("Child index out of range!");i.disposeSubtree(),g(this,Xt).splice(e,1)},defaultName:()=>this.getNextAutoName("layer")})};class Sb{constructor(t,e){this.n=t,this.maxCols=e??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const t=[],e=this.nCols,i=this.nRows;for(let r=0;r<i;r++){const s=[];t.push(s);for(let o=0;o<e;o++){const a=r*e+o;a<this.n&&s.push(a)}}return t}get colIndices(){const t=[],e=this.nCols,i=this.nRows;for(let r=0;r<e;r++){const s=[];t.push(s);for(let o=0;o<i;o++){const a=o*e+r;a<this.n&&s.push(a)}}return t}getCellIndex(t,e){let i=0;if(this.maxCols==1/0)i=e==0?t:void 0;else{if(t>=this.maxCols)return;i=e*this.nCols+t}return i<this.n?i:void 0}getCellCoords(t){if(!(t<0||t>=this.n))return[t%this.nCols,Math.floor(t/this.nCols)]}}function Jn(n){return()=>n}const fn=class fn{static create(t,e,i,r){return new fn(Jn(t),Jn(e),Jn(i),Jn(r))}_offset(t,e){const i=this["_"+t];if(e===0)return i;switch(typeof e){case"number":return()=>i()+e;case"function":return()=>i()+e();default:throw new Error("Not a number of function")}}_passThrough(t){return this._offset(t,0)}constructor(t,e,i,r){this._x=t,this._y=e,this._width=i,this._height=r}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(t){return t?this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1}modify(t){if(!Object.keys(t).length)return this;const e=i=>{const r=t[i];return typeof r=="number"?Jn(r):typeof r=="function"?r:this._passThrough(i)};return new fn(e("x"),e("y"),e("width"),e("height"))}translate(t,e){return t===0&&e===0?this:new fn(this._offset("x",t),this._offset("y",e),this._passThrough("width"),this._passThrough("height"))}translateBy(t){return this.translate(t.x,t.y)}expand(t,e=1){return t.left==0&&t.top==0&&t.right==0&&t.bottom==0?this:new fn(t.left?this._offset("x",-t.left*e):this._passThrough("x"),t.top?this._offset("y",-t.top*e):this._passThrough("y"),t.width?this._offset("width",t.width*e):this._passThrough("width"),t.height?this._offset("height",t.height*e):this._passThrough("height"))}shrink(t){return this.expand(t,-1)}intersect(t){return this===t||t==null?this:new fn(()=>Math.max(this.x,t.x),()=>Math.max(this.y,t.y),()=>Math.min(this.x2,t.x2)-Math.max(this.x,t.x),()=>Math.min(this.y2,t.y2)-Math.max(this.y,t.y))}union(t){return this===t||t==null?this:new fn(()=>Math.min(this.x,t.x),()=>Math.min(this.y,t.y),()=>Math.max(this.x2,t.x2)-Math.min(this.x,t.x),()=>Math.max(this.y2,t.y2)-Math.min(this.y,t.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new fn(Jn(this.x),Jn(this.y),Jn(this.width),Jn(this.height))}containsPoint(t,e){return t>=this.x&&t<this.x2&&e>=this.y&&e<this.y2}normalizePoint(t,e,i=!1){const r={x:(t-this.x)/this.width,y:(e-this.y)/this.height};return i&&(r.y=1-r.y),r}denormalizePoint(t,e,i=!1){return i&&(e=1-e),{x:this.x+t*this.width,y:this.y+e*this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};X(fn,"ZERO",fn.create(0,0,0,0));let Rt=fn;const zr=new WeakMap,AA=new WeakMap;function f5(n,t){if(t!==null&&typeof t!="string")throw new Error("Import scope name must be a string or null.");zr.set(n,{name:t})}function qn(n,t={}){const i=t.skipSubtree??!1?"excludeSubtree":"exclude";AA.set(n,i)}function A5(n){const t=n.getDataAncestors(),e=[];for(let i=t.length-1;i>=0;i-=1){const r=zr.get(t[i]);r&&typeof r.name=="string"&&e.push(r.name)}return e}function h5(n){const t=[];for(const e of d5(n)){const i=g5(e);p5(e,i,t),m5(e,i,t),w5(e,i,t)}return t}function Qb(n){const t=n.spec.configurableVisibility;return t!==void 0?t:!(n.layoutParent&&n.layoutParent.spec&&"layer"in n.layoutParent.spec)}function Db(n){return n.persist===!1?!1:sd(n)?!0:zw(n)?!!n.bind:!1}function d5(n){const t=new Set([n]);return n.visit(e=>{const i=zr.get(e);i&&typeof i.name=="string"&&t.add(e)}),Array.from(t)}function g5(n){const t=A5(n),e=zr.get(n);return e&&typeof e.name=="string"?[...t,e.name]:t}function hA(n){return n.length?"import scope ["+n.join(" / ")+"]":"import scope (root)"}function p5(n,t,e){const i=new Map;kb(n,r=>{const s=r.explicitName,o=Qb(r),a=r.spec.configurableVisibility===!0;if(!o)return;if(!s){if(!a)return;e.push({message:"Configurable view must have an explicit name in "+hA(t)+".",scope:t});return}const l=i.get(s);l?l.push(r):i.set(s,[r])},{includeNamedImportRoots:!0});for(const[r,s]of i){if(s.length<=1)continue;const o=s.map(a=>a.getPathString()).join(", ");e.push({message:'Configurable view name "'+r+'" is not unique within '+hA(t)+". Found in: "+o+".",scope:t})}}function m5(n,t,e){const i=new Map;kb(n,r=>{for(const[s,o]of r.paramRuntime.paramConfigs){if(!Db(o))continue;const a=i.get(s);a?a.push(r):i.set(s,[r])}});for(const[r,s]of i){if(s.length<=1)continue;const o=s.map(a=>a.getPathString()).join(", ");e.push({message:'Bookmarkable parameter "'+r+'" is not unique within '+hA(t)+". Found in: "+o+".",scope:t})}}function w5(n,t,e){const i=C5(n);if(!i.length)return;const r=i.filter(o=>y5(o));if(r.length<=1)return;const s=new Map;for(const o of r){const a=zr.get(o),l=a?a.name:void 0;typeof l!="string"||!l.length||s.set(l,(s.get(l)??0)+1)}for(const[o,a]of s)a>1&&e.push({message:'Import instance name "'+o+'" is used multiple times for addressable instances in '+hA(t)+".",scope:t})}function C5(n){const t=[];return n.visit(e=>{if(e===n)return;if(AA.get(e)==="excludeSubtree")return on;if(zr.get(e))return t.push(e),on}),t}function y5(n){let t=!1;return n.visit(e=>{const i=AA.get(e);if(i==="excludeSubtree")return on;if(i!=="exclude"){const r=Qb(e),s=e.spec.configurableVisibility===!0;if(r&&(e.explicitName||s))return t=!0,Ti;for(const o of e.paramRuntime.paramConfigs.values())if(Db(o))return t=!0,Ti}}),t}function kb(n,t,e={}){const i=e.includeNamedImportRoots??!1;n.visit(r=>{const s=AA.get(r);if(s==="excludeSubtree")return on;const o=zr.get(r);if(r!==n&&o&&typeof o.name=="string"){if(s!=="exclude"&&i){const l=t(r);if(l===Ti)return l}return on}if(s!=="exclude")return t(r)})}const x5="chromosome_ticks_and_labels",b5={x:"width",y:"height"};function sg(n){return n=="x"?"y":"x"}const dA={x:["bottom","top"],y:["left","right"]},og=Object.fromEntries(Object.entries(dA).map(([n,t])=>t.map(e=>[e,n])).flat(1));function Pi(n){return og[n]}class Fb extends Gr{constructor(t,e,i,r,s,o){const a=e=="locus",l={...a?E5:Rb,...I5(e,t),...t};super(a?B5(l,e):Nb(l,e),i,r,s,`axis_${t.orient}`,{blockEncodingInheritance:!0,...o}),this.axisProps=l,qn(this,{skipSubtree:!0})}getSize(){const t={px:this.getPerpendicularSize()},e={grow:1};return og[this.axisProps.orient]=="x"?new Ni(e,t):new Ni(t,e)}getPerpendicularSize(){return ag(this.axisProps)}isPickingSupported(){return!1}}function ag(n){const t=Pi(n.orient);let e=n.ticks&&n.tickSize||0;return n.labels&&(e+=n.labelPadding,t=="x"?e+=n.labelFontSize:e+=30),n.title&&(e+=n.titlePadding+n.titleFontSize),e=Math.min(n.maxExtent||1/0,Math.max(n.minExtent||0,e)),e}const Rb={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function I5(n,t){const e=t.orient,i=n=="nominal"||n=="ordinal";let r="center",s="middle",o=t.labelAngle??((e=="top"||e=="bottom")&&i?-90:0);switch(e){case"left":r="right";break;case"right":r="left";break;case"top":case"bottom":Math.abs(o)>30?(r=o>0==(e=="bottom")?"left":"right",s="middle"):s=e=="top"?"alphabetic":"top";break}return{labelAlign:r,labelAngle:o,labelBaseline:s}}function Nb(n,t){const e={...n,extent:ag(n)},i=Pi(e.orient),r=sg(i),s=e.orient=="bottom"||e.orient=="right"?1:-1,o=e.orient=="bottom"||e.orient=="left"?1:0,a=()=>({field:"value",type:t}),l=()=>({name:"domain",data:{values:[{}]},mark:{type:"rule",clip:!1,strokeDash:e.domainDash,strokeCap:e.domainCap,color:e.domainColor,[r]:o,size:e.domainWidth}}),c=()=>({name:"labels",mark:{type:"text",clip:!1,align:e.labelAlign,angle:e.labelAngle,baseline:e.labelBaseline,[r+"Offset"]:(e.tickSize+e.labelPadding)*s,[r]:o,size:e.labelFontSize,color:e.labelColor,minBufferSize:1500},encoding:{[i]:a(),text:{field:"label"}}}),u=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:e.tickDash,strokeCap:e.tickCap,color:e.tickColor,size:e.tickWidth,minBufferSize:300},encoding:{[r]:{value:o},[r+"2"]:{value:o-e.tickSize/e.extent*(o?1:-1)}}}),f=()=>({name:"title",data:{values:[{}]},mark:{type:"text",clip:!1,align:"center",baseline:e.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(e.orient)],text:e.title,color:e.titleColor,[i]:.5,[r]:1-o}}),h=()=>{const d={name:"ticks_and_labels",encoding:{[i]:a()},layer:[]};return e.ticks&&d.layer.push(u()),e.labels&&d.layer.push(c()),d},A={resolve:{scale:{[i]:"forced"}},domainInert:!0,[b5[sg(i)]]:e.extent,data:{lazy:{type:"axisTicks",channel:i,axis:n}},layer:[]};return e.domain&&A.layer.push(l()),(e.ticks||e.labels)&&A.layer.push(h()),e.title&&A.layer.push(f()),A}const E5={...Rb,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function B5(n,t){const e={...n,extent:ag(n)},i=Pi(e.orient),r=sg(i),s=e.orient=="bottom"||e.orient=="left"?1:0,o=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:n.chromTickDash,strokeDashOffset:n.chromTickDashOffset,[r]:s,[r+"2"]:s-e.chromTickSize/e.extent*(s?1:-1),color:n.chromTickColor,size:e.chromTickWidth}}),a=()=>{let u;switch(e.orient){case"top":u={y:0,angle:0,paddingX:4,dy:-e.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":u={y:1,angle:0,paddingX:4,dy:e.chromLabelPadding+e.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":u={x:1,angle:-90,paddingY:4,dy:-e.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":u={x:0,angle:90,align:"right",paddingY:4,dy:-e.chromLabelPadding};break;default:u={}}return{name:"chromosome_labels",mark:{type:"text",size:e.chromLabelFontSize,font:e.chromLabelFont,fontWeight:e.chromLabelFontWeight,fontStyle:e.chromLabelFontStyle,color:e.chromLabelColor,align:n.chromLabelAlign,baseline:"alphabetic",clip:!1,...u},encoding:{[i+"2"]:{field:"continuousEnd",type:t},text:{field:"name"}}}};let l;switch(e.orient){case"bottom":case"top":l={};break;case"left":l={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":l={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:l={}}const c=Nb({...n,...l},t);if(n.chromTicks||n.chromLabels){const u={name:x5,data:{lazy:{type:"axisGenome",channel:Pi(e.orient)}},encoding:{[i]:{field:"continuousStart",type:t,band:0}},layer:[]};if(n.chromTicks&&u.layer.push(o()),n.chromLabels){u.layer.push(a());let f;c.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(A=>A.name=="labels").forEach(A=>{f=A.mark})),f&&(e.orient=="top"||e.orient=="bottom"?(f.viewportEdgeFadeWidthLeft=30,f.viewportEdgeFadeDistanceLeft=40):(f.viewportEdgeFadeWidthBottom=30,f.viewportEdgeFadeDistanceBottom=40))}c.layer.push(u)}return c}class v5{constructor(t){v(this,ws);v(this,tr,0);v(this,nr,0);Q(this,ws,new Array(t))}push(t){g(this,ws)[g(this,tr)]=t,Q(this,tr,(g(this,tr)+1)%this.size),Q(this,nr,Math.min(g(this,nr)+1,this.size))}get(){const t=g(this,ws);return g(this,nr)<this.size?t.slice(0,g(this,nr)):t.slice(g(this,tr),this.size).concat(t.slice(0,g(this,tr)))}get size(){return g(this,ws).length}get length(){return g(this,nr)}}ws=new WeakMap,tr=new WeakMap,nr=new WeakMap;class Dt{static fromMouseEvent(t){return new Dt(t.clientX,t.clientY)}constructor(t,e){this.x=t,this.y=e}subtract(t){return new Dt(this.x-t.x,this.y-t.y)}add(t){return new Dt(this.x-t.x,this.y-t.y)}multiply(t){return new Dt(this.x*t,this.y*t)}get length(){return Math.sqrt(this.x**2+this.y**2)}equals(t){return t?t===this||t.x===this.x&&t.y===this.y:!1}}let Hr,Mb=0;function Tb(){return performance.now()-Mb<50}function S5(n){return function(...t){Mb=performance.now(),n(...t)}}function Q5(n,t,e,i,r){if(e=S5(e),n.type=="wheel"){n.uiEvent.preventDefault();const s=n.uiEvent,o=s.deltaMode?120:1;if(!s.deltaX&&!s.deltaY)return;Hr==null||Hr.stop();let{x:a,y:l}=n.point;if(i){const c=i.mark.encoders;c.x&&!c.x2&&!c.x.constant&&(a=+c.x(i.datum)*t.width+t.x),c.y&&!c.y2&&!c.y.constant&&(l=(1-+c.y(i.datum))*t.height+t.y)}Math.abs(s.deltaX)<Math.abs(s.deltaY)?e({x:a,y:l,xDelta:0,yDelta:0,zDelta:s.deltaY*o/300}):e({x:a,y:l,xDelta:-s.deltaX*o,yDelta:0,zDelta:0})}else if(n.type=="mousedown"&&n.mouseEvent.button===0){Hr&&Hr.stop();const s=new v5(30),o=n.mouseEvent;o.preventDefault();let a=Dt.fromMouseEvent(o);const l=f=>{const h=Dt.fromMouseEvent(f);s.push({point:h,timestamp:performance.now()});const A=h.subtract(a);e({x:a.x,y:a.y,xDelta:A.x,yDelta:A.y,zDelta:0}),a=h},c=()=>{const h=performance.now(),A=s.get().filter(x=>h-x.timestamp<160);if(A.length<5||!r||D5(A))return;const d=A.at(-1),p=A[0],w=d.point.subtract(p.point).multiply(1/(d.timestamp-p.timestamp));let m=a.x,y=a.y;Hr=ng(r,x=>{e({x:x.x,y:x.y,xDelta:m-x.x,yDelta:y-x.y,zDelta:0}),m=x.x,y=x.y},150,.5,{x:m,y}),Hr({x:a.x-w.x*250,y:a.y-w.y*250})},u=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u),c()};document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",l,!1)}}function D5(n){const t=n[Math.floor(n.length/2)],e=t.point.subtract(n[0].point).multiply(t.timestamp-n[0].timestamp),i=n.at(-1).point.subtract(t.point).multiply(n.at(-1).timestamp-t.timestamp),r=e.length;return i.length/r<.4}class k5 extends Gr{constructor(t,e,i,r,s,o){const l={...e=="locus"?F5:Pb,...t};super(T5(l,e),i,r,s,`axisGrid_${t.orient}`,{blockEncodingInheritance:!0,...o}),this.axisProps=l,qn(this,{skipSubtree:!0})}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const Pb={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},F5={...Pb,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function R5(n,t){const e=n,i=Pi(e.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:i,axis:n}},mark:{type:"rule",strokeDash:e.gridDash,strokeCap:e.gridCap,color:e.gridColor,size:e.gridWidth,opacity:e.gridOpacity,minBufferSize:300},encoding:{[i]:{field:"value",type:t}}}}function N5(n,t){const e=n,i=Pi(e.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:i}},mark:{type:"rule",strokeDash:e.chromGridDash,strokeCap:e.chromGridCap,color:e.chromGridColor,size:e.chromGridWidth,opacity:e.chromGridOpacity},encoding:{[i]:{field:"continuousStart",type:t,band:0}}}}function M5(n,t){const e=n,i=Pi(e.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:i}},mark:{type:"rect"},encoding:{[i]:{field:"continuousStart",type:t,band:0},[i+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[e.chromGridFillEven??"white",e.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[e.chromGridFillEven?1:0,e.chromGridFillOdd?1:0]}}}}}function T5(n,t){const e={...n},i=[];return e.chromGrid&&(e.chromGridFillOdd||e.chromGridFillEven)&&i.push(M5(e,t)),e.chromGrid&&e.chromGridOpacity>0&&i.push(N5(e,t)),e.grid&&e.gridOpacity>0&&i.push(R5(e,t)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[Pi(n.orient)]:"forced",fill:"independent",opacity:"independent"}},domainInert:!0,layer:i}}const Lb={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},P5={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},L5={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},O5={start:0,middle:.5,end:1},U5={start:"left",middle:"center",end:"right"};function G5(n){if(!n)return;const t=Ce(n)?{text:n}:n;if(!t.text||t.orient=="none")return;const e={"track-title":P5,overlay:L5}[t.style]??{},i={...Lb,...e,...t};let r={},s={x:0,y:0};const o=O5[i.anchor??"middle"];switch(i.orient){case"top":s={x:o,y:1},r={baseline:"alphabetic",angle:0};break;case"right":s={x:1,y:1-o},r={baseline:"alphabetic",angle:90};break;case"bottom":s={x:o,y:0},r={baseline:"top",angle:0};break;case"left":s={x:0,y:o},r={baseline:"alphabetic",angle:-90};break}const a={...Lb,...r,...e,...t},l={xOffset:0,yOffset:0};switch(i.orient){case"top":l.yOffset=-a.offset;break;case"right":l.xOffset=a.offset;break;case"bottom":l.yOffset=a.offset;break;case"left":l.xOffset=-a.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...s,...l,text:a.text,align:a.align??U5[a.anchor],angle:a.angle,baseline:a.baseline,dx:a.dx,dy:a.dy,color:a.color,font:a.font,size:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight}}}class Ob extends wt{constructor(e,i,r={}){const s={scrollbarSize:8,scrollbarPadding:2,scrollbarMinLength:20};super({params:[{name:"scrollbarOpacity",value:1}],opacity:{expr:"scrollbarOpacity"},data:{values:[{}]},mark:{type:"rect",fill:"#b0b0b0",fillOpacity:.6,stroke:"white",strokeWidth:1,strokeOpacity:1,cornerRadius:5,clip:!1},configurableVisibility:!1},e.layoutParent.context,e.layoutParent,e.view,"scrollbar-"+i,{blockEncodingInheritance:!0});v(this,we);v(this,ir);v(this,au,Rt.ZERO);v(this,Pt,Rt.ZERO);v(this,Ca,Rt.ZERO);X(this,"viewportOffset",0);v(this,ya);qn(this,{skipSubtree:!0}),this.config=s,Q(this,ir,i),Q(this,ya,r.onViewportOffsetChange);const o=this.config.scrollbarPadding,a=this.config.scrollbarSize;Q(this,au,g(this,ir)=="vertical"?new Rt(()=>g(this,Pt).x+g(this,Pt).width-a-o,()=>g(this,Pt).y+o+this.scrollOffset,()=>a,()=>F(this,we,ch).call(this)):new Rt(()=>g(this,Pt).x+o+this.scrollOffset,()=>g(this,Pt).y+g(this,Pt).height-a-o,()=>F(this,we,ch).call(this),()=>a)),F(this,we,Vp).call(this,this.viewportOffset),this.addInteractionEventListener("mousedown",(l,c)=>{if(c.stopPropagation(),F(this,we,Du).call(this)<=0)return;const u=p=>i=="vertical"?p.clientY:p.clientX;c.mouseEvent.preventDefault();const f=this.scrollOffset,h=u(c.mouseEvent),A=p=>{const w=F(this,we,Du).call(this);if(w<=0)return;const m=ro(u(p)-h+f,0,w);this.interpolateViewportOffset({x:F(this,we,_2).call(this,m)})},d=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d,!1),document.addEventListener("mousemove",A,!1)})}get scrollOffset(){return F(this,we,H2).call(this,this.viewportOffset)}setViewportOffset(e,{notify:i=!0,syncSmoother:r=!1}={}){this.viewportOffset=ro(e,0,F(this,we,lh).call(this)),r&&F(this,we,Vp).call(this,this.viewportOffset),i&&g(this,ya)&&g(this,ya).call(this,this.viewportOffset)}render(e,i,r){super.render(e,g(this,au),r)}updateScrollbar(e,i){Q(this,Pt,e.flatten()),Q(this,Ca,i),this.setViewportOffset(this.viewportOffset,{notify:!1,syncSmoother:!0})}}ir=new WeakMap,au=new WeakMap,Pt=new WeakMap,Ca=new WeakMap,ya=new WeakMap,we=new WeakSet,z2=function(){const e=g(this,ir)=="horizontal"?"width":"height",i=g(this,Pt)[e],r=g(this,Ca)[e];return r>0?Math.min(1,i/r):1},_p=function(){const e=g(this,ir)=="horizontal"?"width":"height";return Math.max(0,g(this,Pt)[e]-2*this.config.scrollbarPadding)},ch=function(){const e=F(this,we,_p).call(this),i=F(this,we,z2).call(this)*e,r=this.config.scrollbarMinLength;return Math.min(e,Math.max(r,i))},Du=function(){return Math.max(0,F(this,we,_p).call(this)-F(this,we,ch).call(this))},H2=function(e){const i=F(this,we,lh).call(this),r=F(this,we,Du).call(this);return i<=0||r<=0?0:e/i*r},_2=function(e){const i=F(this,we,lh).call(this),r=F(this,we,Du).call(this);return i<=0||r<=0?0:e/r*i},lh=function(){const e=g(this,ir)=="horizontal"?"width":"height";return Math.max(0,g(this,Ca)[e]-g(this,Pt)[e])},Vp=function(e){this.interpolateViewportOffset=ng(this.context.animator,i=>{this.setViewportOffset(i.x,{notify:!0,syncSmoother:!1})},35,.4,{x:e})};class z5 extends Gr{constructor(t,e,i={}){const r=e(),s=Object.keys(r.intervals);if(br.every(u=>!s.includes(u)))throw new Error("SelectionRect requires at least one of the channels 'x' or 'y' to be present in the selection.");const o={name:"selectionRect",configurableVisibility:!1,domainInert:!0,resolve:{scale:{x:"forced",y:"forced"}},data:{values:Ub(e())},encoding:{},layer:[]};s.includes("x")&&(o.encoding.x={field:"_x",type:null,title:null},o.encoding.x2={field:"_x2"}),s.includes("y")&&(o.encoding.y={field:"_y",type:null,title:null},o.encoding.y2={field:"_y2"}),o.layer.push({name:"selectionRectRect",mark:{type:"rect",clip:!0,fill:"#808080",fillOpacity:.05,stroke:"black",strokeWidth:1,strokeOpacity:.2,...i}});const a=u=>{const f=t.view.getScaleResolution(u);return`format(datum._${u}2 - datum._${u}, '.3s')`+(f.type==="locus"?" + 'b'":"")},l=i.measure=="inside"?9:i.measure=="outside"?-9:0;s.includes("x")&&l!=0&&o.layer.push({name:"selectionRectTextX",mark:{type:"text",align:"center",paddingX:5,dy:l,tooltip:null},encoding:{text:{expr:a("x")},y:s.includes("y")?{field:"_y2",type:null,title:null}:{value:1},y2:null}}),s.includes("y")&&l!=0&&o.layer.push({name:"selectionRectTextY",mark:{type:"text",align:"center",paddingY:5,dy:l,tooltip:null,angle:-90},encoding:{text:{expr:a("y")},x2:null}}),super(o,t.layoutParent.context,t.layoutParent,t.view,"selectionRect",{blockEncodingInheritance:!0}),qn(this,{skipSubtree:!0});const c=()=>{var h;const u=e(),f=(h=this.flowHandle)==null?void 0:h.dataSource;if(!f)throw new Error("Cannot find selection rect data source handle!");f.updateDynamicData(Ub(u))};this.registerDisposer(e.subscribe(c))}}function Ub(n){const t=n.intervals.x,e=n.intervals.y;return!t&&!e?[]:[{_x:t==null?void 0:t[0],_x2:t==null?void 0:t[1],_y:e==null?void 0:e[0],_y2:e==null?void 0:e[1]}]}class H5{constructor(t,e,i){v(this,eh);if(this.layoutParent=e,this.view=t,this.serial=i,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.scrollbars={},this.selectionRect=void 0,this.title=void 0,this.coords=Rt.ZERO,t.needsAxes.x||t.needsAxes.y){const r=t.spec,s="view"in r?r==null?void 0:r.view:void 0,o=_5(s);o&&(this.background=new wt(o,e.context,e,t,"background"+i,{blockEncodingInheritance:!0}),qn(this.background,{skipSubtree:!0}));const a=V5(s);a&&(this.backgroundStroke=new wt(a,e.context,e,t,"backgroundStroke"+i,{blockEncodingInheritance:!0}),qn(this.backgroundStroke,{skipSubtree:!0}));const l=G5(t.spec.title);if(l){const c=new wt(l,e.context,e,t,"title"+i,{blockEncodingInheritance:!0});this.title=c,qn(this.title,{skipSubtree:!0})}}t.spec.viewportWidth!=null&&(this.scrollbars.horizontal=new Ob(this,"horizontal")),t.spec.viewportHeight!=null&&(this.scrollbars.vertical=new Ob(this,"vertical")),F(this,eh,V2).call(this)}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view,yield*Object.values(this.scrollbars),this.selectionRect&&(yield this.selectionRect)}async createAxes(){this.disposeAxisViews();const{view:t,axes:e,gridLines:i}=this,r=(a,l)=>{const c=a.getAxisProps();if(c===null)return;const u=c?{...c}:{};if(!u.orient){for(const f of dA[l])if(!e[f]){u.orient=f;break}if(!u.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(u.title??(u.title=a.getTitle()),!dA[l].includes(u.orient))throw new Error(`Invalid axis orientation "${u.orient}" on channel "${l}"!`);return u},s=async(a,l,c)=>{const u=r(a,l);if(u){if(e[u.orient])throw new Error(`An axis with the orient "${u.orient}" already exists!`);const f=new Fb(u,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,c);e[u.orient]=f,await f.initializeChildren()}},o=async(a,l,c)=>{const u=r(a,l);if(u&&(u.grid||u.chromGrid)){const f=new k5(u,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,c);i[u.orient]=f,await f.initializeChildren()}};for(const a of["x","y"])if(t.needsAxes[a]){const l=t.resolutions.axis[a];if(!l)continue;await s(l,a,t)}for(const a of["x","y"])if(t.needsAxes[a]&&t.getConfiguredOrDefaultResolution(a,"axis")!="excluded"){const l=t.getAxisResolution(a);if(!l)continue;await o(l,a,t)}if(t instanceof Gr){for(const a of t)for(const[l,c]of Object.entries(a.resolutions.axis)){const u=c.getAxisProps();u&&u.orient&&await s(c,l,a)}for(const a of t)for(const[l,c]of Object.entries(a.resolutions.axis)){const u=c.getAxisProps();u&&!u.orient&&await s(c,l,a)}}[...Object.values(e),...Object.values(i)].forEach(a=>a.visit(l=>{l instanceof wt&&l.resolve("scale")}))}disposeAxisViews(){for(const t of Object.values(this.axes))t.disposeSubtree();for(const t of Object.values(this.gridLines))t.disposeSubtree();this.axes={},this.gridLines={}}getOverhang(){const t=e=>{const i=this.axes[e];return i?Math.max(i.getPerpendicularSize()+(i.axisProps.offset??0),0):0};return new ct(t("top"),t("right"),t("bottom"),t("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}eh=new WeakSet,V2=function(){const t=this.view,e=i=>{this.view.context.glHelper.canvas.style.cursor=i};for(const[i,r]of t.paramRuntime.paramConfigs){if(!("select"in r))continue;const s=cf(r.select);if(!Ow(s))continue;const o=s.encodings,a=Object.fromEntries(o.map(x=>{const C=this.view.getScaleResolution(x),E=C==null?void 0:C.getScale();if(!E||!Xe(E.type))throw new Error(`No continuous scale found for interval selection param "${i}" on channel "${x}"! Scale type is "${(E==null?void 0:E.type)??"none"}".`);return[x,C]}));if(this.selectionRect)throw new Error("Only one interval selection per container is currently allowed!");let l=!1,c=!1,u=!1,f=null;const h=(x,C)=>Object.fromEntries(o.map(E=>[E,[Math.min(x[E],C[E]),Math.max(x[E],C[E])]])),A=t.paramRuntime.createExpression(i),d=x=>{t.paramRuntime.setValue(i,x)};r.value&&d({type:"interval",intervals:r.value});const p=()=>{d(Tw(o)),e(null)};this.selectionRect=new z5(this,A,s.mark),this.selectionRect.initializeChildren();const w=x=>{const C={x:0,y:0},E=t.coords.normalizePoint(x.x,x.y,!0);for(const B of o){const b=a[B].getScale(),D=b.invert(B=="x"?E.x:E.y);C[B]=D+(["index","locus"].includes(b.type)?.5:0)}return C},m=x=>{var D,R,k,P;const{intervals:C}=x,E=(T,O,z)=>{const J=(se,re)=>re==null?null:a[se].getScale()(re),_=J("x",T)??z,q=J("y",O)??z;return t.coords.denormalizePoint(_,q,!0)},B=E((D=C.x)==null?void 0:D[0],(R=C.y)==null?void 0:R[0],0),b=E((k=C.x)==null?void 0:k[1],(P=C.y)==null?void 0:P[1],1);return Rt.create(B.x,B.y,b.x-B.x,b.y-B.y)};t.addInteractionEventListener("mousedown",(x,C)=>{if(C.mouseEvent.button!=0)return;if(f=l?m(A()):null,f)e("grabbing"),c=!0;else{const R=C.point;if(Uw(A())&&(c=!0),C.mouseEvent.shiftKey)p(),u=!0;else if(Uw(A())){const P=(T,O)=>{t.removeInteractionEventListener("mouseup",P);const z=O.point;R.subtract(z).length<2&&p()};t.addInteractionEventListener("mouseup",P);return}else return}C.stopPropagation();const E=C.point,B=Dt.fromMouseEvent(C.mouseEvent).subtract(E),b=R=>{const k=Dt.fromMouseEvent(R).subtract(B);let P;if(f){const T=k.subtract(E),O=f.translate(T.x,T.y);P=h(w(new Dt(O.x,O.y)),w(new Dt(O.x2,O.y2)))}else P=h(w(E),w(k));for(const T of o){const O=a[T],{zoomExtent:z,scale:J}=O,_=P[T];if(["index","locus"].includes(J.type)&&(_[0]=Math.ceil(_[0]),_[1]=Math.ceil(_[1])),f){const q=_[1]-_[0],se=z[0],re=z[1];_[0]<se&&(_[0]=se,_[1]=se+q),_[1]>re&&(_[1]=re,_[0]=re-q)}else _[0]=Math.max(z[0],_[0]),_[1]=Math.min(z[1],_[1]);_[1]=Math.min(z[1],_[1])}d({type:"interval",intervals:P})},D=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",D),u=!1,f&&(e("move"),f=null)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",D)}),t.addInteractionEventListener("click",(x,C)=>{C.mouseEvent.button==0&&c&&(C.stopPropagation(),c=!1)},!0);const y=x=>LD(A(),w(x));t.addInteractionEventListener("dblclick",(x,C)=>{y(C.point)&&(p(),C.stopPropagation())},!0),t.addInteractionEventListener("mousemove",(x,C)=>{y(C.point)?u||(l=!0,f||e("move")):(l=!1,f||e(null))})}};function _5(n){if(n!=null&&n.fill||n!=null&&n.fillOpacity||n!=null&&n.shadowOpacity)return{configurableVisibility:!1,data:{values:[{}]},mark:{color:n.fill,opacity:n.fillOpacity??(n.fill?1:0),type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0,shadowBlur:n.shadowBlur,shadowColor:n.shadowColor,shadowOffsetX:n.shadowOffsetX,shadowOffsetY:n.shadowOffsetY,shadowOpacity:n.shadowOpacity}}}function V5(n){if(!(!n||!n.stroke||n.strokeWidth===0||n.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:n.strokeWidth??1,color:n.stroke??"lightgray",strokeCap:"square",opacity:n.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}const gA=Object.freeze({size:1,color:"#ccc",opacity:1,strokeDash:[4,4],strokeCap:"butt"});class Y5{constructor({direction:t,props:e,context:i,layoutParent:r,dataParent:s,getName:o}){v(this,or);v(this,Cs);v(this,rr);v(this,si);v(this,ys,[]);v(this,sr,[]);v(this,xs,{x:[0,0],y:[0,0]});Q(this,Cs,t),Q(this,rr,e.includePlotMargin??!0);const a={...e};delete a.includePlotMargin,Q(this,si,F(this,or,q2).call(this,a,i,r,s,o))}get view(){return g(this,si)}update(t,e,i,r,s,o){F(this,or,Y2).call(this,t,e,r,s),F(this,or,J2).call(this,i,o)}render(t,e,i){g(this,si).render(t,e,i)}}Cs=new WeakMap,rr=new WeakMap,si=new WeakMap,ys=new WeakMap,sr=new WeakMap,xs=new WeakMap,or=new WeakSet,Y2=function(t,e,i,r){if(g(this,sr).length=0,e<2)return;const s=g(this,Cs)==="vertical"?"column":"row",o=r?3:2;for(let a=1;a<e;a++){const c=i(s,a)-o,u=t[c],f=u?u.location:0,h=u?u.size:0;g(this,sr).push(f+h/2)}},J2=function(t,e){var u,f,h;const i=g(this,rr)?0:e.left,r=g(this,rr)?t.width:t.width-e.right,s=g(this,rr)?0:e.bottom,o=g(this,rr)?t.height:t.height-e.top;g(this,ys).length=g(this,sr).length;for(let A=0;A<g(this,sr).length;A++){const d=g(this,sr)[A],p=g(this,ys)[A]??{};if(g(this,Cs)==="vertical")p.x=d,p.x2=d,p.y=s,p.y2=o;else{const w=t.height-d;p.x=i,p.x2=r,p.y=w,p.y2=w}g(this,ys)[A]=p}const a=(u=g(this,si).flowHandle)==null?void 0:u.dataSource;if(!a)return;a.updateDynamicData(g(this,ys)),g(this,xs).x[1]=t.width,g(this,xs).y[1]=t.height;const l=(f=g(this,si).getScaleResolution("x"))==null?void 0:f.getScale();l&&l.domain(g(this,xs).x);const c=(h=g(this,si).getScaleResolution("y"))==null?void 0:h.getScale();c&&c.domain(g(this,xs).y)},q2=function(t,e,i,r,s){const o=q5(t),a=g(this,Cs)==="horizontal"?s("separatorHorizontal"):s("separatorVertical"),l=new wt(o,e,i,r,a,{blockEncodingInheritance:!0});return qn(l,{skipSubtree:!0}),l};function J5(n){if(!n)return null;const t=n===!0?{...gA}:{...gA,...n};return t.strokeDash===gA.strokeDash&&(t.strokeDash=gA.strokeDash.slice()),t}function q5(n){return{configurableVisibility:!1,domainInert:!0,data:{values:[]},resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},mark:{...n,type:"rule",clip:n.clip??!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:{nice:!1,zero:!1}},y:{field:"y",type:"quantitative",scale:{nice:!1,zero:!1}},x2:{field:"x2"},y2:{field:"y2"}}}}class K5 extends tl{constructor(e,i,r,s,o,a,l){super(e,i,r,s,o,l);v(this,ie);v(this,xa,1/0);v(this,ba,10);v(this,At,[]);v(this,oi,{});v(this,cu,0);v(this,bs,{});this.spec=e,Q(this,ba,e.spacing??10),Q(this,xa,a),Q(this,At,[]),this.wrappingFacet=!1;const c=J5(e.separator);if(c)for(const u of X5(e))g(this,bs)[u]=new Y5({direction:u,props:c,context:this.context,layoutParent:this,dataParent:this,getName:f=>this.getNextAutoName(f)})}appendChild(e){this.appendChildView(e)}appendChildView(e){return this.insertChildViewAt(e,g(this,At).length)}insertChildViewAt(e,i){e.layoutParent??(e.layoutParent=this);const r=new H5(e,this,g(this,cu));return ur(this,cu)._++,g(this,At).splice(i,0,r),this.invalidateSizeCache(),r}removeChildView(e){const i=g(this,At).findIndex(r=>r.view===e);if(i<0)throw new Error("Not my child view!");this.removeChildAt(i)}removeChildAt(e){const i=g(this,At)[e];if(!i)throw new Error("Child index out of range!");F(this,ie,Yp).call(this,i),g(this,At).splice(e,1),this.invalidateSizeCache()}setChildren(e){for(const i of g(this,At))F(this,ie,Yp).call(this,i);Q(this,At,[]);for(const i of e)this.appendChild(i);this.invalidateSizeCache()}get children(){return g(this,At).map(e=>e.view)}get childCount(){return g(this,At).length}async createAxes(){await this.syncSharedAxes(),await Promise.all(g(this,At).map(e=>e.createAxes()))}async syncSharedAxes(){for(const i of Object.values(g(this,oi)))i.disposeSubtree();Q(this,oi,{});const e=[];for(const i of br){const r=this.resolutions.axis[i];if(!r)continue;const s=r.getAxisProps();if(!s)continue;const o={title:r.getTitle(),orient:dA[i][0],...s},a=new Fb(o,r.scaleResolution.type,this.context,this,this);e.push(a.initializeChildren()),g(this,oi)[i]=a}await Promise.all(e)}*[Symbol.iterator](){for(const e of g(this,At))yield*e.getChildren();for(const e of Object.values(g(this,bs)))yield e.view;for(const e of Object.values(g(this,oi)))yield e}getOverhang(){return F(this,ie,Kp).call(this).union(F(this,ie,uh).call(this))}getSize(){return this._cache("size",()=>new Ni(F(this,ie,qp).call(this,"column"),F(this,ie,qp).call(this,"row")).addPadding(F(this,ie,uh).call(this)))}render(e,i,r={}){var p;if(super.render(e,i,r),!this.isConfiguredVisible())return;this.layoutParent||(i=i.shrink(this.getPadding())),i=i.shrink(F(this,ie,uh).call(this)),e.pushView(this,i);const s=e.getDevicePixelRatio(),o={devicePixelRatio:s},a=A1(F(this,ie,Jp).call(this,"column"),i.width,o),l=A1(F(this,ie,Jp).call(this,"row"),i.height,o),c=new Sb(g(this,ie,Ts).length,g(this,xa)??1/0),u=w=>Math.round(w*s)/s,f=[];for(const[w,m]of g(this,ie,Ts).entries()){const{view:y,axes:x,gridLines:C,background:E,backgroundStroke:B,title:b,selectionRect:D}=m,[R,k]=c.getCellCoords(w),P=a[F(this,ie,Fu).call(this,"column",R)],T=l[F(this,ie,Fu).call(this,"row",k)],O=y.getViewportSize(),z=y.getSize(),J=y.getOverhang(),_=P.location-J.left,q=T.location-J.top,se=(oe,L)=>(oe[L].grow?(L=="width"?P:T).size:oe[L].px)+J[L],re=se(O,"width"),Ae=se(O,"height"),ht=se(z,"width"),Lt=se(z,"height"),Nn=m.scrollbars.horizontal,Ns=m.scrollbars.vertical,Iu=Nn?()=>u(Nn.viewportOffset):()=>0,Ta=Ns?()=>u(Ns.viewportOffset):()=>0,li=new Rt(()=>i.x+_,()=>i.y+q,()=>re,()=>Ae),Ms=y.isScrollable(),V=Ms?new Rt(()=>i.x+_-Iu(),()=>i.y+q-Ta(),()=>ht,()=>Lt):li;m.coords=li;const ee=r.clipRect?li.intersect(r.clipRect):li;f.push({col:R,row:k,view:y,axes:x,gridLines:C,background:E,backgroundStroke:B,title:b,selectionRect:D,viewportCoords:li,viewCoords:V,clippedChildCoords:ee,viewWidth:ht,viewHeight:Lt,scrollable:Ms,gridChild:m})}for(const w of f)(p=w.background)==null||p.render(e,w.clippedChildCoords,{...r,clipRect:void 0});const h=F(this,ie,Kp).call(this),A=g(this,bs).vertical;A&&(A.update(a,c.nCols,i,(w,m)=>F(this,ie,Fu).call(this,w,m),this.wrappingFacet,h),A.render(e,i,r));const d=g(this,bs).horizontal;d&&(d.update(l,c.nRows,i,(w,m)=>F(this,ie,Fu).call(this,w,m),this.wrappingFacet,h),d.render(e,i,r));for(const w of f){const{view:m,axes:y,gridLines:x,backgroundStroke:C,title:E,selectionRect:B,viewportCoords:b,viewCoords:D,clippedChildCoords:R,viewWidth:k,viewHeight:P,scrollable:T,gridChild:O,col:z,row:J}=w;for(const q of Object.values(x))q.render(e,b,r);const _=W5(m)||T;_&&m.render(e,D,{...r,clipRect:R}),C==null||C.render(e,R,{...r,clipRect:void 0});for(const[q,se]of Object.entries(y)){const re=q=="left"||q=="right"?"vertical":"horizontal",Ae=O.scrollbars[re],ht=Ae?b.modify(re=="vertical"?{y:()=>D.y,height:P}:{x:()=>D.x,width:k}):b,Lt=Gb(ht,q,se);let Nn=r.clipRect;Ae&&(Nn=Lt.intersect(Nn).intersect(Ae?b.modify(re=="vertical"?{x:-1e5,width:2e5}:{y:-1e5,height:2e5}):void 0)),se.render(e,Lt,{...r,clipRect:Nn})}for(const q of Object.values(g(this,oi))){const re=q.axisProps.orient;(re=="left"&&z==0||re=="right"&&z==c.nCols-1||re=="top"&&J==0||re=="bottom"&&J==c.nRows-1)&&q.render(e,Gb(b.shrink(O.view.getOverhang()),re,q),r)}_||m.render(e,D,r),B==null||B.render(e,D,r);for(const q of Object.values(O.scrollbars))q.updateScrollbar(b,D),q.render(e,i,r);E==null||E.render(e,b,r)}e.popView(this)}propagateInteractionEvent(e){if(this.handleInteractionEvent(void 0,e,!0),e.stopped)return;const i=g(this,ie,Ts).find(s=>s.coords.containsPoint(e.point.x,e.point.y));for(const s of Object.values((i==null?void 0:i.scrollbars)??{}))if(s.coords.containsPoint(e.point.x,e.point.y)&&(s.propagateInteractionEvent(e),e.stopped))return;const r=i==null?void 0:i.view;if(r){if(r.propagateInteractionEvent(e),e.stopped)return;(r instanceof wt||r instanceof Gr)&&Q5(e,i.coords,s=>F(this,ie,j2).call(this,i.coords,i.view,s),this.context.getCurrentHover(),this.context.animator)}e.stopped||this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,i){return"independent"}}xa=new WeakMap,ba=new WeakMap,At=new WeakMap,oi=new WeakMap,cu=new WeakMap,bs=new WeakMap,ie=new WeakSet,Ts=function(){return g(this,At).filter(e=>e.view.isConfiguredVisible())},K2=function(){return new Sb(g(this,ie,Ts).length,g(this,xa)??1/0)},Yp=function(e){e.disposeAxisViews();for(const i of e.getChildren())i.disposeSubtree()},ku=function(e){const i=e=="column"?"width":"height",r=(s,o)=>s.map(a=>{const c=g(this,ie,Ts)[a].getOverhangAndPadding();return e=="column"?o?c.right:c.left:o?c.bottom:c.top}).reduce((a,l)=>Math.max(a,l),0);return this._cache(`size/directionSizes/${e}`,()=>g(this,ie,K2)[e=="column"?"colIndices":"rowIndices"].map(s=>({axisBefore:r(s,0),axisAfter:r(s,1),view:IM(s.map(o=>g(this,ie,Ts)[o].view.getViewportSize()[i]))})))},Jp=function(e){const i=F(this,ie,ku).call(this,e),r=[];r.push(Yc);for(const[s,o]of i.entries())s>0&&r.push({px:g(this,ba),grow:0}),(s==0||this.wrappingFacet)&&r.push(Yc),r.push({px:o.axisBefore,grow:0}),r.push(o.view),r.push({px:o.axisAfter,grow:0}),(s==i.length-1||this.wrappingFacet)&&r.push(Yc);return r},qp=function(e){let i=0,r=0;const s=e=="row"?this.spec.height:this.spec.width;if(s||s===0)return d1(s);const o=F(this,ie,ku).call(this,e);for(const[a,l]of o.entries())a>0&&(r+=g(this,ba)),(a==0||this.wrappingFacet)&&(r+=0),r+=l.axisBefore,r+=l.view.px??0,i+=l.view.grow??0,r+=l.axisAfter,(a==o.length-1||this.wrappingFacet)&&(r+=0);return{px:r,grow:i}},Fu=function(e,i){return e=="row"&&this.wrappingFacet?1+6*i+2:2+4*i+1},Kp=function(){const e=F(this,ie,ku).call(this,"column"),i=F(this,ie,ku).call(this,"row");return!e.length||!i.length?ct.zero():new ct(i.at(0).axisBefore,e.at(-1).axisAfter,i.at(-1).axisAfter,e.at(0).axisBefore)},uh=function(){const e=i=>{const r=og[i],s=g(this,oi)[r];return(s==null?void 0:s.axisProps.orient)!==i?0:Math.max(s.getPerpendicularSize()+(s.axisProps.offset??0),0)};return new ct(e("top"),e("right"),e("bottom"),e("left"))},j2=function(e,i,r){for(const[s,o]of Object.entries(j5(i))){if(o.size<=0)continue;const a=e.normalizePoint(r.x,r.y),l=e.normalizePoint(r.x+r.xDelta,r.y+r.yDelta),c={x:l.x-a.x,y:l.y-a.y};for(const u of o)u.zoom(2**r.zDelta,s=="y"?1-a[s]:a[s],s=="x"?c.x:-c.y)}this.context.animator.requestRender()};function j5(n){const t={x:new Set,y:new Set};return n.visit(e=>{for(const[i,r]of Object.entries(t)){const s=e.getScaleResolution(i);s&&s.isZoomable()&&r.add(s)}}),t}function W5(n){let t=!0;return n.visit(e=>{e instanceof wt&&t&&(t=e.mark.properties.clip===!0)}),t}function X5(n){return"vconcat"in n?["horizontal"]:"hconcat"in n?["vertical"]:["horizontal","vertical"]}function Gb(n,t,e){const i=e.axisProps,r=e.getPerpendicularSize();if(t=="bottom")return n.translate(0,n.height+i.offset).modify({height:r});if(t=="top")return n.translate(0,-r-i.offset).modify({height:r});if(t=="left")return n.translate(-r-i.offset,0).modify({width:r});if(t=="right")return n.translate(n.width+i.offset,0).modify({width:r})}const fp=class fp extends K5{constructor(e,i,r,s,o){super(e,i,r,s,o,pA(e)?e.columns:il(e)?1:1/0);v(this,Is);this.spec=e}async initializeChildren(){const e=this.spec,i=pA(e)?e.concat:il(e)?e.vconcat:e.hconcat;this.setChildren(await Promise.all(i.map(r=>this.context.createOrImportView(r,this,this,this.getNextAutoName("grid"))))),await this.createAxes()}async addChildSpec(e,i){return F(this,Is,jp).call(this).addChildSpec(e,i)}async removeChildAt(e){await F(this,Is,jp).call(this).removeChildAt(e)}getDefaultResolution(e,i){return i=="axis"?"independent":il(this.spec)&&e==="x"||Vb(this.spec)&&e==="y"?"shared":"independent"}};Is=new WeakSet,W2=function(){const e=this.spec;let i;return pA(e)?i=e.concat:il(e)?i=e.vconcat:i=e.hconcat,{specs:i,insertAt:(r,s)=>{i.splice(r,0,s)},removeAt:r=>{i.splice(r,1)}}},jp=function(){return new Ib(this,{getChildSpecs:F(this,Is,W2).bind(this),insertView:(e,i)=>this.insertChildViewAt(e,i),removeView:e=>C2(fp.prototype,this,"removeChildAt").call(this,e),prepareView:async(e,i,r)=>{await r.createAxes(),await this.syncSharedAxes()},afterRemove:async()=>{await this.syncSharedAxes()},defaultName:()=>this.getNextAutoName("grid")})};let nl=fp;const zb="viewRoot";class Z5{constructor(t={}){v(this,Ia,new Map);this.options={allowImport:!0,wrapRoot:!0,...t};const e=i=>(r,s,o,a,l)=>new i(r,s,o,a,l);this.addViewType(lg,e(Gr)),this.addViewType(rg,((i,r,s,o,a)=>new Gr(c5(i),r,s,o,a))),this.addViewType(cg,e(wt)),this.addViewType(il,e(nl)),this.addViewType(Vb,e(nl)),this.addViewType(pA,e(nl))}addViewType(t,e){g(this,Ia).set(t,e)}createView(t,e,i,r,s){for(const[o,a]of g(this,Ia))if(o(t))return a(t,e,i,r,s);throw eP(t)?new Error("SampleView is not supported by the @genome-spy/core package. Use @genome-spy/app instead!"):new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(t)]))}isViewSpec(t){const e=[...g(this,Ia).keys()].filter(i=>i(t));if(e.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return e.length==1}async createOrImportView(t,e,i,r,s,o){let a;const l=_b(t)?t.name??null:void 0;if(_b(t)){let h;if("url"in t.import)if(this.options.allowImport)h=await n6(t,r.getBaseUrl(),e);else throw new it("Importing views is not allowed!",i);else if("template"in t.import)h=Hb(t.import.template,r);else throw new Error("Invalid import: "+JSON.stringify(t));o==null||o(h),$5(h,t),a=h}else a=t;const c=h=>{var A;return(A=h==null?void 0:h.params)==null?void 0:A.some(d=>sd(d)&&cf(d.select).type=="interval")};let u=!1;!r&&this.options.wrapRoot&&(cg(a)||lg(a)||rg(a)||c(a))&&s===zb&&(a={name:"implicitRoot",vconcat:[a]},u=!0);const f=this.createView(a,e,i,r,s);return l!==void 0&&f5(f,l),u&&qn(f),f instanceof tl&&await f.initializeChildren(),f.registerStepSizeInvalidation(),f}}Ia=new WeakMap;function Hb(n,t){var i,r;const e=(r=(i=t.spec)==null?void 0:i.templates)==null?void 0:r[n];if(e)return structuredClone(e);if(t.dataParent)return Hb(n,t.dataParent);throw new Error(`Cannot find template "${n}" in current view or its ancestors!`)}function $5(n,t){t.name!=null&&(n.name=t.name),t.visible!=null&&(n.visible=t.visible);const e=Ne(t.params)?t.params:tt(t.params)?Object.entries(t.params).map(([i,r])=>({name:i,value:r})):[];if(e.length){n.params??(n.params=[]);for(const i of e){const r=n.params.findIndex(s=>s.name==i.name);r>=0&&(n.params[r]=i)}for(const i of e)n.params.some(r=>r.name==i.name)||n.params.push(i)}}function cg(n){return"mark"in n&&(Ce(n.mark)||tt(n.mark))}function lg(n){return"layer"in n&&tt(n.layer)}function _b(n){return"import"in n}function il(n){return"vconcat"in n&&Ne(n.vconcat)}function Vb(n){return"hconcat"in n&&Ne(n.hconcat)}function pA(n){return"concat"in n&&Ne(n.concat)}function eP(n){return"samples"in n&&tt(n.samples)&&"spec"in n&&tt(n.spec)}class tP{constructor(t,e){v(this,Ea);this.point=t,this.uiEvent=e,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}get proxiedMouseEvent(){return g(this,Ea)||Q(this,Ea,nP(this.mouseEvent)),g(this,Ea)}get mouseEvent(){if(this.uiEvent instanceof MouseEvent)return this.uiEvent;throw new Error("Not a MouseEvent!")}}Ea=new WeakMap;function nP(n){const t=i=>i===null||typeof i!="object"&&typeof i!="function",e={get(i,r,s){const o=Reflect.get(i,r,i);if(!t(o))throw new Error(`Access to non-primitive property "${String(r)}" is not allowed.`);return o},getPrototypeOf(){return null},ownKeys(i){return Reflect.ownKeys(i).filter(s=>t(i[s])).map(s=>typeof s=="symbol"?s:String(s))},getOwnPropertyDescriptor(i,r){const s=Reflect.getOwnPropertyDescriptor(i,r);if(s&&!("get"in s||"set"in s)&&t(s.value))return{value:s.value,writable:!!s.writable,enumerable:!!s.enumerable,configurable:!!s.configurable}},has(i,r){return r in i?t(i[r]):!1}};return new Proxy(n,e)}class iP{constructor(t,e){this.animator=t,this.disabled=!!e,this.maxDistance=500,this.callback=null,this.targetValue=0,this.lastValue=0,this.smoother=ng(t,i=>{var s;const r=i.x-this.lastValue;this.lastValue=i.x,(s=this.callback)==null||s.call(this,r)},40,.1,{x:0})}cancel(){this.lastValue!==this.targetValue&&(this.targetValue=im([this.lastValue,this.targetValue],.3),this.smoother({x:this.targetValue}))}setMomentum(t,e){if(this.disabled){e(t);return}this.callback=e;const i=ro(this.targetValue+t-this.lastValue,-this.maxDistance,this.maxDistance);this.targetValue=this.lastValue+i,this.smoother({x:this.targetValue})}}function rP(n){const t={},e=["string","number","boolean"],i=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const r in n){const s=r;!i.includes(r)&&e.includes(typeof n[s])&&(t[s]=n[s])}return t}class sP{constructor({viewRoot:t,glHelper:e,tooltip:i,animator:r,emitEvent:s,tooltipHandlers:o,renderPickingFramebuffer:a,getDevicePixelRatio:l}){v(this,th);v(this,Ba);v(this,Es);v(this,xt);v(this,lu);v(this,uu);v(this,fu);v(this,va);v(this,Au);v(this,Je);v(this,Bs);v(this,Sa);v(this,ai);Q(this,Ba,t),Q(this,Es,e),Q(this,xt,i),Q(this,lu,r),Q(this,uu,s),Q(this,fu,o),Q(this,va,a),Q(this,Au,l),Q(this,Je,void 0),Q(this,Bs,new iP(g(this,lu))),Q(this,Sa,void 0),Q(this,ai,!1)}getCurrentHover(){return g(this,Je)}registerMouseEvents(){const t=g(this,Es).canvas;let e=performance.now(),i=!1;const r=s=>{var l;const o=performance.now(),a=o-e<200;if(s instanceof MouseEvent){const c=t.getBoundingClientRect(),u=new Dt(s.clientX-c.left-t.clientLeft,s.clientY-c.top-t.clientTop);s.type=="mousemove"&&!a&&(g(this,xt).handleMouseMove(s),Q(this,ai,!1),s.buttons==0&&!Tb()&&(g(this,va).call(this),F(this,th,X2).call(this,u.x,u.y)));const f=h=>{g(this,Ba).propagateInteractionEvent(new tP(u,h)),g(this,ai)||g(this,xt).clear()};if(s.type!="wheel"&&g(this,Bs).cancel(),(s.type=="mousedown"||s.type=="mouseup")&&!Tb())g(this,va).call(this);else if(s.type=="wheel"){e=o,Q(this,ai,!1);const h=s;if(Math.abs(h.deltaX)>Math.abs(h.deltaY))Q(this,Je,null),g(this,Bs).cancel();else{const A=rP(h);g(this,Bs).setMomentum(h.deltaY*(h.deltaMode?80:1),d=>{const p=new WheelEvent("wheel",{...A,deltaMode:0,deltaX:0,deltaY:d});f(p)}),h.preventDefault();return}}if(s.type=="click"){if(i)return;const h=g(this,Je)?{type:s.type,viewPath:g(this,Je).mark.unitView.getLayoutAncestors().map(A=>A.name).reverse(),datum:g(this,Je).datum}:{type:s.type,viewPath:null,datum:null};g(this,uu).call(this,"click",h)}(s.type!="click"||((l=g(this,Sa))==null?void 0:l.subtract(Dt.fromMouseEvent(s)).length)<3)&&f(s)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu","dblclick"].forEach(s=>t.addEventListener(s,r)),t.addEventListener("mousedown",s=>{Q(this,Sa,Dt.fromMouseEvent(s)),g(this,xt).sticky?(g(this,xt).sticky=!1,g(this,xt).clear(),i=!0):i=!1;const o=()=>{document.addEventListener("mouseup",()=>g(this,xt).popEnabledState(),{once:!0}),g(this,xt).pushEnabledState(!1)};if(s.button==2||s.shiftKey||s.ctrlKey||s.metaKey)o();else if(g(this,xt).visible){const a=setTimeout(()=>{i=!0,g(this,xt).sticky=!0},400),l=()=>clearTimeout(a);document.addEventListener("mouseup",l,{once:!0}),document.addEventListener("mousemove",l,{once:!0})}}),t.addEventListener("dragstart",s=>s.stopPropagation()),t.addEventListener("mouseout",()=>{g(this,xt).clear(),Q(this,Je,null)})}updateTooltip(t,e){if(!g(this,ai)||!t)g(this,xt).updateWithDatum(t,e),Q(this,ai,!0);else throw new Error("Tooltip has already been updated! Duplicate event handler?")}}Ba=new WeakMap,Es=new WeakMap,xt=new WeakMap,lu=new WeakMap,uu=new WeakMap,fu=new WeakMap,va=new WeakMap,Au=new WeakMap,Je=new WeakMap,Bs=new WeakMap,Sa=new WeakMap,ai=new WeakMap,th=new WeakSet,X2=function(t,e){var o;const i=g(this,Au).call(this),r=fR(g(this,Es).gl,g(this,Es)._pickingBufferInfo,t*i,e*i),s=r[0]|r[1]<<8|r[2]<<16|r[3]<<24;if(s==0){Q(this,Je,null);return}if(s!==((o=g(this,Je))==null?void 0:o.uniqueId)&&Q(this,Je,null),g(this,Je)||g(this,Ba).visit(a=>{if(a instanceof wt){if(a.mark.isPickingParticipant()&&[...a.facetCoords.values()].some(l=>l.containsPoint(t,e))){const l=a.getCollector().findDatumByUniqueId(s);l&&Q(this,Je,{mark:a.mark,datum:l,uniqueId:s})}if(g(this,Je))return Ti}}),g(this,Je)){const a=g(this,Je).mark;this.updateTooltip(g(this,Je).datum,async l=>{if(!a.isPickingParticipant())return;const c=a.properties.tooltip;if(c!==null){const u=(c==null?void 0:c.handler)??"default",f=g(this,fu)[u];if(!f)throw new Error("No such tooltip handler: "+u);const h=db(l,a,c==null?void 0:c.params);return f(l,a,c==null?void 0:c.params,h)}})}};class Yb{constructor(t){this.globalOptions=t}pushView(t,e){}popView(t){}renderMark(t,e){}getDevicePixelRatio(){return 1}}class ug extends Yb{constructor(e,i){super(e);v(this,nh);v(this,hu,[0,0,0,0]);v(this,An);v(this,du,[]);v(this,Qa);v(this,gu);v(this,pu,new Set);v(this,mu);v(this,Da,1);v(this,wu,{width:0,height:0});if(Q(this,gu,i.webGLHelper),Q(this,Qa,i.framebufferInfo),Q(this,Da,i.devicePixelRatio),Q(this,wu,i.canvasSize),i.clearColor){const r=Di(i.clearColor).rgb();Q(this,hu,[r.r/255,r.g/255,r.b/255,r.opacity])}}getDevicePixelRatio(){return g(this,Da)}pushView(e,i){g(this,pu).add(e),Q(this,mu,i)}renderMark(e,i){if(this.globalOptions.picking&&!e.isPickingParticipant())return;const r=e.render(i);r&&g(this,du).push({mark:e,callback:r,coords:g(this,mu),clipRect:i.clipRect})}render(){if(g(this,An)||F(this,nh,Z2).call(this),g(this,An).length==0)return;const e=g(this,gu).gl,i=g(this,Qa);i?(e.bindFramebuffer(e.FRAMEBUFFER,i.framebuffer),e.viewport(0,0,i.width,i.height)):e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.disable(e.SCISSOR_TEST),e.clearColor(...g(this,hu)),e.clear(e.COLOR_BUFFER_BIT);for(const r of g(this,pu))r.onBeforeRender();for(const r of g(this,An))r();g(this,Qa)&&e.bindFramebuffer(e.FRAMEBUFFER,null)}}hu=new WeakMap,An=new WeakMap,du=new WeakMap,Qa=new WeakMap,gu=new WeakMap,pu=new WeakMap,mu=new WeakMap,Da=new WeakMap,wu=new WeakMap,nh=new WeakSet,Z2=function(){Q(this,An,[]);let e=!0,i=!0;const r=a=>()=>{e&&a()},s=a=>()=>{e&&i&&a()},o=Gu(g(this,du).reverse(),a=>a.mark);for(const[a,l]of[...o.entries()].reverse()){if(!a.isReady())continue;g(this,An).push(()=>{e=a.unitView.getEffectiveOpacity()>0}),g(this,An).push(...a.prepareRender(this.globalOptions).map(u=>r(u)));let c;for(const u of l){const f=u.coords;f.equals(c)||g(this,An).push(r(()=>{i=a.setViewport(g(this,wu),g(this,Da),f,u.clipRect)})),g(this,An).push(s(u.callback)),c=u.coords}}};class oP extends Yb{constructor(...t){super({}),this.contexts=t}pushView(t,e){for(const i of this.contexts)i.pushView(t,e)}popView(t){for(const e of this.contexts)e.popView(t)}renderMark(t,e){for(const i of this.contexts)i.renderMark(t,e)}}class aP{constructor({viewRoot:t,glHelper:e,getBackground:i,broadcast:r,onLayoutComputed:s}){v(this,Cu);v(this,vs);v(this,yu);v(this,ka);v(this,xu);v(this,Ss);v(this,Qs);v(this,Ds);Q(this,Cu,t),Q(this,vs,e),Q(this,yu,i),Q(this,ka,r),Q(this,xu,s),Q(this,Ss,void 0),Q(this,Qs,void 0),Q(this,Ds,!1)}computeLayout(){const t=g(this,Cu);if(!t)return;g(this,ka).call(this,"layout");const e=g(this,vs).getLogicalCanvasSize();if(isNaN(e.width)||isNaN(e.height)){console.log(`NaN in canvas size: ${e.width}x${e.height}. Skipping computeLayout().`);return}const i={webGLHelper:g(this,vs),canvasSize:e,devicePixelRatio:window.devicePixelRatio??1};Q(this,Ss,new ug({picking:!1},{...i,clearColor:g(this,yu).call(this)})),Q(this,Qs,new ug({picking:!0},{...i,framebufferInfo:g(this,vs)._pickingBufferInfo})),t.render(new oP(g(this,Ss),g(this,Qs)),Rt.create(0,0,e.width,e.height)),g(this,xu).call(this),g(this,ka).call(this,"layoutComputed")}renderAll(){var t;(t=g(this,Ss))==null||t.render(),Q(this,Ds,!0)}renderPickingFramebuffer(){g(this,Ds)&&(g(this,Qs).render(),Q(this,Ds,!1))}}Cu=new WeakMap,vs=new WeakMap,yu=new WeakMap,ka=new WeakMap,xu=new WeakMap,Ss=new WeakMap,Qs=new WeakMap,Ds=new WeakMap;function cP(n){const t=o=>{throw new Error("ViewContext."+o+" is not configured.")},e={dataFlow:n.dataFlow??t("dataFlow"),glHelper:n.glHelper??t("glHelper"),animator:n.animator??t("animator"),genomeStore:n.genomeStore,fontManager:n.fontManager??t("fontManager"),createOrImportView:async function(o,a,l,c,u){const f=n.createOrImportViewWithContext;return f?f(e,o,a,l,c,u):Promise.reject(new Error("ViewContext.createOrImportView is not configured."))}},i=["requestLayoutReflow","updateTooltip","getNamedDataFromProvider","getCurrentHover","addKeyboardListener","addBroadcastListener","removeBroadcastListener","highlightView","isViewConfiguredVisible","isViewSpec"],r=n,s=e;for(const o of i)s[o]=r[o]??(()=>t(o));return e}function lP({glHelper:n,viewRoot:t,logicalWidth:e,logicalHeight:i,devicePixelRatio:r,clearColor:s="white"}){e??(e=n.getLogicalCanvasSize().width),i??(i=n.getLogicalCanvasSize().height),r??(r=window.devicePixelRatio??1);const o=n.gl,a=Math.floor(e*r),l=Math.floor(i*r),c=ty(o,[{format:o.RGBA,type:o.UNSIGNED_BYTE,minMag:o.LINEAR,wrap:o.CLAMP_TO_EDGE}],a,l),u=new ug({picking:!1},{webGLHelper:n,canvasSize:{width:e,height:i},devicePixelRatio:r,clearColor:s,framebufferInfo:c});return t.render(u,Rt.create(0,0,e,i)),u.render(),AR(o,c,"image/png")}Jh("fasta",H9);class uP{constructor(t,e,i={}){v(this,De);v(this,Fa,[]);v(this,ks);v(this,Ra);v(this,ci);v(this,Na);v(this,Fs);v(this,bt);v(this,bu,new bD);v(this,Rs,new Cw);v(this,Ma,new Cw);this.container=t,this.options=i,i.inputBindingContainer??(i.inputBindingContainer="default"),this.spec=e,this.viewFactory=new Z5,this.namedDataProviders=[],this.animator=new T9(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=r=>r.isVisibleInSpec(),this.tooltipHandlers={default:o5,refseqgene:V9,...i.tooltipHandlers??{}},this.viewRoot=void 0,Q(this,Na,new UD(t,i)),this.dpr=window.devicePixelRatio}registerNamedDataProvider(t){this.namedDataProviders.unshift(t)}getNamedDataFromProvider(t){for(const e of this.namedDataProviders){const i=e(t);if(i)return i}}updateNamedData(t,e){const i=this.viewRoot.context.dataFlow.findNamedDataSource(t);if(!i)throw new Error("No such named data source: "+t);i.dataSource.updateDynamicData(e),this.animator.requestRender()}addEventListener(t,e){g(this,Rs).add(t,e)}removeEventListener(t,e){g(this,Rs).remove(t,e)}broadcast(t,e){const i={type:t,payload:e};this.viewRoot.visit(r=>r.handleBroadcast(i)),g(this,Ma).emit(t,i)}destroy(){const t=g(this,De,fh);for(this.container.classList.remove("genome-spy"),t.classList.remove("loading"),g(this,bu).removeAll(),g(this,Fa).forEach(e=>e()),g(this,bt).finalize(),g(this,Na).remove(),g(this,Ra).destroy();this.container.firstChild;)this.container.firstChild.remove()}async launch(){var e,i;let t=!1;try{return F(this,De,tv).call(this),await F(this,De,nv).call(this),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),t=!0,!0}catch(r){const s=`${r.view?`At "${r.view.getPathString()}": `:""}${r.toString()}`;return console.error(r.stack),((i=(e=this.options).onError)==null?void 0:i.call(e,r,this.container))||wD(this.container,s),this.viewRoot&&g(this,ci).set(this.viewRoot,"error",s),!1}finally{g(this,De,fh).classList.remove("loading"),t&&this.viewRoot&&g(this,ci).set(this.viewRoot,"complete")}}async initializeVisibleViewData(){this.viewRoot&&(await F9(this.viewRoot,this.viewRoot.context.dataFlow,this.viewRoot.context.fontManager),this.viewRoot._invalidateCacheByPrefix("size","progeny"),g(this,bt).invalidateSize(),this.computeLayout(),this.animator.requestRender())}registerMouseEvents(){g(this,Fs).registerMouseEvents()}updateTooltip(t,e){g(this,Fs).updateTooltip(t,e)}exportCanvas(t,e,i,r="white"){const s=lP({glHelper:g(this,bt),viewRoot:this.viewRoot,logicalWidth:t,logicalHeight:e,devicePixelRatio:i,clearColor:r});return this.computeLayout(),this.renderAll(),s}getLogicalCanvasSize(){return g(this,bt).getLogicalCanvasSize()}computeLayout(){g(this,ks).computeLayout()}renderAll(){g(this,ks).renderAll()}renderPickingFramebuffer(){g(this,ks).renderPickingFramebuffer()}getSearchableViews(){const t=[];return this.viewRoot.visit(e=>{e instanceof wt&&e.getSearchAccessors().length>0&&t.push(e)}),t}getNamedScaleResolutions(){const t=new Map;return this.viewRoot.visit(e=>{for(const i of Object.values(e.resolutions.scale))i.name&&t.set(i.name,i)}),t}}Fa=new WeakMap,ks=new WeakMap,Ra=new WeakMap,ci=new WeakMap,Na=new WeakMap,Fs=new WeakMap,bt=new WeakMap,bu=new WeakMap,Rs=new WeakMap,Ma=new WeakMap,De=new WeakSet,fh=function(){return this.container.querySelector(".canvas-wrapper")},$2=function(){g(this,Na).initialize(this.viewRoot)},ev=function(){const t=this.viewRoot.paramRuntime.allocateSetter("devicePixelRatio",this.dpr),e=()=>{g(this,bt).invalidateSize(),this.dpr=window.devicePixelRatio,t(this.dpr),this.computeLayout(),this.renderAll()};if(this.viewRoot.getSize().isGrowing()){const s=new ResizeObserver(e);s.observe(this.container),g(this,Fa).push(()=>s.disconnect())}let i=null;const r=()=>{i!=null&&(i(),e());const s=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);s.addEventListener("change",r),i=()=>{s.removeEventListener("change",r)}};r(),i&&g(this,Fa).push(i)},tv=function(){const{canvasWrapper:t,loadingIndicatorsElement:e,tooltip:i}=mD(this.container);Q(this,bt,new cR(t,()=>this.viewRoot?i6(this.viewRoot):{width:void 0,height:void 0},{powerPreference:this.options.powerPreference??"default"})),this.tooltip=i,Q(this,ci,new ww),Q(this,Ra,new yD(e,g(this,ci)))},nv=async function(){await F(this,De,iv).call(this);const t=F(this,De,rv).call(this);await F(this,De,sv).call(this,t),await k9(this.viewRoot,t.dataFlow,t.fontManager,e=>this.broadcast("dataFlowBuilt",e)),F(this,De,av).call(this,t)},iv=async function(){this.spec.genome&&(this.genomeStore=new P9(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome))},rv=function(){const t=new ib;return t.loadingStatusRegistry=g(this,ci),cP({dataFlow:t,glHelper:g(this,bt),animator:this.animator,genomeStore:this.genomeStore,fontManager:new U9(g(this,bt)),updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>g(this,Fs).getCurrentHover(),addKeyboardListener:(e,i)=>{g(this,bu).add(e,i)},addBroadcastListener:(e,i)=>g(this,Ma).add(e,i),removeBroadcastListener:(e,i)=>g(this,Ma).remove(e,i),isViewConfiguredVisible:this.viewVisibilityPredicate,isViewSpec:e=>this.viewFactory.isViewSpec(e),createOrImportViewWithContext:(e,i,r,s,o,a)=>this.viewFactory.createOrImportView(i,e,r,s,o,a),highlightView:xD(this.container)})},sv=async function(t){const e=this.spec;e.datasets&&this.registerNamedDataProvider(i=>e.datasets[i]),this.viewRoot=await t.createOrImportView(e,null,null,zb),g(this,ci).set(this.viewRoot,"loading"),g(this,De,fh).style.flexGrow=this.viewRoot.getSize().height.grow>0?"1":"0",F(this,De,$2).call(this),a5(this.viewRoot),bb(this.viewRoot),F(this,De,ov).call(this),g(this,bt).invalidateSize(),Q(this,ks,new aP({viewRoot:this.viewRoot,glHelper:g(this,bt),getBackground:()=>this.spec.background,broadcast:this.broadcast.bind(this),onLayoutComputed:()=>g(this,Ra).updateLayout()})),t.requestLayoutReflow=this.computeLayout.bind(this),F(this,De,ev).call(this)},ov=function(){const t=h5(this.viewRoot);if(t.length)for(const e of t)console.warn("Selector constraints warning:",e.message)},av=function(t){t.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(e=>Uc(e,"size")),g(this,bt).invalidateSize(),Q(this,Fs,new sP({viewRoot:this.viewRoot,glHelper:g(this,bt),tooltip:this.tooltip,animator:this.animator,emitEvent:g(this,Rs).emit.bind(g(this,Rs)),tooltipHandlers:this.tooltipHandlers,renderPickingFramebuffer:this.renderPickingFramebuffer.bind(this),getDevicePixelRatio:()=>this.dpr}))};async function fP(n,t,e={}){let i;if(Ce(n)){if(i=document.querySelector(n),!i)throw new Error(`No such element: ${n}`)}else if(n instanceof HTMLElement)i=n;else throw new Error(`Invalid element: ${n}`);let r;try{const s=tt(t)?t:await hP(t);if(s.baseUrl??(s.baseUrl=""),s.width??(s.width="container"),s.padding??(s.padding=10),i==document.body){const o=document.createElement("div");o.style.position="fixed",o.style.inset="0",o.style.overflow="hidden",i.appendChild(o),i=o}r=new uP(i,s,e),AP(r,e),await r.launch()}catch(s){i.innerText=s.toString(),console.error(s)}return{finalize(){for(r.destroy();i.firstChild;)i.firstChild.remove()},addEventListener(s,o){r.addEventListener(s,o)},removeEventListener(s,o){r.removeEventListener(s,o)},getScaleResolutionByName(s){return r.getNamedScaleResolutions().get(s)},updateNamedData:r.updateNamedData.bind(r),exportCanvas:r.exportCanvas.bind(r)}}function AP(n,t){t.namedDataProvider&&n.registerNamedDataProvider(t.namedDataProvider)}async function hP(n){let t;try{const e=await fetch(n);if(!e.ok)throw new Error(`${e.status} ${e.statusText}`);t=await e.json()}catch(e){throw new Error(`Could not load or parse configuration: ${n}, reason: ${e.message}`)}if(!t.baseUrl){const e=n.match(/^[^?#]*\//);t.baseUrl=e&&e[0]||"./"}return t}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dP=n=>n.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rl=(n,t)=>{var i;const e=n._$AN;if(e===void 0)return!1;for(const r of e)(i=r._$AO)==null||i.call(r,t,!1),rl(r,t);return!0},mA=n=>{let t,e;do{if((t=n._$AM)===void 0)break;e=t._$AN,e.delete(n),n=t}while((e==null?void 0:e.size)===0)},Jb=n=>{for(let t;t=n._$AM;n=t){let e=t._$AN;if(e===void 0)t._$AN=e=new Set;else if(e.has(n))break;e.add(n),mP(t)}};function gP(n){this._$AN!==void 0?(mA(this),this._$AM=n,Jb(this)):this._$AM=n}function pP(n,t=!1,e=0){const i=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(t)if(Array.isArray(i))for(let s=e;s<i.length;s++)rl(i[s],!1),mA(i[s]);else i!=null&&(rl(i,!1),mA(i));else rl(this,n)}const mP=n=>{n.type==hw.CHILD&&(n._$AP??(n._$AP=pP),n._$AQ??(n._$AQ=gP))};class wP extends gw{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),Jb(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,r;t!==this.isConnected&&(this.isConnected=t,t?(i=this.reconnected)==null||i.call(this):(r=this.disconnected)==null||r.call(this)),e&&(rl(this,t),mA(this))}setValue(t){if(dP(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const CP=()=>new yP;class yP{}const fg=new WeakMap,xP=dw(class extends wP{render(n){return Ee}update(n,[t]){var i;const e=t!==this.G;return e&&this.G!==void 0&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.G=t,this.ht=(i=n.options)==null?void 0:i.host,this.rt(this.ct=n.element)),Ee}rt(n){if(this.isConnected||(n=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let e=fg.get(t);e===void 0&&(e=new WeakMap,fg.set(t,e)),e.get(this.G)!==void 0&&this.G.call(this.ht,void 0),e.set(this.G,n),n!==void 0&&this.G.call(this.ht,n)}else this.G.value=n}get lt(){var n,t;return typeof this.G=="function"?(n=fg.get(this.ht??globalThis))==null?void 0:n.get(this.G):(t=this.G)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function qb(){const n=document.querySelector("meta[name='base_url']").getAttribute("content");return n||console.error('No <meta name="base_url" ...> found!'),n}async function bP(n,t){const i=`${qb()}/data/`;try{t.baseUrl=t.baseUrl||i,await fP(n,t,{bare:!0})}catch(r){const s=document.createElement("pre");s.innerText=r.toString(),n.appendChild(s)}}class Kb extends ja{static get styles(){return Rv`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=CP()}render(){return pe`
            <link rel="stylesheet" href=${qb()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${rf({height:this.height+"px"})}
                ${xP(this.embedRef)}
            ></div>
            ${this.specHidden?pe`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${t=>{this.specHidden=!1,t.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:Ee}

            <div
                class="embed-spec"
                style=${rf({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var e;const t=(e=this.shadowRoot.querySelector("slot").assignedNodes().filter(i=>i instanceof HTMLElement)[0])==null?void 0:e.textContent;if(t){const i=new IntersectionObserver(r=>{r.forEach(s=>{if(s.isIntersecting){const o=s.target;bP(o,JSON.parse(t)),i.unobserve(o)}})});setTimeout(()=>i.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",Kb);class IP{constructor(t){this.blob=t}async read(t,e=0){if(!t)return new Uint8Array(0);const i=e,r=i+t,s=this.blob.slice(i,r);return s.bytes?s.bytes():new Uint8Array(await s.arrayBuffer())}async readFile(t){const e=typeof t=="string"?t:t==null?void 0:t.encoding;if(e==="utf8")return this.blob.text();if(e)throw new Error(`unsupported encoding: ${e}`);return this.blob.bytes?this.blob.bytes():new Uint8Array(await this.blob.arrayBuffer())}async stat(){return{size:this.blob.size}}async close(){}}function EP(n){return(typeof n=="object"&&n!==null&&"message"in n?n.message:`${n}`).replace(/\.$/,"")}class vn{constructor(t,e={}){this.baseOverrides={},this.url=t;const i=e.fetch||globalThis.fetch.bind(globalThis);e.overrides&&(this.baseOverrides=e.overrides),this.fetchImplementation=i}async fetch(t,e){const i=s=>new Error(`${EP(s)} fetching ${t}`,{cause:s});let r;try{r=await this.fetchImplementation(t,e)}catch(s){if(`${s}`.includes("Failed to fetch")){console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`);try{r=await this.fetchImplementation(t,{...e,cache:"reload"})}catch(o){throw i(o)}}else throw i(s)}return r}async read(t,e,i={}){if(t===0)return new Uint8Array(0);const{headers:r={},signal:s,overrides:o={}}=i;t<1/0?r.range=`bytes=${e}-${e+t-1}`:t===1/0&&e!==0&&(r.range=`bytes=${e}-`);const a=await this.fetch(this.url,{...this.baseOverrides,...o,headers:{...this.baseOverrides.headers,...o.headers,...r},method:"GET",redirect:"follow",mode:"cors",signal:s});if(!a.ok)throw new Error(`HTTP ${a.status} fetching ${this.url}`);if(a.status===200&&e===0||a.status===206){const l=a.headers.get("content-range"),c=/\/(\d+)$/.exec(l||"");c!=null&&c[1]&&(this._stat={size:parseInt(c[1],10)});const u=a.bytes?await a.bytes():new Uint8Array(await a.arrayBuffer());return u.byteLength<=t?u:u.subarray(0,t)}throw new Error(a.status===200?`${this.url} fetch returned status 200, expected 206`:`HTTP ${a.status} fetching ${this.url}`)}async readFile(t={}){let e,i;if(typeof t=="string")e=t,i={};else{e=t.encoding;const{encoding:l,...c}=t;i=c}const{headers:r={},signal:s,overrides:o={}}=i,a=await this.fetch(this.url,{...this.baseOverrides,...o,headers:{...this.baseOverrides.headers,...o.headers,...r},method:"GET",redirect:"follow",mode:"cors",signal:s});if(!a.ok)throw new Error(`HTTP ${a.status} fetching ${this.url}`);if(e==="utf8")return a.text();if(e)throw new Error(`unsupported encoding: ${e}`);return a.bytes?a.bytes():new Uint8Array(await a.arrayBuffer())}async stat(){if(!this._stat&&(await this.read(10,0),!this._stat))throw new Error(`unable to determine size of file at ${this.url}`);return this._stat}async close(){}}class ft{readFile(){throw new Error("unimplemented")}read(){throw new Error("unimplemented")}close(){throw new Error("unimplemented")}}const sl=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:IP,LocalFile:ft,RemoteFile:vn},Symbol.toStringTag,{value:"Module"})),jb=65536,BP=jb*jb;function Ag(n,t=0){const e=n[t]|n[t+1]<<8|n[t+2]<<16|n[t+3]<<24;return((n[t+4]|n[t+5]<<8|n[t+6]<<16|n[t+7]<<24)>>>0)*BP+(e>>>0)}const wA=1;function Wb(n,t,e){const i=t[wA],r=e?e[wA]:1/0;return i<=n&&r>n?0:i<n?-1:1}class vP{constructor({filehandle:t}){X(this,"filehandle");X(this,"index");this.filehandle=t}_getIndex(){return this.index||(this.index=this._readIndex().catch(t=>{throw this.index=void 0,t})),this.index}async _readIndex(){const t=await this.filehandle.read(8,0),e=Ag(t);if(!e)return[[0,0]];const i=new Array(e+1);i[0]=[0,0];const r=16*e;if(r>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");const s=await this.filehandle.read(r,8);for(let o=0;o<e;o+=1){const a=Ag(s,o*16),l=Ag(s,o*16+8);i[o+1]=[a,l]}return i}async getLastBlock(){return(await this._getIndex()).at(-1)}async getRelevantBlocksForRead(t,e){const i=e+t;if(t===0)return[];const r=await this._getIndex(),s=[];let o=0,a=r.length-1,l=Math.floor(r.length/2),c=Wb(e,r[l],r[l+1]);for(;c!==0;)c>0?a=l-1:c<0&&(o=l+1),l=Math.ceil((a-o)/2)+o,c=Wb(e,r[l],r[l+1]);s.push(r[l]);let u=l+1;for(;u<r.length&&(s.push(r[u]),!(r[u][wA]>=i));u+=1);return s[s.length-1][wA]<i&&s.push([]),s}}var Xb=0,hg=2,CA=4,_r=0,yA=1,SP=2,QP=-5;function DP(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function kP(n){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var i in e)DP(e,i)&&(n[i]=e[i])}}return n}function Zb(n,t){return n.length===t?n:n.subarray?n.subarray(0,t):(n.length=t,n)}var ol={arraySet:function(n,t,e,i,r){if(t.subarray&&n.subarray){n.set(t.subarray(e,e+i),r);return}for(var s=0;s<i;s++)n[r+s]=t[e+s]},flattenChunks:function(n){var t,e,i,r,s,o;for(i=0,t=0,e=n.length;t<e;t++)i+=n[t].length;for(o=new Uint8Array(i),r=0,t=0,e=n.length;t<e;t++)s=n[t],o.set(s,r),r+=s.length;return o},Buf8:function(n){return new Uint8Array(n)},Buf16:function(n){return new Uint16Array(n)},Buf32:function(n){return new Int32Array(n)}},al={arraySet:function(n,t,e,i,r){for(var s=0;s<i;s++)n[r+s]=t[e+s]},flattenChunks:function(n){return[].concat.apply([],n)},Buf8:function(n){return new Array(n)},Buf16:function(n){return new Array(n)},Buf32:function(n){return new Array(n)}};let po=()=>{const n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return po=()=>n,n},Li=(n,t,e,i,r)=>(Li=po()?ol.arraySet:al.arraySet,Li(n,t,e,i,r)),dg=n=>(dg=po()?ol.flattenChunks:al.flattenChunks,dg(n)),mo=n=>(mo=po()?ol.Buf8:al.Buf8,mo(n)),wo=n=>(wo=po()?ol.Buf16:al.Buf16,wo(n)),Co=n=>(Co=po()?ol.Buf32:al.Buf32,Co(n)),$b=function(){let n=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}return $b=()=>n,n},eI=function(){let n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}return eI=()=>n,n},gg=function(n){for(var t=mo(256),e=0;e<256;e++)t[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return t[254]=t[254]=1,gg=i=>t[i],t[n]};function tI(n){var t,e,i,r,s,o=n.length,a=0;for(r=0;r<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t}function FP(n,t){if(t<65534&&(n.subarray&&eI()||!n.subarray&&$b()))return String.fromCharCode.apply(null,Zb(n,t));for(var e="",i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e}function RP(n){for(var t=new Uint8Array(n.length),e=0,i=t.length;e<i;e++)t[e]=n.charCodeAt(e);return t}function NP(n,t){var e,i,r,s,o=t||n.length,a=new Array(o*2);for(i=0,e=0;e<o;){if(r=n[e++],r<128){a[i++]=r;continue}if(s=gg(r),s>4){a[i++]=65533,e+=s-1;continue}for(r&=s===2?31:s===3?15:7;s>1&&e<o;)r=r<<6|n[e++]&63,s--;if(s>1){a[i++]=65533;continue}r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|r&1023)}return FP(a,i)}function MP(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+gg(n[e])>t?e:t}function TP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function pg(n,t,e,i){for(var r=n&65535|0,s=n>>>16&65535|0,o=0;e!==0;){o=e>2e3?2e3:e,e-=o;do r=r+t[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0}function PP(){for(var n,t=[],e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t}let nI=function(){const n=PP();return nI=()=>n,n};function Sn(n,t,e,i){var r=nI(),s=i+e;n^=-1;for(var o=i;o<s;o++)n=n>>>8^r[(n^t[o])&255];return n^-1}var xA=30,LP=12;function OP(n,t){var e,i,r,s,o,a,l,c,u,f,h,A,d,p,w,m,y,x,C,E,B,b,D,R,k;e=n.state,i=n.next_in,R=n.input,r=i+(n.avail_in-5),s=n.next_out,k=n.output,o=s-(t-n.avail_out),a=s+(n.avail_out-257),l=e.dmax,c=e.wsize,u=e.whave,f=e.wnext,h=e.window,A=e.hold,d=e.bits,p=e.lencode,w=e.distcode,m=(1<<e.lenbits)-1,y=(1<<e.distbits)-1;e:do{d<15&&(A+=R[i++]<<d,d+=8,A+=R[i++]<<d,d+=8),x=p[A&m];t:for(;;){if(C=x>>>24,A>>>=C,d-=C,C=x>>>16&255,C===0)k[s++]=x&65535;else if(C&16){E=x&65535,C&=15,C&&(d<C&&(A+=R[i++]<<d,d+=8),E+=A&(1<<C)-1,A>>>=C,d-=C),d<15&&(A+=R[i++]<<d,d+=8,A+=R[i++]<<d,d+=8),x=w[A&y];n:for(;;){if(C=x>>>24,A>>>=C,d-=C,C=x>>>16&255,C&16){if(B=x&65535,C&=15,d<C&&(A+=R[i++]<<d,d+=8,d<C&&(A+=R[i++]<<d,d+=8)),B+=A&(1<<C)-1,B>l){n.msg="invalid distance too far back",e.mode=xA;break e}if(A>>>=C,d-=C,C=s-o,B>C){if(C=B-C,C>u&&e.sane){n.msg="invalid distance too far back",e.mode=xA;break e}if(b=0,D=h,f===0){if(b+=c-C,C<E){E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}}else if(f<C){if(b+=c+f-C,C-=f,C<E){E-=C;do k[s++]=h[b++];while(--C);if(b=0,f<E){C=f,E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}}}else if(b+=f-C,C<E){E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}for(;E>2;)k[s++]=D[b++],k[s++]=D[b++],k[s++]=D[b++],E-=3;E&&(k[s++]=D[b++],E>1&&(k[s++]=D[b++]))}else{b=s-B;do k[s++]=k[b++],k[s++]=k[b++],k[s++]=k[b++],E-=3;while(E>2);E&&(k[s++]=k[b++],E>1&&(k[s++]=k[b++]))}}else if((C&64)===0){x=w[(x&65535)+(A&(1<<C)-1)];continue n}else{n.msg="invalid distance code",e.mode=xA;break e}break}}else if((C&64)===0){x=p[(x&65535)+(A&(1<<C)-1)];continue t}else if(C&32){e.mode=LP;break e}else{n.msg="invalid literal/length code",e.mode=xA;break e}break}}while(i<r&&s<a);E=d>>3,i-=E,d-=E<<3,A&=(1<<d)-1,n.next_in=i,n.next_out=s,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=s<a?257+(a-s):257-(s-a),e.hold=A,e.bits=d}var yo=15,iI=852,rI=592,sI=0,mg=1,oI=2,UP=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],GP=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],zP=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],HP=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function cl(n,t,e,i,r,s,o,a){var l=a.bits,c=0,u=0,f=0,h=0,A=0,d=0,p=0,w=0,m=0,y=0,x,C,E,B,b,D=null,R=0,k,P=wo(yo+1),T=wo(yo+1),O=null,z=0,J,_,q;for(c=0;c<=yo;c++)P[c]=0;for(u=0;u<i;u++)P[t[e+u]]++;for(A=l,h=yo;h>=1&&P[h]===0;h--);if(A>h&&(A=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<h&&P[f]===0;f++);for(A<f&&(A=f),w=1,c=1;c<=yo;c++)if(w<<=1,w-=P[c],w<0)return-1;if(w>0&&(n===sI||h!==1))return-1;for(T[1]=0,c=1;c<yo;c++)T[c+1]=T[c]+P[c];for(u=0;u<i;u++)t[e+u]!==0&&(o[T[t[e+u]]++]=u);if(n===sI?(D=O=o,k=19):n===mg?(D=UP,R-=257,O=GP,z-=257,k=256):(D=zP,O=HP,k=-1),y=0,u=0,c=f,b=s,d=A,p=0,E=-1,m=1<<A,B=m-1,n===mg&&m>iI||n===oI&&m>rI)return 1;for(;;){J=c-p,o[u]<k?(_=0,q=o[u]):o[u]>k?(_=O[z+o[u]],q=D[R+o[u]]):(_=96,q=0),x=1<<c-p,C=1<<d,f=C;do C-=x,r[b+(y>>p)+C]=J<<24|_<<16|q|0;while(C!==0);for(x=1<<c-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,u++,--P[c]===0){if(c===h)break;c=t[e+o[u]]}if(c>A&&(y&B)!==E){for(p===0&&(p=A),b+=f,d=c-p,w=1<<d;d+p<h&&(w-=P[d+p],!(w<=0));)d++,w<<=1;if(m+=1<<d,n===mg&&m>iI||n===oI&&m>rI)return 1;E=y&B,r[E]=A<<24|d<<16|b-s|0}}return y!==0&&(r[b+y]=c-p<<24|64<<16|0),a.bits=A,0}var _P=0,aI=1,cI=2,lI=4,Vr=0,VP=1,YP=2,_t=-2,uI=-3,fI=-4,JP=-5,AI=8,hI=1,dI=2,gI=3,pI=4,mI=5,wI=6,CI=7,yI=8,xI=9,bI=10,bA=11,Kn=12,wg=13,II=14,Cg=15,EI=16,BI=17,vI=18,SI=19,IA=20,EA=21,QI=22,DI=23,kI=24,FI=25,RI=26,yg=27,NI=28,MI=29,Se=30,TI=31,qP=32,KP=852,jP=592;function PI(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function WP(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=wo(320),this.work=wo(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function XP(n){var t;return!n||!n.state?_t:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=hI,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=Co(KP),t.distcode=t.distdyn=Co(jP),t.sane=1,t.back=-1,Vr)}function ZP(n){var t;return!n||!n.state?_t:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,XP(n))}function $P(n,t){var e,i;return!n||!n.state||(i=n.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?_t:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,ZP(n))}function eL(n,t){var e,i;return n?(i=new WP,n.state=i,i.window=null,e=$P(n,t),e!==Vr&&(n.state=null),e):_t}var LI=!0,xg,bg;function tL(n){if(LI){var t;for(xg=Co(512),bg=Co(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(cl(aI,n.lens,0,288,xg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;cl(cI,n.lens,0,32,bg,0,n.work,{bits:5}),LI=!1}n.lencode=xg,n.lenbits=9,n.distcode=bg,n.distbits=5}function OI(n,t,e,i){var r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=mo(s.wsize)),i>=s.wsize?(Li(s.window,t,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),Li(s.window,t,e-i,r,s.wnext),i-=r,i?(Li(s.window,t,e-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function nL(n,t){var e,i,r,s,o,a,l,c,u,f,h,A,d,p,w=0,m,y,x,C,E,B,b,D,R=mo(4),k,P,T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return _t;e=n.state,e.mode===Kn&&(e.mode=wg),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,f=a,h=l,D=Vr;e:for(;;)switch(e.mode){case hI:if(e.wrap===0){e.mode=wg;break}for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.check=0,R[0]=c&255,R[1]=c>>>8&255,e.check=Sn(e.check,R,2,0),c=0,u=0,e.mode=dI;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",e.mode=Se;break}if((c&15)!==AI){n.msg="unknown compression method",e.mode=Se;break}if(c>>>=4,u-=4,b=(c&15)+8,e.wbits===0)e.wbits=b;else if(b>e.wbits){n.msg="invalid window size",e.mode=Se;break}e.dmax=1<<b,n.adler=e.check=1,e.mode=c&512?bI:Kn,c=0,u=0;break;case dI:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==AI){n.msg="unknown compression method",e.mode=Se;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Se;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Sn(e.check,R,2,0)),c=0,u=0,e.mode=gI;case gI:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,e.check=Sn(e.check,R,4,0)),c=0,u=0,e.mode=pI;case pI:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Sn(e.check,R,2,0)),c=0,u=0,e.mode=mI;case mI:if(e.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Sn(e.check,R,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=wI;case wI:if(e.flags&1024&&(A=e.length,A>a&&(A=a),A&&(e.head&&(b=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Li(e.head.extra,i,s,A,b)),e.flags&512&&(e.check=Sn(e.check,i,A,s)),a-=A,s+=A,e.length-=A),e.length))break e;e.length=0,e.mode=CI;case CI:if(e.flags&2048){if(a===0)break e;A=0;do b=i[s+A++],e.head&&b&&e.length<65536&&(e.head.name+=String.fromCharCode(b));while(b&&A<a);if(e.flags&512&&(e.check=Sn(e.check,i,A,s)),a-=A,s+=A,b)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=yI;case yI:if(e.flags&4096){if(a===0)break e;A=0;do b=i[s+A++],e.head&&b&&e.length<65536&&(e.head.comment+=String.fromCharCode(b));while(b&&A<a);if(e.flags&512&&(e.check=Sn(e.check,i,A,s)),a-=A,s+=A,b)break e}else e.head&&(e.head.comment=null);e.mode=xI;case xI:if(e.flags&512){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Se;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Kn;break;case bI:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}n.adler=e.check=PI(c),c=0,u=0,e.mode=bA;case bA:if(e.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,YP;n.adler=e.check=1,e.mode=Kn;case Kn:case wg:if(e.last){c>>>=u&7,u-=u&7,e.mode=yg;break}for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=II;break;case 1:tL(e),e.mode=IA;break;case 2:e.mode=BI;break;case 3:n.msg="invalid block type",e.mode=Se}c>>>=2,u-=2;break;case II:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Se;break}e.length=c&65535,c=0,u=0,e.mode=Cg;case Cg:e.mode=EI;case EI:if(A=e.length,A){if(A>a&&(A=a),A>l&&(A=l),A===0)break e;Li(r,i,s,A,o),a-=A,s+=A,l-=A,o+=A,e.length-=A;break}e.mode=Kn;break;case BI:for(;u<14;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Se;break}e.have=0,e.mode=vI;case vI:for(;e.have<e.ncode;){for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.lens[T[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[T[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,k={bits:e.lenbits},D=cl(_P,e.lens,0,19,e.lencode,0,e.work,k),e.lenbits=k.bits,D){n.msg="invalid code lengths set",e.mode=Se;break}e.have=0,e.mode=SI;case SI:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[c&(1<<e.lenbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(x<16)c>>>=m,u-=m,e.lens[e.have++]=x;else{if(x===16){for(P=m+2;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c>>>=m,u-=m,e.have===0){n.msg="invalid bit length repeat",e.mode=Se;break}b=e.lens[e.have-1],A=3+(c&3),c>>>=2,u-=2}else if(x===17){for(P=m+3;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,b=0,A=3+(c&7),c>>>=3,u-=3}else{for(P=m+7;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,b=0,A=11+(c&127),c>>>=7,u-=7}if(e.have+A>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Se;break}for(;A--;)e.lens[e.have++]=b}}if(e.mode===Se)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Se;break}if(e.lenbits=9,k={bits:e.lenbits},D=cl(aI,e.lens,0,e.nlen,e.lencode,0,e.work,k),e.lenbits=k.bits,D){n.msg="invalid literal/lengths set",e.mode=Se;break}if(e.distbits=6,e.distcode=e.distdyn,k={bits:e.distbits},D=cl(cI,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,k),e.distbits=k.bits,D){n.msg="invalid distances set",e.mode=Se;break}e.mode=IA;case IA:e.mode=EA;case EA:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,OP(n,h),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,e.mode===Kn&&(e.back=-1);break}for(e.back=0;w=e.lencode[c&(1<<e.lenbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(y&&(y&240)===0){for(C=m,E=y,B=x;w=e.lencode[B+((c&(1<<C+E)-1)>>C)],m=w>>>24,y=w>>>16&255,x=w&65535,!(C+m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=C,u-=C,e.back+=C}if(c>>>=m,u-=m,e.back+=m,e.length=x,y===0){e.mode=RI;break}if(y&32){e.back=-1,e.mode=Kn;break}if(y&64){n.msg="invalid literal/length code",e.mode=Se;break}e.extra=y&15,e.mode=QI;case QI:if(e.extra){for(P=e.extra;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=DI;case DI:for(;w=e.distcode[c&(1<<e.distbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if((y&240)===0){for(C=m,E=y,B=x;w=e.distcode[B+((c&(1<<C+E)-1)>>C)],m=w>>>24,y=w>>>16&255,x=w&65535,!(C+m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=C,u-=C,e.back+=C}if(c>>>=m,u-=m,e.back+=m,y&64){n.msg="invalid distance code",e.mode=Se;break}e.offset=x,e.extra=y&15,e.mode=kI;case kI:if(e.extra){for(P=e.extra;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Se;break}e.mode=FI;case FI:if(l===0)break e;if(A=h-l,e.offset>A){if(A=e.offset-A,A>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Se;break}A>e.wnext?(A-=e.wnext,d=e.wsize-A):d=e.wnext-A,A>e.length&&(A=e.length),p=e.window}else p=r,d=o-e.offset,A=e.length;A>l&&(A=l),l-=A,e.length-=A;do r[o++]=p[d++];while(--A);e.length===0&&(e.mode=EA);break;case RI:if(l===0)break e;r[o++]=e.length,l--,e.mode=EA;break;case yg:if(e.wrap){for(;u<32;){if(a===0)break e;a--,c|=i[s++]<<u,u+=8}if(h-=l,n.total_out+=h,e.total+=h,h&&(n.adler=e.check=e.flags?Sn(e.check,r,h,o-h):pg(e.check,r,h,o-h)),h=l,(e.flags?c:PI(c))!==e.check){n.msg="incorrect data check",e.mode=Se;break}c=0,u=0}e.mode=NI;case NI:if(e.wrap&&e.flags){for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Se;break}c=0,u=0}e.mode=MI;case MI:D=VP;break e;case Se:D=uI;break e;case TI:return fI;case qP:default:return _t}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,(e.wsize||h!==n.avail_out&&e.mode<Se&&(e.mode<yg||t!==lI))&&OI(n,n.output,n.next_out,h-n.avail_out),f-=n.avail_in,h-=n.avail_out,n.total_in+=f,n.total_out+=h,e.total+=h,e.wrap&&h&&(n.adler=e.check=e.flags?Sn(e.check,r,h,n.next_out-h):pg(e.check,r,h,n.next_out-h)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Kn?128:0)+(e.mode===IA||e.mode===Cg?256:0),(f===0&&h===0||t===lI)&&D===Vr&&(D=JP),D}function iL(n){if(!n||!n.state)return _t;var t=n.state;return t.window&&(t.window=null),n.state=null,Vr}function rL(n,t){var e;return!n||!n.state||(e=n.state,(e.wrap&2)===0)?_t:(e.head=t,t.done=!1,Vr)}function UI(n,t){var e=t.length,i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==bA)?_t:i.mode===bA&&(r=1,r=pg(r,t,e,0),r!==i.check)?uI:(s=OI(n,t,e,e),s?(i.mode=TI,fI):(i.havedict=1,Vr))}const Ig={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function sL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Eg=Object.prototype.toString;let GI=class Wp{constructor(t){if(!(this instanceof Wp))return new Wp(t);this.options=kP({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sL,this.strm.avail_out=0;var i=eL(this.strm,e.windowBits);if(i!==_r)throw new Error(Ig[i]);if(this.header=new TP,rL(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=tI(e.dictionary):Eg.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=UI(this.strm,e.dictionary),i!==_r)))throw new Error(Ig[i])}push(t,e){var i=this.strm,r=this.options.chunkSize,s=this.options.dictionary,o,a,l,c,u,f,h=!1;if(this.ended)return!1;a=e===~~e?e:e===!0?CA:Xb,typeof t=="string"?i.input=RP(t):Eg.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=mo(r),i.next_out=0,i.avail_out=r),o=nL(i,Xb),o===SP&&s&&(typeof s=="string"?f=tI(s):Eg.call(s)==="[object ArrayBuffer]"?f=new Uint8Array(s):f=s,o=UI(this.strm,f)),o===QP&&h===!0&&(o=_r,h=!1),o!==yA&&o!==_r)return this.onEnd(o),this.ended=!0,!1;i.next_out&&(i.avail_out===0||o===yA||i.avail_in===0&&(a===CA||a===hg))&&(this.options.to==="string"?(l=MP(i.output,i.next_out),c=i.next_out-l,u=NP(i.output,l),i.next_out=c,i.avail_out=r-c,c&&Li(i.output,i.output,l,c,0),this.onData(u)):this.onData(Zb(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(h=!0)}while((i.avail_in>0||i.avail_out===0)&&o!==yA);return o===yA&&(a=CA),a===CA?(o=iL(this.strm),this.onEnd(o),this.ended=!0,o===_r):(a===hg&&(this.onEnd(_r),i.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===_r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dg(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}};function oL(n,t){var e=new GI(t);if(e.push(n,!0),e.err)throw e.msg||Ig[e.err];return e.result}function aL(n,t){return t=t||{},t.raw=!0,oL(n,t)}function cL(n){let t=0;for(const e of n)t+=e.length;return t}function zI(n,t){const e=new Uint8Array(t??cL(n));let i=0;for(const r of n)e.set(r,i),i+=r.length;return e}async function lL(n){try{let t,e=0,i;const r=[];let s=0;do{const o=n.subarray(e);if(i=new GI(void 0),{strm:t}=i,i.push(o,hg),i.err)throw new Error(i.msg);e+=t.next_in;const a=i.result;r.push(a),s+=a.length}while(t.avail_in);return zI(r,s)}catch(t){throw/incorrect header check/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}class HI{constructor({filehandle:t,gziFilehandle:e}){X(this,"filehandle");X(this,"gzi");this.filehandle=t,this.gzi=new vP({filehandle:e})}async _readAndUncompressBlock(t,e){let i=e;i||(i=(await this.filehandle.stat()).size);const r=i-t,s=await this.filehandle.read(r,t);return lL(s)}async read(t,e){const i=await this.gzi.getRelevantBlocksForRead(t,e),r=[];for(let s=0;s<i.length-1;s+=1){const o=await this._readAndUncompressBlock(i[s][0],i[s+1][0]),[,a]=i[s],l=a>=e?0:e-a,c=Math.min(e+t,a+o.length)-a;l>=0&&l<o.length&&r.push(o.subarray(l,c))}return zI(r)}}function _I(n,t){return n.offset+n.lineBytes*Math.floor(t/n.lineLength)+t%n.lineLength}async function uL(n,t={}){const e=new TextDecoder("utf8");return Object.fromEntries(e.decode(await n.readFile(t)).split(/\r?\n/).map(i=>i.trim()).filter(i=>!!i).map(i=>i.split("	")).map(i=>{var r;if((r=i[0])!=null&&r.startsWith(">"))throw new Error("found > in sequence name, might have supplied FASTA file for the FASTA index");return[i[0],{name:i[0],length:+i[1],start:0,end:+i[1],offset:+i[2],lineLength:+i[3],lineBytes:+i[4]}]}))}class VI{constructor({fasta:t,fai:e,path:i,faiPath:r}){if(t)this.fasta=t;else if(i)this.fasta=new ft(i);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(e)this.fai=e;else if(r)this.fai=new ft(r);else if(i)this.fai=new ft(`${i}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile")}async _getIndexes(t){return this.indexes||(this.indexes=uL(this.fai,t).catch(e=>{throw this.indexes=void 0,e})),this.indexes}async getSequenceNames(t){return Object.keys(await this._getIndexes(t))}async getSequenceSizes(t){const e={},i=await this._getIndexes(t);for(const r of Object.values(i))e[r.name]=r.length;return e}async getSequenceSize(t,e){var r;return(r=(await this._getIndexes(e))[t])==null?void 0:r.length}async hasReferenceSequence(t,e){return!!(await this._getIndexes(e))[t]}async getResiduesByName(t,e,i,r){const s=(await this._getIndexes(r))[t];return s?this._fetchFromIndexEntry(s,e,i,r):void 0}async getSequence(t,e,i,r){return this.getResiduesByName(t,e,i,r)}async _fetchFromIndexEntry(t,e=0,i,r){let s=i;if(e<0)throw new TypeError("regionStart cannot be less than 0");if((s===void 0||s>t.length)&&(s=t.length),e>=s)return"";const o=_I(t,e),a=_I(t,s)-o,c=new TextDecoder("utf8").decode(await this.fasta.read(a,o,r)).replace(/\s+/g,"");if(/[^\x20-\x7e]/.test(c.slice(0,1e3)))throw new Error("Non-ASCII characters detected in sequence. The file may be gzip compressed. Use BgzipIndexedFasta for bgzip files, or decompress the file.");return c}}class fL extends VI{constructor({fasta:t,path:e,fai:i,faiPath:r,gzi:s,gziPath:o}){super({fasta:t,path:e,fai:i,faiPath:r}),t&&s?this.fasta=new HI({filehandle:t,gziFilehandle:s}):e&&o&&(this.fasta=new HI({filehandle:new ft(e),gziFilehandle:new ft(o)}))}}function YI(n){return n.split(">").filter(t=>/\S/.test(t)).map(t=>{const[e,...i]=t.split(`
`),[r,...s]=e.split(" "),o=i.join("").replace(/\s/g,"");return{id:r,description:s.join(" "),sequence:o}})}class AL{constructor({fasta:t,path:e}){if(t)this.fasta=t;else if(e)this.fasta=new ft(e);else throw new Error("Need to pass fasta or path");this.data=this.fasta.readFile().then(i=>{const s=new TextDecoder("utf8").decode(i);return YI(s)})}async fetch(t,e,i){const s=(await this.data).find(a=>a.id===t),o=i-e;if(!s)throw new Error(`no sequence with id ${t} exists`);return s.sequence.slice(e,o)}async getSequenceNames(){return(await this.data).map(e=>e.id)}}const hL=Object.freeze(Object.defineProperty({__proto__:null,BgzipIndexedFasta:fL,FetchableSmallFasta:AL,IndexedFasta:VI,parseSmallFasta:YI},Symbol.toStringTag,{value:"Module"})),JI=BigInt(32);function dL(n,t,e){const i=+!!e,r=+!e;return BigInt(n.getInt32(t,e)*r+n.getInt32(t+4,e)*i)<<JI|BigInt(n.getUint32(t,e)*i+n.getUint32(t+4,e)*r)}function gL(n,t,e){const i=n.getUint32(t,e),r=n.getUint32(t+4,e),s=+!!e,o=+!e;return BigInt(i*o+r*s)<<JI|BigInt(i*s+r*o)}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(n,t){return dL(this,n,t)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(n,t){return gL(this,n,t)});var Bg=function(n,t){return Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},Bg(n,t)};function vg(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Bg(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function pL(n,t,e,i){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function qI(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ll(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sg(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s}function Qg(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))}function xo(n){return this instanceof xo?(this.v=n,this):new xo(n)}function mL(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(A){return function(d){return Promise.resolve(d).then(A,f)}}function a(A,d){i[A]&&(r[A]=function(p){return new Promise(function(w,m){s.push([A,p,w,m])>1||l(A,p)})},d&&(r[A]=d(r[A])))}function l(A,d){try{c(i[A](d))}catch(p){h(s[0][3],p)}}function c(A){A.value instanceof xo?Promise.resolve(A.value.v).then(u,f):h(s[0][2],A)}function u(A){l("next",A)}function f(A){l("throw",A)}function h(A,d){A(d),s.shift(),s.length&&l(s[0][0],s[0][1])}}function wL(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof ll=="function"?ll(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}typeof SuppressedError=="function"&&SuppressedError;function _e(n){return typeof n=="function"}function KI(n){var t=function(i){Error.call(i),i.stack=new Error().stack},e=n(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Dg=KI(function(n){return function(e){n(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function jI(n,t){if(n){var e=n.indexOf(t);0<=e&&n.splice(e,1)}}var kg=(function(){function n(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var t,e,i,r,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ll(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(_e(u))try{u()}catch(p){s=p instanceof Dg?p.errors:[p]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=ll(f),A=h.next();!A.done;A=h.next()){var d=A.value;try{XI(d)}catch(p){s=s??[],p instanceof Dg?s=Qg(Qg([],Sg(s)),Sg(p.errors)):s.push(p)}}}catch(p){i={error:p}}finally{try{A&&!A.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}}if(s)throw new Dg(s)}},n.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)XI(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},n.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},n.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},n.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&jI(e,t)},n.prototype.remove=function(t){var e=this._finalizers;e&&jI(e,t),t instanceof n&&t._removeParent(this)},n.EMPTY=(function(){var t=new n;return t.closed=!0,t})(),n})();kg.EMPTY;function WI(n){return n instanceof kg||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function XI(n){_e(n)?n():n.unsubscribe()}var CL={Promise:void 0},yL={setTimeout:function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return setTimeout.apply(void 0,Qg([n,t],Sg(e)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function ZI(n){yL.setTimeout(function(){throw n})}function $I(){}function xL(n){n()}var Fg=(function(n){vg(t,n);function t(e){var i=n.call(this)||this;return i.isStopped=!1,e?(i.destination=e,WI(e)&&e.add(i)):i.destination=EL,i}return t.create=function(e,i,r){return new BA(e,i,r)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(kg),bL=(function(){function n(t){this.partialObserver=t}return n.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(i){vA(i)}},n.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(i){vA(i)}else vA(t)},n.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){vA(e)}},n})(),BA=(function(n){vg(t,n);function t(e,i,r){var s=n.call(this)||this,o;return _e(e)||!e?o={next:e??void 0,error:i??void 0,complete:r??void 0}:o=e,s.destination=new bL(o),s}return t})(Fg);function vA(n){ZI(n)}function IL(n){throw n}var EL={closed:!0,next:$I,error:IL,complete:$I},Rg=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function eE(n){return n}function BL(n){return n.length===0?eE:n.length===1?n[0]:function(e){return n.reduce(function(i,r){return r(i)},e)}}var Vt=(function(){function n(t){t&&(this._subscribe=t)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(t,e,i){var r=this,s=SL(t)?t:new BA(t,e,i);return xL(function(){var o=r,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?r._subscribe(s):r._trySubscribe(s))}),s},n.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},n.prototype.forEach=function(t,e){var i=this;return e=tE(e),new e(function(r,s){var o=new BA({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});i.subscribe(o)})},n.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},n.prototype[Rg]=function(){return this},n.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return BL(t)(this)},n.prototype.toPromise=function(t){var e=this;return t=tE(t),new t(function(i,r){var s;e.subscribe(function(o){return s=o},function(o){return r(o)},function(){return i(s)})})},n.create=function(t){return new n(t)},n})();function tE(n){var t;return(t=n??CL.Promise)!==null&&t!==void 0?t:Promise}function vL(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function SL(n){return n&&n instanceof Fg||vL(n)&&WI(n)}function QL(n){return _e(n==null?void 0:n.lift)}function bo(n){return function(t){if(QL(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ul(n,t,e,i,r){return new DL(n,t,e,i,r)}var DL=(function(n){vg(t,n);function t(e,i,r,s,o,a){var l=n.call(this,e)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=i?function(c){try{i(c)}catch(u){e.error(u)}}:n.prototype._next,l._error=s?function(c){try{s(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:n.prototype._error,l._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:n.prototype._complete,l}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;n.prototype.unsubscribe.call(this),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t})(Fg),kL=new Vt(function(n){return n.complete()});function FL(n){return n&&_e(n.schedule)}function nE(n){return n[n.length-1]}function RL(n){return FL(nE(n))?n.pop():void 0}function NL(n,t){return typeof nE(n)=="number"?n.pop():t}var iE=(function(n){return n&&typeof n.length=="number"&&typeof n!="function"});function rE(n){return _e(n==null?void 0:n.then)}function sE(n){return _e(n[Rg])}function oE(n){return Symbol.asyncIterator&&_e(n==null?void 0:n[Symbol.asyncIterator])}function aE(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ML(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cE=ML();function lE(n){return _e(n==null?void 0:n[cE])}function uE(n){return mL(this,arguments,function(){var e,i,r,s;return qI(this,function(o){switch(o.label){case 0:e=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,xo(e.read())];case 3:return i=o.sent(),r=i.value,s=i.done,s?[4,xo(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,xo(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function fE(n){return _e(n==null?void 0:n.getReader)}function Io(n){if(n instanceof Vt)return n;if(n!=null){if(sE(n))return TL(n);if(iE(n))return PL(n);if(rE(n))return LL(n);if(oE(n))return AE(n);if(lE(n))return OL(n);if(fE(n))return UL(n)}throw aE(n)}function TL(n){return new Vt(function(t){var e=n[Rg]();if(_e(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PL(n){return new Vt(function(t){for(var e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function LL(n){return new Vt(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,ZI)})}function OL(n){return new Vt(function(t){var e,i;try{for(var r=ll(n),s=r.next();!s.done;s=r.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){e={error:a}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}t.complete()})}function AE(n){return new Vt(function(t){GL(n,t).catch(function(e){return t.error(e)})})}function UL(n){return AE(uE(n))}function GL(n,t){var e,i,r,s;return pL(this,void 0,void 0,function(){var o,a;return qI(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),e=wL(n),l.label=1;case 1:return[4,e.next()];case 2:if(i=l.sent(),!!i.done)return[3,4];if(o=i.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),r={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(s=e.return)?[4,s.call(e)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Yr(n,t,e,i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function hE(n,t){return t===void 0&&(t=0),bo(function(e,i){e.subscribe(ul(i,function(r){return Yr(i,n,function(){return i.next(r)},t)},function(){return Yr(i,n,function(){return i.complete()},t)},function(r){return Yr(i,n,function(){return i.error(r)},t)}))})}function dE(n,t){return t===void 0&&(t=0),bo(function(e,i){i.add(n.schedule(function(){return e.subscribe(i)},t))})}function zL(n,t){return Io(n).pipe(dE(t),hE(t))}function HL(n,t){return Io(n).pipe(dE(t),hE(t))}function _L(n,t){return new Vt(function(e){var i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function VL(n,t){return new Vt(function(e){var i;return Yr(e,t,function(){i=n[cE](),Yr(e,t,function(){var r,s,o;try{r=i.next(),s=r.value,o=r.done}catch(a){e.error(a);return}o?e.complete():e.next(s)},0,!0)}),function(){return _e(i==null?void 0:i.return)&&i.return()}})}function gE(n,t){if(!n)throw new Error("Iterable cannot be null");return new Vt(function(e){Yr(e,t,function(){var i=n[Symbol.asyncIterator]();Yr(e,t,function(){i.next().then(function(r){r.done?e.complete():e.next(r.value)})},0,!0)})})}function YL(n,t){return gE(uE(n),t)}function JL(n,t){if(n!=null){if(sE(n))return zL(n,t);if(iE(n))return _L(n,t);if(rE(n))return HL(n,t);if(oE(n))return gE(n,t);if(lE(n))return VL(n,t);if(fE(n))return YL(n,t)}throw aE(n)}function qL(n,t){return t?JL(n,t):Io(n)}var KL=KI(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function pE(n,t){return new Promise(function(e,i){var r=new BA({next:function(s){e(s),r.unsubscribe()},error:i,complete:function(){i(new KL)}});n.subscribe(r)})}function mE(n,t){return bo(function(e,i){var r=0;e.subscribe(ul(i,function(s){i.next(n.call(t,s,r++))}))})}function jL(n,t,e,i,r,s,o,a){var l=[],c=0,u=0,f=!1,h=function(){f&&!l.length&&!c&&t.complete()},A=function(p){return c<i?d(p):l.push(p)},d=function(p){c++;var w=!1;Io(e(p,u++)).subscribe(ul(t,function(m){t.next(m)},function(){w=!0},void 0,function(){if(w)try{c--;for(var m=function(){var y=l.shift();o||d(y)};l.length&&c<i;)m();h()}catch(y){t.error(y)}}))};return n.subscribe(ul(t,A,function(){f=!0,h()})),function(){}}function wE(n,t,e){return e===void 0&&(e=1/0),_e(t)?wE(function(i,r){return mE(function(s,o){return t(i,s,r,o)})(Io(n(i,r)))},e):(typeof t=="number"&&(e=t),bo(function(i,r){return jL(i,r,n,e)}))}function WL(n){return n===void 0&&(n=1/0),wE(eE,n)}function XL(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=RL(n),i=NL(n,1/0),r=n;return r.length?r.length===1?Io(r[0]):WL(i)(qL(r,e)):kL}function ZL(n,t,e,i,r){return function(s,o){var a=e,l=t,c=0;s.subscribe(ul(o,function(u){var f=c++;l=a?n(l,u,f):(a=!0,u)},(function(){a&&o.next(l),o.complete()})))}}function CE(n,t){return bo(ZL(n,t,arguments.length>=2,!1,!0))}var $L=function(n,t){return n.push(t),n};function eO(){return bo(function(n,t){CE($L,[])(n).subscribe(t)})}class tO{}class nO{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(t=new tO){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}class iO{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),this.currentMessage&&t(this.currentMessage)}callback(t){this.currentMessage=t;for(const e of this.callbacks)e(t)}}class Eo{constructor({fill:t,cache:e}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof e!="object")throw new TypeError("must pass a cache object");if(typeof e.get!="function"||typeof e.set!="function"||typeof e.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=e,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,e){this.cache.get(t)===e&&this.cache.delete(t)}fill(t,e,i,r){const s=new nO,o=new iO;o.addCallback(r);const a={aborter:s,promise:this.fillCallback(e,s.signal,l=>{o.callback(l)}),settled:!1,statusReporter:o,get aborted(){return this.aborter.signal.aborted}};a.aborter.addSignal(i),a.aborter.signal.addEventListener("abort",()=>{a.settled||this.evict(t,a)}),a.promise.then(()=>{a.settled=!0},()=>{a.settled=!0,this.evict(t,a)}).catch(l=>{throw console.error(l),l}),this.cache.set(t,a)}static checkSinglePromise(t,e){function i(){if(e!=null&&e.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(r=>(i(),r),r=>{throw i(),r})}has(t){return this.cache.has(t)}get(t,e,i,r){if(!i&&e instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const s=this.cache.get(t);return s?s.aborted&&!s.settled?(this.evict(t,s),this.get(t,e,i,r)):s.settled?s.promise:(s.aborter.addSignal(i),s.statusReporter.addCallback(r),Eo.checkSinglePromise(s.promise,i)):(this.fill(t,e,i,r),Eo.checkSinglePromise(this.cache.get(t).promise,i))}delete(t){const e=this.cache.get(t);e&&(e.settled||e.aborter.abort(),this.cache.delete(t))}clear(){const t=this.cache.keys();let e=0;for(let i=t.next();!i.done;i=t.next())this.delete(i.value),e+=1;return e}}function rO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ng,yE;function sO(){if(yE)return Ng;yE=1;class n{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,i){this.cache.set(e,i),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const i=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,i),i}}set(e,i){return this.cache.has(e)?this.cache.set(e,i):this._set(e,i),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const i=this.cache.delete(e);return i&&this._size--,this.oldCache.delete(e)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[i]=e;this.cache.has(i)||(yield e)}}get size(){let e=0;for(const i of this.oldCache.keys())this.cache.has(i)||e++;return this._size+e}}return Ng=n,Ng}var oO=sO();const xE=rO(oO);class Bo{constructor(t){X(this,"ranges");this.ranges=t}get min(){return this.ranges[0].min}get max(){return this.ranges.at(-1).max}contains(t){for(const e of this.ranges)if(e.min<=t&&e.max>=t)return!0;return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new Bo([{min:t.min,max:t.max}]))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){const e=[...this.getRanges(),...t.getRanges()].sort((s,o)=>s.min<o.min?-1:s.min>o.min?1:s.max<o.max?-1:o.max>s.max?1:0),i=[];let r=e[0];for(const s of e)s.min>r.max+1?(i.push(r),r=s):s.max>r.max&&(r=new Bo([{min:r.min,max:s.max}]));return i.push(r),i.length===1?i[0]:new Bo(i)}}function aO(n){return aL(n.subarray(2),void 0)}class cO extends Error{constructor(e){super(e);X(this,"code");this.code="ERR_ABORTED"}}function lO(n){n.sort((r,s)=>r.offset-s.offset);const t=[];let e,i;for(const r of n)e&&i&&r.offset-i<=2e3?(e.length=e.length+r.length-i+r.offset,e.blocks.push(r)):t.push(e={blocks:[r],length:r.length,offset:r.offset}),i=e.offset+e.length;return t}function SA(n){if(n&&n.aborted)if(typeof DOMException>"u"){const t=new cO("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}const Mg=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Tg(n,t,e,i){return n<i&&t>=e}class bE{constructor(t,e,i,r,s){X(this,"bbi");X(this,"refsByName");X(this,"cirTreeOffset");X(this,"isCompressed");X(this,"blockType");X(this,"cirTreePromise");X(this,"featureCache",new Eo({cache:new xE({maxSize:1e3}),fill:async({length:t,offset:e},i)=>this.bbi.read(t,e,{signal:i})}));if(this.bbi=t,this.refsByName=e,this.cirTreeOffset=i,this.isCompressed=r,this.blockType=s,!(i>=0))throw new Error("invalid cirTreeOffset!")}async readWigData(t,e,i,r,s){try{const o=this.refsByName[t];o===void 0&&r.complete();const a={chrId:o,start:e,end:i};this.cirTreePromise||(this.cirTreePromise=this.bbi.read(48,this.cirTreeOffset,s));const l=await this.cirTreePromise,u=new DataView(l.buffer).getUint32(4,!0);let f=[],h=0;const A=(m,y,x)=>{try{const E=m.subarray(y),B=new DataView(E.buffer,E.byteOffset,E.length);let b=0;const D=B.getUint8(b);b+=2;const R=B.getUint16(b,!0);if(b+=2,D===1){const k=[];for(let P=0;P<R;P++){const T=B.getUint32(b,!0);b+=4;const O=B.getUint32(b,!0);b+=4;const z=B.getUint32(b,!0);b+=4;const J=B.getUint32(b,!0);b+=4;const _=Number(B.getBigUint64(b,!0));b+=8;const q=Number(B.getBigUint64(b,!0));b+=8,k.push({startChrom:T,startBase:O,endBase:J,endChrom:z,blockOffset:_,blockSize:q,offset:b})}f=f.concat(k.filter(P=>d(P)).map(P=>({offset:P.blockOffset,length:P.blockSize})))}else if(D===0){const k=[];for(let T=0;T<R;T++){const O=B.getUint32(b,!0);b+=4;const z=B.getUint32(b,!0);b+=4;const J=B.getUint32(b,!0);b+=4;const _=B.getUint32(b,!0);b+=4;const q=Number(B.getBigUint64(b,!0));b+=8,k.push({startChrom:O,startBase:z,endChrom:J,endBase:_,blockOffset:q,offset:b})}const P=k.filter(T=>d(T)).map(T=>T.blockOffset);P.length>0&&w(P,x+1)}}catch(C){r.error(C)}},d=m=>{const{startChrom:y,startBase:x,endChrom:C,endBase:E}=m;return(y<o||y===o&&x<=i)&&(C>o||C===o&&E>=e)},p=async(m,y,x)=>{try{const C=y.max-y.min,E=y.min,B=await this.featureCache.get(`${C}_${E}`,{length:C,offset:E},s==null?void 0:s.signal);for(const b of m)y.contains(b)&&(A(B,b-E,x),h-=1,h===0&&this.readFeatures(r,f,{...s,request:a}).catch(D=>{r.error(D)}))}catch(C){r.error(C)}},w=(m,y)=>{try{h+=m.length;const x=4+u*32;let C=new Bo([{min:m[0],max:m[0]+x}]);for(let E=1;E<m.length;E+=1){const B=new Bo([{min:m[E],max:m[E]+x}]);C=C.union(B)}C.getRanges().map(E=>p(m,E,y))}catch(x){r.error(x)}};w([this.cirTreeOffset+48],1);return}catch(o){r.error(o)}}parseSummaryBlock(t,e,i){const r=[];let s=e;const o=new DataView(t.buffer,t.byteOffset,t.length);for(;s<t.byteLength;){const a=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);s+=4;const c=o.getUint32(s,!0);s+=4;const u=o.getUint32(s,!0);s+=4;const f=o.getFloat32(s,!0);s+=4;const h=o.getFloat32(s,!0);s+=4;const A=o.getFloat32(s,!0);s+=4,s+=4,(!i||a===i.chrId&&Tg(l,c,i.start,i.end))&&r.push({start:l,end:c,maxScore:h,minScore:f,summary:!0,score:A/(u||1)})}return r}parseBigBedBlock(t,e,i,r){const s=[];let o=e;const a=t,l=new DataView(a.buffer,a.byteOffset,a.length);for(;o<t.byteLength;){const c=o,u=l.getUint32(o,!0);o+=4;const f=l.getInt32(o,!0);o+=4;const h=l.getInt32(o,!0);o+=4;let A=o;for(;A<t.length&&t[A]!==0;A++);const d=t.subarray(o,A),p=(Mg==null?void 0:Mg.decode(d))??d.toString();o=A+1,s.push({chromId:u,start:f,end:h,rest:p,uniqueId:`bb-${i+c}`})}return r?s.filter(c=>Tg(c.start,c.end,r.start,r.end)):s}parseBigWigBlock(t,e,i){const r=t.subarray(e),s=new DataView(r.buffer,r.byteOffset,r.length);let o=0;o+=4;const a=s.getInt32(o,!0);o+=8;const l=s.getUint32(o,!0);o+=4;const c=s.getUint32(o,!0);o+=4;const u=s.getUint8(o);o+=2;const f=s.getUint16(o,!0);o+=2;const h=new Array(f);switch(u){case 1:{for(let A=0;A<f;A++){const d=s.getInt32(o,!0);o+=4;const p=s.getInt32(o,!0);o+=4;const w=s.getFloat32(o,!0);o+=4,h[A]={start:d,end:p,score:w}}break}case 2:{for(let A=0;A<f;A++){const d=s.getInt32(o,!0);o+=4;const p=s.getFloat32(o,!0);o+=4,h[A]={score:p,start:d,end:d+c}}break}case 3:{for(let A=0;A<f;A++){const d=s.getFloat32(o,!0);o+=4;const p=a+A*l;h[A]={score:d,start:p,end:p+c}}break}}return i?h.filter(A=>Tg(A.start,A.end,i.start,i.end)):h}async readFeatures(t,e,i={}){try{const{blockType:r,isCompressed:s}=this,{signal:o,request:a}=i,l=lO(e);SA(o),await Promise.all(l.map(async c=>{SA(o);const{length:u,offset:f}=c,h=await this.featureCache.get(`${u}_${f}`,c,o);for(const A of c.blocks){SA(o);let d=h.subarray(A.offset-c.offset);switch(s&&(d=aO(d)),SA(o),r){case"summary":{t.next(this.parseSummaryBlock(d,0,a));break}case"bigwig":{t.next(this.parseBigWigBlock(d,0,a));break}case"bigbed":{t.next(this.parseBigBedBlock(d,0,A.offset*256,a));break}default:console.warn(`Don't know what to do with ${r}`)}}})),t.complete()}catch(r){t.error(r)}}}const uO=-2003829722,IE=-2021002517;function vo(n){return new DataView(n.buffer,n.byteOffset,n.length)}class EE{constructor(t){X(this,"bbi");X(this,"headerP");X(this,"renameRefSeqs");const{filehandle:e,renameRefSeqs:i=o=>o,path:r,url:s}=t;if(this.renameRefSeqs=i,e)this.bbi=e;else if(s)this.bbi=new vn(s);else if(r)this.bbi=new ft(r);else throw new Error("no file given")}getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(e=>{throw this.headerP=void 0,e})),this.headerP}async _getHeader(t){const e=await this._getMainHeader(t),i=await this._readChromTree(e,t);return{...e,...i}}async _getMainHeader(t,e=2e3){const i=await this.bbi.read(e,0,t),r=vo(i),s=r.getInt32(0,!0);if(s!==uO&&s!==IE)throw new Error("not a BigWig/BigBed file");let o=0;const a=r.getInt32(o,!0);o+=4;const l=r.getUint16(o,!0);o+=2;const c=r.getUint16(o,!0);o+=2;const u=Number(r.getBigUint64(o,!0));o+=8;const f=Number(r.getBigUint64(o,!0));o+=8;const h=Number(r.getBigUint64(o,!0));o+=8;const A=r.getUint16(o,!0);o+=2;const d=r.getUint16(o,!0);o+=2;const p=Number(r.getBigUint64(o,!0));o+=8;const w=Number(r.getBigUint64(o,!0));o+=8;const m=r.getUint32(o,!0);o+=4;const y=Number(r.getBigUint64(o,!0));o+=8;const x=[];for(let b=0;b<c;b++){const D=r.getUint32(o,!0);o+=4;const R=r.getUint32(o,!0);o+=4;const k=Number(r.getBigUint64(o,!0));o+=8;const P=Number(r.getBigUint64(o,!0));o+=8,x.push({reductionLevel:D,reserved:R,dataOffset:k,indexOffset:P})}const C=a===IE?"bigbed":"bigwig";if(p>e||w>e-40)return this._getMainHeader(t,e*2);let E;if(w){const b=i.subarray(w);let D=0;const R=vo(b),k=Number(R.getBigUint64(D,!0));D+=8;const P=R.getFloat64(D,!0);D+=8;const T=R.getFloat64(D,!0);D+=8;const O=R.getFloat64(D,!0);D+=8;const z=R.getFloat64(D,!0);D+=8,E={scoreMin:P,scoreMax:T,scoreSum:O,scoreSumSquares:z,basesCovered:k}}else throw new Error("no stats");const B=new TextDecoder("utf8");return{zoomLevels:x,magic:a,extHeaderOffset:y,numZoomLevels:c,fieldCount:A,totalSummary:E,definedFieldCount:d,uncompressBufSize:m,asOffset:p,chromTreeOffset:u,totalSummaryOffset:w,unzoomedDataOffset:f,unzoomedIndexOffset:h,fileType:C,version:l,autoSql:p?B.decode(i.subarray(p,i.indexOf(0,p))):""}}async _readChromTree(t,e){const i=[],r={},s=t.chromTreeOffset,o=vo(await this.bbi.read(32,s,e));let a=0;a+=4,a+=4;const l=o.getUint32(a,!0);a+=4;const c=o.getUint32(a,!0);a+=4,a+=8;const u=new TextDecoder("utf8"),f=async h=>{const A=await this.bbi.read(4,h),d=vo(A);let p=0;const w=d.getUint8(p);p+=1,p+=1;const m=d.getUint16(p,!0);if(p+=2,w){const y=await this.bbi.read(m*(l+c),h+p),x=vo(y);p=0;for(let C=0;C<m;C++){const E=u.decode(y.subarray(p,p+l)).replaceAll("\0","");p+=l;const B=x.getUint32(p,!0);p+=4;const b=x.getUint32(p,!0);p+=4,r[this.renameRefSeqs(E)]=B,i[B]={name:E,id:B,length:b}}}else{const y=[],x=vo(await this.bbi.read(m*(l+8),h+p));p=0;for(let C=0;C<m;C++){p+=l;const E=Number(x.getBigUint64(p,!0));p+=8,y.push(f(E))}await Promise.all(y)}};return await f(s+32),{refsByName:r,refsByNumber:i}}async getUnzoomedView(t){const{unzoomedIndexOffset:e,refsByName:i,uncompressBufSize:r,fileType:s}=await this.getHeader(t);return new bE(this.bbi,i,e,r>0,s)}async getFeatureStream(t,e,i,r){await this.getHeader(r);const s=this.renameRefSeqs(t);let o;const{basesPerSpan:a,scale:l}=r||{};return a?o=await this.getView(1/a,r):l?o=await this.getView(l,r):o=await this.getView(1,r),new Vt(c=>{o.readWigData(s,e,i,c,r).catch(u=>{c.error(u)})})}async getFeatures(t,e,i,r){const s=await this.getFeatureStream(t,e,i,r);return(await pE(s.pipe(eO()))).flat()}}class fO extends EE{async getView(t,e){const{zoomLevels:i,refsByName:r,uncompressBufSize:s}=await this.getHeader(e),o=1/t,a=i.length-1;for(let l=a;l>=0;l-=1){const c=i[l];if(c&&c.reductionLevel<=2*o)return new bE(this.bbi,r,c.indexOffset,s>0,"summary")}return this.getUnzoomedView(e)}}function AO(n){return n.filter(t=>!!t)}class hO extends EE{constructor(){super(...arguments);X(this,"readIndicesCache",new Eo({cache:new xE({maxSize:1}),fill:(e,i)=>this._readIndices({...e,signal:i})}))}readIndices(e={}){const{signal:i,...r}=e;return this.readIndicesCache.get(JSON.stringify(r),e,i)}async getView(e,i){return this.getUnzoomedView(i)}async _readIndices(e){const{extHeaderOffset:i}=await this.getHeader(e),r=await this.bbi.read(64,i),s=new DataView(r.buffer,r.byteOffset,r.length);let o=0;o+=2;const a=s.getUint16(o,!0);o+=2;const l=Number(s.getBigUint64(o,!0));if(o+=8,a===0)return[];const c=20,u=c*a,f=await this.bbi.read(u,l),h=[];for(let A=0;A<a;A+=1){const d=f.subarray(A*c),p=new DataView(d.buffer,d.byteOffset,d.length);let w=0;const m=p.getInt16(w,!0);w+=2;const y=p.getInt16(w,!0);w+=2;const x=Number(p.getBigUint64(w,!0));w+=12;const C=p.getInt16(w,!0);h.push({type:m,fieldcount:y,offset:x,field:C})}return h}async searchExtraIndexBlocks(e,i={}){const r=await this.readIndices(i);if(r.length===0)return[];const s=new TextDecoder("utf8"),o=r.map(async a=>{const{offset:l,field:c}=a,u=await this.bbi.read(32,l,i),f=new DataView(u.buffer,u.byteOffset,u.length);let h=0;h+=4;const A=f.getInt32(h,!0);h+=4;const d=f.getInt32(h,!0);h+=4;const p=f.getInt32(h,!0);h+=4,h+=8;const w=async m=>{const y=m,x=4+A*(d+p),E=await this.bbi.read(x,y,i),B=new DataView(E.buffer,E.byteOffset,E.length);let b=0;const D=B.getInt8(b);b+=2;const R=B.getInt16(b,!0);b+=2;const k=[];if(D===0){const P=[];for(let O=0;O<R;O++){const z=s.decode(E.subarray(b,b+d)).replaceAll("\0","");b+=d;const J=Number(B.getBigUint64(b,!0));b+=8,P.push({key:z,offset:J})}let T=0;for(const{key:O,offset:z}of P){if(e.localeCompare(O)<0&&T)return w(T);T=z}return w(T)}else if(D===1){for(let P=0;P<R;P++){const T=s.decode(E.subarray(b,b+d)).replaceAll("\0","");b+=d;const O=Number(B.getBigUint64(b,!0));b+=8;const z=B.getUint32(b,!0);b+=4;const J=B.getUint32(b,!0);b+=4,k.push({key:T,offset:O,length:z,reserved:J})}for(const P of k)if(P.key===e)return{...P,field:c};return}};return w(l+32)});return AO(await Promise.all(o))}async searchExtraIndex(e,i={}){const r=await this.searchExtraIndexBlocks(e,i);if(r.length===0)return[];const s=await this.getUnzoomedView(i),o=r.map(l=>new Vt(c=>{s.readFeatures(c,[l],i).catch(u=>{c.error(u)})}).pipe(CE((c,u)=>c.concat(u)),mE(c=>{for(const u of c)u.field=l.field;return c})));return(await pE(XL(...o))).filter(l=>{var c;return((c=l.rest)==null?void 0:c.split("	")[(l.field||0)-3])===e})}}const BE=Object.freeze(Object.defineProperty({__proto__:null,BigBed:hO,BigWig:fO},Symbol.toStringTag,{value:"Module"}));function dO(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function So(n,t,e,i){this.message=n,this.expected=t,this.found=e,this.location=i,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,So)}dO(So,Error),So.buildMessage=function(n,t){var e={literal:function(c){return'"'+r(c.text)+'"'},class:function(c){var u="",f;for(f=0;f<c.parts.length;f++)u+=c.parts[f]instanceof Array?s(c.parts[f][0])+"-"+s(c.parts[f][1]):s(c.parts[f]);return"["+(c.inverted?"^":"")+u+"]"},any:function(c){return"any character"},end:function(c){return"end of input"},other:function(c){return c.description}};function i(c){return c.charCodeAt(0).toString(16).toUpperCase()}function r(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+i(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+i(u)})}function s(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+i(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+i(u)})}function o(c){return e[c.type](c)}function a(c){var u=new Array(c.length),f,h;for(f=0;f<c.length;f++)u[f]=o(c[f]);if(u.sort(),u.length>0){for(f=1,h=1;f<u.length;f++)u[f-1]!==u[f]&&(u[h]=u[f],h++);u.length=h}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function l(c){return c?'"'+r(c)+'"':"end of input"}return"Expected "+a(n)+" but "+l(t)+" found."};function gO(n,t){t=t!==void 0?t:{};var e={},i={declaration:h2},r=h2,s="(",o=me("(",!1),a=")",l=me(")",!1),c=function(I,N,U,H){return{type:I,name:N,comment:U,fields:H}},u="simple",f=me("simple",!1),h="object",A=me("object",!1),d="table",p=me("table",!1),w="auto",m=me("auto",!1),y="primary",x=me("primary",!1),C="index",E=me("index",!1),B="unique",b=me("unique",!1),D=function(I,N){return N},R=function(I,N){return I.name&&N.unshift(I),N},k="#",P=me("#",!1),T=";",O=me(";",!1),z=function(I,N,U){return{type:I,name:N,comment:U}},J="[",_=me("[",!1),q="]",se=me("]",!1),re=function(I,N,U,H){return{type:I,size:N,name:U,comment:H}},Ae=function(I,N,U,H){return{type:I,vals:N,name:U,comment:H}},ht=",",Lt=me(",",!1),Nn=function(I,N){return N.unshift(I),N},Ns="int",Iu=me("int",!1),Ta="uint",li=me("uint",!1),Ms="short",V=me("short",!1),ee="ushort",oe=me("ushort",!1),L="byte",dt=me("byte",!1),ge="ubyte",It=me("ubyte",!1),gt="float",ui=me("float",!1),Eu="char",C7=me("char",!1),jB="string",y7=me("string",!1),WB="lstring",x7=me("lstring",!1),XB="enum",b7=me("enum",!1),ZB="double",I7=me("double",!1),$B="bigint",E7=me("bigint",!1),e2="set",B7=me("set",!1),v7=function(I,N){return I+" "+N},S7=/^[a-zA-Z_]/,Q7=Bu([["a","z"],["A","Z"],"_"],!1,!1),t2=/^[a-zA-Z0-9_]/,n2=Bu([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),D7=function(I){return l2()},i2=/^[^\n\r]/,r2=Bu([`
`,"\r"],!0,!1),k7=function(I){return I.join("").replace(/^"/,"").replace(/"$/,"")},F7=u2("integer"),s2=/^[0-9]/,o2=Bu([["0","9"]],!1,!1),R7=function(){return parseInt(l2(),10)},N7=u2("whitespace"),a2=/^[ \t\n\r]/,c2=Bu([" ","	",`
`,"\r"],!1,!1),S=0,Et=0,ih=[{line:1,column:1}],Mn=0,Ap=[],W=0,rh;if("startRule"in t){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');r=i[t.startRule]}function l2(){return n.substring(Et,S)}function me(I,N){return{type:"literal",text:I,ignoreCase:N}}function Bu(I,N,U){return{type:"class",parts:I,inverted:N,ignoreCase:U}}function M7(){return{type:"end"}}function u2(I){return{type:"other",description:I}}function f2(I){var N=ih[I],U;if(N)return N;for(U=I-1;!ih[U];)U--;for(N=ih[U],N={line:N.line,column:N.column};U<I;)n.charCodeAt(U)===10?(N.line++,N.column=1):N.column++,U++;return ih[I]=N,N}function A2(I,N){var U=f2(I),H=f2(N);return{start:{offset:I,line:U.line,column:U.column},end:{offset:N,line:H.line,column:H.column}}}function Z(I){S<Mn||(S>Mn&&(Mn=S,Ap=[]),Ap.push(I))}function T7(I,N,U){return new So(So.buildMessage(I,N),I,N,U)}function h2(){var I,N,U,H,j,be,ke,Zt,ar,fi,cr,Ai,lr,hi;return I=S,N=ce(),N!==e?(U=d2(),U!==e?(H=ce(),H!==e?(j=g2(),j!==e?(be=ce(),be!==e?(ke=sh(),ke!==e?(Zt=ce(),Zt!==e?(n.charCodeAt(S)===40?(ar=s,S++):(ar=e,W===0&&Z(o)),ar!==e?(fi=ce(),fi!==e?(cr=P7(),cr!==e?(Ai=ce(),Ai!==e?(n.charCodeAt(S)===41?(lr=a,S++):(lr=e,W===0&&Z(l)),lr!==e?(hi=ce(),hi!==e?(Et=I,N=c(U,j,ke,cr),I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e),I}function d2(){var I;return n.substr(S,6)===u?(I=u,S+=6):(I=e,W===0&&Z(f)),I===e&&(n.substr(S,6)===h?(I=h,S+=6):(I=e,W===0&&Z(A)),I===e&&(n.substr(S,5)===d?(I=d,S+=5):(I=e,W===0&&Z(p)))),I}function g2(){var I,N,U,H;return I=hn(),I===e&&(I=S,N=hn(),N!==e?(U=p2(),U!==e?(N=[N,U],I=N):(S=I,I=e)):(S=I,I=e),I===e&&(I=S,N=hn(),N!==e?(n.substr(S,4)===w?(U=w,S+=4):(U=e,W===0&&Z(m)),U!==e?(N=[N,U],I=N):(S=I,I=e)):(S=I,I=e),I===e&&(I=S,N=hn(),N!==e?(U=p2(),U!==e?(n.substr(S,4)===w?(H=w,S+=4):(H=e,W===0&&Z(m)),H!==e?(N=[N,U,H],I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)))),I}function p2(){var I;return n.substr(S,7)===y?(I=y,S+=7):(I=e,W===0&&Z(x)),I===e&&(n.substr(S,5)===C?(I=C,S+=5):(I=e,W===0&&Z(E)),I===e&&(n.substr(S,6)===B?(I=B,S+=6):(I=e,W===0&&Z(b)))),I}function sh(){var I;return I=m2(),I===e&&(I=ce()),I}function P7(){var I,N,U,H,j,be,ke;if(I=S,N=hp(),N!==e)if(U=ce(),U!==e){for(H=[],j=S,be=ce(),be!==e?(ke=hp(),ke!==e?(Et=j,be=D(N,ke),j=be):(S=j,j=e)):(S=j,j=e);j!==e;)H.push(j),j=S,be=ce(),be!==e?(ke=hp(),ke!==e?(Et=j,be=D(N,ke),j=be):(S=j,j=e)):(S=j,j=e);H!==e?(j=ce(),j!==e?(Et=I,N=R(N,H),I=N):(S=I,I=e)):(S=I,I=e)}else S=I,I=e;else S=I,I=e;return I}function L7(){var I;return n.charCodeAt(S)===35?(I=k,S++):(I=e,W===0&&Z(P)),I}function O7(){var I,N,U,H,j;return I=S,N=ce(),N!==e?(U=L7(),U!==e?(H=m2(),H!==e?(j=ce(),j!==e?(N=[N,U,H,j],I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e),I}function hp(){var I,N,U,H,j,be,ke,Zt,ar,fi,cr,Ai,lr,hi;return I=S,N=dp(),N!==e?(U=ce(),U!==e?(H=hn(),H!==e?(j=ce(),j!==e?(n.charCodeAt(S)===59?(be=T,S++):(be=e,W===0&&Z(O)),be!==e?(ke=ce(),ke!==e?(Zt=sh(),Zt!==e?(Et=I,N=z(N,H,Zt),I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e),I===e&&(I=S,N=dp(),N!==e?(U=ce(),U!==e?(n.charCodeAt(S)===91?(H=J,S++):(H=e,W===0&&Z(_)),H!==e?(j=ce(),j!==e?(be=G7(),be!==e?(ke=ce(),ke!==e?(n.charCodeAt(S)===93?(Zt=q,S++):(Zt=e,W===0&&Z(se)),Zt!==e?(ar=ce(),ar!==e?(fi=hn(),fi!==e?(cr=ce(),cr!==e?(n.charCodeAt(S)===59?(Ai=T,S++):(Ai=e,W===0&&Z(O)),Ai!==e?(lr=ce(),lr!==e?(hi=sh(),hi!==e?(Et=I,N=re(N,be,fi,hi),I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e),I===e&&(I=S,N=dp(),N!==e?(U=ce(),U!==e?(n.charCodeAt(S)===40?(H=s,S++):(H=e,W===0&&Z(o)),H!==e?(j=ce(),j!==e?(be=U7(),be!==e?(ke=ce(),ke!==e?(n.charCodeAt(S)===41?(Zt=a,S++):(Zt=e,W===0&&Z(l)),Zt!==e?(ar=ce(),ar!==e?(fi=hn(),fi!==e?(cr=ce(),cr!==e?(n.charCodeAt(S)===59?(Ai=T,S++):(Ai=e,W===0&&Z(O)),Ai!==e?(lr=ce(),lr!==e?(hi=sh(),hi!==e?(Et=I,N=Ae(N,be,fi,hi),I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e)):(S=I,I=e),I===e&&(I=O7()))),I}function U7(){var I,N,U,H,j,be,ke;if(I=S,N=hn(),N!==e){for(U=[],H=S,n.charCodeAt(S)===44?(j=ht,S++):(j=e,W===0&&Z(Lt)),j!==e?(be=ce(),be!==e?(ke=hn(),ke!==e?(Et=H,j=D(N,ke),H=j):(S=H,H=e)):(S=H,H=e)):(S=H,H=e);H!==e;)U.push(H),H=S,n.charCodeAt(S)===44?(j=ht,S++):(j=e,W===0&&Z(Lt)),j!==e?(be=ce(),be!==e?(ke=hn(),ke!==e?(Et=H,j=D(N,ke),H=j):(S=H,H=e)):(S=H,H=e)):(S=H,H=e);U!==e?(Et=I,N=Nn(N,U),I=N):(S=I,I=e)}else S=I,I=e;return I}function dp(){var I,N,U,H;return n.substr(S,3)===Ns?(I=Ns,S+=3):(I=e,W===0&&Z(Iu)),I===e&&(n.substr(S,4)===Ta?(I=Ta,S+=4):(I=e,W===0&&Z(li)),I===e&&(n.substr(S,5)===Ms?(I=Ms,S+=5):(I=e,W===0&&Z(V)),I===e&&(n.substr(S,6)===ee?(I=ee,S+=6):(I=e,W===0&&Z(oe)),I===e&&(n.substr(S,4)===L?(I=L,S+=4):(I=e,W===0&&Z(dt)),I===e&&(n.substr(S,5)===ge?(I=ge,S+=5):(I=e,W===0&&Z(It)),I===e&&(n.substr(S,5)===gt?(I=gt,S+=5):(I=e,W===0&&Z(ui)),I===e&&(n.substr(S,4)===Eu?(I=Eu,S+=4):(I=e,W===0&&Z(C7)),I===e&&(n.substr(S,6)===jB?(I=jB,S+=6):(I=e,W===0&&Z(y7)),I===e&&(n.substr(S,7)===WB?(I=WB,S+=7):(I=e,W===0&&Z(x7)),I===e&&(n.substr(S,4)===XB?(I=XB,S+=4):(I=e,W===0&&Z(b7)),I===e&&(n.substr(S,6)===ZB?(I=ZB,S+=6):(I=e,W===0&&Z(I7)),I===e&&(n.substr(S,6)===$B?(I=$B,S+=6):(I=e,W===0&&Z(E7)),I===e&&(n.substr(S,3)===e2?(I=e2,S+=3):(I=e,W===0&&Z(B7)),I===e&&(I=S,N=d2(),N!==e?(U=ce(),U!==e?(H=g2(),H!==e?(Et=I,N=v7(N,H),I=N):(S=I,I=e)):(S=I,I=e)):(S=I,I=e))))))))))))))),I}function G7(){var I;return I=z7(),I===e&&(I=hn()),I}function hn(){var I,N,U,H,j;if(I=S,N=S,S7.test(n.charAt(S))?(U=n.charAt(S),S++):(U=e,W===0&&Z(Q7)),U!==e){for(H=[],t2.test(n.charAt(S))?(j=n.charAt(S),S++):(j=e,W===0&&Z(n2));j!==e;)H.push(j),t2.test(n.charAt(S))?(j=n.charAt(S),S++):(j=e,W===0&&Z(n2));H!==e?(U=[U,H],N=U):(S=N,N=e)}else S=N,N=e;return N!==e&&(Et=I,N=D7()),I=N,I}function m2(){var I,N,U;for(I=S,N=[],i2.test(n.charAt(S))?(U=n.charAt(S),S++):(U=e,W===0&&Z(r2));U!==e;)N.push(U),i2.test(n.charAt(S))?(U=n.charAt(S),S++):(U=e,W===0&&Z(r2));return N!==e&&(Et=I,N=k7(N)),I=N,I}function z7(){var I,N,U,H;if(W++,I=S,N=ce(),N!==e){if(U=[],s2.test(n.charAt(S))?(H=n.charAt(S),S++):(H=e,W===0&&Z(o2)),H!==e)for(;H!==e;)U.push(H),s2.test(n.charAt(S))?(H=n.charAt(S),S++):(H=e,W===0&&Z(o2));else U=e;U!==e?(Et=I,N=R7(),I=N):(S=I,I=e)}else S=I,I=e;return W--,I===e&&(N=e,W===0&&Z(F7)),I}function ce(){var I,N;for(W++,I=[],a2.test(n.charAt(S))?(N=n.charAt(S),S++):(N=e,W===0&&Z(c2));N!==e;)I.push(N),a2.test(n.charAt(S))?(N=n.charAt(S),S++):(N=e,W===0&&Z(c2));return W--,I===e&&(N=e,W===0&&Z(N7)),I}if(rh=r(),rh!==e&&S===n.length)return rh;throw rh!==e&&S<n.length&&Z(M7()),T7(Ap,Mn<n.length?n.charAt(Mn):null,Mn<n.length?A2(Mn,Mn+1):A2(Mn,Mn))}const vE={SyntaxError:So,parse:gO},Pg=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([n,t])=>[n,vE.parse(t.trim())]));function Lg(n){const t=new Set(["uint","int","float","long"]);return{...n,fields:n.fields.map(e=>({...e,isArray:e.size&&e.type!=="char",arrayIsNumeric:e.size&&t.has(e.type),isNumeric:!e.size&&t.has(e.type)})).filter(e=>!!e.name)}}const pO={".":0,"-":-1,"+":1};function mO(n){var t;return n.length>=12&&!Number.isNaN(Number.parseInt(n[9],10))&&((t=n[10])==null?void 0:t.split(",").filter(e=>!!e).length)===Number.parseInt(n[9],10)}class wO{constructor(t={}){if(t.autoSql)this.autoSql=Lg(vE.parse(t.autoSql));else if(t.type){if(!Pg[t.type])throw new Error("Type not found");this.autoSql=Lg(Pg[t.type])}else this.autoSql=Lg(Pg.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(t,e={}){const{autoSql:i}=this,{uniqueId:r}=e,s=Array.isArray(t)?t:t.split("	");let o={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&mO(s))for(let a=0;a<i.fields.length;a++){const l=i.fields[a];let c=s[a];const{isNumeric:u,isArray:f,arrayIsNumeric:h,name:A}=l;if(c==null)break;if(c!=="."){if(u){const d=Number(c);c=Number.isNaN(d)?c:d}else f&&(c=c.split(","),c.at(-1)===""&&c.pop(),h&&(c=c.map(Number)));o[A]=c}}else{const a=["chrom","chromStart","chromEnd","name"];o=Object.fromEntries(s.map((l,c)=>[a[c]||"field"+c,l])),o.chromStart=+o.chromStart,o.chromEnd=+o.chromEnd,Number.isNaN(Number.parseFloat(o.field4))||(o.score=+o.field4,delete o.field4),(o.field5==="+"||o.field5==="-")&&(o.strand=o.field5,delete o.field5)}return r&&(o.uniqueId=r),o.strand=pO[o.strand]||0,o.chrom=decodeURIComponent(o.chrom),o}}const CO=Object.freeze(Object.defineProperty({__proto__:null,default:wO},Symbol.toStringTag,{value:"Module"}));var Ve=function(n,t,e,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,e):r?r.value=e:t.set(n,e),e},G=function(n,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(n):i?i.value:t.get(n)},ye,kt,xe,Re,Jr,fl,qr,QA,an,SE,Og,Ug,Gg,QE,DA;class Al extends Map{constructor(t={}){if(super(),ye.add(this),kt.set(this,0),xe.set(this,new Map),Re.set(this,new Map),Jr.set(this,void 0),fl.set(this,void 0),qr.set(this,void 0),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");Ve(this,Jr,t.maxSize,"f"),Ve(this,fl,t.maxAge||Number.POSITIVE_INFINITY,"f"),Ve(this,qr,t.onEviction,"f")}get __oldCache(){return G(this,Re,"f")}get(t){if(G(this,xe,"f").has(t)){const e=G(this,xe,"f").get(t);return G(this,ye,"m",Og).call(this,t,e)}if(G(this,Re,"f").has(t)){const e=G(this,Re,"f").get(t);if(!G(this,ye,"m",an).call(this,t,e))return G(this,ye,"m",QE).call(this,t,e),e.value}}set(t,e,{maxAge:i=G(this,fl,"f")}={}){const r=typeof i=="number"&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return G(this,xe,"f").has(t)?G(this,xe,"f").set(t,{value:e,expiry:r}):G(this,ye,"m",Gg).call(this,t,{value:e,expiry:r}),this}has(t){return G(this,xe,"f").has(t)?!G(this,ye,"m",an).call(this,t,G(this,xe,"f").get(t)):G(this,Re,"f").has(t)?!G(this,ye,"m",an).call(this,t,G(this,Re,"f").get(t)):!1}peek(t){if(G(this,xe,"f").has(t))return G(this,ye,"m",Ug).call(this,t,G(this,xe,"f"));if(G(this,Re,"f").has(t))return G(this,ye,"m",Ug).call(this,t,G(this,Re,"f"))}expiresIn(t){const e=G(this,xe,"f").get(t)??G(this,Re,"f").get(t);if(e)return e.expiry?e.expiry-Date.now():Number.POSITIVE_INFINITY}delete(t){var e;const i=G(this,xe,"f").delete(t);return i&&Ve(this,kt,(e=G(this,kt,"f"),e--,e),"f"),G(this,Re,"f").delete(t)||i}clear(){G(this,xe,"f").clear(),G(this,Re,"f").clear(),Ve(this,kt,0,"f")}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const e=[...G(this,ye,"m",DA).call(this)],i=e.length-t;i<0?(Ve(this,xe,new Map(e),"f"),Ve(this,Re,new Map,"f"),Ve(this,kt,e.length,"f")):(i>0&&G(this,ye,"m",QA).call(this,e.slice(0,i)),Ve(this,Re,new Map(e.slice(i)),"f"),Ve(this,xe,new Map,"f"),Ve(this,kt,0,"f")),Ve(this,Jr,t,"f")}evict(t=1){const e=t;if(!e||e<=0)return;const i=[...G(this,ye,"m",DA).call(this)],r=Math.trunc(Math.min(e,Math.max(i.length-1,0)));r<=0||(G(this,ye,"m",QA).call(this,i.slice(0,r)),Ve(this,Re,new Map(i.slice(r)),"f"),Ve(this,xe,new Map,"f"),Ve(this,kt,0,"f"))}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[(kt=new WeakMap,xe=new WeakMap,Re=new WeakMap,Jr=new WeakMap,fl=new WeakMap,qr=new WeakMap,ye=new WeakSet,QA=function(e){if(typeof G(this,qr,"f")=="function")for(const[i,r]of e)G(this,qr,"f").call(this,i,r.value)},an=function(e,i){return typeof i.expiry=="number"&&i.expiry<=Date.now()?(typeof G(this,qr,"f")=="function"&&G(this,qr,"f").call(this,e,i.value),this.delete(e)):!1},SE=function(e,i){if(!G(this,ye,"m",an).call(this,e,i))return i.value},Og=function(e,i){return i.expiry?G(this,ye,"m",SE).call(this,e,i):i.value},Ug=function(e,i){const r=i.get(e);return G(this,ye,"m",Og).call(this,e,r)},Gg=function(e,i){var r;G(this,xe,"f").set(e,i),Ve(this,kt,(r=G(this,kt,"f"),r++,r),"f"),G(this,kt,"f")>=G(this,Jr,"f")&&(Ve(this,kt,0,"f"),G(this,ye,"m",QA).call(this,G(this,Re,"f")),Ve(this,Re,G(this,xe,"f"),"f"),Ve(this,xe,new Map,"f"))},QE=function(e,i){G(this,Re,"f").delete(e),G(this,ye,"m",Gg).call(this,e,i)},DA=function*(){for(const e of G(this,Re,"f")){const[i,r]=e;G(this,xe,"f").has(i)||G(this,ye,"m",an).call(this,i,r)||(yield e)}for(const e of G(this,xe,"f")){const[i,r]=e;G(this,ye,"m",an).call(this,i,r)||(yield e)}},Symbol.iterator)](){for(const t of G(this,xe,"f")){const[e,i]=t;G(this,ye,"m",an).call(this,e,i)||(yield[e,i.value])}for(const t of G(this,Re,"f")){const[e,i]=t;G(this,xe,"f").has(e)||G(this,ye,"m",an).call(this,e,i)||(yield[e,i.value])}}*entriesDescending(){let t=[...G(this,xe,"f")];for(let e=t.length-1;e>=0;--e){const i=t[e],[r,s]=i;G(this,ye,"m",an).call(this,r,s)||(yield[r,s.value])}t=[...G(this,Re,"f")];for(let e=t.length-1;e>=0;--e){const i=t[e],[r,s]=i;G(this,xe,"f").has(r)||G(this,ye,"m",an).call(this,r,s)||(yield[r,s.value])}}*entriesAscending(){for(const[t,e]of G(this,ye,"m",DA).call(this))yield[t,e.value]}get size(){if(!G(this,kt,"f"))return G(this,Re,"f").size;let t=0;for(const e of G(this,Re,"f").keys())G(this,xe,"f").has(e)||t++;return Math.min(G(this,kt,"f")+t,G(this,Jr,"f"))}get maxSize(){return G(this,Jr,"f")}get maxAge(){return G(this,fl,"f")}entries(){return this.entriesAscending()}forEach(t,e=this){for(const[i,r]of this.entriesAscending())t.call(e,r,i,this)}get[Symbol.toStringTag](){return"QuickLRU"}toString(){return`QuickLRU(${this.size}/${this.maxSize})`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}let DE=class{constructor(t,e,i,r){this.minv=t,this.maxv=e,this.bin=i,this._fetchedSize=r}toUniqueString(){return`${this.minv.toString()}..${this.maxv.toString()} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}};const kE=65536,yO=kE*kE;function xO(n,t=0){const e=n[t]|n[t+1]<<8|n[t+2]<<16|n[t+3]<<24;return((n[t+4]|n[t+5]<<8|n[t+6]<<16|n[t+7]<<24)>>>0)*yO+(e>>>0)}function bO(n={}){return"aborted"in n?{signal:n}:n}function zg(n,t){const e=n.length;if(e===0)return n;let i;if(t){const l=t.blockPosition,c=t.dataPosition;i=[];for(let u=0;u<e;u++){const f=n[u],h=f.maxv;(h.blockPosition-l||h.dataPosition-c)>0&&i.push(f)}if(i.length===0)return i}else i=n;i.sort((l,c)=>{const u=l.minv.blockPosition-c.minv.blockPosition;return u!==0?u:l.minv.dataPosition-c.minv.dataPosition});const r=[];let s=i[0];r.push(s);let o=s.minv.blockPosition,a=s.maxv.blockPosition;for(let l=1;l<i.length;l++){const c=i[l],u=c.minv.blockPosition,f=c.maxv.blockPosition;if(u-a<65e3&&f-o<5e6){const h=c.maxv,A=s.maxv;(f-a||h.dataPosition-A.dataPosition)>0&&(s.maxv=h,a=f)}else r.push(c),s=c,o=u,a=f}return r}function FE(n,t){return{lineCount:xO(n,t)}}function hl(n,t){return n?n.compareTo(t)>0?t:n:t}function IO(n,t=e=>e){let e=0,i=0;const r=[],s={};for(let o=0;o<n.length;o+=1)if(!n[o]){if(i<o){let a="";for(let l=i;l<o;l++)a+=String.fromCharCode(n[l]);a=t(a),r[e]=a,s[a]=e}i=o+1,e+=1}return{refNameToId:s,refIdToName:r}}function EO(n){let t=0;for(const r of n)t+=r.length;const e=new Uint8Array(t);let i=0;for(const r of n)e.set(r,i),i+=r.length;return e}function BO(n,t,e){return!!((n&t)!==t||n&e)}function vO(n,t){return t==="*"?n===void 0:`${n}`!=`${t}`}function SO(n){if(!n)return"";const{flagInclude:t=0,flagExclude:e=0,tagFilter:i}=n,r=i?`:${i.tag}=${i.value??"*"}`:"";return`:f${t}x${e}${r}`}let RE=class{constructor({filehandle:t,renameRefSeq:e=i=>i}){this.filehandle=t,this.renameRefSeq=e}async estimatedBytesForRegions(t,e){const i=await Promise.all(t.map(o=>this.blocksForRange(o.refId,o.start,o.end,e))),r=zg(i.flat());let s=0;for(const o of r)s+=o.fetchedSize();return s}},NE=class{constructor(t,e){this.blockPosition=t,this.dataPosition=e}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}};function Oi(n,t=0,e=!1){if(e)throw new Error("big-endian virtual file offsets not implemented");return new NE(n[t+7]*1099511627776+n[t+6]*4294967296+n[t+5]*16777216+n[t+4]*65536+n[t+3]*256+n[t+2],n[t+1]<<8|n[t])}const QO=21578050;function DO(n,t){return n-n%t}function kO(n,t){return n-n%t+t}function FO(n,t){return t-=1,[[0,0],[1+(n>>26),1+(t>>26)],[9+(n>>23),9+(t>>23)],[73+(n>>20),73+(t>>20)],[585+(n>>17),585+(t>>17)],[4681+(n>>14),4681+(t>>14)]]}class Qo extends RE{async lineCount(t,e){var r,s;return((s=(r=(await this.parse(e)).indices(t))==null?void 0:r.stats)==null?void 0:s.lineCount)||0}async _parse(t){const e=await this.filehandle.readFile(),i=new DataView(e.buffer);if(i.getUint32(0,!0)!==QO)throw new Error("Not a BAI file");const r=i.getInt32(4,!0),o=((1<<(5+1)*3)-1)/7;let a=8,l;const c=[];for(let h=0;h<r;h++){c.push(a);const A=i.getInt32(a,!0);a+=4;for(let w=0;w<A;w+=1){const m=i.getUint32(a,!0);if(a+=4,m===o+1)a+=4,a+=32;else{if(m>o+1)throw new Error("bai index contains too many bins, please use CSI");{const y=i.getInt32(a,!0);a+=4;for(let x=0;x<y;x++)a+=8,a+=8}}}const d=i.getInt32(a,!0);a+=4;const p=new Array(d);for(let w=0;w<d;w++){const m=Oi(e,a);a+=8,l=hl(l,m),p[w]=m}}const u=new Al({maxSize:5});function f(h){let A=c[h];if(A===void 0)return;const d=i.getInt32(A,!0);let p;A+=4;const w={};for(let x=0;x<d;x+=1){const C=i.getUint32(A,!0);if(A+=4,C===o+1)A+=4,p=FE(e,A+16),A+=32;else{if(C>o+1)throw new Error("bai index contains too many bins, please use CSI");{const E=i.getInt32(A,!0);A+=4;const B=new Array(E);for(let b=0;b<E;b++){const D=Oi(e,A);A+=8;const R=Oi(e,A);A+=8,l=hl(l,D),B[b]=new DE(D,R,C)}w[C]=B}}}const m=i.getInt32(A,!0);A+=4;const y=new Array(m);for(let x=0;x<m;x++){const C=Oi(e,A);A+=8,l=hl(l,C),y[x]=C}return{binIndex:w,linearIndex:y,stats:p}}return{bai:!0,firstDataLine:l,maxBlockSize:65536,indices:h=>{if(!u.has(h)){const A=f(h);return A&&u.set(h,A),A}return u.get(h)},refCount:r}}async indexCov(t,e,i,r){const o=e!==void 0,l=(await this.parse(r)).indices(t);if(!l)return[];const{linearIndex:c,stats:u}=l;if(c.length===0)return[];const f=i===void 0?(c.length-1)*16384:kO(i,16384),h=e===void 0?0:DO(e,16384),A=o?new Array((f-h)/16384):new Array(c.length-1),d=c[c.length-1].blockPosition;if(f>(c.length-1)*16384)throw new Error("query outside of range of linear index");let p=c[h/16384].blockPosition;for(let w=h/16384,m=0;w<f/16384;w++,m++)A[m]={score:c[w+1].blockPosition-p,start:w*16384,end:w*16384+16384},p=c[w+1].blockPosition;return A.map(w=>({...w,score:w.score*((u==null?void 0:u.lineCount)||0)/d}))}async blocksForRange(t,e,i,r={}){e<0&&(e=0);const s=await this.parse(r);if(!s)return[];const o=s.indices(t);if(!o)return[];const a=FO(e,i),l=[],{binIndex:c}=o;for(const[d,p]of a)for(let w=d;w<=p;w++){const m=c[w];if(m)for(let y=0,x=m.length;y<x;y++)l.push(m[y])}const{linearIndex:u}=o,f=u.length,h=Math.min(e>>14,f-1),A=u[h];return zg(l,A)}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(e=>{throw this.setupP=void 0,e})),this.setupP}async hasRefSeq(t,e={}){var r;return!!((r=(await this.parse(e)).indices(t))!=null&&r.binIndex)}}var ME=0,TE=2,kA=4,Kr=0,FA=1,RO=2,NO=-5;function MO(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function TO(n){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var i in e)MO(e,i)&&(n[i]=e[i])}}return n}function PE(n,t){return n.length===t?n:n.subarray?n.subarray(0,t):(n.length=t,n)}var dl={arraySet:function(n,t,e,i,r){if(t.subarray&&n.subarray){n.set(t.subarray(e,e+i),r);return}for(var s=0;s<i;s++)n[r+s]=t[e+s]},flattenChunks:function(n){var t,e,i,r,s,o;for(i=0,t=0,e=n.length;t<e;t++)i+=n[t].length;for(o=new Uint8Array(i),r=0,t=0,e=n.length;t<e;t++)s=n[t],o.set(s,r),r+=s.length;return o},Buf8:function(n){return new Uint8Array(n)},Buf16:function(n){return new Uint16Array(n)},Buf32:function(n){return new Int32Array(n)}},gl={arraySet:function(n,t,e,i,r){for(var s=0;s<i;s++)n[r+s]=t[e+s]},flattenChunks:function(n){return[].concat.apply([],n)},Buf8:function(n){return new Array(n)},Buf16:function(n){return new Array(n)},Buf32:function(n){return new Array(n)}};let Do=()=>{const n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return Do=()=>n,n},Ui=(n,t,e,i,r)=>(Ui=Do()?dl.arraySet:gl.arraySet,Ui(n,t,e,i,r)),Hg=n=>(Hg=Do()?dl.flattenChunks:gl.flattenChunks,Hg(n)),ko=n=>(ko=Do()?dl.Buf8:gl.Buf8,ko(n)),Fo=n=>(Fo=Do()?dl.Buf16:gl.Buf16,Fo(n)),Ro=n=>(Ro=Do()?dl.Buf32:gl.Buf32,Ro(n)),LE=function(){let n=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}return LE=()=>n,n},OE=function(){let n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}return OE=()=>n,n},_g=function(n){for(var t=ko(256),e=0;e<256;e++)t[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return t[254]=t[254]=1,_g=i=>t[i],t[n]};function UE(n){var t,e,i,r,s,o=n.length,a=0;for(r=0;r<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<o&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t}function PO(n,t){if(t<65534&&(n.subarray&&OE()||!n.subarray&&LE()))return String.fromCharCode.apply(null,PE(n,t));for(var e="",i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e}function LO(n){for(var t=new Uint8Array(n.length),e=0,i=t.length;e<i;e++)t[e]=n.charCodeAt(e);return t}function OO(n,t){var e,i,r,s,o=t||n.length,a=new Array(o*2);for(i=0,e=0;e<o;){if(r=n[e++],r<128){a[i++]=r;continue}if(s=_g(r),s>4){a[i++]=65533,e+=s-1;continue}for(r&=s===2?31:s===3?15:7;s>1&&e<o;)r=r<<6|n[e++]&63,s--;if(s>1){a[i++]=65533;continue}r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|r&1023)}return PO(a,i)}function UO(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+_g(n[e])>t?e:t}function GO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function Vg(n,t,e,i){for(var r=n&65535|0,s=n>>>16&65535|0,o=0;e!==0;){o=e>2e3?2e3:e,e-=o;do r=r+t[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0}function zO(){for(var n,t=[],e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t}let GE=function(){const n=zO();return GE=()=>n,n};function Qn(n,t,e,i){var r=GE(),s=i+e;n^=-1;for(var o=i;o<s;o++)n=n>>>8^r[(n^t[o])&255];return n^-1}var RA=30,HO=12;function _O(n,t){var e,i,r,s,o,a,l,c,u,f,h,A,d,p,w,m,y,x,C,E,B,b,D,R,k;e=n.state,i=n.next_in,R=n.input,r=i+(n.avail_in-5),s=n.next_out,k=n.output,o=s-(t-n.avail_out),a=s+(n.avail_out-257),l=e.dmax,c=e.wsize,u=e.whave,f=e.wnext,h=e.window,A=e.hold,d=e.bits,p=e.lencode,w=e.distcode,m=(1<<e.lenbits)-1,y=(1<<e.distbits)-1;e:do{d<15&&(A+=R[i++]<<d,d+=8,A+=R[i++]<<d,d+=8),x=p[A&m];t:for(;;){if(C=x>>>24,A>>>=C,d-=C,C=x>>>16&255,C===0)k[s++]=x&65535;else if(C&16){E=x&65535,C&=15,C&&(d<C&&(A+=R[i++]<<d,d+=8),E+=A&(1<<C)-1,A>>>=C,d-=C),d<15&&(A+=R[i++]<<d,d+=8,A+=R[i++]<<d,d+=8),x=w[A&y];n:for(;;){if(C=x>>>24,A>>>=C,d-=C,C=x>>>16&255,C&16){if(B=x&65535,C&=15,d<C&&(A+=R[i++]<<d,d+=8,d<C&&(A+=R[i++]<<d,d+=8)),B+=A&(1<<C)-1,B>l){n.msg="invalid distance too far back",e.mode=RA;break e}if(A>>>=C,d-=C,C=s-o,B>C){if(C=B-C,C>u&&e.sane){n.msg="invalid distance too far back",e.mode=RA;break e}if(b=0,D=h,f===0){if(b+=c-C,C<E){E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}}else if(f<C){if(b+=c+f-C,C-=f,C<E){E-=C;do k[s++]=h[b++];while(--C);if(b=0,f<E){C=f,E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}}}else if(b+=f-C,C<E){E-=C;do k[s++]=h[b++];while(--C);b=s-B,D=k}for(;E>2;)k[s++]=D[b++],k[s++]=D[b++],k[s++]=D[b++],E-=3;E&&(k[s++]=D[b++],E>1&&(k[s++]=D[b++]))}else{b=s-B;do k[s++]=k[b++],k[s++]=k[b++],k[s++]=k[b++],E-=3;while(E>2);E&&(k[s++]=k[b++],E>1&&(k[s++]=k[b++]))}}else if((C&64)===0){x=w[(x&65535)+(A&(1<<C)-1)];continue n}else{n.msg="invalid distance code",e.mode=RA;break e}break}}else if((C&64)===0){x=p[(x&65535)+(A&(1<<C)-1)];continue t}else if(C&32){e.mode=HO;break e}else{n.msg="invalid literal/length code",e.mode=RA;break e}break}}while(i<r&&s<a);E=d>>3,i-=E,d-=E<<3,A&=(1<<d)-1,n.next_in=i,n.next_out=s,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=s<a?257+(a-s):257-(s-a),e.hold=A,e.bits=d}var No=15,zE=852,HE=592,_E=0,Yg=1,VE=2,VO=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],YO=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],JO=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],qO=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function pl(n,t,e,i,r,s,o,a){var l=a.bits,c=0,u=0,f=0,h=0,A=0,d=0,p=0,w=0,m=0,y=0,x,C,E,B,b,D=null,R=0,k,P=Fo(No+1),T=Fo(No+1),O=null,z=0,J,_,q;for(c=0;c<=No;c++)P[c]=0;for(u=0;u<i;u++)P[t[e+u]]++;for(A=l,h=No;h>=1&&P[h]===0;h--);if(A>h&&(A=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<h&&P[f]===0;f++);for(A<f&&(A=f),w=1,c=1;c<=No;c++)if(w<<=1,w-=P[c],w<0)return-1;if(w>0&&(n===_E||h!==1))return-1;for(T[1]=0,c=1;c<No;c++)T[c+1]=T[c]+P[c];for(u=0;u<i;u++)t[e+u]!==0&&(o[T[t[e+u]]++]=u);if(n===_E?(D=O=o,k=19):n===Yg?(D=VO,R-=257,O=YO,z-=257,k=256):(D=JO,O=qO,k=-1),y=0,u=0,c=f,b=s,d=A,p=0,E=-1,m=1<<A,B=m-1,n===Yg&&m>zE||n===VE&&m>HE)return 1;for(;;){J=c-p,o[u]<k?(_=0,q=o[u]):o[u]>k?(_=O[z+o[u]],q=D[R+o[u]]):(_=96,q=0),x=1<<c-p,C=1<<d,f=C;do C-=x,r[b+(y>>p)+C]=J<<24|_<<16|q|0;while(C!==0);for(x=1<<c-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,u++,--P[c]===0){if(c===h)break;c=t[e+o[u]]}if(c>A&&(y&B)!==E){for(p===0&&(p=A),b+=f,d=c-p,w=1<<d;d+p<h&&(w-=P[d+p],!(w<=0));)d++,w<<=1;if(m+=1<<d,n===Yg&&m>zE||n===VE&&m>HE)return 1;E=y&B,r[E]=A<<24|d<<16|b-s|0}}return y!==0&&(r[b+y]=c-p<<24|64<<16|0),a.bits=A,0}var KO=0,YE=1,JE=2,qE=4,jr=0,jO=1,WO=2,Yt=-2,KE=-3,jE=-4,XO=-5,WE=8,XE=1,ZE=2,$E=3,eB=4,tB=5,nB=6,iB=7,rB=8,sB=9,oB=10,NA=11,jn=12,Jg=13,aB=14,qg=15,cB=16,lB=17,uB=18,fB=19,MA=20,TA=21,AB=22,hB=23,dB=24,gB=25,pB=26,Kg=27,mB=28,wB=29,Qe=30,CB=31,ZO=32,$O=852,eU=592;function yB(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function tU(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=Fo(320),this.work=Fo(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function nU(n){var t;return!n||!n.state?Yt:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=XE,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=Ro($O),t.distcode=t.distdyn=Ro(eU),t.sane=1,t.back=-1,jr)}function iU(n){var t;return!n||!n.state?Yt:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,nU(n))}function rU(n,t){var e,i;return!n||!n.state||(i=n.state,t<0?(e=0,t=-t):(e=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Yt:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,iU(n))}function sU(n,t){var e,i;return n?(i=new tU,n.state=i,i.window=null,e=rU(n,t),e!==jr&&(n.state=null),e):Yt}var xB=!0,jg,Wg;function oU(n){if(xB){var t;for(jg=Ro(512),Wg=Ro(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(pl(YE,n.lens,0,288,jg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;pl(JE,n.lens,0,32,Wg,0,n.work,{bits:5}),xB=!1}n.lencode=jg,n.lenbits=9,n.distcode=Wg,n.distbits=5}function bB(n,t,e,i){var r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=ko(s.wsize)),i>=s.wsize?(Ui(s.window,t,e-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),Ui(s.window,t,e-i,r,s.wnext),i-=r,i?(Ui(s.window,t,e-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function aU(n,t){var e,i,r,s,o,a,l,c,u,f,h,A,d,p,w=0,m,y,x,C,E,B,b,D,R=ko(4),k,P,T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return Yt;e=n.state,e.mode===jn&&(e.mode=Jg),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,f=a,h=l,D=jr;e:for(;;)switch(e.mode){case XE:if(e.wrap===0){e.mode=Jg;break}for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.check=0,R[0]=c&255,R[1]=c>>>8&255,e.check=Qn(e.check,R,2,0),c=0,u=0,e.mode=ZE;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",e.mode=Qe;break}if((c&15)!==WE){n.msg="unknown compression method",e.mode=Qe;break}if(c>>>=4,u-=4,b=(c&15)+8,e.wbits===0)e.wbits=b;else if(b>e.wbits){n.msg="invalid window size",e.mode=Qe;break}e.dmax=1<<b,n.adler=e.check=1,e.mode=c&512?oB:jn,c=0,u=0;break;case ZE:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==WE){n.msg="unknown compression method",e.mode=Qe;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Qe;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Qn(e.check,R,2,0)),c=0,u=0,e.mode=$E;case $E:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,e.check=Qn(e.check,R,4,0)),c=0,u=0,e.mode=eB;case eB:for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Qn(e.check,R,2,0)),c=0,u=0,e.mode=tB;case tB:if(e.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&(R[0]=c&255,R[1]=c>>>8&255,e.check=Qn(e.check,R,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=nB;case nB:if(e.flags&1024&&(A=e.length,A>a&&(A=a),A&&(e.head&&(b=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Ui(e.head.extra,i,s,A,b)),e.flags&512&&(e.check=Qn(e.check,i,A,s)),a-=A,s+=A,e.length-=A),e.length))break e;e.length=0,e.mode=iB;case iB:if(e.flags&2048){if(a===0)break e;A=0;do b=i[s+A++],e.head&&b&&e.length<65536&&(e.head.name+=String.fromCharCode(b));while(b&&A<a);if(e.flags&512&&(e.check=Qn(e.check,i,A,s)),a-=A,s+=A,b)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=rB;case rB:if(e.flags&4096){if(a===0)break e;A=0;do b=i[s+A++],e.head&&b&&e.length<65536&&(e.head.comment+=String.fromCharCode(b));while(b&&A<a);if(e.flags&512&&(e.check=Qn(e.check,i,A,s)),a-=A,s+=A,b)break e}else e.head&&(e.head.comment=null);e.mode=sB;case sB:if(e.flags&512){for(;u<16;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Qe;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=jn;break;case oB:for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}n.adler=e.check=yB(c),c=0,u=0,e.mode=NA;case NA:if(e.havedict===0)return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,WO;n.adler=e.check=1,e.mode=jn;case jn:case Jg:if(e.last){c>>>=u&7,u-=u&7,e.mode=Kg;break}for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=aB;break;case 1:oU(e),e.mode=MA;break;case 2:e.mode=lB;break;case 3:n.msg="invalid block type",e.mode=Qe}c>>>=2,u-=2;break;case aB:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Qe;break}e.length=c&65535,c=0,u=0,e.mode=qg;case qg:e.mode=cB;case cB:if(A=e.length,A){if(A>a&&(A=a),A>l&&(A=l),A===0)break e;Ui(r,i,s,A,o),a-=A,s+=A,l-=A,o+=A,e.length-=A;break}e.mode=jn;break;case lB:for(;u<14;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Qe;break}e.have=0,e.mode=uB;case uB:for(;e.have<e.ncode;){for(;u<3;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.lens[T[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[T[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,k={bits:e.lenbits},D=pl(KO,e.lens,0,19,e.lencode,0,e.work,k),e.lenbits=k.bits,D){n.msg="invalid code lengths set",e.mode=Qe;break}e.have=0,e.mode=fB;case fB:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[c&(1<<e.lenbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(x<16)c>>>=m,u-=m,e.lens[e.have++]=x;else{if(x===16){for(P=m+2;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c>>>=m,u-=m,e.have===0){n.msg="invalid bit length repeat",e.mode=Qe;break}b=e.lens[e.have-1],A=3+(c&3),c>>>=2,u-=2}else if(x===17){for(P=m+3;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,b=0,A=3+(c&7),c>>>=3,u-=3}else{for(P=m+7;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,b=0,A=11+(c&127),c>>>=7,u-=7}if(e.have+A>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Qe;break}for(;A--;)e.lens[e.have++]=b}}if(e.mode===Qe)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Qe;break}if(e.lenbits=9,k={bits:e.lenbits},D=pl(YE,e.lens,0,e.nlen,e.lencode,0,e.work,k),e.lenbits=k.bits,D){n.msg="invalid literal/lengths set",e.mode=Qe;break}if(e.distbits=6,e.distcode=e.distdyn,k={bits:e.distbits},D=pl(JE,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,k),e.distbits=k.bits,D){n.msg="invalid distances set",e.mode=Qe;break}e.mode=MA;case MA:e.mode=TA;case TA:if(a>=6&&l>=258){n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,_O(n,h),o=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,a=n.avail_in,c=e.hold,u=e.bits,e.mode===jn&&(e.back=-1);break}for(e.back=0;w=e.lencode[c&(1<<e.lenbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(y&&(y&240)===0){for(C=m,E=y,B=x;w=e.lencode[B+((c&(1<<C+E)-1)>>C)],m=w>>>24,y=w>>>16&255,x=w&65535,!(C+m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=C,u-=C,e.back+=C}if(c>>>=m,u-=m,e.back+=m,e.length=x,y===0){e.mode=pB;break}if(y&32){e.back=-1,e.mode=jn;break}if(y&64){n.msg="invalid literal/length code",e.mode=Qe;break}e.extra=y&15,e.mode=AB;case AB:if(e.extra){for(P=e.extra;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=hB;case hB:for(;w=e.distcode[c&(1<<e.distbits)-1],m=w>>>24,y=w>>>16&255,x=w&65535,!(m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if((y&240)===0){for(C=m,E=y,B=x;w=e.distcode[B+((c&(1<<C+E)-1)>>C)],m=w>>>24,y=w>>>16&255,x=w&65535,!(C+m<=u);){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}c>>>=C,u-=C,e.back+=C}if(c>>>=m,u-=m,e.back+=m,y&64){n.msg="invalid distance code",e.mode=Qe;break}e.offset=x,e.extra=y&15,e.mode=dB;case dB:if(e.extra){for(P=e.extra;u<P;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Qe;break}e.mode=gB;case gB:if(l===0)break e;if(A=h-l,e.offset>A){if(A=e.offset-A,A>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Qe;break}A>e.wnext?(A-=e.wnext,d=e.wsize-A):d=e.wnext-A,A>e.length&&(A=e.length),p=e.window}else p=r,d=o-e.offset,A=e.length;A>l&&(A=l),l-=A,e.length-=A;do r[o++]=p[d++];while(--A);e.length===0&&(e.mode=TA);break;case pB:if(l===0)break e;r[o++]=e.length,l--,e.mode=TA;break;case Kg:if(e.wrap){for(;u<32;){if(a===0)break e;a--,c|=i[s++]<<u,u+=8}if(h-=l,n.total_out+=h,e.total+=h,h&&(n.adler=e.check=e.flags?Qn(e.check,r,h,o-h):Vg(e.check,r,h,o-h)),h=l,(e.flags?c:yB(c))!==e.check){n.msg="incorrect data check",e.mode=Qe;break}c=0,u=0}e.mode=mB;case mB:if(e.wrap&&e.flags){for(;u<32;){if(a===0)break e;a--,c+=i[s++]<<u,u+=8}if(c!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Qe;break}c=0,u=0}e.mode=wB;case wB:D=jO;break e;case Qe:D=KE;break e;case CB:return jE;case ZO:default:return Yt}return n.next_out=o,n.avail_out=l,n.next_in=s,n.avail_in=a,e.hold=c,e.bits=u,(e.wsize||h!==n.avail_out&&e.mode<Qe&&(e.mode<Kg||t!==qE))&&bB(n,n.output,n.next_out,h-n.avail_out),f-=n.avail_in,h-=n.avail_out,n.total_in+=f,n.total_out+=h,e.total+=h,e.wrap&&h&&(n.adler=e.check=e.flags?Qn(e.check,r,h,n.next_out-h):Vg(e.check,r,h,n.next_out-h)),n.data_type=e.bits+(e.last?64:0)+(e.mode===jn?128:0)+(e.mode===MA||e.mode===qg?256:0),(f===0&&h===0||t===qE)&&D===jr&&(D=XO),D}function cU(n){if(!n||!n.state)return Yt;var t=n.state;return t.window&&(t.window=null),n.state=null,jr}function lU(n,t){var e;return!n||!n.state||(e=n.state,(e.wrap&2)===0)?Yt:(e.head=t,t.done=!1,jr)}function IB(n,t){var e=t.length,i,r,s;return!n||!n.state||(i=n.state,i.wrap!==0&&i.mode!==NA)?Yt:i.mode===NA&&(r=1,r=Vg(r,t,e,0),r!==i.check)?KE:(s=bB(n,t,e,e),s?(i.mode=CB,jE):(i.havedict=1,jr))}const Xg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function uU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Zg=Object.prototype.toString;class PA{constructor(t){if(!(this instanceof PA))return new PA(t);this.options=TO({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uU,this.strm.avail_out=0;var i=sU(this.strm,e.windowBits);if(i!==Kr)throw new Error(Xg[i]);if(this.header=new GO,lU(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=UE(e.dictionary):Zg.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=IB(this.strm,e.dictionary),i!==Kr)))throw new Error(Xg[i])}push(t,e){var i=this.strm,r=this.options.chunkSize,s=this.options.dictionary,o,a,l,c,u,f,h=!1;if(this.ended)return!1;a=e===~~e?e:e===!0?kA:ME,typeof t=="string"?i.input=LO(t):Zg.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=ko(r),i.next_out=0,i.avail_out=r),o=aU(i,ME),o===RO&&s&&(typeof s=="string"?f=UE(s):Zg.call(s)==="[object ArrayBuffer]"?f=new Uint8Array(s):f=s,o=IB(this.strm,f)),o===NO&&h===!0&&(o=Kr,h=!1),o!==FA&&o!==Kr)return this.onEnd(o),this.ended=!0,!1;i.next_out&&(i.avail_out===0||o===FA||i.avail_in===0&&(a===kA||a===TE))&&(this.options.to==="string"?(l=UO(i.output,i.next_out),c=i.next_out-l,u=OO(i.output,l),i.next_out=c,i.avail_out=r-c,c&&Ui(i.output,i.output,l,c,0),this.onData(u)):this.onData(PE(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(h=!0)}while((i.avail_in>0||i.avail_out===0)&&o!==FA);return o===FA&&(a=kA),a===kA?(o=cU(this.strm),this.onEnd(o),this.ended=!0,o===Kr):(a===TE&&(this.onEnd(Kr),i.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===Kr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hg(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}}function fU(n,t){var e=new PA(t);if(e.push(n,!0),e.err)throw e.msg||Xg[e.err];return e.result}var AU=fU,Wr={};Wr.d=(n,t)=>{for(var e in t)Wr.o(t,e)&&!Wr.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},Wr.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),Wr.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var $g={};Wr.r($g),Wr.d($g,{ChunkSliceResult:()=>To,DecompressResult:()=>Po,__wbg_Error_52673b7de5a0ca89:()=>xU,__wbg___wbindgen_throw_dd24417ed36fc46e:()=>bU,__wbg_set_wasm:()=>EB,decompress_all:()=>DB,decompress_block:()=>yU,decompress_chunk_slice:()=>kB});const hU="data:application/wasm;base64,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fGooAgAiAkF4cSIAaiEDAkACQCACQQFxDQAgAkECcUUNASABKAIAIgIgAGohAAJAIAEgAmsiAUEAKALAoEBHDQAgAygCBEEDcUEDRw0BQQAgADYCuKBAIAMgAygCBEF+cTYCBCABIABBAXI2AgQgAyAANgIADwsgASACEBALAkACQAJAAkACQAJAIAMoAgQiAkECcQ0AIANBACgCxKBARg0CIANBACgCwKBARg0DIAMgAkF4cSICEBAgASACIABqIgBBAXI2AgQgASAAaiAANgIAIAFBACgCwKBARw0BQQAgADYCuKBADwsgAyACQX5xNgIEIAEgAEEBcjYCBCABIABqIAA2AgALIABBgAJJDQIgASAAEBFBACEBQQBBACgC2KBAQX9qIgA2AtigQCAADQQCQEEAKAKgnkAiAEUNAEEAIQEDQCABQQFqIQEgACgCCCIADQALC0EAIAFB/x8gAUH/H0sbNgLYoEAPC0EAIAE2AsSgQEEAQQAoArygQCAAaiIANgK8oEAgASAAQQFyNgIEAkAgAUEAKALAoEBHDQBBAEEANgK4oEBBAEEANgLAoEALIABBACgC0KBAIgRNDQNBACgCxKBAIgBFDQNBACECQQAoArygQCIFQSlJDQJBmJ7AACEBA0ACQCABKAIAIgMgAEsNACAAIAMgASgCBGpJDQQLIAEoAgghAQwACwtBACABNgLAoEBBAEEAKAK4oEAgAGoiADYCuKBAIAEgAEEBcjYCBCABIABqIAA2AgAPCwJAAkBBACgCsKBAIgNBASAAQQN2dCICcQ0AQQAgAyACcjYCsKBAIABB+AFxQaiewABqIgAhAwwBCyAAQfgBcSIDQaiewABqIQAgA0GwnsAAaigCACEDCyAAIAE2AgggAyABNgIMIAEgADYCDCABIAM2AggPCwJAQQAoAqCeQCIBRQ0AQQAhAgNAIAJBAWohAiABKAIIIgENAAsLQQAgAkH/HyACQf8fSxs2AtigQCAFIARNDQBBAEF/NgLQoEALC44FAQd/AkACQCAAKAIIIgNBgICAwAFxRQ0AAkACQAJAAkACQCADQYCAgIABcUUNACAALwEOIgQNAUEAIQIMAgsCQCACQRBJDQAgASACEAYhBQwECwJAIAINAEEAIQJBACEFDAQLIAJBA3EhBgJAAkAgAkEETw0AQQAhBUEAIQcMAQsg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IgJBAWoiAzYCACADRQ0BIAAoAgBBf0YNAiAAKAIQIQAgASACNgIAIAAPCxBdCwALEF8AC1ABAX8CQCACIAAoAgAgACgCCCIDa00NACAAIAMgAkEBQQEQFyAAKAIIIQMLAkAgAkUNACAAKAIEIANqIAEgAvwKAAALIAAgAyACajYCCEEAC0wBAX8CQCAAKAIAIgBBDGooAgAiAUUNACAAQRBqKAIAIAFBARBXCwJAIABBf0YNACAAIAAoAgRBf2oiATYCBCABDQAgAEEcQQQQVwsLRQACQAJAIAFBCUkNACABIAAQDyEBDAELIAAQAiEBCwJAIAFFDQAgAUF8ai0AAEEDcUUNACAARQ0AIAFBACAA/AsACyABC1IBAn9BACEBQQBBACgC6KBAIgJBAWo2AuigQAJAIAJBAEgNAEEBIQFBAC0A5KBADQBBACAAOgDkoEBBAEEAKALgoEBBAWo2AuCgQEECIQELIAELRwECfyABKAIEIQIgASgCACEDEGsCQEEIQQQQWiIBDQBBBEEIEGEACyABIAI2AgQgASADNgIAIABB8JfAADYCBCAAIAE2AgALOAACQAJAIAAgAksNACABIAJLDQEgACABTQ0BIAAgASADECsACyAAIAIgAxAsAAsgASACIAMQLQALQQEBfyMAQSBrIgMkACADQQA2AhAgA0EBNgIEIANCBDcCCCADIAE2AhwgAyAANgIYIAMgA0EYajYCACADIAIQQQALOQACQCACQYCAxABGDQAgACACIAEoAhARBQBFDQBBAQ8LAkAgAw0AQQAPCyAAIAMgBCABKAIMEQcACzYBAX8jAEEgayIBJAAgAUEANgIYIAFBATYCDCABQaSZwAA2AgggAUIENwIQIAFBCGogABBBAAsnAAJAIAAgARBPRQ0AAkAgAEUNABBrIAAgARBaIgFFDQELIAEPCwALLAIBfwF+IwBBEGsiASQAIAApAgAhAiABIAA2AgwgASACNwIEIAFBBGoQZgALLQEBfyMAQRBrIgEkACABIAApAgA3AgggAUEIakH0lsAAIAAoAghBAUEAECEACyoBAX8jAEEQayIDJAAgAyACNgIMIAMgATYCCCADIAA2AgQgA0EEahBnAAsqAQF/IwBBEGsiAiQAIAJBATsBDCACIAE2AgggAiAANgIEIAJBBGoQPgALKQEBfwJAIAAoAgAiAUGAgICAeHJBgICAgHhGDQAgACgCBCABQQEQVwsLHgEBfwJAIAAoAgAiAkUNACABIAIgACgCBBBTDwsACyAAAkAgASgCAEUNACAAQfCXwAA2AgQgACABNgIADwsACxsBAX8QayAAQQRqQQQQWiIBIAA2AgAgAUEEagsjAQF/AkBBjIvAABAwIgANAEHAisAAQTpB/IrAABBAAAsgAAsXAAJAIAFBCUkNACABIAAQDw8LIAAQAgsfAAJAIABBgICAgHhyQYCAgIB4Rg0AIAEgAEEBEFcLCxwBAX8CQCAAKAIAIgFFDQAgACgCBCABQQEQVwsLFgACQCAARQ0AIAAgARBhAAsgAhA8AAsVACAAQXxqIgAgACgCAEEEakEEEFcLGgEBfyABIABBACgC3KBAIgJBAyACGxEEAAALHQAgAEEIakEAKQKYlkA3AgAgAEEAKQKQlkA3AgALHQAgAEEIakEAKQKolkA3AgAgAEEAKQKglkA3AgALFQAgAWlBAUYgAEGAgICAeCABa01xCxIAAkAgAUUNACAAIAEgAhBXCwsSACAAIAEgAiADIARBACAFEAMLFQACQCAARQ0AIAAgACgCqFoRAgALCxYAIAAoAgAgASACIAAoAgQoAgwRBwALDQAgACABIAIgAxAHDwsQACABIAAoAgAgACgCBBBTCxMAIABB8JfAADYCBCAAIAE2AgALCwAgACABIAIQLw8LCgAgACABEGoaAAsLACAAIwBqJAAjAAsJACAAIAEQRw8LCQAgACABEDYPCwkAIAAgARBMDwsMAEG4iMAAQRsQXgALCQAgACABEGMACw0AQdOIwABBzwAQXgALDAAgACABKQIANwMACwkAIAEgABBcAAsNACABQdicwABBGBAKCwgAIAAgARAACwgAIAAgARABCwkAIAAoAgAQUgsHACAAECMACwcAIAAQPwALCQAgAEEANgIACwUAQQAPCwUAEGwACwMADwsDAAALC4YdAgBBgIDAAAvwHC9ob21lL2NkaWVzaC8uY2FyZ28vcmVnaXN0cnkvc3JjL2luZGV4LmNyYXRlcy5pby0xOTQ5Y2Y4YzZiNWI1NTdmL3dhc20tYmluZGdlbi0wLjIuMTA2L3NyYy9jb252ZXJ0L3NsaWNlcy5ycwAvaG9tZS9jZGllc2gvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tMTk0OWNmOGM2YjViNTU3Zi93YXNtLWJpbmRnZW4tMC4yLjEwNi9zcmMvZXh0ZXJucmVmLnJzAC9ob21lL2NkaWVzaC8ucnVzdHVwL3Rvb2xjaGFpbnMvc3RhYmxlLXg4Nl82NC11bmtub3duLWxpbnV4LWdudS9saWIvcnVzdGxpYi9zcmMvcnVzdC9saWJyYXJ5L2FsbG9jL3NyYy9zbGljZS5ycwAvaG9tZS9jZGllc2gvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtdW5rbm93bi1saW51eC1nbnUvbGliL3J1c3RsaWIvc3JjL3J1c3QvbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy9tb2QucnMAL3J1c3RjL2VkNjFlN2Q3ZTI0MjQ5NGZiNzA1N2YyNjU3MzAwZDllNzdiYjRmY2IvbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy9tb2QucnMAL3J1c3QvZGVwcy9kbG1hbGxvYy0wLjIuMTAvc3JjL2RsbWFsbG9jLnJzAGxpYnJhcnkvc3RkL3NyYy9hbGxvYy5ycwAvaG9tZS9jZGllc2gvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tMTk0OWNmOGM2YjViNTU3Zi9saWJkZWZsYXRlci0xLjI1LjAvc3JjL2xpYi5ycwBFARAAdQAAACoCAAARAAAA1QAQAG8AAAC9AQAAHQAAAGF0dGVtcHRlZCB0byB0YWtlIG93bmVyc2hpcCBvZiBSdXN0IHZhbHVlIHdoaWxlIGl0IHdhcyBib3Jyb3dlZAClAhAACgAAAF0AAAAWAAAAaW52YWxpZCBiZ3pmIGhlYWRlcgClAhAACgAAACkAAAAJAAAApQIQAAoAAAAqAAAACQAAAKUCEAAKAAAAKwAAAAkAAAClAhAACgAAACwAAAAJAAAApQIQAAoAAAAwAAAAFgAAAGRlY29tcHJlc3Npb24gZmFpbGVkpQIQAAoAAAAvAAAAHgAAAKUCEAAKAAAApQAAACQAAAClAhAACgAAAKYAAAAkAAAApQIQAAoAAACnAAAAFgAAAKUCEAAKAAAAxQAAABQAAAClAhAACgAAAMYAAAAUAAAApQIQAAoAAADbAAAAGAAAAKUCEAAKAAAA3AAAABgAAAClAhAACgAAANMAAAAxAAAAAAAQAGwAAAAjAQAADgAAAG51bGwgcG9pbnRlciBwYXNzZWQgdG8gcnVzdHJlY3Vyc2l2ZSB1c2Ugb2YgYW4gb2JqZWN0IGRldGVjdGVkIHdoaWNoIHdvdWxkIGxlYWQgdG8gdW5zYWZlIGFsaWFzaW5nIGluIHJ1c3QAAG0AEABnAAAAfwAAABEAAABtABAAZwAAAIwAAAARAAAAbGliZGVmbGF0ZV9kZWZsYXRlX2RlY29tcHJlc3MgcmV0dXJuZWQgYW4gdW5rbm93biBlcnJvciB0eXBlOiB0aGlzIGlzIGFuIGludGVybmFsIGJ1ZyB0aGF0ICoqbXVzdCoqIGJlIGZpeGVkUAIQAF8AAAAMAQAAFQAAAGxpYmRlZmxhdGVfYWxsb2NfZGVjb21wcmVzc29yIHJldHVybmVkIE5VTEw6IG91dCBvZiBtZW1vcnkAAFACEABfAAAAnAAAABEAAAAMAAAAAQAAAAIAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAAAAAAAEAAAACAAAAAwAAAAQAAQAFAAEABwACAAkAAgANAAMAEQADABkABAAhAAQAMQAFAEEABQBhAAYAgQAGAMEABwABAQcAgQEIAAECCAABAwkAAQQJAAEGCgABCAoAAQwLAAEQCwABGAwAASAMAAEwDQABQA0AAWANAAFgDQABYAAAAIAAAAGAAAACgAAAA4AAAASAAAAFgAAABoAAAAeAAAAIgAAACYAAAAqAAAALgAAADIAAAA2AAAAOgAAAD4AAABCAAAARgAAAEoAAABOAAAAUgAAAFYAAABaAAAAXgAAAGIAAABmAAAAagAAAG4AAAByAAAAdgAAAHoAAAB+AAAAggAAAIYAAACKAAAAjgAAAJIAAACWAAAAmgAAAJ4AAACiAAAApgAAAKoAAACuAAAAsgAAALYAAAC6AAAAvgAAAMIAAADGAAAAygAAAM4AAADSAAAA1gAAANoAAADeAAAA4gAAAOYAAADqAAAA7gAAAPIAAAD2AAAA+gAAAP4AAAECAAABBgAAAQoAAAEOAAABEgAAARYAAAEaAAABHgAAASIAAAEmAAABKgAAAS4AAAEyAAABNgAAAToAAAE+AAABQgAAAUYAAAFKAAABTgAAAVIAAAFWAAABWgAAAV4AAAFiAAABZgAAAWoAAAFuAAABcgAAAXYAAAF6AAABfgAAAYIAAAGGAAABigAAAY4AAAGSAAABlgAAAZoAAAGeAAABogAAAaYAAAGqAAABrgAAAbIAAAG2AAABugAAAb4AAAHCAAABxgAAAcoAAAHOAAAB0gAAAdYAAAHaAAAB3gAAAeIAAAHmAAAB6gAAAe4AAAHyAAAB9gAAAfoAAAH+AAACAgAAAgYAAAIKAAACDgAAAhIAAAIWAAACGgAAAh4AAAIiAAACJgAAAioAAAIuAAACMgAAAjYAAAI6AAACPgAAAkIAAAJGAAACSgAAAk4AAAJSAAACVgAAAloAAAJeAAACYgAAAmYAAAJqAAACbgAAAnIAAAJ2AAACegAAAn4AAAKCAAAChgAAAooAAAKOAAACkgAAApYAAAKaAAACngAAAqIAAAKmAAACqgAAAq4AAAKyAAACtgAAAroAAAK+AAACwgAAAsYAAALKAAACzgAAAtIAAALWAAAC2gAAAt4AAALiAAAC5gAAAuoAAALuAAAC8gAAAvYAAAL6AAAC/gAAAwIAAAMGAAADCgAAAw4AAAMSAAADFgAAAxoAAAMeAAADIgAAAyYAAAMqAAADLgAAAzIAAAM2AAADOgAAAz4AAANCAAADRgAAA0oAAANOAAADUgAAA1YAAANaAAADXgAAA2IAAANmAAADagAAA24AAANyAAADdgAAA3oAAAN+AAADggAAA4YAAAOKAAADjgAAA5IAAAOWAAADmgAAA54AAAOiAAADpgAAA6oAAAOuAAADsgAAA7YAAAO6AAADvgAAA8IAAAPGAAADygAAA84AAAPSAAAD1gAAA9oAAAPeAAAD4gAAA+YAAAPqAAAD7gAAA/IAAAP2AAAD+gAAA/4AAoAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgABAAsAAQANAAEADwABABEAAgATAAIAFwACABsAAgAfAAMAIwADACsAAwAzAAMAOwAEAEMABABTAAQAYwAEAHMABQCDAAUAowAFAMMABQDjAAAAAgEAAAIBAAACAW1dy9YsUOtjeEGmV3Ebi7nyfVy2Bv6hO/Xnf5Lkw1AabWVtb3J5IGFsbG9jYXRpb24gb2YgIGJ5dGVzIGZhaWxlZAAAMAsQABUAAABFCxAADQAAADcCEAAYAAAAZAEAAAkAAAAAAAAACAAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAwAAAAEAAAACgAAAAsAAAAMAAAAAAAAAAgAAAAEAAAADQAAAA4AAAAPAAAAEAAAABEAAAAQAAAABAAAABIAAAATAAAAFAAAAAgAAAC7ARAAUAAAACoCAAARAAAAAAAAAAgAAAAEAAAAFQAAAGFzc2VydGlvbiBmYWlsZWQ6IHBzaXplID49IHNpemUgKyBtaW5fb3ZlcmhlYWQAAAwCEAAqAAAAsQQAAAkAAABhc3NlcnRpb24gZmFpbGVkOiBwc2l6ZSA8PSBzaXplICsgbWF4X292ZXJoZWFkAAAMAhAAKgAAALcEAAANAAAACQAAAAwAAAAEAAAAFgAAAGNhcGFjaXR5IG92ZXJmbG93AAAAkAwQABEAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OQEAAAAAAAAAcmFuZ2Ugc3RhcnQgaW5kZXggIG91dCBvZiByYW5nZSBmb3Igc2xpY2Ugb2YgbGVuZ3RoIHwNEAASAAAAjg0QACIAAAByYW5nZSBlbmQgaW5kZXggwA0QABAAAACODRAAIgAAAHNsaWNlIGluZGV4IHN0YXJ0cyBhdCAgYnV0IGVuZHMgYXQgAOANEAAWAAAA9g0QAA0AAABpbmRleCBvdXQgb2YgYm91bmRzOiB0aGUgbGVuIGlzICBidXQgdGhlIGluZGV4IGlzIAAAFA4QACAAAAA0DhAAEgAAAFJlZkNlbGwgYWxyZWFkeSBib3Jyb3dlZABB8JzAAAsEBAAAAAApBG5hbWUBIgFZH19fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIAPAlwcm9kdWNlcnMBDHByb2Nlc3NlZC1ieQIGd2FscnVzBjAuMjQuNAx3YXNtLWJpbmRnZW4HMC4yLjEwNg==";let ne;function EB(n){ne=n}function dU(n){ml===Wn.length&&Wn.push(Wn.length+1);const t=ml;return ml=Wn[t],Wn[t]=n,t}function gU(n){n<132||(Wn[n]=ml,ml=n)}function BB(n,t){return n=n>>>0,pU().subarray(n/4,n/4+t)}function ep(n,t){return n=n>>>0,tp().subarray(n/1,n/1+t)}let Mo=null;function $e(){return(Mo===null||Mo.buffer.detached===!0||Mo.buffer.detached===void 0&&Mo.buffer!==ne.memory.buffer)&&(Mo=new DataView(ne.memory.buffer)),Mo}function vB(n,t){return n=n>>>0,CU(n,t)}let LA=null;function pU(){return(LA===null||LA.byteLength===0)&&(LA=new Uint32Array(ne.memory.buffer)),LA}let OA=null;function tp(){return(OA===null||OA.byteLength===0)&&(OA=new Uint8Array(ne.memory.buffer)),OA}function mU(n){return Wn[n]}let Wn=new Array(128).fill(void 0);Wn.push(void 0,null,!0,!1);let ml=Wn.length;function np(n,t){const e=t(n.length*1,1)>>>0;return tp().set(n,e/1),GA=n.length,e}function ip(n){const t=mU(n);return gU(n),t}let UA=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});UA.decode();const wU=2146435072;let rp=0;function CU(n,t){return rp+=t,rp>=wU&&(UA=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),UA.decode(),rp=t),UA.decode(tp().subarray(n,n+t))}let GA=0;const SB=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>ne.__wbg_chunksliceresult_free(n>>>0,1)),QB=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>ne.__wbg_decompressresult_free(n>>>0,1));class To{static __wrap(t){t=t>>>0;const e=Object.create(To.prototype);return e.__wbg_ptr=t,SB.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,SB.unregister(this),t}free(){const t=this.__destroy_into_raw();ne.__wbg_chunksliceresult_free(t,0)}get cpositions(){try{const r=ne.__wbindgen_add_to_stack_pointer(-16);ne.chunksliceresult_cpositions(r,this.__wbg_ptr);var t=$e().getInt32(r+0,!0),e=$e().getInt32(r+4,!0),i=BB(t,e).slice();return ne.__wbindgen_export(t,e*4,4),i}finally{ne.__wbindgen_add_to_stack_pointer(16)}}get dpositions(){try{const r=ne.__wbindgen_add_to_stack_pointer(-16);ne.chunksliceresult_dpositions(r,this.__wbg_ptr);var t=$e().getInt32(r+0,!0),e=$e().getInt32(r+4,!0),i=BB(t,e).slice();return ne.__wbindgen_export(t,e*4,4),i}finally{ne.__wbindgen_add_to_stack_pointer(16)}}get buffer(){try{const r=ne.__wbindgen_add_to_stack_pointer(-16);ne.chunksliceresult_buffer(r,this.__wbg_ptr);var t=$e().getInt32(r+0,!0),e=$e().getInt32(r+4,!0),i=ep(t,e).slice();return ne.__wbindgen_export(t,e*1,1),i}finally{ne.__wbindgen_add_to_stack_pointer(16)}}}Symbol.dispose&&(To.prototype[Symbol.dispose]=To.prototype.free);class Po{static __wrap(t){t=t>>>0;const e=Object.create(Po.prototype);return e.__wbg_ptr=t,QB.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,QB.unregister(this),t}free(){const t=this.__destroy_into_raw();ne.__wbg_decompressresult_free(t,0)}get bytes_read(){return ne.decompressresult_bytes_read(this.__wbg_ptr)>>>0}get data(){try{const r=ne.__wbindgen_add_to_stack_pointer(-16);ne.decompressresult_data(r,this.__wbg_ptr);var t=$e().getInt32(r+0,!0),e=$e().getInt32(r+4,!0),i=ep(t,e).slice();return ne.__wbindgen_export(t,e*1,1),i}finally{ne.__wbindgen_add_to_stack_pointer(16)}}}Symbol.dispose&&(Po.prototype[Symbol.dispose]=Po.prototype.free);function DB(n){try{const o=ne.__wbindgen_add_to_stack_pointer(-16),a=np(n,ne.__wbindgen_export2),l=GA;ne.decompress_all(o,a,l);var t=$e().getInt32(o+0,!0),e=$e().getInt32(o+4,!0),i=$e().getInt32(o+8,!0),r=$e().getInt32(o+12,!0);if(r)throw ip(i);var s=ep(t,e).slice();return ne.__wbindgen_export(t,e*1,1),s}finally{ne.__wbindgen_add_to_stack_pointer(16)}}function yU(n){try{const r=ne.__wbindgen_add_to_stack_pointer(-16),s=np(n,ne.__wbindgen_export2),o=GA;ne.decompress_block(r,s,o);var t=$e().getInt32(r+0,!0),e=$e().getInt32(r+4,!0),i=$e().getInt32(r+8,!0);if(i)throw ip(e);return Po.__wrap(t)}finally{ne.__wbindgen_add_to_stack_pointer(16)}}function kB(n,t,e,i,r){try{const l=ne.__wbindgen_add_to_stack_pointer(-16),c=np(n,ne.__wbindgen_export2),u=GA;ne.decompress_chunk_slice(l,c,u,t,e,i,r);var s=$e().getInt32(l+0,!0),o=$e().getInt32(l+4,!0),a=$e().getInt32(l+8,!0);if(a)throw ip(o);return To.__wrap(s)}finally{ne.__wbindgen_add_to_stack_pointer(16)}}function xU(n,t){const e=Error(vB(n,t));return dU(e)}function bU(n,t){throw new Error(vB(n,t))}let wl=null,sp=null;async function FB(){return wl||(sp||(sp=(async()=>{const t=await(await fetch(hU)).arrayBuffer(),{instance:e}=await WebAssembly.instantiate(t,{"./bgzf_wasm_bg.js":$g});return wl=e.exports,EB(wl),wl})()),sp)}async function IU(n){return await FB(),DB(n)}async function EU(n,t,e,i,r){await FB();const s=kB(n,t,e,i,r),o=s.buffer,a=[...s.cpositions],l=[...s.dpositions];return s.free(),{buffer:o,cpositions:a,dpositions:l}}function BU(n){return n.length>=2&&n[0]===31&&n[1]===139}async function vU(n){if(typeof DecompressionStream<"u"){const t=new DecompressionStream("gzip"),e=t.writable.getWriter(),i=e.write(n).then(()=>e.close()),r=[],s=t.readable.getReader();for(;;){const{done:c,value:u}=await s.read();if(c)break;r.push(u)}await i;const o=r.reduce((c,u)=>c+u.length,0),a=new Uint8Array(o);let l=0;for(const c of r)a.set(c,l),l+=c.length;return a}else return AU(n,void 0)}async function Lo(n){try{return await IU(n)}catch(t){if(/invalid bgzf header/.exec(`${t}`)){if(BU(n))return vU(n);throw new Error("problem decompressing block: not a valid bgzf or gzip block")}throw/invalid gzip header/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function RB(n,t,e){try{const{minv:i,maxv:r}=t,s=await EU(n,i.blockPosition,i.dataPosition,r.blockPosition,r.dataPosition);return{buffer:s.buffer,cpositions:s.cpositions,dpositions:s.dpositions}}catch(i){throw/invalid gzip header/.exec(`${i}`)?new Error("problem decompressing block: incorrect gzip header check"):i}}let op=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(op=new Int32Array(op));const SU=(n,t)=>{let e=-1;for(let i=0;i<n.length;i++)e=op[(e^n[i])&255]^e>>>8;return e^-1},QU=21582659,DU=38359875;function kU(n,t){return n*2**t}function NB(n,t){return Math.floor(n/2**t)}let zA=class extends RE{constructor(){super(...arguments),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,e){var r,s;return((s=(r=(await this.parse(e)).indices(t))==null?void 0:r.stats)==null?void 0:s.lineCount)||0}async indexCov(){return[]}parseAuxData(t,e){const i=new DataView(t.buffer),r=i.getUint32(e,!0),s=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:i.getInt32(e+4,!0),start:i.getInt32(e+8,!0),end:i.getInt32(e+12,!0)},l=i.getInt32(e+16,!0),c=l?String.fromCharCode(l):"",u=i.getInt32(e+20,!0),f=i.getInt32(e+24,!0);return{columnNumbers:a,coordinateType:s,metaValue:l,metaChar:c,skipLines:u,format:o,formatFlags:r,...IO(t.subarray(e+28,e+28+f),this.renameRefSeq)}}async _parse(t){const e=await this.filehandle.readFile(t),i=await Lo(e),r=new DataView(i.buffer);let s;const o=r.getUint32(0,!0);if(o===QU)s=1;else if(o===DU)s=2;else throw new Error(`Not a CSI file ${o}`);this.minShift=r.getInt32(4,!0),this.depth=r.getInt32(8,!0),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const a=this.maxBinNumber,l=r.getInt32(12,!0),c=l>=30?this.parseAuxData(i,16):void 0,u=r.getInt32(16+l,!0);let f=16+l+4,h;const A=[];for(let w=0;w<u;w++){A.push(f);const m=r.getInt32(f,!0);f+=4;for(let y=0;y<m;y++){const x=r.getUint32(f,!0);if(f+=4,x>this.maxBinNumber)f+=44;else{f+=8;const C=r.getInt32(f,!0);f+=4;for(let E=0;E<C;E+=1){const B=Oi(i,f);f+=8,f+=8,h=hl(h,B)}}}}const d=new Al({maxSize:5});function p(w){let m=A[w];if(m===void 0)return;const y=r.getInt32(m,!0);m+=4;const x={};let C;for(let E=0;E<y;E++){const B=r.getUint32(m,!0);if(m+=4,B>a)C=FE(i,m+28),m+=44;else{h=hl(h,Oi(i,m)),m+=8;const b=r.getInt32(m,!0);m+=4;const D=new Array(b);for(let R=0;R<b;R+=1){const k=Oi(i,m);m+=8;const P=Oi(i,m);m+=8,D[R]=new DE(k,P,B)}x[B]=D}}return{binIndex:x,stats:C}}return{csiVersion:s,firstDataLine:h,indices:w=>{if(!d.has(w)){const m=p(w);return m&&d.set(w,m),m}return d.get(w)},refCount:u,csi:!0,maxBlockSize:65536,...c}}async blocksForRange(t,e,i,r={}){e<0&&(e=0);const o=(await this.parse(r)).indices(t);if(!o)return[];const a=this.reg2bins(e,i);if(a.length===0)return[];const l=[],{binIndex:c}=o;for(const[u,f]of a)for(let h=u;h<=f;h++){const A=c[h];if(A)for(let d=0,p=A.length;d<p;d++)l.push(A[d])}return zg(l,new NE(0,0))}reg2bins(t,e){t-=1,t<1&&(t=1),e>2**50&&(e=2**34),e-=1;let i=0,r=0,s=this.minShift+this.depth*3;const o=[];for(;i<=this.depth;s-=3,r+=kU(1,i*3),i+=1){const a=r+NB(t,s),l=r+NB(e,s);if(l-a+o.length>this.maxBinNumber)throw new Error(`query ${t}-${e} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,l])}return o}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(e=>{throw this.setupP=void 0,e})),this.setupP}async hasRefSeq(t,e={}){var r;return!!((r=(await this.parse(e)).indices(t))!=null&&r.binIndex)}};class FU{read(){throw new Error("never called")}stat(){throw new Error("never called")}readFile(){throw new Error("never called")}close(){throw new Error("never called")}}const RU=3,NU=4,Jt={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},Cl="=ACMGRSVTWYHKDBN".split(""),MU=[77,73,68,78,83,72,80,61,88,63,63,63,63,63,63,63],MB=461;class TB{constructor(t){this.bytes=t.bytes,this.fileOffset=t.fileOffset,this._dataView=new DataView(this.bytes.byteArray.buffer)}get byteArray(){return this.bytes.byteArray}get flags(){return this._cachedFlags===void 0&&(this._cachedFlags=(this._dataView.getInt32(this.bytes.start+16,!0)&4294901760)>>16),this._cachedFlags}get ref_id(){return this._cachedRefId===void 0&&(this._cachedRefId=this._dataView.getInt32(this.bytes.start+4,!0)),this._cachedRefId}get start(){return this._cachedStart===void 0&&(this._cachedStart=this._dataView.getInt32(this.bytes.start+8,!0)),this._cachedStart}get end(){return this._cachedEnd===void 0&&(this._cachedEnd=this.start+this.length_on_ref),this._cachedEnd}get mq(){const t=(this.bin_mq_nl&65280)>>8;return t===255?void 0:t}get score(){return this.mq}get qual(){if(this.isSegmentUnmapped())return null;{const t=this.b0+this.read_name_length+this.num_cigar_bytes+this.num_seq_bytes;return this.byteArray.subarray(t,t+this.seq_length)}}get strand(){return this.isReverseComplemented()?-1:1}get b0(){return this.bytes.start+36}get tagsStart(){return this._cachedTagsStart===void 0&&(this._cachedTagsStart=this.b0+this.read_name_length+this.num_cigar_bytes+this.num_seq_bytes+this.seq_length),this._cachedTagsStart}get name(){const t=this.read_name_length-1,e=this.b0,i=this.byteArray,r=new Array(t);for(let s=0;s<t;s++)r[s]=i[e+s];return String.fromCharCode(...r)}get NUMERIC_MD(){if(this._cachedNUMERIC_MD===void 0){const t=this.getTagRaw("MD");this._cachedNUMERIC_MD=t instanceof Uint8Array?t:null}return this._cachedNUMERIC_MD===null?void 0:this._cachedNUMERIC_MD}get tags(){return this._cachedTags===void 0&&(this._cachedTags=this._computeTags()),this._cachedTags}getTag(t){return this._cachedTags!==void 0?this._cachedTags[t]:this._findTag(t,!1)}getTagRaw(t){return this._findTag(t,!0)}_findTag(t,e){const i=t.charCodeAt(0),r=t.charCodeAt(1);let s=this.tagsStart;const o=this.bytes.end,a=this.byteArray;for(;s<o;){const l=a[s],c=a[s+1],u=a[s+2];s+=3;const f=l===i&&c===r;switch(u){case 65:if(f)return String.fromCharCode(a[s]);s+=1;break;case 105:if(f)return this._dataView.getInt32(s,!0);s+=4;break;case 73:if(f)return this._dataView.getUint32(s,!0);s+=4;break;case 99:if(f)return this._dataView.getInt8(s);s+=1;break;case 67:if(f)return this._dataView.getUint8(s);s+=1;break;case 115:if(f)return this._dataView.getInt16(s,!0);s+=2;break;case 83:if(f)return this._dataView.getUint16(s,!0);s+=2;break;case 102:if(f)return this._dataView.getFloat32(s,!0);s+=4;break;case 90:case 72:{if(f){const h=s;for(;s<o&&a[s]!==0;)s++;if(e)return a.subarray(h,s);const A=[];for(let d=h;d<s;d++)A.push(String.fromCharCode(a[d]));return A.join("")}for(;s<=o&&a[s++]!==0;);break}case 66:{const h=a[s++],A=this._dataView.getInt32(s,!0);s+=4;const d=a.byteOffset+s;if(f)if(h===105){if(d%4===0)return new Int32Array(a.buffer,d,A);const p=new Array(A);for(let w=0;w<A;w++)p[w]=this._dataView.getInt32(s+w*4,!0);return p}else if(h===73){if(d%4===0)return new Uint32Array(a.buffer,d,A);const p=new Array(A);for(let w=0;w<A;w++)p[w]=this._dataView.getUint32(s+w*4,!0);return p}else if(h===115){if(d%2===0)return new Int16Array(a.buffer,d,A);const p=new Array(A);for(let w=0;w<A;w++)p[w]=this._dataView.getInt16(s+w*2,!0);return p}else if(h===83){if(d%2===0)return new Uint16Array(a.buffer,d,A);const p=new Array(A);for(let w=0;w<A;w++)p[w]=this._dataView.getUint16(s+w*2,!0);return p}else{if(h===99)return new Int8Array(a.buffer,d,A);if(h===67)return new Uint8Array(a.buffer,d,A);if(h===102){if(d%4===0)return new Float32Array(a.buffer,d,A);const p=new Array(A);for(let w=0;w<A;w++)p[w]=this._dataView.getFloat32(s+w*4,!0);return p}}h===105||h===73||h===102?s+=A<<2:h===115||h===83?s+=A<<1:(h===99||h===67)&&(s+=A);break}}}}_computeTags(){let t=this.tagsStart;const e=this.bytes.end,i=this.byteArray,r={};for(;t<e;){const s=String.fromCharCode(i[t],i[t+1]),o=i[t+2];switch(t+=3,o){case 65:r[s]=String.fromCharCode(i[t]),t+=1;break;case 105:r[s]=this._dataView.getInt32(t,!0),t+=4;break;case 73:r[s]=this._dataView.getUint32(t,!0),t+=4;break;case 99:r[s]=this._dataView.getInt8(t),t+=1;break;case 67:r[s]=this._dataView.getUint8(t),t+=1;break;case 115:r[s]=this._dataView.getInt16(t,!0),t+=2;break;case 83:r[s]=this._dataView.getUint16(t,!0),t+=2;break;case 102:r[s]=this._dataView.getFloat32(t,!0),t+=4;break;case 90:case 72:{const a=[];for(;t<=e;){const l=i[t++];if(l!==0)a.push(String.fromCharCode(l));else break}r[s]=a.join("");break}case 66:{const a=i[t++],l=this._dataView.getInt32(t,!0);t+=4;const c=i.byteOffset+t;if(a===105){if(c%4===0)r[s]=new Int32Array(i.buffer,c,l);else{const u=new Array(l);for(let f=0;f<l;f++)u[f]=this._dataView.getInt32(t+f*4,!0);r[s]=u}t+=l<<2}else if(a===73){if(c%4===0)r[s]=new Uint32Array(i.buffer,c,l);else{const u=new Array(l);for(let f=0;f<l;f++)u[f]=this._dataView.getUint32(t+f*4,!0);r[s]=u}t+=l<<2}else if(a===115){if(c%2===0)r[s]=new Int16Array(i.buffer,c,l);else{const u=new Array(l);for(let f=0;f<l;f++)u[f]=this._dataView.getInt16(t+f*2,!0);r[s]=u}t+=l<<1}else if(a===83){if(c%2===0)r[s]=new Uint16Array(i.buffer,c,l);else{const u=new Array(l);for(let f=0;f<l;f++)u[f]=this._dataView.getUint16(t+f*2,!0);r[s]=u}t+=l<<1}else if(a===99)r[s]=new Int8Array(i.buffer,c,l),t+=l;else if(a===67)r[s]=new Uint8Array(i.buffer,c,l),t+=l;else if(a===102){if(c%4===0)r[s]=new Float32Array(i.buffer,c,l);else{const u=new Array(l);for(let f=0;f<l;f++)u[f]=this._dataView.getFloat32(t+f*4,!0);r[s]=u}t+=l<<2}break}default:console.error("Unknown BAM tag type",o);break}}return r}isPaired(){return!!(this.flags&Jt.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&Jt.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&Jt.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&Jt.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&Jt.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&Jt.BAM_FMREVERSE)}isRead1(){return!!(this.flags&Jt.BAM_FREAD1)}isRead2(){return!!(this.flags&Jt.BAM_FREAD2)}isSecondary(){return!!(this.flags&Jt.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&Jt.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&Jt.BAM_FDUP)}isSupplementary(){return!!(this.flags&Jt.BAM_FSUPPLEMENTARY)}get cigarAndLength(){return this._cachedCigarAndLength===void 0&&(this._cachedCigarAndLength=this._computeCigarAndLength()),this._cachedCigarAndLength}_computeCigarAndLength(){if(this.isSegmentUnmapped())return{length_on_ref:0,NUMERIC_CIGAR:new Uint32Array(0)};const t=this.num_cigar_ops;let e=this.b0+this.read_name_length;const i=this._dataView.getInt32(e,!0),r=i>>4;if((i&15)===NU&&r===this.seq_length){e+=4;const u=this._dataView.getInt32(e,!0),f=u>>4;return(u&15)!==RU&&console.warn("CG tag with no N tag"),{NUMERIC_CIGAR:this.tags.CG,length_on_ref:f}}const o=this.byteArray.byteOffset+e;if(o%4===0&&t>50){const u=new Uint32Array(this.byteArray.buffer,o,t);let f=0;for(let h=0;h<t;++h){const A=u[h];f+=(A>>4)*(MB>>(A&15)&1)}return{NUMERIC_CIGAR:u,length_on_ref:f}}const l=new Array(t);let c=0;for(let u=0;u<t;++u){const f=this._dataView.getInt32(e+u*4,!0)|0;l[u]=f,c+=(f>>4)*(MB>>(f&15)&1)}return{NUMERIC_CIGAR:l,length_on_ref:c}}get length_on_ref(){return this.cigarAndLength.length_on_ref}get NUMERIC_CIGAR(){return this.cigarAndLength.NUMERIC_CIGAR}get CIGAR(){const t=this.NUMERIC_CIGAR;let e="";for(let i=0,r=t.length;i<r;i++){const s=t[i],o=s>>4,a=MU[s&15];e+=o+String.fromCharCode(a)}return e}get num_cigar_ops(){return this.flag_nc&65535}get num_cigar_bytes(){return this.num_cigar_ops<<2}get read_name_length(){return this.bin_mq_nl&255}get num_seq_bytes(){return this.seq_length+1>>1}get NUMERIC_SEQ(){const t=this.b0+this.read_name_length+this.num_cigar_bytes;return this.byteArray.subarray(t,t+this.num_seq_bytes)}get seq(){const t=this.NUMERIC_SEQ,e=this.seq_length,i=new Array(e);let r=0;const s=e>>1;for(let o=0;o<s;++o){const a=t[o];i[r++]=Cl[(a&240)>>4],i[r++]=Cl[a&15]}if(r<e){const o=t[s];i[r]=Cl[(o&240)>>4]}return i.join("")}get pair_orientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this.ref_id===this.next_refid){const t=this.isReverseComplemented()?"R":"F",e=this.isMateReverseComplemented()?"R":"F";let i=" ",r=" ";return this.isRead1()?(i="1",r="2"):this.isRead2()&&(i="2",r="1"),this.template_length>0?`${t}${i}${e}${r}`:`${e}${r}${t}${i}`}}get bin_mq_nl(){return this._dataView.getInt32(this.bytes.start+12,!0)}get flag_nc(){return this._dataView.getInt32(this.bytes.start+16,!0)}get seq_length(){return this._dataView.getInt32(this.bytes.start+20,!0)}get next_refid(){return this._dataView.getInt32(this.bytes.start+24,!0)}get next_pos(){return this._dataView.getInt32(this.bytes.start+28,!0)}get template_length(){return this._dataView.getInt32(this.bytes.start+32,!0)}seqAt(t){if(t<this.seq_length){const e=t>>1,i=this.byteArray[this.b0+this.read_name_length+this.num_cigar_bytes+e];return t%2===0?Cl[(i&240)>>4]:Cl[i&15]}else return}toJSON(){const t={};for(const e of Object.keys(this))e.startsWith("_")||e==="bytes"||(t[e]=this[e]);return t}}function PB(n){const t=n.split(/\r?\n/),e=[];for(const i of t){const[r,...s]=i.split(/\t/);r&&e.push({tag:r.slice(1),data:s.map(o=>{const a=o.indexOf(":"),l=o.slice(0,a),c=o.slice(a+1);return{tag:l,value:c}})})}return e}const LB=21840194,TU=65536;class OB{constructor({bamFilehandle:t,bamPath:e,bamUrl:i,baiPath:r,baiFilehandle:s,baiUrl:o,csiPath:a,csiFilehandle:l,csiUrl:c,htsget:u,renameRefSeqs:f=A=>A,recordClass:h}){if(this.htsget=!1,this.chunkFeatureCache=new Al({maxSize:100}),this.renameRefSeq=f,this.RecordClass=h??TB,t)this.bam=t;else if(e)this.bam=new ft(e);else if(i)this.bam=new vn(i);else if(u)this.htsget=!0,this.bam=new FU;else throw new Error("unable to initialize bam");if(l)this.index=new zA({filehandle:l});else if(a)this.index=new zA({filehandle:new ft(a)});else if(c)this.index=new zA({filehandle:new vn(c)});else if(s)this.index=new Qo({filehandle:s});else if(r)this.index=new Qo({filehandle:new ft(r)});else if(o)this.index=new Qo({filehandle:new vn(o)});else if(e)this.index=new Qo({filehandle:new ft(`${e}.bai`)});else if(i)this.index=new Qo({filehandle:new vn(`${i}.bai`)});else if(u)this.htsget=!0;else throw new Error("unable to infer index format")}async getHeaderPre(t){const e=bO(t);if(!this.index)return;const i=await this.index.parse(e),r=i.firstDataLine===void 0?await this.bam.readFile():await this.bam.read(i.firstDataLine.blockPosition+TU,0),s=await Lo(r),o=new DataView(s.buffer);if(o.getInt32(0,!0)!==LB)throw new Error("Not a BAM file");const a=o.getInt32(4,!0),l=new TextDecoder("utf8");this.header=l.decode(s.subarray(8,8+a));const{chrToIndex:c,indexToChr:u}=this._parseRefSeqs(s,a+8);return this.chrToIndex=c,this.indexToChr=u,PB(this.header)}getHeader(t){return this.headerP||(this.headerP=this.getHeaderPre(t).catch(e=>{throw this.headerP=void 0,e})),this.headerP}async getHeaderText(t={}){return await this.getHeader(t),this.header}_parseRefSeqs(t,e){const i=new DataView(t.buffer),r=i.getInt32(e,!0);let s=e+4;const o={},a=[],l=new TextDecoder("utf8");for(let c=0;c<r;c+=1){if(s+8>t.length)throw new Error(`Insufficient data for reference sequences: need more than ${t.length} bytes`);const u=i.getInt32(s,!0),f=this.renameRefSeq(l.decode(t.subarray(s+4,s+4+u-1))),h=i.getInt32(s+u+4,!0);o[f]=c,a.push({refName:f,length:h}),s=s+8+u}return{chrToIndex:o,indexToChr:a}}async getRecordsForRange(t,e,i,r){var a;await this.getHeader(r);const s=(a=this.chrToIndex)==null?void 0:a[t];if(s===void 0||!this.index)return[];const o=await this.index.blocksForRange(s,e-1,i,r);return this._fetchChunkFeaturesDirect(o,s,e,i,r)}chunkCacheKey(t,e){const{minv:i,maxv:r}=t;return`${i.blockPosition}:${i.dataPosition}-${r.blockPosition}:${r.dataPosition}${SO(e)}`}blocksOverlap(t,e,i,r){return t<=r&&e>=i}evictOverlappingChunks(t,e){for(const[i,r]of this.chunkFeatureCache)this.blocksOverlap(t,e,r.minBlock,r.maxBlock)&&this.chunkFeatureCache.delete(i)}async _fetchChunkFeaturesDirect(t,e,i,r,s={}){const{viewAsPairs:o,filterBy:a}=s,{flagInclude:l=0,flagExclude:c=0,tagFilter:u}=a||{},f=[];for(let h=0,A=t.length;h<A;h++){const d=t[h],p=this.chunkCacheKey(d,a),w=d.minv.blockPosition,m=d.maxv.blockPosition;let y;const x=this.chunkFeatureCache.get(p);if(x)y=x.features;else{this.evictOverlappingChunks(w,m);const{data:E,cpositions:B,dpositions:b}=await this._readChunk({chunk:d,opts:s}),D=await this.readBamFeatures(E,B,b,d);if(a){y=[];for(let R=0,k=D.length;R<k;R++){const P=D[R];BO(P.flags,l,c)||u&&vO(P.tags[u.tag],u.value)||y.push(P)}}else y=D;this.chunkFeatureCache.set(p,{minBlock:w,maxBlock:m,features:y})}let C=!1;for(let E=0,B=y.length;E<B;E++){const b=y[E];if(b.ref_id===e)if(b.start>=r){C=!0;break}else b.end>=i&&f.push(b)}if(C)break}if(o){const h=await this.fetchPairs(e,f,s);for(let A=0,d=h.length;A<d;A++)f.push(h[A])}return f}async fetchPairs(t,e,i){const{pairAcrossChr:r,maxInsertSize:s=2e5}=i,o={},a={};for(let h=0,A=e.length;h<A;h++){const d=e[h],p=d.name;o[p]=(o[p]||0)+1,a[d.fileOffset]=1}const l=[];for(let h=0,A=e.length;h<A;h++){const d=e[h],p=d.name;this.index&&o[p]===1&&(r||d.next_refid===t&&Math.abs(d.start-d.next_pos)<s)&&l.push(this.index.blocksForRange(d.next_refid,d.next_pos,d.next_pos+1,i))}const c=new Map,u=await Promise.all(l);for(let h=0,A=u.length;h<A;h++){const d=u[h];for(let p=0,w=d.length;p<w;p++){const m=d[p],y=m.toString();c.has(y)||c.set(y,m)}}return(await Promise.all([...c.values()].map(async h=>{const{data:A,cpositions:d,dpositions:p,chunk:w}=await this._readChunk({chunk:h,opts:i}),m=[],y=await this.readBamFeatures(A,d,p,w);for(let x=0,C=y.length;x<C;x++){const E=y[x];o[E.name]===1&&!a[E.fileOffset]&&m.push(E)}return m}))).flat()}async _readChunk({chunk:t,opts:e}){const i=await this.bam.read(t.fetchedSize(),t.minv.blockPosition,e),{buffer:r,cpositions:s,dpositions:o}=await RB(i,t);return{data:r,cpositions:s,dpositions:o,chunk:t}}async readBamFeatures(t,e,i,r){let s=0;const o=[];let a=0;const l=new DataView(t.buffer),c=i.length>0,u=e.length>0;for(;s+4<t.length;){const f=l.getInt32(s,!0),h=s+4+f-1;if(c){for(;s+r.minv.dataPosition>=i[a++];);a--}if(h<t.length){const A=new this.RecordClass({bytes:{byteArray:t,start:s,end:h},fileOffset:u?e[a]*256+(s-i[a])+r.minv.dataPosition+1:SU(t.subarray(s,h))>>>0});o.push(A)}s=h+1}return o}async hasRefSeq(t){var i,r;const e=(i=this.chrToIndex)==null?void 0:i[t];return e===void 0?!1:(r=this.index)==null?void 0:r.hasRefSeq(e)}async lineCount(t){var i;const e=(i=this.chrToIndex)==null?void 0:i[t];return e===void 0||!this.index?0:this.index.lineCount(e)}async indexCov(t,e,i){var s;if(!this.index)return[];await this.index.parse();const r=(s=this.chrToIndex)==null?void 0:s[t];return r===void 0?[]:this.index.indexCov(r,e,i)}async blocksForRange(t,e,i,r){var o;if(!this.index)return[];await this.index.parse();const s=(o=this.chrToIndex)==null?void 0:o[t];return s===void 0?[]:this.index.blocksForRange(s,e,i,r)}clearFeatureCache(){this.chunkFeatureCache.clear()}async estimatedBytesForRegions(t,e){if(!this.index)return 0;if(await this.getHeader(e),!this.chrToIndex)throw new Error("Header not yet parsed");return this.index.estimatedBytesForRegions(t.map(i=>{const r=this.chrToIndex[i.refName];if(r===void 0)throw new Error(`Unknown reference name: ${i.refName}`);return{refId:r,start:i.start,end:i.end}}),e)}}async function UB(n,t){const e=await Promise.all(n.map(async i=>{const{url:r,headers:s}=i;if(r.startsWith("data:")){const o=await fetch(r);if(!o.ok)throw new Error("failed to decode base64");const a=await o.arrayBuffer();return new Uint8Array(a)}else{const{referer:o,...a}=s,l=await fetch(r,{...t,headers:{...t==null?void 0:t.headers,...a}});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${r}: ${await l.text()}`);return new Uint8Array(await l.arrayBuffer())}}));return EO(await Promise.all(e.map(i=>Lo(i))))}class PU extends OB{constructor(t){super({htsget:!0,recordClass:t.recordClass}),this.baseUrl=t.baseUrl,this.trackId=t.trackId}async getRecordsForRange(t,e,i,r){var A;const o=`${`${this.baseUrl}/${this.trackId}`}?referenceName=${t}&start=${e}&end=${i}&format=BAM`,a=(A=this.chrToIndex)==null?void 0:A[t];if(a===void 0)return[];const l=await fetch(o,{...r});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${o}: ${await l.text()}`);const c=await l.json(),u=await UB(c.htsget.urls.slice(1),r),f=await this.readBamFeatures(u,[],[],{minv:{dataPosition:0,blockPosition:0},maxv:{dataPosition:0,blockPosition:0}}),h=[];for(let d=0,p=f.length;d<p;d++){const w=f[d];if(w.ref_id===a){if(w.start>=i)break;w.end>=e&&h.push(w)}}return h}async getHeader(t={}){const e=`${this.baseUrl}/${this.trackId}?referenceName=na&class=header`,i=await fetch(e,t);if(!i.ok)throw new Error(`HTTP ${i.status} fetching ${e}: ${await i.text()}`);const r=await i.json(),s=await UB(r.htsget.urls,t),o=new DataView(s.buffer);if(o.getInt32(0,!0)!==LB)throw new Error("Not a BAM file");const a=o.getInt32(4,!0),c=new TextDecoder("utf8").decode(s.subarray(8,8+a)),u=PB(c),f=[],h={},A=u.filter(d=>d.tag==="SQ");for(const[d,p]of A.entries()){let w="",m=0;for(const y of p.data)y.tag==="SN"?w=y.value:y.tag==="LN"&&(m=+y.value);h[w]=d,f[d]={refName:w,length:m}}return this.chrToIndex=h,this.indexToChr=f,u}}const LU=Object.freeze(Object.defineProperty({__proto__:null,BAI:Qo,BamFile:OB,BamRecord:TB,CSI:zA,HtsgetFile:PU},Symbol.toStringTag,{value:"Module"}));class HA{constructor(t,e,i,r){this.minv=t,this.maxv=e,this.bin=i,this._fetchedSize=r}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class GB{constructor({filehandle:t,renameRefSeqs:e=i=>i}){this.filehandle=t,this.renameRefSeq=e}async getMetadata(t={}){const{indices:e,...i}=await this.parse(t);return i}_findFirstData(t,e){return t?t.compareTo(e)>0?e:t:e}async parse(t={}){return this.parseP||(this.parseP=this._parse(t).catch(e=>{throw this.parseP=void 0,e})),this.parseP}async hasRefSeq(t,e={}){var r;return!!((r=(await this.parse(e)).indices[t])!=null&&r.binIndex)}_parseNameBytes(t){let e=0,i=0;const r=[],s={},o=new TextDecoder("utf8");for(let a=0;a<t.length;a+=1)if(!t[a]){if(i<a){const l=this.renameRefSeq(o.decode(t.subarray(i,a)));r[e]=l,s[l]=e}i=a+1,e+=1}return{refNameToId:s,refIdToName:r}}}const zB=65536,OU=zB*zB;function HB(n,t=0){const e=n[t]|n[t+1]<<8|n[t+2]<<16|n[t+3]<<24;return((n[t+4]|n[t+5]<<8|n[t+6]<<16|n[t+7]<<24)>>>0)*OU+(e>>>0)}function UU(n,t){return t.minv.blockPosition-n.maxv.blockPosition<65e3&&t.maxv.blockPosition-n.minv.blockPosition<5e6}function _B(n,t){const e=[];let i;if(n.length===0)return n;n.sort(function(r,s){const o=r.minv.blockPosition-s.minv.blockPosition;return o===0?r.minv.dataPosition-s.minv.dataPosition:o});for(const r of n)(!t||r.maxv.compareTo(t)>0)&&(i===void 0?(e.push(r),i=r):UU(i,r)?r.maxv.compareTo(i.maxv)>0&&(i.maxv=r.maxv):(e.push(r),i=r));return e}class ap{constructor(t,e){this.blockPosition=t,this.dataPosition=e}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}}function Oo(n,t=0){return new ap(n[t+7]*1099511627776+n[t+6]*4294967296+n[t+5]*16777216+n[t+4]*65536+n[t+3]*256+n[t+2],n[t+1]<<8|n[t])}const GU=21582659,zU=38359875,HU={0:"generic",1:"SAM",2:"VCF"};function _U(n,t){return n*2**t}function VB(n,t){return Math.floor(n/2**t)}class _A extends GB{constructor(t){super(t),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,e={}){const i=await this.parse(e),r=i.refNameToId[t];if(r===void 0||!i.indices[r])return-1;const{stats:o}=i.indices[r];return o?o.lineCount:-1}indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(t,e){const i=new DataView(t.buffer),r=i.getInt32(e,!0),s=r&65536?"zero-based-half-open":"1-based-closed",o=HU[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:i.getInt32(e+4,!0),start:i.getInt32(e+8,!0),end:i.getInt32(e+12,!0)},l=i.getInt32(e+16,!0),c=l?String.fromCharCode(l):void 0,u=i.getInt32(e+20,!0),f=i.getInt32(e+24,!0),{refIdToName:h,refNameToId:A}=this._parseNameBytes(t.subarray(e+28,e+28+f));return{refIdToName:h,refNameToId:A,skipLines:u,metaChar:c,columnNumbers:a,format:o,coordinateType:s}}async _parse(t={}){const e=await Lo(await this.filehandle.readFile(t)),i=new DataView(e.buffer);let r;if(i.getUint32(0,!0)===GU)r=1;else if(i.getUint32(0,!0)===zU)r=2;else throw new Error("Not a CSI file");this.minShift=i.getInt32(4,!0),this.depth=i.getInt32(8,!0),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const s=2**(this.minShift+this.depth*3),o=i.getInt32(12,!0),a=o&&o>=30?this.parseAuxData(e,16):{refIdToName:[],refNameToId:{},metaChar:void 0,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},l=i.getInt32(16+o,!0);let c,u=16+o+4;const f=new Array(l).fill(0).map(()=>{const h=i.getInt32(u,!0);u+=4;const A={};let d;for(let p=0;p<h;p+=1){const w=i.getUint32(u,!0);if(w>this.maxBinNumber)d=this.parsePseudoBin(e,u+4),u+=48;else{const m=Oo(e,u+4);c=this._findFirstData(c,m);const y=i.getInt32(u+12,!0);u+=16;const x=new Array(y);for(let C=0;C<y;C+=1){const E=Oo(e,u),B=Oo(e,u+8);u+=16,x[C]=new HA(E,B,w)}A[w]=x}}return{binIndex:A,stats:d}});return{...a,csi:!0,refCount:l,maxBlockSize:65536,firstDataLine:c,csiVersion:r,indices:f,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:s}}parsePseudoBin(t,e){return{lineCount:HB(t,e+28)}}async blocksForRange(t,e,i,r={}){e<0&&(e=0);const s=await this.parse(r),o=s.refNameToId[t];if(o===void 0)return[];const a=s.indices[o];if(!a)return[];const l=this.reg2bins(e,i),c=[];for(const[u,f]of l)for(let h=u;h<=f;h++)if(a.binIndex[h])for(const A of a.binIndex[h])c.push(new HA(A.minv,A.maxv,h));return _B(c,new ap(0,0))}reg2bins(t,e){t-=1,t<1&&(t=1),e>2**50&&(e=2**34),e-=1;let i=0,r=0,s=this.minShift+this.depth*3;const o=[];for(;i<=this.depth;s-=3,r+=_U(1,i*3),i+=1){const a=r+VB(t,s),l=r+VB(e,s);if(l-a+o.length>this.maxBinNumber)throw new Error(`query ${t}-${e} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,l])}return o}}const VU=21578324,YB=14;function YU(n,t){return n+=1,t-=1,[[0,0],[1+(n>>26),1+(t>>26)],[9+(n>>23),9+(t>>23)],[73+(n>>20),73+(t>>20)],[585+(n>>17),585+(t>>17)],[4681+(n>>14),4681+(t>>14)]]}class Uo extends GB{async lineCount(t,e={}){var o;const i=await this.parse(e),r=i.refNameToId[t];return r===void 0||!i.indices[r]?-1:((o=i.indices[r].stats)==null?void 0:o.lineCount)??-1}async _parse(t={}){const e=await this.filehandle.readFile(t),i=await Lo(e),r=new DataView(i.buffer);if(r.getUint32(0,!0)!==VU)throw new Error("Not a TBI file");const o=r.getUint32(4,!0),a=r.getUint32(8,!0),l=a&65536?"zero-based-half-open":"1-based-closed",u={0:"generic",1:"SAM",2:"VCF"}[a&15];if(!u)throw new Error(`invalid Tabix preset format flags ${a}`);const f={ref:r.getInt32(12,!0),start:r.getInt32(16,!0),end:r.getInt32(20,!0)},h=r.getInt32(24,!0),A=5,d=((1<<(A+1)*3)-1)/7,p=2**(14+A*3),w=h?String.fromCharCode(h):void 0,m=r.getInt32(28,!0),y=r.getInt32(32,!0),{refNameToId:x,refIdToName:C}=this._parseNameBytes(i.slice(36,36+y));let E=36+y,B;return{indices:new Array(o).fill(0).map(()=>{const D=r.getInt32(E,!0);E+=4;const R={};let k;for(let O=0;O<D;O+=1){const z=r.getUint32(E,!0);if(E+=4,z>d+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(z===d+1){const J=r.getInt32(E,!0);E+=4,J===2&&(k=this.parsePseudoBin(i,E)),E+=16*J}else{const J=r.getInt32(E,!0);E+=4;const _=new Array(J);for(let q=0;q<J;q+=1){const se=Oo(i,E),re=Oo(i,E+8);E+=16,B=this._findFirstData(B,se),_[q]=new HA(se,re,z)}R[z]=_}}const P=r.getInt32(E,!0);E+=4;const T=new Array(P);for(let O=0;O<P;O+=1)T[O]=Oo(i,E),E+=8,B=this._findFirstData(B,T[O]);return{binIndex:R,linearIndex:T,stats:k}}),metaChar:w,maxBinNumber:d,maxRefLength:p,skipLines:m,firstDataLine:B,columnNumbers:f,coordinateType:l,format:u,refIdToName:C,refNameToId:x,maxBlockSize:65536}}parsePseudoBin(t,e){return{lineCount:HB(t,e+16)}}async blocksForRange(t,e,i,r={}){e<0&&(e=0);const s=await this.parse(r),o=s.refNameToId[t];if(o===void 0)return[];const a=s.indices[o];if(!a)return[];(a.linearIndex.length>0?a.linearIndex[e>>YB>=a.linearIndex.length?a.linearIndex.length-1:e>>YB]:new ap(0,0))||console.warn("querying outside of possible tabix range");const c=YU(e,i),u=[];for(const[p,w]of c)for(let m=p;m<=w;m++)if(a.binIndex[m])for(const y of a.binIndex[m])u.push(new HA(y.minv,y.maxv,m));const f=a.linearIndex.length;let h;const A=Math.min(e>>14,f-1),d=Math.min(i>>14,f-1);for(let p=A;p<=d;++p){const w=a.linearIndex[p];w&&(!h||w.compareTo(h)<0)&&(h=w)}return _B(u,h)}}class JU{constructor({path:t,filehandle:e,url:i,tbiPath:r,tbiUrl:s,tbiFilehandle:o,csiPath:a,csiUrl:l,csiFilehandle:c,renameRefSeqs:u,chunkCacheSize:f=5*2**20}){this.cache=new Al({maxSize:1e3});const h=u??(A=>A);if(e)this.filehandle=e;else if(t)this.filehandle=new ft(t);else if(i)this.filehandle=new vn(i);else throw new TypeError("must provide either filehandle or path");if(o)this.index=new Uo({filehandle:o,renameRefSeqs:h});else if(c)this.index=new _A({filehandle:c,renameRefSeqs:h});else if(r)this.index=new Uo({filehandle:new ft(r),renameRefSeqs:h});else if(a)this.index=new _A({filehandle:new ft(a),renameRefSeqs:h});else if(t)this.index=new Uo({filehandle:new ft(`${t}.tbi`),renameRefSeqs:h});else if(l)this.index=new _A({filehandle:new vn(l)});else if(s)this.index=new Uo({filehandle:new vn(s)});else if(i)this.index=new Uo({filehandle:new vn(`${i}.tbi`)});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, csiPath, tbiUrl, csiUrl");this.renameRefSeq=h,this.hasCustomRenameRefSeq=u!==void 0,this.chunkCache=new Eo({cache:new Al({maxSize:Math.floor(f/65536)}),fill:(A,d)=>this.readChunk(A,{signal:d})})}calculateFileOffset(t,e,i,r,s){return t[i]*256+(r-e[i])+s+1}async getLines(t,e,i,r){var x;let s,o={},a;typeof r=="function"?a=r:(o=r,a=r.lineCallback,s=r.signal);const l=await this.index.getMetadata(o),c=e??0,u=i??l.maxRefLength;if(!(c<=u))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(c===u)return;const f=await this.index.blocksForRange(t,c,u,o),h=new TextDecoder("utf8"),A=l.format==="VCF",d={ref:l.columnNumbers.ref||0,start:l.columnNumbers.start||0,end:A?8:l.columnNumbers.end||0},p=Math.max(d.ref,d.start,d.end),w=(x=l.metaChar)==null?void 0:x.charCodeAt(0),m=l.coordinateType==="1-based-closed"?-1:0,y=!this.hasCustomRenameRefSeq;for(const C of f){const{buffer:E,cpositions:B,dpositions:b}=await this.chunkCache.get(C.toString(),C,s);let D=0,R=0;const k=h.decode(E);if(E.length==k.length)for(;D<k.length;){const T=k.indexOf(`
`,D);if(T===-1)break;const O=k.slice(D,T);if(b){const J=D+C.minv.dataPosition;for(;R<b.length&&J>=b[R];)R++}const z=this.checkLine(t,c,u,O,d.ref,d.start,d.end,p,w,m,A,y);if(z===null)return;z!==void 0&&a(O,this.calculateFileOffset(B,b,R,D,C.minv.dataPosition),z.start,z.end),D=T+1}else for(;D<E.length;){const T=E.indexOf(10,D);if(T===-1)break;const O=E.slice(D,T),z=h.decode(O);if(b){const _=D+C.minv.dataPosition;for(;R<b.length&&_>=b[R];)R++}const J=this.checkLine(t,c,u,z,d.ref,d.start,d.end,p,w,m,A,y);if(J===null)return;J!==void 0&&a(z,this.calculateFileOffset(B,b,R,D,C.minv.dataPosition),J.start,J.end),D=T+1}}}async getMetadata(t={}){return this.index.getMetadata(t)}async getHeaderBuffer(t={}){const{firstDataLine:e,metaChar:i,maxBlockSize:r}=await this.getMetadata(t),s=((e==null?void 0:e.blockPosition)||0)+r,o=await this.filehandle.read(s,0,t),a=await Lo(o);if(i){let l=-1;const c=10,u=i.charCodeAt(0);for(let f=0,h=a.length;f<h;f++){const A=a[f];if(f===l+1&&A!==u)break;A===c&&(l=f)}return a.subarray(0,l+1)}return a}async getHeader(t={}){const e=new TextDecoder("utf8"),i=await this.getHeaderBuffer(t);return e.decode(i)}async getReferenceSequenceNames(t={}){return(await this.getMetadata(t)).refIdToName}checkLine(t,e,i,r,s,o,a,l,c,u,f,h){if(c!==void 0&&r.charCodeAt(0)===c)return;if(r.length<500){const x=r.split("	"),C=x[s-1];if(!(h?C===t:this.renameRefSeq(C)===t))return;const B=+x[o-1]+u;if(B>=i)return null;let b;return a===0||a===o?b=B+1:f?b=this._getVcfEnd(B,x[3],x[a-1]):b=+x[a-1],b<=e?void 0:{start:B,end:b}}let A=-1;const d=[-1];for(let x=0;x<l;x++){const C=r.indexOf("	",A+1);if(C===-1){d.push(r.length);break}d.push(C),A=C}const p=r.slice(d[s-1]+1,d[s]);if(!(h?p===t:this.renameRefSeq(p)===t))return;const m=+r.slice(d[o-1]+1,d[o])+u;if(m>=i)return null;let y;if(a===0||a===o?y=m+1:f?y=this._getVcfEnd(m,r.slice(d[3]+1,d[4]),r.slice(d[a-1]+1,d[a])):y=+r.slice(d[a-1]+1,d[a]),!(y<=e))return{start:m,end:y}}_getVcfEnd(t,e,i){let r=t+e.length;if(i.includes("SVTYPE=TRA"))return t+1;if(i[0]!=="."){const o=i.indexOf("END=");if(o!==-1&&(o===0||i[o-1]===";")){const a=o+4;let l=i.indexOf(";",a);l===-1&&(l=i.length),r=Number.parseInt(i.slice(a,l),10)}}return r}async lineCount(t,e={}){return this.index.lineCount(t,e)}async readChunk(t,e={}){const i=await this.filehandle.read(t.fetchedSize(),t.minv.blockPosition,e);return RB(i,t,this.cache)}}const qU=Object.freeze(Object.defineProperty({__proto__:null,CSI:_A,TBI:Uo,TabixIndexedFile:JU},Symbol.toStringTag,{value:"Module"})),KU=/%([0-9A-Fa-f]{2})/g,jU=/^\s*##\s*(\S+)\s*(.*)/,WU=/\r?\n$/,JB=/\s+/,qB=/\D/g;function VA(n){return n.includes("%")?n.replaceAll(KU,(t,e)=>String.fromCharCode(parseInt(e,16))):n}function XU(n){if(!n.length||n===".")return{};const t={};let e=n;e.endsWith(`
`)&&(e=e.slice(0,e.endsWith(`\r
`)?-2:-1));for(const i of e.split(";")){const r=i.indexOf("=");if(r===-1)continue;const s=i.slice(r+1);if(!s.length)continue;const o=i.slice(0,r).trim();let a=t[o];a||(a=[],t[o]=a);for(const l of s.split(","))a.push(VA(l.trim()))}return t}function ZU(n){if(!n.length||n===".")return{};const t={};let e=n;e.endsWith(`
`)&&(e=e.slice(0,e.endsWith(`\r
`)?-2:-1));for(const i of e.split(";")){const r=i.indexOf("=");if(r===-1)continue;const s=i.slice(r+1);if(!s.length)continue;const o=i.slice(0,r).trim();let a=t[o];a||(a=[],t[o]=a);for(const l of s.split(","))a.push(l.trim())}return t}function $U(n){return cp(n.split("	"))}function et(n){return n==="."||n===""||n===void 0?null:n}function cp(n){const t=et(n[0]),e=et(n[1]),i=et(n[2]),r=et(n[3]),s=et(n[4]),o=et(n[5]),a=et(n[6]),l=et(n[7]),c=et(n[8]);return{seq_id:t?VA(t):null,source:e?VA(e):null,type:i?VA(i):null,start:r===null?null:parseInt(r,10),end:s===null?null:parseInt(s,10),score:o===null?null:parseFloat(o),strand:a,phase:l,attributes:c===null?null:XU(c)}}function e7(n){const t=et(n[0]),e=et(n[1]),i=et(n[2]),r=et(n[3]),s=et(n[4]),o=et(n[5]),a=et(n[6]),l=et(n[7]),c=et(n[8]);return{seq_id:t,source:e,type:i,start:r===null?null:parseInt(r,10),end:s===null?null:parseInt(s,10),score:o===null?null:parseFloat(o),strand:a,phase:l,attributes:c===null?null:ZU(c)}}function t7(n){var s,o;const t=jU.exec(n);if(!t)return null;const[,e]=t;let[,,i]=t;const r={directive:e};if(i.length&&(i=i.replace(WU,""),r.value=i),e==="sequence-region"){const a=i.split(JB,3);return{...r,seq_id:a[0],start:(s=a[1])==null?void 0:s.replaceAll(qB,""),end:(o=a[2])==null?void 0:o.replaceAll(qB,"")}}else if(e==="genome-build"){const[a,l]=i.split(JB,2);return{...r,source:a,buildName:l}}return r}const n7=/^\s*[^#\s>]/,i7=/^\s*(#+)(.*)/,r7=/^\s*$/,s7=/^\s*>/,o7=/\r?\n?$/g;class YA{constructor(t){X(this,"featureCallback");X(this,"endCallback");X(this,"commentCallback");X(this,"errorCallback");X(this,"disableDerivesFromReferences");X(this,"directiveCallback");X(this,"bufferSize");X(this,"eof",!1);X(this,"lineNumber",0);X(this,"_underConstructionTopLevel",[]);X(this,"_underConstructionById",{});X(this,"_completedReferences",{});X(this,"_underConstructionOrphans",{});const e=()=>{};this.featureCallback=t.featureCallback||e,this.endCallback=t.endCallback||e,this.commentCallback=t.commentCallback||e,this.errorCallback=t.errorCallback||e,this.directiveCallback=t.directiveCallback||e,this.disableDerivesFromReferences=t.disableDerivesFromReferences||!1,this.bufferSize=t.bufferSize===void 0?1/0:t.bufferSize}addLine(t){if(this.eof)return;if(this.lineNumber+=1,n7.test(t)){this._bufferLine(t);return}const e=i7.exec(t);if(e){const[,i]=e;let[,,r]=e;if(i.length===3)this._emitAllUnderConstructionFeatures();else if(i.length===2){const s=t7(t);s&&(s.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0):this._emitItem(s))}else this._emitItem({comment:r.trimStart()})}else if(!r7.test(t))if(s7.test(t))this._emitAllUnderConstructionFeatures(),this.eof=!0;else{const i=t.replaceAll(o7,"");throw new Error(`GFF3 parse error.  Cannot parse '${i}'.`)}}addParsedFeatureLine(t){this.eof||(this.lineNumber+=1,this._bufferParsedLine(t))}finish(){this._emitAllUnderConstructionFeatures(),this.endCallback()}_emitItem(t){Array.isArray(t)?this.featureCallback(t):"directive"in t?this.directiveCallback(t):"comment"in t&&this.commentCallback(t)}_enforceBufferSizeLimit(t=0){const e=i=>{var r,s;i&&Array.isArray(i)&&((s=(r=i[0].attributes)==null?void 0:r.ID)!=null&&s[0])&&(i[0].attributes.ID.forEach(a=>{delete this._underConstructionById[a],delete this._completedReferences[a]}),i.forEach(a=>{a.child_features&&a.child_features.forEach(l=>{e(l)}),a.derived_features&&a.derived_features.forEach(l=>{e(l)})}))};for(;this._underConstructionTopLevel.length+t>this.bufferSize;){const i=this._underConstructionTopLevel.shift();i&&(this._emitItem(i),e(i))}}_emitAllUnderConstructionFeatures(){this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={};const t=Object.keys(this._underConstructionOrphans);if(t.length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${t.join(",")}`)}_bufferLine(t){this._bufferParsedLine($U(t))}_bufferParsedLine(t){var a,l,c;const e=t;e.child_features=[],e.derived_features=[];const i=((a=e.attributes)==null?void 0:a.ID)||[],r=((l=e.attributes)==null?void 0:l.Parent)||[],s=this.disableDerivesFromReferences?[]:((c=e.attributes)==null?void 0:c.Derives_from)||[];if(!i.length&&!r.length&&!s.length){this._emitItem([e]);return}let o;i.forEach(u=>{const f=this._underConstructionById[u];f?(f[f.length-1].type!==e.type&&this._parseError(`multi-line feature "${u}" has inconsistent types: "${e.type}", "${f[f.length-1].type}"`),f.push(e),o=f):(o=[e],this._enforceBufferSizeLimit(1),!r.length&&!s.length&&this._underConstructionTopLevel.push(o),this._underConstructionById[u]=o,this._resolveReferencesTo(o,u))}),this._resolveReferencesFrom(o||[e],{Parent:r,Derives_from:s},i)}_resolveReferencesTo(t,e){const i=this._underConstructionOrphans[e];if(i){for(const r of t)r.child_features.push(...i.Parent),r.derived_features.push(...i.Derives_from);delete this._underConstructionOrphans[e]}}_parseError(t){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${t}`)}_resolveReferencesFrom(t,e,i){for(const r of e.Parent){const s=this._underConstructionById[r];if(s){let o=!1;for(const a of i){const l=`Parent,${r}`,c=this._completedReferences[a]||(this._completedReferences[a]={});c[l]&&(o=!0),c[l]=!0}if(!o)for(const a of s)a.child_features.push(t)}else{let o=this._underConstructionOrphans[r];o||(o={Parent:[],Derives_from:[]},this._underConstructionOrphans[r]=o),o.Parent.push(t)}}for(const r of e.Derives_from){const s=this._underConstructionById[r];if(s){let o=!1;for(const a of i){const l=`Derives_from,${r}`,c=this._completedReferences[a]||(this._completedReferences[a]={});c[l]&&(o=!0),c[l]=!0}if(!o)for(const a of s)a.derived_features.push(t)}else{let o=this._underConstructionOrphans[r];o||(o={Parent:[],Derives_from:[]},this._underConstructionOrphans[r]=o),o.Derives_from.push(t)}}}}function a7(n){const t=[],e=new YA({featureCallback:i=>t.push(i),disableDerivesFromReferences:!0,errorCallback:i=>{throw new Error(i)}});for(const i of n.split(/\r?\n/))e.addLine(i);return e.finish(),t}function c7(n){const t=[],e=new YA({featureCallback:i=>t.push(i),disableDerivesFromReferences:!0,errorCallback:i=>{throw new Error(i)}});for(const i of n)e.addLine(i);return e.finish(),t}function l7(n){const t=[],e=new YA({featureCallback:i=>t.push(i),disableDerivesFromReferences:!0,errorCallback:i=>{throw new Error(i)}});for(const i of n){const r=cp(i.fields);i.lineHash!==void 0&&(r.attributes||(r.attributes={}),r.attributes._lineHash=[String(i.lineHash)]),e.addParsedFeatureLine(r)}return e.finish(),t}function u7(n,t){const e=[],i=new YA({featureCallback:s=>e.push(s),disableDerivesFromReferences:!0,errorCallback:s=>{throw new Error(s)}}),r=t?cp:e7;for(const s of n){const o=r(s.fields);s.lineHash!==void 0&&(o.attributes||(o.attributes={}),o.attributes._lineHash=[String(s.lineHash)]),i.addParsedFeatureLine(o)}return i.finish(),e}const f7=Object.freeze(Object.defineProperty({__proto__:null,parseArraySync:c7,parseRecordsSync:l7,parseRecordsSyncFast:u7,parseStringSync:a7},Symbol.toStringTag,{value:"Module"}));function A7(n,t,e){const i=Object.create(null),r=e.length,s=t.length,o=9,a=58;let l=0;if(n==="GT"){for(let f=0;f<r;f++){const h=l;for(;l<s&&t.charCodeAt(l)!==o;)l++;i[e[f]]=t.slice(h,l),l++}return i}const c=n.indexOf("GT");if(c===-1)return i;if(c===0){for(let f=0;f<r;f++){const h=l;for(;l<s&&t.charCodeAt(l)!==a&&t.charCodeAt(l)!==o;)l++;for(i[e[f]]=t.slice(h,l);l<s&&t.charCodeAt(l)!==o;)l++;l++}return i}let u=0;for(let f=0;f<c;f++)n.charCodeAt(f)===a&&u++;for(let f=0;f<r;f++){const h=l;let A=l;for(;A<s&&t.charCodeAt(A)!==o;)A++;let d=0,p=h;for(let w=h;w<=A;w++)if(w===A||t.charCodeAt(w)===a){if(d===u){i[e[f]]=t.slice(p,w);break}d++,p=w+1}l=A+1}return i}function h7(n){const t=[],e=[];let i=!1,r=!1;const s=n.length;for(let o=0;o<s;o++){const a=n[o];a==='"'?(i=!i,e.push(a)):a==="["?(r=!0,e.push(a)):a==="]"?(r=!1,e.push(a)):a===","&&!i&&!r?(t.push(e.join("").trim()),e.length=0):e.push(a)}return e.length>0&&t.push(e.join("").trim()),t}function d7(n,t){const e=n.indexOf(t);return[n.slice(0,e),n.slice(e+1)]}function g7(n){const t=n.slice(1,-1),e=h7(t),i=[];for(let r=0;r<e.length;r++){const s=e[r],[o,a]=d7(s,"=");if(a&&a.startsWith("[")&&a.endsWith("]")){const l=a.slice(1,-1).split(",");for(let c=0;c<l.length;c++)l[c]=l[c].trim();i.push([o,l])}else a&&a.startsWith('"')&&a.endsWith('"')?i.push([o,a.slice(1,-1)]):i.push([o,a])}return Object.fromEntries(i)}const JA={InfoFields:{AA:{Number:1,Type:"String",Description:"Ancestral allele"},AC:{Number:"A",Type:"Integer",Description:"Allele count in genotypes, for each ALT allele, in the same order as listed"},AD:{Number:"R",Type:"Integer",Description:"Total read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},AF:{Number:"A",Type:"Float",Description:"Allele frequency for each ALT allele in the same order as listed (estimated from primary data, not called genotypes)"},AN:{Number:1,Type:"Integer",Description:"Total number of alleles in called genotypes"},BQ:{Number:1,Type:"Float",Description:"RMS base quality"},CIGAR:{Number:1,Type:"Float",Description:"Cigar string describing how to align an alternate allele to the reference allele"},DB:{Number:0,Type:"Flag",Description:"dbSNP membership"},DP:{Number:1,Type:"Integer",Description:"combined depth across samples"},END:{Number:1,Type:"Integer",Description:"End position (for use with symbolic alleles)"},H2:{Number:0,Type:"Flag",Description:"HapMap2 membership"},H3:{Number:0,Type:"Flag",Description:"HapMap3 membership"},MQ:{Number:1,Type:null,Description:"RMS mapping quality"},MQ0:{Number:1,Type:"Integer",Description:"Number of MAPQ == 0 reads"},NS:{Number:1,Type:"Integer",Description:"Number of samples with data"},SB:{Number:4,Type:"Integer",Description:"Strand bias"},SOMATIC:{Number:0,Type:"Flag",Description:"Somatic mutation (for cancer genomics)"},VALIDATED:{Number:0,Type:"Flag",Description:"Validated by follow-up experiment"},"1000G":{Number:0,Type:"Flag",Description:"1000 Genomes membership"},IMPRECISE:{Number:0,Type:"Flag",Description:"Imprecise structural variation"},NOVEL:{Number:0,Type:"Flag",Description:"Indicates a novel structural variation"},SVTYPE:{Number:1,Type:"String",Description:"Type of structural variant"},SVLEN:{Number:null,Type:"Integer",Description:"Difference in length between REF and ALT alleles"},CIPOS:{Number:2,Type:"Integer",Description:"Confidence interval around POS for imprecise variants"},CIEND:{Number:2,Type:"Integer",Description:"Confidence interval around END for imprecise variants"},HOMLEN:{Type:"Integer",Description:"Length of base pair identical micro-homology at event breakpoints"},HOMSEQ:{Type:"String",Description:"Sequence of base pair identical micro-homology at event breakpoints"},BKPTID:{Type:"String",Description:"ID of the assembled alternate allele in the assembly file"},MEINFO:{Number:4,Type:"String",Description:"Mobile element info of the form NAME,START,END,POLARITY"},METRANS:{Number:4,Type:"String",Description:"Mobile element transduction info of the form CHR,START,END,POLARITY"},DGVID:{Number:1,Type:"String",Description:"ID of this element in Database of Genomic Variation"},DBVARID:{Number:1,Type:"String",Description:"ID of this element in DBVAR"},DBRIPID:{Number:1,Type:"String",Description:"ID of this element in DBRIP"},MATEID:{Number:null,Type:"String",Description:"ID of mate breakends"},PARID:{Number:1,Type:"String",Description:"ID of partner breakend"},EVENT:{Number:1,Type:"String",Description:"ID of event associated to breakend"},CILEN:{Number:2,Type:"Integer",Description:"Confidence interval around the inserted material between breakend"},DPADJ:{Type:"Integer",Description:"Read Depth of adjacency"},CN:{Number:1,Type:"Integer",Description:"Copy number of segment containing breakend"},CNADJ:{Number:null,Type:"Integer",Description:"Copy number of adjacency"},CICN:{Number:2,Type:"Integer",Description:"Confidence interval around copy number for the segment"},CICNADJ:{Number:null,Type:"Integer",Description:"Confidence interval around copy number for the adjacency"}},GenotypeFields:{AD:{Number:"R",Type:"Integer",Description:"Read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},DP:{Number:1,Type:"Integer",Description:"Read depth"},EC:{Number:"A",Type:"Integer",Description:"Expected alternate allele counts"},FT:{Number:1,Type:"String",Description:'Filter indicating if this genotype was "called"'},GL:{Number:"G",Type:"Float",Description:"Genotype likelihoods"},GP:{Number:"G",Type:"Float",Description:"Genotype posterior probabilities"},GQ:{Number:1,Type:"Integer",Description:"Conditional genotype quality"},GT:{Number:1,Type:"String",Description:"Genotype"},HQ:{Number:2,Type:"Integer",Description:"Haplotype quality"},MQ:{Number:1,Type:"Integer",Description:"RMS mapping quality"},PL:{Number:"G",Type:"Integer",Description:"Phred-scaled genotype likelihoods rounded to the closest integer"},PQ:{Number:1,Type:"Integer",Description:"Phasing quality"},PS:{Number:1,Type:"Integer",Description:"Phase set"}},AltTypes:{DEL:{Description:"Deletion relative to the reference"},INS:{Description:"Insertion of novel sequence relative to the reference"},DUP:{Description:"Region of elevated copy number relative to the reference"},INV:{Description:"Inversion of reference sequence"},CNV:{Description:"Copy number variable region (may be both deletion and duplication)"},"DUP:TANDEM":{Description:"Tandem duplication"},"DEL:ME":{Description:"Deletion of mobile element relative to the reference"},"INS:ME":{Description:"Insertion of a mobile element relative to the reference"},NON_REF:{Description:"Represents any possible alternative allele at this location"},"*":{Description:"Represents any possible alternative allele at this location"}},FilterTypes:{PASS:{Description:"Passed all filters"}}};function p7(n){try{return decodeURIComponent(n)}catch{return n}}class m7{constructor({header:t="",strict:e=!0}){if(!t.length)throw new Error("empty header received");const i=t.split(/[\r\n]+/).filter(Boolean);if(!i.length)throw new Error("no non-empty header lines specified");this.strict=e,this.metadata={INFO:{...JA.InfoFields},FORMAT:{...JA.GenotypeFields},ALT:{...JA.AltTypes},FILTER:{...JA.FilterTypes}};let r;for(let l=0;l<i.length;l++){const c=i[l];if(c.startsWith("#"))c.startsWith("##")?this.parseMetadata(c):r=c;else throw new Error(`Bad line in header:
${c}`)}if(!r)throw new Error("No format line found in header");const s=r.trim().split("	"),o=s.slice(0,8),a=["#CHROM","POS","ID","REF","ALT","QUAL","FILTER","INFO"];if(s.length<8)throw new Error(`VCF header missing columns:
${r}`);if(o.length!==a.length||!o.every((l,c)=>l===a[c]))throw new Error(`VCF column headers not correct:
${r}`);this.samples=s.slice(9)}parseInfo(t){var a;const e={},i=t.includes("%"),r=t.split(";"),s=this.metadata.INFO,o=r.length;for(let l=0;l<o;l++){const c=r[l],u=c.indexOf("="),f=u===-1?c:c.slice(0,u),h=u===-1?void 0:c.slice(u+1),A=(a=s[f])==null?void 0:a.Type;if(A==="Flag")e[f]=!0;else if(!h)e[f]=!0;else{const d=A==="Integer"||A==="Float",p=h.split(","),w=p.length;if(i){const m=[];for(let y=0;y<w;y++){const x=p[y];if(x===".")m.push(void 0);else{const C=p7(x);m.push(d?Number(C):C)}}e[f]=m}else{const m=[];for(let y=0;y<w;y++){const x=p[y];x==="."?m.push(void 0):m.push(d?Number(x):x)}e[f]=m}}}return e}parseSamples(t,e){var r;const i={};if(t){const s=e.split("	"),o=t.split(":"),a=this.metadata.FORMAT,l=[];for(let f=0;f<o.length;f++){const h=(r=a[o[f]])==null?void 0:r.Type;l.push(h==="Integer"||h==="Float")}const c=o.length,u=this.samples.length;for(let f=0;f<u;f++){const h=this.samples[f],A={},d=s[f],p=d.length;let w=0,m=0;for(let y=0;y<=p;y++)if(y===p||d[y]===":"){const x=d.slice(w,y);if(x===""||x===".")A[o[m]]=void 0;else{const C=x.split(","),E=[];if(l[m])for(let B=0;B<C.length;B++){const b=C[B];E.push(b==="."?void 0:+b)}else for(let B=0;B<C.length;B++){const b=C[B];E.push(b==="."?void 0:b)}A[o[m]]=E}if(w=y+1,m+=1,m>=c)break}i[h]=A}}return i}parseMetadata(t){const e=/^##(.+?)=(.*)/.exec(t.trim());if(!e)throw new Error(`Line is not a valid metadata line: ${t}`);const[i,r]=e.slice(1,3),s=i;if(r!=null&&r.startsWith("<")){s in this.metadata||(this.metadata[s]={});const[o,a]=this.parseStructuredMetaVal(r);o?this.metadata[s][o]=a:this.metadata[s]=a}else this.metadata[s]=r}parseStructuredMetaVal(t){const e=g7(t),i=e.ID;return delete e.ID,"Number"in e&&(Number.isNaN(Number(e.Number))||(e.Number=Number(e.Number))),[i,e]}getMetadata(...t){let e=this.metadata;const i=t.length;for(let r=0;r<i;r++)if(e=e[t[r]],!e)return e;return e}parseLine(t){let e=0,i=0;for(;e<t.length&&i<9;)t[e]==="	"&&(i+=1),e+=1;const r=i===9?e-1:e,s=t.slice(0,r).split("	"),o=t.slice(r+1),[a,l,c,u,f,h,A]=s,d=a,p=+l,w=c==="."?void 0:c.split(";"),m=u,y=f==="."?void 0:f.split(","),x=h==="."?void 0:+h,C=A==="."?void 0:A.split(";"),E=s[8];if(this.strict&&!s[7])throw new Error("no INFO field specified, must contain at least a '.' (turn off strict mode to allow)");const B=s[7]===void 0||s[7]==="."?{}:this.parseInfo(s[7]);return{CHROM:d,POS:p,ALT:y,INFO:B,REF:m,FILTER:(C==null?void 0:C.length)===1&&C[0]==="PASS"?"PASS":C,ID:w,QUAL:x,FORMAT:E,SAMPLES:()=>this.parseSamples(s[8]??"",o),GENOTYPES:()=>A7(s[8]??"",o,this.samples)}}}const w7=Object.freeze(Object.defineProperty({__proto__:null,default:m7},Symbol.toStringTag,{value:"Module"}));ae.GenomeSpyDocEmbed=Kb,Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"})}));
