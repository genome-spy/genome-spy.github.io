(function(ye,Ce){typeof exports=="object"&&typeof module<"u"?Ce(exports):typeof define=="function"&&define.amd?define(["exports"],Ce):(ye=typeof globalThis<"u"?globalThis:ye||self,Ce(ye.genomeSpyDocEmbed={}))})(this,function(ye){"use strict";var DG=Object.defineProperty;var a3=ye=>{throw TypeError(ye)};var FG=(ye,Ce,Pe)=>Ce in ye?DG(ye,Ce,{enumerable:!0,configurable:!0,writable:!0,value:Pe}):ye[Ce]=Pe;var Bt=(ye,Ce,Pe)=>FG(ye,typeof Ce!="symbol"?Ce+"":Ce,Pe),fm=(ye,Ce,Pe)=>Ce.has(ye)||a3("Cannot "+Pe);var z=(ye,Ce,Pe)=>(fm(ye,Ce,"read from private field"),Pe?Pe.call(ye):Ce.get(ye)),J=(ye,Ce,Pe)=>Ce.has(ye)?a3("Cannot add the same private member more than once"):Ce instanceof WeakSet?Ce.add(ye):Ce.set(ye,Pe),le=(ye,Ce,Pe,Os)=>(fm(ye,Ce,"write to private field"),Os?Os.call(ye,Pe):Ce.set(ye,Pe),Pe),Q=(ye,Ce,Pe)=>(fm(ye,Ce,"access private method"),Pe);var l3=(ye,Ce,Pe,Os)=>({set _(vh){le(ye,Ce,vh,Pe)},get _(){return z(ye,Ce,Os)}});var q_,ks,zc,wc,vi,Is,Yo,Qo,xc,vc,Xo,u3,f3,lr,Ai,hm,dm,Ko,dh,h3,Br,Jo,nn,Ac,se,pm,gm,Lr,mm,d3,p3,bm,ym,yh,wm,Ns,xm,g3,Ec,vm,ea,Sc,_c,Cc,Tc,cr,Uc,Am,kc,ph,m3,Dr,Ic,Bs,Ds,rn,Em,Sm,_m,b3,ta,na,ra,Bc,ia,sa,Dc,Cm,Fc,Tm,Fs,Rc,Mc,oa,Pc,Nc,Fr,Rs,Ei,Si,aa,la,sn,Ms,ca,we,Ls,y3,Gc,km,Im,Bm,w3,wh,x3,ua,Lc,_i,Ps,fa,Sn,xh,v3,A3,E3;function Ce(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Pe(e,t,n){return e.fields=t||[],e.fname=n,e}function Os(e){return e==null?null:e.fname}function vh(e){return e==null?null:e.fields}function S3(e){return e.length===1?_3(e[0]):C3(e)}const _3=e=>function(t){return t[e]},C3=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function st(e){throw Error(e)}function T3(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,c;e=e+"";function l(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(c=e[a],c==="\\")s+=e.substring(o,a++),o=a;else if(c===r)l(),r=null,i=-1;else{if(r)continue;o===i&&c==='"'||o===i&&c==="'"?(o=a+1,r=c):c==="."&&!i?a>o?l():o=a+1:c==="["?(a>o&&l(),i=o=a+1):c==="]"&&(i||st("Access path missing open bracket: "+e),i>0&&l(),i=0,o=a+1)}return i&&st("Access path missing closing bracket: "+e),r&&st("Access path missing closing quote: "+e),a>o&&(a++,l()),t}function Hc(e,t,n){const r=T3(e);return e=r.length===1?r[0]:e,Pe((n&&n.get||S3)(r),[e],t||e)}Hc("id");const Vc=Pe(e=>e,[],"identity");Pe(()=>0,[],"zero"),Pe(()=>1,[],"one"),Pe(()=>!0,[],"true"),Pe(()=>!1,[],"false");var yt=Array.isArray;function Et(e){return e===Object(e)}function Cn(e){return e[e.length-1]}function ha(e){return e==null||e===""?null:+e}const Dm=e=>t=>e*Math.exp(t),Fm=e=>t=>Math.log(e*t),k3=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),I3=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,$c=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Ah(e,t,n,r){const i=n(e[0]),s=n(Cn(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function B3(e,t){return Ah(e,t,ha,Vc)}function D3(e,t){var n=Math.sign(e[0]);return Ah(e,t,Fm(n),Dm(n))}function F3(e,t,n){return Ah(e,t,$c(n),$c(1/n))}function jc(e,t,n,r,i){const s=r(e[0]),o=r(Cn(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function Rm(e,t,n){return jc(e,t,n,ha,Vc)}function Mm(e,t,n){const r=Math.sign(e[0]);return jc(e,t,n,Fm(r),Dm(r))}function Eh(e,t,n,r){return jc(e,t,n,$c(r),$c(1/r))}function R3(e,t,n,r){return jc(e,t,n,k3(r),I3(r))}function Sh(e){return e!=null?yt(e)?e:[e]:[]}function M3(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function on(e){return typeof e=="function"}const P3="descending";function Pm(e,t,n){n=n||{},t=Sh(t)||[];const r=[],i=[],s={},o=n.comparator||N3;return Sh(e).forEach((a,c)=>{a!=null&&(r.push(t[c]===P3?-1:1),i.push(a=on(a)?a:Hc(a,null,n)),(vh(a)||[]).forEach(l=>s[l]=1))}),i.length===0?null:Pe(o(i,r),Object.keys(s))}const Nm=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),N3=(e,t)=>e.length===1?L3(e[0],t[0]):O3(e,t,e.length),L3=(e,t)=>function(n,r){return Nm(e(n),e(r))*t},O3=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=Nm(s(r),s(i));return o*t[a]});function z3(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}const U3=Object.prototype.hasOwnProperty;function zs(e,t){return U3.call(e,t)}function da(e){return typeof e=="boolean"}function G3(e){return Object.prototype.toString.call(e)==="[object Date]"}function H3(e){return e&&on(e[Symbol.iterator])}function Dt(e){return typeof e=="number"}function V3(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ge(e){return typeof e=="string"}function Lm(e,t){const n=e[0],r=Cn(e),i=+t;return i?i===1?r:n+i*(r-n):n}function qc(e){return e&&Cn(e)-e[0]||0}function _h(e){return yt(e)?"["+e.map(_h)+"]":Et(e)||Ge(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function $3(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const j3=e=>Dt(e)||G3(e)?e:Date.parse(e);function q3(e,t){return t=t||j3,e==null||e===""?null:t(e)}function W3(e){return e==null||e===""?null:e+""}function Wc(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zc=globalThis,Ch=Zc.ShadowRoot&&(Zc.ShadyCSS===void 0||Zc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Th=Symbol(),Om=new WeakMap;let zm=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==Th)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(Ch&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=Om.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Om.set(n,t))}return t}toString(){return this.cssText}};const Z3=e=>new zm(typeof e=="string"?e:e+"",void 0,Th),Y3=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new zm(n,e,Th)},Q3=(e,t)=>{if(Ch)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=Zc.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},Um=Ch?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Z3(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:X3,defineProperty:K3,getOwnPropertyDescriptor:J3,getOwnPropertyNames:eC,getOwnPropertySymbols:tC,getPrototypeOf:nC}=Object,Or=globalThis,Gm=Or.trustedTypes,rC=Gm?Gm.emptyScript:"",kh=Or.reactiveElementPolyfillSupport,pa=(e,t)=>e,Ih={toAttribute(e,t){switch(t){case Boolean:e=e?rC:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},Hm=(e,t)=>!X3(e,t),Vm={attribute:!0,type:String,converter:Ih,reflect:!1,hasChanged:Hm};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Or.litPropertyMetadata??(Or.litPropertyMetadata=new WeakMap);class Us extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Vm){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&K3(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=J3(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Vm}static _$Ei(){if(this.hasOwnProperty(pa("elementProperties")))return;const t=nC(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(pa("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pa("properties"))){const n=this.properties,r=[...eC(n),...tC(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(Um(i))}else t!==void 0&&n.push(Um(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Q3(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:Ih).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:Ih;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??Hm)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}Us.elementStyles=[],Us.shadowRootOptions={mode:"open"},Us[pa("elementProperties")]=new Map,Us[pa("finalized")]=new Map,kh==null||kh({ReactiveElement:Us}),(Or.reactiveElementVersions??(Or.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ga=globalThis,Yc=ga.trustedTypes,$m=Yc?Yc.createPolicy("lit-html",{createHTML:e=>e}):void 0,jm="$lit$",zr=`lit$${Math.random().toFixed(9).slice(2)}$`,qm="?"+zr,iC=`<${qm}>`,Ri=document,ma=()=>Ri.createComment(""),ba=e=>e===null||typeof e!="object"&&typeof e!="function",Bh=Array.isArray,sC=e=>Bh(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Dh=`[ 	
\f\r]`,ya=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Wm=/-->/g,Zm=/>/g,Mi=RegExp(`>|${Dh}(?:([^\\s"'>=/]+)(${Dh}*=${Dh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ym=/'/g,Qm=/"/g,Xm=/^(?:script|style|textarea|title)$/i,oC=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ye=oC(1),Pi=Symbol.for("lit-noChange"),tt=Symbol.for("lit-nothing"),Km=new WeakMap,Ni=Ri.createTreeWalker(Ri,129);function Jm(e,t){if(!Bh(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return $m!==void 0?$m.createHTML(t):t}const aC=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=ya;for(let a=0;a<n;a++){const c=e[a];let l,u,f=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===ya?u[1]==="!--"?o=Wm:u[1]!==void 0?o=Zm:u[2]!==void 0?(Xm.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Mi):u[3]!==void 0&&(o=Mi):o===Mi?u[0]===">"?(o=i??ya,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Mi:u[3]==='"'?Qm:Ym):o===Qm||o===Ym?o=Mi:o===Wm||o===Zm?o=ya:(o=Mi,i=void 0);const d=o===Mi&&e[a+1].startsWith("/>")?" ":"";s+=o===ya?c+iC:f>=0?(r.push(l),c.slice(0,f)+jm+c.slice(f)+zr+d):c+zr+(f===-2?a:d)}return[Jm(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class wa{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=aC(t,n);if(this.el=wa.createElement(l,r),Ni.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=Ni.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(jm)){const h=u[o++],d=i.getAttribute(f).split(zr),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:p[2],strings:d,ctor:p[1]==="."?cC:p[1]==="?"?uC:p[1]==="@"?fC:Qc}),i.removeAttribute(f)}else f.startsWith(zr)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(Xm.test(i.tagName)){const f=i.textContent.split(zr),h=f.length-1;if(h>0){i.textContent=Yc?Yc.emptyScript:"";for(let d=0;d<h;d++)i.append(f[d],ma()),Ni.nextNode(),c.push({type:2,index:++s});i.append(f[h],ma())}}}else if(i.nodeType===8)if(i.data===qm)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(zr,f+1))!==-1;)c.push({type:7,index:s}),f+=zr.length-1}s++}}static createElement(t,n){const r=Ri.createElement("template");return r.innerHTML=t,r}}function Gs(e,t,n=e,r){var o,a;if(t===Pi)return t;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=ba(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=Gs(e,i._$AS(e,t.values),i,r)),t}class lC{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??Ri).importNode(n,!0);Ni.currentNode=i;let s=Ni.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Fh(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new hC(s,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Ni.nextNode(),o++)}return Ni.currentNode=Ri,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}let Fh=class c3{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=tt,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Gs(this,t,n),ba(t)?t===tt||t==null||t===""?(this._$AH!==tt&&this._$AR(),this._$AH=tt):t!==this._$AH&&t!==Pi&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):sC(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==tt&&ba(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ri.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=wa.createElement(Jm(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new lC(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=Km.get(t.strings);return n===void 0&&Km.set(t.strings,n=new wa(t)),n}k(t){Bh(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new c3(this.O(ma()),this.O(ma()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}};class Qc{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=tt,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=tt}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=Gs(this,t,n,0),o=!ba(t)||t!==this._$AH&&t!==Pi,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=Gs(this,a[r+c],n,c),l===Pi&&(l=this._$AH[c]),o||(o=!ba(l)||l!==this._$AH[c]),l===tt?t=tt:t!==tt&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===tt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class cC extends Qc{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===tt?void 0:t}}class uC extends Qc{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==tt)}}class fC extends Qc{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=Gs(this,t,n,0)??tt)===Pi)return;const r=this._$AH,i=t===tt&&r!==tt||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==tt&&(r===tt||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}let hC=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Gs(this,t)}};const Rh=ga.litHtmlPolyfillSupport;Rh==null||Rh(wa,Fh),(ga.litHtmlVersions??(ga.litHtmlVersions=[])).push("3.2.1");const xa=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Fh(t.insertBefore(ma(),s),s,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let va=class extends Us{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=xa(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Pi}};va._$litElement$=!0,va.finalized=!0,(q_=globalThis.litElementHydrateSupport)==null||q_.call(globalThis,{LitElement:va});const Mh=globalThis.litElementPolyfillSupport;Mh==null||Mh({LitElement:va}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");var e1={},Ph={},Nh=34,Aa=10,Lh=13;function t1(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function dC(e,t){var n=t1(e);return function(r,i){return t(n(r),i,e)}}function n1(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ot(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function pC(e){return e<0?"-"+Ot(-e,6):e>9999?"+"+Ot(e,6):Ot(e,4)}function gC(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":pC(e.getUTCFullYear())+"-"+Ot(e.getUTCMonth()+1,2)+"-"+Ot(e.getUTCDate(),2)+(i?"T"+Ot(t,2)+":"+Ot(n,2)+":"+Ot(r,2)+"."+Ot(i,3)+"Z":r?"T"+Ot(t,2)+":"+Ot(n,2)+":"+Ot(r,2)+"Z":n||t?"T"+Ot(t,2)+":"+Ot(n,2)+"Z":"")}function r1(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var d,p,m=i(f,function(y,w){if(d)return d(y,w-1);p=y,d=h?dC(y,h):t1(y)});return m.columns=p||[],m}function i(f,h){var d=[],p=f.length,m=0,y=0,w,A=p<=0,_=!1;f.charCodeAt(p-1)===Aa&&--p,f.charCodeAt(p-1)===Lh&&--p;function S(){if(A)return Ph;if(_)return _=!1,e1;var B,I=m,D;if(f.charCodeAt(I)===Nh){for(;m++<p&&f.charCodeAt(m)!==Nh||f.charCodeAt(++m)===Nh;);return(B=m)>=p?A=!0:(D=f.charCodeAt(m++))===Aa?_=!0:D===Lh&&(_=!0,f.charCodeAt(m)===Aa&&++m),f.slice(I+1,B-1).replace(/""/g,'"')}for(;m<p;){if((D=f.charCodeAt(B=m++))===Aa)_=!0;else if(D===Lh)_=!0,f.charCodeAt(m)===Aa&&++m;else if(D!==n)continue;return f.slice(I,B)}return A=!0,f.slice(I,p)}for(;(w=S())!==Ph;){for(var T=[];w!==e1&&w!==Ph;)T.push(w),w=S();h&&(T=h(T,y++))==null||d.push(T)}return d}function s(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(e)})}function o(f,h){return h==null&&(h=n1(f)),[h.map(u).join(e)].concat(s(f,h)).join(`
`)}function a(f,h){return h==null&&(h=n1(f)),s(f,h).join(`
`)}function c(f){return f.map(l).join(`
`)}function l(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?gC(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:c,formatRow:l,formatValue:u}}var mC=r1("	"),bC=mC.parseRows;function yC(e){return e}function wC(e){if(e==null)return yC;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,c){c||(t=n=0);var l=2,u=a.length,f=new Array(u);for(f[0]=(t+=a[0])*r+s,f[1]=(n+=a[1])*i+o;l<u;)f[l]=a[l],++l;return f}}function xC(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function vC(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return i1(e,n)})}:i1(e,t)}function i1(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=s1(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function s1(e,t){var n=wC(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var h=r[u<0?~u:u],d=0,p=h.length;d<p;++d)f.push(n(h[d],d));u<0&&xC(f,p)}function s(u){return n(u)}function o(u){for(var f=[],h=0,d=u.length;h<d;++h)i(u[h],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=o(u);f.length<4;)f.push(f[0]);return f}function c(u){return u.map(a)}function l(u){var f=u.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(l)};case"Point":h=s(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(s);break;case"LineString":h=o(u.arcs);break;case"MultiLineString":h=u.arcs.map(o);break;case"Polygon":h=c(u.arcs);break;case"MultiPolygon":h=u.arcs.map(c);break;default:return null}return{type:f,coordinates:h}}return l(t)}function AC(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(l,u){var f=e.arcs[l<0?~l:l],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++o],t[o]=l,t[u]=h)}),t.forEach(function(l){var u=a(l),f=u[0],h=u[1],d,p;if(d=i[f])if(delete i[d.end],d.push(l),d.end=h,p=r[h]){delete r[p.start];var m=p===d?d:d.concat(p);r[m.start=d.start]=i[m.end=p.end]=m}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(l),d.start=f,p=i[f]){delete i[p.end];var y=p===d?d:p.concat(d);r[y.start=p.start]=i[y.end=d.end]=y}else r[d.start]=i[d.end]=d;else d=[l],r[d.start=f]=i[d.end=h]=d});function a(l){var u=e.arcs[l<0?~l:l],f=u[0],h;return e.transform?(h=[0,0],u.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=u[u.length-1],l<0?[h,f]:[f,h]}function c(l,u){for(var f in l){var h=l[f];delete u[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),s.push(h)}}return c(i,r),c(r,i),t.forEach(function(l){n[l<0?~l:l]||s.push([l])}),s}function EC(e){return s1(e,SC.apply(this,arguments))}function SC(e,t,n){var r,i,s;if(arguments.length>1)r=_C(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:AC(e,r)}}function _C(e,t,n){var r=[],i=[],s;function o(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function c(f){f.forEach(a)}function l(f){f.forEach(c)}function u(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":c(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hs(e){let t,n,r;e.length!==2?(t=Li,n=(a,c)=>Li(e(a),c),r=(a,c)=>e(a)-c):(t=e===Li||e===CC?e:TC,n=e,r=e);function i(a,c,l=0,u=a.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;n(a[f],c)<0?l=f+1:u=f}while(l<u)}return l}function s(a,c,l=0,u=a.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;n(a[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function o(a,c,l=0,u=a.length){const f=i(a,c,l,u-1);return f>l&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:o,right:s}}function TC(){return 0}function o1(e){return e===null?NaN:+e}function*kC(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const a1=Hs(Li),Ur=a1.right;a1.left,Hs(o1).center;function IC(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function BC(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function DC(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class hr extends Map{constructor(t,n=MC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(l1(this,t))}has(t){return super.has(l1(this,t))}set(t,n){return super.set(FC(this,t),n)}delete(t){return super.delete(RC(this,t))}}function l1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function RC({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function MC(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oh(e){return e}function Xc(e,...t){return c1(e,Oh,Oh,t)}function PC(e,...t){return c1(e,Array.from,Oh,t)}function c1(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new hr,c=r[o++];let l=-1;for(const u of s){const f=c(u,++l,s),h=a.get(f);h?h.push(u):a.set(f,[u])}for(const[u,f]of a)a.set(u,i(f,o));return t(a)}(e,0)}function NC(e=Li){if(e===Li)return u1;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function u1(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LC=Math.sqrt(50),OC=Math.sqrt(10),zC=Math.sqrt(2);function Kc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=LC?10:s>=OC?5:s>=zC?2:1;let a,c,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),c=Math.round(t*l),a/l<e&&++a,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),c=Math.round(t/l),a*l<e&&++a,c*l>t&&--c),c<a&&.5<=n&&n<2?Kc(e,t,n*2):[a,c,l]}function Jc(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Kc(t,e,n):Kc(e,t,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)c[l]=(s-l)/-o;else for(let l=0;l<a;++l)c[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)c[l]=(i+l)/-o;else for(let l=0;l<a;++l)c[l]=(i+l)*o;return c}function zh(e,t,n){return t=+t,e=+e,n=+n,Kc(e,t,n)[2]}function Oi(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zh(t,e,n):zh(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Uh(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Gh(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function f1(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?u1:NC(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(l-c/2<0?-1:1),d=Math.max(n,Math.floor(t-l*f/c+h)),p=Math.min(r,Math.floor(t+(c-l)*f/c+h));f1(e,t,d,p,i)}const s=e[t];let o=n,a=r;for(Ea(e,n,t),i(e[r],s)>0&&Ea(e,n,r);o<a;){for(Ea(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?Ea(e,n,a):(++a,Ea(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Ea(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UC(e,t,n){if(e=Float64Array.from(kC(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Gh(e);if(t>=1)return Uh(e);var r,i=(r-1)*t,s=Math.floor(i),o=Uh(f1(e,s).subarray(0,s+1)),a=Gh(e.subarray(s+1));return o+(a-o)*(i-s)}}function h1(e,t,n=o1){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function GC(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function HC(e,t){return UC(e,.5,t)}function Sa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function _a(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function VC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vs(e){return e=eu(Math.abs(e)),e?e[1]:NaN}function $C(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function jC(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $s(e){if(!(t=qC.exec(e)))throw new Error("invalid format: "+e);var t;return new Hh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$s.prototype=Hh.prototype;function Hh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WC(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var d1;function ZC(e,t){var n=eu(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(d1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+eu(e,Math.max(0,t+s-1))[0]}function p1(e,t){var n=eu(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const g1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p1(e*100,t),r:p1,s:ZC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function m1(e){return e}var b1=Array.prototype.map,y1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YC(e){var t=e.grouping===void 0||e.thousands===void 0?m1:$C(b1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?m1:jC(b1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(f){f=$s(f);var h=f.fill,d=f.align,p=f.sign,m=f.symbol,y=f.zero,w=f.width,A=f.comma,_=f.precision,S=f.trim,T=f.type;T==="n"?(A=!0,T="g"):g1[T]||(_===void 0&&(_=12),S=!0,T="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var B=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=m==="$"?r:/[%p]/.test(T)?o:"",D=g1[T],M=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(N){var te=B,re=I,ue,pe,Se;if(T==="c")re=D(N)+re,N="";else{N=+N;var _e=N<0||1/N<0;if(N=isNaN(N)?c:D(Math.abs(N),_),S&&(N=WC(N)),_e&&+N==0&&p!=="+"&&(_e=!1),te=(_e?p==="("?p:a:p==="-"||p==="("?"":p)+te,re=(T==="s"?y1[8+d1/3]:"")+re+(_e&&p==="("?")":""),M){for(ue=-1,pe=N.length;++ue<pe;)if(Se=N.charCodeAt(ue),48>Se||Se>57){re=(Se===46?i+N.slice(ue+1):N.slice(ue))+re,N=N.slice(0,ue);break}}}A&&!y&&(N=t(N,1/0));var Le=te.length+N.length+re.length,ze=Le<w?new Array(w-Le+1).join(h):"";switch(A&&y&&(N=t(ze+N,ze.length?w-re.length:1/0),ze=""),d){case"<":N=te+N+re+ze;break;case"=":N=te+ze+N+re;break;case"^":N=ze.slice(0,Le=ze.length>>1)+te+N+re+ze.slice(Le);break;default:N=ze+te+N+re;break}return s(N)}return U.toString=function(){return f+""},U}function u(f,h){var d=l((f=$s(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Vs(h)/3)))*3,m=Math.pow(10,-p),y=y1[8+p/3];return function(w){return d(m*w)+y}}return{format:l,formatPrefix:u}}var tu,St,w1;QC({thousands:",",grouping:[3],currency:["$",""]});function QC(e){return tu=YC(e),St=tu.format,w1=tu.formatPrefix,tu}function XC(e){return Math.max(0,-Vs(Math.abs(e)))}function KC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function JC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}const Vh=new Date,$h=new Date;function ot(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let l;do c.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return c},i.filter=s=>ot(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(Vh.setTime(+s),$h.setTime(+o),e(Vh),e($h),Math.floor(n(Vh,$h))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const js=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);js.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):js),js.range;const dr=1e3,an=dr*60,pr=an*60,gr=pr*24,jh=gr*7,x1=gr*30,qh=gr*365,mr=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dr)},(e,t)=>(t-e)/dr,e=>e.getUTCSeconds());mr.range;const nu=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr)},(e,t)=>{e.setTime(+e+t*an)},(e,t)=>(t-e)/an,e=>e.getMinutes());nu.range;const ru=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*an)},(e,t)=>(t-e)/an,e=>e.getUTCMinutes());ru.range;const iu=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr-e.getMinutes()*an)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getHours());iu.range;const su=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCHours());su.range;const Gr=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*an)/gr,e=>e.getDate()-1);Gr.range;const zi=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>e.getUTCDate()-1);zi.range;const v1=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>Math.floor(e/gr));v1.range;function Ui(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*an)/jh)}const Ca=Ui(0),ou=Ui(1),e8=Ui(2),t8=Ui(3),qs=Ui(4),n8=Ui(5),r8=Ui(6);Ca.range,ou.range,e8.range,t8.range,qs.range,n8.range,r8.range;function Gi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jh)}const Ta=Gi(0),au=Gi(1),i8=Gi(2),s8=Gi(3),Ws=Gi(4),o8=Gi(5),a8=Gi(6);Ta.range,au.range,i8.range,s8.range,Ws.range,o8.range,a8.range;const ka=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ka.range;const Ia=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ia.range;const Gn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),Gn.range;const Hn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),Hn.range;function A1(e,t,n,r,i,s){const o=[[mr,1,dr],[mr,5,5*dr],[mr,15,15*dr],[mr,30,30*dr],[s,1,an],[s,5,5*an],[s,15,15*an],[s,30,30*an],[i,1,pr],[i,3,3*pr],[i,6,6*pr],[i,12,12*pr],[r,1,gr],[r,2,2*gr],[n,1,jh],[t,1,x1],[t,3,3*x1],[e,1,qh]];function a(l,u,f){const h=u<l;h&&([l,u]=[u,l]);const d=f&&typeof f.range=="function"?f:c(l,u,f),p=d?d.range(l,+u+1):[];return h?p.reverse():p}function c(l,u,f){const h=Math.abs(u-l)/f,d=Hs(([,,y])=>y).right(o,h);if(d===o.length)return e.every(Oi(l/qh,u/qh,f));if(d===0)return js.every(Math.max(Oi(l,u,f),1));const[p,m]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return p.every(m)}return[a,c]}const[l8,c8]=A1(Hn,Ia,Ta,v1,su,ru),[u8,f8]=A1(Gn,ka,Ca,Gr,iu,nu),Ba="year",Da="quarter",Fa="month",Ra="week",Ma="date",lu="day",Wh="dayofyear",Pa="hours",Na="minutes",La="seconds",cu="milliseconds";[Ba,Da,Fa,Ra,Ma,lu,Wh,Pa,Na,La,cu].reduce((e,t,n)=>(e[t]=1+n,e),{});const h8={[Ba]:Gn,[Da]:ka.every(3),[Fa]:ka,[Ra]:Ca,[Ma]:Gr,[lu]:Gr,[Wh]:Gr,[Pa]:iu,[Na]:nu,[La]:mr,[cu]:js},d8={[Ba]:Hn,[Da]:Ia.every(3),[Fa]:Ia,[Ra]:Ta,[Ma]:zi,[lu]:zi,[Wh]:zi,[Pa]:su,[Na]:ru,[La]:mr,[cu]:js};function p8(e){return h8[e]}function g8(e){return d8[e]}function Zh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oa(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function E1(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,c=e.shortMonths,l=za(i),u=Ua(i),f=za(s),h=Ua(s),d=za(o),p=Ua(o),m=za(a),y=Ua(a),w=za(c),A=Ua(c),_={a:_e,A:Le,b:ze,B:nt,c:null,d:I1,e:I1,f:O8,g:Z8,G:Q8,H:P8,I:N8,j:L8,L:B1,m:z8,M:U8,p:Ie,q:Be,Q:N1,s:L1,S:G8,u:H8,U:V8,V:$8,w:j8,W:q8,x:null,X:null,y:W8,Y:Y8,Z:X8,"%":P1},S={a:bt,A:Wt,b:je,B:L,c:null,d:F1,e:F1,f:t4,g:f4,G:d4,H:K8,I:J8,j:e4,L:R1,m:n4,M:r4,p:P,q,Q:N1,s:L1,S:i4,u:s4,U:o4,V:a4,w:l4,W:c4,x:null,X:null,y:u4,Y:h4,Z:p4,"%":P1},T={a:U,A:N,b:te,B:re,c:ue,d:T1,e:T1,f:D8,g:C1,G:_1,H:k1,I:k1,j:T8,L:B8,m:C8,M:k8,p:M,q:_8,Q:R8,s:M8,S:I8,u:x8,U:v8,V:A8,w:w8,W:E8,x:pe,X:Se,y:C1,Y:_1,Z:S8,"%":F8};_.x=B(n,_),_.X=B(r,_),_.c=B(t,_),S.x=B(n,S),S.X=B(r,S),S.c=B(t,S);function B($,Z){return function(C){var v=[],V=-1,W=0,fe=$.length,ne,he,Zt;for(C instanceof Date||(C=new Date(+C));++V<fe;)$.charCodeAt(V)===37&&(v.push($.slice(W,V)),(he=S1[ne=$.charAt(++V)])!=null?ne=$.charAt(++V):he=ne==="e"?" ":"0",(Zt=Z[ne])&&(ne=Zt(C,he)),v.push(ne),W=V+1);return v.push($.slice(W,V)),v.join("")}}function I($,Z){return function(C){var v=Oa(1900,void 0,1),V=D(v,$,C+="",0),W,fe;if(V!=C.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(Z&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(W=Yh(Oa(v.y,0,1)),fe=W.getUTCDay(),W=fe>4||fe===0?au.ceil(W):au(W),W=zi.offset(W,(v.V-1)*7),v.y=W.getUTCFullYear(),v.m=W.getUTCMonth(),v.d=W.getUTCDate()+(v.w+6)%7):(W=Zh(Oa(v.y,0,1)),fe=W.getDay(),W=fe>4||fe===0?ou.ceil(W):ou(W),W=Gr.offset(W,(v.V-1)*7),v.y=W.getFullYear(),v.m=W.getMonth(),v.d=W.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),fe="Z"in v?Yh(Oa(v.y,0,1)).getUTCDay():Zh(Oa(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(fe+5)%7:v.w+v.U*7-(fe+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,Yh(v)):Zh(v)}}function D($,Z,C,v){for(var V=0,W=Z.length,fe=C.length,ne,he;V<W;){if(v>=fe)return-1;if(ne=Z.charCodeAt(V++),ne===37){if(ne=Z.charAt(V++),he=T[ne in S1?Z.charAt(V++):ne],!he||(v=he($,C,v))<0)return-1}else if(ne!=C.charCodeAt(v++))return-1}return v}function M($,Z,C){var v=l.exec(Z.slice(C));return v?($.p=u.get(v[0].toLowerCase()),C+v[0].length):-1}function U($,Z,C){var v=d.exec(Z.slice(C));return v?($.w=p.get(v[0].toLowerCase()),C+v[0].length):-1}function N($,Z,C){var v=f.exec(Z.slice(C));return v?($.w=h.get(v[0].toLowerCase()),C+v[0].length):-1}function te($,Z,C){var v=w.exec(Z.slice(C));return v?($.m=A.get(v[0].toLowerCase()),C+v[0].length):-1}function re($,Z,C){var v=m.exec(Z.slice(C));return v?($.m=y.get(v[0].toLowerCase()),C+v[0].length):-1}function ue($,Z,C){return D($,t,Z,C)}function pe($,Z,C){return D($,n,Z,C)}function Se($,Z,C){return D($,r,Z,C)}function _e($){return o[$.getDay()]}function Le($){return s[$.getDay()]}function ze($){return c[$.getMonth()]}function nt($){return a[$.getMonth()]}function Ie($){return i[+($.getHours()>=12)]}function Be($){return 1+~~($.getMonth()/3)}function bt($){return o[$.getUTCDay()]}function Wt($){return s[$.getUTCDay()]}function je($){return c[$.getUTCMonth()]}function L($){return a[$.getUTCMonth()]}function P($){return i[+($.getUTCHours()>=12)]}function q($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var Z=B($+="",_);return Z.toString=function(){return $},Z},parse:function($){var Z=I($+="",!1);return Z.toString=function(){return $},Z},utcFormat:function($){var Z=B($+="",S);return Z.toString=function(){return $},Z},utcParse:function($){var Z=I($+="",!0);return Z.toString=function(){return $},Z}}}var S1={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,m8=/^%/,b8=/[\\^$*+?|[\]().{}]/g;function ve(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function y8(e){return e.replace(b8,"\\$&")}function za(e){return new RegExp("^(?:"+e.map(y8).join("|")+")","i")}function Ua(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function w8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function x8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function v8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function A8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function E8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _1(e,t,n){var r=ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function C1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S8(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function C8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function T8(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function k1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function k8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function B8(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function D8(e,t,n){var r=ft.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function F8(e,t,n){var r=m8.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function R8(e,t,n){var r=ft.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function M8(e,t,n){var r=ft.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function I1(e,t){return ve(e.getDate(),t,2)}function P8(e,t){return ve(e.getHours(),t,2)}function N8(e,t){return ve(e.getHours()%12||12,t,2)}function L8(e,t){return ve(1+Gr.count(Gn(e),e),t,3)}function B1(e,t){return ve(e.getMilliseconds(),t,3)}function O8(e,t){return B1(e,t)+"000"}function z8(e,t){return ve(e.getMonth()+1,t,2)}function U8(e,t){return ve(e.getMinutes(),t,2)}function G8(e,t){return ve(e.getSeconds(),t,2)}function H8(e){var t=e.getDay();return t===0?7:t}function V8(e,t){return ve(Ca.count(Gn(e)-1,e),t,2)}function D1(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function $8(e,t){return e=D1(e),ve(qs.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function j8(e){return e.getDay()}function q8(e,t){return ve(ou.count(Gn(e)-1,e),t,2)}function W8(e,t){return ve(e.getFullYear()%100,t,2)}function Z8(e,t){return e=D1(e),ve(e.getFullYear()%100,t,2)}function Y8(e,t){return ve(e.getFullYear()%1e4,t,4)}function Q8(e,t){var n=e.getDay();return e=n>=4||n===0?qs(e):qs.ceil(e),ve(e.getFullYear()%1e4,t,4)}function X8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function F1(e,t){return ve(e.getUTCDate(),t,2)}function K8(e,t){return ve(e.getUTCHours(),t,2)}function J8(e,t){return ve(e.getUTCHours()%12||12,t,2)}function e4(e,t){return ve(1+zi.count(Hn(e),e),t,3)}function R1(e,t){return ve(e.getUTCMilliseconds(),t,3)}function t4(e,t){return R1(e,t)+"000"}function n4(e,t){return ve(e.getUTCMonth()+1,t,2)}function r4(e,t){return ve(e.getUTCMinutes(),t,2)}function i4(e,t){return ve(e.getUTCSeconds(),t,2)}function s4(e){var t=e.getUTCDay();return t===0?7:t}function o4(e,t){return ve(Ta.count(Hn(e)-1,e),t,2)}function M1(e){var t=e.getUTCDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function a4(e,t){return e=M1(e),ve(Ws.count(Hn(e),e)+(Hn(e).getUTCDay()===4),t,2)}function l4(e){return e.getUTCDay()}function c4(e,t){return ve(au.count(Hn(e)-1,e),t,2)}function u4(e,t){return ve(e.getUTCFullYear()%100,t,2)}function f4(e,t){return e=M1(e),ve(e.getUTCFullYear()%100,t,2)}function h4(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function d4(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ws(e):Ws.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function p4(){return"+0000"}function P1(){return"%"}function N1(e){return+e}function L1(e){return Math.floor(+e/1e3)}var Zs,Qh,O1,Xh,z1;g4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function g4(e){return Zs=E1(e),Qh=Zs.format,O1=Zs.parse,Xh=Zs.utcFormat,z1=Zs.utcParse,Zs}function uu(e){const t={};return n=>t[n]||(t[n]=e(n))}function U1(e,t,n){n=n||{},Et(n)||st(`Invalid time multi-format specifier: ${n}`);const r=t(La),i=t(Na),s=t(Pa),o=t(Ma),a=t(Ra),c=t(Fa),l=t(Da),u=t(Ba),f=e(n[cu]||".%L"),h=e(n[La]||":%S"),d=e(n[Na]||"%I:%M"),p=e(n[Pa]||"%I %p"),m=e(n[Ma]||n[lu]||"%a %d"),y=e(n[Ra]||"%b %d"),w=e(n[Fa]||"%B"),A=e(n[Da]||"%B"),_=e(n[Ba]||"%Y");return S=>(r(S)<S?f:i(S)<S?h:s(S)<S?d:o(S)<S?p:c(S)<S?a(S)<S?m:y:u(S)<S?l(S)<S?w:A:_)(S)}function G1(e){const t=uu(e.format),n=uu(e.utcFormat);return{timeFormat:r=>Ge(r)?t(r):U1(t,p8,r),utcFormat:r=>Ge(r)?n(r):U1(n,g8,r),timeParse:uu(e.parse),utcParse:uu(e.utcParse)}}let Kh;m4();function m4(){return Kh=G1({format:Qh,parse:O1,utcFormat:Xh,utcParse:z1})}function b4(e){return G1(E1(e))}function y4(e){return arguments.length?Kh=b4(e):Kh}const w4=e=>e!=null&&e===e,x4=e=>e==="true"||e==="false"||e===!0||e===!1,v4=e=>!Number.isNaN(Date.parse(e)),H1=e=>!Number.isNaN(+e)&&!(e instanceof Date),A4=e=>H1(e)&&Number.isInteger(+e),V1={boolean:$3,integer:ha,number:ha,date:q3,string:W3,unknown:Vc},fu=[x4,A4,H1,v4],E4=["boolean","integer","number","date"];function S4(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=fu.length,i=fu.map((s,o)=>o+1);for(let s=0,o=0,a,c;s<n;++s)for(c=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&w4(c)&&!fu[a](c)&&(i[a]=0,++o,o===fu.length))return"string";return E4[i.reduce((s,o)=>s===0?o:s,0)-1]}function _4(e,t){return t.reduce((n,r)=>(n[r]=S4(e,r),n),{})}function $1(e){const t=function(n,r){const i={delimiter:e};return Jh(n,r?z3(r,i):i)};return t.responseType="text",t}function Jh(e,t){return t.header&&(e=t.header.map(_h).join(t.delimiter)+`
`+e),r1(t.delimiter).parse(e+"")}Jh.responseType="text";function C4(e){return typeof Buffer=="function"&&on(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function ed(e,t){const n=t&&t.property?Hc(t.property):Vc;return Et(e)&&!C4(e)?T4(n(e),t):n(JSON.parse(e))}ed.responseType="json";function T4(e,t){return!yt(e)&&H3(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const k4={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function j1(e,t){let n,r,i,s;return e=ed(e,t),t&&t.feature?(n=vC,i=t.feature):t&&t.mesh?(n=EC,i=t.mesh,s=k4[t.filter]):st("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):st("Invalid TopoJSON object: "+i),r&&r.features||[r]}j1.responseType="json";const td={dsv:Jh,csv:$1(","),tsv:$1("	"),json:ed,topojson:j1};function nd(e,t){return arguments.length>1?(td[e]=t,this):zs(td,e)?td[e]:null}function q1(e,t,n,r){t=t||{};const i=nd(t.type||"json");return i||st("Unknown data format type: "+t.type),e=i(e,t),t.parse&&I4(e,t.parse,n,r),zs(e,"columns")&&delete e.columns,e}function I4(e,t,n,r){if(!e.length)return;const i=y4();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,c,l,u,f;t==="auto"&&(t=_4(e,s)),s=Object.keys(t);const h=s.map(d=>{const p=t[d];let m,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),y=m[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(m[0]==="utc"?r:n)(y);if(!V1[p])throw Error("Illegal format pattern: "+d+":"+p);return V1[p]});for(c=0,u=e.length,f=s.length;c<u;++c)for(o=e[c],l=0;l<f;++l)a=s[l],o[a]=h[l](o[a])}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const W1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Z1=e=>(...t)=>({_$litDirective$:e,values:t});let Y1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Q1="important",B4=" !"+Q1,rd=Z1(class extends Y1{constructor(e){var t;if(super(e),e.type!==W1.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(B4);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?Q1:""):n[r]=i}}return Pi}}),D4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.spinner_ajPY{transform-origin:center;animation:spinner_AtaB%20.75s%20infinite%20linear}@keyframes%20spinner_AtaB{100%25{transform:rotate(360deg)}}%3c/style%3e%3cpath%20d='M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z'%20opacity='.25'/%3e%3cpath%20d='M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z'%20class='spinner_ajPY'/%3e%3c/svg%3e",F4=`
.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
  display: flex;
  flex-direction: column;
}
.genome-spy .canvas-wrapper {
  position: relative;
  flex-grow: 1;
  overflow: hidden;
}
.genome-spy canvas {
  display: block;
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy .loading > canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy .loading > .loading-message .message {
  opacity: 1;
}
.genome-spy .loading > .loading-message .message .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .loading-indicators {
  position: absolute;
  inset: 0;
  user-select: none;
  pointer-events: none;
}
.genome-spy .loading-indicators div {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-indicators div > div {
  font-size: 11px;
  transition: opacity 0.2s;
  background: white;
  padding: 2px 5px;
  display: flex;
  border-radius: 3px;
  gap: 0.5em;
  opacity: 0;
}
.genome-spy .loading-indicators div > div.loading {
  opacity: 0.5;
}
.genome-spy .loading-indicators div > div.error {
  opacity: 0.8;
  color: firebrick;
}
.genome-spy .loading-indicators div > div > * {
  display: block;
}
.genome-spy .loading-indicators div > div img {
  width: 1.5em;
  height: 1.5em;
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 13px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}

.gs-input-binding {
  display: grid;
  grid-template-columns: max-content max-content;
  column-gap: 1em;
  row-gap: 0.3em;
  justify-items: start;
}
.gs-input-binding > select,
.gs-input-binding > input:not([type=checkbox]) {
  width: 100%;
}
.gs-input-binding input[type=range] + span {
  display: inline-block;
  margin-left: 0.3em;
  min-width: 2.2em;
  font-variant-numeric: tabular-nums;
}
.gs-input-binding input[type=range],
.gs-input-binding input[type=radio] {
  vertical-align: text-bottom;
}
.gs-input-binding .radio-group {
  display: flex;
  align-items: center;
}
.gs-input-binding .description {
  max-width: 26em;
  grid-column: 1/-1;
  color: #777;
  font-size: 90%;
  margin-top: -0.5em;
}

.gs-input-bindings {
  flex-basis: content;
  font-size: 14px;
  padding: 10px;
}
`;function R4(e,t){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}function hu(e,t){return e.length==t.length&&e.every((n,r)=>e[r]===t[r])}function zt(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function Ga(e){return e[e.length-1]}class M4{constructor(t){this.container=t,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(t){t!=this._visible&&(this.element.style.display=t?null:"none",this._visible=t)}get visible(){return this._visible}get enabled(){return Ga(this.enabledStack)??!0}pushEnabledState(t){this.enabledStack.push(t),t||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(t){this.mouseCoords=R4(this.container,t);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&P4(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(t){if(!t||!this.enabled||this._isPenalty()){this.visible&&(xa("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}xa(t,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(t,n){t!==this._previousTooltipDatum&&(this._previousTooltipDatum=t,n||(n=r=>Promise.resolve(Ye` ${JSON.stringify(r)} `)),n(t).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function P4(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])**2;return Math.sqrt(n)}/* @license twgl.js 4.24.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const id=5120,Ha=5121,sd=5122,od=5123,ad=5124,ld=5125,cd=5126,N4=32819,L4=32820,O4=33635,z4=5131,U4=33640,G4=35899,H4=35902,V4=36269,$4=34042,X1={};{const e=X1;e[id]=Int8Array,e[Ha]=Uint8Array,e[sd]=Int16Array,e[od]=Uint16Array,e[ad]=Int32Array,e[ld]=Uint32Array,e[cd]=Float32Array,e[N4]=Uint16Array,e[L4]=Uint16Array,e[O4]=Uint16Array,e[z4]=Uint16Array,e[U4]=Uint32Array,e[G4]=Uint32Array,e[H4]=Uint32Array,e[V4]=Uint32Array,e[$4]=Uint32Array}function ud(e){if(e instanceof Int8Array)return id;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return Ha;if(e instanceof Int16Array)return sd;if(e instanceof Uint16Array)return od;if(e instanceof Int32Array)return ad;if(e instanceof Uint32Array)return ld;if(e instanceof Float32Array)return cd;throw new Error("unsupported typed array type")}function j4(e){if(e===Int8Array)return id;if(e===Uint8Array||e===Uint8ClampedArray)return Ha;if(e===Int16Array)return sd;if(e===Uint16Array)return od;if(e===Int32Array)return ad;if(e===Uint32Array)return ld;if(e===Float32Array)return cd;throw new Error("unsupported typed array type")}function q4(e){const t=X1[e];if(!t)throw new Error("unknown gl type");return t}const du=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function W4(...e){console.error(...e)}function K1(...e){console.warn(...e)}function Z4(e,t){return typeof WebGLBuffer<"u"&&t instanceof WebGLBuffer}function J1(e,t){return typeof WebGLRenderbuffer<"u"&&t instanceof WebGLRenderbuffer}function pu(e,t){return typeof WebGLTexture<"u"&&t instanceof WebGLTexture}function Y4(e,t){return typeof WebGLSampler<"u"&&t instanceof WebGLSampler}const eb=35044,Vn=34962,Q4=34963,X4=34660,K4=5120,J4=5121,e6=5122,t6=5123,n6=5124,r6=5125,i6=5126,tb={attribPrefix:""};function nb(e,t,n,r,i){e.bindBuffer(t,n),e.bufferData(t,r,i||eb)}function rb(e,t,n,r){if(Z4(e,t))return t;n=n||Vn;const i=e.createBuffer();return nb(e,n,i,t,r),i}function ib(e){return e==="indices"}function s6(e){return e instanceof Int8Array||e instanceof Uint8Array}function o6(e){return e===Int8Array||e===Uint8Array}function a6(e){return e.length?e:e.data}const l6=/coord|texture/i,c6=/color|colour/i;function sb(e,t){let n;if(l6.test(e)?n=2:c6.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function u6(e,t){return e.numComponents||e.size||sb(t,a6(e).length)}function fd(e,t){if(du(e))return e;if(du(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type;return n||(ib(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function f6(e,t){const n={};return Object.keys(t).forEach(function(r){if(!ib(r)){const i=t[r],s=i.attrib||i.name||i.attribName||tb.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!du(i.value))throw new Error("array.value is not array or typedarray");n[s]={value:i.value}}else{let o,a,c,l;if(i.buffer&&i.buffer instanceof WebGLBuffer)o=i.buffer,l=i.numComponents||i.size,a=i.type,c=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const u=i.data||i,f=i.type||Float32Array,h=u*f.BYTES_PER_ELEMENT;a=j4(f),c=i.normalize!==void 0?i.normalize:o6(f),l=i.numComponents||i.size||sb(r,u),o=e.createBuffer(),e.bindBuffer(Vn,o),e.bufferData(Vn,h,i.drawType||eb)}else{const u=fd(i,r);o=rb(e,u,void 0,i.drawType),a=ud(u),c=i.normalize!==void 0?i.normalize:s6(u),l=u6(i,r)}n[s]={buffer:o,numComponents:l,type:a,normalize:c,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),e.bindBuffer(Vn,null),n}function h6(e,t,n,r){n=fd(n),r!==void 0?(e.bindBuffer(Vn,t.buffer),e.bufferSubData(Vn,r,n)):nb(e,Vn,t.buffer,n,t.drawType)}function d6(e,t){return t===K4||t===J4?1:t===e6||t===t6?2:t===n6||t===r6||t===i6?4:0}const hd=["position","positions","a_position"];function p6(e,t){let n,r;for(r=0;r<hd.length&&(n=hd[r],!(n in t||(n=tb.attribPrefix+n,n in t)));++r);r===hd.length&&(n=Object.keys(t)[0]);const i=t[n];if(!i.buffer)return 1;e.bindBuffer(Vn,i.buffer);const s=e.getBufferParameter(Vn,X4);e.bindBuffer(Vn,null);const o=d6(e,i.type),a=s/o,c=i.numComponents||i.size,l=a/c;if(l%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return l}function g6(e,t,n){const r=f6(e,t),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const s=t.indices;if(s){const o=fd(s,"indices");i.indices=rb(e,o,Q4),i.numElements=o.length,i.elementType=ud(o)}else i.numElements||(i.numElements=p6(e,i.attribs));return i}function Ys(e){return!!e.texStorage2D}const dd=function(){const e={},t={};function n(r){const i=r.constructor.name;if(!e[i]){for(const s in r)if(typeof r[s]=="number"){const o=t[r[s]];t[r[s]]=o?`${o} | ${s}`:s}e[i]=!0}}return function(i,s){return n(i),t[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Hr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Qs=du,ob=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),pd=6406,ln=6407,He=6408,gd=6409,md=6410,Xs=6402,bd=34041,gu=33071,m6=9728,b6=9729,br=3553,yr=34067,Vr=32879,$r=35866,mu=34069,y6=34070,w6=34071,x6=34072,v6=34073,A6=34074,yd=10241,wd=10240,bu=10242,yu=10243,ab=32882,E6=33082,S6=33083,_6=33084,C6=33085,xd=3317,lb=3314,cb=32878,ub=3316,fb=3315,hb=32877,T6=37443,k6=37441,I6=37440,B6=33321,D6=36756,F6=33325,R6=33326,M6=33330,P6=33329,N6=33338,L6=33337,O6=33340,z6=33339,U6=33323,G6=36757,H6=33327,V6=33328,$6=33336,j6=33335,q6=33332,W6=33331,Z6=33334,Y6=33333,Q6=32849,X6=35905,K6=36194,J6=36758,eT=35898,tT=35901,nT=34843,rT=34837,iT=36221,sT=36239,oT=36215,aT=36233,lT=36209,cT=36227,uT=32856,fT=35907,hT=36759,dT=32855,pT=32854,gT=32857,mT=34842,bT=34836,yT=36220,wT=36238,xT=36975,vT=36214,AT=36232,ET=36226,ST=36208,_T=33189,CT=33190,TT=36012,kT=36013,IT=35056,jr=5120,Qe=5121,wu=5122,Ks=5123,xu=5124,Hi=5125,_t=5126,db=32819,pb=32820,gb=33635,Tn=5131,Va=36193,vd=33640,BT=35899,DT=35902,FT=36269,RT=34042,$a=33319,Vi=33320,ja=6403,$i=36244,ji=36248,qr=36249,MT={};{const e=MT;e[pd]={numColorComponents:1},e[gd]={numColorComponents:1},e[md]={numColorComponents:2},e[ln]={numColorComponents:3},e[He]={numColorComponents:4},e[ja]={numColorComponents:1},e[$i]={numColorComponents:1},e[$a]={numColorComponents:2},e[Vi]={numColorComponents:2},e[ln]={numColorComponents:3},e[ji]={numColorComponents:3},e[He]={numColorComponents:4},e[qr]={numColorComponents:4},e[Xs]={numColorComponents:1},e[bd]={numColorComponents:2}}let Ad;function vu(e){if(!Ad){const t={};t[pd]={textureFormat:pd,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Qe,Tn,Va,_t]},t[gd]={textureFormat:gd,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Qe,Tn,Va,_t]},t[md]={textureFormat:md,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Qe,Tn,Va,_t]},t[ln]={textureFormat:ln,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Qe,Tn,Va,_t,gb]},t[He]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Qe,Tn,Va,_t,db,pb]},t[Xs]={textureFormat:Xs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Hi,Ks]},t[B6]={textureFormat:ja,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Qe]},t[D6]={textureFormat:ja,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[jr]},t[F6]={textureFormat:ja,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[_t,Tn]},t[R6]={textureFormat:ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[_t]},t[M6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Qe]},t[P6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[jr]},t[q6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ks]},t[W6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[wu]},t[Z6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Hi]},t[Y6]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xu]},t[U6]={textureFormat:$a,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Qe]},t[G6]={textureFormat:$a,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[jr]},t[H6]={textureFormat:$a,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[_t,Tn]},t[V6]={textureFormat:$a,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[_t]},t[$6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qe]},t[j6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[jr]},t[N6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ks]},t[L6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[wu]},t[O6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Hi]},t[z6]={textureFormat:Vi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xu]},t[Q6]={textureFormat:ln,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Qe]},t[X6]={textureFormat:ln,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Qe]},t[K6]={textureFormat:ln,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Qe,gb]},t[J6]={textureFormat:ln,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[jr]},t[eT]={textureFormat:ln,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Tn,BT]},t[tT]={textureFormat:ln,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Tn,DT]},t[nT]={textureFormat:ln,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[_t,Tn]},t[rT]={textureFormat:ln,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_t]},t[iT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Qe]},t[sT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[jr]},t[oT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Ks]},t[aT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[wu]},t[lT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Hi]},t[cT]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[xu]},t[uT]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Qe]},t[fT]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Qe]},t[hT]={textureFormat:He,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[jr]},t[dT]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Qe,pb,vd]},t[pT]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Qe,db]},t[gT]={textureFormat:He,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vd]},t[mT]={textureFormat:He,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[_t,Tn]},t[bT]={textureFormat:He,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[_t]},t[yT]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qe]},t[wT]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jr]},t[xT]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vd]},t[vT]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ks]},t[AT]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[wu]},t[ET]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[xu]},t[ST]={textureFormat:qr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Hi]},t[_T]={textureFormat:Xs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ks,Hi]},t[CT]={textureFormat:Xs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Hi]},t[TT]={textureFormat:Xs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_t]},t[IT]={textureFormat:bd,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[RT]},t[kT]={textureFormat:bd,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[FT]},Object.keys(t).forEach(function(n){const r=t[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,s){const o=r.type[s];r.bytesPerElementMap[o]=i})}),Ad=t}return Ad[e]}function PT(e,t){const n=vu(e);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[t];if(r===void 0)throw"unknown internal format";return r}function Js(e){const t=vu(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function mb(e){return(e&e-1)===0}function NT(e,t,n,r){if(!Ys(e))return mb(t)&&mb(n);const i=vu(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function LT(e){const t=vu(e);if(!t)throw"unknown internal format";return t.textureFilterable}function bb(e,t,n){return Qs(t)?ud(t):n||Qe}function Au(e,t,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const s=Math.sqrt(i/(t===yr?6:1));s%1===0?(n=s,r=s):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function eo(e,t){t.colorspaceConversion!==void 0&&e.pixelStorei(T6,t.colorspaceConversion),t.premultiplyAlpha!==void 0&&e.pixelStorei(k6,t.premultiplyAlpha),t.flipY!==void 0&&e.pixelStorei(I6,t.flipY)}function yb(e){e.pixelStorei(xd,4),Ys(e)&&(e.pixelStorei(lb,0),e.pixelStorei(cb,0),e.pixelStorei(ub,0),e.pixelStorei(fb,0),e.pixelStorei(hb,0))}function OT(e,t,n,r){r.minMag&&(n.call(e,t,yd,r.minMag),n.call(e,t,wd,r.minMag)),r.min&&n.call(e,t,yd,r.min),r.mag&&n.call(e,t,wd,r.mag),r.wrap&&(n.call(e,t,bu,r.wrap),n.call(e,t,yu,r.wrap),(t===Vr||Y4(e,t))&&n.call(e,t,ab,r.wrap)),r.wrapR&&n.call(e,t,ab,r.wrapR),r.wrapS&&n.call(e,t,bu,r.wrapS),r.wrapT&&n.call(e,t,yu,r.wrapT),r.minLod&&n.call(e,t,E6,r.minLod),r.maxLod&&n.call(e,t,S6,r.maxLod),r.baseLevel&&n.call(e,t,_6,r.baseLevel),r.maxLevel&&n.call(e,t,C6,r.maxLevel)}function wb(e,t,n){const r=n.target||br;e.bindTexture(r,t),OT(e,r,e.texParameteri,n)}function zT(e){return e=e||Hr.textureColor,Qs(e)?e:new Uint8Array([e[0]*255,e[1]*255,e[2]*255,e[3]*255])}function Ed(e,t,n,r,i,s){n=n||Hr.textureOptions,s=s||He;const o=n.target||br;if(r=r||n.width,i=i||n.height,e.bindTexture(o,t),NT(e,r,i,s))e.generateMipmap(o);else{const a=LT(s)?b6:m6;e.texParameteri(o,yd,a),e.texParameteri(o,wd,a),e.texParameteri(o,bu,gu),e.texParameteri(o,yu,gu)}}function qa(e){return e.auto===!0||e.auto===void 0&&e.level===void 0}function Sd(e,t){return t=t||{},t.cubeFaceOrder||[mu,y6,w6,x6,v6,A6]}function _d(e,t){const r=Sd(e,t).map(function(i,s){return{face:i,ndx:s}});return r.sort(function(i,s){return i.face-s.face}),r}function xb(e,t,n,r){r=r||Hr.textureOptions;const i=r.target||br,s=r.level||0;let o=n.width,a=n.height;const c=r.internalFormat||r.format||He,l=Js(c),u=r.format||l.format,f=r.type||l.type;if(eo(e,r),e.bindTexture(i,t),i===yr){const h=n.width,d=n.height;let p,m;if(h/6===d)p=d,m=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,m=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,m=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,m=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const y=ob();y?(y.canvas.width=p,y.canvas.height=p,o=p,a=p,_d(e,r).forEach(function(w){const A=m[w.ndx*2+0]*p,_=m[w.ndx*2+1]*p;y.drawImage(n,A,_,p,p,0,0,p,p),e.texImage2D(w.face,s,c,u,f,y.canvas)}),y.canvas.width=1,y.canvas.height=1):typeof createImageBitmap<"u"&&(o=p,a=p,_d(e,r).forEach(function(w){const A=m[w.ndx*2+0]*p,_=m[w.ndx*2+1]*p;e.texImage2D(w.face,s,c,p,p,0,u,f,null),createImageBitmap(n,A,_,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(S){eo(e,r),e.bindTexture(i,t),e.texImage2D(w.face,s,c,u,f,S),qa(r)&&Ed(e,t,r,o,a,c)})}))}else if(i===Vr||i===$r){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const m=n.width===d?1:0,y=n.height===d?1:0;e.pixelStorei(xd,1),e.pixelStorei(lb,n.width),e.pixelStorei(cb,0),e.pixelStorei(hb,0),e.texImage3D(i,s,c,h,h,h,0,u,f,null);for(let w=0;w<p;++w){const A=w*h*m,_=w*h*y;e.pixelStorei(ub,A),e.pixelStorei(fb,_),e.texSubImage3D(i,s,0,0,w,h,h,1,u,f,n)}yb(e)}else e.texImage2D(i,s,c,u,f,n);qa(r)&&Ed(e,t,r,o,a,c),wb(e,t,r)}function Wa(){}function UT(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function GT(e,t){return t===void 0&&!UT(e)?"anonymous":t}function HT(e,t,n){n=n||Wa;let r;if(t=t!==void 0?t:Hr.crossOrigin,t=GT(e,t),typeof Image<"u"){r=new Image,t!==void 0&&(r.crossOrigin=t);const i=function(){r.removeEventListener("error",s),r.removeEventListener("load",o),r=null},s=function(){const c="couldn't load image: "+e;W4(c),n(c,r),i()},o=function(){n(null,r),i()};return r.addEventListener("error",s),r.addEventListener("load",o),r.src=e,r}else if(typeof ImageBitmap<"u"){let i,s;const o=function(){n(i,s)},a={};t&&(a.mode="cors"),fetch(e,a).then(function(c){if(!c.ok)throw c;return c.blob()}).then(function(c){return createImageBitmap(c,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(c){s=c,setTimeout(o)}).catch(function(c){i=c,setTimeout(o)}),r=null}return r}function vb(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function Cd(e,t,n){return vb(e)?(setTimeout(function(){n(null,e)}),e):HT(e,t,n)}function Td(e,t,n){n=n||Hr.textureOptions;const r=n.target||br;if(e.bindTexture(r,t),n.color===!1)return;const i=zT(n.color);if(r===yr)for(let s=0;s<6;++s)e.texImage2D(mu+s,0,He,1,1,0,He,Qe,i);else r===Vr||r===$r?e.texImage3D(r,0,He,1,1,1,0,He,Qe,i):e.texImage2D(r,0,He,1,1,0,He,Qe,i)}function VT(e,t,n,r){return r=r||Wa,n=n||Hr.textureOptions,Td(e,t,n),n=Object.assign({},n),Cd(n.src,n.crossOrigin,function(s,o){s?r(s,t,o):(xb(e,t,o,n),r(null,t,o))})}function $T(e,t,n,r){r=r||Wa;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const s=n.level||0,o=n.internalFormat||n.format||He,a=Js(o),c=n.format||a.format,l=n.type||Qe,u=n.target||br;if(u!==yr)throw"target must be TEXTURE_CUBE_MAP";Td(e,t,n),n=Object.assign({},n);let f=6;const h=[],d=Sd(e,n);let p;function m(y){return function(w,A){--f,w?h.push(w):A.width!==A.height?h.push("cubemap face img is not a square: "+A.src):(eo(e,n),e.bindTexture(u,t),f===5?Sd().forEach(function(_){e.texImage2D(_,s,o,c,l,A)}):e.texImage2D(y,s,o,c,l,A),qa(n)&&e.generateMipmap(u)),f===0&&r(h.length?h:void 0,t,p)}}p=i.map(function(y,w){return Cd(y,n.crossOrigin,m(d[w]))})}function jT(e,t,n,r){r=r||Wa;const i=n.src,s=n.internalFormat||n.format||He,o=Js(s),a=n.format||o.format,c=n.type||Qe,l=n.target||$r;if(l!==Vr&&l!==$r)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Td(e,t,n),n=Object.assign({},n);let u=i.length;const f=[];let h;const d=n.level||0;let p=n.width,m=n.height;const y=i.length;let w=!0;function A(_){return function(S,T){if(--u,S)f.push(S);else{if(eo(e,n),e.bindTexture(l,t),w){w=!1,p=n.width||T.width,m=n.height||T.height,e.texImage3D(l,d,s,p,m,y,0,a,c,null);for(let B=0;B<y;++B)e.texSubImage3D(l,d,0,0,B,p,m,1,a,c,T)}else{let B=T,I;(T.width!==p||T.height!==m)&&(I=ob(),B=I.canvas,I.canvas.width=p,I.canvas.height=m,I.drawImage(T,0,0,p,m)),e.texSubImage3D(l,d,0,0,_,p,m,1,a,c,B),I&&B===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}qa(n)&&e.generateMipmap(l)}u===0&&r(f.length?f:void 0,t,h)}}h=i.map(function(_,S){return Cd(_,n.crossOrigin,A(S))})}function Ab(e,t,n,r){r=r||Hr.textureOptions;const i=r.target||br;e.bindTexture(i,t);let s=r.width,o=r.height,a=r.depth;const c=r.level||0,l=r.internalFormat||r.format||He,u=Js(l),f=r.format||u.format,h=r.type||bb(e,n,u.type);if(Qs(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const y=q4(h);n=new y(n)}const d=PT(l,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+dd(e,f);let m;if(i===Vr||i===$r)if(!s&&!o&&!a){const y=Math.cbrt(p);if(y%1!==0)throw"can't guess cube size of array of numElements: "+p;s=y,o=y,a=y}else s&&(!o||!a)?(m=Au(e,i,o,a,p/s),o=m.width,a=m.height):o&&(!s||!a)?(m=Au(e,i,s,a,p/o),s=m.width,a=m.height):(m=Au(e,i,s,o,p/a),s=m.width,o=m.height);else m=Au(e,i,s,o,p),s=m.width,o=m.height;if(yb(e),e.pixelStorei(xd,r.unpackAlignment||1),eo(e,r),i===yr){const y=d/n.BYTES_PER_ELEMENT,w=p/6*y;_d(e,r).forEach(A=>{const _=w*A.ndx,S=n.subarray(_,_+w);e.texImage2D(A.face,c,l,s,o,0,f,h,S)})}else i===Vr||i===$r?e.texImage3D(i,c,l,s,o,a,0,f,h,n):e.texImage2D(i,c,l,s,o,0,f,h,n);return{width:s,height:o,depth:a,type:h}}function qT(e,t,n){const r=n.target||br;e.bindTexture(r,t);const i=n.level||0,s=n.internalFormat||n.format||He,o=Js(s),a=n.format||o.format,c=n.type||o.type;if(eo(e,n),r===yr)for(let l=0;l<6;++l)e.texImage2D(mu+l,i,s,n.width,n.height,0,a,c,null);else r===Vr||r===$r?e.texImage3D(r,i,s,n.width,n.height,n.depth,0,a,c,null):e.texImage2D(r,i,s,n.width,n.height,0,a,c,null)}function Za(e,t,n){n=n||Wa,t=t||Hr.textureOptions;const r=e.createTexture(),i=t.target||br;let s=t.width||1,o=t.height||1;const a=t.internalFormat||He;e.bindTexture(i,r),i===yr&&(e.texParameteri(i,bu,gu),e.texParameteri(i,yu,gu));let c=t.src;if(c)if(typeof c=="function"&&(c=c(e,t)),typeof c=="string")VT(e,r,t,n);else if(Qs(c)||Array.isArray(c)&&(typeof c[0]=="number"||Array.isArray(c[0])||Qs(c[0]))){const l=Ab(e,r,c,t);s=l.width,o=l.height}else Array.isArray(c)&&(typeof c[0]=="string"||vb(c[0]))?i===yr?$T(e,r,t,n):jT(e,r,t,n):(xb(e,r,c,t),s=c.width,o=c.height);else qT(e,r,t);return qa(t)&&Ed(e,r,t,s,o,a),wb(e,r,t),r}function WT(e,t,n,r,i,s){r=r||n.width,i=i||n.height,s=s||n.depth;const o=n.target||br;e.bindTexture(o,t);const a=n.level||0,c=n.internalFormat||n.format||He,l=Js(c),u=n.format||l.format;let f;const h=n.src;if(h&&(Qs(h)||Array.isArray(h)&&typeof h[0]=="number")?f=n.type||bb(e,h,l.type):f=n.type||l.type,o===yr)for(let d=0;d<6;++d)e.texImage2D(mu+d,a,c,r,i,0,u,f,null);else o===Vr||o===$r?e.texImage3D(o,a,c,r,i,s,0,u,f,null):e.texImage2D(o,a,c,r,i,0,u,f,null)}const ZT=K1,Eu=33984,YT=35048,Su=34962,QT=34963,kd=35345,Eb=35718,XT=35721,KT=35971,JT=35382,ek=35396,tk=35398,nk=35392,rk=35395,_u=5126,Sb=35664,_b=35665,Cb=35666,Id=5124,Tb=35667,kb=35668,Ib=35669,Bb=35670,Db=35671,Fb=35672,Rb=35673,Mb=35674,Pb=35675,Nb=35676,ik=35678,sk=35680,ok=35679,ak=35682,lk=35685,ck=35686,uk=35687,fk=35688,hk=35689,dk=35690,pk=36289,gk=36292,mk=36293,Bd=5125,Lb=36294,Ob=36295,zb=36296,bk=36298,yk=36299,wk=36300,xk=36303,vk=36306,Ak=36307,Ek=36308,Sk=36311,Cu=3553,Tu=34067,Dd=32879,ku=35866,ce={};function Ub(e,t){return ce[t].bindPoint}function _k(e,t){return function(n){e.uniform1f(t,n)}}function Ck(e,t){return function(n){e.uniform1fv(t,n)}}function Tk(e,t){return function(n){e.uniform2fv(t,n)}}function kk(e,t){return function(n){e.uniform3fv(t,n)}}function Ik(e,t){return function(n){e.uniform4fv(t,n)}}function Gb(e,t){return function(n){e.uniform1i(t,n)}}function Hb(e,t){return function(n){e.uniform1iv(t,n)}}function Vb(e,t){return function(n){e.uniform2iv(t,n)}}function $b(e,t){return function(n){e.uniform3iv(t,n)}}function jb(e,t){return function(n){e.uniform4iv(t,n)}}function Bk(e,t){return function(n){e.uniform1ui(t,n)}}function Dk(e,t){return function(n){e.uniform1uiv(t,n)}}function Fk(e,t){return function(n){e.uniform2uiv(t,n)}}function Rk(e,t){return function(n){e.uniform3uiv(t,n)}}function Mk(e,t){return function(n){e.uniform4uiv(t,n)}}function Pk(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function Nk(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function Lk(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function Ok(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function zk(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function Uk(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function Gk(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function Hk(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function Vk(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function Ft(e,t,n,r){const i=Ub(e,t);return Ys(e)?function(s){let o,a;pu(e,s)?(o=s,a=null):(o=s.texture,a=s.sampler),e.uniform1i(r,n),e.activeTexture(Eu+n),e.bindTexture(i,o),e.bindSampler(n,a)}:function(s){e.uniform1i(r,n),e.activeTexture(Eu+n),e.bindTexture(i,s)}}function Rt(e,t,n,r,i){const s=Ub(e,t),o=new Int32Array(i);for(let a=0;a<i;++a)o[a]=n+a;return Ys(e)?function(a){e.uniform1iv(r,o),a.forEach(function(c,l){e.activeTexture(Eu+o[l]);let u,f;pu(e,c)?(u=c,f=null):(u=c.texture,f=c.sampler),e.bindSampler(n,f),e.bindTexture(s,u)})}:function(a){e.uniform1iv(r,o),a.forEach(function(c,l){e.activeTexture(Eu+o[l]),e.bindTexture(s,c)})}}ce[_u]={Type:Float32Array,size:4,setter:_k,arraySetter:Ck},ce[Sb]={Type:Float32Array,size:8,setter:Tk,cols:2},ce[_b]={Type:Float32Array,size:12,setter:kk,cols:3},ce[Cb]={Type:Float32Array,size:16,setter:Ik,cols:4},ce[Id]={Type:Int32Array,size:4,setter:Gb,arraySetter:Hb},ce[Tb]={Type:Int32Array,size:8,setter:Vb,cols:2},ce[kb]={Type:Int32Array,size:12,setter:$b,cols:3},ce[Ib]={Type:Int32Array,size:16,setter:jb,cols:4},ce[Bd]={Type:Uint32Array,size:4,setter:Bk,arraySetter:Dk},ce[Lb]={Type:Uint32Array,size:8,setter:Fk,cols:2},ce[Ob]={Type:Uint32Array,size:12,setter:Rk,cols:3},ce[zb]={Type:Uint32Array,size:16,setter:Mk,cols:4},ce[Bb]={Type:Uint32Array,size:4,setter:Gb,arraySetter:Hb},ce[Db]={Type:Uint32Array,size:8,setter:Vb,cols:2},ce[Fb]={Type:Uint32Array,size:12,setter:$b,cols:3},ce[Rb]={Type:Uint32Array,size:16,setter:jb,cols:4},ce[Mb]={Type:Float32Array,size:32,setter:Pk,rows:2,cols:2},ce[Pb]={Type:Float32Array,size:48,setter:Nk,rows:3,cols:3},ce[Nb]={Type:Float32Array,size:64,setter:Lk,rows:4,cols:4},ce[lk]={Type:Float32Array,size:32,setter:Ok,rows:2,cols:3},ce[ck]={Type:Float32Array,size:32,setter:Uk,rows:2,cols:4},ce[uk]={Type:Float32Array,size:48,setter:zk,rows:3,cols:2},ce[fk]={Type:Float32Array,size:48,setter:Hk,rows:3,cols:4},ce[hk]={Type:Float32Array,size:64,setter:Gk,rows:4,cols:2},ce[dk]={Type:Float32Array,size:64,setter:Vk,rows:4,cols:3},ce[ik]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Cu},ce[sk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Tu},ce[ok]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Dd},ce[ak]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Cu},ce[pk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:ku},ce[gk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:ku},ce[mk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Tu},ce[bk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Cu},ce[yk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Dd},ce[wk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Tu},ce[xk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:ku},ce[vk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Cu},ce[Ak]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Dd},ce[Ek]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:Tu},ce[Sk]={Type:null,size:0,setter:Ft,arraySetter:Rt,bindPoint:ku};function Iu(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(Su,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||_u,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Wr(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(Su,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Id,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Bu(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(Su,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Bd,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Fd(e,t,n){const r=n.size,i=n.count;return function(s){e.bindBuffer(Su,s.buffer);const o=s.size||s.numComponents||r,a=o/i,c=s.type||_u,u=ce[c].size*o,f=s.normalize||!1,h=s.offset||0,d=u/i;for(let p=0;p<i;++p)e.enableVertexAttribArray(t+p),e.vertexAttribPointer(t+p,a,c,f,u,h+d*p),s.divisor!==void 0&&e.vertexAttribDivisor(t+p,s.divisor)}}const it={};it[_u]={size:4,setter:Iu},it[Sb]={size:8,setter:Iu},it[_b]={size:12,setter:Iu},it[Cb]={size:16,setter:Iu},it[Id]={size:4,setter:Wr},it[Tb]={size:8,setter:Wr},it[kb]={size:12,setter:Wr},it[Ib]={size:16,setter:Wr},it[Bd]={size:4,setter:Bu},it[Lb]={size:8,setter:Bu},it[Ob]={size:12,setter:Bu},it[zb]={size:16,setter:Bu},it[Bb]={size:4,setter:Wr},it[Db]={size:8,setter:Wr},it[Fb]={size:12,setter:Wr},it[Rb]={size:16,setter:Wr},it[Mb]={size:4,setter:Fd,count:2},it[Pb]={size:9,setter:Fd,count:3},it[Nb]={size:16,setter:Fd,count:4};function qb(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const $k=/(\.|\[|]|\w+)/g,jk=e=>e>="0"&&e<="9";function Wb(e,t,n,r){const i=e.split($k).filter(a=>a!=="");let s=0,o="";for(;;){const a=i[s++];o+=a;const c=jk(a[0]),l=c?parseInt(a):a;if(c&&(o+=i[s++]),s===i.length){n[l]=t;break}else{const f=i[s++],h=f==="[",d=n[l]||(h?[]:{});n[l]=d,n=d,r[o]=r[o]||function(p){return function(m){Kb(p,m)}}(d),o+=f}}}function qk(e,t){let n=0;function r(a,c,l){const u=c.name.endsWith("[0]"),f=c.type,h=ce[f];if(!h)throw new Error(`unknown type: 0x${f.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=c.size,u?d=h.arraySetter(e,f,p,l,c.size):d=h.setter(e,f,p,l,c.size)}else h.arraySetter&&u?d=h.arraySetter(e,l):d=h.setter(e,l);return d.location=l,d}const i={},s={},o=e.getProgramParameter(t,Eb);for(let a=0;a<o;++a){const c=e.getActiveUniform(t,a);if(qb(c))continue;let l=c.name;l.endsWith("[0]")&&(l=l.substr(0,l.length-3));const u=e.getUniformLocation(t,c.name);if(u){const f=r(t,c,u);i[l]=f,Wb(l,f,s,i)}}return i}function Wk(e,t){const n={},r=e.getProgramParameter(t,KT);for(let i=0;i<r;++i){const s=e.getTransformFeedbackVarying(t,i);n[s.name]={index:i,type:s.type,size:s.size}}return n}function Zk(e,t){const n=e.getProgramParameter(t,Eb),r=[],i=[];for(let a=0;a<n;++a){i.push(a),r.push({});const c=e.getActiveUniform(t,a);r[a].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const c=a[0],l=a[1];e.getActiveUniforms(t,i,e[c]).forEach(function(u,f){r[f][l]=u})});const s={},o=e.getProgramParameter(t,JT);for(let a=0;a<o;++a){const c=e.getActiveUniformBlockName(t,a),l={index:e.getUniformBlockIndex(t,c),usedByVertexShader:e.getActiveUniformBlockParameter(t,a,ek),usedByFragmentShader:e.getActiveUniformBlockParameter(t,a,tk),size:e.getActiveUniformBlockParameter(t,a,nk),uniformIndices:e.getActiveUniformBlockParameter(t,a,rk)};l.used=l.usedByVertexShader||l.usedByFragmentShader,s[c]=l}return{blockSpecs:s,uniformData:r}}const Zb=/\[\d+\]\.$/,Yk=(e,t)=>((e+(t-1))/t|0)*t;function Qk(e,t,n,r){if(t||n){r=r||1;const s=e.length/4;return function(o){let a=0,c=0;for(let l=0;l<s;++l){for(let u=0;u<r;++u)e[a++]=o[c++];a+=4-r}}}else return function(i){i.length?e.set(i):e[0]=i}}function Xk(e,t,n,r){const i=n.blockSpecs,s=n.uniformData,o=i[r];if(!o)return ZT("no uniform block object named:",r),{name:r,uniforms:{}};const a=new ArrayBuffer(o.size),c=e.createBuffer(),l=o.index;e.bindBuffer(kd,c),e.uniformBlockBinding(t,o.index,l);let u=r+".";Zb.test(u)&&(u=u.replace(Zb,"."));const f={},h={},d={};return o.uniformIndices.forEach(function(p){const m=s[p];let y=m.name;y.startsWith(u)&&(y=y.substr(u.length));const w=y.endsWith("[0]");w&&(y=y.substr(0,y.length-3));const A=ce[m.type],_=A.Type,S=w?Yk(A.size,16)*m.size:A.size*m.size,T=new _(a,m.offset,S/_.BYTES_PER_ELEMENT);f[y]=T;const B=Qk(T,w,A.rows,A.cols);h[y]=B,Wb(y,B,d,h)}),{name:r,array:a,asFloat:new Float32Array(a),buffer:c,uniforms:f,setters:h}}function Yb(e,t,n){return Xk(e,t.program,t.uniformBlockSpec,n)}function Qb(e,t,n){const i=(t.uniformBlockSpec||t).blockSpecs[n.name];if(i){const s=i.index;return e.bindBufferRange(kd,s,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function Xb(e,t,n){Qb(e,t,n)&&e.bufferData(kd,n.array,YT)}function Ya(e,t){const n=e.setters;for(const r in t){const i=n[r];if(i){const s=t[r];i(s)}}}function Kb(e,t){for(const n in t){const r=e[n];typeof r=="function"?r(t[n]):Kb(e[n],t[n])}}function qi(e,...t){const n=e.uniformSetters||e,r=t.length;for(let i=0;i<r;++i){const s=t[i];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)qi(n,s[a])}else for(const o in s){const a=n[o];a&&a(s[o])}}}function Kk(e,t){const n={},r=e.getProgramParameter(t,XT);for(let i=0;i<r;++i){const s=e.getActiveAttrib(t,i);if(qb(s))continue;const o=e.getAttribLocation(t,s.name),a=it[s.type],c=a.setter(e,o,a);c.location=o,n[s.name]=c}return n}function Jk(e,t){for(const n in t){const r=e[n];r&&r(t[n])}}function Wi(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(Jk(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(QT,n.indices))}function eI(e,t){const n=qk(e,t),r=Kk(e,t),i={program:t,uniformSetters:n,attribSetters:r};return Ys(e)&&(i.uniformBlockSpec=Zk(e,t),i.transformFeedbackInfo=Wk(e,t)),i}const tI=4,Jb=5123;function Du(e,t,n,r,i,s){n=n===void 0?tI:n;const o=t.indices,a=t.elementType,c=r===void 0?t.numElements:r;i=i===void 0?0:i,a||o?s!==void 0?e.drawElementsInstanced(n,c,a===void 0?Jb:t.elementType,i,s):e.drawElements(n,c,a===void 0?Jb:t.elementType,i):s!==void 0?e.drawArraysInstanced(n,i,c,s):e.drawArrays(n,i,c)}const nI=36160,Zi=36161,rI=3553,iI=5121,sI=6402,oI=6408,aI=33190,lI=36012,cI=35056,uI=36013,fI=32854,hI=32855,dI=36194,ey=33189,ty=6401,ny=36168,Rd=34041,Md=36064,Fu=36096,ry=36128,Pd=33306,Nd=33071,Ld=9729,iy=[{format:oI,type:iI,min:Ld,wrap:Nd},{format:Rd}],kn={};kn[Rd]=Pd,kn[ty]=ry,kn[ny]=ry,kn[sI]=Fu,kn[ey]=Fu,kn[aI]=Fu,kn[lI]=Fu,kn[cI]=Pd,kn[uI]=Pd;function pI(e,t){return kn[e]||kn[t]}const Zr={};Zr[fI]=!0,Zr[hI]=!0,Zr[dI]=!0,Zr[Rd]=!0,Zr[ey]=!0,Zr[ty]=!0,Zr[ny]=!0;function gI(e){return Zr[e]}const mI=32;function bI(e){return e>=Md&&e<Md+mI}function yI(e,t,n,r){const i=nI,s=e.createFramebuffer();e.bindFramebuffer(i,s),n=n||e.drawingBufferWidth,r=r||e.drawingBufferHeight,t=t||iy;const o=[],a={framebuffer:s,attachments:[],width:n,height:r};return t.forEach(function(c,l){let u=c.attachment;const f=c.samples,h=c.format;let d=c.attachmentPoint||pI(h,c.internalFormat);if(d||(d=Md+l),bI(d)&&o.push(d),!u)if(f!==void 0||gI(h))u=e.createRenderbuffer(),e.bindRenderbuffer(Zi,u),f>1?e.renderbufferStorageMultisample(Zi,f,h,n,r):e.renderbufferStorage(Zi,h,n,r);else{const p=Object.assign({},c);p.width=n,p.height=r,p.auto===void 0&&(p.auto=!1,p.min=p.min||p.minMag||Ld,p.mag=p.mag||p.minMag||Ld,p.wrapS=p.wrapS||p.wrap||Nd,p.wrapT=p.wrapT||p.wrap||Nd),u=Za(e,p)}if(J1(e,u))e.framebufferRenderbuffer(i,d,Zi,u);else if(pu(e,u))c.layer!==void 0?e.framebufferTextureLayer(i,d,u,c.level||0,c.layer):e.framebufferTexture2D(i,d,c.target||rI,u,c.level||0);else throw new Error("unknown attachment type");a.attachments.push(u)}),e.drawBuffers&&e.drawBuffers(o),a}function wI(e,t,n,r,i){r=r||e.drawingBufferWidth,i=i||e.drawingBufferHeight,t.width=r,t.height=i,n=n||iy,n.forEach(function(s,o){const a=t.attachments[o],c=s.format,l=s.samples;if(l!==void 0||J1(e,a))e.bindRenderbuffer(Zi,a),l>1?e.renderbufferStorageMultisample(Zi,l,c,r,i):e.renderbufferStorage(Zi,c,r,i);else if(pu(e,a))WT(e,a,s,r,i);else throw new Error("unknown attachment type")})}function xI(e,t,n){const r=e.createVertexArray();return e.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(i){Wi(e,i,n)}),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const vI=/^(.*?)_/;function AI(e,t){dd(e,0);const n=e.getExtension(t);if(n){const r={},i=vI.exec(t)[1],s="_"+i;for(const o in n){const a=n[o],c=typeof a=="function",l=c?i:s;let u=o;o.endsWith(l)&&(u=o.substring(0,o.length-l.length)),e[u]!==void 0?!c&&e[u]!==a&&K1(u,e[u],a,o):c?e[u]=function(f){return function(){return f.apply(n,arguments)}}(a):(e[u]=a,r[u]=a)}r.constructor={name:n.constructor.name},dd(r,0)}return n}const sy=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function oy(e){for(let t=0;t<sy.length;++t)AI(e,sy[t])}function EI(e,t){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=e.getContext(n[i],t),r){oy(r);break}return r}function SI(e,t){return EI(e,t)}const _I=`out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;

#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
vec2 getVertexPos() {
    int index = gl_VertexID % 6;
    return vec2(
        index == 0 || index == 1 || index == 3 ? 0.0 : 1.0,
        index == 0 || index == 1 || index == 2 ? 0.0 : 1.0
    );
    
}

void main(void) {
    vec2 frac = getVertexPos();

    vec2 normalizedMinSize = vec2(uMinWidth, uMinHeight) / uViewportSize;
    vec4 cornerRadii = vec4(
        uCornerRadiusTopRight,
        uCornerRadiusBottomRight,
        uCornerRadiusTopLeft,
        uCornerRadiusBottomLeft
    );

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(cornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,CI=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,TI=`layout(std140) uniform Mark {
    /** Minimum size (width, height) of the displayed rectangle in pixels */
    uniform float uMinWidth;
    uniform float uMinHeight;

    /** Minimum opacity for the size clamping */
    uniform float uMinOpacity;

    uniform float uCornerRadiusTopRight;
    uniform float uCornerRadiusBottomRight;
    uniform float uCornerRadiusTopLeft;
    uniform float uCornerRadiusBottomLeft;

#pragma markUniforms
};
`;function $n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Od=Symbol("implicit");function zd(){var e=new hr,t=[],n=[],r=Od;function i(s){let o=e.get(s);if(o===void 0){if(r!==Od)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hr;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return zd(t,n).unknown(r)},$n.apply(i,arguments),i}function to(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qr(){}var Yi=.7,no=1/Yi,ro="\\s*([+-]?\\d+)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kI=/^#([0-9a-f]{3,8})$/,II=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),BI=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),DI=new RegExp(`^rgba\\(${ro},${ro},${ro},${Xa}\\)$`),FI=new RegExp(`^rgba\\(${jn},${jn},${jn},${Xa}\\)$`),RI=new RegExp(`^hsl\\(${Xa},${jn},${jn}\\)$`),MI=new RegExp(`^hsla\\(${Xa},${jn},${jn},${Xa}\\)$`),ay={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};to(Qr,Xr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ly,formatHex:ly,formatHex8:PI,formatHsl:NI,formatRgb:cy,toString:cy});function ly(){return this.rgb().formatHex()}function PI(){return this.rgb().formatHex8()}function NI(){return py(this).formatHsl()}function cy(){return this.rgb().formatRgb()}function Xr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uy(t):n===3?new ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=II.exec(e))?new ht(t[1],t[2],t[3],1):(t=BI.exec(e))?new ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DI.exec(e))?Ru(t[1],t[2],t[3],t[4]):(t=FI.exec(e))?Ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RI.exec(e))?dy(t[1],t[2]/100,t[3]/100,1):(t=MI.exec(e))?dy(t[1],t[2]/100,t[3]/100,t[4]):ay.hasOwnProperty(e)?uy(ay[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function uy(e){return new ht(e>>16&255,e>>8&255,e&255,1)}function Ru(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function Ud(e){return e instanceof Qr||(e=Xr(e)),e?(e=e.rgb(),new ht(e.r,e.g,e.b,e.opacity)):new ht}function Mu(e,t,n,r){return arguments.length===1?Ud(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}to(ht,Mu,Qa(Qr,{brighter(e){return e=e==null?no:Math.pow(no,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ht(Qi(this.r),Qi(this.g),Qi(this.b),Pu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fy,formatHex:fy,formatHex8:LI,formatRgb:hy,toString:hy}));function fy(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function LI(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function hy(){const e=Pu(this.opacity);return`${e===1?"rgb(":"rgba("}${Qi(this.r)}, ${Qi(this.g)}, ${Qi(this.b)}${e===1?")":`, ${e})`}`}function Pu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=Qi(e),(e<16?"0":"")+e.toString(16)}function dy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new In(e,t,n,r)}function py(e){if(e instanceof In)return new In(e.h,e.s,e.l,e.opacity);if(e instanceof Qr||(e=Xr(e)),!e)return new In;if(e instanceof In)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new In(o,a,c,e.opacity)}function Gd(e,t,n,r){return arguments.length===1?py(e):new In(e,t,n,r??1)}function In(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}to(In,Gd,Qa(Qr,{brighter(e){return e=e==null?no:Math.pow(no,e),new In(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new In(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ht(Hd(e>=240?e-240:e+120,i,r),Hd(e,i,r),Hd(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new In(gy(this.h),Nu(this.s),Nu(this.l),Pu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pu(this.opacity);return`${e===1?"hsl(":"hsla("}${gy(this.h)}, ${Nu(this.s)*100}%, ${Nu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gy(e){return e=(e||0)%360,e<0?e+360:e}function Nu(e){return Math.max(0,Math.min(1,e||0))}function Hd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const my=Math.PI/180,by=180/Math.PI,Lu=18,yy=.96422,wy=1,xy=.82521,vy=4/29,io=6/29,Ay=3*io*io,OI=io*io*io;function Ey(e){if(e instanceof qn)return new qn(e.l,e.a,e.b,e.opacity);if(e instanceof wr)return Sy(e);e instanceof ht||(e=Ud(e));var t=Wd(e.r),n=Wd(e.g),r=Wd(e.b),i=$d((.2225045*t+.7168786*n+.0606169*r)/wy),s,o;return t===n&&n===r?s=o=i:(s=$d((.4360747*t+.3850649*n+.1430804*r)/yy),o=$d((.0139322*t+.0971045*n+.7141733*r)/xy)),new qn(116*i-16,500*(s-i),200*(i-o),e.opacity)}function Vd(e,t,n,r){return arguments.length===1?Ey(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}to(qn,Vd,Qa(Qr,{brighter(e){return new qn(this.l+Lu*(e??1),this.a,this.b,this.opacity)},darker(e){return new qn(this.l-Lu*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=yy*jd(t),e=wy*jd(e),n=xy*jd(n),new ht(qd(3.1338561*t-1.6168667*e-.4906146*n),qd(-.9787684*t+1.9161415*e+.033454*n),qd(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function $d(e){return e>OI?Math.pow(e,1/3):e/Ay+vy}function jd(e){return e>io?e*e*e:Ay*(e-vy)}function qd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zI(e){if(e instanceof wr)return new wr(e.h,e.c,e.l,e.opacity);if(e instanceof qn||(e=Ey(e)),e.a===0&&e.b===0)return new wr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*by;return new wr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Zd(e,t,n,r){return arguments.length===1?zI(e):new wr(e,t,n,r??1)}function wr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Sy(e){if(isNaN(e.h))return new qn(e.l,0,0,e.opacity);var t=e.h*my;return new qn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}to(wr,Zd,Qa(Qr,{brighter(e){return new wr(this.h,this.c,this.l+Lu*(e??1),this.opacity)},darker(e){return new wr(this.h,this.c,this.l-Lu*(e??1),this.opacity)},rgb(){return Sy(this).rgb()}}));var _y=-.14861,Yd=1.78277,Qd=-.29227,Ou=-.90649,Ka=1.97294,Cy=Ka*Ou,Ty=Ka*Yd,ky=Yd*Qd-Ou*_y;function UI(e){if(e instanceof Ki)return new Ki(e.h,e.s,e.l,e.opacity);e instanceof ht||(e=Ud(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ky*r+Cy*t-Ty*n)/(ky+Cy-Ty),s=r-i,o=(Ka*(n-i)-Qd*s)/Ou,a=Math.sqrt(o*o+s*s)/(Ka*i*(1-i)),c=a?Math.atan2(o,s)*by-120:NaN;return new Ki(c<0?c+360:c,a,i,e.opacity)}function Xd(e,t,n,r){return arguments.length===1?UI(e):new Ki(e,t,n,r??1)}function Ki(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}to(Ki,Xd,Qa(Qr,{brighter(e){return e=e==null?no:Math.pow(no,e),new Ki(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new Ki(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*my,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ht(255*(t+n*(_y*r+Yd*i)),255*(t+n*(Qd*r+Ou*i)),255*(t+n*(Ka*r)),this.opacity)}}));function Iy(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function By(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return Iy((n-r/t)*t,o,i,s,a)}}function Dy(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return Iy((n-r/t)*t,i,s,o,a)}}const zu=e=>()=>e;function Fy(e,t){return function(n){return e+n*t}}function GI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Uu(e,t){var n=t-e;return n?Fy(e,n>180||n<-180?n-360*Math.round(n/360):n):zu(isNaN(e)?t:e)}function HI(e){return(e=+e)==1?dt:function(t,n){return n-t?GI(t,n,e):zu(isNaN(t)?n:t)}}function dt(e,t){var n=t-e;return n?Fy(e,n):zu(isNaN(e)?t:e)}const Kd=function e(t){var n=HI(t);function r(i,s){var o=n((i=Mu(i)).r,(s=Mu(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),l=dt(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function Ry(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=Mu(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=s(c),a+""}}}var VI=Ry(By),$I=Ry(Dy);function Jd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function My(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jI(e,t){return(My(t)?Jd:Py)(e,t)}function Py(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Kr(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Ny(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ly(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Kr(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var e0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t0=new RegExp(e0.source,"g");function qI(e){return function(){return e}}function WI(e){return function(t){return e(t)+""}}function Oy(e,t){var n=e0.lastIndex=t0.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(e=e+"",t=t+"";(r=e0.exec(e))&&(i=t0.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Bn(r,i)})),n=t0.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?WI(c[0].x):qI(t):(t=c.length,function(l){for(var u=0,f;u<t;++u)a[(f=c[u]).i]=f.x(l);return a.join("")})}function Kr(e,t){var n=typeof t,r;return t==null||n==="boolean"?zu(t):(n==="number"?Bn:n==="string"?(r=Xr(t))?(t=r,Kd):Oy:t instanceof Xr?Kd:t instanceof Date?Ny:My(t)?Jd:Array.isArray(t)?Py:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ly:Bn)(e,t)}function ZI(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function YI(e,t){var n=Uu(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Ja(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var zy=180/Math.PI,n0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Uy(e,t,n,r,i,s){var o,a,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*zy,skewX:Math.atan(c)*zy,scaleX:o,scaleY:a}}var Gu;function QI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?n0:Uy(t.a,t.b,t.c,t.d,t.e,t.f)}function XI(e){return e==null||(Gu||(Gu=document.createElementNS("http://www.w3.org/2000/svg","g")),Gu.setAttribute("transform",e),!(e=Gu.transform.baseVal.consolidate()))?n0:(e=e.matrix,Uy(e.a,e.b,e.c,e.d,e.e,e.f))}function Gy(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,u,f,h,d,p){if(l!==f||u!==h){var m=d.push("translate(",null,t,null,n);p.push({i:m-4,x:Bn(l,f)},{i:m-2,x:Bn(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function o(l,u,f,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Bn(l,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(l,u,f,h){l!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Bn(l,u)}):u&&f.push(i(f)+"skewX("+u+r)}function c(l,u,f,h,d,p){if(l!==f||u!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Bn(l,f)},{i:m-2,x:Bn(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,u){var f=[],h=[];return l=e(l),u=e(u),s(l.translateX,l.translateY,u.translateX,u.translateY,f,h),o(l.rotate,u.rotate,f,h),a(l.skewX,u.skewX,f,h),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,h),l=u=null,function(d){for(var p=-1,m=h.length,y;++p<m;)f[(y=h[p]).i]=y.x(d);return f.join("")}}}var KI=Gy(QI,"px, ","px)","deg)"),JI=Gy(XI,", ",")",")"),eB=1e-12;function Hy(e){return((e=Math.exp(e))+1/e)/2}function tB(e){return((e=Math.exp(e))-1/e)/2}function nB(e){return((e=Math.exp(2*e))-1)/(e+1)}const rB=function e(t,n,r){function i(s,o){var a=s[0],c=s[1],l=s[2],u=o[0],f=o[1],h=o[2],d=u-a,p=f-c,m=d*d+p*p,y,w;if(m<eB)w=Math.log(h/l)/t,y=function(I){return[a+I*d,c+I*p,l*Math.exp(t*I*w)]};else{var A=Math.sqrt(m),_=(h*h-l*l+r*m)/(2*l*n*A),S=(h*h-l*l-r*m)/(2*h*n*A),T=Math.log(Math.sqrt(_*_+1)-_),B=Math.log(Math.sqrt(S*S+1)-S);w=(B-T)/t,y=function(I){var D=I*w,M=Hy(T),U=l/(n*A)*(M*nB(t*D+T)-tB(T));return[a+U*d,c+U*p,l*M/Hy(t*D+T)]}}return y.duration=w*1e3*t/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,c=a*a;return e(o,a,c)},i}(Math.SQRT2,2,4);function Vy(e){return function(t,n){var r=e((t=Gd(t)).h,(n=Gd(n)).h),i=dt(t.s,n.s),s=dt(t.l,n.l),o=dt(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const iB=Vy(Uu);var sB=Vy(dt);function oB(e,t){var n=dt((e=Vd(e)).l,(t=Vd(t)).l),r=dt(e.a,t.a),i=dt(e.b,t.b),s=dt(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function $y(e){return function(t,n){var r=e((t=Zd(t)).h,(n=Zd(n)).h),i=dt(t.c,n.c),s=dt(t.l,n.l),o=dt(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const aB=$y(Uu);var lB=$y(dt);function jy(e){return function t(n){n=+n;function r(i,s){var o=e((i=Xd(i)).h,(s=Xd(s)).h),a=dt(i.s,s.s),c=dt(i.l,s.l),l=dt(i.opacity,s.opacity);return function(u){return i.h=o(u),i.s=a(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}const cB=jy(Uu);var uB=jy(dt);function r0(e,t){t===void 0&&(t=e,e=Kr);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function fB(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const hB=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Kr,interpolateArray:jI,interpolateBasis:By,interpolateBasisClosed:Dy,interpolateCubehelix:cB,interpolateCubehelixLong:uB,interpolateDate:Ny,interpolateDiscrete:ZI,interpolateHcl:aB,interpolateHclLong:lB,interpolateHsl:iB,interpolateHslLong:sB,interpolateHue:YI,interpolateLab:oB,interpolateNumber:Bn,interpolateNumberArray:Jd,interpolateObject:Ly,interpolateRgb:Kd,interpolateRgbBasis:VI,interpolateRgbBasisClosed:$I,interpolateRound:Ja,interpolateString:Oy,interpolateTransformCss:KI,interpolateTransformSvg:JI,interpolateZoom:rB,piecewise:r0,quantize:fB},Symbol.toStringTag,{value:"Module"}));function dB(e){return function(){return e}}function i0(e){return+e}var qy=[0,1];function Ut(e){return e}function s0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dB(isNaN(t)?NaN:.5)}function pB(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gB(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=s0(i,r),s=n(o,s)):(r=s0(r,i),s=n(s,o)),function(a){return s(r(a))}}function mB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=s0(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var c=Ur(e,a,1,r)-1;return s[c](i[c](a))}}function el(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hu(){var e=qy,t=qy,n=Kr,r,i,s,o=Ut,a,c,l;function u(){var h=Math.min(e.length,t.length);return o!==Ut&&(o=pB(e[0],e[h-1])),a=h>2?mB:gB,c=l=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=a(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((l||(l=a(t,e.map(r),Bn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,i0),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Ja,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Ut,u()):o!==Ut},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,u()}}function Wy(){return Hu()(Ut,Ut)}function Zy(e,t,n,r){var i=Oi(e,t,n),s;switch(r=$s(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=KC(i,o))&&(r.precision=s),w1(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=JC(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=XC(i))&&(r.precision=s-(r.type==="%")*2);break}}return St(r)}function Ji(e){var t=e.domain;return e.ticks=function(n){var r=t();return Jc(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Zy(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],c,l,u=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);u-- >0;){if(l=zh(o,a,n),l===c)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;c=l}return e},e}function Yy(){var e=Wy();return e.copy=function(){return el(e,Yy())},$n.apply(e,arguments),Ji(e)}function Qy(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,i0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Qy(e).unknown(t)},e=arguments.length?Array.from(e,i0):[0,1],Ji(n)}function Xy(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function Ky(e){return Math.log(e)}function Jy(e){return Math.exp(e)}function bB(e){return-Math.log(-e)}function yB(e){return-Math.exp(-e)}function wB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xB(e){return e===10?wB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ew(e){return(t,n)=>-e(-t,n)}function o0(e){const t=e(Ky,Jy),n=t.domain;let r=10,i,s;function o(){return i=vB(r),s=xB(r),n()[0]<0?(i=ew(i),s=ew(s),e(bB,yB)):e(Ky,Jy),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const c=n();let l=c[0],u=c[c.length-1];const f=u<l;f&&([l,u]=[u,l]);let h=i(l),d=i(u),p,m;const y=a==null?10:+a;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),l>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/s(-h):p*s(h),!(m<l)){if(m>u)break;w.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/s(-h):p*s(h),!(m<l)){if(m>u)break;w.push(m)}w.length*2<y&&(w=Jc(l,u,y))}else w=Jc(h,d,Math.min(d-h,y)).map(s);return f?w.reverse():w},t.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$s(c)).precision==null&&(c.trim=!0),c=St(c)),a===1/0)return c;const l=Math.max(1,r*a/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=l?c(u):""}},t.nice=()=>n(Xy(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function a0(){const e=o0(Hu()).domain([1,10]);return e.copy=()=>el(e,a0()).base(e.base()),$n.apply(e,arguments),e}function tw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l0(e){var t=1,n=e(tw(t),nw(t));return n.constant=function(r){return arguments.length?e(tw(t=+r),nw(t)):t},Ji(n)}function rw(){var e=l0(Hu());return e.copy=function(){return el(e,rw()).constant(e.constant())},$n.apply(e,arguments)}function iw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EB(e){return e<0?-e*e:e*e}function c0(e){var t=e(Ut,Ut),n=1;function r(){return n===1?e(Ut,Ut):n===.5?e(AB,EB):e(iw(n),iw(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ji(t)}function u0(){var e=c0(Hu());return e.copy=function(){return el(e,u0()).exponent(e.exponent())},$n.apply(e,arguments),e}function SB(){return u0.apply(null,arguments).exponent(.5)}function sw(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=h1(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Ur(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Li),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return sw().domain(e).range(t).unknown(r)},$n.apply(s,arguments)}function ow(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Ur(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,a()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return ow().domain([e,t]).range(i).unknown(s)},$n.apply(Ji(o),arguments)}function aw(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Ur(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return aw().domain(e).range(t).unknown(n)},$n.apply(i,arguments)}function _B(e){return new Date(e)}function CB(e){return e instanceof Date?+e:+new Date(+e)}function f0(e,t,n,r,i,s,o,a,c,l){var u=Wy(),f=u.invert,h=u.domain,d=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),w=l("%a %d"),A=l("%b %d"),_=l("%B"),S=l("%Y");function T(B){return(c(B)<B?d:a(B)<B?p:o(B)<B?m:s(B)<B?y:r(B)<B?i(B)<B?w:A:n(B)<B?_:S)(B)}return u.invert=function(B){return new Date(f(B))},u.domain=function(B){return arguments.length?h(Array.from(B,CB)):h().map(_B)},u.ticks=function(B){var I=h();return e(I[0],I[I.length-1],B??10)},u.tickFormat=function(B,I){return I==null?T:l(I)},u.nice=function(B){var I=h();return(!B||typeof B.range!="function")&&(B=t(I[0],I[I.length-1],B??10)),B?h(Xy(I,B)):u},u.copy=function(){return el(u,f0(e,t,n,r,i,s,o,a,c,l))},u}function TB(){return $n.apply(f0(u8,f8,Gn,ka,Ca,Gr,iu,nu,mr,Qh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kB(){return $n.apply(f0(l8,c8,Hn,Ia,Ta,zi,su,ru,mr,Xh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vu(){var e=0,t=1,n,r,i,s,o=Ut,a=!1,c;function l(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(o=f,l):o};function u(f){return function(h){var d,p;return arguments.length?([d,p]=h,o=f(d,p),l):[o(0),o(1)]}}return l.range=u(Kr),l.rangeRound=u(Ja),l.unknown=function(f){return arguments.length?(c=f,l):c},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function Jr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h0(){var e=Ji(Vu()(Ut));return e.copy=function(){return Jr(e,h0())},Yr.apply(e,arguments)}function lw(){var e=o0(Vu()).domain([1,10]);return e.copy=function(){return Jr(e,lw()).base(e.base())},Yr.apply(e,arguments)}function cw(){var e=l0(Vu());return e.copy=function(){return Jr(e,cw()).constant(e.constant())},Yr.apply(e,arguments)}function d0(){var e=c0(Vu());return e.copy=function(){return Jr(e,d0()).exponent(e.exponent())},Yr.apply(e,arguments)}function IB(){return d0.apply(null,arguments).exponent(.5)}function $u(){var e=0,t=.5,n=1,r=1,i,s,o,a,c,l=Ut,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-s)*(r*m<r*s?a:c),l(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,n]=m,i=u(e=+e),s=u(t=+t),o=u(n=+n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,d):[e,t,n]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(l=m,d):l};function p(m){return function(y){var w,A,_;return arguments.length?([w,A,_]=y,l=r0(m,[w,A,_]),d):[l(0),l(.5),l(1)]}}return d.range=p(Kr),d.rangeRound=p(Ja),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function uw(){var e=Ji($u()(Ut));return e.copy=function(){return Jr(e,uw())},Yr.apply(e,arguments)}function fw(){var e=o0($u()).domain([.1,1,10]);return e.copy=function(){return Jr(e,fw()).base(e.base())},Yr.apply(e,arguments)}function hw(){var e=l0($u());return e.copy=function(){return Jr(e,hw()).constant(e.constant())},Yr.apply(e,arguments)}function p0(){var e=c0($u());return e.copy=function(){return Jr(e,p0()).exponent(e.exponent())},Yr.apply(e,arguments)}function BB(){return p0.apply(null,arguments).exponent(.5)}function Wn(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const DB=Wn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),FB=Wn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),RB=Wn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),MB=Wn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),PB=Wn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),NB=Wn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),LB=Wn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),OB=Wn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),zB=Wn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),UB=Wn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function g0(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const GB="identity",so="linear",ei="log",tl="pow",nl="sqrt",ju="symlog",dw="time",pw="utc",Zn="sequential",oo="diverging",m0="quantile",gw="quantize",mw="threshold",b0="ordinal",y0="point",bw="band",w0="bin-ordinal",at="continuous",rl="discrete",il="discretizing",cn="interpolating",yw="temporal";function HB(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function VB(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,c,l;for(i<r&&(a=r,r=i,i=a),c=0,l=n.length;c<l;++c)n[c]>=r&&n[c]<=i&&(s<0&&(s=c),o=c);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function x0(){const e=zd().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,c=0,l=.5;delete e.unknown;function u(){const f=t().length,h=r[1]<r[0],d=r[1-h],p=g0(f,a,c);let m=r[h-0];i=(d-m)/(p||1),o&&(i=Math.floor(i)),m+=(d-m-i*(f-a))*l,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const y=Sa(f).map(w=>m+i*w);return n(h?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,u()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,u()):o},e.padding=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),a=c,u()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),u()):a},e.paddingOuter=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let m=+f[0],y=+f[1],w,A,_;if(!(m!==m||y!==y)&&(y<m&&(_=m,m=y,y=_),!(y<d[0]||m>r[1-h])))return w=Math.max(0,Ur(d,m)-1),A=m===y?w:Ur(d,y)-1,m-d[w]>s+1e-10&&++w,h&&(_=w,w=p-A,A=p-_),w>A?void 0:t().slice(w,A+1)},e.invert=function(f){const h=e.invertRange([f,f]);return h&&h[0]},e.copy=function(){return x0().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(c).align(l)},u()}function ww(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ww(t())},e}function $B(){return ww(x0().paddingInner(1))}var jB=Array.prototype.map;function qB(e){return jB.call(e,ha)}const WB=Array.prototype.slice;function xw(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Ur(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=qB(r),n):e.slice()},n.range=function(r){return arguments.length?(t=WB.call(r),n):t.slice()},n.tickFormat=function(r,i){return Zy(e[0],Cn(e),r??10,i)},n.copy=function(){return xw().domain(n.domain()).range(n.range())},n}const qu=new Map,ZB=Symbol("vega_scale");function YB(e){return e[ZB]=!0,e}function QB(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?HB(s):s.invertExtent?VB(s):void 0),s.type=e,YB(s)};return r.metadata=Wc(Sh(n)),r}function ke(e,t,n){return arguments.length>1?(qu.set(e,QB(e,t,n)),this):XB(e)?qu.get(e):void 0}ke(GB,Qy),ke(so,Yy,at),ke(ei,a0,[at,ei]),ke(tl,u0,at),ke(nl,SB,at),ke(ju,rw,at),ke(dw,TB,[at,yw]),ke(pw,kB,[at,yw]),ke(Zn,h0,[at,cn]),ke(`${Zn}-${so}`,h0,[at,cn]),ke(`${Zn}-${ei}`,lw,[at,cn,ei]),ke(`${Zn}-${tl}`,d0,[at,cn]),ke(`${Zn}-${nl}`,IB,[at,cn]),ke(`${Zn}-${ju}`,cw,[at,cn]),ke(`${oo}-${so}`,uw,[at,cn]),ke(`${oo}-${ei}`,fw,[at,cn,ei]),ke(`${oo}-${tl}`,p0,[at,cn]),ke(`${oo}-${nl}`,BB,[at,cn]),ke(`${oo}-${ju}`,hw,[at,cn]),ke(m0,sw,[il,m0]),ke(gw,ow,il),ke(mw,aw,il),ke(w0,xw,[rl,il]),ke(b0,zd,rl),ke(bw,x0,rl),ke(y0,$B,rl);function XB(e){return qu.has(e)}function sl(e,t){const n=qu.get(e);return n&&n.metadata[t]}function wt(e){return sl(e,at)}function ti(e){return sl(e,rl)}function es(e){return sl(e,il)}function vw(e){return sl(e,ei)}function Wu(e){return sl(e,cn)}function KB(e,t){const n=t[0],r=Cn(t)-n;return function(i){return e(n+i*r)}}function Zu(e,t,n){return r0(Aw(t||"rgb",n),e)}function JB(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Aw(e,t){const n=hB[eD(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function eD(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const tD={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},nD={accent:FB,category10:DB,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:RB,observable10:MB,paired:PB,pastel1:NB,pastel2:LB,set1:OB,set2:zB,set3:UB,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Ew(e){if(yt(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Sw(e,t){for(const n in e)v0(n,t(e[n]))}const _w={};Sw(nD,Ew),Sw(tD,e=>Zu(Ew(e)));function v0(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(_w[e]=t,this):_w[e]}function Fe(e,t=e){if(/^[A-Za-z0-9_]+$/.test(e)){const n=function(i){e in i||rD(i,e)},r=new Function("validator",`
                let validated = !validator;
                return function accessField(datum) {
                    if (!validated) {
                        validator(datum);
                        validated = true;
                    }
                    return datum[${JSON.stringify(e)}];
                }`)(n);return Pe(r,[e],t)}else return Hc(e)}function rD(e,t){throw new Error(`Invalid field "${t}". Available fields or properties: ${Object.keys(e).join(", ")}`)}const iD="RawCode",sD="Literal",oD="Property",aD="Identifier",lD="ArrayExpression",cD="BinaryExpression",uD="CallExpression",fD="ConditionalExpression",hD="LogicalExpression",dD="MemberExpression",pD="ObjectExpression",gD="UnaryExpression";function Dn(e){this.type=e}Dn.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=mD(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function mD(e){switch(e.type){case lD:return e.elements;case cD:case hD:return[e.left,e.right];case uD:return[e.callee].concat(e.arguments);case fD:return[e.test,e.consequent,e.alternate];case dD:return[e.object,e.property];case pD:return e.properties;case oD:return[e.key,e.value];case gD:return[e.argument];case aD:case sD:case iD:default:return[]}}var Yn,ee,H,Ct,Re,Yu=1,ol=2,ts=3,ni=4,Qu=5,ns=6,Gt=7,al=8,bD=9;Yn={},Yn[Yu]="Boolean",Yn[ol]="<end>",Yn[ts]="Identifier",Yn[ni]="Keyword",Yn[Qu]="Null",Yn[ns]="Numeric",Yn[Gt]="Punctuator",Yn[al]="String",Yn[bD]="RegularExpression";var yD="ArrayExpression",wD="BinaryExpression",xD="CallExpression",vD="ConditionalExpression",Cw="Identifier",AD="Literal",ED="LogicalExpression",SD="MemberExpression",_D="ObjectExpression",CD="Property",TD="UnaryExpression",pt="Unexpected token %0",kD="Unexpected number",ID="Unexpected string",BD="Unexpected identifier",DD="Unexpected reserved word",FD="Unexpected end of input",A0="Invalid regular expression",E0="Invalid regular expression: missing /",Tw="Octal literals are not allowed in strict mode.",RD="Duplicate data property in object literal not allowed in strict mode",xt="ILLEGAL",ll="Disabled.",MD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),PD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Xu(e,t){if(!e)throw new Error("ASSERT: "+t)}function xr(e){return e>=48&&e<=57}function S0(e){return"0123456789abcdefABCDEF".includes(e)}function cl(e){return"01234567".includes(e)}function ND(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function ul(e){return e===10||e===13||e===8232||e===8233}function fl(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&MD.test(String.fromCharCode(e))}function Ku(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&PD.test(String.fromCharCode(e))}const LD={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function kw(){for(;H<Ct;){const e=ee.charCodeAt(H);if(ND(e)||ul(e))++H;else break}}function _0(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)H<Ct&&S0(ee[H])?(r=ee[H++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ae({},pt,xt);return String.fromCharCode(i)}function OD(){var e,t,n,r;for(e=ee[H],t=0,e==="}"&&Ae({},pt,xt);H<Ct&&(e=ee[H++],!!S0(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ae({},pt,xt),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Iw(){var e,t;for(e=ee.charCodeAt(H++),t=String.fromCharCode(e),e===92&&(ee.charCodeAt(H)!==117&&Ae({},pt,xt),++H,e=_0("u"),(!e||e==="\\"||!fl(e.charCodeAt(0)))&&Ae({},pt,xt),t=e);H<Ct&&(e=ee.charCodeAt(H),!!Ku(e));)++H,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ee.charCodeAt(H)!==117&&Ae({},pt,xt),++H,e=_0("u"),(!e||e==="\\"||!Ku(e.charCodeAt(0)))&&Ae({},pt,xt),t+=e);return t}function zD(){var e,t;for(e=H++;H<Ct;){if(t=ee.charCodeAt(H),t===92)return H=e,Iw();if(Ku(t))++H;else break}return ee.slice(e,H)}function UD(){var e,t,n;return e=H,t=ee.charCodeAt(H)===92?Iw():zD(),t.length===1?n=ts:LD.hasOwnProperty(t)?n=ni:t==="null"?n=Qu:t==="true"||t==="false"?n=Yu:n=ts,{type:n,value:t,start:e,end:H}}function C0(){var e=H,t=ee.charCodeAt(H),n,r=ee[H],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++H,{type:Gt,value:String.fromCharCode(t),start:e,end:H};default:if(n=ee.charCodeAt(H+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return H+=2,{type:Gt,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:H};case 33:case 61:return H+=2,ee.charCodeAt(H)===61&&++H,{type:Gt,value:ee.slice(e,H),start:e,end:H}}}if(o=ee.substr(H,4),o===">>>=")return H+=4,{type:Gt,value:o,start:e,end:H};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return H+=3,{type:Gt,value:s,start:e,end:H};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return H+=2,{type:Gt,value:i,start:e,end:H};if(i==="//"&&Ae({},pt,xt),"<>=!+-*%&|^/".includes(r))return++H,{type:Gt,value:r,start:e,end:H};Ae({},pt,xt)}function GD(e){let t="";for(;H<Ct&&S0(ee[H]);)t+=ee[H++];return t.length===0&&Ae({},pt,xt),fl(ee.charCodeAt(H))&&Ae({},pt,xt),{type:ns,value:parseInt("0x"+t,16),start:e,end:H}}function HD(e){let t="0"+ee[H++];for(;H<Ct&&cl(ee[H]);)t+=ee[H++];return(fl(ee.charCodeAt(H))||xr(ee.charCodeAt(H)))&&Ae({},pt,xt),{type:ns,value:parseInt(t,8),octal:!0,start:e,end:H}}function Bw(){var e,t,n;if(n=ee[H],Xu(xr(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=H,e="",n!=="."){if(e=ee[H++],n=ee[H],e==="0"){if(n==="x"||n==="X")return++H,GD(t);if(cl(n))return HD(t);n&&xr(n.charCodeAt(0))&&Ae({},pt,xt)}for(;xr(ee.charCodeAt(H));)e+=ee[H++];n=ee[H]}if(n==="."){for(e+=ee[H++];xr(ee.charCodeAt(H));)e+=ee[H++];n=ee[H]}if(n==="e"||n==="E")if(e+=ee[H++],n=ee[H],(n==="+"||n==="-")&&(e+=ee[H++]),xr(ee.charCodeAt(H)))for(;xr(ee.charCodeAt(H));)e+=ee[H++];else Ae({},pt,xt);return fl(ee.charCodeAt(H))&&Ae({},pt,xt),{type:ns,value:parseFloat(e),start:t,end:H}}function VD(){var e="",t,n,r,i,s=!1;for(t=ee[H],Xu(t==="'"||t==='"',"String literal must starts with a quote"),n=H,++H;H<Ct;)if(r=ee[H++],r===t){t="";break}else if(r==="\\")if(r=ee[H++],!r||!ul(r.charCodeAt(0)))switch(r){case"u":case"x":ee[H]==="{"?(++H,e+=OD()):e+=_0(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:cl(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),H<Ct&&cl(ee[H])&&(s=!0,i=i*8+"01234567".indexOf(ee[H++]),"0123".includes(r)&&H<Ct&&cl(ee[H])&&(i=i*8+"01234567".indexOf(ee[H++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ee[H]===`
`&&++H;else{if(ul(r.charCodeAt(0)))break;e+=r}return t!==""&&Ae({},pt,xt),{type:al,value:e,octal:s,start:n,end:H}}function $D(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ae({},A0)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ae({},A0)}try{return new RegExp(e,t)}catch{return null}}function jD(){var e,t,n,r,i;for(e=ee[H],Xu(e==="/","Regular expression literal must start with a slash"),t=ee[H++],n=!1,r=!1;H<Ct;)if(e=ee[H++],t+=e,e==="\\")e=ee[H++],ul(e.charCodeAt(0))&&Ae({},E0),t+=e;else if(ul(e.charCodeAt(0)))Ae({},E0);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ae({},E0),i=t.substr(1,t.length-2),{value:i,literal:t}}function qD(){var e,t,n;for(t="",n="";H<Ct&&(e=ee[H],!!Ku(e.charCodeAt(0)));)++H,e==="\\"&&H<Ct?Ae({},pt,xt):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ae({},A0,n),{value:n,literal:t}}function WD(){var e,t,n,r;return Re=null,kw(),e=H,t=jD(),n=qD(),r=$D(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:H}}function ZD(e){return e.type===ts||e.type===ni||e.type===Yu||e.type===Qu}function Dw(){if(kw(),H>=Ct)return{type:ol,start:H,end:H};const e=ee.charCodeAt(H);return fl(e)?UD():e===40||e===41||e===59?C0():e===39||e===34?VD():e===46?xr(ee.charCodeAt(H+1))?Bw():C0():xr(e)?Bw():C0()}function Ht(){const e=Re;return H=e.end,Re=Dw(),H=e.end,e}function Fw(){const e=H;Re=Dw(),H=e}function YD(e){const t=new Dn(yD);return t.elements=e,t}function Rw(e,t,n){const r=new Dn(e==="||"||e==="&&"?ED:wD);return r.operator=e,r.left=t,r.right=n,r}function QD(e,t){const n=new Dn(xD);return n.callee=e,n.arguments=t,n}function XD(e,t,n){const r=new Dn(vD);return r.test=e,r.consequent=t,r.alternate=n,r}function T0(e){const t=new Dn(Cw);return t.name=e,t}function hl(e){const t=new Dn(AD);return t.value=e.value,t.raw=ee.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Mw(e,t,n){const r=new Dn(SD);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function KD(e){const t=new Dn(_D);return t.properties=e,t}function Pw(e,t,n){const r=new Dn(CD);return r.key=t,r.value=n,r.kind=e,r}function JD(e,t){const n=new Dn(TD);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ae(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(Xu(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=H,n.description=i,n}function Ju(e){e.type===ol&&Ae(e,FD),e.type===ns&&Ae(e,kD),e.type===al&&Ae(e,ID),e.type===ts&&Ae(e,BD),e.type===ni&&Ae(e,DD),Ae(e,pt,e.value)}function Tt(e){const t=Ht();(t.type!==Gt||t.value!==e)&&Ju(t)}function We(e){return Re.type===Gt&&Re.value===e}function k0(e){return Re.type===ni&&Re.value===e}function eF(){const e=[];for(H=Re.start,Tt("[");!We("]");)We(",")?(Ht(),e.push(null)):(e.push(rs()),We("]")||Tt(","));return Ht(),YD(e)}function Nw(){H=Re.start;const e=Ht();return e.type===al||e.type===ns?(e.octal&&Ae(e,Tw),hl(e)):T0(e.value)}function tF(){var e,t,n,r;if(H=Re.start,e=Re,e.type===ts)return n=Nw(),Tt(":"),r=rs(),Pw("init",n,r);if(e.type===ol||e.type===Gt)Ju(e);else return t=Nw(),Tt(":"),r=rs(),Pw("init",t,r)}function nF(){var e=[],t,n,r,i={},s=String;for(H=Re.start,Tt("{");!We("}");)t=tF(),t.key.type===Cw?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ae({},RD):i[r]=!0,e.push(t),We("}")||Tt(",");return Tt("}"),KD(e)}function rF(){Tt("(");const e=I0();return Tt(")"),e}const iF={if:1};function sF(){var e,t,n;if(We("("))return rF();if(We("["))return eF();if(We("{"))return nF();if(e=Re.type,H=Re.start,e===ts||iF[Re.value])n=T0(Ht().value);else if(e===al||e===ns)Re.octal&&Ae(Re,Tw),n=hl(Ht());else{if(e===ni)throw new Error(ll);e===Yu?(t=Ht(),t.value=t.value==="true",n=hl(t)):e===Qu?(t=Ht(),t.value=null,n=hl(t)):We("/")||We("/=")?(n=hl(WD()),Fw()):Ju(Ht())}return n}function oF(){const e=[];if(Tt("("),!We(")"))for(;H<Ct&&(e.push(rs()),!We(")"));)Tt(",");return Tt(")"),e}function aF(){H=Re.start;const e=Ht();return ZD(e)||Ju(e),T0(e.value)}function lF(){return Tt("."),aF()}function cF(){Tt("[");const e=I0();return Tt("]"),e}function uF(){var e,t,n;for(e=sF();;)if(We("."))n=lF(),e=Mw(".",e,n);else if(We("("))t=oF(),e=QD(e,t);else if(We("["))n=cF(),e=Mw("[",e,n);else break;return e}function Lw(){const e=uF();if(Re.type===Gt&&(We("++")||We("--")))throw new Error(ll);return e}function ef(){var e,t;if(Re.type!==Gt&&Re.type!==ni)t=Lw();else{if(We("++")||We("--"))throw new Error(ll);if(We("+")||We("-")||We("~")||We("!"))e=Ht(),t=ef(),t=JD(e.value,t);else{if(k0("delete")||k0("void")||k0("typeof"))throw new Error(ll);t=Lw()}}return t}function Ow(e){let t=0;if(e.type!==Gt&&e.type!==ni)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function fF(){var e,t,n,r,i,s,o,a,c,l;if(e=Re,c=ef(),r=Re,i=Ow(r),i===0)return c;for(r.prec=i,Ht(),t=[e,Re],o=ef(),s=[c,r,o];(i=Ow(Re))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,c=s.pop(),t.pop(),n=Rw(a,c,o),s.push(n);r=Ht(),r.prec=i,s.push(r),t.push(Re),n=ef(),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)t.pop(),n=Rw(s[l-1].value,s[l-2],n),l-=2;return n}function rs(){var e,t,n;return e=fF(),We("?")&&(Ht(),t=rs(),Tt(":"),n=rs(),e=XD(e,t,n)),e}function I0(){const e=rs();if(We(","))throw new Error(ll);return e}function hF(e){ee=e,H=0,Ct=ee.length,Re=null,Fw();const t=I0();if(Re.type!==ol)throw new Error("Unexpect token after expression.");return t}var dF={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function zw(e){function t(o,a,c,l){let u=e(a[0]);return c&&(u=c+"("+u+")",c.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+o+(l<0?"":l===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,c){return l=>t(o,l,a,c)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&st("Missing arguments to clamp function."),o.length>3&&st("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(o){o.length<3&&st("Missing arguments to if function."),o.length>3&&st("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function pF(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function gF(e){e=e||{};const t=e.allowed?Wc(e.allowed):{},n=e.forbidden?Wc(e.forbidden):{},r=e.constants||dF,i=(e.functions||zw)(f),s=e.globalvar,o=e.fieldvar,a=on(s)?s:p=>`${s}["${p}"]`;let c={},l={},u=0;function f(p){if(Ge(p))return p;const m=h[p.type];return m==null&&st("Unsupported type: "+p.type),m(p)}const h={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return u>0?m:zs(n,m)?st("Illegal identifier: "+m):zs(r,m)?r[m]:zs(t,m)?m:(c[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,y=f(p.object);m&&(u+=1);const w=f(p.property);return y===o&&(l[pF(w)]=1),m&&(u-=1),y+(m?"."+w:"["+w+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&st("Illegal callee type: "+p.callee.type);const m=p.callee.name,y=p.arguments,w=zs(i,m)&&i[m];return w||st("Unrecognized function: "+m),on(w)?w(y):w+"("+y.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{u+=1;const m=f(p.key);return u-=1,m+":"+f(p.value)}};function d(p){const m={code:f(p),globals:Object.keys(c),fields:Object.keys(l)};return c={},l={},m}return d.functions=i,d.constants=r,d}function Uw(e,t,n){return n=(n-e)/(t-e),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}function ao(e,t=0,n=1){return Math.max(t,Math.min(n,e))}function mF(e,t,n){return ao((n-e)/(t-e),0,1)}const Qn=1,ri=2,B0=4;class D0{constructor(t){J(this,ks);Bt(this,"stats",{count:0,first:null});Bt(this,"paramMediatorProvider",null);this.paramMediatorProvider=t,this.children=[],this.parent=void 0,this.completed=!1}get behavior(){return 0}get label(){return`(${this.constructor.name})`}reset(){this.completed=!1;for(const t of this.children)t.reset();this.stats.count=0,this.stats.first=null}initialize(){}setParent(t){this.parent=t}addChild(t){if(t.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(t),t.setParent(this),Q(this,ks,zc).call(this),this}adopt(t){t.parent&&t.parent.removeChild(t),this.addChild(t)}adoptChildrenOf(t){for(const n of t.children)this.adopt(n)}insertAsParent(t){var n;if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");t.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=t,Q(n=this.parent,ks,zc).call(n),this.parent=void 0,t.addChild(this)}removeChild(t){const n=this.children.indexOf(t);if(n>-1)this.children.splice(n,1),t.parent=void 0,Q(this,ks,zc).call(this);else throw new Error("Trying to remove an unknown child node!")}excise(){var t;if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const n=this.children[0];n.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=n,Q(t=this.parent,ks,zc).call(t),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(t){t(this);for(const n of this.children)n.visit(t);t.afterChildren&&t.afterChildren(this)}subtreeToString(t=0){const n=this.children.map(r=>r.subtreeToString(t+1)).join("");return`${" ".repeat(t*2)}* ${this.label}${"identifier"in this&&this.identifier?": "+this.identifier:""} 
${n}`}handle(t){this._propagate(t)}complete(){this.completed=!0;for(const t of this.children)t.complete()}beginBatch(t){for(const n of this.children)n.beginBatch(t)}get paramMediator(){if(this.paramMediatorProvider)return this.paramMediatorProvider.paramMediator;if(!this.parent)throw new Error("Cannot find paramMediator!");return this.parent.paramMediator}repropagate(){if(this.parent)this.parent.repropagate();else throw new Error("Cannot repropagate data, no FlowNode with stored data found!")}_propagate(t){}}ks=new WeakSet,zc=function(){this._propagate=Function("children","stats",Sa(this.children.length).map(t=>`const child${t} = children[${t}];`).join(`
`)+`return function propagate(datum) {
                    if (stats.count === 0) {
                        stats.first = structuredClone(datum);
                    }
                    stats.count++;
                ${Sa(this.children.length).map(t=>`child${t}.handle(datum);`).join(`
`)}
                };`)(this.children,this.stats)};function Gw(e){return e.type=="file"}function bF(e){return e.type=="facet"}class lt extends D0{constructor(n,r){super(r);J(this,wc);le(this,wc,n.type)}get label(){return z(this,wc)}}wc=new WeakMap;const un="_uniqueId",Hw=1e4,Vw=[null];class F0 extends lt{get behavior(){return ri}constructor(t){super(t),this.params=t,this.as=t.as??un,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(t){t[this.as]=this._nextId(),this._propagate(t)}_nextId(){return++this._id%Hw==0&&(this._id=this._getBlock()*Hw),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const t=Vw.length;return Vw[t]=this,this._blocks.push(t),this._usedBlocks++,t}}function $w(e){return{type:"single",datum:e,uniqueId:e==null?void 0:e[un]}}function jw(e){return e??(e=[]),{type:"multi",data:new Map(e.map(t=>[t[un],t]))}}function yF(e,{add:t,remove:n,toggle:r}){const i=e.data;for(const s of t??[])i.set(s[un],s);for(const s of n??[])i.delete(s[un]);for(const s of r??[]){const o=s[un];i.has(o)?i.delete(o):i.set(o,s)}return{type:"multi",data:i}}function wF(e,t,n=!0){if(!e||!t)return!1;if(Ww(e))return e.uniqueId==null?n:e.uniqueId===t[un];if(R0(e))return e.data.size==0?n:e.data.has(t[un]);throw new Error("Not a selection: "+JSON.stringify(e))}function qw(e){return`selectionTest(${nf(e.param)}, datum, ${!!(e.empty??!0)})`}function Ww(e){return e.type==="single"}function R0(e){return e.type==="multi"}function Zw(e){const t=typeof e=="string"?{type:e}:e;return M0(t)&&(t.on??(t.on="click"),t.on==="click"&&(t.toggle=!0)),t}function M0(e){return e&&e.type=="point"}const Yw={clamp:ao,isArray:yt,isBoolean:da,isDefined(e){return e!==void 0},isNumber:Dt,isObject:Et,isRegExp:V3,isString:Ge,isValid(e){return e!=null&&e===e},lerp:Lm,linearstep:mF,smoothstep:Uw,selectionTest:wF};function xF(e){const t=zw(e);for(const n in Yw)t[n]=`this.${n}`;return t}const vF=gF({forbidden:[],allowed:["datum","undefined"],globalvar:"globalObject",fieldvar:"datum",functions:xF});function AF(e,t={}){try{const n=hF(e),r=vF(n),i=Function("datum","globalObject",`"use strict";
            try {
                return (${r.code});
            } catch (e) {
                throw new Error("Error evaluating expression: " + ${JSON.stringify(e)} + ", " + e.message, e);
            }`).bind(Yw),s=o=>i(o,t);return s.fields=r.fields,s.globals=r.globals,s.code=r.code,s}catch(n){throw new Error(`Invalid expression: ${e}, ${n.message}`)}}class EF{constructor(t){J(this,vi);Bt(this,"paramListeners");J(this,Is,new Map);J(this,Yo,new Map);J(this,Qo,new Map);J(this,xc);le(this,xc,t??(()=>{})),le(this,vi,new Map),this.paramListeners=new Map}registerParam(t){const n=t.name;if("value"in t&&"expr"in t)throw new Error(`The parameter "${n}" must not have both value and expr properties!`);let r;if(t.push=="outer"){const i=this.findMediatorForParam(n);if(!i)throw new Error(`Parameter "${n}" not found in outer scope!`);const s=i.paramConfigs.get(n);if("expr"in s||"select"in s)throw new Error(`The outer parameter "${n}" must not have expr or select properties!`);r=i.getSetter(n),z(this,Is).set(n,r)}else if("value"in t)r=this.allocateSetter(n,t.value);else if("expr"in t){const i=this.createExpression(t.expr),s=this.allocateSetter(n,i(null));i.addListener(()=>s(i(null))),r=o=>{}}else r=this.allocateSetter(n,null);if("select"in t){const i=Zw(t.select);M0(i)&&r(i.toggle?jw():$w(null))}return z(this,Qo).set(n,t),r}allocateSetter(t,n,r=!1){if(nf(t),z(this,Is).has(t))throw new Error("Setter already allocated for parameter: "+t);const i=s=>{const o=z(this,vi).get(t);if(s!==o){z(this,vi).set(t,s);const a=this.paramListeners.get(t);if(a&&!r)for(const c of a)c()}};return i(n),z(this,Is).set(t,i),i}getSetter(t){const n=z(this,Is).get(t);if(!n)throw new Error("Setter not found for parameter: "+t);return n}getValue(t){return z(this,vi).get(t)}findValue(t){const n=this.findMediatorForParam(t);return n==null?void 0:n.getValue(t)}get paramConfigs(){return z(this,Qo)}findMediatorForParam(t){var n;return z(this,vi).has(t)?this:(n=z(this,xc).call(this))==null?void 0:n.findMediatorForParam(t)}createExpression(t){if(z(this,Yo).has(t))return z(this,Yo).get(t);const n={},r=AF(t,n),i=new Map;for(const o of r.globals){const a=this.findMediatorForParam(o);if(!a)throw new Error(`Unknown variable "${o}" in expression: ${t}`);i.set(o,a),Object.defineProperty(n,o,{enumerable:!0,get(){return a.getValue(o)}})}const s=new Set;return r.addListener=o=>{for(const[a,c]of i){const l=c.paramListeners.get(a)??new Set;c.paramListeners.set(a,l),l.add(o),s.add(o)}},r.invalidate=()=>{var o;for(const[a,c]of i)for(const l of s)(o=c.paramListeners.get(a))==null||o.delete(l)},r.identifier=()=>r.code,z(this,Yo).set(t,r),r}evaluateAndGet(t){return this.createExpression(t)()}hasPointSelections(){for(const t of z(this,Qo).values())if(_F(t)){const n=t.select;if(Ge(n)){if(n=="point")return!0}else if(n.type=="point")return!0}return!1}}vi=new WeakMap,Is=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,xc=new WeakMap;function Mt(e){return typeof e=="object"&&e!=null&&"expr"in e&&Ge(e.expr)}function Qt(e){if(Mt(e))throw new Error(`ExprRef ${JSON.stringify(e)} not allowed here. Expected a scalar value.`);return e}function SF(e){return("expr"in e||"bind"in e)&&!("select"in e)}function _F(e){return!("expr"in e||"bind"in e)&&"select"in e}function tf(e,t,n){const r={...t},i=[],s=o=>{i.push(o),i.length===1&&queueMicrotask(()=>{n(i.slice()),i.length=0})};for(const[o,a]of Object.entries(t))if(Mt(a)){const c=e.createExpression(a.expr);n&&c.addListener(()=>s(o)),Object.defineProperty(r,o,{enumerable:!0,get(){return c()}})}else r[o]=a;return r}function nf(e){if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw new Error(`Invalid parameter name: ${e}. Must be a valid JavaScript identifier.`);return e}function CF(e){return Object.assign(()=>e,{addListener:()=>{},invalidate:()=>{},identifier:()=>"constant",fields:[],globals:[],code:JSON.stringify(e)})}function Qw(e,t,n){if(!e)return;function r(s){const o=s;return o.fields??(o.fields=[]),o.constant=o.fields.length===0,o.channelDef=t,o.channel=e,o.scaleChannel=((Xt(t)&&t.resolutionChannel)??(ml(e)&&e))||void 0,"param"in t?(o.predicate=n.createExpression(qw(t)),o.predicate.param=t.param,o.predicate.empty=t.empty??!0):(o.predicate=CF(!0),o.predicate.empty=!1),o.asNumberAccessor=()=>o,o}function i(s){if(Mt(s)){const o=r(n.createExpression(s.expr));if(o.fields.length>0)throw new Error("Expression in DatumDef/ValueDef cannot access data fields: "+s.expr);return o}else{const o=s;return r(()=>o)}}if(ii(t))try{return r(Fe(t.field))}catch(s){throw new Error(`Invalid field definition: ${s.message}`)}else{if(pl(t))return r(n.createExpression(t.expr));if(dl(t))return i(t.datum);if(fn(t))return i(t.value);throw new Error(`Invalid channel definition: ${JSON.stringify(t)}. Cannot create an accessor for channel ${e}!`)}}function TF(e,t,n){const r=[];if(DF(t)||FF(t)){const i=Array.isArray(t.condition)?t.condition:[t.condition];for(const s of i)r.push(Qw(e,s,n))}if(r.push(Qw(e,t,n)),r.filter(i=>!i.constant).length>1)throw new Error("Only one accessor can be non-constant. Channel: "+e);return r}function kF(e,t){const n={},r=i=>{var s;return(s=e.getScaleResolution(i))==null?void 0:s.scale};for(const[i,s]of Object.entries(t))s&&(n[i]=IF(TF(i,s,e.paramMediator),r));return n}function IF(e,t){if(e.length===1)return Xw(e[0],t);const n=e.map(s=>s.predicate),r=e.map(s=>Xw(s,t));return Object.assign(s=>{for(let o=0;o<r.length;o++)if(n[o](s))return r[o](s)},{constant:!1,accessors:r.map(s=>s.accessors[0]),dataAccessor:r.map(s=>s.dataAccessor).find(s=>s),scale:r.map(s=>s.scale).find(s=>s),channelDef:e.at(-1).channelDef})}function Xw(e,t){const{channel:n,scaleChannel:r,channelDef:i}=e,s=e.scaleChannel?t(r):void 0;if(r&&!s)throw new Error(`Missing scale! "${n}": ${JSON.stringify(i)}`);return Object.assign(s?o=>s(e(o)):o=>e(o),{scale:s,constant:e.constant,accessors:[e],dataAccessor:e.constant?void 0:e,channelDef:i})}function fn(e){return e&&"value"in e}function ii(e){return e&&"field"in e}function dl(e){return e&&"datum"in e}function Xt(e){return ii(e)||dl(e)||pl(e)||Kw(e)}function BF(e,t){const n=e.mark.encoding[t];if(Xt(n))return n;throw new Error("Not a channel def with scale!")}function Kw(e){return e&&"chrom"in e}function pl(e){return e&&"expr"in e}function DF(e){return(ii(e)||dl(e))&&"condition"in e}function FF(e){return fn(e)&&"condition"in e}const lo=["x","y"],RF=["x2","y2"],MF=[...lo,...RF];function Jw(e){return lo.includes(e)}function gl(e){return MF.includes(e)}const ex={x:"x2",y:"y2"},tx=Object.fromEntries(Object.entries(ex).map(e=>[e[1],e[0]]));function nx(e){return e in tx}function PF(e){const t=ex[e];if(t)return t;throw new Error(`${e} has no secondary channel!`)}function is(e){return tx[e]??e}function si(e){return["color","fill","stroke"].includes(is(e))}function rf(e){return["shape"].includes(e)}function ml(e){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(e)}function NF(e){switch(e){case"shape":return["circle","square","cross","diamond","triangle-up","triangle-right","triangle-down","triangle-left","tick-up","tick-right","tick-down","tick-left"]}}function rx(e){if(!rf(e))throw new Error("Not a discrete channel: "+e);const t=new Map(NF(e).map((n,r)=>[n,r]));return n=>{const r=t.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${e}" channel: ${n}`)}}function P0(){const e=t=>t;return e.invert=t=>t,e.copy=P0,e.invertRange=()=>{},e.type="null",e}const sf="attr_",LF="uDomain_",OF="range_",zF="accessor_",ix="scale_",UF="getScaled_",N0="uRangeTexture_",L0="uParam_",of="checkSelection_",sx=3402823466e29;function GF(e){const t=e.match(/^(?:(\w+)-)?(\w+)$/);if(!t)throw new Error("Not a scale type: "+e);return{family:t[1]||"continuous",transform:t[2]}}function bl(e,t){return`${zF}${e}_${t}`}function HF(e,t,n){let r;if(rf(e))r=ss(rx(e)(n));else if(Ge(n))if(si(e))r=WF(n);else throw new Error(`String values are not supported on the "${e}" channel: ${n}`);else if(da(n))r=ss(n?1:0);else if(n===null)if(si(e))r=ss([0,0,0]);else throw new Error(`null value is not supported on the "${e}" chanel.`);else r=ss(n);const i=bl(e,t),s=`
${r.type} ${i}() {
    // Constant value
    return ${r};
}`;return{channel:e,accessorGlsl:s,accessorFunctionName:i}}function VF(e,t){let n="float",r=c=>c;si(e)&&(n="vec3",r=c=>ux(c));const i=`u${KF(e)}_${t}`,s=`    // Dynamic value
    uniform ${n} ${i};`,o=bl(e,t);let a=`
${n} ${o}() {
    // Dynamic value
    return ${i};
}`;return{channel:e,uniformName:i,uniformGlsl:s,accessorGlsl:a,accessorFunctionName:o,adjuster:r}}function ox(e,t,n,r=[e]){const{attributeType:i}=yl(t,e),s=sf+z0(r),o=`in highp ${i} ${s};`,a=bl(e,n),c=`
${i} ${a}() {
    return ${s};
}`;return{channel:e,attributeName:s,attributeGlsl:o,accessorGlsl:c,accessorFunctionName:a}}function $F(e,t,n){const{attributeType:r}=yl(t,e),i=sf+z0(e),s=`    uniform highp ${r} ${i};`,o=bl(e,n),a=`
${r} ${o}() {
    return ${i};
}`;return{channel:e,uniformName:i,uniformGlsl:s,accessorGlsl:a,accessorFunctionName:o}}function jF(e,t,n){t??(t=P0());const r=is(e),i=LF+r,s=OF+r,{hp:o,attributeType:a}=yl(t,e),c=t.domain?t.domain().length:void 0;let l;const u=[];u.push(""),u.push("/".repeat(70)),u.push(`// Channel: ${e}`),u.push("");const{transform:f}=GF(t.type),h=(I,...D)=>ZF.apply(null,[I,"value",...D]);let d;switch(f){case"linear":d=h("scaleLinear","domain",s);break;case"log":d=h("scaleLog","domain",s,t.base());break;case"symlog":d=h("scaleSymlog","domain",s,t.constant());break;case"pow":case"sqrt":d=h("scalePow","domain",s,t.exponent());break;case"index":case"locus":d=h("scaleBandHp","domain",s,t.paddingInner(),t.paddingOuter(),t.align(),n.band??.5);break;case"point":case"band":d=h("scaleBand","domain",s,t.paddingInner(),t.paddingOuter(),t.align(),n.band??.5);break;case"ordinal":case"null":case"identity":d=h("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${t.type}! ${e}: ${JSON.stringify(n)}`)}const p=gx(t,e);let m;if(p&&e==r){const I=t.props.range??[];if(Mt(I)||I.some(Mt)){if(p.length<1||p.length>4)throw new Error(`A range with ExprRefs must have 1-4 elements, not ${p.length}! Range: ${JSON.stringify(p)}`);m=`    uniform ${lx(p.length)} ${s};`}else if(p.length&&p.every(Dt)){const D=fx(p);u.push(`const ${D.type} ${s} = ${D};`)}}const y=cx(e);let w;if(si(e)){const I=N0+r;if(e==r&&u.push(`uniform sampler2D ${I};`),wt(t.type))w=`getInterpolatedColor(${I}, transformed)`;else if(ti(t.type)||es(t.type))w=`getDiscreteColor(${I}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(t.type==="ordinal"||es(t.type)){const I=N0+r;e==r&&u.push(`uniform sampler2D ${I};`),w=`getDiscreteColor(${I}, int(transformed)).r`}const A=[],_=wt(t.type)&&c>2,S=es(t.type)||_;if(A.push("int slot = 0;"),S){const I=i;A.push(_?`while (slot < ${I}.length() - 2 && value >= ${I}[slot + 1]) { slot++; }`:`while (slot < ${I}.length() && value >= ${I}[slot]) { slot++; }`)}const T=wt(t.type)||es(t.type)||["band","point"].includes(t.type);if(d){const I=i;T&&(o?A.push(`vec3 domain = ${I};`):A.push(`vec2 domain = vec2(${I}[slot], ${I}[slot + 1]);`)),A.push(`float transformed = ${d};`),_&&A.push(`transformed = (float(slot) + transformed) / (float(${I}.length() - 1));`)}else A.push("float transformed = float(slot);");"clamp"in t&&t.clamp()&&A.push(`transformed = clampToRange(transformed, ${fx(p)});`),A.push(`return ${w??"transformed"};`),u.push(`
${y} ${ix}${e}(${a} value) {
${A.map(I=>`    ${I}
`).join("")}
}`);const B=u.join(`
`);if(T&&e==r){const I=wt(t.type)||es(t.type)?c:2;l=o?`    highp vec3 ${i};`:`    mediump float ${i}[${I}];`}return{glsl:B,domainUniformName:i,domainUniform:l,rangeUniformName:s,rangeUniform:m}}function qF(e,t){const n=cx(e),r=[],i=[];for(let s=0;s<t.length;s++){const o=t[s],a=bl(e,s),{param:c,empty:l}=o.predicate;r.push(c?`${of}${c}(${!!l})`:null),i.push(o.scaleChannel?`return ${ix}${e}(${a}());`:`return ${a}();`)}return`${n} ${UF}${e}() {
${JF(r,i)}
}

#define ${e}_DEFINED`}function ax(e){if(!Dt(e))throw new Error(`Not a number: ${e}`);if(e==1/0)return""+sx;if(e==-1/0)return""+-sx;{let t=`${e}`;return/^(-)?\d+$/.test(t)&&(t+=".0"),t}}function ss(e){typeof e=="number"&&(e=[e]);const t=e.length;if(t<1||t>4)throw new Error("Invalid number of components: "+t);const n=lx(t),r=`${n}(${e.map(ax).join(", ")})`;return Object.assign(r,{type:n,numComponents:t})}function lx(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error("Invalid number of components: "+e)}}function cx(e){return si(e)?"vec3":e=="uniqueId"?"uint":"float"}function ux(e){const t=Xr(e).rgb();return[t.r,t.g,t.b].map(n=>n/255)}function WF(e){return ss(ux(e))}function fx(e){return ss([e[0],Ga(e)])}function ZF(e,...t){const n=[];for(const r of t)Dt(r)?n.push(ax(r)):yt(r)?n.push(ss(r)):n.push(r);return`${e}(${n.join(", ")})`}function yl(e,t){var o;const n=e&&ti(e.type),r=e&&hx(e.type),i=r&&YF(e.domain()),s=i?{attributeType:"uvec2",arrayConstructor:Uint32Array}:r?{attributeType:"uint",arrayConstructor:Uint32Array}:n?{attributeType:"uint",arrayConstructor:Uint16Array}:t=="uniqueId"?{attributeType:"uint",arrayConstructor:Uint32Array}:{attributeType:"float",arrayConstructor:Float32Array};return Object.assign(s,{numComponents:+(((o=s.attributeType.match(/^vec([234])$/))==null?void 0:o[1])??1),discrete:n,hp:r,largeHp:i})}function hx(e){return e=="index"||e=="locus"}function YF(e){return e[1]>2**32}const O0=2**12;function dx(e,t=[]){const n=e%O0,r=(e-n)/O0;return t[0]=r,t[1]=n,t}function QF(e){const t=e%O0;return[e-t,t]}function XF(e){return[...QF(e[0]),e[1]-e[0]]}function px(e){const t=new hr([],JSON.stringify);for(const[n,r]of Object.entries(e)){const i=r.channelDef;if(ii(i)){const o=[i.field,r.scale?(wt(r.scale.type)||es(r.scale.type))??!1:!1];t.set(o,[...t.get(o)??[],n])}}return t}function z0(e){return zt(e).join("_")}function KF(e){return e[0].toUpperCase()+e.slice(1)}const gx=(e,t)=>Wu(e.type)||wt(e.type)&&si(t)?[0,1]:e.range?e.range():void 0;function JF(e,t){if(e.length!=t.length)throw new Error("Unequal array lengths");const n=e.length;if(n==0)return"";if(n==1&&e[0]==null)return t[0];const r=[];for(let i=0;i<n;i++){const s=e[i],o=i==0?`if (${s})`:s==null&&i==n-1?"else":`else if (${s})`;r.push(`    ${o} {
        ${t[i]}
    }`)}return r.join(`
`)}const mx=1e4;class eR{constructor(t){J(this,Xo);J(this,vc,!1);this.size=t,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}configure(){if(z(this,vc))throw new Error("Already configured!");Q(this,Xo,u3).call(this),Q(this,Xo,f3).call(this),le(this,vc,!0)}addConverter(t,n){const r=this.createUpdater(sf+t,n.numComponents||1,n.targetArrayType??Float32Array,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?s=>r(i(s)):s=>r(i(s)))}createUpdater(t,n,r=Float32Array,i=void 0){if(!Dt(this.size))throw new Error("The number of vertices must be defined!");let s,o,a=0;const c=new r(this.size*n);if(this.arrays[t]={data:c,numComponents:n},n==1){let l=0;const u=f=>{l=+f};s=()=>{c[a++]=l},o=u}else{let l=i??[0];const u=i?f=>{}:f=>{l=f};switch(n){case 1:break;case 2:s=()=>{c[a++]=l[0],c[a++]=l[1]},o=u;break;case 3:s=()=>{c[a++]=l[0],c[a++]=l[1],c[a++]=l[2]},o=u;break;case 4:s=()=>{c[a++]=l[0],c[a++]=l[1],c[a++]=l[2],c[a++]=l[3]},o=u;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(s),o}pushAll(){throw new Error("Call configure() first!")}updateFromDatum(t){throw new Error("Call configure() first!")}pushFromDatum(t){this.updateFromDatum(t),this.pushAll()}}vc=new WeakMap,Xo=new WeakSet,u3=function(){if(this.size>mx){const t=this.pushers.map((r,i)=>`const p${i} = that.pushers[${i}];`).join(`
`),n=this.pushers.map((r,i)=>`  p${i}();`).join(`
`);this.pushAll=new Function("that",`${t}
return function unrolledPushAll() {
${n}
  that.vertexCount++;
};`)(this)}else this.pushAll=()=>{for(let t=0;t<this.pushers.length;t++)this.pushers[t]();this.vertexCount++}},f3=function(){if(this.size>mx){const t=this.dataUpdaters.map((r,i)=>`const u${i} = that.dataUpdaters[${i}];`).join(`
`),n=this.dataUpdaters.map((r,i)=>`  u${i}(datum);`).join(`
`);this.updateFromDatum=new Function("that","datum",`${t}
return function unrolledUpdateFromDatum(datum) {
${n}
};`)(this)}else this.updateFromDatum=t=>{for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](t)}};const co=5,U0=127;function G0(e){const t=[];for(let p=0;p<=U0;p++)t.push(void 0);const n=new Map;for(const p of e.chars)p.id<=U0?t[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,t[45]);function i(p){return(p<=U0?t[p]:n.get(p))||t[63]}function s(p){return i(p.charCodeAt(0))}const o=e.common.base,a=s("x"),c=s("X"),l=s("q"),u=a.height-co*2,f=c.height-co*2,h=l.height-a.height+l.yoffset-a.yoffset;function d(p,m=1){let y=0;for(let w=0;w<p.length;w++)y+=i(p.charCodeAt(w)).xadvance;return y/o*m}return{measureWidth:d,getCharByCode:i,getChar:s,xHeight:u,capHeight:f,descent:h,common:e.common}}const bx=2**31-1,tR=-(2**31);function nR(e,t,n,r=n){const i=new Array(e);i.fill(bx);let s=tR,o=-1/0,a=!1;const c=new Array(e);c.fill(0);const l=t[0],f=(t[1]-t[0])/e,h=(w,A)=>{const _=(w-l)/f,S=Math.floor(_);return ao(A&&S==_?S-1:S,0,e-1)};function d(w,A,_){if(a)return;if(A>s)s=A;else{a=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}const S=n(w);if(S<o){a=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}o=S;const T=h(S,!1);i[T]>A&&(i[T]=A),c[T]<_&&(c[T]=_)}function p(w,A,_){if(a)return;if(A>s)s=A;else{a=!0,console.debug("Items (vertices) are not ordered properly. Disabling binned index.");return}const S=n(w),T=r(w);if(S<o){a=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}else if(T<S){a=!0,console.debug("End index is less than start index. Disabling binned index. Datum: ",w);return}o=S;const B=h(S,!1),I=h(T,!0);for(let D=B;D<=I;D++)i[D]>A&&(i[D]=A),c[D]<_&&(c[D]=_)}const m=(w,A,_=[0,0])=>{const S=h(w,!1),T=h(A,!0),B=i[S],I=Math.max(c[T],B);return _[0]=B,_[1]=I,_},y=()=>{if(a)return;for(let A=1;A<c.length;A++)c[A]<c[A-1]&&(c[A]=c[A-1]);let w=!0;for(let A=i.length-1;A>0;A--)w&&i[A]==bx?(i[A]=c[A],w=!1):i[A-1]>i[A]&&(i[A-1]=i[A]);return m};return d.getIndex=y,p.getIndex=y,n==r?d:p}function rR(){let e=0,t,n=0;const r=new Map,i=s=>(s===t||(n=r.get(s),n===void 0&&(n=e++,r.set(s,n)),t=s),n);return i.addAll=s=>{for(const o of s)i(o)},i.invert=s=>{for(const o of r.entries())if(o[1]==s)return o[0]},i.domain=()=>[...r.keys()],i}class wl{constructor({encoders:t,numVertices:n=void 0,attributes:r=[]}){this.encoders=t,this.variableEncoders=Object.fromEntries(Object.entries(t).filter(([s,o])=>r.includes(s)&&o&&!o.constant));const i=[...px(t).entries()].filter(([s,o])=>s[1]&&o.length>1).map(([s,o])=>o);this.allocatedVertices=n,this.variableBuilder=new eR(n);for(const[s,o]of Object.entries(this.variableEncoders)){const a=o.dataAccessor;if(!a)continue;const c=i.find(_=>_.find(S=>S==s));if(c&&s!=c[0])continue;const l=a.asNumberAccessor(),u=o.scale,{largeHp:f,arrayConstructor:h,discrete:d,numComponents:p}=yl(u,s),m=[0,0];let y;u&&d&&"domain"in u&&(y=rR(),y.addAll(u.domain()));const w=y?_=>y(a(_)):f?_=>dx(l(_),m):l,A=c?z0(c):s;this.variableBuilder.addConverter(A,{f:w,numComponents:p,arrayReference:f?m:void 0,targetArrayType:h})}this.lastOffset=0,this.rangeMap=new hr([],JSON.stringify)}registerBatch(t){var s;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(t,{offset:n,count:i,xIndex:(s=this.xIndexer)==null?void 0:s.getIndex()}),this.lastOffset=r}addBatches(t){for(const[n,r]of t)this.addBatch(n,r)}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let s=r;s<i;s++){const o=n[s];this.variableBuilder.pushFromDatum(o),this.addToXIndex(o)}this.registerBatch(t)}prepareXIndexer(t,n=0,r=n+t.length){var l;const i=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0},s=(l=this.encoders.x)==null?void 0:l.channelDef;if(!("buildIndex"in s)||!s.buildIndex||!t.length||r-n<0){i();return}const o=u=>{var f;return u&&wt((f=u.scale)==null?void 0:f.type)&&u},a=o(this.variableEncoders.x),c=o(this.variableEncoders.x2);if(a&&!a.constant&&(!c||!c.constant)){const u=a.dataAccessor.asNumberAccessor(),f=c?c.dataAccessor.asNumberAccessor():u,h=[u(t[n]),f(t[r-1])];if(h[1]>h[0]){this.xIndexer=nR(50,h,u,f);let d=this.variableBuilder.vertexCount;this.addToXIndex=p=>{let m=this.variableBuilder.vertexCount;this.xIndexer(p,d,m),d=m}}else i()}else i()}addToXIndex(t){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class iR extends wl{constructor({encoders:t,attributes:n,numItems:r}){super({encoders:t,attributes:n,numVertices:r*6}),this.variableBuilder.configure();const i=this.variableBuilder.pushAll;this.pushAllSixTimes=r>500?new Function("pushAll",`return function unrolledPushAllSixTimes() {
  pushAll(); pushAll(); pushAll(); pushAll(); pushAll(); pushAll();
};`)(i):function(){i(),i(),i(),i(),i(),i()}}addBatch(t,n,r=0,i=n.length){if(!(i<=r)){this.prepareXIndexer(n,r,i);for(let s=r;s<i;s++){const o=n[s];this.variableBuilder.updateFromDatum(o),this.pushAllSixTimes(),this.addToXIndex(o)}this.registerBatch(t)}}}class sR extends wl{constructor({encoders:t,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:s}){super({encoders:t,attributes:n,numVertices:r==1/0?s*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let s=r;s<i;s++){const o=n[s];this.variableBuilder.updateFromDatum(o),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const a=1;for(let c=0;c<=a;c++)this.updatePos(c/a),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(o)}this.registerBatch(t)}}class oR extends wl{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}}class aR extends wl{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}toArrays(){const t=this.variableBuilder.arrays;for(let n of Object.values(t))n.divisor=1;return super.toArrays()}}class lR extends wl{constructor({encoders:t,attributes:n,fontMetrics:r,properties:i,numCharacters:s=void 0}){super({encoders:t,attributes:n,numVertices:s*6}),this.metadata=r,this.metrics=r,this.properties=i;const a=t.text.channelDef;this.numberFormat=!fn(a)&&"format"in a&&a.format?St(a.format):c=>c,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){const s=this.properties.align||"left",o=this.properties.logoLetters??!1,a=this.metadata.common.base,c=this.metadata.common.scaleH;let l=-co;switch(this.properties.baseline){case"top":l+=this.metrics.capHeight;break;case"middle":l+=this.metrics.capHeight/2;break;case"bottom":l-=this.metrics.descent;break}const u=this.encoders.text,f=[0,0];this.updateVertexCoord(f);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],m=this.numberFormat(u(p)),y=Ge(m)?m:m===null?"":""+m;if(y.length==0)continue;this.variableBuilder.updateFromDatum(p);const w=o?y.length:this.metrics.measureWidth(y);this.updateWidth(w);let A=s=="right"?-w:s=="center"?-w/2:0;if(!o){const B=this.metrics.getCharByCode(y.charCodeAt(0));A-=(B.width-B.xadvance)/a/2}let _=-.5,S=1,T=1;for(let B=0;B<y.length;B++){const I=this.metrics.getCharByCode(y.charCodeAt(B)),D=o?1:I.xadvance/a;if(I.id==32){A+=D;continue}o?(T=(I.width+co*2)/I.width,A=-T/2,S=(I.height+co*2)/I.height,_=-.5-co/I.height):(S=I.height/a,_=-(I.height+I.yoffset+l)/a,T=I.width/a);const M=I.x,U=I.y;f[0]=A,f[1]=_+S,h[0]=M/c,h[1]=U/c,this.variableBuilder.pushAll(),f[0]=A+T,f[1]=_+S,h[0]=(M+I.width)/c,h[1]=U/c,this.variableBuilder.pushAll(),f[0]=A,f[1]=_,h[0]=M/c,h[1]=(U+I.height)/c,this.variableBuilder.pushAll(),f[0]=A+T,f[1]=_+S,h[0]=(M+I.width)/c,h[1]=U/c,this.variableBuilder.pushAll(),f[0]=A,f[1]=_,h[0]=M/c,h[1]=(U+I.height)/c,this.variableBuilder.pushAll(),f[0]=A+T,f[1]=_,h[0]=(M+I.width)/c,h[1]=(U+I.height)/c,this.variableBuilder.pushAll(),A+=D}this.addToXIndex(p)}this.registerBatch(t)}}const yx=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

bool isEmptyBinarySearchTexture(highp usampler2D s) {
    // The minimum texture size is 1x1. Zero is a special value that indicates
    // an empty selection. Unique ids never start at zero.
    return textureSize(s, 0).x == 1 && texelFetch(s, ivec2(0, 0), 0).r == 0u;
}

bool binarySearchTexture(highp usampler2D s, uint value) {
    int texSize = textureSize(s, 0).x;

    int left = 0;
    int right = texSize - 1;

    while (left <= right) {
        int mid = left + (right - left) / 2;

        uint midValue = texelFetch(s, ivec2(mid, 0), 0).r;

        if (midValue == value) {
            return true;
        }

        if (midValue < value) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }

    return false;
}

/**
 * Calculates a gamma for antialiasing opacity based on the color.
 */
float getGammaForColor(vec3 rgb) {
    return mix(
        1.25,
        0.75,
        // RGB should be linearized but this is good enough for now
        smoothstep(0.0, 1.0, dot(rgb, vec3(0.299, 0.587, 0.114))));
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,cR=`uniform highp float uZero;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleIdentity(uint value) {
    return float(value);
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

// TODO: domainExtent should be uint
float scaleBand(uint value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (float(value) - domainExtent[0]) * step + bandwidth * band;
}

const int lowBits = 12;
const float lowDivisor = pow(2.0, float(lowBits));
const uint lowMask = uint(lowDivisor - 1.0);

vec2 splitUint(uint value) {
    uint valueLo = value & lowMask;
    uint valueHi = value - valueLo;
    return vec2(float(valueHi), float(valueLo));
}

/**
 * High precision variant of scaleBand for index/locus scales
 */
float scaleBandHp(uint value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = splitUint(value);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}

/**
 * High precision variant of scaleBand for index/locus scales for large
 * domains where 32bit uints are not sufficient to represent the domain.
 */
float scaleBandHp(uvec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = vec2(float(value[0]) * lowDivisor, float(value[1]));

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,uR=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,fR=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        uint id = attr_uniqueId;
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, id >> 24) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,hR=`in highp vec4 vPickingColor;
`,af=Symbol("cacheMap");function lf(e,t,n){let r=xl(e).get(t);return r===void 0&&(r=n(t),xl(e).set(t,r)),r}function dR(e,t){xl(e).delete(t)}function cf(e,t){const n=xl(e);for(const r of n.keys())r.startsWith(t)&&n.delete(r);xl(e).delete(t)}function wx(e){e[af]=new Map}function xl(e){return e[af]||wx(e),e[af]}function pR(e,t,n,r){const i=Ge(e)?e:e.name,s=!Ge(e)&&e.extent||[0,1];if(n===void 0&&!Ge(e)&&(n=e.count),i){const o=v0(i);if(on(o)){const a=xx(o,{extent:s,count:n});return vl(t,{minMag:t.LINEAR,format:t.RGB,height:1,wrap:t.CLAMP_TO_EDGE},a,r)}else{if(yt(o))return H0(o,t);throw new Error("Unknown scheme: "+i)}}}function gR(e,t="rgb",n,r){const i=Zu(e,Ge(t)?t:t.type,Ge(t)?void 0:t.gamma),s=xx(i);return vl(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},s,r)}function mR(e,t,n,r){const i=Math.max(e.length,n||0),s=new Float32Array(i);for(let o=0;o<i;o++)s[o]=e[o%e.length];return vl(t,{minMag:t.NEAREST,format:t.RED,internalFormat:t.R32F,height:1},s,r)}function H0(e,t,n,r){const i=vx(e,n);return vl(t,{minMag:t.NEAREST,format:t.RGB,height:1},i,r)}function xx(e,{extent:t=[0,1],reverse:n=!1,count:r=256}={}){const i=t[0],s=Ga(t)-i,o=Sa(r).map(a=>a/(r-1)).map(a=>i+a/s).map(e);return n&&o.reverse(),vx(o)}function vx(e,t){const n=Math.max(e.length,t||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const s=e[i%e.length],o=Xr(s);if(!o)throw new Error(`Invalid color "${s}" in the scheme ${JSON.stringify(e)}!`);const a=o.rgb();r[i*3+0]=a.r,r[i*3+1]=a.g,r[i*3+2]=a.b}return r}class bR{constructor(t,n,r,i={}){this._container=t,this._sizeSource=n??(()=>({width:void 0,height:void 0})),this._shaderCache=new Map,this.rangeTextures=new WeakMap,this.selectionTextures=new WeakMap;const s=document.createElement("canvas");t.appendChild(s);const o=SI(s,{antialias:!0,depth:!1,premultipliedAlpha:!0,...i});if(!o)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Ys(o))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(oy(o),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.canvas=s,this.gl=o,this._pickingAttachmentOptions=[{format:o.RGBA,type:o.UNSIGNED_BYTE,minMag:o.LINEAR,wrap:o.CLAMP_TO_EDGE}],this._pickingBufferInfo=yI(o,this._pickingAttachmentOptions),o.bindFramebuffer(o.FRAMEBUFFER,null),this.adjustGl(),this._updateDpr(),this._clearColor=[0,0,0,0],r){const a=Xr(r).rgb();this._clearColor=[a.r/255,a.g/255,a.b/255,a.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(t,n){const r="#version 300 es",i="precision mediump float;";yt(n)&&(n=n.join(`

`));const s=this.gl,o=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let a=this._shaderCache.get(o);if(!a){const c=[r,i,n].join(`

`);a=s.createShader(t),s.shaderSource(a,c),s.compileShader(a),this._shaderCache.set(o,a)}return a}adjustGl(){const t=this.getLogicalCanvasSize();this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`;const n=this.getPhysicalCanvasSize(t);this.canvas.width=n.width,this.canvas.height=n.height,wI(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this.canvas.remove()}getPhysicalCanvasSize(t){return t=t||this.getLogicalCanvasSize(),{width:t.width*this.dpr,height:t.height*this.dpr}}getLogicalCanvasSize(){if(this._logicalCanvasSize)return this._logicalCanvasSize;const t=this._sizeSource(),n=window.getComputedStyle(this._container,null),r=t.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=t.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}readPickingPixel(t,n){const r=this.gl;t*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,s=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(t,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,s),r.bindFramebuffer(r.FRAMEBUFFER,null),s}clearAll(){const t=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();t.viewport(0,0,n,r),t.disable(t.SCISSOR_TEST),t.clearColor(...this._clearColor),t.clear(t.COLOR_BUFFER_BIT)}createRangeTexture(t,n=!1){const r=this.rangeTextures.get(t);if(!n&&r)return;function i(o,a){return ti(a.type)?a.domain().length:a.type=="threshold"?a.domain().length+1:a.type=="quantize"||a.type=="quantile"?o??4:o}const s=t.channel;if(si(s)){const o=t.scale,a=o.props,c=o.range();let l;if(a.scheme)if(o.type=="threshold"&&c)l=H0(c,this.gl,o.domain().length,r);else{let u=Ge(a.scheme)?void 0:a.scheme.count;u=i(u,o),l=pR(a.scheme,this.gl,u,r)}else Wu(o.type)||wt(o.type)&&c.length>1?l=gR(c,a.interpolate,this.gl,r):l=H0(c,this.gl,o.domain().length,r);this.rangeTextures.set(t,l)}else{const o=t.scale;if(o.type==="ordinal"||es(o.type)){const a=rf(s)?rx(s):l=>l,c=o.range();this.rangeTextures.set(t,mR(c.map(a),this.gl,o.domain().length,r))}}}createSelectionTexture(t,n=!0){if(!R0(t))throw new Error("Not a multi-point selection, cannot create texture");const r=Array.from(t.data.keys()),i=r.length>0?r.sort((c,l)=>c-l):[0],s=this.selectionTextures.get(t),o=this.gl,a=vl(this.gl,{level:0,minMag:o.NEAREST,format:o.RED_INTEGER,internalFormat:o.R32UI,height:1,width:i.length},new Uint32Array(i),n?s:!1);this.selectionTextures.set(t,a)}}function yR(e,t="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...t.matchAll(r)],s=new Map(i.map((o,a)=>{const c=parseInt(o[1]),l=i[a+1],u=l?l.index:t.length,f=t.substring(o.index,u);return[c-1,f]}));return e.split(`
`).map((o,a)=>{const c=s.get(a);return`${a+1+n}: ${o}${c?`

^^^ ${c}`:""}`}).join(`
`)}function wR(e,t,n){const r=e.createProgram();e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r);function i(){let s,o;if(!e.getProgramParameter(r,e.LINK_STATUS)){s=e.getProgramInfoLog(r);for(const c of[t,n])e.getShaderParameter(c,e.COMPILE_STATUS)||(s=e.getShaderInfoLog(c),o=yR(e.getShaderSource(c),s,0)+`
Error compiling: ${s}`,e.deleteShader(c));e.deleteProgram(r)}if(s)return{message:s,detail:o}}return{program:r,getProgramErrors:i}}function vl(e,t,n,r){return r?Ab(e,r,n,t):r=Za(e,{...t,src:n}),r}function Ax(...e){const t={get(n,r,i){for(const s of e){const a=s()[r];if(a!==void 0)return a}},has(n,r,i){for(const s of e){const o=s();if(r in o)return!0}return!1}};return new Proxy({},t)}function xR(e){return Ge(e)||Dt(e)||da(e)}class os extends Error{constructor(t,n){super(t),this.name="ViewError",this.view=n}}const vR="SAMPLE_FACET_UNIFORM",Ex="SAMPLE_FACET_TEXTURE",Sx="uSelectionTexture_";class Al{constructor(t){J(this,lr,[]);this.unitView=t,this.encoders=void 0,this.bufferInfo=void 0,this.bytesPerElement=new Map,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.viewUniformInfo=void 0,this.markUniformInfo=void 0,this.markUniformsAltered=!0,this.selectionTextureOps=[],this.rangeMap=new AR,this.defaultProperties={get clip(){return["x","y"].map(n=>t.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=Ax(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}augmentDefaultProperties(t){Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors(t))}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const t={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(t.uniqueId={field:un}),t}fixEncoding(t){return t}setupExprRefsNeedingGraphicsUpdate(t){const n=this.getSupportedChannels(),r={};for(const s of t){const o=this.properties[s];if(o&&Mt(o)){const a=this.unitView.paramMediator.createExpression(o.expr);a.addListener(()=>{this.updateGraphicsData(),this.unitView.context.animator.requestRender()}),n.includes(s)||Object.defineProperty(r,s,{get(){return a()}})}}const i=this.properties;this.properties=Ax(()=>r,()=>i)}get encoding(){return lf(this,"encoding",()=>{var o;const t=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=a=>{const c=this.properties[a];return xR(c)||Mt(c)?{value:c}:void 0},i=Object.fromEntries(this.getSupportedChannels().map(a=>[a,r(a)]).filter(a=>fn(a[1]))),s=this.fixEncoding({...t,...i,...n});for(const a of Object.keys(s))this.getSupportedChannels().includes(a)||delete s[a];return s.x&&((o=s.x).buildIndex??(o.buildIndex=!0)),s})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=kF(this.unitView,this.encoding)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return Ex;if(this.unitView.getLayoutAncestors().find(t=>"samples"in t.spec))return vR}createAndLinkShaders(t,n,r=[]){const i=this.getAttributes(),s=this.encoders,o=this.getSampleFacetMode();o&&r.push(`#define ${o}`);const a="// view: "+this.unitView.getPathString();let c=[];const l=new Set,u=px(s),f=[],h=Object.values(s).flatMap(T=>T.accessors).map(T=>T.predicate).filter(T=>T.param),d=new Map;for(const T of h){const B=T.param,I=this.unitView.paramMediator,D=I.getValue(B);if(!D)throw new Error(`Cannot infer selection type as the parameter "${B}" has no value. Please ensure that the parameter is properly defined!`);const M=sf+"uniqueId";if(Ww(D)){if(!d.has(B)){const U=L0+nf(B);d.set(B,"single"),f.push("    // Selection parameter"),f.push(`    uniform highp uint ${U};`),z(this,lr).push(()=>{this.registerMarkUniformValue(U,{expr:B},N=>N.uniqueId??0)}),c.push(`bool ${of}${B}(bool empty) {
    return ${L0}${B} == ${M} || (empty && ${L0}${B} == 0u);
}`)}}else if(R0(D)&&!d.has(B)){d.set(B,"multi");const U=Sx+nf(B);c.push(`// Selection texture
uniform highp usampler2D ${U};`);const N=this.getContext().glHelper,te=N.selectionTextures;this.selectionTextureOps.push(()=>{const pe=I.getValue(B),Se=te.get(pe);if(!Se)throw new Error(`Bug: no selection texture found for "${B}"!`);qi(this.programInfo,{[U]:Se})});const re=Sx+B;c.push(`bool ${of}${B}(bool empty) {
   return binarySearchTexture(${re}, ${M}) || (empty && isEmptyBinarySearchTexture(${re}));
}`),N.createSelectionTexture(D);const ue=I.createExpression(B);ue.addListener(()=>{const pe=ue(null);N.createSelectionTexture(pe),this.getContext().animator.requestRender()})}}const p=(T,B,I,D)=>{const M=B.channelDef;if(fn(M))if(Mt(M.value)){const{uniformName:U,uniformGlsl:N,accessorGlsl:te,adjuster:re}=VF(T,I);c.push(te),f.push(N),z(this,lr).push(()=>{this.registerMarkUniformValue(U,M.value,re)})}else c.push(HF(T,I,M.value).accessorGlsl);else if(dl(M)){const{uniformName:U,uniformGlsl:N,accessorGlsl:te}=$F(T,D,I);f.push(N),c.push(te);const{largeHp:re,discrete:ue}=yl(D,T),pe=ue&&"domain"in D?Se=>D.domain().indexOf(Se):re?dx:Se=>+Se;z(this,lr).push(()=>{this.registerMarkUniformValue(U,M.datum,pe)})}else if(ii(M)){const U=u.get([M.field,!0]),{attributeGlsl:N,accessorGlsl:te}=ox(T,D,I,U!=null&&U.includes(T)?U:void 0);l.add(N),c.push(te)}else if(pl(M)){const{attributeGlsl:U,accessorGlsl:N}=ox(T,D,I);l.add(U),c.push(N)}else throw new os(`Unsupported channel definition: ${JSON.stringify(M)}`,this.unitView)};for(const[T,B]of Object.entries(s)){if(!i.includes(T))continue;const{channelDef:I,accessors:D,scale:M}=B;for(let U=0;U<D.length;U++)p(T,D[U],U,M);if(M){const U=Xt(I)&&I.resolutionChannel||T,N=ml(U)?this.unitView.getScaleResolution(U):null,{glsl:te,domainUniform:re,domainUniformName:ue,rangeUniform:pe,rangeUniformName:Se}=jF(T,M,I);c.push(te),f.push(re),f.push(pe),pe&&z(this,lr).push(()=>{const _e=this.createMarkUniformSetter(Se),Le=()=>_e(gx(M,T));N.addEventListener("range",Le),Le()}),re&&z(this,lr).push(()=>{const _e=this.createMarkUniformSetter(ue),Le=()=>{const ze=ti(M.type)?[0,M.domain().length]:M.domain();_e(hx(M.type)?XF(ze):ze)};N.addEventListener("domain",Le),Le()})}c.push(qF(T,D))}const m=[...d.keys()].map(T=>`${of}${T}(false)`);c.push(`bool isPointSelected() {
`+(this.encoders.uniqueId&&m.length>0?`    return ${m.join(" || ")};`:"    return false;")+`
}`);const y=`precision highp float;
precision highp int;`,w=T=>T.replace("#pragma markUniforms",f.join(`
`));r=r.map(w),t=w(t),n=w(n);const A=[y,a,...r,yx,cR,[...l].join(`
`),...c,uR,fR,t],_=[y,a,...r,yx,hR,n],S=this.gl;this.programStatus=wR(S,this.glHelper.compileShader(S.VERTEX_SHADER,A),this.glHelper.compileShader(S.FRAGMENT_SHADER,_))}finalizeGraphicsInitialization(){const t=this.programStatus.getProgramErrors();if(t){t.detail&&console.warn(t.detail);const n=new Error("Cannot create shader program: "+t.message);throw n.view=this.unitView,n}this.programInfo=eI(this.gl,this.programStatus.program),delete this.programStatus,this.viewUniformInfo=Yb(this.gl,this.programInfo,"View"),this.markUniformInfo=Yb(this.gl,this.programInfo,"Mark"),this.gl.useProgram(this.programInfo.program),qi(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0,uZero:0});for(const n of z(this,lr))n();le(this,lr,void 0)}createMarkUniformSetter(t){const n=this.markUniformInfo.setters[t];if(!n)throw new Error(`Uniform "${t}" not found int the Mark block!`);return r=>{n(r),this.markUniformsAltered=!0,this.unitView.context.animator.requestRender()}}registerMarkUniformValue(t,n,r=i=>i){const i=this.createMarkUniformSetter(t),s=o=>{if(o==null)throw new Error(`Trying to set null/undefined value for uniform: ${t}${Mt(n)?`Expr: ${n.expr}`:""}`);i(o)};if(Mt(n)){const o=this.unitView.paramMediator.createExpression(n.expr),a=()=>s(r(o(null)));o.addListener(a),a()}else s(r(n))}deleteGraphicsData(){const t=this.gl;if(this.vertexArrayInfo&&(this.gl.bindVertexArray(null),t.deleteVertexArray(this.vertexArrayInfo.vertexArrayObject),this.vertexArrayInfo=void 0),this.bufferInfo){for(let n=0;n<8;n++)t.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(t){if(this.gl.bindVertexArray(null),this.bufferInfo&&t.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(t.arrays))r.data&&h6(this.gl,this.bufferInfo.attribs[n],r.data,0);else{this.deleteGraphicsData(),this.bufferInfo=g6(this.gl,t.arrays,{numElements:t.vertexCount}),this.bufferInfo.allocatedVertices=t.allocatedVertices;for(const[n,r]of Object.entries(t.arrays))this.bytesPerElement.set(n,r.data.BYTES_PER_ELEMENT)}}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null&&!this.unitView.paramMediator.hasPointSelections())return!1;for(const t of this.unitView.getLayoutAncestors())if(!t.isPickingSupported())return!1;return!0}bindOrSetMarkUniformBlock(){this.markUniformsAltered?(Xb(this.gl,this.programInfo,this.markUniformInfo),this.markUniformsAltered=!1):Qb(this.gl,this.programInfo,this.markUniformInfo)}prepareRender(t){const n=this.glHelper,r=this.gl,i=[];i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=xI(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)});for(const[o,a]of Object.entries(this.encoding))if(Xt(a)){const c=Xt(a)&&a.resolutionChannel||o;if(ml(c)){const l=this.unitView.getScaleResolution(c),u=n.rangeTextures.get(l);u&&i.push(()=>qi(this.programInfo,{[N0+o]:u}))}}i.push(...this.selectionTextureOps),this.getSampleFacetMode()==Ex&&i.push(()=>{let o;for(const a of this.unitView.getLayoutAncestors())if(o=a.getSampleFacetTexture(),o)break;if(!o)throw new Error("No facet texture available. This is bug.");qi(this.programInfo,{uSampleFacetTexture:o})});const s=(t.picking??!1)&&this.isPickingParticipant();return i.push(()=>Ya(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:s})),this.opaque||t.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(t){const n=t.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,s=n.locSize?n.locSize.size:1;if(i>1||i+s<0)return!1;const o=n.targetLocSize?n.targetLocSize.location:i,a=n.targetLocSize?n.targetLocSize.size:s;this.gl.uniform4f(r.location,i,s,o,a)}return!0}render(t){}createRenderCallback(t,n){var f;if(!this.bufferInfo)return()=>{};const r=this;let i;const s=(f=this.unitView.getScaleResolution("x"))==null?void 0:f.scale,o=s&&wt(s.type),a=["index","locus"].includes(s==null?void 0:s.type)?-1:0,c=[0,0];i=h=>{if(o&&h.xIndex){const d=s.domain(),p=h.xIndex(d[0]+a,d[1],c),m=p[0],y=p[1]-m;y>0&&t(m,y)}else t(h.offset,h.count)};const l=this.rangeMap.get(void 0).count==0?n.facetId:void 0,u=this.rangeMap.get(l);return n.sampleFacetRenderingOptions?function(){u.count&&r.prepareSampleFacetRendering(n)&&i(u)}:function(){u.count&&i(u)}}setViewport(t,n){t=t.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,s=this.properties,o=this.glHelper.getLogicalCanvasSize(),a=.5,c=(s.xOffset??0)+a,l=(s.yOffset??0)+a;let u,f=t;if(s.clip!=="never"&&(s.clip||n)){let h=0,d=0,p;if(n){if(f=t.intersect(n).flatten(),!f.isDefined())return!1;p=[t.width/f.width,t.height/f.height],d=Math.max(0,t.y2-n.y2),h=Math.min(0,t.x-n.x)}else p=[1,1];const m=[f.x,o.height-f.y2,f.width,f.height].map(_=>_*r),y=m.map(_=>Math.floor(_)),w=m[0]-y[0],A=m[1]-y[1];i.viewport(...y),i.scissor(...y),i.enable(i.SCISSOR_TEST),u={uViewOffset:[(c+h+w/r)/f.width,-(l+d-A/r)/f.height],uViewScale:p}}else{if(!t.isDefined())return!1;i.viewport(0,0,o.width*r,o.height*r),i.disable(i.SCISSOR_TEST),u={uViewOffset:[(t.x+c)/o.width,(o.height-t.y-l-t.height)/o.height],uViewScale:[t.width/o.width,t.height/o.height]}}return Ya(this.viewUniformInfo,{...u,uViewportSize:[t.width,t.height],uDevicePixelRatio:r}),Xb(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(t,n){}}lr=new WeakMap;class AR extends hr{constructor(){super([],JSON.stringify)}get(t){let n=super.get(t);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(t,n)),n}migrateEntries(t){for(const[n,r]of this.entries())t.has(n)||(r.offset=0,r.count=0,r.xIndex=void 0);for(const[n,r]of t.entries())Object.assign(this.get(n),r)}}function V0(e,t){const n=PF(t);let r=e[t]&&{...e[t]},i=e[n]&&{...e[n]};if(!(fn(r)||fn(i))){if(r){if(!Xt(e[t]))return;if(i){if(r.type!="quantitative"){const s=(1-(r.band||1))/2;r.band=s,i.band=-s}}else if(r.type=="quantitative")i={datum:0,contributesToScaleDomain:!1};else{i={...r};const s=(1-(r.band??1))/2;r.band=0+s,i.band=1-s}}else r={value:0},i={value:1};e[t]=r,e[n]=i}}function _x(e,t){e.stroke||(t?e.stroke={value:null}:e.stroke={resolutionChannel:"color",...e.color}),fn(e.stroke)&&e.stroke.value===null&&(e.strokeWidth={value:0}),e.strokeOpacity||(e.strokeOpacity={resolutionChannel:"opacity",...e.opacity})}function Cx(e,t){fn(e.fill)&&e.fill.value===null?e.fillOpacity={value:0}:e.fill||(e.fill={resolutionChannel:"color",...e.color},!t&&!e.fillOpacity&&(e.fillOpacity={value:0})),e.fillOpacity||(t?e.fillOpacity={resolutionChannel:"opacity",...e.opacity}:e.fillOpacity={value:0})}class ER extends Al{constructor(n){super(n);J(this,Ai);this.augmentDefaultProperties({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return lf(this,"opaque",()=>!Q(this,Ai,hm).call(this)&&!Q(this,Ai,dm).call(this)&&fn(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(n){return V0(n,"x"),V0(n,"y"),_x(n,this.properties.filled),Cx(n,this.properties.filled),delete n.color,delete n.opacity,n}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}async initializeGraphics(){await super.initializeGraphics();const n=[];Q(this,Ai,hm).call(this)&&n.push("ROUNDED_CORNERS"),Q(this,Ai,dm).call(this)&&n.push("STROKED"),this.createAndLinkShaders(_I,CI,[TI,...n.map(r=>"#define "+r)])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uMinWidth",n.minWidth),this.registerMarkUniformValue("uMinHeight",n.minHeight),this.registerMarkUniformValue("uMinOpacity",n.minOpacity),this.registerMarkUniformValue("uCornerRadiusTopRight",n.cornerRadiusTopRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomRight",n.cornerRadiusBottomRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusTopLeft",n.cornerRadiusTopLeft??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomLeft",n.cornerRadiusBottomLeft??n.cornerRadius??0)}updateGraphicsData(){const n=this.unitView.getCollector();if(!n){console.debug("No collector");return}const r=n.getItemCount(),i=new iR({encoders:this.encoders,attributes:this.getAttributes(),numItems:r});i.addBatches(n.facetBatches);const s=i.toArrays();this.rangeMap.migrateEntries(s.rangeMap),this.updateBufferInfo(s)}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Wi(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,s)=>{Du(r,this.vertexArrayInfo,r.TRIANGLE_STRIP,s,i)},n)}findDatumAt(n,r){n=zt(n);const i=this.unitView.getCollector().facetBatches.get(n);if(!i)return;const s=this.encoders,o=s.x.scale.type;if(ti(o)){const a=s.x.dataAccessor;return i.find(c=>r==a(c))}else{const a=s.x.dataAccessor,c=s.x2.dataAccessor;return i.find(l=>r>=a(l)&&r<c(l))}}}Ai=new WeakSet,hm=function(){const n=this.properties;return n.cornerRadius||n.cornerRadiusBottomLeft||n.cornerRadiusBottomRight||n.cornerRadiusTopLeft||n.cornerRadiusTopRight},dm=function(){const n=this.encoding.strokeWidth;return!(fn(n)&&!n.value)||"condition"in n};const SR=`out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;

// Copypaste from fragment shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TRIANGLE_RIGHT = 5.0;
const float TRIANGLE_DOWN = 6.0;
const float TRIANGLE_LEFT = 7.0;
const float TICK_UP = 8.0;
const float TICK_RIGHT = 9.0;
const float TICK_DOWN = 10.0;
const float TICK_LEFT = 11.0;

float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {
    float shapeAngle = 0.0;

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor;

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

    if (vShape > TICK_UP && vShape <= TICK_LEFT) {
        shapeAngle = (vShape - TICK_UP) * 90.0;
        vShape = TICK_UP;
    } else if (vShape > TRIANGLE_UP && vShape <= TRIANGLE_LEFT) {
        shapeAngle = (vShape - TRIANGLE_UP) * 90.0;
        vShape = TRIANGLE_UP;
    }

	float angleInDegrees = getScaled_angle();
	float angle = -(shapeAngle + angleInDegrees) * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    // Not needed if we would draw rotated quads instead of gl.POINTS
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;

    gl_PointSize = max(
        (diameter + padding),
        uPickingEnabled ? uMinPickingSize : 0.0
    ) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,_R=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

// Copypaste from vertex shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TICK_UP = 8.0;

// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float tickUp(vec2 p, float r) {
    float halfR = r * 0.5;
    p.y += halfR;
    p = abs(p);
    return max(p.x - r * 0.15, p.y - halfR);
}

float equilateralTriangle(vec2 p, float r) {
    p.y = -p.y;
    float k = sqrt(3.0);
    float kr = k * r;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r);

    } else if (vShape == TICK_UP) {
        d = tickUp(p, r);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,CR=`layout(std140) uniform Mark {
    /**
    * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
    * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
    * geometric zoom, etc.
    */
    uniform bool uInwardStroke;

    /** The minimum point size in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    /** Scale factor for geometric zoom */
    uniform mediump float uScaleFactor;

    uniform mediump float uZoomLevel;
    uniform highp float uSemanticThreshold;

    uniform mediump float uGradientStrength;

#pragma markUniforms
};
`;class Tx extends lt{constructor(t){super(t),this.params=t,this.k=t.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(t){this.reservoir.push(t),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(t){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=t,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(t){this.ingester(t)}complete(){for(const t of this.reservoir)this._propagate(t);super.complete()}}function TR(e,t,n){const r=new Tx({type:"sample",size:e});for(const i of t)r.handle(n(i));return r.complete(),r.reservoir}const kR={};class IR extends Al{constructor(n){super(n);J(this,dh);J(this,Ko,()=>0);this.augmentDefaultProperties({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02,minPickingSize:2});const r=this.properties.semanticZoomFraction;if(r!=null)if(Mt(r)){const i=this.unitView.paramMediator.createExpression(r.expr);i.addListener(()=>this.getContext().animator.requestRender()),le(this,Ko,i)}else le(this,Ko,()=>r)}getAttributes(){return["uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...kR}}fixEncoding(n){return _x(n,this.properties.filled),Cx(n,this.properties.filled),delete n.color,delete n.opacity,n}initializeData(){var r,i;super.initializeData();const n=(i=(r=this.encoders.semanticScore)==null?void 0:r.dataAccessor)==null?void 0:i.asNumberAccessor();n&&(this.sampledSemanticScores=Float32Array.from(TR(1e4,this.unitView.getCollector().getData(),n)),this.sampledSemanticScores.sort((s,o)=>s-o))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(SR,_R,[CR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uInwardStroke",n.inwardStroke,r=>!!r),this.registerMarkUniformValue("uGradientStrength",n.fillGradientStrength),this.registerMarkUniformValue("uMinPickingSize",n.minPickingSize)}updateGraphicsData(){const n=this.unitView.getCollector();if(!n){console.debug("No collector");return}const r=n.getItemCount(),i=new oR({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(r,this.properties.minBufferSize||0)});i.addBatches(n.facetBatches);const s=i.toArrays();this.rangeMap.migrateEntries(s.rangeMap),this.updateBufferInfo(s)}getSemanticThreshold(){if(this.sampledSemanticScores){const n=Math.max(0,1-z(this,Ko).call(this)*this.unitView.getZoomLevel());if(n<=0)return-1/0;if(n>=1)return 1/0;{const r=this.sampledSemanticScores;return h1(r,n)}}else return-1}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>{Ya(this.markUniformInfo,{uScaleFactor:Q(this,dh,h3).call(this),uSemanticThreshold:this.getSemanticThreshold()}),this.markUniformsAltered=!0}),r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Wi(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,s)=>{s&&Du(r,this.vertexArrayInfo,r.POINTS,s,i)},n)}}Ko=new WeakMap,dh=new WeakSet,h3=function(){const n=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/n),1/3)};const BR=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,DR=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,FR=`layout(std140) uniform Mark {
    /** Minimum rule length in pixels */
    uniform mediump float uMinLength;

    uniform mediump float uDashTextureSize;
    uniform lowp int uStrokeCap;
    uniform mediump float uStrokeDashOffset;

#pragma markUniforms
};
`;class RR extends Al{constructor(t){super(t),this.dashTextureSize=0,this.augmentDefaultProperties({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){if(!(t.x&&t.y&&t.x2&&t.y2))if(t.x&&t.x2&&!t.y)t.y={value:.5},t.y2=t.y;else if(t.y&&t.y2&&!t.x)t.x={value:.5},t.x2=t.x;else if(t.x&&!t.y)t.y={value:0},t.y2={value:1},t.x2=t.x;else if(t.y&&!t.x)t.x={value:0},t.x2={value:1},t.y2=t.y;else if(t.x&&t.y&&t.y2)t.x2=t.x;else if(t.y&&t.x&&t.x2)t.y2=t.y;else if(t.y&&t.x)if(!t.x2&&Xt(t.y)&&t.y.type=="quantitative")t.x2=t.x,t.y2={datum:0};else if(!t.y2&&Xt(t.x)&&t.x.type=="quantitative")t.y2=t.y,t.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(t));return t}async initializeGraphics(){await super.initializeGraphics();const t=this.gl,n=MR(this.properties.strokeDash);this.dashTexture=Za(t,{level:0,mag:t.NEAREST,min:t.NEAREST,internalFormat:t.R8,format:t.RED,src:n,height:1}),this.dashTextureSize=n.length,this.createAndLinkShaders(BR,DR,[FR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uMinLength",t.minLength),this.registerMarkUniformValue("uStrokeCap",t.strokeCap??"butt",n=>["butt","square","round"].indexOf(n)),Ya(this.markUniformInfo,{uDashTextureSize:+this.dashTextureSize}),this.markUniformsAltered=!0}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getItemCount(),r=new sR({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(t.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),n.push(()=>qi(this.programInfo,{uDashTexture:this.dashTexture})),n.push(()=>Wi(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>Du(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),t)}}function MR(e){if(!e)return new Uint8Array(0);if(e.length==0||e.length%2||e.findIndex(s=>Math.round(s)!=s||s<1||s>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(e));const t=e.reduce((s,o)=>s+o),n=new Uint8Array(t);let r=!0,i=0;for(let s of e){for(;s;)n[i++]=r&&255||0,s--;r=!r}return n}const PR=`out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

out float vGamma;

const int SHAPE_ARC = 0;
const int SHAPE_DOME = 1;
const int SHAPE_DIAGONAL = 2;
const int SHAPE_LINE = 3;
const int ORIENT_VERTICAL = 0;
const int ORIENT_HORIZONTAL = 1;

float distanceFromLine(vec2 pointOnLine1, vec2 pointOnLine2, vec2 point) {
    vec2 a = point - pointOnLine1;
    vec2 b = pointOnLine2 - pointOnLine1;
    vec2 proj = dot(a, b) / dot(b, b) * b;
    return length(a - proj);
}

bool isInsideViewport(vec2 point, float marginFactor) {
    vec2 margin = uViewportSize * vec2(marginFactor);
    return point.x >= -margin.x
        && point.x <= uViewportSize.x + margin.x
        && point.y >= -margin.y
        && point.y <= uViewportSize.y + margin.y;
}

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    // The bezier's control points
    vec2 p1, p2, p3, p4;

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y())) * uViewportSize;
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2())) * uViewportSize;

    if (uShape <= SHAPE_DOME) {
        if (uShape == SHAPE_DOME) {
            vec2 height = vec2(0.0);
            if (uOrient == ORIENT_VERTICAL) {
                p1 = vec2(min(a.x, b.x), b.y);
                p4 = vec2(max(a.x, b.x), b.y);
                height = vec2(0.0, a.y - b.y);

                if (uClampApex) {
                    if (p4.x > 0.0) {
                        p1.x = max(p1.x, -p4.x);
                    }
                    if (p1.x < uViewportSize.x) {
                        p4.x = min(p4.x, 2.0 * uViewportSize.x - p1.x);
                    }
                }

            } else {
                p1 = vec2(b.x, min(a.y, b.y));
                p4 = vec2(b.x, max(a.y, b.y));
                height = vec2(a.x - b.x, 0.0);

                if (uClampApex) {
                    if (p4.y > 0.0) {
                        p1.y = max(p1.y, -p4.y);
                    }
                    if (p1.y < uViewportSize.y) {
                        p4.y = min(p4.y, 2.0 * uViewportSize.y - p1.y);
                    }
                }
            }

            vec2 controlOffset = height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;

        } if (uShape == SHAPE_ARC) {
            p1 = a;
            p4 = b;

            vec2 chordVector = p4 - p1;
            vec2 unitChordVector = normalize(chordVector);
            vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);
            float chordLength = length(chordVector);

            if (chordLength > uMaxChordLength) {
                if (isInsideViewport(p1, 2.0)) {
                    chordLength = uMaxChordLength;
                    p4 = p1 + unitChordVector * uMaxChordLength;
                } else if (isInsideViewport(p4, 2.0)) {
                    chordLength = uMaxChordLength;
                    p1 = p4 - unitChordVector * uMaxChordLength;
                }
            }

            float height = max(
                chordLength / 2.0 * uArcHeightFactor,
                uMinArcHeight
            );

            // This is a bit poor approximation of a circular arc, but it's probably enough for most purposes.
            // TODO: Consider a more sophisticated approach: https://stackoverflow.com/a/44829356/1547896
            vec2 controlOffset = chordNormal * height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;
        }

    } else if (uShape == SHAPE_DIAGONAL) {
        if (uOrient == ORIENT_VERTICAL) {
            p1 = a;
            p2 = vec2(a.x, (a.y + b.y) / 2.0);
            p3 = vec2(b.x, (a.y + b.y) / 2.0);
            p4 = b;
        } else {
            p1 = a;
            p2 = vec2((a.x + b.x) / 2.0, a.y);
            p3 = vec2((a.x + b.x) / 2.0, b.y);
            p4 = b;
        }
    } else if (uShape == SHAPE_LINE) {
        p1 = a;
        p2 = (a + b) / 2.0;
        p3 = p2;
        p4 = b;
    }

    vec2 strip = vec2(
        float(gl_VertexID / 2) / float(uSegmentBreaks),
        float(gl_VertexID % 2) - 0.5
    );

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    float size = getScaled_size();

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    // Handle minimum picking size or add an extra pixel to the stroke width to accommodate edge antialiasing
    float paddedSize = uPickingEnabled
        ? max(size, uMinPickingSize)
        : size + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    if (uShape == SHAPE_ARC &&
        uArcFadingDistance[0] > 0.0 &&
        uArcFadingDistance[1] > 0.0 &&
        (!uNoFadingOnPointSelection || !isPointSelected()))
    {
        float d = distanceFromLine(p1, p4, p);
        float distanceOpacity = smoothstep(uArcFadingDistance[1], uArcFadingDistance[0], d);    

        // Fade out
        opacity *= distanceOpacity;

        // Collapse fully transparent triangles to skip fragment processing 
        if (distanceOpacity <= 0.0) {
            vNormalLengthInPixels = 0.0;
        }
    }

    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

    vec3 color = getScaled_color();

    vColor = vec4(color * opacity, opacity);

    vGamma = getGammaForColor(color);

    vSize = paddedSize;

    setupPicking();
}
`,NR=`in vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;
in float vGamma;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    opacity = pow(opacity, vGamma);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,LR=`layout(std140) uniform Mark {
    uniform float uArcHeightFactor;

    /** Make very small arcs visible */
    uniform float uMinArcHeight;

    /** The minimum stroke width in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    uniform int uShape;
    uniform int uOrient;
    uniform bool uClampApex;

    // In pixels
    uniform float uMaxChordLength;
    // In pixels
    uniform vec2 uArcFadingDistance;
    uniform bool uNoFadingOnPointSelection;

    uniform int uSegmentBreaks;

#pragma markUniforms
};
`,OR=["arc","dome","diagonal","line"],zR=["vertical","horizontal"];class UR extends Al{constructor(t){super(t),this.augmentDefaultProperties({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,arcHeightFactor:1,minArcHeight:1.5,minPickingSize:3,clampApex:!1,maxChordLength:5e4,arcFadingDistance:!1,noFadingOnPointSelection:!0,linkShape:"arc",orient:"vertical"}),this._baseInstanceExt=this.gl.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){return t.x2||(Xt(t.x)?t.x2={datum:0}:t.x2=t.x),t.y2||(Xt(t.y)?t.y2={datum:0}:t.y2=t.y),t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(PR,NR,[LR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uArcFadingDistance",t.arcFadingDistance,n=>n||[0,0]),this.registerMarkUniformValue("uArcHeightFactor",t.arcHeightFactor),this.registerMarkUniformValue("uMinArcHeight",t.minArcHeight),this.registerMarkUniformValue("uMinPickingSize",t.minPickingSize),this.registerMarkUniformValue("uShape",t.linkShape,n=>OR.indexOf(n)),this.registerMarkUniformValue("uOrient",t.orient,n=>zR.indexOf(n)),this.registerMarkUniformValue("uClampApex",t.clampApex,n=>!!n),this.registerMarkUniformValue("uMaxChordLength",t.maxChordLength),this.registerMarkUniformValue("uSegmentBreaks",t.segments,n=>n),this.registerMarkUniformValue("uNoFadingOnPointSelection",t.noFadingOnPointSelection,n=>!!n)}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getItemCount(),r=new aR({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(t.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([s,o])=>[s,{...o,data:void 0}])),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),this._baseInstanceExt?n.push(()=>Wi(this.gl,this.programInfo,this.vertexArrayInfo)):n.push(()=>this.gl.bindVertexArray(null)),n}render(t){const n=this.gl,r=()=>(this.markUniformInfo.uniforms.uSegmentBreaks[0]+1)*2;return this._baseInstanceExt?this.createRenderCallback((i,s)=>{this._baseInstanceExt.drawArraysInstancedBaseInstanceWEBGL(n.TRIANGLE_STRIP,0,r(),s,i)},t):this.createRenderCallback((i,s)=>{for(const o of Object.entries(this.bufferInfo.attribs)){const[a,c]=o;c.buffer&&c.numComponents&&c.divisor&&(c.offset=i*this.arrays[a].numComponents*this.bytesPerElement.get(a))}Wi(n,this.programInfo,this.bufferInfo),n.drawArraysInstanced(n.TRIANGLE_STRIP,0,r(),s)},t)}}const GR=`in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

// Width of the text (all letters)
in float width;

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;
out float vGamma;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vec3 color = getScaled_color();

    // Premultiply alpha
    vColor = vec4(color * opacity, opacity);

    // Do something like gamma correction for text when the color is close to black or white.
    vGamma = getGammaForColor(color);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,HR=`uniform sampler2D uTexture;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;
in float vGamma;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    opa *= clamp(vEdgeFadeOpacity, 0.0, 1.0);

    opa = pow(opa, vGamma);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,VR=`layout(std140) uniform Mark {
    uniform mediump float uSdfNumerator;

    uniform mediump vec2 uD; // dx & dy

    uniform mediump vec4 uViewportEdgeFadeWidth;
    uniform mediump vec4 uViewportEdgeFadeDistance;
        
    uniform bool uSqueeze;
    uniform bool uLogoLetter;

    // x: -1, 0, 1 = left, center, right
    // y: -1, 0, 1 = top, middle, bottom 
    uniform lowp ivec2 uAlign;

    uniform mediump float uPaddingX;
    uniform bool uFlushX;
    uniform mediump float uPaddingY;
    uniform bool uFlushY;

#pragma markUniforms
};
`,$R={left:-1,center:0,right:1},jR={top:-1,middle:0,bottom:1,alphabetic:1};class qR extends Al{constructor(t){super(t),this.augmentDefaultProperties({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0}),this.font=this.properties.font?t.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):t.context.fontManager.getDefaultFont(),this.setupExprRefsNeedingGraphicsUpdate(["text","fitToBand","logoLetters"])}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(t){for(const n of lo)this.properties.fitToBand&&V0(t,n);return t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(GR,HR,[VR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uSdfNumerator",{expr:"devicePixelRatio"},n=>{let r=.35;return this.properties.logoLetters&&(r/=2),this.font.metrics.common.base/(n/r)}),this.registerMarkUniformValue("uPaddingX",t.paddingX),this.registerMarkUniformValue("uPaddingY",t.paddingY),this.registerMarkUniformValue("uFlushX",t.flushX,n=>!!n),this.registerMarkUniformValue("uFlushY",t.flushY,n=>!!n),this.registerMarkUniformValue("uSqueeze",t.squeeze,n=>!!n),Ya(this.markUniformInfo,{uAlign:[$R[t.align],jR[t.baseline]],uD:[t.dx,-t.dy],uLogoLetter:!!t.logoLetters,uViewportEdgeFadeWidth:[t.viewportEdgeFadeWidthTop,t.viewportEdgeFadeWidthRight,t.viewportEdgeFadeWidthBottom,t.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[t.viewportEdgeFadeDistanceTop,t.viewportEdgeFadeDistanceRight,t.viewportEdgeFadeDistanceBottom,t.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getData(),r=this.encoding,i=this.encoders.text;let s=0;const o="format"in r.text?St(r.text.format):l=>l;for(const l of n){const u=o(i(l)),f=Ge(u)?u:u===null?"":""+u;s+=f&&f.length||0}const a=new lR({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(s,this.properties.minBufferSize||1024)});a.addBatches(t.facetBatches);const c=a.toArrays();this.rangeMap.migrateEntries(c.rangeMap),this.updateBufferInfo(c)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>{qi(this.programInfo,{uTexture:this.font.texture})}),n.push(()=>this.bindOrSetMarkUniformBlock()),n.push(()=>Wi(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>Du(n,this.vertexArrayInfo,n.TRIANGLES,i,r),t)}}const kx=1;function $0(){let e=[0,1],t=[0,1],n=1,r=1,i=0,s=0,o=.5,a=0;const l=u=>(u+o-e[0])/n*r+t[0];return l.invert=u=>(u-t[0])/r*n+e[0]-o,l.domain=function(u){if(arguments.length){e=DC(u),n=e[1]-e[0];const f=e[0]===0&&e[0]===0;if(n<kx&&!f){n=kx;const h=(e[0]+e[1])/2;e[0]=h-n/2,e[1]=h+n/2}return l}else return e.slice()},l.range=function(u){return arguments.length?(t=[...u],r=t[1]-t[0],l):t},l.numberingOffset=function(u){return arguments.length?(a=u,l):a},l.padding=function(u){return arguments.length?(s=u,i=Math.min(1,u),l):i},l.paddingInner=function(u){return arguments.length?(i=Math.min(1,u),l):i},l.paddingOuter=function(u){return arguments.length?(s=u,l):s},l.align=function(u){return arguments.length?(o=Math.max(0,Math.min(1,u)),l):o},l.step=()=>r/n,l.bandwidth=()=>l.step(),l.ticks=u=>{const f=l.align(),h=l.numberingOffset();return Jc(e[0]-f+h,e[1]-f+h,Math.min(u,Math.ceil(n))).filter(Number.isInteger).map(d=>d-a)},l.tickFormat=(u,f)=>{if(f)throw new Error("Index scale's tickFormat does not support a specifier!");const d=Oi(e[0],e[1],Math.min(u,Math.ceil(n)))<1e5?St(","):St(".3s");return p=>d(p+a)},l.copy=()=>$0().domain(e).range(t).paddingInner(i).paddingOuter(s).numberingOffset(a),l}function WR(){const e=$0().numberingOffset(1);let t;e.genome=function(r){return arguments.length?(t=r,e):t},e.ticks=r=>{if(!t)return[];const i=e.domain(),s=e.numberingOffset(),[o,a]=[Math.max(i[0],0),Math.min(i[1],t.totalSize-1)].map(u=>t.toChromosome(u)),c=Math.max(1,Oi(i[0],i[1],r)),l=[];for(let u=o.index;u<=a.index;u++){const f=t.chromosomes[u],h=Math.max(f.continuousStart+c,i[0]-(i[0]-f.continuousStart)%c),d=Math.min(f.continuousEnd-c/4,i[1]+1);for(let p=h;p<=d;p+=c){const m=p-s;m>=i[0]&&m<i[1]&&l.push(m)}}return l},e.tickFormat=(r,i)=>{if(!t)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const s=e.domain(),o=s[1]-s[0],a=e.numberingOffset(),l=Oi(s[0],s[1],Math.min(r,Math.ceil(o)))<1e6?St(","):St(".3s"),u=f=>f-t.toChromosome(f).continuousStart;return f=>l(u(f)+a)};const n=e.copy;return e.copy=()=>n().genome(t),e}function ZR(e){return e.type=="locus"}function uf(e,t,n){if(n=n||[],e.some(o=>o===null)){if(e.every(o=>o===null))return null;throw console.warn(e),new Error("Cannot merge objects with nulls!")}const r={},i=(o,a)=>o===a||uo(o)&&uo(a)||uo(o)&&a===!0||o===!0&&Et(a),s=o=>{for(let a in o){const c=o[a];if(!n.includes(a)&&c!==void 0)if(r[a]!==void 0&&!i(r[a],c))console.warn(`Conflicting property ${a} of ${t}: (${JSON.stringify(r[a])} and ${JSON.stringify(o[a])}). Using ${JSON.stringify(r[a])}.`);else{const l=r[a];if(uo(l))uo(c)&&(r[a]=uf([l,c],a));else if(uo(c)){if(!(l===!0||l===void 0))throw new Error("Bug in merge! Target is: "+l);r[a]=uf([{},c],a)}else r[a]=c}}};for(const o of e)s(o);return r}function uo(e){return Et(e)&&!Array.isArray(e)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function Ix(e,t,n){return Dt(t)&&n!=null&&(t=Math.min(t,~~(qc(e.domain())/n)||1)),Et(t)&&(t.step,t=t.interval),t}function Bx(e,t,n){var r=e.range(),i=Math.floor(r[0]),s=Math.ceil(Cn(r));if(i>s&&(r=s,s=i,i=r),t=t.filter(function(a){return a=e(a),i<=a&&a<=s}),n>0&&t.length>1){for(var o=[t[0],Cn(t)];t.length>n&&t.length>=3;)t=t.filter(function(a,c){return!(c%2)});t.length<3&&(t=o)}return t}function YR(e,t){return e.bins?Bx(e,QR(e.bins,t)):e.ticks?e.ticks(t):e.domain()}function QR(e,t){var n=e.length,r=~~(n/(t||n));return r<2?e.slice():e.filter(function(i,s){return!(s%r)})}function XR(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):n?St(n):String;if(vw(e.type)){var i=JR(n);r=e.bins?i:KR(r,i)}return r}function KR(e,t){return function(n){return e(n)?t(n):""}}function JR(e){var t=$s(e||",");if(t.precision==null){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1;break}return e5(St(t),St(".1f")(1)[1])}else return St(t)}function e5(e,t){return function(n){var r=e(n),i=r.indexOf(t),s,o;if(i<0)return r;for(s=t5(r,i),o=s<r.length?r.slice(s):"";--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function t5(e,t){var n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const n5="locus",r5="index";var i5=5;function s5(e){const t=e.type;return!e.bins&&(t===so||t===tl||t===nl)}function Dx(e){return wt(e)&&![Zn,r5,n5].includes(e)}function Fx(e){return e||{warn:(t,...n)=>console.warn(t,...n)}}var o5=Wc(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function Rx(e,t,n){n=Fx(n);for(const r in e)if(!o5[r]){if(r==="padding"&&Dx(t.type))continue;on(t[r])?t[r](e[r]):n.warn("Unsupported scale property: "+r)}p5(t,e,d5(t,e,u5(t,e,n)))}function a5(e,t){const n=l5(e),r=ke(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!e.domain&&wt(i.type)&&(e.domain=[0,0]),Rx(e,i,t),i}function l5(e){var t=e.type,n="",r;return t===Zn?Zn+"-"+so:(c5(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Zn+"-":r===3?oo+"-":""),(n+t||so).toLowerCase())}function c5(e){const t=e.type;return wt(t)&&t!==dw&&t!==pw&&(e.scheme||e.range&&e.range.length&&e.range.every(Ge))}function u5(e,t,n){if(!e.domain)return 0;n=Fx(n);var r=f5(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&s5(e),a,c;return i?(Dx(s)&&t.padding&&i[0]!==Cn(i)&&(i=h5(s,i,t.range,t.padding,t.exponent,t.constant)),(o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null&&(c=t.domainMid,(c<i[0]||c>i[a])&&n.warn("Scale domainMid exceeds domain min or max.",c),i.splice(a,0,c))),e.domain(Mx(s,i,n)),s===b0&&e.unknown(t.domainImplicit?Od:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Ix(e,t.nice)||null),i.length):0}function f5(e,t,n){return t?(e.domain(Mx(e.type,t,n)),t.length):-1}function h5(e,t,n,r,i,s){n??(n=[0,1]);var o=Math.abs(Cn(n)-n[0]),a=o/(o-2*r),c=e===ei?Mm(t,null,a):e===nl?Eh(t,null,a,.5):e===tl?Eh(t,null,a,i||1):e===ju?R3(t,null,a,s||1):Rm(t,null,a);return t=t.slice(),t[0]=c[0],t[t.length-1]=c[1],t}function Mx(e,t,n){if(vw(e)){var r=Math.abs(t.reduce(function(i,s){return i+(s<0?-1:s>0?1:0)},0));r!==t.length&&n.warn("Log scale domain includes zero: "+_h(t))}return t}function d5(e,t,n){let r=t.bins;if(r&&!yt(r)){const i=(r.start==null||r.stop==null)&&e.domain(),s=r.start==null?i[0]:r.start,o=r.stop==null?Cn(i):r.stop,a=r.step;a||st("Scale bins parameter missing step property."),r=Sa(s,o+a,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===w0&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function p5(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=g5(r,t,n);else if(t.scheme&&(s=m5(r,t,n),on(s))){if(e.interpolator)return e.interpolator(s);st(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&Wu(r))return e.interpolator(Zu(j0(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(Aw(t.interpolate,t.interpolateGamma)):on(e.round)?e.round(i):on(e.rangeRound)&&e.interpolate(i?Ja:Kr),s&&e.range(j0(s,t.reverse))}function g5(e,t,n){e!==bw&&e!==y0&&st("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===y0?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*g0(n,i,r)]}function m5(e,t,n){var r=t.schemeExtent,i,s;return yt(t.scheme)?s=Zu(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=v0(i),s||st(`Unrecognized scheme name: ${t.scheme}`)),n=e===mw?n+1:e===w0?n-1:e===m0||e===gw?+t.schemeCount||i5:n,Wu(e)?Px(s,r,t.reverse):on(s)?JB(Px(s,r),n):e===b0?s:s.slice(0,n)}function Px(e,t,n){return on(e)&&(t||n)?KB(e,j0(t||[0,1],n)):e}function j0(e,t){return t?e.slice().reverse():e}const Nx=St(",d");function b5(e,t){return e.chrom+":"+Nx(Math.floor(e.pos+1))+"-"+(e.chrom!=t.chrom?t.chrom+":":"")+Nx(Math.ceil(t.pos))}const Lx={dm6:`chr3R	32079331
chr3L	28110227
chr2R	25286936
chrX	23542271
chr2L	23513712
chrY	3667352
chr4	1348131
chrM	19524`,hg18:`chr1	247249719
chr2	242951149
chr3	199501827
chr4	191273063
chr5	180857866
chr6	170899992
chr7	158821424
chr8	146274826
chr9	140273252
chr10	135374737
chr11	134452384
chr12	132349534
chr13	114142980
chr14	106368585
chr15	100338915
chr16	88827254
chr17	78774742
chr18	76117153
chr19	63811651
chr20	62435964
chr21	46944323
chr22	49691432
chrX	154913754
chrY	57772954
chrM	16571`,hg19:`chr1	249250621
chr2	243199373
chr3	198022430
chr4	191154276
chr5	180915260
chr6	171115067
chr7	159138663
chr8	146364022
chr9	141213431
chr10	135534747
chr11	135006516
chr12	133851895
chr13	115169878
chr14	107349540
chr15	102531392
chr16	90354753
chr17	81195210
chr18	78077248
chr19	59128983
chr20	63025520
chr21	48129895
chr22	51304566
chrX	155270560
chrY	59373566
chrM	16571`,hg38:`chr1	248956422
chr2	242193529
chr3	198295559
chr4	190214555
chr5	181538259
chr6	170805979
chr7	159345973
chr8	145138636
chr9	138394717
chr10	133797422
chr11	135086622
chr12	133275309
chr13	114364328
chr14	107043718
chr15	101991189
chr16	90338345
chr17	83257441
chr18	80373285
chr19	58617616
chr20	64444167
chr21	46709983
chr22	50818468
chrX	156040895
chrY	57227415
chrM	16569`,mm9:`chr1	197195432
chr2	181748087
chr3	159599783
chr4	155630120
chr5	152537259
chr6	149517037
chr7	152524553
chr8	131738871
chr9	124076172
chr10	129993255
chr11	121843856
chr12	121257530
chr13	120284312
chr14	125194864
chr15	103494974
chr16	98319150
chr17	95272651
chr18	90772031
chr19	61342430
chrX	166650296
chrY	15902555
chrM	16299`,mm10:`chr1	195471971
chr2	182113224
chr3	160039680
chr4	156508116
chr5	151834684
chr6	149736546
chr7	145441459
chr8	129401213
chr9	124595110
chr10	130694993
chr11	122082543
chr12	120129022
chr13	120421639
chr14	124902244
chr15	104043685
chr16	98207768
chr17	94987271
chr18	90702639
chr19	61431566
chrX	171031299
chrY	91744698
chrM	16299`};function y5(e){if(!(e in Lx))throw new Error(`Unknown assembly: ${e}`);return Lx[e].split(`
`).map(t=>{const n=t.split("	");return{name:n[0],size:parseInt(n[1])}})}const w5=/^([A-Za-z]+:)?\/\//;function El(e,t){if(t&&w5.test(t))return t;const n=typeof e=="function"?e():e;if(!n)return t;if(!t)return n;if(/[#?]/.test(n))throw new Error(`Cannot append to a url with query or hash. Append: ${t}, base: ${n}`);return Ox(n)+t}function Ox(e){const t=e.replace(/[^/]*$/,"");return t===""?void 0:t.endsWith("://")?e+"/":t}class x5{constructor(t){if(this.config={name:"custom",...t},"baseUrl"in t)throw new Error("The `baseUrl` property in genome config has been removed in GenomeSpy v0.52.0. Use `url` instead. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.");if(!q0(t))throw new Error("Not a genome configuration: "+JSON.stringify(t));if(this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,Ux(this.config))this.setChromSizes(this.config.contigs);else if(!W0(this.config)){const n=y5(this.config.name);if(n)this.setChromSizes(n);else throw new Error(`Unknown genome: ${this.config.name}. Please provide contigs or a URL. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.`)}}get name(){return this.config.name}async load(t){if(W0(this.config))try{const n=El(t,this.config.url),r=await fetch(n);if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);this.setChromSizes(v5(await r.text()))}catch(n){throw new Error(`Could not load chrom sizes: ${this.config.url}. Reason: ${n.message}`)}}hasChrPrefix(){return this.chromosomes.some(t=>t.name.startsWith("chr"))}setChromSizes(t){let n=0;this.startByIndex=[0];for(let r=0;r<t.length;r++){this.startByIndex.push(n);const i=t[r].size,s={...t[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(s);const o=s.name.replace(/^chr/i,"");for(const a of["chr"+o,"CHR"+o,"Chr"+o,s.number,""+s.number,o,s.name])this.cumulativeChromPositions.set(a,n),this.chromosomesByName.set(a,s);n+=s.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(t,n){let r=this.cumulativeChromPositions.get(t);if(r===void 0)throw new Error("Unknown chromosome/contig: "+t);return r+ +n}toChromosome(t){if(t>this.totalSize)return;t=Math.floor(t);const n=Ur(this.startByIndex,t)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(t){const n=this.toChromosome(t);if(n)return{chrom:n.name,pos:Math.floor(t)-n.continuousStart}}getChromosome(t){return this.chromosomesByName.get(t)}formatInterval(t){return b5(...this.toChromosomalInterval(t))}toChromosomalInterval(t){const n=this.toChromosomal(t[0]+.5),r=this.toChromosomal(t[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(t){var i;let[n,r]=t;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(t){const n=t[0],r=t[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const s=this.chromosomes.findIndex(a=>a.name===n.chrom),o=this.chromosomes.findIndex(a=>a.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[s].size});for(let a=s+1;a<o;a++)i.push({chrom:this.chromosomes[a].name,startPos:0,endPos:this.chromosomes[a].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(t){return this.toDiscreteChromosomeIntervals([this.toChromosomal(t[0]),this.toChromosomal(t[1])])}parseInterval(t){const n=t.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(a=>a===void 0)){const a=this.getChromosome(r);return a?[a.continuousStart,a.continuousEnd]:void 0}const i=n[3]||r,s=parseInt(n[2].replace(/,/g,"")),o=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):s;return[this.toContinuous(r,s-1),this.toContinuous(i,o)]}}}function v5(e){return bC(e).map(([t,n])=>({name:t,size:parseInt(n)}))}function zx(e){return Et(e)&&"chrom"in e}function A5(e){return e.every(zx)}function q0(e){return Et(e)&&("name"in e||W0(e)||Ux(e))}function W0(e){return q0(e)&&"url"in e}function Ux(e){return q0(e)&&"contigs"in e}class Sl extends Array{constructor(){super(),this.type=void 0}extend(t){return this}extendAll(t){if(t instanceof Sl&&t.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${t.type}`);for(const n of t)this.extend(n);return this}extendAllWithAccessor(t,n){for(const r of t)this.extend(n(r));return this}}class Z0 extends Sl{constructor(){super(),this.type="quantitative"}extend(t){return t==null||Number.isNaN(t)?this:(t=+t,this.length?t<this[0]?this[0]=t:t>this[1]&&(this[1]=t):(this.push(t),this.push(t)),this)}}class Gx extends Sl{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(t){return t==null||Number.isNaN(t)?this:(this.uniqueValues.has(t)||(this.uniqueValues.add(t),this.push(t)),this)}}class Hx extends Gx{constructor(){super(),this.type="nominal"}}class E5 extends Sl{constructor(t){super();let n=0;for(let r=1;r<t.length;r++)n+=Math.sign(t[r]-t[r-1]);if(Math.abs(n)!=t.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(t));t.forEach(r=>this.push(r))}extend(t){if(this.includes(t))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const Vx={quantitative:Z0,index:Z0,locus:Z0,nominal:Hx,ordinal:Gx};function $x(e,t){if(e=="quantitative"&&S5(t)){const n=new E5(t);return n.type=e,n}else if(Vx[e]){const n=new Vx[e];return n.type=e,t&&n.extendAll(t),n}throw new Error("Unknown type: "+e)}function S5(e){return e&&e.length>0&&e.length!=2&&e.every(t=>typeof t=="number")}function _5(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function C5(e,t,n){return e*Math.pow(t/e,n)}ke("index",$0,["continuous"]),ke("locus",WR,["continuous"]),ke("null",P0,[]);const jx="quantitative",qx="ordinal",Wx="nominal",Zx="locus",T5="index";class k5{constructor(t){J(this,se);J(this,Br);J(this,Jo,{domain:new Set,range:new Set});J(this,nn);J(this,Ac,new Set);this.channel=t,this.members=[],this.type=null,this.name=void 0}addEventListener(t,n){z(this,Jo)[t].add(n)}removeEventListener(t,n){z(this,Jo)[t].delete(n)}addMember(t){var o;const{channel:n,channelDef:r}=t,i=n=="sample"?"nominal":r.type,s=(o=r==null?void 0:r.scale)==null?void 0:o.name;if(s){if(this.name!==void 0&&s!=this.name)throw new Error(`Shared scales have conflicting names: "${s}" vs. "${this.name}"!`);this.name=s}if(!this.type)this.type=i;else if(i!==this.type&&!nx(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push(t)}getDataDomain(){return this.members.map(t=>{var n;return(n=t.dataDomainSource)==null?void 0:n.call(t,t.channel,this.type)}).filter(t=>!!t).reduce((t,n)=>t.extendAll(n))}reconfigure(){const t=z(this,nn);if(!t||t.type=="null")return;const n=Q(this,se,d3).call(this),r=t.domain(),i=Q(this,se,bm).call(this,!0);if(Rx({...i,range:void 0},t),t.props=i,Q(this,se,ym).call(this),wt(t.type)&&le(this,Br,Q(this,se,xm).call(this)),!n){Q(this,se,Lr).call(this,"domain");return}const s=t.domain();hu(s,r)||(this.isZoomable()?t.domain(r):Q(this,se,Ns).call(this)?(t.domain(r),this.zoomTo(s,500)):Q(this,se,Lr).call(this,"domain"))}get scale(){if(z(this,nn))return z(this,nn);const t=Q(this,se,bm).call(this),n=a5({...t,range:void 0});n.props=t,"unknown"in n&&n.unknown(null),le(this,nn,n),Q(this,se,ym).call(this),ZR(n)&&n.genome(this.getGenome()),wt(n.type)&&le(this,Br,Q(this,se,xm).call(this));const r=n.range;if(r){const i=()=>Q(this,se,Lr).call(this,"range");n.range=function(s){if(arguments.length)r(s),i();else return r()},i()}return n}getDomain(){return this.scale.domain()}getComplexDomain(){var t;return((t=this.getGenome())==null?void 0:t.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return Q(this,se,Ns).call(this)&&hu(Q(this,se,yh).call(this),this.getDomain())}isZoomable(){return Q(this,se,Ns).call(this)&&!!this.scale.props.zoom}zoom(t,n,r){if(!Q(this,se,Ns).call(this))return!1;const i=this.scale,s=i.domain();let o=[...s],a=i.invert(n);switch(i.props.reverse&&(r=-r),"align"in i&&(a+=i.align()),i.type){case"linear":case"index":case"locus":o=B3(o,r||0),o=Rm(o,a,t);break;case"log":o=D3(o,r||0),o=Mm(o,a,t);break;case"pow":case"sqrt":{const c=i;o=F3(o,r||0,c.exponent()),o=Eh(o,a,t,c.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return z(this,Br)&&(o=M3(o,z(this,Br)[0],z(this,Br)[1])),[0,1].some(c=>o[c]!=s[c])?(i.domain(o),Q(this,se,Lr).call(this,"domain"),!0):!1}async zoomTo(t,n=!1){if(da(n)&&(n=n?700:0),!Q(this,se,Ns).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(t),i=z(this,se,gm).animator,s=this.scale,o=s.domain();if(n>0&&o.length==2){const a=o[1]-o[0],c=r[1]-r[0],l=o[0]+a/2,u=r[0]+c/2,f=o[0]==r[0],h=o[1]==r[1];await i.transition({duration:n,easingFunction:_5,onUpdate:d=>{const p=C5(a,c,d),m=a==c?d:(a-p)/(a-c),y=m*u+(1-m)*l,w=[f?o[0]:y-p/2,h?o[1]:y+p/2];s.domain(w),Q(this,se,Lr).call(this,"domain")}}),s.domain(r),Q(this,se,Lr).call(this,"domain")}else s.domain(r),i==null||i.requestRender(),Q(this,se,Lr).call(this,"domain")}resetZoom(){if(!Q(this,se,Ns).call(this))throw new Error("Not a zoomable scale!");const t=this.getDomain(),n=Q(this,se,yh).call(this);return[0,1].some(r=>n[r]!=t[r])?(z(this,nn).domain(n),Q(this,se,Lr).call(this,"domain"),!0):!1}getZoomLevel(){return this.isZoomable()?qc(z(this,Br))/qc(this.scale.domain()):1}getAxisLength(){if(this.channel!=="x"&&this.channel!=="y")throw new Error("Axis length is only defined for x and y channels!");const t=this.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return t.length?t.reduce((n,r)=>Math.min(n,r),1e4):0}getGenome(){var n;if(this.type!=="locus")return;const t=(n=z(this,se,gm).genomeStore)==null?void 0:n.getGenome();if(!t)throw new Error("No genome has been defined!");return t}invertToComplex(t){const n=this.scale;if("invert"in n){const r=n.invert(t);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(t){const n=this.getGenome();return n?n.toChromosomal(t):t}fromComplex(t){return zx(t)?this.getGenome().toContinuous(t.chrom,t.pos):t}fromComplexInterval(t){return this.type==="locus"&&A5(t)?this.getGenome().toContinuousInterval(t):t}}Br=new WeakMap,Jo=new WeakMap,nn=new WeakMap,Ac=new WeakMap,se=new WeakSet,pm=function(){return this.members[0].view},gm=function(){return z(this,se,pm).context},Lr=function(t){for(const n of z(this,Jo)[t].values())n({type:t,scaleResolution:this})},mm=function(){return!!Q(this,se,wm).call(this)},d3=function(){const t=z(this,nn);if(!t)return!1;const n=t.domain();return wt(t.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0},p3=function(){const t=this.members.map(n=>n.channelDef.scale).filter(n=>n!==void 0);return uf(t,"scale",["domain"])},bm=function(t=!1){const n=Q(this,se,p3).call(this);if(n===null||n.type=="null")return{type:"null"};const r={...Q(this,se,g3).call(this,this.type),...n};r.type||(r.type=I5(this.channel,this.type));const i=Q(this,se,yh).call(this,t);return i&&i.length>0?r.domain=i:ti(r.type)&&(r.domain=new Hx),!r.domain&&r.domainMid!==void 0&&(r.domain=[r.domainMin??0,r.domainMax??1]),this.channel=="y"&&ti(r.type)&&r.reverse==null&&(r.reverse=!0),r.range&&r.scheme&&delete r.scheme,!("zoom"in r)&&["index","locus"].includes(r.type)&&(r.zoom=!0),B5(r,this.channel),r},ym=function(){const t=z(this,nn).props,n=t.range;if(z(this,Ac).forEach(i=>i.invalidate()),!n||!yt(n))return;const r=(i,s)=>s?i.slice().reverse():i;if(n.some(Mt)){let i;const s=()=>{z(this,nn).range(r(i.map(o=>o()),t.reverse))};i=n.map(o=>{if(Mt(o)){const a=z(this,se,pm).paramMediator.createExpression(o.expr);return a.addListener(s),z(this,Ac).add(a),()=>a(null)}else return()=>o}),s()}else z(this,nn).range(r(n,t.reverse))},yh=function(t=!1){return Q(this,se,wm).call(this)??(this.type==Zx?this.getGenome().getExtent():t?this.getDataDomain():[])},wm=function(){const t=this.members.map(n=>n.channelDef).filter(n=>{var r;return(r=n.scale)==null?void 0:r.domain}).map(n=>$x(n.type,this.fromComplexInterval(n.scale.domain)));if(t.length>0)return t.reduce((n,r)=>n.extendAll(r))},Ns=function(){const t=this.scale.type;return wt(t)},xm=function(){const t=this.scale.props,n=t.zoom;if(D5(n)&&yt(n.extent))return this.fromComplexInterval(n.extent);if(n)return t.type=="locus"?this.getGenome().getExtent():z(this,nn).domain()},g3=function(t){const n=this.channel,r={};return Q(this,se,mm).call(this)&&(r.zero=!1),gl(n)?r.nice=!Q(this,se,mm).call(this):si(n)?r.scheme=t==Wx?"tableau10":t==qx?"blues":"viridis":rf(n)?r.range=n=="shape"?["circle","square","triangle-up","cross","diamond"]:[]:n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r};function I5(e,t){if(t==T5||t==Zx){if(Jw(e))return t;throw new Error(`${e} does not support ${t} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"],sample:["null",void 0,void 0]},i=["sample"].includes(e)?"null":n[e]?n[e][[Wx,qx,jx].indexOf(t)]:t==jx?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${e}" is not compatible with "${t}" data type. Use of a proper scale may be needed.`);return i}function B5(e,t){gl(t)&&e.type!=="ordinal"&&(e.range=[0,1]),t=="opacity"&&wt(e.type)&&(e.clamp=!0)}function D5(e){return Et(e)}function Y0(e){const t=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))t.add(i)}for(const r of zt(e)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.options.contributesToScaleDomain)break;n(i)}}t.forEach(r=>r.reconfigure())}function Q0(...e){for(const t of e)if(t!==void 0)return t}class F5{constructor(t){this.channel=t,this.members=[]}get scaleResolution(){var t;return(t=Ga(this.members))==null?void 0:t.view.getScaleResolution(this.channel)}addMember(t){const{view:n}=t,r=n.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error(`Shared axes must have a shared scale! Channel: ${this.channel}, existing views: [${this.members.map(i=>i.view.getPathString()).join(", ")}], new view: ${n.getPathString()}.`);this.members.push(t)}getAxisProps(){return lf(this,"axisProps",()=>{const t=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return t.length>0&&t.some(n=>n===null)?null:uf(t.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const t=s=>{var a;const o=BF(s.view,s.channel);if(!fn(o))return{member:s,explicitTitle:Q0("axis"in o?(a=o.axis)==null?void 0:a.title:void 0,o.title),implicitTitle:Q0(ii(o)?o.field:void 0,pl(o)?o.expr:void 0)}},n=this.members.map(t),r=n.filter(s=>{var o;if(nx(s.member.channel)&&!s.explicitTitle){const a=is(s.member.channel);return((o=n.find(c=>c.member.view==s.member.view&&c.member.channel==a))==null?void 0:o.explicitTitle)===void 0}return!0}),i=new Set(r.map(s=>Q0(s.explicitTitle,s.implicitTitle)).filter(Ge));return i.size?[...i].join(", "):null}}function Yx(e,t,{spacing:n,devicePixelRatio:r,offset:i,reverse:s}={}){n=n||0,i=i||0;let o=0,a=0;for(const p of e)o+=ff(p.px)+(X0(p)?0:n),a+=ff(p.grow);o-=n;const c=Math.max(0,t-o),l=r!==void 0?p=>Math.round(p*r)/r:p=>p,u=[],f=[],h=p=>{const m=u.length;if(!m)return;const y=(p?n:0)*(s?-1:1);d-=y;for(let w=0;w<m;w++)f.push({location:d+(w+1)/(m+1)*y,size:0});d+=y,u.length=0};let d=s?Math.max(t,o):0+i;if(e.length==1&&X0(e[0]))return[{location:d,size:0}];for(let p=0;p<e.length;p++){const m=e[p];if(X0(m))u.push(m);else{h(f.length>0);const y=ff(m.px)+(a?ff(m.grow)/a*c:0);s&&(d-=y),f.push({location:l(d),size:l(y)}),s?d-=n:d+=y+n}}return d+=s?n:-n,h(!1),f}function R5(e){let t=0,n=0;for(const r of e)t=Math.max(t,r.px??0),n=Math.max(n,r.grow??0);return{px:t,grow:n}}const am=class am{constructor(t,n){J(this,Ec);this.width=t,this.height=n}addPadding(t){return Q(this,Ec,vm).call(this,t.width,t.height)}subtractPadding(t){return Q(this,Ec,vm).call(this,-t.width,-t.height)}isGrowing(){return!!(this.width.grow||this.height.grow)}};Ec=new WeakSet,vm=function(t,n){return new am({px:(this.width.px??0)+t,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};let oi=am;const _l=Object.freeze({px:0,grow:0}),Qx=new oi(_l,_l);function X0(e){return!e.px&&!e.grow}function ff(e){return e||0}function M5(e){return e&&(Dt(e.px)||Dt(e.grow))}function Xx(e){if(ev(e))throw new Error("parseSizeDef does not accept step-based sizes.");if(M5(e))return e;if(Dt(e))return{px:e,grow:0};if(e==="container")return{px:0,grow:1};if(!e)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${e}`)}class kt{constructor(t,n,r,i){this.top=t||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(t){return t<=0?this:new kt(this.top+t,this.right+t,this.bottom+t,this.left+t)}add(t){return new kt(this.top+t.top,this.right+t.right,this.bottom+t.bottom,this.left+t.left)}subtract(t){return new kt(this.top-t.top,this.right-t.right,this.bottom-t.bottom,this.left-t.left)}union(t){return new kt(Math.max(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom),Math.max(this.left,t.left))}getHorizontal(){return new kt(0,this.right,0,this.left)}getVertical(){return new kt(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(t){return typeof t=="number"?this.createUniformPadding(t):t?this.createFromRecord(t):K0}static createFromRecord(t){return new kt(t.top,t.right,t.bottom,t.left)}static zero(){return K0}static createUniformPadding(t){return new kt(t,t,t,t)}}const K0=kt.createUniformPadding(0);Object.freeze(K0);function Cl(e,t){return!t||/^(data:|([A-Za-z]+:)?\/\/)/.test(e)||e.startsWith("/")?e:(t.endsWith("/")||(t+="/"),t+e)}function P5(e){if(!e)return e;if(/[?#]/.test(e))throw new Error(`Invalid base URL: ${e} - cannot contain query or hash.`);return e.endsWith("/")?e:e+"/"}const N5="VISIT_SKIP",Tl="VISIT_STOP",Kx=e=>e;class Jx{constructor(t,n,r,i,s,o={}){J(this,cr);J(this,ea,{});J(this,Sc,{});J(this,_c,{});J(this,Cc);J(this,Tc);Bt(this,"opacityFunction",Kx);Bt(this,"facetCoords",new hr([],JSON.stringify));var a;if(!t)throw new Error("View spec must be defined!");if(this.context=n,this.layoutParent=r,this.dataParent=i,this.name=t.name||s,this.spec=t,this.resolutions={scale:{},axis:{}},wx(this),this.options={blockEncodingInheritance:!1,contributesToScaleDomain:!0,...o},this.needsAxes={x:!1,y:!1},this.paramMediator=new EF(()=>{var c;return(c=this.dataParent)==null?void 0:c.paramMediator}),t.params)for(const c of t.params)this.paramMediator.registerParam(c);if(!((a=this.layoutParent)!=null&&a.options.layeredChildren)){const c=l=>this.paramMediator.findMediatorForParam(l)?void 0:this.paramMediator.allocateSetter(l,0);le(this,Tc,c("height")),le(this,Cc,c("width"))}}get coords(){return this.facetCoords.values().next().value}getPadding(){return this._cache("size/padding",()=>kt.createFromConfig(this.spec.padding))}getOverhang(){return kt.zero()}isScrollable(){return this.spec.viewportWidth!=null||this.spec.viewportHeight!=null}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?new oi(Q(this,cr,Uc).call(this,"width"),Q(this,cr,Uc).call(this,"height")):Qx)}getViewportSize(){if(!this.isScrollable())return this.getSize();if(!this.isConfiguredVisible())return Qx;const t=this.getSize();return new oi(Q(this,cr,Uc).call(this,"viewportWidth")??t.width,Q(this,cr,Uc).call(this,"viewportHeight")??t.height)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(t=>t.isConfiguredVisible())}getEffectiveOpacity(){var t;return this.opacityFunction(((t=this.layoutParent)==null?void 0:t.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(t=>t.name).reverse().join("/")}getLayoutAncestors(){return Q(this,cr,Am).call(this,"layoutParent")}getDataAncestors(){return Q(this,cr,Am).call(this,"dataParent")}handleBroadcast(t){for(const n of z(this,ea)[t.type]||[])n(t)}_addBroadcastHandler(t,n){let r=z(this,ea)[t];r||(r=[],z(this,ea)[t]=r),r.push(n)}handleInteractionEvent(t,n,r){const i=r?z(this,Sc):z(this,_c);for(const s of i[n.type]||[])s(t,n)}addInteractionEventListener(t,n,r){const i=r?z(this,Sc):z(this,_c);let s=i[t];s||(s=[],i[t]=s),s.push(n)}visit(t){try{const n=t(this);if(t.postOrder&&t.postOrder(this),n!==Tl)return n}catch(n){throw n.view=this,n}}getDescendants(){const t=[];return this.visit(n=>{t.push(n)}),t}configureViewOpacity(){(!this.opacityFunction||this.opacityFunction===Kx)&&(this.opacityFunction=O5(this))}onBeforeRender(){}render(t,n,r={}){var i,s;r.firstFacet&&this.facetCoords.clear(),this.facetCoords.set(r.facetId,r.clipRect?n.intersect(r.clipRect):n),(i=z(this,Cc))==null||i.call(this,n.width),(s=z(this,Tc))==null||s.call(this,n.height)}getEncoding(){const t=this.dataParent&&!this.options.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...t,...n};for(const[i,s]of Object.entries(r))s===null&&delete r[i];return r}getFacetAccessor(t){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(t){var r;const n=this.getEncoding().sample;return ii(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(t){const n=is(t);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(t){const n=is(t);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(t,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[t]}getConfiguredOrDefaultResolution(t,n){return this.getConfiguredResolution(t,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(t,n)}getDefaultResolution(t,n){return"independent"}getBaseUrl(){return El(()=>{var t;return(t=this.dataParent)==null?void 0:t.getBaseUrl()},P5(this.spec.baseUrl))}isPickingSupported(){return!0}getTitleText(){const t=this.spec.title;if(t)return Ge(t)?t:Mt(t.text)?this.paramMediator.evaluateAndGet(t.text.expr):t.text}_cache(t,n){return lf(this,t,n)}_invalidateCacheByPrefix(t,n="self"){switch(n){case"self":cf(this,t);break;case"ancestors":for(const r of this.getLayoutAncestors())cf(r,t);break;case"progeny":this.visit(r=>cf(r,t));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(t){}}ea=new WeakMap,Sc=new WeakMap,_c=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,cr=new WeakSet,Uc=function(t){var i;let n=this.spec[t];const r=t=="viewportWidth"||t=="viewportHeight";if(ev(n)){if(r)throw new os(`Cannot use step-based size with "${t}"!`,this);const s=n.step,o=(i=this.getScaleResolution(t=="width"?"x":"y"))==null?void 0:i.scale;if(o){let a=0;if(ti(o.type))a=o.domain().length;else if(["locus","index"].includes(o.type)){const l=o.domain();a=Ga(l)-l[0]}else throw new os(`Cannot use step-based size with "${o.type}" scale!`,this);const c=o;return a=g0(a,c.paddingInner(),c.paddingOuter()),{px:a*s,grow:0}}else throw new os("Cannot use 'step' size with missing scale!",this)}else return(n&&Xx(n))??(r?void 0:{px:0,grow:1})},Am=function(t){const n=[];let r=this;do n.push(r),r=r[t];while(r);return n};function L5(e){return"unitsPerPixel"in e}function O5(e){const t="opacity"in e.spec?e.spec.opacity:void 0;if(t!==void 0){if(Dt(t))return n=>n*t;if(L5(t)){const n=s=>{var a;const o=(a=e.getScaleResolution(s))==null?void 0:a.scale;if(["linear","index","locus"].includes(o==null?void 0:o.type))return o},r=t.channel?n(t.channel):n("x")??n("y");if(!r)throw new os("Cannot find a resolved quantitative scale for dynamic opacity!",e);const i=a0().domain(t.unitsPerPixel).range(t.values).clamp(!0);return s=>{const a=qc(r.domain())/1e3;return i(a)*s}}else if(Mt(t)){const n=e.paramMediator.createExpression(t.expr);return n.addListener(()=>e.context.animator.requestRender()),r=>n(null)*r}}return n=>n}const ev=e=>!!(e!=null&&e.step),z5={point:IR,rect:ER,rule:RR,link:UR,text:qR};class Kt extends Jx{constructor(n,r,i,s,o,a){super(n,r,i,s,o,a);J(this,ph);J(this,kc);this.spec=n;const c=z5[this.getMarkType()];if(c)this.mark=new c(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.resolve(),le(this,kc,this.paramMediator.allocateSetter("zoomLevel",1)),["x","y"].forEach(l=>{var u;return(u=this.getScaleResolution(l))==null?void 0:u.addEventListener("domain",()=>z(this,kc).call(this,Math.sqrt(this.getZoomLevel())))}),this.needsAxes={x:!0,y:!0},Q(this,ph,m3).call(this)}render(n,r,i={}){super.render(n,r,i),this.isConfiguredVisible()&&(n.pushView(this,r),n.renderMark(this.mark,i),n.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}getEncoding(){const n=super.getEncoding(),r=this.mark.getSupportedChannels();for(const i of Object.keys(n))r.includes(i)||delete n[i];return n}resolve(n){n||(this.resolve("scale"),this.resolve("axis"));const r=this.mark.encoding;for(const[i,s]of Object.entries(r)){if(!Xt(s))continue;const o=is(s.resolutionChannel??i);if(!ml(o)||n=="axis"&&!gl(o))continue;let a=this;for(;(a.getConfiguredOrDefaultResolution(o,n)=="forced"||a.dataParent&&["shared","excluded","forced"].includes(a.dataParent.getConfiguredOrDefaultResolution(o,n)))&&a.getConfiguredOrDefaultResolution(o,n)!="excluded";)a=a.dataParent;if(n=="axis"&&gl(i)&&Jw(o))a.resolutions[n][o]||(a.resolutions[n][o]=new F5(o)),a.resolutions[n][o].addMember({view:this,channel:i,channelDef:s});else if(n=="scale"&&ml(i)){if(!a.resolutions[n][o]){const l=new k5(o);a.resolutions[n][o]=l,l.addEventListener("range",u=>{var f;(f=this.context.glHelper)==null||f.createRangeTexture(u.scaleResolution,!0)})}const c=this.getLayoutAncestors().some(l=>!l.options.contributesToScaleDomain)||Xt(s)&&s.contributesToScaleDomain===!1?void 0:this.extractDataDomain.bind(this);a.resolutions[n][o].addMember({view:this,channel:i,channelDef:s,dataDomainSource:c})}}}getDataAccessor(n){var r;return(r=this.mark.encoders[n])==null?void 0:r.dataAccessor}getFacetAccessor(n){const r=this.getDataAccessor("sample");return r||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}extractDataDomain(n,r){var s;let i=$x(r);return(((s=this.mark.encoders[n])==null?void 0:s.accessors)??[]).filter(o=>o.scaleChannel).forEach(o=>{if(o.constant)i.extend(o({}));else{const a=this.getCollector();a!=null&&a.completed&&a.visitData(c=>i.extend(o(c)))}}),i}getZoomLevel(){const n=r=>{var i;return((i=this.getScaleResolution(r))==null?void 0:i.getZoomLevel())??1};return lo.map(n).reduce((r,i)=>r*i,1)}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0),n.target=this,!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return n=="x"?"shared":"independent"}}kc=new WeakMap,ph=new WeakSet,m3=function(){for(const[n,r]of this.paramMediator.paramConfigs){if(!("select"in r))continue;const i=Zw(r.select);if(M0(i)){let o=0;const a=this.paramMediator.getSetter(n),c=()=>{var f;const u=this.context.getCurrentHover();return((f=u==null?void 0:u.mark)==null?void 0:f.unitView)===this?u.datum:null},l=(u,f)=>{const h=f.uiEvent,d=c(),p=d?d[un]:0;let m;if(i.toggle)if(h.shiftKey){if(d){const w=this.paramMediator.getValue(n);m=yF(w,{toggle:[d]})}}else m=jw(d?[d]:null);else p!=o&&(o=p,m=$w(d));m!==void 0&&a(m)};this.addInteractionEventListener(["mouseover","pointerover"].includes(i.on)?"mousemove":"click",l)}}};function*J0(e,t=[]){for(const[n,r]of e.entries())if(r instanceof Map)for(const i of J0(r,[...t,n]))yield i;else yield[[...t,n],r]}const tv=2147483647,U5=nv([tv]);function nv(e){let t=0;for(let n=0,r=e.length;n<r;n++)t=Math.max(t,e[n]);return Math.floor(Math.log2(t)/4)+1}function G5(e){const t=nv(e);let n=Array.from({length:e.length},(s,o)=>o),r=new Array(e.length);const i=new Array(16);for(let s=0;s<t;s++){i.fill(0);const o=s*4,a=Math.pow(16,s),c=l=>{const u=e[n[l]];return s>=U5?u>tv?Math.floor(u/a)%16:0:u>>o&15};for(let l=0;l<e.length;l++)i[c(l)]++;for(let l=1;l<16;l++)i[l]+=i[l-1];for(let l=e.length-1;l>=0;l--)r[--i[c(l)]]=n[l];[n,r]=[r,n]}return n}class rv extends D0{constructor(n){super();J(this,rn);J(this,Dr,[]);J(this,Ic,Fe(un));J(this,Bs,[]);J(this,Ds);this.params=n??{type:"collect"},this.observers=[],this.facetBatches=new hr([],JSON.stringify),Q(this,rn,Em).call(this)}get behavior(){return B0}get label(){return"collect"}reset(){super.reset(),Q(this,rn,Em).call(this)}handle(n){z(this,Dr).push(n)}beginBatch(n){bF(n)&&(le(this,Dr,[]),this.facetBatches.set(zt(n.facetId),z(this,Dr)))}complete(){var s,o;le(this,Dr,[]);const n=(s=this.params)==null?void 0:s.sort,r=n?Pm(n.field,n.order):void 0,i=a=>{r&&a.sort(r)};if((o=this.params.groupby)!=null&&o.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const a=this.facetBatches.get(void 0),c=this.params.groupby.map(u=>Fe(u)),l=c.length>1?Xc(a,...c):H5(a,c[0]);this.facetBatches.clear();for(const[u,f]of J0(l))this.facetBatches.set(u,f)}for(const a of this.facetBatches.values())i(a);Q(this,rn,b3).call(this),Q(this,rn,Sm).call(this),super.complete();for(const a of this.observers)a(this)}repropagate(){for(const n of this.children)n.reset();Q(this,rn,Sm).call(this);for(const n of this.children)n.complete()}getData(){switch(Q(this,rn,_m).call(this),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const n=this.facetBatches;return{[Symbol.iterator]:function*(){for(const i of n.values())yield*i}}}}}visitData(n){Q(this,rn,_m).call(this);for(const r of this.facetBatches.values())for(let i=0;i<r.length;i++)n(r[i])}getItemCount(){let n=0;for(const r of this.facetBatches.values())n+=r.length;return n}findDatumByUniqueId(n){if(!z(this,Bs).length)return;const r=Hs(c=>c.start).right,i=z(this,Ic),s=Hs(c=>i(o(c))).left,o=c=>{const l=r(z(this,Ds),c),u=z(this,Ds)[l-1];return!u||c>=u.stop?void 0:this.facetBatches.get(u.facetId)[c-u.start]},a=s(z(this,Bs),n);if(a>=0){const c=o(z(this,Bs)[a]);if(c&&i(c)===n)return c}}}Dr=new WeakMap,Ic=new WeakMap,Bs=new WeakMap,Ds=new WeakMap,rn=new WeakSet,Em=function(){le(this,Dr,[]),this.facetBatches.clear(),this.facetBatches.set(void 0,z(this,Dr))},Sm=function(){if(this.children.length)for(const[n,r]of this.facetBatches.entries()){if(n){const i={type:"facet",facetId:n};for(const s of this.children)s.beginBatch(i)}for(let i=0,s=r.length;i<s;i++)this._propagate(r[i])}},_m=function(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")},b3=function(){var o;le(this,Ds,[]);const n=(o=this.facetBatches.values().next().value)==null?void 0:o[0];if(n==null||!(un in n))return;let r=0;const i=[],s=z(this,Ic);for(const[a,c]of this.facetBatches){z(this,Ds).push({start:r,stop:r+c.length,facetId:a}),r+=c.length;for(let l=0,u=c.length;l<u;l++)i.push(s(c[l]))}le(this,Bs,G5(i))};function H5(e,t){const n=new Map;for(let r=0,i=e.length;r<i;r++){const s=e[r],o=t(s);let a=n.get(o);a||(a=[],n.set(o,a)),a.push(s)}return n}class hf{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,n){let r=this.length++;for(;r>0;){const i=r-1>>1,s=this.values[i];if(n>=s)break;this.ids[r]=this.ids[i],this.values[r]=s,r=i}this.ids[r]=t,this.values[r]=n}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let s=0;for(;s<i;){let o=(s<<1)+1;const a=o+1;let c=this.ids[o],l=this.values[o];const u=this.values[a];if(a<this.length&&u<l&&(o=a,c=this.ids[a],l=u),l>=r)break;this.ids[s]=c,this.values[s]=l,s=o}this.ids[s]=n,this.values[s]=r}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class V5 extends lt{get behavior(){return Qn}constructor(t){super(t),this.params=t,this.startAccessor=Fe(t.start),this.endAccessor=Fe(t.end),this.chromAccessor=t.chrom?Fe(t.chrom):n=>{},this.weightAccessor=t.weight?Fe(t.weight):n=>1,this.as={coverage:t.as??"coverage",start:t.asStart??t.start,end:t.asEnd??t.end,chrom:t.asChrom??t.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new hf}reset(){super.reset(),this.initialize()}initialize(){const t=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,s=this.endAccessor,o=this.chromAccessor,a=this.weightAccessor;let c,l,u,f=0,h=NaN;const d=this.ends;d.clear();const p=w=>{this._propagate(w),c=null},m=(w,A,_)=>{if(w==A)return;let S=!1;c&&(c[t]===_?(c[n]=A,S=!0):c[t]!=0&&p(c)),S||(c=this.createSegment(w,A,_,u))},y=()=>{let w=0;for(;(w=d.peekValue())!==void 0;)m(h,w,f),h=w,f-=d.pop();h=NaN,c&&p(c)};this.handle=w=>{const A=i(w);let _=0;for(;(_=d.peekValue())!==void 0&&_<A;)m(h,_,f),h=_,f-=d.pop();if(r){let T=o(w);T!==l&&(y(),u=T,l=u)}isNaN(h)||m(h,A,f),h=A;const S=a(w);f+=S,d.push(S,s(w))},this.complete=()=>{y(),super.complete()},this.beginBatch=w=>{y(),l=null,super.beginBatch(w)}}}function $5(e,t,n=0,r=e.length){const i=new hf,s=r-n;let o;for(o=0;o<t&&o<s;o++)i.push(o,e[n+o]);for(;o<s;o++){const l=e[n+o];l>=i.peekValue()&&(i.push(o,l),i.pop())}const a=[];let c;for(;(c=i.pop())!==void 0;)a.push(n+c);return a.reverse()}class j5{constructor(t,n=-1/0,r=1/0){this.maxSize=t,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(t,n,r=0){if(t>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const s=this._findSlot(t,n,i);return s>=0?s:this._findSlot(t,n,this.upperChildren[r])}else return r}else return-1}reserve(t,n){if(n-t<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(t,n);if(r<0)return!1;const i=this.n++,s=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=t,this.lowerLimits[s]=n,this.upperLimits[s]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=s,!0}}class q5 extends lt{get behavior(){return B0}constructor(t,n){if(super(t),this.params=t,this._data=[],this.channel=t.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Fe(this.params.pos),this.posBisector=Hs(this.posAccessor),this.scoreAccessor=Fe(this.params.score),this.widthAccessor=Fe(this.params.width),this.laneAccessor=this.params.lane?Fe(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const t=this.posAccessor;this._data.sort((n,r)=>t(n)-t(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new j5(200));this.schedule(),super.complete()}_filterAndPropagate(){super.reset();const t=this.resolution.scale,n=this.resolution.getAxisLength();if(!n)return;for(const o of this.reservationMaps.values())o.reset();const r=t.domain(),s=$5(this._scores,70,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const o of s){const a=this._data[o],c=t(this.posAccessor(a))*n,l=this.widthAccessor(a)/2+this.padding;this.reservationMaps.get(this.laneAccessor(a)).reserve(c-l,c+l)&&this._propagate(a)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(t){this._data.push(t)}}class W5 extends lt{constructor(t,n){super(t,n),this.params=t,this.predicate=void 0}initialize(){let t="";if(Z5(this.params))t=this.params.expr;else if(Y5(this.params))t=qw(this.params);else throw new Error("Invalid filter params: "+JSON.stringify(this.params));this.predicate=this.paramMediator.createExpression(t),this.predicate.addListener(()=>this.repropagate())}handle(t){this.predicate(t)&&this._propagate(t)}}function Z5(e){return"expr"in e}function Y5(e){return"param"in e}class Q5 extends lt{get behavior(){return Qn}constructor(t){super(t),this.params=t;const n=t.index;if(t.fields){const r=zt(t.fields).map(s=>Fe(s)),i=zt(t.as||t.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=s=>{const o=r.map((c,l)=>c(s)??[]),a=o[0].length;for(let c=0;c<a;c++){const l=Object.assign({},s);for(let u=0;u<r.length;u++)l[i[u]]=c<o[u].length?o[u][c]:null;n&&(l[n]=c),this._propagate(l)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const s=Object.assign({},r[i]);n&&(s[n]=i),this._propagate(s)}}}}const X5=48;function*K5(e,t=","){const n=t.charCodeAt(0);let r=0;for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);s==n?(yield r,r=0):r=r*10+s-X5}yield r}class J5 extends lt{get behavior(){return Qn}constructor(t){super(t);const n=Fe(t.exons??"exons"),r=Fe(t.start??"start"),[i,s]=t.as||["exonStart","exonEnd"];this.handle=o=>{let a=r(o),c=a,l=!0;const u=n(o);for(const f of K5(u)){if(l)c=a+f;else{a=c+f;const h=Object.assign({},o);h[i]=c,h[s]=a,this._propagate(h)}l=!l}}}}class eM extends lt{get behavior(){return Qn}constructor(t){super(t);const n=zt(t.field).map(s=>Fe(s)),r=zt(t.separator),i=zt(t.as||t.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=s=>{if(n.some(c=>!c(s)))return;const o=n.map((c,l)=>c(s).split(r[l]));tM(o,s);const a=o[0].length;for(let c=0;c<a;c++){const l=Object.assign({},s);for(let u=0;u<n.length;u++)l[i[u]]=o[u][c];this._propagate(l)}}}}function tM(e,t){const n=e.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(t))}class nM extends lt{get behavior(){return ri}constructor(t,n){super(t,n),this.params=t,this.as=t.as,this.fn=void 0}initialize(){this.fn=this.paramMediator.createExpression(this.params.expr),this.fn.addListener(()=>this.repropagate())}handle(t){t[this.as]=this.fn(t),this._propagate(t)}}class iv extends lt{get behavior(){return ri}constructor(t,n){t={channel:"x",...t},super(t),this.params=t;const r=t.channel;if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const s=Fe(t.chrom),o=zt(t.pos).map(p=>Fe(p)),a=zt(t.as);if(o.length!=a.length)throw new Error('The number of "pos" and "as" elements must be equal!');const c=zt(t.offset);let l;if(c.length==0)l=new Array(o.length).fill(0);else if(c.length==1)l=new Array(o.length).fill(c[0]);else if(c.length==o.length)l=c;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(t.offset)}!`);const u=new Function("datum","chromOffset","posAccessors",a.map((p,m)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${m}](datum) - ${l[m]};`).join(`
`));let f,h=0;const d=p=>{if(p!==f){if(h=i.cumulativeChromPositions.get(p),h===void 0)return;f=p}return h};this.handle=p=>{const m=s(p),y=d(m);if(y===void 0)throw new Error(`Unknown chromosome/contig "${m}" in datum: ${JSON.stringify(p)}`);u(p,y,o),this._propagate(p)}}}const sv={pages:["Lato-Regular.png"],chars:[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class rM extends lt{get behavior(){return ri}constructor(t){super(t),this.params=t;const n=G0(sv),r=Fe(t.field),i=t.as,s=t.fontSize;this.handle=o=>{const a=r(o);a!==void 0?o[i]=n.measureWidth(a,s):o[i]=0,this._propagate(o)}}}const iM=65536;class sM extends lt{get behavior(){return ri}constructor(t){super(t),this.params=t}reset(){super.reset(),this.initialize()}initialize(){const t=this.params,n=t.as||"lane",r=Dt(t.spacing)?t.spacing:1,i=Fe(t.start),s=Fe(t.end);if(!t.preference!=!t.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(t.preference){const o=new Float64Array(iM),a=Fe(t.preference),c=t.preferredOrder;let l=1/0;this.handle=u=>{const f=i(u);f<l&&o.fill(-1/0),l=f;const h=c.indexOf(a(u));let d=-1;if(h>=0&&o[h]<f)d=h;else{const p=i(u);for(d=0;d<o.length&&!(o[d]<p);d++);if(d>=o.length)throw new Error("Out of lanes!")}o[d]=s(u)+r,u[n]=d,this._propagate(u)}}else{const o=new hf,a=new hf;let c=-1/0,l=0;this.handle=u=>{const f=i(u);for(;o.length&&(o.peekValue()<=f||f<c);){const d=o.pop();a.push(d,d)}c=f;let h=a.pop();h===void 0&&(h=l++),u[n]=h,this._propagate(u),o.push(h,s(u)+r)}}}}class oM extends lt{get behavior(){return Qn}constructor(t){if(super(t),this.params=t,t.as&&t.as.length!=t.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=t.fields.map(i=>Fe(i)),r=t.as?t.as:n.map(Os);this.handle=i=>{const s={};for(let o=0;o<n.length;o++)s[r[o]]=n[o](i);this._propagate(s)}}}class aM extends lt{get behavior(){return ri}constructor(t){super(t),this.params=t;const n=new RegExp(t.regex),r=typeof t.as=="string"?[t.as]:t.as,i=Fe(t.field);this.handle=s=>{const o=i(s);if(Ge(o)){const a=o.match(n);if(a){if(a.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let c=0;c<r.length;c++)s[r[c]]=a[c+1]}else if(t.skipInvalidInput)for(let c=0;c<r.length;c++)s[r[c]]=void 0;else throw new Error(`"${o}" does not match the given regex: ${n.toString()}`)}else if(!t.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof o}, field content: "${o}".`);this._propagate(s)}}}class lM extends lt{get behavior(){return Qn}constructor(t){super(t),this.params=t;const n=zt(t.columnRegex).map(h=>new RegExp(h)),r=zt(t.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=t.skipRegex?new RegExp(t.skipRegex):void 0,s=t.asKey||"sample";let o,a,c;const l=h=>{var y;const d=Object.keys(h);for(const w of n)if(!d.some(A=>w.test(A)))throw new Error(`No columns matching the regex ${w.toString()} found in the data!`);const p=new Map;for(const[w,A]of n.entries())for(const _ of d){const S=(y=A.exec(_))==null?void 0:y[1];if(S!==void 0){let T=p.get(S);T||(T=[],p.set(S,T)),T[w]=_}}o=[...p.entries()],a=d.filter(w=>!n.some(A=>A.test(w))&&!(i&&i.test(w)));const m=[...a.map(w=>JSON.stringify(w)+": datum["+JSON.stringify(w)+"]"),JSON.stringify(s)+": sampleId",...r.map((w,A)=>JSON.stringify(w)+`: datum[attrs[${A}]]`)];c=new Function("datum","sampleId","attrs",`return {
`+m.join(`,
`)+`
};`)},u=h=>{o||l(h);for(let d=0;d<o.length;d++){const[p,m]=o[d],y=c(h,p,m);this._propagate(y)}},f=h=>{l(h),u(h),this.handle=u};this.handle=f,this.beginBatch=h=>{Gw(h)&&(this.handle=f),super.beginBatch(h)}}}class cM extends lt{get behavior(){return ri}constructor(t){super(t),this.params=t,this.buffer=[]}reset(){this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,n=t.as||["y0","y1"],r=t.sort?Pm(t.sort.field,t.sort.order):void 0,i=t.field?Fe(t.field):()=>1,s=t.groupby.map(u=>Fe(u)),o=PC(this.buffer,u=>s.map(f=>f(u)).join()).map(u=>u[1]);let a=u=>!0;if(t.baseField){const u=Fe(t.baseField);a=f=>u(f)!==null}let c,l;switch(t.offset){case"normalize":c=(u,f)=>u/f,l=(u,f)=>_a(u,f);break;case"center":c=(u,f)=>u-f/2,l=(u,f)=>_a(u,f);break;case"information":{const u=Math.log2(t.cardinality??4);c=(f,h)=>f/h,l=(f,h)=>{const p=_a(f,A=>+!a(A)),m=_a(f,h),y=m-p;let w=0;for(let A=0;A<f.length;A++){const _=f[A];if(a(_)){const S=h(_)/y;w-=S*Math.log2(S)}}return y/(u-(w+0))*(y/m)}}break;default:c=(u,f)=>u,l=(u,f)=>1}for(const u of o){r&&u.sort(r);const f=l(u,i);let h=0;for(const d of u){const p=h+i(d);a(d)&&(d[n[0]]=c(h,f),d[n[1]]=c(p,f),this._propagate(d),h=p)}}super.complete()}}class uM extends lt{get behavior(){return Qn}constructor(t){super(t),this.params=t;const n=Fe(t.field??"sequence"),[r,i]=t.as??["pos","sequence"];this.handle=s=>{const o=Object.assign({},s,{[i]:"",[r]:0}),a=n(s);for(let c=0;c<a.length;c++){const l=Object.assign({},o);l[r]=c,l[i]=a.charAt(c),this._propagate(l)}}}}const ov={count:e=>e.length,valid:IC,sum:_a,min:Gh,max:Uh,mean:GC,median:HC,variance:BC};class fM extends lt{get behavior(){return Qn}constructor(t){if(super(t),this.params=t,this.buffer=[],this.ops=[],this.as=[],t.fields){if(t.fields.length!=t.ops.length)throw new Error("Fields and ops must have the same length!");if(t.as&&t.as.length!=t.ops.length)throw new Error('If "as" is defined, "fields" and "as" must have the same length!');t.fields.forEach((n,r)=>{const i=Fe(n),s=ov[t.ops[r]];this.ops.push(o=>s(o,i)),this.as.push(t.as?t.as[r]:`${t.ops[r]}_${t.fields[r]}`)})}else this.ops.push(n=>ov.count(n)),this.as.push("count")}reset(){super.reset(),this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,n=t==null?void 0:t.groupby;if((n==null?void 0:n.length)>0){const r=n.map(s=>Fe(s)),i=Xc(this.buffer,...r);for(const[s,o]of J0(i)){const a={};for(let c=0;c<n.length;c++)a[n[c]]=s[c];this.ops.forEach((c,l)=>{a[this.as[l]]=c(o)}),this._propagate(a)}}else{const r={};this.ops.forEach((i,s)=>{r[this.as[s]]=i(this.buffer)}),this._propagate(r)}super.complete()}}const hM={aggregate:fM,collect:rv,coverage:V5,filterScoredLabels:q5,filter:W5,flatten:Q5,flattenCompressedExons:J5,flattenDelimited:eM,flattenSequence:uM,formula:nM,identifier:F0,linearizeGenomicCoordinate:iv,measureText:rM,pileup:sM,project:oM,regexExtract:aM,regexFold:lM,sample:Tx,stack:cM};function dM(e,t){const n=hM[e.type];if(n)return new n(e,t);throw new Error("Unknown transform: "+e.type)}function av(e){if(!uv(e)&&!cv(e))return;const t={...e.format};if(t.type??(t.type=cv(e)&&gM(Qt(e.url))),t.parse??(t.parse="auto"),!t.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(e));return t}function pM(e){var t;return((t=nd(e))==null?void 0:t.responseType)??"text"}function gM(e){var t;if(Array.isArray(e)&&(e=e[0]),e)return(t=e.match(/\.(csv|tsv|json)/))==null?void 0:t[1]}const lv=e=>typeof e!="object"?mM:bM,mM=e=>({data:e}),bM=e=>e;function cv(e){return"url"in e}class fo extends D0{constructor(n){super();Bt(this,"view");this.view=n}get identifier(){}setLoadingStatus(n,r){this.view.context.setDataLoadingStatus(this.view,n,r)}get paramMediator(){return this.view.paramMediator}handle(n){throw new Error("Source does not handle incoming data!")}async load(){}repropagate(){this.load()}}function uv(e){return"values"in e}class yM extends fo{constructor(t,n){var r;if(super(n),this.params=t,typeof t.values=="string"&&!((r=t==null?void 0:t.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}get label(){return"inlineSource"}isTrivial(){const t=this.params.values,n=Array.isArray(t)?t[0]:t;return!!(n&&Object.keys(n).length==0&&n.constructor===Object)}loadSynchronously(){const t=this.params.values;let n=[],r=i=>i;if(Array.isArray(t))t.length>0&&(n=t,r=lv(t[0]));else if(typeof t=="object")n=[t];else if(typeof t=="string")n=q1(t,av(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function wM(e){return"url"in e}class xM extends fo{constructor(t,n){super(n),this.params=tf(n.paramMediator,t,()=>this.load()),this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}get label(){return"urlSource"}async load(){const t=Qt(this.params.url),n=Array.isArray(t)?t:[t],r=av(this.params),i=pM(r.type);if(n.length===0||!n[0]){this.reset(),this.complete();return}const s=async a=>{try{const c=El(this.baseUrl,a),l=await fetch(c);if(!l.ok)throw new Error(`${l.status} ${l.statusText}`);return typeof l[i]=="function"?l[i]():l.text()}catch(c){throw new Error(`Could not load data: ${a}. Reason: ${c.message}`)}},o=(a,c)=>{try{const l=q1(a,r);this.beginBatch({type:"file",url:c});for(const u of l)this._propagate(u)}catch(l){throw new Error(`Cannot parse: ${c}: ${l.message}`)}};this.setLoadingStatus("loading"),this.reset();try{await Promise.all(n.map(a=>s(a).then(o))),this.setLoadingStatus("complete")}catch(a){this.setLoadingStatus("error",a.message)}this.complete()}}function vM(e){return"sequence"in e}class AM extends fo{constructor(t,n){if(super(n),this.sequence=tf(n.paramMediator,t.sequence,()=>this.loadSynchronously()),!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}get label(){return"sequenceSource"}loadSynchronously(){const t=Qt(this.sequence.as)??"data",n=Qt(this.sequence.start)??0,r=Qt(this.sequence.step)??1,i=Qt(this.sequence.stop);this.reset(),this.beginBatch({type:"file"});for(let s=n;s<i;s+=r)this._propagate({[t]:s});this.complete()}async load(){this.loadSynchronously()}}class ep extends fo{constructor(n,r){super(n);Bt(this,"initializedPromise",Promise.resolve());if(r){if(r!=="x"&&r!=="y")throw new Error(`Invalid channel specified for the lazy data source: ${r}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the lazy data source. Must be either "x" or "y".');if(this.channel=r,this.scaleResolution=this.view.getScaleResolution(r),!this.scaleResolution){const s=[`The lazy data source cannot find a resolved scale for channel "${r}".`];throw this.view instanceof Kt||s.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(s.join(" "))}const i=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",i),this.view.context.addBroadcastListener("layoutComputed",i)}get genome(){return this.scaleResolution.getGenome()}onDomainChanged(n,r){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(n){this.reset(),this.beginBatch({type:"file"});for(const r of n)for(const i of r)this._propagate(i);this.complete(),Y0(this.view)}}class EM extends ep{constructor(n,r){const i={axis:{},...n};super(r,i.channel);Bt(this,"ticks",[]);this.params=n}get label(){return"axisTickSource"}async load(){this.ticks=null,this.onDomainChanged()}onDomainChanged(){const n=this.scaleResolution.scale,r=this.scaleResolution.getAxisLength(),i=this.params.axis,s=l=>25+60*Uw(100,700,l),o=Dt(i.tickCount)?i.tickCount:Math.round(r/s(r)),a=Ix(n,o,i.tickMinStep),c=i.values?Bx(n,i.values,a):YR(n,a);if(this.ticks==null||!hu(c,this.ticks)){this.ticks=c;const l=XR(n,o,i.format);this.publishData([c.map(u=>({value:u,label:l(u)}))])}}}class SM extends ep{constructor(t,n){super(n,t.channel)}get label(){return"axisGenomeSource"}async load(){this.publishData([this.genome.chromosomes])}}function df(e,t,n=!0){let r,i=o=>{};return function(...a){return new Promise((c,l)=>{const u=()=>{clearTimeout(r),i=f=>{},c(e(...a))};n&&i("debounced"),clearTimeout(r),i=l,r=window.setTimeout(u,typeof t=="function"?t():t)})}}class kl extends ep{constructor(){super(...arguments);J(this,ta,new AbortController);J(this,na,[0,0]);J(this,ra,[0,0]);J(this,Bc,0);Bt(this,"params")}setupDebouncing(n){const r=()=>Qt(n.debounce),i=n.debounceMode;if(i=="domain")this.onDomainChanged=df(this.onDomainChanged.bind(this),r,!1);else if(i=="window")this.loadInterval=df(this.loadInterval.bind(this),r,!1);else throw new Error("Invalid debounceMode: "+i)}onDomainChanged(n){var i;le(this,ra,n);const r=Qt((i=this.params)==null?void 0:i.windowSize)??-1;n[1]-n[0]>r||this.callIfWindowsChanged(n,r,async s=>{await this.initializedPromise,this.loadInterval(s)})}reloadLastDomain(){const n=z(this,ra);le(this,ra,[0,0]),le(this,na,[0,0]),this.onDomainChanged(n)}async loadInterval(n){}async discretizeAndLoad(n,r){z(this,ta).abort(),this.setLoadingStatus("loading"),le(this,ta,new AbortController);const i=z(this,ta).signal,s=this.genome.continuousToDiscreteChromosomeIntervals(n);try{const o=await Promise.all(s.map(async a=>r(a,i)));if(!i.aborted)return this.setLoadingStatus("complete"),o}catch(o){if(!i.aborted)throw this.setLoadingStatus("error",o.message),o}}callIfWindowsChanged(n,r,i){const s=[Math.max(Math.floor(n[0]/r)*r,0),Math.min(Math.ceil(n[1]/r)*r,this.genome.totalSize)],o=z(this,na);(r!==z(this,Bc)||s[0]<o[0]||s[1]>o[1])&&(le(this,na,s),le(this,Bc,r),i(s))}}ta=new WeakMap,na=new WeakMap,ra=new WeakMap,Bc=new WeakMap;class _M extends kl{constructor(t,n){const r={channel:"x",windowSize:7e3,debounce:200,debounceMode:"window",...t};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(i=>{Promise.all([Promise.resolve().then(()=>zv),Promise.resolve().then(()=>_L),Promise.resolve().then(()=>Fl)]).then(([{Buffer:s},{IndexedFasta:o},{RemoteFile:a}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=s));const c=l=>new a(Cl(l,this.view.getBaseUrl()));this.fasta=new o({fasta:c(this.params.url),fai:c(this.params.indexUrl??this.params.url+".fai")}),i()})})}get label(){return"bigWigSource"}async loadInterval(t){const n=await this.discretizeAndLoad(t,async(r,i)=>this.fasta.getSequence(r.chrom,r.startPos,r.endPos,{signal:i}).then(s=>({chrom:r.chrom,start:r.startPos,sequence:s})));n&&this.publishData([n])}}class CM extends kl{constructor(n,r){const i={pixelsPerBin:2,channel:"x",debounce:200,debounceMode:"window",...n},s=tf(r.paramMediator,i,o=>{o.includes("url")?Q(this,Dc,Cm).call(this).then(()=>this.reloadLastDomain()):o.includes("pixelsPerBin")&&this.reloadLastDomain()});super(r,s.channel);J(this,Dc);J(this,ia,[]);J(this,sa);if(this.params=s,!this.params.url)throw new Error("No URL provided for BigWigSource");this.setupDebouncing(this.params),Q(this,Dc,Cm).call(this)}get label(){return"bigWigSource"}async onDomainChanged(n){await this.initializedPromise;const r=this.scaleResolution.getAxisLength()||700,i=TM(n,r,z(this,ia)),s=Math.max(i*r,5e3);this.callIfWindowsChanged(n,s,o=>this.loadInterval(o,i))}async loadInterval(n,r){const i=.5/r/Qt(this.params.pixelsPerBin),s=await this.discretizeAndLoad(n,(o,a)=>z(this,sa).getFeatures(o.chrom,o.startPos,o.endPos,{scale:i,signal:a}).then(c=>c.map(l=>({chrom:o.chrom,start:l.start,end:l.end,score:l.score}))));s&&this.publishData(s)}}ia=new WeakMap,sa=new WeakMap,Dc=new WeakSet,Cm=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>FS),Promise.resolve().then(()=>Fl)]).then(([{BigWig:i},{RemoteFile:s}])=>{le(this,sa,new i({filehandle:new s(Cl(Qt(this.params.url),this.view.getBaseUrl()))})),this.setLoadingStatus("loading"),z(this,sa).getHeader().then(o=>{le(this,ia,o.zoomLevels.map(a=>a.reductionLevel).reverse()),z(this,ia).push(1),this.setLoadingStatus("complete"),n()}).catch(o=>{this.load(),this.setLoadingStatus("error",`${Qt(this.params.url)}: ${o.message}`),r(o)})})}),this.initializedPromise};function TM(e,t,n){const r=(e[1]-e[0])/t;return n.find(i=>i<r)??n.at(-1)}class kM extends kl{constructor(n,r){const i={channel:"x",windowSize:1e6,debounce:200,debounceMode:"window",...n},s=tf(r.paramMediator,i,o=>{o.includes("url")?Q(this,Fc,Tm).call(this).then(()=>this.reloadLastDomain()):o.includes("windowSize")&&this.reloadLastDomain()});super(r,s.channel);J(this,Fc);Bt(this,"parser");Bt(this,"bbi");Bt(this,"parseLine");if(this.params=s,!this.params.url)throw new Error("No URL provided for BigBedSource");this.setupDebouncing(this.params),Q(this,Fc,Tm).call(this)}get label(){return"bigBedSource"}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,s)=>this.bbi.getFeatures(i.chrom,i.startPos,i.endPos,{signal:s}).then(o=>o.map(a=>this.parseLine(i.chrom,a))));r&&this.publishData(r)}}Fc=new WeakSet,Tm=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>iU),Promise.resolve().then(()=>FS),Promise.resolve().then(()=>Fl)]).then(([i,{BigBed:s},{RemoteFile:o}])=>{const a=i.default;this.bbi=new s({filehandle:new o(Cl(Qt(this.params.url),this.view.getBaseUrl()))}),this.setLoadingStatus("loading"),this.bbi.getHeader().then(async c=>{this.parser=new a({autoSql:c.autoSql});try{const l=IM(this.parser);this.parseLine=(u,f)=>l(u,f.start,f.end,f.rest)}catch{this.parseLine=(u,f)=>this.parser.parseLine(`${u}	${f.start}	${f.end}	${f.rest}`)}this.setLoadingStatus("complete"),n()}).catch(c=>{this.load(),this.setLoadingStatus("error",`${Qt(this.params.url)}: ${c.message}`),r(c)})})}),this.initializedPromise};function IM(e){const t=e.autoSql.fields.filter(A=>A.type).slice(3);let n=0,r="",i=0,s={};const o="	",a=o.charCodeAt(0),c=48,l=45;function u(){let A=r.indexOf(o,n);A<0&&(A=i);const _=r.substring(n,A);return n=A+1,_}function f(){let A=0,_=r.charCodeAt(n),S=1;_===l&&(S=-1,n++,_=r.charCodeAt(n));do{if(_===a){n++;break}A=A*10+_-c,_=r.charCodeAt(++n)}while(n<i);return A*S}const h=t.map(A=>`${JSON.stringify(A.name)}: ${A.isNumeric?"0":"emptyString"}`),d=new Function(`
        const emptyString = "";
        return function makeTemplate(chrom, chromStart, chromEnd) {
            return {
                chrom,
                chromStart,
                chromEnd,
                ${h.join(`,
`)}
            }
        };`)(),p=t.map(A=>{const _=A.type,S=JSON.stringify(A.name);if(["ubyte","int","uint"].includes(_))return`d[${S}] = parseInt();`;if(A.isNumeric)return`d[${S}] = Number(parseString());`;if(["char","string","lstring"].includes(_))return`d[${S}] = parseString();`;throw new Error("Unsupported type: "+_)}),m=BM(p,50).map((A,_)=>Function("parseInt","parseString",`return function parseFieldChunk${_}(d) {
            ${A.join(`
`)}
        }`)(f,u));function y(A){r=A,i=A.length,n=0}function w(A,_,S,T){y(T),s=d(A,_,S);for(const B of m)B(s);return s}return w}function BM(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}class DM extends kl{constructor(n,r){const i={channel:"x",windowSize:2e4,debounce:200,debounceMode:"domain",...n};super(r,i.channel);J(this,Fs);Bt(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(s=>{Promise.all([Promise.resolve().then(()=>SU),Promise.resolve().then(()=>Fl)]).then(([{BamFile:o},{RemoteFile:a}])=>{const c=l=>new a(Cl(l,this.view.getBaseUrl()));le(this,Fs,new o({bamFilehandle:c(this.params.url),baiFilehandle:c(this.params.indexUrl??this.params.url+".bai")})),z(this,Fs).getHeader().then(l=>{var h,d;const u=this.genome.hasChrPrefix(),f=(d=(h=z(this,Fs).indexToChr)==null?void 0:h[0])==null?void 0:d.refName.startsWith("chr");u&&!f?this.chrPrefixFixer=p=>p.replace("chr",""):!u&&f&&(this.chrPrefixFixer=p=>"chr"+p),s()})})})}get label(){return"bamSource"}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,s)=>z(this,Fs).getRecordsForRange(this.chrPrefixFixer(i.chrom),i.startPos,i.endPos,{signal:s}).then(o=>o.map(a=>({chrom:i.chrom,start:a.get("start"),end:a.get("end"),name:a.get("name"),MD:a.get("MD"),cigar:a.get("cigar"),mapq:a.get("mq"),strand:a.get("strand")===1?"+":"-"}))));r&&this.publishData(r)}}Fs=new WeakMap;class FM extends kl{constructor(n,r){const i={channel:"x",windowSize:3e6,debounce:200,debounceMode:"domain",...n};super(r,i.channel);J(this,Rc);if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(s=>{Promise.all([Promise.resolve().then(()=>zv),Promise.resolve().then(()=>MU),Promise.resolve().then(()=>Fl)]).then(([{Buffer:o},{TabixIndexedFile:a},{RemoteFile:c}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=o));const l=u=>new c(Cl(u,this.view.getBaseUrl()));le(this,Rc,new a({filehandle:l(this.params.url),tbiFilehandle:l(this.params.indexUrl??this.params.url+".tbi")})),s()})})}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,s)=>{const o=[];return await z(this,Rc).getLines(i.chrom,i.startPos,i.endPos,{lineCallback:a=>{o.push(a)},signal:s}),this._parseFeatures(o)});r&&this.publishData(r)}_parseFeatures(n){return[]}}Rc=new WeakMap;class RM extends FM{constructor(n,r){super(n,r);J(this,Mc);Promise.resolve().then(()=>yG).then(i=>{le(this,Mc,i.default)})}get label(){return"gff3Source"}_parseFeatures(n){var i;return(i=z(this,Mc))==null?void 0:i.parseStringSync(n.join(`
`),{parseSequences:!1})}}Mc=new WeakMap;function MM(e,t){if(uv(e))return new yM(e,t);if(wM(e))return new xM(e,t);if(vM(e))return new AM(e,t);if(PM(e))return VM(e.lazy,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function PM(e){return"lazy"in e}function NM(e){return(e==null?void 0:e.type)=="axisTicks"}function LM(e){return(e==null?void 0:e.type)=="axisGenome"}function OM(e){return(e==null?void 0:e.type)=="indexedFasta"}function zM(e){return(e==null?void 0:e.type)=="bigwig"}function UM(e){return(e==null?void 0:e.type)=="bigbed"}function GM(e){return(e==null?void 0:e.type)=="bam"}function HM(e){return(e==null?void 0:e.type)=="gff3"}function VM(e,t){if(NM(e))return new EM(e,t);if(LM(e))return new SM(e,t);if(OM(e))return new _M(e,t);if(zM(e))return new CM(e,t);if(UM(e))return new kM(e,t);if(GM(e))return new DM(e,t);if(HM(e))return new RM(e,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function $M(e){const t=fv(e).filter(r=>typeof r=="string"),n=new Function("source","return { "+t.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=t,n}function fv(e){let t=[];do t=t.concat(Object.keys(e)),e=Object.getPrototypeOf(e);while(e&&e!==Object.prototype);return Array.from(new Set(t))}class pf extends lt{constructor(){super({type:"clone"});J(this,oa);J(this,Pc,n=>n);const n=r=>{const i=fv(r);(!z(this,oa)||!hu(i,z(this,oa)))&&(le(this,oa,i),le(this,Pc,$M(r)));const s=z(this,Pc);this.handle=o=>this._propagate(s(o)),this.handle(r)};this.handle=n,this.beginBatch=r=>{Gw(r)&&(this.handle=n),super.beginBatch(r)}}get behavior(){return Qn}}oa=new WeakMap,Pc=new WeakMap;function jM(e){return"name"in e}class hv extends fo{constructor(n,r,i){super(r);J(this,Nc);this.provider=i,this.params=n}get identifier(){return this.params.name}get label(){return"namedSource"}updateDynamicData(n){le(this,Nc,n),this.loadSynchronously()}loadSynchronously(){const n=z(this,Nc)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=lv(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}Nc=new WeakMap;class dv{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(t,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(t)}_relayObserverCallback(t,n){const r=this._observers.get(n);if(r)for(const i of r)i(t)}addDataSource(t,n){this._dataSourcesByHost.set(n,t)}findDataSourceByKey(t){return this._dataSourcesByHost.get(t)}findNamedDataSource(t){let n,r=[];for(const[i,s]of this._dataSourcesByHost.entries())if(s instanceof hv&&t==s.identifier){if(n&&n!==s)throw new Error(`Found multiple instances of named data: ${t}. Data flow optimization is broken (it's a bug).`);n=s,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(t,n){this._collectorsByHost.set(n,t),t.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(t){return this._collectorsByHost.get(t)}initialize(){for(const t of this.dataSources)t.visit(n=>n.initialize())}}function qM(e,t){const n=new Map,r=[];for(const i of e)n.set(i,{ref:i,children:[]});for(const i of n.values()){const s=n.get(t(i.ref));s?s.children.push(i):r.push(i)}return r}function pv(e,t,n){var i,s;const r=(i=t.preOrder)==null?void 0:i.call(t,e);if(r)return r;for(const o of n(e)){const a=pv(o,t,n);if(a==="stop")return a}return(s=t.postOrder)==null?void 0:s.call(t,e)}function WM(e,t){return pv(e,t,n=>n.children)}function ZM(e,t){const n=[],r=[];let i;const s=t??new dv,o=[];function a(d,p=()=>{}){if(!i)throw p()||new Error("Cannot append data flow node, no parent exist!");return i.addChild(d),i=d,n.push(d),d}function c(d,p){return a(d,()=>new Error("Cannot append a transform because no (inherited) data are available! "))}function l(d,p){for(const m of d){let y;try{y=dM(m,p)}catch(w){throw console.warn(w),new Error(`Cannot initialize "${m.type}" transform: ${w}`)}y.behavior&ri&&c(new pf),c(y)}}function u(){return n.findLastIndex(d=>d instanceof F0)>n.findLastIndex(d=>d instanceof fo)}const f=d=>{if(d.spec.data){const p=jM(d.spec.data)?new hv(d.spec.data,d,d.context.getNamedDataFromProvider):MM(d.spec.data,d);i=p,n.push(p),s.addDataSource(p,d)}if(d.spec.transform&&l(d.spec.transform,d),d instanceof Kt){if(!i)throw new Error(`A unit view (${d.getPathString()}) has no (inherited) data source`);const p=YM(d);if(p){o.push(p.rewrite);for(const y of p.transforms)c(y)}d.mark.isPickingParticipant()&&!u()&&(c(new pf),c(new F0({type:"identifier"})));const m=new rv({type:"collect",groupby:d.getFacetFields(),sort:QM(d,p==null?void 0:p.rewrittenEncoding)});a(m),s.addCollector(m,d)}},h=qM(e.getDescendants(),d=>d.dataParent);for(const d of h)WM(d,{preOrder:p=>{r.push({view:p.ref,nodeStackDepth:n.length}),f(p.ref)},postOrder:()=>{const{nodeStackDepth:p}=r.pop();n.length=p,i=n.at(-1)}});return o.forEach(d=>d()),s}function YM(e){var s;const t=[],n={},r=[];for(const[o,a]of Object.entries(e.getEncoding())){const c=o;gl(c)&&Kw(a)&&r.push({channel:c,chromPosDef:a})}const i=Xc(r,o=>is(o.channel),o=>o.chromPosDef.chrom);for(const[o,a]of i.entries())for(const[c,l]of a.entries()){const u=[],f=[],h=[];for(const{channel:d,chromPosDef:p}of l){const m=A=>A.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",m(p.chrom),"_",m(p.pos)].join(""),w={...((s=e.spec.encoding)==null?void 0:s[d])??e.getEncoding()[d]??{},field:y};delete w.chrom,delete w.pos,!w.type&&p.type&&(w.type=p.type),n[d]=w,u.push(p.pos),h.push(p.offset??0),f.push(y)}t.push(new pf),t.push(new iv({type:"linearizeGenomicCoordinate",channel:o,chrom:c,pos:u,offset:h,as:f},e))}return t.length?{transforms:t,rewrittenEncoding:n,rewrite:()=>{e.spec.encoding={...e.spec.encoding,...n},dR(e.mark,"encoding")}}:void 0}function QM(e,t){var r;const n={...e.getEncoding(),...t}.x;if(Xt(n)&&(r=e.getScaleResolution("x"))!=null&&r.isZoomable()){if(ii(n))return"buildIndex"in n&&n.buildIndex?{field:n.field}:null;if(!dl(n)){if(pl(n))throw new Error("A zoomable x channel must be mapped to a field.")}}}function gv(e,t=void 0){if(e.parent!==t)return!1;for(const n of e.children)if(!gv(n,e))return!1;return!0}function tp(e,t=!1){if(e.behavior&B0&&(t=!0),e instanceof pf)if(t)t=!1;else{const n=e.children[0];e.excise(),n&&tp(n,t);return}e.behavior&Qn&&(t=!1);for(let n=0,r=e.children.length;n<r;n++)tp(e.children[n],t||r>1)}function XM(e){const t=[...e._dataSourcesByHost.entries()],n=new Map;for(const r of t){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}e._dataSourcesByHost.clear();for(let[r,i]of t){const s=n.get(i.identifier);s&&(s.adoptChildrenOf(i),i=s),e.addDataSource(i,r)}}function KM(e){if(tp(e),!gv(e))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function JM(e){XM(e);for(const t of e.dataSources)KM(t)}function eP(e){const t=new Set;e.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&t.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);t.add(i)}})}function tP(e){for(const t of lo){const n=e.getScaleResolution(t);n&&!n.name&&n.isZoomable()&&(n.name=`${t}_at_root`)}}async function nP(e,t,n){const r=e.import;if(!("url"in r))throw new Error("Not an url import: "+JSON.stringify(r));const i=El(t,r.url);let s;try{const o=await fetch(i);if(!o.ok)throw new Error(`${o.status} ${o.statusText}`);s=await o.json()}catch(o){throw new Error(`Could not load imported view spec: ${i}. Reason: ${o.message}`)}if(n.isViewSpec(s))return s.baseUrl=El(Ox(r.url),s.baseUrl),s;throw new Error(`The imported spec "${i}" is not a view spec: ${JSON.stringify(e)}`)}function rP(e){const t=e.getSize(),n=e.getPadding(),r=(i,s)=>i.grow>0?void 0:i.px+s;return{width:r(t.width,n.horizontalTotal),height:r(t.height,n.verticalTotal)}}function vr(e){return()=>e}const On=class On{static create(t,n,r,i){return new On(vr(t),vr(n),vr(r),vr(i))}_offset(t,n){const r=this["_"+t];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(t){return this._offset(t,0)}constructor(t,n,r,i){this._x=t,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(t){return t?this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1}modify(t){if(!Object.keys(t).length)return this;const n=r=>{const i=t[r];return typeof i=="number"?vr(i):typeof i=="function"?i:this._passThrough(r)};return new On(n("x"),n("y"),n("width"),n("height"))}translate(t,n){return t===0&&n===0?this:new On(this._offset("x",t),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(t){return this.translate(t.x,t.y)}expand(t,n=1){return t.left==0&&t.top==0&&t.right==0&&t.bottom==0?this:new On(t.left?this._offset("x",-t.left*n):this._passThrough("x"),t.top?this._offset("y",-t.top*n):this._passThrough("y"),t.width?this._offset("width",t.width*n):this._passThrough("width"),t.height?this._offset("height",t.height*n):this._passThrough("height"))}shrink(t){return this.expand(t,-1)}intersect(t){return this===t||t==null?this:new On(()=>Math.max(this.x,t.x),()=>Math.max(this.y,t.y),()=>Math.min(this.x2,t.x2)-Math.max(this.x,t.x),()=>Math.min(this.y2,t.y2)-Math.max(this.y,t.y))}union(t){return this===t||t==null?this:new On(()=>Math.min(this.x,t.x),()=>Math.min(this.y,t.y),()=>Math.max(this.x2,t.x2)-Math.min(this.x,t.x),()=>Math.max(this.y2,t.y2)-Math.min(this.y,t.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new On(vr(this.x),vr(this.y),vr(this.width),vr(this.height))}containsPoint(t,n){return t>=this.x&&t<this.x2&&n>=this.y&&n<this.y2}normalizePoint(t,n){return{x:(t-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};Bt(On,"ZERO",On.create(0,0,0,0));let Ar=On;class mv{constructor(t){this.globalOptions=t}pushView(t,n){}popView(t){}renderMark(t,n){}}class bv extends mv{constructor(t,n){super(t),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(t,n){this.views.add(t),this.coords=n}renderMark(t,n){if(this.globalOptions.picking&&!t.isPickingParticipant())return;const r=t.render(n);r&&this.buffer.push({mark:t,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const t=this.webGLHelper.gl,n=this.globalOptions.picking;t.bindFramebuffer(t.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&t.bindFramebuffer(t.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let t=!0,n=!0;const r=o=>()=>{t&&o()},i=o=>()=>{t&&n&&o()},s=Xc(this.buffer.reverse(),o=>o.mark);for(const[o,a]of[...s.entries()].reverse()){if(!o.isReady())continue;this.batch.push(()=>{t=o.unitView.getEffectiveOpacity()>0}),this.batch.push(...o.prepareRender(this.globalOptions).map(l=>r(l)));let c;for(const l of a){const u=l.coords;u.equals(c)||this.batch.push(r(()=>{n=o.setViewport(u,l.clipRect)})),this.batch.push(i(l.callback)),c=l.coords}}}}class iP extends mv{constructor(...t){super({}),this.contexts=t}pushView(t,n){for(const r of this.contexts)r.pushView(t,n)}popView(t){for(const n of this.contexts)n.popView(t)}renderMark(t,n){for(const r of this.contexts)r.renderMark(t,n)}}class sP{constructor(t,n){this.point=t,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class Xn{static fromMouseEvent(t){return new Xn(t.clientX,t.clientY)}constructor(t,n){this.x=t,this.y=n}subtract(t){return new Xn(this.x-t.x,this.y-t.y)}add(t){return new Xn(this.x-t.x,this.y-t.y)}multiply(t){return new Xn(this.x*t,this.y*t)}get length(){return Math.sqrt(this.x**2+this.y**2)}equals(t){return t?t===this||t.x===this.x&&t.y===this.y:!1}}const oP=e=>new Promise(t=>setTimeout(t,e));function aP(e){const t=e.requestAnimationFrame||window.requestAnimationFrame,n=e.signal,r=()=>new Promise((i,s)=>{if(n!=null&&n.aborted)return s("aborted");const o=performance.now(),a=o+(e.duration||1e3),c=typeof e.from=="number"?e.from:0,l=typeof e.to=="number"?e.to:1,u=e.easingFunction||(m=>m),f=m=>(m-o)/(a-o),h=m=>m*(l-c)+c,d=m=>Math.max(0,Math.min(1,m)),p=m=>{n!=null&&n.aborted?s("aborted"):(e.onUpdate(h(u(d(f(m))))),m<a?t(p):(e.onUpdate(h(u(1))),i()))};t(p)});return e.delay?n!=null&&n.aborted?Promise.reject("aborted"):oP(e.delay).then(r):r()}class lP{constructor(t){this._renderCallback=t,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(t){this.cancelTransition(t),this.transitions.push(t),this.requestRender()}cancelTransition(t){const n=this.transitions.indexOf(t);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(t=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(t);this._renderCallback(t)}))}transition(t){return aP({requestAnimationFrame:n=>this.requestTransition(n),...t})}}function np(e,t,n,r,i){let s=0,o=!0,a=structuredClone(i),c=a;function l(h,d,p,m){return d+(h-d)*Math.pow(2,-p/m)}function u(h){if(o)return;const d=h-s;s=h;for(const m of Object.keys(c))a[m]=l(a[m],c[m],d,n);t(a);let p=-1/0;for(const m of Object.keys(c))p=Math.max(p,Math.abs(c[m]-a[m]));p<r?(a=c,t(a),o=!0,p!=0&&e.requestRender()):e.requestTransition(m=>u(m))}function f(h){c=h,o&&(o=!1,s=+document.timeline.currentTime,u(s))}return f.stop=()=>{o=!0},f}class cP{constructor(t){this.genomes=new Map,this.baseUrl=t}async initialize(t){const n=new x5(t);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(t){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(t){const n=this.genomes.get(t);if(!n)throw new Error(`No genome with the name ${t} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const uP="data:image/png;base64,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",fP={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class hP{constructor(t){this._webGLHelper=t,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new hr([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:G0(sv),texture:t?this._createTextureNow(uP):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(t,n="normal",r="regular"){if(Ge(r)&&(r=fP[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:t,style:n,weight:r};let s=this._fonts.get(i);return s||(s={metrics:void 0,texture:void 0},this._fonts.set(i,s),this._promises.push(this._loadFontEntry(s,i))),s}async _loadFontEntry(t,n){try{const r=await this._loadMetadata(n.family),i=pP(r,n),s=this.fontRepository+yv(n.family)+"/"+i.replace(/\.\w+/,""),o=this._createTexture(s+".png"),a=this._loadFont(s+".json");t.texture=await o,t.metrics=await a}catch{console.warn(`Cannot load font: "${n.family}". Using the embedded default font.`),t.metrics=this._defaultFontEntry.metrics,t.texture=this._defaultFontEntry.texture}}_loadFont(t){let n=this._fontPromises.get(t);return n||(n=fetch(t).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>G0(r)),this._fontPromises.set(t,n)),n}_loadMetadata(t){const n=yv(t);let r=this._metadataPromises.get(n);if(!r){const i=this.fontRepository+n+"/METADATA.pb";r=fetch(i).then(s=>{if(!s.ok)throw new Error("Could not load font metadata. Response status: "+s.status+", url: "+i);return s}).then(s=>s.text()).then(s=>dP(s)).catch(s=>{console.warn(s.message)}),this._metadataPromises.set(n,r)}return r}getDefaultFont(){return this._defaultFontEntry}_createTexture(t){const n=this._webGLHelper.gl;return new Promise((r,i)=>{Za(n,{src:t,min:n.LINEAR},(s,o,a)=>{s?i(s):r(o)})})}_createTextureNow(t){const n=this._webGLHelper.gl;let r;const i=new Promise((s,o)=>{r=Za(n,{src:t,min:n.LINEAR},(a,c,l)=>{a?o(a):s(c)})});return this._promises.push(i),r}}function yv(e){return e.toLowerCase().replaceAll(/[^\w]/g,"")}function dP(e){const t=e.split(`
`),n=[];let r;for(const i of t)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let s=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(s){const o=s[1];r[o]=s[2]}if(s=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),s){const o=s[1];r[o]=+s[2]}}return n}function pP(e,t){let n,r=Number.POSITIVE_INFINITY;for(const i of e)if(t.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&t.style==i.style){const s=Math.abs(t.weight-i.weight);s<r&&(r=s,n=i)}return n==null?void 0:n.filename}function gP(e,t){const n=[];let r;for(const i of e.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class mP{constructor(t,n){this.animator=t,this.disabled=!!n,this.maxDistance=500,this.callback=null,this.targetValue=0,this.lastValue=0,this.smoother=np(t,r=>{var s;const i=r.x-this.lastValue;this.lastValue=r.x,(s=this.callback)==null||s.call(this,i)},40,.1,{x:0})}cancel(){this.lastValue!==this.targetValue&&(this.targetValue=Lm([this.lastValue,this.targetValue],.3),this.smoother({x:this.targetValue}))}setMomentum(t,n){if(this.disabled){n(t);return}this.callback=n;const r=ao(this.targetValue+t-this.lastValue,-this.maxDistance,this.maxDistance);this.targetValue=this.lastValue+r,this.smoother({x:this.targetValue})}}function bP(e){const t={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in e){const s=i;!r.includes(i)&&n.includes(typeof e[s])&&(t[s]=e[s])}return t}const wv=new Map;async function yP(e,t,n){const r=e.symbol;let i=wv.get(r)??await vP(e.symbol);return i?(wv.set(r,i),Ye`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function wP(e){console.log("Searching: "+e);const t={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${e}[GENE]&sort=relevance&retmode=json`,t).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,t).then(o=>o.json())).result[r]:null}const xP=df(wP,500);function vP(e){return xP(e)}const AP=St(".4~r"),EP=St(".4~e");function xv(e){return e==null?Ye` <span class="na">NA</span> `:Ge(e)?e.substring(0,30):Number.isInteger(e)?""+e:Dt(e)?Math.abs(e)>Math.pow(10,8)||Math.abs(e)<Math.pow(10,-8)?EP(e):AP(e):da(e)?e?"True":"False":yt(e)?Ye`${e.map((t,n)=>[xv(t),n<e.length-1?", ":tt])}`:"?"+typeof e+" "+e}async function SP(e,t,n){const r=(c,l)=>{var u;for(const[f,h]of Object.entries(t.encoders))if((u=h==null?void 0:h.dataAccessor)!=null&&u.fields.includes(c))switch(f){case"color":case"fill":case"stroke":return Ye`
                            <span
                                class="color-legend"
                                style=${`background-color: ${h(l)}`}
                            ></span>
                        `}return""},i=Object.entries(e).filter(([c,l])=>!c.startsWith("_"));if(i.length===0)return;const s=Ye`
        <table class="attributes">
            ${i.map(([c,l])=>Ye`
                    <tr>
                        <th>${c}</th>
                        <td>${xv(l)} ${r(c,e)}</td>
                    </tr>
                `)}
        </table>
    `,o=t.unitView.getTitleText(),a=o?Ye`
              <div class="title">
                  <strong>${o}</strong>
              </div>
          `:"";return Ye`${a}${s}`}class Il extends Jx{constructor(t,n,r,i,s,o){super(t,n,r,i,s,o),this.spec=t}async initializeChildren(){}*[Symbol.iterator](){}replaceChild(t,n){throw new Error("Not implemented")}visit(t){let n;try{n=t(this)}catch(r){throw r.view=this,r}if(n===Tl)return n;if(n!==N5){t.beforeChildren&&t.beforeChildren(this);for(const r of this){const i=r.visit(t);if(i===Tl)return i}t.afterChildren&&t.afterChildren(this),t.postOrder&&t.postOrder(this)}}findDescendantByPath(t){for(const n of this)if(n.name===t[0]){if(t.length==1)return n;if(n instanceof Il)return n.findDescendantByPath(t.slice(1))}}findChildByName(t){for(const n of this)if(n.name===t)return n}findDescendantByName(t){let n;return this.visit(r=>{if(r.name==t)return n=r,Tl}),n}getDefaultResolution(t,n){return"shared"}}class Bl extends Il{constructor(n,r,i,s,o,a){super(n,r,i,s,o,{layersChildren:!0,...a});J(this,Fr,[]);this.spec=n,this.needsAxes={x:!0,y:!0}}async initializeChildren(){le(this,Fr,await Promise.all(this.spec.layer.map((n,r)=>this.context.createOrImportView(n,this,this,"grid"+r,i=>{if(!lp(i)&&!ap(i))throw new os("LayerView accepts only unit or layer specs as children!",this)}))))}get children(){return z(this,Fr).slice()}*[Symbol.iterator](){for(const n of z(this,Fr))yield n}render(n,r,i={}){if(super.render(n,r,i),!!this.isConfiguredVisible()){n.pushView(this,r);for(const s of z(this,Fr))s.render(n,r,i);n.popView(this)}}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0);for(let r=z(this,Fr).length-1;r>=0;r--)if(z(this,Fr)[r].propagateInteractionEvent(n),n.stopped)return;this.handleInteractionEvent(void 0,n,!1)}}Fr=new WeakMap;class vv{constructor(t,n){this.n=t,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const s=[];t.push(s);for(let o=0;o<n;o++){const a=i*n+o;a<this.n&&s.push(a)}}return t}get colIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const s=[];t.push(s);for(let o=0;o<r;o++){const a=o*n+i;a<this.n&&s.push(a)}}return t}getCellIndex(t,n){let r=0;if(this.maxCols==1/0)r=n==0?t:void 0;else{if(t>=this.maxCols)return;r=n*this.nCols+t}return r<this.n?r:void 0}getCellCoords(t){if(!(t<0||t>=this.n))return[t%this.nCols,Math.floor(t/this.nCols)]}}const _P="chromosome_ticks_and_labels",CP={x:"width",y:"height"};function rp(e){return e=="x"?"y":"x"}const gf={x:["bottom","top"],y:["left","right"]},ip=Object.fromEntries(Object.entries(gf).map(([e,t])=>t.map(n=>[n,e])).flat(1));function ai(e){return ip[e]}class Av extends Bl{constructor(t,n,r,i,s,o){const a=n=="locus",c={...a?kP:Ev,...TP(n,t),...t};super(a?IP(c,n):Sv(c,n),r,i,s,`axis_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...o}),this.axisProps=c}getSize(){const t={px:this.getPerpendicularSize()},n={grow:1};return ip[this.axisProps.orient]=="x"?new oi(n,t):new oi(t,n)}getPerpendicularSize(){return sp(this.axisProps)}isPickingSupported(){return!1}}function sp(e){const t=ai(e.orient);let n=e.ticks&&e.tickSize||0;return e.labels&&(n+=e.labelPadding,t=="x"?n+=e.labelFontSize:n+=30),e.title&&(n+=e.titlePadding+e.titleFontSize),n=Math.min(e.maxExtent||1/0,Math.max(e.minExtent||0,n)),n}const Ev={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function TP(e,t){const n=t.orient,r=e=="nominal"||e=="ordinal";let i="center",s="middle",o=t.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(o)>30?(i=o>0==(n=="bottom")?"left":"right",s="middle"):s=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:o,labelBaseline:s}}function Sv(e,t){const n={...e,extent:sp(e)},r=ai(n.orient),i=rp(r),s=n.orient=="bottom"||n.orient=="right"?1:-1,o=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"domain",data:{values:[{}]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:o,size:n.domainWidth}}),c=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*s,[i]:o,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:t},text:{field:"label"}}}),l=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:o},[i+"2"]:{value:o-n.tickSize/n.extent*(o?1:-1)}}}),u=()=>({name:"title",data:{values:[{}]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-o}}),f=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:t}},layer:[]};return n.ticks&&d.layer.push(l()),n.labels&&d.layer.push(c()),d},h={resolve:{scale:{[r]:"forced"}},[CP[rp(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:e}},layer:[]};return n.domain&&h.layer.push(a()),(n.ticks||n.labels)&&h.layer.push(f()),n.title&&h.layer.push(u()),h}const kP={...Ev,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function IP(e,t){const n={...e,extent:sp(e)},r=ai(n.orient),i=rp(r),s=n.orient=="bottom"||n.orient=="left"?1:0,o=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:e.chromTickDash,strokeDashOffset:e.chromTickDashOffset,[i]:s,[i+"2"]:s-n.chromTickSize/n.extent*(s?1:-1),color:e.chromTickColor,size:n.chromTickWidth}}),a=()=>{let u;switch(n.orient){case"top":u={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":u={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":u={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":u={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:u={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:e.chromLabelAlign,baseline:"alphabetic",clip:!1,...u},encoding:{[r+"2"]:{field:"continuousEnd",type:t},text:{field:"name"}}}};let c;switch(n.orient){case"bottom":case"top":c={};break;case"left":c={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":c={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:c={}}const l=Sv({...e,...c},t);if(e.chromTicks||e.chromLabels){const u={name:_P,data:{lazy:{type:"axisGenome",channel:ai(n.orient)}},encoding:{[r]:{field:"continuousStart",type:t,band:0}},layer:[]};if(e.chromTicks&&u.layer.push(o()),e.chromLabels){u.layer.push(a());let f;l.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{f=d.mark})),f&&(n.orient=="top"||n.orient=="bottom"?(f.viewportEdgeFadeWidthLeft=30,f.viewportEdgeFadeDistanceLeft=40):(f.viewportEdgeFadeWidthBottom=30,f.viewportEdgeFadeDistanceBottom=40))}l.layer.push(u)}return l}class BP extends Bl{constructor(t,n,r,i,s,o){const c={...n=="locus"?DP:_v,...t};super(PP(c,n),r,i,s,`axisGrid_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...o}),this.axisProps=c}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const _v={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},DP={..._v,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function FP(e,t){const n=e,r=ai(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:e}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:t}}}}function RP(e,t){const n=e,r=ai(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:t,band:0}}}}function MP(e,t){const n=e,r=ai(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:t,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function PP(e,t){const n={...e},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(MP(n,t)),n.chromGrid&&n.chromGridOpacity>0&&r.push(RP(n,t)),n.grid&&n.gridOpacity>0&&r.push(FP(n,t)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[ai(e.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const Cv={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},NP={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},LP={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},OP={start:0,middle:.5,end:1},zP={start:"left",middle:"center",end:"right"};function UP(e){if(!e)return;const t=Ge(e)?{text:e}:e;if(!t.text||t.orient=="none")return;const n={"track-title":NP,overlay:LP}[t.style]??{},r={...Cv,...n,...t};let i={},s={x:0,y:0};const o=OP[r.anchor??"middle"];switch(r.orient){case"top":s={x:o,y:1},i={baseline:"alphabetic",angle:0};break;case"right":s={x:1,y:1-o},i={baseline:"alphabetic",angle:90};break;case"bottom":s={x:o,y:0},i={baseline:"top",angle:0};break;case"left":s={x:0,y:o},i={baseline:"alphabetic",angle:-90};break}const a={...Cv,...i,...n,...t},c={xOffset:0,yOffset:0};switch(r.orient){case"top":c.yOffset=-a.offset;break;case"right":c.xOffset=a.offset;break;case"bottom":c.yOffset=a.offset;break;case"left":c.xOffset=-a.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...s,...c,text:a.text,align:a.align??zP[a.anchor],angle:a.angle,baseline:a.baseline,dx:a.dx,dy:a.dy,color:a.color,font:a.font,size:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight}}}class GP{constructor(t){J(this,Rs);J(this,Ei,0);J(this,Si,0);le(this,Rs,new Array(t))}push(t){z(this,Rs)[z(this,Ei)]=t,le(this,Ei,(z(this,Ei)+1)%this.size),le(this,Si,Math.min(z(this,Si)+1,this.size))}get(){const t=z(this,Rs);return z(this,Si)<this.size?t.slice(0,z(this,Si)):t.slice(z(this,Ei),this.size).concat(t.slice(0,z(this,Ei)))}get size(){return z(this,Rs).length}get length(){return z(this,Si)}}Rs=new WeakMap,Ei=new WeakMap,Si=new WeakMap;let as,Tv=0;function kv(){return performance.now()-Tv<50}function HP(e){return function(...t){Tv=performance.now(),e(...t)}}function VP(e,t,n,r,i){if(n=HP(n),e.type=="wheel"){e.uiEvent.preventDefault();const s=e.uiEvent,o=s.deltaMode?120:1;if(!s.deltaX&&!s.deltaY)return;as==null||as.stop();let{x:a,y:c}=e.point;if(r){const l=r.mark.encoders;l.x&&!l.x2&&!l.x.constant&&(a=+l.x(r.datum)*t.width+t.x),l.y&&!l.y2&&!l.y.constant&&(c=(1-+l.y(r.datum))*t.height+t.y)}Math.abs(s.deltaX)<Math.abs(s.deltaY)?n({x:a,y:c,xDelta:0,yDelta:0,zDelta:s.deltaY*o/300}):n({x:a,y:c,xDelta:-s.deltaX*o,yDelta:0,zDelta:0})}else if(e.type=="mousedown"&&e.uiEvent.button===0){as&&as.stop();const s=new GP(30),o=e.uiEvent;o.preventDefault();let a=Xn.fromMouseEvent(o);const c=f=>{const h=Xn.fromMouseEvent(f);s.push({point:h,timestamp:performance.now()});const d=h.subtract(a);n({x:a.x,y:a.y,xDelta:d.x,yDelta:d.y,zDelta:0}),a=h},l=()=>{const h=performance.now(),d=s.get().filter(_=>h-_.timestamp<160);if(d.length<5||!i||$P(d))return;const p=d.at(-1),m=d[0],y=p.point.subtract(m.point).multiply(1/(p.timestamp-m.timestamp));let w=a.x,A=a.y;as=np(i,_=>{n({x:_.x,y:_.y,xDelta:w-_.x,yDelta:A-_.y,zDelta:0}),w=_.x,A=_.y},150,.5,{x:w,y:A}),as({x:a.x-y.x*250,y:a.y-y.y*250})},u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),l()};document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",c,!1)}}function $P(e){const t=e[Math.floor(e.length/2)],n=t.point.subtract(e[0].point).multiply(t.timestamp-e[0].timestamp),r=e.at(-1).point.subtract(t.point).multiply(e.at(-1).timestamp-t.timestamp),i=n.length;return r.length/i<.4}class jP extends Il{constructor(n,r,i,s,o,a,c){super(n,r,i,s,o,c);J(this,we);J(this,aa,1/0);J(this,la,10);J(this,sn,[]);J(this,Ms,{});J(this,ca,0);this.spec=n,le(this,la,n.spacing??10),le(this,aa,a),le(this,sn,[]),this.wrappingFacet=!1}appendChild(n){n.layoutParent??(n.layoutParent=this),z(this,sn).push(new Bv(n,this,z(this,ca))),l3(this,ca)._++}setChildren(n){le(this,sn,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=z(this,sn).findIndex(s=>s.view==n);if(i>=0)z(this,sn)[i]=new Bv(r,this,z(this,ca));else throw new Error("Not my child view!")}get children(){return z(this,sn).map(n=>n.view)}get childCount(){return z(this,sn).length}async createAxes(){const n=[];for(const r of lo){const i=this.resolutions.axis[r];if(i){const s=i.getAxisProps();if(s){const o={title:i.getTitle(),orient:gf[r][0],...s},a=new Av(o,i.scaleResolution.type,this.context,this,this);n.push(a.initializeChildren()),z(this,Ms)[r]=a}}}return Promise.all([...n,...z(this,sn).map(r=>r.createAxes())])}*[Symbol.iterator](){for(const n of z(this,sn))yield*n.getChildren();for(const n of Object.values(z(this,Ms)))yield n}getOverhang(){return Q(this,we,w3).call(this).union(Q(this,we,wh).call(this))}getSize(){return this._cache("size",()=>new oi(Q(this,we,Im).call(this,"column"),Q(this,we,Im).call(this,"row")).addPadding(Q(this,we,wh).call(this)))}render(n,r,i={}){if(super.render(n,r,i),!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(Q(this,we,wh).call(this)),n.pushView(this,r);const s={devicePixelRatio:this.context.devicePixelRatio},o=Yx(Q(this,we,km).call(this,"column"),r.width,s),a=Yx(Q(this,we,km).call(this,"row"),r.height,s),c=new vv(z(this,we,Ls).length,z(this,aa)??1/0),l=u=>Math.round(u*devicePixelRatio)/devicePixelRatio;for(const[u,f]of z(this,we,Ls).entries()){const{view:h,axes:d,gridLines:p,background:m,backgroundStroke:y,title:w}=f,[A,_]=c.getCellCoords(u),S=o[Q(this,we,Bm).call(this,"column",A)],T=a[Q(this,we,Bm).call(this,"row",_)],B=h.getViewportSize(),I=h.getSize(),D=h.getOverhang(),M=S.location-D.left,U=T.location-D.top,N=(je,L)=>(je[L].grow?(L=="width"?S:T).size:je[L].px)+D[L],te=N(B,"width"),re=N(B,"height"),ue=N(I,"width"),pe=N(I,"height"),Se=f.scrollbars.horizontal,_e=f.scrollbars.vertical,Le=Se?()=>l(Se.viewportOffset):()=>0,ze=_e?()=>l(_e.viewportOffset):()=>0,nt=new Ar(()=>r.x+M,()=>r.y+U,()=>te,()=>re),Ie=h.isScrollable(),Be=Ie?new Ar(()=>r.x+M-Le(),()=>r.y+U-ze(),()=>ue,()=>pe):nt;f.coords=nt;const bt=i.clipRect?nt.intersect(i.clipRect):nt;m==null||m.render(n,bt,{...i,clipRect:void 0});for(const je of Object.values(p))je.render(n,nt,i);const Wt=YP(h)||Ie;Wt&&h.render(n,Be,{...i,clipRect:bt}),y==null||y.render(n,bt,{...i,clipRect:void 0});for(const[je,L]of Object.entries(d)){const P=je=="left"||je=="right"?"vertical":"horizontal",q=f.scrollbars[P],$=q?nt.modify(P=="vertical"?{y:()=>Be.y,height:pe}:{x:()=>Be.x,width:ue}):nt,Z=Iv($,je,L);let C=i.clipRect;q&&(C=Z.intersect(C).intersect(q?nt.modify(P=="vertical"?{x:-1e5,width:2e5}:{y:-1e5,height:2e5}):void 0)),L.render(n,Z,{...i,clipRect:C})}for(const je of Object.values(z(this,Ms))){const P=je.axisProps.orient;(P=="left"&&A==0||P=="right"&&A==c.nCols-1||P=="top"&&_==0||P=="bottom"&&_==c.nRows-1)&&je.render(n,Iv(nt.shrink(f.view.getOverhang()),P,je),i)}Wt||h.render(n,Be,i);for(const je of Object.values(f.scrollbars))je.updateScrollbar(nt,Be),je.render(n,r,i);w==null||w.render(n,nt,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=z(this,we,Ls).find(s=>s.coords.containsPoint(n.point.x,n.point.y));for(const s of Object.values((r==null?void 0:r.scrollbars)??{}))if(s.coords.containsPoint(n.point.x,n.point.y)&&(s.propagateInteractionEvent(n),n.stopped))return;const i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof Kt||i instanceof Bl)&&VP(n,r.coords,s=>Q(this,we,x3).call(this,r.coords,r.view,s),this.context.getCurrentHover(),this.context.animator)),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}aa=new WeakMap,la=new WeakMap,sn=new WeakMap,Ms=new WeakMap,ca=new WeakMap,we=new WeakSet,Ls=function(){return z(this,sn).filter(n=>n.view.isConfiguredVisible())},y3=function(){return new vv(z(this,we,Ls).length,z(this,aa)??1/0)},Gc=function(n){const r=n=="column"?"width":"height",i=(s,o)=>s.map(a=>{const l=z(this,we,Ls)[a].getOverhangAndPadding();return n=="column"?o?l.right:l.left:o?l.bottom:l.top}).reduce((a,c)=>Math.max(a,c),0);return this._cache(`size/directionSizes/${n}`,()=>z(this,we,y3)[n=="column"?"colIndices":"rowIndices"].map(s=>({axisBefore:i(s,0),axisAfter:i(s,1),view:R5(s.map(o=>z(this,we,Ls)[o].view.getViewportSize()[r]))})))},km=function(n){const r=Q(this,we,Gc).call(this,n),i=[];i.push(_l);for(const[s,o]of r.entries())s>0&&i.push({px:z(this,la),grow:0}),(s==0||this.wrappingFacet)&&i.push(_l),i.push({px:o.axisBefore,grow:0}),i.push(o.view),i.push({px:o.axisAfter,grow:0}),(s==r.length-1||this.wrappingFacet)&&i.push(_l);return i},Im=function(n){let r=0,i=0;const s=n=="row"?this.spec.height:this.spec.width;if(s||s===0)return Xx(s);const o=Q(this,we,Gc).call(this,n);for(const[a,c]of o.entries())a>0&&(i+=z(this,la)),(a==0||this.wrappingFacet)&&(i+=0),i+=c.axisBefore,i+=c.view.px??0,r+=c.view.grow??0,i+=c.axisAfter,(a==o.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},Bm=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},w3=function(){const n=Q(this,we,Gc).call(this,"column"),r=Q(this,we,Gc).call(this,"row");return!n.length||!r.length?kt.zero():new kt(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},wh=function(){const n=r=>{const i=ip[r],s=z(this,Ms)[i];return(s==null?void 0:s.axisProps.orient)!==r?0:Math.max(s.getPerpendicularSize()+(s.axisProps.offset??0),0)};return new kt(n("top"),n("right"),n("bottom"),n("left"))},x3=function(n,r,i){for(const[s,o]of Object.entries(ZP(r))){if(o.size<=0)continue;const a=n.normalizePoint(i.x,i.y),c=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),l={x:c.x-a.x,y:c.y-a.y};for(const u of o)u.zoom(2**i.zDelta,s=="y"?1-a[s]:a[s],s=="x"?l.x:-l.y)}this.context.animator.requestRender()};function qP(e){if(!(!e||!e.fill||e.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:e.fill,opacity:e.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function WP(e){if(!(!e||!e.stroke||e.strokeWidth===0||e.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:e.strokeWidth??1,color:e.stroke??"lightgray",strokeCap:"square",opacity:e.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function ZP(e){const t={x:new Set,y:new Set};return e.visit(n=>{for(const[r,i]of Object.entries(t)){const s=n.getScaleResolution(r);s&&s.isZoomable()&&i.add(s)}}),t}function YP(e){let t=!0;return e.visit(n=>{n instanceof Kt&&t&&(t=n.mark.properties.clip===!0)}),t}function Iv(e,t,n){const r=n.axisProps,i=n.getPerpendicularSize();if(t=="bottom")return e.translate(0,e.height+r.offset).modify({height:i});if(t=="top")return e.translate(0,-i-r.offset).modify({height:i});if(t=="left")return e.translate(-i-r.offset,0).modify({width:i});if(t=="right")return e.translate(e.width+r.offset,0).modify({width:i})}class Bv{constructor(t,n,r){if(this.layoutParent=n,this.view=t,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.scrollbars={},this.title=void 0,this.coords=Ar.ZERO,t.needsAxes.x||t.needsAxes.y){const i=t.spec,s="view"in i?i==null?void 0:i.view:void 0,o=qP(s);o&&(this.background=new Kt(o,n.context,n,t,"background"+r,{blockEncodingInheritance:!0}));const a=WP(s);a&&(this.backgroundStroke=new Kt(a,n.context,n,t,"backgroundStroke"+r,{blockEncodingInheritance:!0}));const c=UP(t.spec.title);if(c){const l=new Kt(c,n.context,n,t,"title"+r,{blockEncodingInheritance:!0});this.title=l}}t.spec.viewportWidth!=null&&(this.scrollbars.horizontal=new Dv(this,"horizontal")),t.spec.viewportHeight!=null&&(this.scrollbars.vertical=new Dv(this,"vertical"))}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view,yield*Object.values(this.scrollbars)}async createAxes(){const{view:t,axes:n,gridLines:r}=this,i=(a,c)=>{const l=a.getAxisProps();if(l===null)return;const u=l?{...l}:{};if(!u.orient){for(const f of gf[c])if(!n[f]){u.orient=f;break}if(!u.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(u.title??(u.title=a.getTitle()),!gf[c].includes(u.orient))throw new Error(`Invalid axis orientation "${u.orient}" on channel "${c}"!`);return u},s=async(a,c,l)=>{const u=i(a,c);if(u){if(n[u.orient])throw new Error(`An axis with the orient "${u.orient}" already exists!`);const f=new Av(u,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);n[u.orient]=f,await f.initializeChildren()}},o=async(a,c,l)=>{const u=i(a,c);if(u&&(u.grid||u.chromGrid)){const f=new BP(u,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);r[u.orient]=f,await f.initializeChildren()}};for(const a of["x","y"])if(t.needsAxes[a]){const c=t.resolutions.axis[a];if(!c)continue;await s(c,a,t)}for(const a of["x","y"])if(t.needsAxes[a]&&t.getConfiguredOrDefaultResolution(a,"axis")!="excluded"){const c=t.getAxisResolution(a);if(!c)continue;await o(c,a,t)}if(t instanceof Bl){for(const a of t)for(const[c,l]of Object.entries(a.resolutions.axis)){const u=l.getAxisProps();u&&u.orient&&await s(l,c,a)}for(const a of t)for(const[c,l]of Object.entries(a.resolutions.axis)){const u=l.getAxisProps();u&&!u.orient&&await s(l,c,a)}}[...Object.values(n),...Object.values(r)].forEach(a=>a.visit(c=>{c instanceof Kt&&c.resolve("scale")}))}getOverhang(){const t=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+(r.axisProps.offset??0),0):0};return new kt(t("top"),t("right"),t("bottom"),t("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class Dv extends Kt{constructor(n,r){const i={scrollbarSize:8,scrollbarPadding:2};super({data:{values:[{}]},mark:{type:"rect",fill:"#b0b0b0",fillOpacity:.6,stroke:"white",strokeWidth:1,strokeOpacity:1,cornerRadius:5,clip:!1},configurableVisibility:!1},n.layoutParent.context,n.layoutParent,n.view,"scrollbar-"+r,{blockEncodingInheritance:!0});J(this,ua);J(this,Lc,Ar.ZERO);J(this,_i,0);J(this,Ps,0);Bt(this,"viewportOffset",0);this.config=i,le(this,ua,r),this.interpolateViewportOffset=np(this.context.animator,s=>{this.viewportOffset=s.x},50,.4,{x:this.viewportOffset}),this.addInteractionEventListener("mousedown",(s,o)=>{if(o.stopPropagation(),z(this,_i)<=0)return;const a=d=>r=="vertical"?d.clientY:d.clientX,c=o.uiEvent;c.preventDefault();const l=this.scrollOffset,u=a(c),f=d=>{const p=ao(a(d)-u+l,0,z(this,_i));this.interpolateViewportOffset({x:p/z(this,_i)*z(this,Ps)})},h=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)};document.addEventListener("mouseup",h,!1),document.addEventListener("mousemove",f,!1)})}get scrollOffset(){return this.viewportOffset/z(this,Ps)*z(this,_i)}render(n,r,i){super.render(n,z(this,Lc),i)}updateScrollbar(n,r){const i=this.config.scrollbarPadding,s=this.config.scrollbarSize,o=z(this,ua)=="horizontal"?"width":"height",a=Math.min(1,n[o]/r[o]),c=n[o]-2*i,l=a*c;le(this,_i,c-l),le(this,Ps,r[o]-n[o]),this.viewportOffset=ao(this.viewportOffset,0,z(this,Ps)),le(this,Lc,z(this,ua)=="vertical"?new Ar(()=>n.x+n.width-s-i,()=>n.y+i+this.scrollOffset,()=>s,()=>l):new Ar(()=>n.x+i+this.scrollOffset,()=>n.y+n.height-s-i,()=>l,()=>s))}}ua=new WeakMap,Lc=new WeakMap,_i=new WeakMap,Ps=new WeakMap;class op extends jP{constructor(t,n,r,i,s){super(t,n,r,i,s,cp(t)?t.columns:mf(t)?1:1/0),this.spec=t}async initializeChildren(){const t=this.spec,n=cp(t)?t.concat:mf(t)?t.vconcat:t.hconcat;this.setChildren(await Promise.all(n.map((r,i)=>this.context.createOrImportView(r,this,this,"grid"+i)))),await this.createAxes()}getDefaultResolution(t,n){return n=="axis"?"independent":mf(this.spec)&&t==="x"||Mv(this.spec)&&t==="y"?"shared":"independent"}}const Fv="viewRoot";class QP{constructor(t={}){J(this,fa,new Map);this.options={allowImport:!0,wrapRoot:!0,...t};const n=r=>(i,s,o,a,c)=>new r(i,s,o,a,i.name??c);this.addViewType(lp,n(Bl)),this.addViewType(ap,n(Kt)),this.addViewType(mf,n(op)),this.addViewType(Mv,n(op)),this.addViewType(cp,n(op)),this.addViewType(JP,()=>{throw new Error("SampleView is not supported by the @genome-spy/core package. Use @genome-spy/app instead!")})}addViewType(t,n){z(this,fa).set(t,n)}createView(t,n,r,i,s){for(const[o,a]of z(this,fa))if(o(t))return a(t,n,r,i,s);throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(t)]))}isViewSpec(t){const n=[...z(this,fa).keys()].filter(r=>r(t));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}async createOrImportView(t,n,r,i,s,o){let a;if(KP(t)){let l;if("url"in t.import)if(this.options.allowImport)l=await nP(t,i.getBaseUrl(),n);else throw new os("Importing views is not allowed!",r);else if("template"in t.import)l=Rv(t.import.template,i);else throw new Error("Invalid import: "+JSON.stringify(t));o==null||o(l),XP(l,t),a=l}else a=t;!i&&this.options.wrapRoot&&(ap(a)||lp(a))&&s===Fv&&(a={name:"implicitRoot",vconcat:[a]});const c=this.createView(a,n,r,i,s);return c instanceof Il&&await c.initializeChildren(),c}}fa=new WeakMap;function Rv(e,t){var r,i;const n=(i=(r=t.spec)==null?void 0:r.templates)==null?void 0:i[e];if(n)return structuredClone(n);if(t.dataParent)return Rv(e,t.dataParent);throw new Error(`Cannot find template "${e}" in current view or its ancestors!`)}function XP(e,t){t.name!=null&&(e.name=t.name);const n=yt(t.params)?t.params:Et(t.params)?Object.entries(t.params).map(([r,i])=>({name:r,value:i})):[];if(n.length){e.params??(e.params=[]);for(const r of n){const i=e.params.findIndex(s=>s.name==r.name);i>=0&&(e.params[i]=r)}for(const r of n)e.params.some(i=>i.name==r.name)||e.params.push(r)}}function ap(e){return"mark"in e&&(Ge(e.mark)||Et(e.mark))}function lp(e){return"layer"in e&&Et(e.layer)}function KP(e){return"import"in e}function mf(e){return"vconcat"in e&&yt(e.vconcat)}function Mv(e){return"hconcat"in e&&yt(e.hconcat)}function cp(e){return"concat"in e&&yt(e.concat)}function JP(e){return"samples"in e&&Et(e.samples)&&"spec"in e&&Et(e.spec)}function e9(e){const t=Math.floor(Math.random()*16777215).toString(16),n=[];for(const r of e.paramConfigs.values()){if(!SF(r))continue;const i=r.bind;if(!i||!("input"in i))continue;const s=r.name,o=e.getSetter(s),a=e.getValue(s),c=i.name??s,l=i.debounce?df(o,i.debounce,!1):o,u=`${t}-param-${s}`;if(i.input=="range")n.push(Ye`<label for=${u}>${c}</label>
                    <div>
                        <input
                            id=${u}
                            type="range"
                            min=${i.min??0}
                            max=${i.max??100}
                            step=${i.step??Oi(i.min,i.max,100)}
                            .value=${a}
                            @input=${f=>{l(f.target.valueAsNumber),f.target.nextElementSibling.textContent=f.target.valueAsNumber}}
                        /><span>${a}</span>
                    </div>`);else if(i.input=="checkbox")n.push(Ye`<label for=${u}>${c}</label>
                    <input
                        id=${u}
                        type="checkbox"
                        ?checked=${a}
                        @input=${f=>l(f.target.checked)}
                    />`);else if(i.input=="radio")n.push(Ye`<span class="label">${c}</span>
                    <div class="radio-group">
                        ${i.options.map((f,h)=>{var d;return Ye`<label>
                                    <input
                                        type="radio"
                                        name=${s}
                                        value=${f}
                                        .checked=${a==f}
                                        @input=${p=>l(p.target.value)}
                                    />${((d=i.labels)==null?void 0:d[h])??f}</label
                                >`})}
                    </div>`);else if(i.input=="select")n.push(Ye`<label for=${u}>${c}</label>
                    <select
                        id=${u}
                        @input=${f=>l(f.target.value)}
                    >
                        ${i.options.map((f,h)=>{var d;return Ye`<option
                                    value=${f}
                                    ?selected=${a==f}
                                >
                                    ${((d=i.labels)==null?void 0:d[h])??f}
                                </option>`})}
                    </select> `);else if(i.input=="text"||i.input=="number"||i.input=="color")n.push(Ye`<label for=${u}>${c}</label>
                    <div>
                        <input
                            id=${u}
                            type=${i.input}
                            placeholder=${i.placeholder??""}
                            autocomplete=${i.autocomplete??"off"}
                            .value=${a}
                            @focus=${f=>f.target.select()}
                            @input=${f=>{l(i.input=="number"?f.target.valueAsNumber:f.target.value)}}
                        />
                    </div>`);else throw new Error("Unsupported input type: "+i.input);i.description&&n.push(Ye`<div class="description">${i.description}</div>`)}return n}nd("fasta",gP);class t9{constructor(t,n,r={}){J(this,Sn);this.container=t,this.options=r,r.inputBindingContainer??(r.inputBindingContainer="default"),this._destructionCallbacks=[],this.spec=n,this.viewFactory=new QP,this.namedDataProviders=[],this.animator=new lP(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=i=>i.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new mP(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:SP,refseqgene:yP,...r.tooltipHandlers??{}},this.viewRoot=void 0,this._loadingViews=new Map,this._inputBindingContainer=void 0,this._mouseDownCoords=void 0}registerNamedDataProvider(t){this.namedDataProviders.unshift(t)}getNamedDataFromProvider(t){for(const n of this.namedDataProviders){const r=n(t);if(r)return r}}updateNamedData(t,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(t);if(!r)throw new Error("No such named data source: "+t);r.dataSource.updateDynamicData(n),Y0(r.hosts),this.animator.requestRender()}broadcast(t,n){var i;const r={type:t,payload:n};this.viewRoot.visit(s=>s.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(t))==null||i.forEach(s=>s(r))}_updateLoadingIndicators(){const t=[],n=()=>[...this._loadingViews.values()].some(r=>r.status=="loading"||r.status=="error");for(const[r,i]of this._loadingViews){const s=r.coords;if(s){const o={left:`${s.x}px`,top:`${s.y}px`,width:`${s.width}px`,height:`${s.height}px`};t.push(Ye`<div style=${rd(o)}>
                        <div class=${i.status}>
                            ${i.status=="error"?Ye`<span
                                      >Loading
                                      failed${i.detail?Ye`: ${i.detail}`:tt}</span
                                  >`:Ye`
                                      <img src="${D4}" alt="" />
                                      <span>Loading...</span>
                                  `}
                        </div>
                    </div>`)}}n()?this.loadingIndicatorsElement.style.display="block":setTimeout(()=>{n()||(this.loadingIndicatorsElement.style.display="none")},3e3),xa(t,this.loadingIndicatorsElement)}destroy(){var n;const t=z(this,Sn,xh);this.container.classList.remove("genome-spy"),t.classList.remove("loading");for(const[r,i]of this._keyboardListeners)for(const s of i)document.removeEventListener(r,s);for(this._destructionCallbacks.forEach(r=>r()),this._glHelper.finalize(),(n=this._inputBindingContainer)==null||n.remove();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new cP(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const t=this,n={dataFlow:new dv,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new hP(this._glHelper),get devicePixelRatio(){return t._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,setDataLoadingStatus:(c,l,u)=>{this._loadingViews.set(c,{status:l,detail:u}),this._updateLoadingIndicators()},addKeyboardListener:(c,l)=>{document.addEventListener(c,l);let u=this._keyboardListeners.get(c);u||(u=[],this._keyboardListeners.set(c,u)),u.push(l)},addBroadcastListener(c,l){const u=t._extraBroadcastListeners;let f=u.get(c);f||(f=new Set,u.set(c,f)),f.add(l)},removeBroadcastListener(c,l){var f;(f=t._extraBroadcastListeners.get(c))==null||f.delete(l)},isViewConfiguredVisible:t.viewVisibilityPredicate,isViewSpec:c=>t.viewFactory.isViewSpec(c),createView:function(c,l,u,f){return t.viewFactory.createView(c,n,l,u,f)},createOrImportView:async function(c,l,u,f,h){return t.viewFactory.createOrImportView(c,n,l,u,f,h)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(c=>r.datasets[c]),this.viewRoot=await n.createOrImportView(r,null,null,Fv),z(this,Sn,xh).style.flexGrow=this.viewRoot.getSize().height.grow>0?"1":"0",Q(this,Sn,v3).call(this),eP(this.viewRoot),tP(this.viewRoot);const i=this.viewRoot.getDescendants();i.forEach(c=>c.configureViewOpacity()),this._glHelper.invalidateSize(),Q(this,Sn,A3).call(this);const s=i.filter(c=>c instanceof Kt),o=ZM(this.viewRoot,n.dataFlow);JM(o),this.broadcast("dataFlowBuilt",o),s.forEach(c=>c.mark.initializeEncoders());const a=Promise.all(s.map(c=>c.mark.initializeGraphics()));for(const c of s)o.addObserver(l=>{c.mark.initializeData();try{c.mark.updateGraphicsData()}catch(u){throw u.view=c,u}n.animator.requestRender()},c);await n.fontManager.waitUntilReady(),o.initialize(),await Promise.all(o.dataSources.map(c=>c.load())),Y0(this.viewRoot),this.broadcast("dataLoaded"),await a;for(const c of s)c.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(c=>cf(c,"size")),this._glHelper.invalidateSize()}async launch(){try{return Q(this,Sn,E3).call(this),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),!0}catch(t){const n=`${t.view?`At "${t.view.getPathString()}": `:""}${t.toString()}`;return console.error(t.stack),n9(this.container,n),!1}finally{z(this,Sn,xh).classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const t=this._glHelper.canvas;let n=performance.now();const r=i=>{var a,c;const s=performance.now(),o=s-n<200;if(i instanceof MouseEvent){const l=t.getBoundingClientRect(),u=new Xn(i.clientX-l.left-t.clientLeft,i.clientY-l.top-t.clientTop);i.type=="mousemove"&&!o&&(this.tooltip.handleMouseMove(i),this._tooltipUpdateRequested=!1,i.buttons==0&&!kv()&&(this.renderPickingFramebuffer(),this._handlePicking(u.x,u.y)));const f=h=>{this.viewRoot.propagateInteractionEvent(new sP(u,h)),this._tooltipUpdateRequested||this.tooltip.clear()};if(i.type!="wheel"&&this._wheelInertia.cancel(),(i.type=="mousedown"||i.type=="mouseup")&&!kv())this.renderPickingFramebuffer();else if(i.type=="wheel"){n=s,this._tooltipUpdateRequested=!1;const h=i;if(Math.abs(h.deltaX)>Math.abs(h.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const d=bP(h);this._wheelInertia.setMomentum(h.deltaY*(h.deltaMode?80:1),p=>{const m=new WheelEvent("wheel",{...d,deltaMode:0,deltaX:0,deltaY:p});f(m)}),h.preventDefault();return}}if(i.type=="click"){const h=this._currentHover?{type:i.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(d=>d.name).reverse(),datum:this._currentHover.datum}:{type:i.type,viewPath:null,datum:null};(a=this._eventListeners.get("click"))==null||a.forEach(d=>d(h))}(i.type!="click"||((c=this._mouseDownCoords)==null?void 0:c.subtract(Xn.fromMouseEvent(i)).length)<3)&&f(i)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(i=>t.addEventListener(i,r)),t.addEventListener("mousedown",i=>{this._mouseDownCoords=Xn.fromMouseEvent(i),document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),t.addEventListener("dragstart",i=>i.stopPropagation())}_handlePicking(t,n){var s;const r=this._glHelper.readPickingPixel(t,n),i=r[0]|r[1]<<8|r[2]<<16|r[3]<<24;if(i==0){this._currentHover=null;return}if(i!==((s=this._currentHover)==null?void 0:s.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(o=>{if(o instanceof Kt){if(o.mark.isPickingParticipant()&&[...o.facetCoords.values()].some(a=>a.containsPoint(t,n))){const a=o.getCollector().findDatumByUniqueId(i);a&&(this._currentHover={mark:o.mark,datum:a,uniqueId:i})}if(this._currentHover)return Tl}}),this._currentHover){const o=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async a=>{if(!o.isPickingParticipant())return;const c=o.properties.tooltip;if(c!==null){const l=(c==null?void 0:c.handler)??"default",u=this.tooltipHandlers[l];if(!u)throw new Error("No such tooltip handler: "+l);return u(a,o,c==null?void 0:c.params)}})}}updateTooltip(t,n){if(!this._tooltipUpdateRequested||!t)this.tooltip.updateWithDatum(t,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const t=this.viewRoot;if(!t)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new bv({picking:!1},this._glHelper),this._pickingContext=new bv({picking:!0},this._glHelper),t.render(new iP(this._renderingContext,this._pickingContext),Ar.create(0,0,n.width,n.height)),this._updateLoadingIndicators(),this.broadcast("layoutComputed")}renderAll(){var t;(t=this._renderingContext)==null||t.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const t=[];return this.viewRoot.visit(n=>{n instanceof Kt&&n.getDataAccessor("search")&&t.push(n)}),t}getNamedScaleResolutions(){const t=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&t.set(r.name,r)}),t}}Sn=new WeakSet,xh=function(){return this.container.querySelector(".canvas-wrapper")},v3=function(){const t=[];this.viewRoot.visit(r=>{const i=r.paramMediator;t.push(...e9(i))});const n=this.options.inputBindingContainer;if(!(!n||n=="none"||!t.length)){if(this._inputBindingContainer=bf("div",{className:"gs-input-bindings"}),n=="default")this.container.appendChild(this._inputBindingContainer);else if(n instanceof HTMLElement)n.appendChild(this._inputBindingContainer);else throw new Error("Invalid inputBindingContainer");t.length&&xa(Ye`<div class="gs-input-binding">${t}</div>`,this._inputBindingContainer)}},A3=function(){const t=this.viewRoot.paramMediator.allocateSetter("devicePixelRatio",window.devicePixelRatio),n=()=>{this._glHelper.invalidateSize(),t(window.devicePixelRatio),this.computeLayout(),this.renderAll()};if(this.viewRoot.getSize().isGrowing()){const s=new ResizeObserver(n);s.observe(this.container),this._destructionCallbacks.push(()=>s.disconnect())}let r=null;const i=()=>{r!=null&&(r(),n());const s=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);s.addEventListener("change",i),r=()=>{s.removeEventListener("change",i)}};i(),r&&this._destructionCallbacks.push(r)},E3=function(){this.container.classList.add("genome-spy");const t=document.createElement("style");t.innerHTML=F4,this.container.appendChild(t);const n=bf("div",{class:"canvas-wrapper"});this.container.appendChild(n),n.classList.add("loading"),this._glHelper=new bR(n,()=>this.viewRoot?rP(this.viewRoot):{width:void 0,height:void 0},this.spec.background,{powerPreference:this.options.powerPreference??"default"}),this.loadingMessageElement=bf("div",{class:"loading-message",innerHTML:'<div class="message">Loading<span class="ellipsis">...</span></div>'}),n.appendChild(this.loadingMessageElement),this.loadingIndicatorsElement=bf("div",{class:"loading-indicators"}),n.appendChild(this.loadingIndicatorsElement),this.tooltip=new M4(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})};function n9(e,t){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=t,n.appendChild(r),e.appendChild(n)}function bf(e,t){const n=document.createElement(e);for(const[r,i]of Object.entries(t))["innerHTML","innerText","className"].includes(r)&&(n[r]=i),n.setAttribute(r,i);return n}async function r9(e,t,n={}){let r;if(Ge(e)){if(r=document.querySelector(e),!r)throw new Error(`No such element: ${e}`)}else if(e instanceof HTMLElement)r=e;else throw new Error(`Invalid element: ${e}`);let i;try{const s=Et(t)?t:await s9(t);if(s.baseUrl??(s.baseUrl=""),s.width??(s.width="container"),s.padding??(s.padding=10),r==document.body){const o=document.createElement("div");o.style.position="fixed",o.style.inset="0",o.style.overflow="hidden",r.appendChild(o),r=o}i=new t9(r,s,n),i9(i,n),await i.launch()}catch(s){r.innerText=s.toString(),console.error(s)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(s,o){const a=i._eventListeners;let c=a.get(s);c||(c=new Set,a.set(s,c)),c.add(o)},removeEventListener(s,o){var c;(c=i._eventListeners.get(s))==null||c.delete(o)},getScaleResolutionByName(s){return i.getNamedScaleResolutions().get(s)},updateNamedData:i.updateNamedData.bind(i)}}function i9(e,t){t.namedDataProvider&&e.registerNamedDataProvider(t.namedDataProvider)}async function s9(e){let t;try{const n=await fetch(e);if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);t=await n.json()}catch(n){throw new Error(`Could not load or parse configuration: ${e}, reason: ${n.message}`)}if(!t.baseUrl){const n=e.match(/^[^?#]*\//);t.baseUrl=n&&n[0]||"./"}return t}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o9=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dl=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),Dl(i,t);return!0},yf=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},Pv=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),c9(t)}};function a9(e){this._$AN!==void 0?(yf(this),this._$AM=e,Pv(this)):this._$AM=e}function l9(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)Dl(r[s],!1),yf(r[s]);else r!=null&&(Dl(r,!1),yf(r));else Dl(this,e)}const c9=e=>{e.type==W1.CHILD&&(e._$AP??(e._$AP=l9),e._$AQ??(e._$AQ=a9))};class u9 extends Y1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),Pv(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Dl(this,t),yf(this))}setValue(t){if(o9(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f9=()=>new h9;class h9{}const up=new WeakMap,d9=Z1(class extends u9{render(e){return tt}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),tt}rt(e){if(this.isConnected||(e=void 0),typeof this.Y=="function"){const t=this.ht??globalThis;let n=up.get(t);n===void 0&&(n=new WeakMap,up.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=up.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function Nv(){const e=document.querySelector("meta[name='base_url']").getAttribute("content");return e||console.error('No <meta name="base_url" ...> found!'),e}async function p9(e,t){const r=`${Nv()}/data/`;try{t.baseUrl=t.baseUrl||r,await r9(e,t,{bare:!0})}catch(i){const s=document.createElement("pre");s.innerText=i.toString(),e.appendChild(s)}}class Lv extends va{static get styles(){return Y3`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=f9()}render(){return Ye`
            <link rel="stylesheet" href=${Nv()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${rd({height:this.height+"px"})}
                ${d9(this.embedRef)}
            ></div>
            ${this.specHidden?Ye`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${t=>{this.specHidden=!1,t.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:tt}

            <div
                class="embed-spec"
                style=${rd({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const t=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(t){const r=new IntersectionObserver(i=>{i.forEach(s=>{if(s.isIntersecting){const o=s.target;p9(o,JSON.parse(t)),r.unobserve(o)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",Lv);var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var be={},xf={};xf.byteLength=y9,xf.toByteArray=x9,xf.fromByteArray=E9;for(var Kn=[],hn=[],m9=typeof Uint8Array<"u"?Uint8Array:Array,fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",po=0,b9=fp.length;po<b9;++po)Kn[po]=fp[po],hn[fp.charCodeAt(po)]=po;hn[45]=62,hn[95]=63;function Ov(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function y9(e){var t=Ov(e),n=t[0],r=t[1];return(n+r)*3/4-r}function w9(e,t,n){return(t+n)*3/4-n}function x9(e){var t,n=Ov(e),r=n[0],i=n[1],s=new m9(w9(e,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)t=hn[e.charCodeAt(c)]<<18|hn[e.charCodeAt(c+1)]<<12|hn[e.charCodeAt(c+2)]<<6|hn[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=hn[e.charCodeAt(c)]<<2|hn[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=hn[e.charCodeAt(c)]<<10|hn[e.charCodeAt(c+1)]<<4|hn[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function v9(e){return Kn[e>>18&63]+Kn[e>>12&63]+Kn[e>>6&63]+Kn[e&63]}function A9(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(v9(r));return i.join("")}function E9(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(A9(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(Kn[t>>2]+Kn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Kn[t>>10]+Kn[t>>4&63]+Kn[t<<2&63]+"=")),i.join("")}var hp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hp.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=s*256+e[t+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+f],f+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(d?-1:1)*o*Math.pow(2,s-r)},hp.write=function(e,t,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=h/c:t+=h*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(t*c-1)*Math.pow(2,i),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[n+d]=o&255,d+=p,o/=256,l-=8);e[n+d-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=xf,n=hp,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const x=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(x,g),x.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const g=new Uint8Array(x);return Object.setPrototypeOf(g,a.prototype),g}function a(x,g,b){if(typeof x=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(x)}return c(x,g,b)}a.poolSize=8192;function c(x,g,b){if(typeof x=="string")return h(x,g);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(It(x,ArrayBuffer)||x&&It(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(It(x,SharedArrayBuffer)||x&&It(x.buffer,SharedArrayBuffer)))return m(x,g,b);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=x.valueOf&&x.valueOf();if(k!=null&&k!==x)return a.from(k,g,b);const R=y(x);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return a.from(x[Symbol.toPrimitive]("string"),g,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}a.from=function(x,g,b){return c(x,g,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function u(x,g,b){return l(x),x<=0?o(x):g!==void 0?typeof b=="string"?o(x).fill(g,b):o(x).fill(g):o(x)}a.alloc=function(x,g,b){return u(x,g,b)};function f(x){return l(x),o(x<0?0:w(x)|0)}a.allocUnsafe=function(x){return f(x)},a.allocUnsafeSlow=function(x){return f(x)};function h(x,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const b=_(x,g)|0;let k=o(b);const R=k.write(x,g);return R!==b&&(k=k.slice(0,R)),k}function d(x){const g=x.length<0?0:w(x.length)|0,b=o(g);for(let k=0;k<g;k+=1)b[k]=x[k]&255;return b}function p(x){if(It(x,Uint8Array)){const g=new Uint8Array(x);return m(g.buffer,g.byteOffset,g.byteLength)}return d(x)}function m(x,g,b){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(b||0))throw new RangeError('"length" is outside of buffer bounds');let k;return g===void 0&&b===void 0?k=new Uint8Array(x):b===void 0?k=new Uint8Array(x,g):k=new Uint8Array(x,g,b),Object.setPrototypeOf(k,a.prototype),k}function y(x){if(a.isBuffer(x)){const g=w(x.length)|0,b=o(g);return b.length===0||x.copy(b,0,0,g),b}if(x.length!==void 0)return typeof x.length!="number"||Rr(x.length)?o(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function A(x){return+x!=x&&(x=0),a.alloc(+x)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,b){if(It(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),It(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(g)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===b)return 0;let k=g.length,R=b.length;for(let O=0,j=Math.min(k,R);O<j;++O)if(g[O]!==b[O]){k=g[O],R=b[O];break}return k<R?-1:R<k?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,b){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let k;if(b===void 0)for(b=0,k=0;k<g.length;++k)b+=g[k].length;const R=a.allocUnsafe(b);let O=0;for(k=0;k<g.length;++k){let j=g[k];if(It(j,Uint8Array))O+j.length>R.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(R,O)):Uint8Array.prototype.set.call(R,j,O);else if(a.isBuffer(j))j.copy(R,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=j.length}return R};function _(x,g){if(a.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||It(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const b=x.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&b===0)return 0;let R=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return he(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return Ti(x).length;default:if(R)return k?-1:he(x).length;g=(""+g).toLowerCase(),R=!0}}a.byteLength=_;function S(x,g,b){let k=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,g>>>=0,b<=g))return"";for(x||(x="utf8");;)switch(x){case"hex":return ze(this,g,b);case"utf8":case"utf-8":return ue(this,g,b);case"ascii":return _e(this,g,b);case"latin1":case"binary":return Le(this,g,b);case"base64":return re(this,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,g,b);default:if(k)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),k=!0}}a.prototype._isBuffer=!0;function T(x,g,b){const k=x[g];x[g]=x[b],x[b]=k}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<g;b+=2)T(this,b,b+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<g;b+=4)T(this,b,b+3),T(this,b+1,b+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<g;b+=8)T(this,b,b+7),T(this,b+1,b+6),T(this,b+2,b+5),T(this,b+3,b+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?ue(this,0,g):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const b=e.INSPECT_MAX_BYTES;return g=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(g+=" ... "),"<Buffer "+g+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(g,b,k,R,O){if(It(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(b===void 0&&(b=0),k===void 0&&(k=g?g.length:0),R===void 0&&(R=0),O===void 0&&(O=this.length),b<0||k>g.length||R<0||O>this.length)throw new RangeError("out of range index");if(R>=O&&b>=k)return 0;if(R>=O)return-1;if(b>=k)return 1;if(b>>>=0,k>>>=0,R>>>=0,O>>>=0,this===g)return 0;let j=O-R,de=k-b;const Ze=Math.min(j,de),Ue=this.slice(R,O),Je=g.slice(b,k);for(let De=0;De<Ze;++De)if(Ue[De]!==Je[De]){j=Ue[De],de=Je[De];break}return j<de?-1:de<j?1:0};function B(x,g,b,k,R){if(x.length===0)return-1;if(typeof b=="string"?(k=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Rr(b)&&(b=R?0:x.length-1),b<0&&(b=x.length+b),b>=x.length){if(R)return-1;b=x.length-1}else if(b<0)if(R)b=0;else return-1;if(typeof g=="string"&&(g=a.from(g,k)),a.isBuffer(g))return g.length===0?-1:I(x,g,b,k,R);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(x,g,b):Uint8Array.prototype.lastIndexOf.call(x,g,b):I(x,[g],b,k,R);throw new TypeError("val must be string, number or Buffer")}function I(x,g,b,k,R){let O=1,j=x.length,de=g.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(x.length<2||g.length<2)return-1;O=2,j/=2,de/=2,b/=2}function Ze(Je,De){return O===1?Je[De]:Je.readUInt16BE(De*O)}let Ue;if(R){let Je=-1;for(Ue=b;Ue<j;Ue++)if(Ze(x,Ue)===Ze(g,Je===-1?0:Ue-Je)){if(Je===-1&&(Je=Ue),Ue-Je+1===de)return Je*O}else Je!==-1&&(Ue-=Ue-Je),Je=-1}else for(b+de>j&&(b=j-de),Ue=b;Ue>=0;Ue--){let Je=!0;for(let De=0;De<de;De++)if(Ze(x,Ue+De)!==Ze(g,De)){Je=!1;break}if(Je)return Ue}return-1}a.prototype.includes=function(g,b,k){return this.indexOf(g,b,k)!==-1},a.prototype.indexOf=function(g,b,k){return B(this,g,b,k,!0)},a.prototype.lastIndexOf=function(g,b,k){return B(this,g,b,k,!1)};function D(x,g,b,k){b=Number(b)||0;const R=x.length-b;k?(k=Number(k),k>R&&(k=R)):k=R;const O=g.length;k>O/2&&(k=O/2);let j;for(j=0;j<k;++j){const de=parseInt(g.substr(j*2,2),16);if(Rr(de))return j;x[b+j]=de}return j}function M(x,g,b,k){return ki(he(g,x.length-b),x,b,k)}function U(x,g,b,k){return ki(Zt(g),x,b,k)}function N(x,g,b,k){return ki(Ti(g),x,b,k)}function te(x,g,b,k){return ki(Ci(g,x.length-b),x,b,k)}a.prototype.write=function(g,b,k,R){if(b===void 0)R="utf8",k=this.length,b=0;else if(k===void 0&&typeof b=="string")R=b,k=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(k)?(k=k>>>0,R===void 0&&(R="utf8")):(R=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const O=this.length-b;if((k===void 0||k>O)&&(k=O),g.length>0&&(k<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let j=!1;for(;;)switch(R){case"hex":return D(this,g,b,k);case"utf8":case"utf-8":return M(this,g,b,k);case"ascii":case"latin1":case"binary":return U(this,g,b,k);case"base64":return N(this,g,b,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,g,b,k);default:if(j)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),j=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(x,g,b){return g===0&&b===x.length?t.fromByteArray(x):t.fromByteArray(x.slice(g,b))}function ue(x,g,b){b=Math.min(x.length,b);const k=[];let R=g;for(;R<b;){const O=x[R];let j=null,de=O>239?4:O>223?3:O>191?2:1;if(R+de<=b){let Ze,Ue,Je,De;switch(de){case 1:O<128&&(j=O);break;case 2:Ze=x[R+1],(Ze&192)===128&&(De=(O&31)<<6|Ze&63,De>127&&(j=De));break;case 3:Ze=x[R+1],Ue=x[R+2],(Ze&192)===128&&(Ue&192)===128&&(De=(O&15)<<12|(Ze&63)<<6|Ue&63,De>2047&&(De<55296||De>57343)&&(j=De));break;case 4:Ze=x[R+1],Ue=x[R+2],Je=x[R+3],(Ze&192)===128&&(Ue&192)===128&&(Je&192)===128&&(De=(O&15)<<18|(Ze&63)<<12|(Ue&63)<<6|Je&63,De>65535&&De<1114112&&(j=De))}}j===null?(j=65533,de=1):j>65535&&(j-=65536,k.push(j>>>10&1023|55296),j=56320|j&1023),k.push(j),R+=de}return Se(k)}const pe=4096;function Se(x){const g=x.length;if(g<=pe)return String.fromCharCode.apply(String,x);let b="",k=0;for(;k<g;)b+=String.fromCharCode.apply(String,x.slice(k,k+=pe));return b}function _e(x,g,b){let k="";b=Math.min(x.length,b);for(let R=g;R<b;++R)k+=String.fromCharCode(x[R]&127);return k}function Le(x,g,b){let k="";b=Math.min(x.length,b);for(let R=g;R<b;++R)k+=String.fromCharCode(x[R]);return k}function ze(x,g,b){const k=x.length;(!g||g<0)&&(g=0),(!b||b<0||b>k)&&(b=k);let R="";for(let O=g;O<b;++O)R+=Ii[x[O]];return R}function nt(x,g,b){const k=x.slice(g,b);let R="";for(let O=0;O<k.length-1;O+=2)R+=String.fromCharCode(k[O]+k[O+1]*256);return R}a.prototype.slice=function(g,b){const k=this.length;g=~~g,b=b===void 0?k:~~b,g<0?(g+=k,g<0&&(g=0)):g>k&&(g=k),b<0?(b+=k,b<0&&(b=0)):b>k&&(b=k),b<g&&(b=g);const R=this.subarray(g,b);return Object.setPrototypeOf(R,a.prototype),R};function Ie(x,g,b){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,b,k){g=g>>>0,b=b>>>0,k||Ie(g,b,this.length);let R=this[g],O=1,j=0;for(;++j<b&&(O*=256);)R+=this[g+j]*O;return R},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,b,k){g=g>>>0,b=b>>>0,k||Ie(g,b,this.length);let R=this[g+--b],O=1;for(;b>0&&(O*=256);)R+=this[g+--b]*O;return R},a.prototype.readUint8=a.prototype.readUInt8=function(g,b){return g=g>>>0,b||Ie(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,b){return g=g>>>0,b||Ie(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,b){return g=g>>>0,b||Ie(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=Yt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,O=this[++g]+this[++g]*2**8+this[++g]*2**16+k*2**24;return BigInt(R)+(BigInt(O)<<BigInt(32))}),a.prototype.readBigUInt64BE=Yt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=b*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],O=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+k;return(BigInt(R)<<BigInt(32))+BigInt(O)}),a.prototype.readIntLE=function(g,b,k){g=g>>>0,b=b>>>0,k||Ie(g,b,this.length);let R=this[g],O=1,j=0;for(;++j<b&&(O*=256);)R+=this[g+j]*O;return O*=128,R>=O&&(R-=Math.pow(2,8*b)),R},a.prototype.readIntBE=function(g,b,k){g=g>>>0,b=b>>>0,k||Ie(g,b,this.length);let R=b,O=1,j=this[g+--R];for(;R>0&&(O*=256);)j+=this[g+--R]*O;return O*=128,j>=O&&(j-=Math.pow(2,8*b)),j},a.prototype.readInt8=function(g,b){return g=g>>>0,b||Ie(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,b){g=g>>>0,b||Ie(g,2,this.length);const k=this[g]|this[g+1]<<8;return k&32768?k|4294901760:k},a.prototype.readInt16BE=function(g,b){g=g>>>0,b||Ie(g,2,this.length);const k=this[g+1]|this[g]<<8;return k&32768?k|4294901760:k},a.prototype.readInt32LE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=Yt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(k<<24);return(BigInt(R)<<BigInt(32))+BigInt(b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=Yt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=(b<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(R)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+k)}),a.prototype.readFloatLE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),n.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,b){return g=g>>>0,b||Ie(g,4,this.length),n.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,b){return g=g>>>0,b||Ie(g,8,this.length),n.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,b){return g=g>>>0,b||Ie(g,8,this.length),n.read(this,g,!1,52,8)};function Be(x,g,b,k,R,O){if(!a.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>R||g<O)throw new RangeError('"value" argument is out of bounds');if(b+k>x.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,b,k,R){if(g=+g,b=b>>>0,k=k>>>0,!R){const de=Math.pow(2,8*k)-1;Be(this,g,b,k,de,0)}let O=1,j=0;for(this[b]=g&255;++j<k&&(O*=256);)this[b+j]=g/O&255;return b+k},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,b,k,R){if(g=+g,b=b>>>0,k=k>>>0,!R){const de=Math.pow(2,8*k)-1;Be(this,g,b,k,de,0)}let O=k-1,j=1;for(this[b+O]=g&255;--O>=0&&(j*=256);)this[b+O]=g/j&255;return b+k},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,1,255,0),this[b]=g&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,2,65535,0),this[b]=g&255,this[b+1]=g>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,2,65535,0),this[b]=g>>>8,this[b+1]=g&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,4,4294967295,0),this[b+3]=g>>>24,this[b+2]=g>>>16,this[b+1]=g>>>8,this[b]=g&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,4,4294967295,0),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4};function bt(x,g,b,k,R){v(g,k,R,x,b,7);let O=Number(g&BigInt(4294967295));x[b++]=O,O=O>>8,x[b++]=O,O=O>>8,x[b++]=O,O=O>>8,x[b++]=O;let j=Number(g>>BigInt(32)&BigInt(4294967295));return x[b++]=j,j=j>>8,x[b++]=j,j=j>>8,x[b++]=j,j=j>>8,x[b++]=j,b}function Wt(x,g,b,k,R){v(g,k,R,x,b,7);let O=Number(g&BigInt(4294967295));x[b+7]=O,O=O>>8,x[b+6]=O,O=O>>8,x[b+5]=O,O=O>>8,x[b+4]=O;let j=Number(g>>BigInt(32)&BigInt(4294967295));return x[b+3]=j,j=j>>8,x[b+2]=j,j=j>>8,x[b+1]=j,j=j>>8,x[b]=j,b+8}a.prototype.writeBigUInt64LE=Yt(function(g,b=0){return bt(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Yt(function(g,b=0){return Wt(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,b,k,R){if(g=+g,b=b>>>0,!R){const Ze=Math.pow(2,8*k-1);Be(this,g,b,k,Ze-1,-Ze)}let O=0,j=1,de=0;for(this[b]=g&255;++O<k&&(j*=256);)g<0&&de===0&&this[b+O-1]!==0&&(de=1),this[b+O]=(g/j>>0)-de&255;return b+k},a.prototype.writeIntBE=function(g,b,k,R){if(g=+g,b=b>>>0,!R){const Ze=Math.pow(2,8*k-1);Be(this,g,b,k,Ze-1,-Ze)}let O=k-1,j=1,de=0;for(this[b+O]=g&255;--O>=0&&(j*=256);)g<0&&de===0&&this[b+O+1]!==0&&(de=1),this[b+O]=(g/j>>0)-de&255;return b+k},a.prototype.writeInt8=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,1,127,-128),g<0&&(g=255+g+1),this[b]=g&255,b+1},a.prototype.writeInt16LE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,2,32767,-32768),this[b]=g&255,this[b+1]=g>>>8,b+2},a.prototype.writeInt16BE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,2,32767,-32768),this[b]=g>>>8,this[b+1]=g&255,b+2},a.prototype.writeInt32LE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,4,2147483647,-2147483648),this[b]=g&255,this[b+1]=g>>>8,this[b+2]=g>>>16,this[b+3]=g>>>24,b+4},a.prototype.writeInt32BE=function(g,b,k){return g=+g,b=b>>>0,k||Be(this,g,b,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4},a.prototype.writeBigInt64LE=Yt(function(g,b=0){return bt(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Yt(function(g,b=0){return Wt(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function je(x,g,b,k,R,O){if(b+k>x.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function L(x,g,b,k,R){return g=+g,b=b>>>0,R||je(x,g,b,4),n.write(x,g,b,k,23,4),b+4}a.prototype.writeFloatLE=function(g,b,k){return L(this,g,b,!0,k)},a.prototype.writeFloatBE=function(g,b,k){return L(this,g,b,!1,k)};function P(x,g,b,k,R){return g=+g,b=b>>>0,R||je(x,g,b,8),n.write(x,g,b,k,52,8),b+8}a.prototype.writeDoubleLE=function(g,b,k){return P(this,g,b,!0,k)},a.prototype.writeDoubleBE=function(g,b,k){return P(this,g,b,!1,k)},a.prototype.copy=function(g,b,k,R){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(k||(k=0),!R&&R!==0&&(R=this.length),b>=g.length&&(b=g.length),b||(b=0),R>0&&R<k&&(R=k),R===k||g.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),g.length-b<R-k&&(R=g.length-b+k);const O=R-k;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,k,R):Uint8Array.prototype.set.call(g,this.subarray(k,R),b),O},a.prototype.fill=function(g,b,k,R){if(typeof g=="string"){if(typeof b=="string"?(R=b,b=0,k=this.length):typeof k=="string"&&(R=k,k=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(g.length===1){const j=g.charCodeAt(0);(R==="utf8"&&j<128||R==="latin1")&&(g=j)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(b<0||this.length<b||this.length<k)throw new RangeError("Out of range index");if(k<=b)return this;b=b>>>0,k=k===void 0?this.length:k>>>0,g||(g=0);let O;if(typeof g=="number")for(O=b;O<k;++O)this[O]=g;else{const j=a.isBuffer(g)?g:a.from(g,R),de=j.length;if(de===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(O=0;O<k-b;++O)this[O+b]=j[O%de]}return this};const q={};function $(x,g,b){q[x]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),$("ERR_OUT_OF_RANGE",function(x,g,b){let k=`The value of "${x}" is out of range.`,R=b;return Number.isInteger(b)&&Math.abs(b)>2**32?R=Z(String(b)):typeof b=="bigint"&&(R=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(R=Z(R)),R+="n"),k+=` It must be ${g}. Received ${R}`,k},RangeError);function Z(x){let g="",b=x.length;const k=x[0]==="-"?1:0;for(;b>=k+4;b-=3)g=`_${x.slice(b-3,b)}${g}`;return`${x.slice(0,b)}${g}`}function C(x,g,b){V(g,"offset"),(x[g]===void 0||x[g+b]===void 0)&&W(g,x.length-(b+1))}function v(x,g,b,k,R,O){if(x>b||x<g){const j=typeof g=="bigint"?"n":"";let de;throw g===0||g===BigInt(0)?de=`>= 0${j} and < 2${j} ** ${(O+1)*8}${j}`:de=`>= -(2${j} ** ${(O+1)*8-1}${j}) and < 2 ** ${(O+1)*8-1}${j}`,new q.ERR_OUT_OF_RANGE("value",de,x)}C(k,R,O)}function V(x,g){if(typeof x!="number")throw new q.ERR_INVALID_ARG_TYPE(g,"number",x)}function W(x,g,b){throw Math.floor(x)!==x?(V(x,b),new q.ERR_OUT_OF_RANGE("offset","an integer",x)):g<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,x)}const fe=/[^+/0-9A-Za-z-_]/g;function ne(x){if(x=x.split("=")[0],x=x.trim().replace(fe,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function he(x,g){g=g||1/0;let b;const k=x.length;let R=null;const O=[];for(let j=0;j<k;++j){if(b=x.charCodeAt(j),b>55295&&b<57344){if(!R){if(b>56319){(g-=3)>-1&&O.push(239,191,189);continue}else if(j+1===k){(g-=3)>-1&&O.push(239,191,189);continue}R=b;continue}if(b<56320){(g-=3)>-1&&O.push(239,191,189),R=b;continue}b=(R-55296<<10|b-56320)+65536}else R&&(g-=3)>-1&&O.push(239,191,189);if(R=null,b<128){if((g-=1)<0)break;O.push(b)}else if(b<2048){if((g-=2)<0)break;O.push(b>>6|192,b&63|128)}else if(b<65536){if((g-=3)<0)break;O.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((g-=4)<0)break;O.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return O}function Zt(x){const g=[];for(let b=0;b<x.length;++b)g.push(x.charCodeAt(b)&255);return g}function Ci(x,g){let b,k,R;const O=[];for(let j=0;j<x.length&&!((g-=2)<0);++j)b=x.charCodeAt(j),k=b>>8,R=b%256,O.push(R),O.push(k);return O}function Ti(x){return t.toByteArray(ne(x))}function ki(x,g,b,k){let R;for(R=0;R<k&&!(R+b>=g.length||R>=x.length);++R)g[R+b]=x[R];return R}function It(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function Rr(x){return x!==x}const Ii=function(){const x="0123456789abcdef",g=new Array(256);for(let b=0;b<16;++b){const k=b*16;for(let R=0;R<16;++R)g[k+R]=x[b]+x[R]}return g}();function Yt(x){return typeof BigInt>"u"?ur:x}function ur(){throw new Error("BigInt not supported")}})(be);const zv=Ce({__proto__:null,default:wf(be)},[be]),gt={},S9=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"}));function Uv(e){return(typeof e=="object"&&e!==null&&"message"in e?e.message:`${e}`).replace(/\.$/,"")}class Fn{async getBufferFromResponse(t){const n=await t.arrayBuffer();return be.Buffer.from(n)}constructor(t,n={}){this.baseOverrides={},this.url=t;const r=n.fetch||globalThis.fetch.bind(globalThis);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(t,n){let r;try{r=await this.fetchImplementation(t,n)}catch(i){if(`${i}`.includes("Failed to fetch")){console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`);try{r=await this.fetchImplementation(t,{...n,cache:"reload"})}catch(s){throw new Error(`${Uv(s)} fetching ${t}`,{cause:s})}}else throw new Error(`${Uv(i)} fetching ${t}`,{cause:i})}return r}async read(t,n=0,r,i=0,s={}){const{headers:o={},signal:a,overrides:c={}}=s;r<1/0?o.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(o.range=`bytes=${i}-`);const l=await this.fetch(this.url,{...this.baseOverrides,...c,headers:{...o,...c.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${this.url}`);if(l.status===200&&i===0||l.status===206){const u=await this.getBufferFromResponse(l),f=u.copy(t,n,0,Math.min(r,u.length)),h=l.headers.get("content-range"),d=/\/(\d+)$/.exec(h||"");return d!=null&&d[1]&&(this._stat={size:parseInt(d[1],10)}),{bytesRead:f,buffer:t}}throw l.status===200?new Error(`${this.url} fetch returned status 200, expected 206`):new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(t={}){let n,r;typeof t=="string"?(n=t,r={}):(n=t.encoding,r=t,delete r.encoding);const{headers:i={},signal:s,overrides:o={}}=r,a=await this.fetch(this.url,{headers:i,method:"GET",redirect:"follow",mode:"cors",signal:s,...this.baseOverrides,...o});if(a.status!==200)throw new Error(`HTTP ${a.status} fetching ${this.url}`);if(n==="utf8")return a.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(a)}async stat(){if(!this._stat){const t=be.Buffer.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function Gv(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result!="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)})}function _9(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result=="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsText(e)})}class C9{constructor(t){this.blob=t,this.size=t.size}async read(t,n=0,r,i=0){if(!r)return{bytesRead:0,buffer:t};const s=i,o=s+r,a=await Gv(this.blob.slice(s,o)),c=be.Buffer.from(a);return{bytesRead:c.copy(t,n),buffer:c}}async readFile(t){const n=typeof t=="string"?t:t==null?void 0:t.encoding;if(n==="utf8")return _9(this.blob);if(n)throw new Error(`unsupported encoding: ${n}`);const r=await Gv(this.blob);return be.Buffer.from(r)}async stat(){return{size:this.size}}async close(){}}function Hv(e,t={}){return new Fn(e,t)}function T9(e,t,n,r={}){if(n!==void 0)return n;if(e!==void 0)return Hv(e,r);if(t!==void 0)return new gt(t,r);throw new Error("no url, path, or filehandle provided, cannot open")}const Fl=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:C9,LocalFile:gt,RemoteFile:Fn,fromUrl:Hv,open:T9},Symbol.toStringTag,{value:"Module"}));var Er={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(s,o){return Object.prototype.hasOwnProperty.call(s,o)}e.assign=function(s){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var a=o.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var c in a)n(a,c)&&(s[c]=a[c])}}return s},e.shrinkBuf=function(s,o){return s.length===o?s:s.subarray?s.subarray(0,o):(s.length=o,s)};var r={arraySet:function(s,o,a,c,l){if(o.subarray&&s.subarray){s.set(o.subarray(a,a+c),l);return}for(var u=0;u<c;u++)s[l+u]=o[a+u]},flattenChunks:function(s){var o,a,c,l,u,f;for(c=0,o=0,a=s.length;o<a;o++)c+=s[o].length;for(f=new Uint8Array(c),l=0,o=0,a=s.length;o<a;o++)u=s[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(s,o,a,c,l){for(var u=0;u<c;u++)s[l+u]=o[a+u]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(Er);var Rl={},Jn={},go={},k9=Er,I9=4,Vv=0,$v=1,B9=2;function mo(e){for(var t=e.length;--t>=0;)e[t]=0}var D9=0,jv=1,F9=2,R9=3,M9=258,dp=29,Ml=256,Pl=Ml+1+dp,bo=30,pp=19,qv=2*Pl+1,ls=15,gp=16,P9=7,mp=256,Wv=16,Zv=17,Yv=18,bp=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],vf=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Qv=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L9=512,Sr=new Array((Pl+2)*2);mo(Sr);var Nl=new Array(bo*2);mo(Nl);var Ll=new Array(L9);mo(Ll);var Ol=new Array(M9-R9+1);mo(Ol);var yp=new Array(dp);mo(yp);var Af=new Array(bo);mo(Af);function wp(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Xv,Kv,Jv;function xp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function e2(e){return e<256?Ll[e]:Ll[256+(e>>>7)]}function zl(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Vt(e,t,n){e.bi_valid>gp-n?(e.bi_buf|=t<<e.bi_valid&65535,zl(e,e.bi_buf),e.bi_buf=t>>gp-e.bi_valid,e.bi_valid+=n-gp):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function er(e,t,n){Vt(e,n[t*2],n[t*2+1])}function t2(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function O9(e){e.bi_valid===16?(zl(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function z9(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,f,h,d,p,m=0;for(h=0;h<=ls;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<qv;l++)u=e.heap[l],h=n[n[u*2+1]*2+1]+1,h>c&&(h=c,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=a&&(d=o[u-a]),p=n[u*2],e.opt_len+=p*(h+d),s&&(e.static_len+=p*(i[u*2+1]+d)));if(m!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--l],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),u--)}}function n2(e,t,n){var r=new Array(ls+1),i=0,s,o;for(s=1;s<=ls;s++)r[s]=i=i+n[s-1]<<1;for(o=0;o<=t;o++){var a=e[o*2+1];a!==0&&(e[o*2]=t2(r[a]++,a))}}function U9(){var e,t,n,r,i,s=new Array(ls+1);for(n=0,r=0;r<dp-1;r++)for(yp[r]=n,e=0;e<1<<bp[r];e++)Ol[n++]=r;for(Ol[n-1]=r,i=0,r=0;r<16;r++)for(Af[r]=i,e=0;e<1<<vf[r];e++)Ll[i++]=r;for(i>>=7;r<bo;r++)for(Af[r]=i<<7,e=0;e<1<<vf[r]-7;e++)Ll[256+i++]=r;for(t=0;t<=ls;t++)s[t]=0;for(e=0;e<=143;)Sr[e*2+1]=8,e++,s[8]++;for(;e<=255;)Sr[e*2+1]=9,e++,s[9]++;for(;e<=279;)Sr[e*2+1]=7,e++,s[7]++;for(;e<=287;)Sr[e*2+1]=8,e++,s[8]++;for(n2(Sr,Pl+1,s),e=0;e<bo;e++)Nl[e*2+1]=5,Nl[e*2]=t2(e,5);Xv=new wp(Sr,bp,Ml+1,Pl,ls),Kv=new wp(Nl,vf,0,bo,ls),Jv=new wp(new Array(0),N9,0,pp,P9)}function r2(e){var t;for(t=0;t<Pl;t++)e.dyn_ltree[t*2]=0;for(t=0;t<bo;t++)e.dyn_dtree[t*2]=0;for(t=0;t<pp;t++)e.bl_tree[t*2]=0;e.dyn_ltree[mp*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function i2(e){e.bi_valid>8?zl(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function G9(e,t,n,r){i2(e),zl(e,n),zl(e,~n),k9.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function s2(e,t,n,r){var i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function vp(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&s2(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!s2(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function o2(e,t,n){var r,i,s=0,o,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],i=e.pending_buf[e.l_buf+s],s++,r===0?er(e,i,t):(o=Ol[i],er(e,o+Ml+1,t),a=bp[o],a!==0&&(i-=yp[o],Vt(e,i,a)),r--,o=e2(r),er(e,o,n),a=vf[o],a!==0&&(r-=Af[o],Vt(e,r,a)));while(s<e.last_lit);er(e,mp,t)}function Ap(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,c=-1,l;for(e.heap_len=0,e.heap_max=qv,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)vp(e,n,o);l=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vp(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[l*2]=n[o*2]+n[a*2],e.depth[l]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=l,e.heap[1]=l++,vp(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],z9(e,t),n2(n,c,e.bl_count)}function a2(e,t,n){var r,i=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<c&&s===o)&&(a<l?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Wv*2]++):a<=10?e.bl_tree[Zv*2]++:e.bl_tree[Yv*2]++,a=0,i=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4))}function l2(e,t,n){var r,i=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<c&&s===o)){if(a<l)do er(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(er(e,s,e.bl_tree),a--),er(e,Wv,e.bl_tree),Vt(e,a-3,2)):a<=10?(er(e,Zv,e.bl_tree),Vt(e,a-3,3)):(er(e,Yv,e.bl_tree),Vt(e,a-11,7));a=0,i=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4)}}function H9(e){var t;for(a2(e,e.dyn_ltree,e.l_desc.max_code),a2(e,e.dyn_dtree,e.d_desc.max_code),Ap(e,e.bl_desc),t=pp-1;t>=3&&e.bl_tree[Qv[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function V9(e,t,n,r){var i;for(Vt(e,t-257,5),Vt(e,n-1,5),Vt(e,r-4,4),i=0;i<r;i++)Vt(e,e.bl_tree[Qv[i]*2+1],3);l2(e,e.dyn_ltree,t-1),l2(e,e.dyn_dtree,n-1)}function $9(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Vv;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return $v;for(n=32;n<Ml;n++)if(e.dyn_ltree[n*2]!==0)return $v;return Vv}var c2=!1;function j9(e){c2||(U9(),c2=!0),e.l_desc=new xp(e.dyn_ltree,Xv),e.d_desc=new xp(e.dyn_dtree,Kv),e.bl_desc=new xp(e.bl_tree,Jv),e.bi_buf=0,e.bi_valid=0,r2(e)}function u2(e,t,n,r){Vt(e,(D9<<1)+(r?1:0),3),G9(e,t,n)}function q9(e){Vt(e,jv<<1,3),er(e,mp,Sr),O9(e)}function W9(e,t,n,r){var i,s,o=0;e.level>0?(e.strm.data_type===B9&&(e.strm.data_type=$9(e)),Ap(e,e.l_desc),Ap(e,e.d_desc),o=H9(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?u2(e,t,n,r):e.strategy===I9||s===i?(Vt(e,(jv<<1)+(r?1:0),3),o2(e,Sr,Nl)):(Vt(e,(F9<<1)+(r?1:0),3),V9(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),o2(e,e.dyn_ltree,e.dyn_dtree)),r2(e),r&&i2(e)}function Z9(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Ol[n]+Ml+1)*2]++,e.dyn_dtree[e2(t)*2]++),e.last_lit===e.lit_bufsize-1}go._tr_init=j9,go._tr_stored_block=u2,go._tr_flush_block=W9,go._tr_tally=Z9,go._tr_align=q9;function Y9(e,t,n,r){for(var i=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}var f2=Y9;function Q9(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var X9=Q9();function K9(e,t,n,r){var i=X9,s=r+n;e^=-1;for(var o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1}var h2=K9,Ep={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pt=Er,dn=go,d2=f2,li=h2,J9=Ep,cs=0,eN=1,tN=3,ci=4,p2=5,tr=0,g2=1,pn=-2,nN=-3,Sp=-5,rN=-1,iN=1,Ef=2,sN=3,oN=4,aN=0,lN=2,Sf=8,cN=9,uN=15,fN=8,hN=29,dN=256,_p=dN+1+hN,pN=30,gN=19,mN=2*_p+1,bN=15,ge=3,ui=258,Rn=ui+ge+1,yN=32,_f=42,Cp=69,Cf=73,Tf=91,kf=103,us=113,Ul=666,ct=1,Gl=2,fs=3,yo=4,wN=3;function fi(e,t){return e.msg=J9[t],t}function m2(e){return(e<<1)-(e>4?9:0)}function hi(e){for(var t=e.length;--t>=0;)e[t]=0}function di(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(Pt.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function vt(e,t){dn._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,di(e.strm)}function Ee(e,t){e.pending_buf[e.pending++]=t}function Hl(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function xN(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,Pt.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=d2(e.adler,t,i,n):e.state.wrap===2&&(e.adler=li(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function b2(e,t){var n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-Rn?e.strstart-(e.w_size-Rn):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+ui,d=l[r+o-1],p=l[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(l[i+o]!==p||l[i+o-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<h);if(s=ui-(h-r),r=h-ui,s>o){if(e.match_start=t,o=s,s>=a)break;d=l[r+o-1],p=l[r+o]}}while((t=f[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead}function hs(e){var t=e.w_size,n,r,i,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Rn)){Pt.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);s+=t}if(e.strm.avail_in===0)break;if(r=xN(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=r,e.lookahead+e.insert>=ge)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ge-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ge)););}while(e.lookahead<Rn&&e.strm.avail_in!==0)}function vN(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(hs(e),e.lookahead===0&&t===cs)return ct;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,vt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Rn&&(vt(e,!1),e.strm.avail_out===0))return ct}return e.insert=0,t===ci?(vt(e,!0),e.strm.avail_out===0?fs:yo):(e.strstart>e.block_start&&(vt(e,!1),e.strm.avail_out===0),ct)}function Tp(e,t){for(var n,r;;){if(e.lookahead<Rn){if(hs(e),e.lookahead<Rn&&t===cs)return ct;if(e.lookahead===0)break}if(n=0,e.lookahead>=ge&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ge-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Rn&&(e.match_length=b2(e,n)),e.match_length>=ge)if(r=dn._tr_tally(e,e.strstart-e.match_start,e.match_length-ge),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ge){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ge-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=dn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(vt(e,!1),e.strm.avail_out===0))return ct}return e.insert=e.strstart<ge-1?e.strstart:ge-1,t===ci?(vt(e,!0),e.strm.avail_out===0?fs:yo):e.last_lit&&(vt(e,!1),e.strm.avail_out===0)?ct:Gl}function wo(e,t){for(var n,r,i;;){if(e.lookahead<Rn){if(hs(e),e.lookahead<Rn&&t===cs)return ct;if(e.lookahead===0)break}if(n=0,e.lookahead>=ge&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ge-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ge-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Rn&&(e.match_length=b2(e,n),e.match_length<=5&&(e.strategy===iN||e.match_length===ge&&e.strstart-e.match_start>4096)&&(e.match_length=ge-1)),e.prev_length>=ge&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-ge,r=dn._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ge),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ge-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=ge-1,e.strstart++,r&&(vt(e,!1),e.strm.avail_out===0))return ct}else if(e.match_available){if(r=dn._tr_tally(e,0,e.window[e.strstart-1]),r&&vt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ct}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=dn._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ge-1?e.strstart:ge-1,t===ci?(vt(e,!0),e.strm.avail_out===0?fs:yo):e.last_lit&&(vt(e,!1),e.strm.avail_out===0)?ct:Gl}function AN(e,t){for(var n,r,i,s,o=e.window;;){if(e.lookahead<=ui){if(hs(e),e.lookahead<=ui&&t===cs)return ct;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=ge&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+ui;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=ui-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ge?(n=dn._tr_tally(e,1,e.match_length-ge),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=dn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(vt(e,!1),e.strm.avail_out===0))return ct}return e.insert=0,t===ci?(vt(e,!0),e.strm.avail_out===0?fs:yo):e.last_lit&&(vt(e,!1),e.strm.avail_out===0)?ct:Gl}function EN(e,t){for(var n;;){if(e.lookahead===0&&(hs(e),e.lookahead===0)){if(t===cs)return ct;break}if(e.match_length=0,n=dn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(vt(e,!1),e.strm.avail_out===0))return ct}return e.insert=0,t===ci?(vt(e,!0),e.strm.avail_out===0?fs:yo):e.last_lit&&(vt(e,!1),e.strm.avail_out===0)?ct:Gl}function nr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var xo;xo=[new nr(0,0,0,0,vN),new nr(4,4,8,4,Tp),new nr(4,5,16,8,Tp),new nr(4,6,32,32,Tp),new nr(4,4,16,16,wo),new nr(8,16,32,32,wo),new nr(8,16,128,128,wo),new nr(8,32,128,256,wo),new nr(32,128,258,1024,wo),new nr(32,258,258,4096,wo)];function SN(e){e.window_size=2*e.w_size,hi(e.head),e.max_lazy_match=xo[e.level].max_lazy,e.good_match=xo[e.level].good_length,e.nice_match=xo[e.level].nice_length,e.max_chain_length=xo[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ge-1,e.match_available=0,e.ins_h=0}function _N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Sf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Pt.Buf16(mN*2),this.dyn_dtree=new Pt.Buf16((2*pN+1)*2),this.bl_tree=new Pt.Buf16((2*gN+1)*2),hi(this.dyn_ltree),hi(this.dyn_dtree),hi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Pt.Buf16(bN+1),this.heap=new Pt.Buf16(2*_p+1),hi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Pt.Buf16(2*_p+1),hi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y2(e){var t;return!e||!e.state?fi(e,pn):(e.total_in=e.total_out=0,e.data_type=lN,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?_f:us,e.adler=t.wrap===2?0:1,t.last_flush=cs,dn._tr_init(t),tr)}function w2(e){var t=y2(e);return t===tr&&SN(e.state),t}function CN(e,t){return!e||!e.state||e.state.wrap!==2?pn:(e.state.gzhead=t,tr)}function x2(e,t,n,r,i,s){if(!e)return pn;var o=1;if(t===rN&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>cN||n!==Sf||r<8||r>15||t<0||t>9||s<0||s>oN)return fi(e,pn);r===8&&(r=9);var a=new _N;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ge-1)/ge),a.window=new Pt.Buf8(a.w_size*2),a.head=new Pt.Buf16(a.hash_size),a.prev=new Pt.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Pt.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=n,w2(e)}function TN(e,t){return x2(e,t,Sf,uN,fN,aN)}function kN(e,t){var n,r,i,s;if(!e||!e.state||t>p2||t<0)return e?fi(e,pn):pn;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Ul&&t!==ci)return fi(e,e.avail_out===0?Sp:pn);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===_f)if(r.wrap===2)e.adler=0,Ee(r,31),Ee(r,139),Ee(r,8),r.gzhead?(Ee(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ee(r,r.gzhead.time&255),Ee(r,r.gzhead.time>>8&255),Ee(r,r.gzhead.time>>16&255),Ee(r,r.gzhead.time>>24&255),Ee(r,r.level===9?2:r.strategy>=Ef||r.level<2?4:0),Ee(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Ee(r,r.gzhead.extra.length&255),Ee(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=li(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Cp):(Ee(r,0),Ee(r,0),Ee(r,0),Ee(r,0),Ee(r,0),Ee(r,r.level===9?2:r.strategy>=Ef||r.level<2?4:0),Ee(r,wN),r.status=us);else{var o=Sf+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=Ef||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,o|=a<<6,r.strstart!==0&&(o|=yN),o+=31-o%31,r.status=us,Hl(r,o),r.strstart!==0&&(Hl(r,e.adler>>>16),Hl(r,e.adler&65535)),e.adler=1}if(r.status===Cp)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),di(e),i=r.pending,r.pending===r.pending_buf_size));)Ee(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Cf)}else r.status=Cf;if(r.status===Cf)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),di(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Ee(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.gzindex=0,r.status=Tf)}else r.status=Tf;if(r.status===Tf)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),di(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Ee(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=li(e.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.status=kf)}else r.status=kf;if(r.status===kf&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&di(e),r.pending+2<=r.pending_buf_size&&(Ee(r,e.adler&255),Ee(r,e.adler>>8&255),e.adler=0,r.status=us)):r.status=us),r.pending!==0){if(di(e),e.avail_out===0)return r.last_flush=-1,tr}else if(e.avail_in===0&&m2(t)<=m2(n)&&t!==ci)return fi(e,Sp);if(r.status===Ul&&e.avail_in!==0)return fi(e,Sp);if(e.avail_in!==0||r.lookahead!==0||t!==cs&&r.status!==Ul){var c=r.strategy===Ef?EN(r,t):r.strategy===sN?AN(r,t):xo[r.level].func(r,t);if((c===fs||c===yo)&&(r.status=Ul),c===ct||c===fs)return e.avail_out===0&&(r.last_flush=-1),tr;if(c===Gl&&(t===eN?dn._tr_align(r):t!==p2&&(dn._tr_stored_block(r,0,0,!1),t===tN&&(hi(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),di(e),e.avail_out===0))return r.last_flush=-1,tr}return t!==ci?tr:r.wrap<=0?g2:(r.wrap===2?(Ee(r,e.adler&255),Ee(r,e.adler>>8&255),Ee(r,e.adler>>16&255),Ee(r,e.adler>>24&255),Ee(r,e.total_in&255),Ee(r,e.total_in>>8&255),Ee(r,e.total_in>>16&255),Ee(r,e.total_in>>24&255)):(Hl(r,e.adler>>>16),Hl(r,e.adler&65535)),di(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?tr:g2)}function IN(e){var t;return!e||!e.state?pn:(t=e.state.status,t!==_f&&t!==Cp&&t!==Cf&&t!==Tf&&t!==kf&&t!==us&&t!==Ul?fi(e,pn):(e.state=null,t===us?fi(e,nN):tr))}function BN(e,t){var n=t.length,r,i,s,o,a,c,l,u;if(!e||!e.state||(r=e.state,o=r.wrap,o===2||o===1&&r.status!==_f||r.lookahead))return pn;for(o===1&&(e.adler=d2(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(o===0&&(hi(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new Pt.Buf8(r.w_size),Pt.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,c=e.next_in,l=e.input,e.avail_in=n,e.next_in=0,e.input=t,hs(r);r.lookahead>=ge;){i=r.strstart,s=r.lookahead-(ge-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+ge-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--s);r.strstart=i,r.lookahead=ge-1,hs(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ge-1,r.match_available=0,e.next_in=c,e.input=l,e.avail_in=a,r.wrap=o,tr}Jn.deflateInit=TN,Jn.deflateInit2=x2,Jn.deflateReset=w2,Jn.deflateResetKeep=y2,Jn.deflateSetHeader=CN,Jn.deflate=kN,Jn.deflateEnd=IN,Jn.deflateSetDictionary=BN,Jn.deflateInfo="pako deflate (from Nodeca project)";var ds={},If=Er,v2=!0,A2=!0;try{String.fromCharCode.apply(null,[0])}catch{v2=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A2=!1}for(var Vl=new If.Buf8(256),pi=0;pi<256;pi++)Vl[pi]=pi>=252?6:pi>=248?5:pi>=240?4:pi>=224?3:pi>=192?2:1;Vl[254]=Vl[254]=1,ds.string2buf=function(e){var t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new If.Buf8(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};function E2(e,t){if(t<65534&&(e.subarray&&A2||!e.subarray&&v2))return String.fromCharCode.apply(null,If.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}ds.buf2binstring=function(e){return E2(e,e.length)},ds.binstring2buf=function(e){for(var t=new If.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},ds.buf2string=function(e,t){var n,r,i,s,o=t||e.length,a=new Array(o*2);for(r=0,n=0;n<o;){if(i=e[n++],i<128){a[r++]=i;continue}if(s=Vl[i],s>4){a[r++]=65533,n+=s-1;continue}for(i&=s===2?31:s===3?15:7;s>1&&n<o;)i=i<<6|e[n++]&63,s--;if(s>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return E2(a,r)},ds.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Vl[e[n]]>t?n:t};function DN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S2=DN,$l=Jn,jl=Er,kp=ds,Ip=Ep,FN=S2,_2=Object.prototype.toString,RN=0,Bp=4,vo=0,C2=1,T2=2,MN=-1,PN=0,NN=8;function ps(e){if(!(this instanceof ps))return new ps(e);this.options=jl.assign({level:MN,method:NN,chunkSize:16384,windowBits:15,memLevel:8,strategy:PN,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FN,this.strm.avail_out=0;var n=$l.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==vo)throw new Error(Ip[n]);if(t.header&&$l.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=kp.string2buf(t.dictionary):_2.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=$l.deflateSetDictionary(this.strm,r),n!==vo)throw new Error(Ip[n]);this._dict_set=!0}}ps.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;s=t===~~t?t:t===!0?Bp:RN,typeof e=="string"?n.input=kp.string2buf(e):_2.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new jl.Buf8(r),n.next_out=0,n.avail_out=r),i=$l.deflate(n,s),i!==C2&&i!==vo)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(s===Bp||s===T2))&&(this.options.to==="string"?this.onData(kp.buf2binstring(jl.shrinkBuf(n.output,n.next_out))):this.onData(jl.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==C2);return s===Bp?(i=$l.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===vo):(s===T2&&(this.onEnd(vo),n.avail_out=0),!0)},ps.prototype.onData=function(e){this.chunks.push(e)},ps.prototype.onEnd=function(e){e===vo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Dp(e,t){var n=new ps(t);if(n.push(e,!0),n.err)throw n.msg||Ip[n.err];return n.result}function LN(e,t){return t=t||{},t.raw=!0,Dp(e,t)}function ON(e,t){return t=t||{},t.gzip=!0,Dp(e,t)}Rl.Deflate=ps,Rl.deflate=Dp,Rl.deflateRaw=LN,Rl.gzip=ON;var ql={},Mn={},Bf=30,zN=12,UN=function(t,n){var r,i,s,o,a,c,l,u,f,h,d,p,m,y,w,A,_,S,T,B,I,D,M,U,N;r=t.state,i=t.next_in,U=t.input,s=i+(t.avail_in-5),o=t.next_out,N=t.output,a=o-(n-t.avail_out),c=o+(t.avail_out-257),l=r.dmax,u=r.wsize,f=r.whave,h=r.wnext,d=r.window,p=r.hold,m=r.bits,y=r.lencode,w=r.distcode,A=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{m<15&&(p+=U[i++]<<m,m+=8,p+=U[i++]<<m,m+=8),S=y[p&A];t:for(;;){if(T=S>>>24,p>>>=T,m-=T,T=S>>>16&255,T===0)N[o++]=S&65535;else if(T&16){B=S&65535,T&=15,T&&(m<T&&(p+=U[i++]<<m,m+=8),B+=p&(1<<T)-1,p>>>=T,m-=T),m<15&&(p+=U[i++]<<m,m+=8,p+=U[i++]<<m,m+=8),S=w[p&_];n:for(;;){if(T=S>>>24,p>>>=T,m-=T,T=S>>>16&255,T&16){if(I=S&65535,T&=15,m<T&&(p+=U[i++]<<m,m+=8,m<T&&(p+=U[i++]<<m,m+=8)),I+=p&(1<<T)-1,I>l){t.msg="invalid distance too far back",r.mode=Bf;break e}if(p>>>=T,m-=T,T=o-a,I>T){if(T=I-T,T>f&&r.sane){t.msg="invalid distance too far back",r.mode=Bf;break e}if(D=0,M=d,h===0){if(D+=u-T,T<B){B-=T;do N[o++]=d[D++];while(--T);D=o-I,M=N}}else if(h<T){if(D+=u+h-T,T-=h,T<B){B-=T;do N[o++]=d[D++];while(--T);if(D=0,h<B){T=h,B-=T;do N[o++]=d[D++];while(--T);D=o-I,M=N}}}else if(D+=h-T,T<B){B-=T;do N[o++]=d[D++];while(--T);D=o-I,M=N}for(;B>2;)N[o++]=M[D++],N[o++]=M[D++],N[o++]=M[D++],B-=3;B&&(N[o++]=M[D++],B>1&&(N[o++]=M[D++]))}else{D=o-I;do N[o++]=N[D++],N[o++]=N[D++],N[o++]=N[D++],B-=3;while(B>2);B&&(N[o++]=N[D++],B>1&&(N[o++]=N[D++]))}}else if(T&64){t.msg="invalid distance code",r.mode=Bf;break e}else{S=w[(S&65535)+(p&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){r.mode=zN;break e}else{t.msg="invalid literal/length code",r.mode=Bf;break e}else{S=y[(S&65535)+(p&(1<<T)-1)];continue t}break}}while(i<s&&o<c);B=m>>3,i-=B,m-=B<<3,p&=(1<<m)-1,t.next_in=i,t.next_out=o,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=o<c?257+(c-o):257-(o-c),r.hold=p,r.bits=m},k2=Er,Ao=15,I2=852,B2=592,D2=0,Fp=1,F2=2,GN=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],HN=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],VN=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],jN=function(t,n,r,i,s,o,a,c){var l=c.bits,u=0,f=0,h=0,d=0,p=0,m=0,y=0,w=0,A=0,_=0,S,T,B,I,D,M=null,U=0,N,te=new k2.Buf16(Ao+1),re=new k2.Buf16(Ao+1),ue=null,pe=0,Se,_e,Le;for(u=0;u<=Ao;u++)te[u]=0;for(f=0;f<i;f++)te[n[r+f]]++;for(p=l,d=Ao;d>=1&&te[d]===0;d--);if(p>d&&(p=d),d===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(h=1;h<d&&te[h]===0;h++);for(p<h&&(p=h),w=1,u=1;u<=Ao;u++)if(w<<=1,w-=te[u],w<0)return-1;if(w>0&&(t===D2||d!==1))return-1;for(re[1]=0,u=1;u<Ao;u++)re[u+1]=re[u]+te[u];for(f=0;f<i;f++)n[r+f]!==0&&(a[re[n[r+f]]++]=f);if(t===D2?(M=ue=a,N=19):t===Fp?(M=GN,U-=257,ue=HN,pe-=257,N=256):(M=VN,ue=$N,N=-1),_=0,f=0,u=h,D=o,m=p,y=0,B=-1,A=1<<p,I=A-1,t===Fp&&A>I2||t===F2&&A>B2)return 1;for(;;){Se=u-y,a[f]<N?(_e=0,Le=a[f]):a[f]>N?(_e=ue[pe+a[f]],Le=M[U+a[f]]):(_e=96,Le=0),S=1<<u-y,T=1<<m,h=T;do T-=S,s[D+(_>>y)+T]=Se<<24|_e<<16|Le|0;while(T!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,f++,--te[u]===0){if(u===d)break;u=n[r+a[f]]}if(u>p&&(_&I)!==B){for(y===0&&(y=p),D+=h,m=u-y,w=1<<m;m+y<d&&(w-=te[m+y],!(w<=0));)m++,w<<=1;if(A+=1<<m,t===Fp&&A>I2||t===F2&&A>B2)return 1;B=_&I,s[B]=p<<24|m<<16|D-o|0}}return _!==0&&(s[D+_]=u-y<<24|64<<16|0),c.bits=p,0},Jt=Er,Rp=f2,rr=h2,qN=UN,Wl=jN,WN=0,R2=1,M2=2,P2=4,ZN=5,Df=6,gs=0,YN=1,QN=2,gn=-2,N2=-3,L2=-4,XN=-5,O2=8,z2=1,U2=2,G2=3,H2=4,V2=5,$2=6,j2=7,q2=8,W2=9,Z2=10,Ff=11,_r=12,Mp=13,Y2=14,Pp=15,Q2=16,X2=17,K2=18,J2=19,Rf=20,Mf=21,eA=22,tA=23,nA=24,rA=25,iA=26,Np=27,sA=28,oA=29,Xe=30,aA=31,KN=32,JN=852,eL=592,tL=15,nL=tL;function lA(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function rL(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Jt.Buf16(320),this.work=new Jt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function cA(e){var t;return!e||!e.state?gn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=z2,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Jt.Buf32(JN),t.distcode=t.distdyn=new Jt.Buf32(eL),t.sane=1,t.back=-1,gs)}function uA(e){var t;return!e||!e.state?gn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,cA(e))}function fA(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?gn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,uA(e))}function hA(e,t){var n,r;return e?(r=new rL,e.state=r,r.window=null,n=fA(e,t),n!==gs&&(e.state=null),n):gn}function iL(e){return hA(e,nL)}var dA=!0,Lp,Op;function sL(e){if(dA){var t;for(Lp=new Jt.Buf32(512),Op=new Jt.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Wl(R2,e.lens,0,288,Lp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Wl(M2,e.lens,0,32,Op,0,e.work,{bits:5}),dA=!1}e.lencode=Lp,e.lenbits=9,e.distcode=Op,e.distbits=5}function pA(e,t,n,r){var i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Jt.Buf8(s.wsize)),r>=s.wsize?(Jt.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),Jt.arraySet(s.window,t,n-r,i,s.wnext),r-=i,r?(Jt.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function oL(e,t){var n,r,i,s,o,a,c,l,u,f,h,d,p,m,y=0,w,A,_,S,T,B,I,D,M=new Jt.Buf8(4),U,N,te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return gn;n=e.state,n.mode===_r&&(n.mode=Mp),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,f=a,h=c,D=gs;e:for(;;)switch(n.mode){case z2:if(n.wrap===0){n.mode=Mp;break}for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.wrap&2&&l===35615){n.check=0,M[0]=l&255,M[1]=l>>>8&255,n.check=rr(n.check,M,2,0),l=0,u=0,n.mode=U2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Xe;break}if((l&15)!==O2){e.msg="unknown compression method",n.mode=Xe;break}if(l>>>=4,u-=4,I=(l&15)+8,n.wbits===0)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=Xe;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=l&512?Z2:_r,l=0,u=0;break;case U2:for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==O2){e.msg="unknown compression method",n.mode=Xe;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Xe;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=rr(n.check,M,2,0)),l=0,u=0,n.mode=G2;case G2:for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,M[2]=l>>>16&255,M[3]=l>>>24&255,n.check=rr(n.check,M,4,0)),l=0,u=0,n.mode=H2;case H2:for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=rr(n.check,M,2,0)),l=0,u=0,n.mode=V2;case V2:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=rr(n.check,M,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=$2;case $2:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Jt.arraySet(n.head.extra,r,s,d,I)),n.flags&512&&(n.check=rr(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=j2;case j2:if(n.flags&2048){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=rr(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=q2;case q2:if(n.flags&4096){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=rr(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=W2;case W2:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Xe;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=_r;break;case Z2:for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}e.adler=n.check=lA(l),l=0,u=0,n.mode=Ff;case Ff:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,QN;e.adler=n.check=1,n.mode=_r;case _r:if(t===ZN||t===Df)break e;case Mp:if(n.last){l>>>=u&7,u-=u&7,n.mode=Np;break}for(;u<3;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=Y2;break;case 1:if(sL(n),n.mode=Rf,t===Df){l>>>=2,u-=2;break e}break;case 2:n.mode=X2;break;case 3:e.msg="invalid block type",n.mode=Xe}l>>>=2,u-=2;break;case Y2:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Xe;break}if(n.length=l&65535,l=0,u=0,n.mode=Pp,t===Df)break e;case Pp:n.mode=Q2;case Q2:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break e;Jt.arraySet(i,r,s,d,o),a-=d,s+=d,c-=d,o+=d,n.length-=d;break}n.mode=_r;break;case X2:for(;u<14;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Xe;break}n.have=0,n.mode=K2;case K2:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.lens[te[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},D=Wl(WN,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,D){e.msg="invalid code lengths set",n.mode=Xe;break}n.have=0,n.mode=J2;case J2:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(_<16)l>>>=w,u-=w,n.lens[n.have++]=_;else{if(_===16){for(N=w+2;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(l>>>=w,u-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=Xe;break}I=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(_===17){for(N=w+3;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=w,u-=w,I=0,d=3+(l&7),l>>>=3,u-=3}else{for(N=w+7;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=w,u-=w,I=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Xe;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===Xe)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Xe;break}if(n.lenbits=9,U={bits:n.lenbits},D=Wl(R2,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,D){e.msg="invalid literal/lengths set",n.mode=Xe;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},D=Wl(M2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,D){e.msg="invalid distances set",n.mode=Xe;break}if(n.mode=Rf,t===Df)break e;case Rf:n.mode=Mf;case Mf:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,qN(e,h),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,n.mode===_r&&(n.back=-1);break}for(n.back=0;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(A&&!(A&240)){for(S=w,T=A,B=_;y=n.lencode[B+((l&(1<<S+T)-1)>>S)],w=y>>>24,A=y>>>16&255,_=y&65535,!(S+w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=S,u-=S,n.back+=S}if(l>>>=w,u-=w,n.back+=w,n.length=_,A===0){n.mode=iA;break}if(A&32){n.back=-1,n.mode=_r;break}if(A&64){e.msg="invalid literal/length code",n.mode=Xe;break}n.extra=A&15,n.mode=eA;case eA:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tA;case tA:for(;y=n.distcode[l&(1<<n.distbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(!(A&240)){for(S=w,T=A,B=_;y=n.distcode[B+((l&(1<<S+T)-1)>>S)],w=y>>>24,A=y>>>16&255,_=y&65535,!(S+w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=S,u-=S,n.back+=S}if(l>>>=w,u-=w,n.back+=w,A&64){e.msg="invalid distance code",n.mode=Xe;break}n.offset=_,n.extra=A&15,n.mode=nA;case nA:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Xe;break}n.mode=rA;case rA:if(c===0)break e;if(d=h-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Xe;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=o-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[o++]=m[p++];while(--d);n.length===0&&(n.mode=Mf);break;case iA:if(c===0)break e;i[o++]=n.length,c--,n.mode=Mf;break;case Np:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[s++]<<u,u+=8}if(h-=c,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?rr(n.check,i,h,o-h):Rp(n.check,i,h,o-h)),h=c,(n.flags?l:lA(l))!==n.check){e.msg="incorrect data check",n.mode=Xe;break}l=0,u=0}n.mode=sA;case sA:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Xe;break}l=0,u=0}n.mode=oA;case oA:D=YN;break e;case Xe:D=N2;break e;case aA:return L2;case KN:default:return gn}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Xe&&(n.mode<Np||t!==P2))&&pA(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?rr(n.check,i,h,e.next_out-h):Rp(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===_r?128:0)+(n.mode===Rf||n.mode===Pp?256:0),(f===0&&h===0||t===P2)&&D===gs&&(D=XN),D}function aL(e){if(!e||!e.state)return gn;var t=e.state;return t.window&&(t.window=null),e.state=null,gs}function lL(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?gn:(n.head=t,t.done=!1,gs)}function cL(e,t){var n=t.length,r,i,s;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Ff)?gn:r.mode===Ff&&(i=1,i=Rp(i,t,n,0),i!==r.check)?N2:(s=pA(e,t,n,n),s?(r.mode=aA,L2):(r.havedict=1,gs))}Mn.inflateReset=uA,Mn.inflateReset2=fA,Mn.inflateResetKeep=cA,Mn.inflateInit=iL,Mn.inflateInit2=hA,Mn.inflate=oL,Mn.inflateEnd=aL,Mn.inflateGetHeader=lL,Mn.inflateSetDictionary=cL,Mn.inflateInfo="pako inflate (from Nodeca project)";var gA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function uL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fL=uL,Eo=Mn,Zl=Er,Pf=ds,rt=gA,zp=Ep,hL=S2,dL=fL,mA=Object.prototype.toString;function ms(e){if(!(this instanceof ms))return new ms(e);this.options=Zl.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hL,this.strm.avail_out=0;var n=Eo.inflateInit2(this.strm,t.windowBits);if(n!==rt.Z_OK)throw new Error(zp[n]);if(this.header=new dL,Eo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Pf.string2buf(t.dictionary):mA.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Eo.inflateSetDictionary(this.strm,t.dictionary),n!==rt.Z_OK)))throw new Error(zp[n])}ms.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a,c,l,u=!1;if(this.ended)return!1;o=t===~~t?t:t===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof e=="string"?n.input=Pf.binstring2buf(e):mA.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Zl.Buf8(r),n.next_out=0,n.avail_out=r),s=Eo.inflate(n,rt.Z_NO_FLUSH),s===rt.Z_NEED_DICT&&i&&(s=Eo.inflateSetDictionary(this.strm,i)),s===rt.Z_BUF_ERROR&&u===!0&&(s=rt.Z_OK,u=!1),s!==rt.Z_STREAM_END&&s!==rt.Z_OK)return this.onEnd(s),this.ended=!0,!1;n.next_out&&(n.avail_out===0||s===rt.Z_STREAM_END||n.avail_in===0&&(o===rt.Z_FINISH||o===rt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=Pf.utf8border(n.output,n.next_out),c=n.next_out-a,l=Pf.buf2string(n.output,a),n.next_out=c,n.avail_out=r-c,c&&Zl.arraySet(n.output,n.output,a,c,0),this.onData(l)):this.onData(Zl.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&s!==rt.Z_STREAM_END);return s===rt.Z_STREAM_END&&(o=rt.Z_FINISH),o===rt.Z_FINISH?(s=Eo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===rt.Z_OK):(o===rt.Z_SYNC_FLUSH&&(this.onEnd(rt.Z_OK),n.avail_out=0),!0)},ms.prototype.onData=function(e){this.chunks.push(e)},ms.prototype.onEnd=function(e){e===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Up(e,t){var n=new ms(t);if(n.push(e,!0),n.err)throw n.msg||zp[n.err];return n.result}function pL(e,t){return t=t||{},t.raw=!0,Up(e,t)}ql.Inflate=ms,ql.inflate=Up,ql.inflateRaw=pL,ql.ungzip=Up;var gL=Er.assign,mL=Rl,bL=ql,yL=gA,bA={};gL(bA,mL,bL,yL);var Nf=bA;async function gi(e){try{let t,n=0,r=0;const i=[];let s=0,o;do{const c=e.subarray(n);if(o=new Nf.Inflate,{strm:t}=o,o.push(c,Nf.Z_SYNC_FLUSH),o.err)throw new Error(o.msg);n+=t.next_in,i[r]=o.result,s+=i[r].length,r+=1}while(t.avail_in);const a=new Uint8Array(s);for(let c=0,l=0;c<i.length;c++)a.set(i[c],l),l+=i[c].length;return be.Buffer.from(a)}catch(t){throw`${t}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function yA(e,t){try{let n;const{minv:r,maxv:i}=t;let s=r.blockPosition,o=r.dataPosition;const a=[],c=[],l=[];let u=0,f=0;do{const p=e.subarray(s-r.blockPosition),m=new Nf.Inflate;if({strm:n}=m,m.push(p,Nf.Z_SYNC_FLUSH),m.err)throw new Error(m.msg);const y=m.result;a.push(y);let w=y.length;c.push(s),l.push(o),a.length===1&&r.dataPosition&&(a[0]=a[0].subarray(r.dataPosition),w=a[0].length);const A=s;if(s+=n.next_in,o+=w,A>=i.blockPosition){a[f]=a[f].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),c.push(s),l.push(o),u+=a[f].length;break}u+=a[f].length,f++}while(n.avail_in);const h=new Uint8Array(u);for(let p=0,m=0;p<a.length;p++)h.set(a[p],m),m+=a[p].length;return{buffer:be.Buffer.from(h),cpositions:c,dpositions:l}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}var wL=Ve,mn=null;try{mn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ve(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}Ve.prototype.__isLong__,Object.defineProperty(Ve.prototype,"__isLong__",{value:!0});function $t(e){return(e&&e.__isLong__)===!0}Ve.isLong=$t;var wA={},xA={};function bs(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=xA[e],r)?r:(n=$e(e,(e|0)<0?-1:0,!0),i&&(xA[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=wA[e],r)?r:(n=$e(e,e<0?-1:0,!1),i&&(wA[e]=n),n))}Ve.fromInt=bs;function bn(e,t){if(isNaN(e))return t?ys:yn;if(t){if(e<0)return ys;if(e>=AA)return TA}else{if(e<=-EA)return jt;if(e+1>=EA)return CA}return e<0?bn(-e,t).neg():$e(e%So|0,e/So|0,t)}Ve.fromNumber=bn;function $e(e,t,n){return new Ve(e,t,n)}Ve.fromBits=$e;var Lf=Math.pow;function Gp(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return yn;if(typeof t=="number"?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Gp(e.substring(1),t,n).neg();for(var i=bn(Lf(n,8)),s=yn,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),n);if(a<8){var l=bn(Lf(n,a));s=s.mul(l).add(bn(c))}else s=s.mul(i),s=s.add(bn(c))}return s.unsigned=t,s}Ve.fromString=Gp;function Pn(e,t){return typeof e=="number"?bn(e,t):typeof e=="string"?Gp(e,t):$e(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Ve.fromValue=Pn;var vA=65536,xL=1<<24,So=vA*vA,AA=So*So,EA=AA/2,SA=bs(xL),yn=bs(0);Ve.ZERO=yn;var ys=bs(0,!0);Ve.UZERO=ys;var _o=bs(1);Ve.ONE=_o;var _A=bs(1,!0);Ve.UONE=_A;var Hp=bs(-1);Ve.NEG_ONE=Hp;var CA=$e(-1,2147483647,!1);Ve.MAX_VALUE=CA;var TA=$e(-1,-1,!0);Ve.MAX_UNSIGNED_VALUE=TA;var jt=$e(0,-2147483648,!1);Ve.MIN_VALUE=jt;var Y=Ve.prototype;Y.toInt=function(){return this.unsigned?this.low>>>0:this.low},Y.toNumber=function(){return this.unsigned?(this.high>>>0)*So+(this.low>>>0):this.high*So+(this.low>>>0)},Y.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(jt)){var n=bn(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var s=bn(Lf(t,6),this.unsigned),o=this,a="";;){var c=o.div(s),l=o.sub(c.mul(s)).toInt()>>>0,u=l.toString(t);if(o=c,o.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},Y.getHighBits=function(){return this.high},Y.getHighBitsUnsigned=function(){return this.high>>>0},Y.getLowBits=function(){return this.low},Y.getLowBitsUnsigned=function(){return this.low>>>0},Y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(jt)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1},Y.isZero=function(){return this.high===0&&this.low===0},Y.eqz=Y.isZero,Y.isNegative=function(){return!this.unsigned&&this.high<0},Y.isPositive=function(){return this.unsigned||this.high>=0},Y.isOdd=function(){return(this.low&1)===1},Y.isEven=function(){return(this.low&1)===0},Y.equals=function(t){return $t(t)||(t=Pn(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},Y.eq=Y.equals,Y.notEquals=function(t){return!this.eq(t)},Y.neq=Y.notEquals,Y.ne=Y.notEquals,Y.lessThan=function(t){return this.comp(t)<0},Y.lt=Y.lessThan,Y.lessThanOrEqual=function(t){return this.comp(t)<=0},Y.lte=Y.lessThanOrEqual,Y.le=Y.lessThanOrEqual,Y.greaterThan=function(t){return this.comp(t)>0},Y.gt=Y.greaterThan,Y.greaterThanOrEqual=function(t){return this.comp(t)>=0},Y.gte=Y.greaterThanOrEqual,Y.ge=Y.greaterThanOrEqual,Y.compare=function(t){if($t(t)||(t=Pn(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Y.comp=Y.compare,Y.negate=function(){return!this.unsigned&&this.eq(jt)?jt:this.not().add(_o)},Y.neg=Y.negate,Y.add=function(t){$t(t)||(t=Pn(t));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=t.high>>>16,a=t.high&65535,c=t.low>>>16,l=t.low&65535,u=0,f=0,h=0,d=0;return d+=s+l,h+=d>>>16,d&=65535,h+=i+c,f+=h>>>16,h&=65535,f+=r+a,u+=f>>>16,f&=65535,u+=n+o,u&=65535,$e(h<<16|d,u<<16|f,this.unsigned)},Y.subtract=function(t){return $t(t)||(t=Pn(t)),this.add(t.neg())},Y.sub=Y.subtract,Y.multiply=function(t){if(this.isZero())return yn;if($t(t)||(t=Pn(t)),mn){var n=mn.mul(this.low,this.high,t.low,t.high);return $e(n,mn.get_high(),this.unsigned)}if(t.isZero())return yn;if(this.eq(jt))return t.isOdd()?jt:yn;if(t.eq(jt))return this.isOdd()?jt:yn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(SA)&&t.lt(SA))return bn(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=t.high>>>16,c=t.high&65535,l=t.low>>>16,u=t.low&65535,f=0,h=0,d=0,p=0;return p+=o*u,d+=p>>>16,p&=65535,d+=s*u,h+=d>>>16,d&=65535,d+=o*l,h+=d>>>16,d&=65535,h+=i*u,f+=h>>>16,h&=65535,h+=s*l,f+=h>>>16,h&=65535,h+=o*c,f+=h>>>16,h&=65535,f+=r*u+i*l+s*c+o*a,f&=65535,$e(d<<16|p,f<<16|h,this.unsigned)},Y.mul=Y.multiply,Y.divide=function(t){if($t(t)||(t=Pn(t)),t.isZero())throw Error("division by zero");if(mn){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?mn.div_u:mn.div_s)(this.low,this.high,t.low,t.high);return $e(n,mn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ys:yn;var r,i,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ys;if(t.gt(this.shru(1)))return _A;s=ys}else{if(this.eq(jt)){if(t.eq(_o)||t.eq(Hp))return jt;if(t.eq(jt))return _o;var o=this.shr(1);return r=o.div(t).shl(1),r.eq(yn)?t.isNegative()?_o:Hp:(i=this.sub(t.mul(r)),s=r.add(i.div(t)),s)}else if(t.eq(jt))return this.unsigned?ys:yn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=yn}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),c=a<=48?1:Lf(2,a-48),l=bn(r),u=l.mul(t);u.isNegative()||u.gt(i);)r-=c,l=bn(r,this.unsigned),u=l.mul(t);l.isZero()&&(l=_o),s=s.add(l),i=i.sub(u)}return s},Y.div=Y.divide,Y.modulo=function(t){if($t(t)||(t=Pn(t)),mn){var n=(this.unsigned?mn.rem_u:mn.rem_s)(this.low,this.high,t.low,t.high);return $e(n,mn.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},Y.mod=Y.modulo,Y.rem=Y.modulo,Y.not=function(){return $e(~this.low,~this.high,this.unsigned)},Y.and=function(t){return $t(t)||(t=Pn(t)),$e(this.low&t.low,this.high&t.high,this.unsigned)},Y.or=function(t){return $t(t)||(t=Pn(t)),$e(this.low|t.low,this.high|t.high,this.unsigned)},Y.xor=function(t){return $t(t)||(t=Pn(t)),$e(this.low^t.low,this.high^t.high,this.unsigned)},Y.shiftLeft=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?$e(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):$e(0,this.low<<t-32,this.unsigned)},Y.shl=Y.shiftLeft,Y.shiftRight=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?$e(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):$e(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Y.shr=Y.shiftRight,Y.shiftRightUnsigned=function(t){if($t(t)&&(t=t.toInt()),t&=63,t===0)return this;var n=this.high;if(t<32){var r=this.low;return $e(r>>>t|n<<32-t,n>>>t,this.unsigned)}else return t===32?$e(n,0,this.unsigned):$e(n>>>t-32,0,this.unsigned)},Y.shru=Y.shiftRightUnsigned,Y.shr_u=Y.shiftRightUnsigned,Y.toSigned=function(){return this.unsigned?$e(this.low,this.high,!1):this},Y.toUnsigned=function(){return this.unsigned?this:$e(this.low,this.high,!0)},Y.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Y.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},Y.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Ve.fromBytes=function(t,n,r){return r?Ve.fromBytesLE(t,n):Ve.fromBytesBE(t,n)},Ve.fromBytesLE=function(t,n){return new Ve(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ve.fromBytesBE=function(t,n){return new Ve(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};const Of=wf(wL),zf=1;class vL{constructor({filehandle:t,path:n}){if(t)this.filehandle=t;else if(n)this.filehandle=new gt(n);else throw new TypeError("either filehandle or path must be defined")}_readLongWithOverflow(t,n=0,r=!0){const i=Of.fromBytesLE(t.slice(n,n+8),r);if(i.greaterThan(Number.MAX_SAFE_INTEGER)||i.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return i.toNumber()}_getIndex(){return this.index||(this.index=this._readIndex()),this.index}async _readIndex(){let t=be.Buffer.allocUnsafe(8);await this.filehandle.read(t,0,8,0);const n=this._readLongWithOverflow(t,0,!0);if(!n)return[[0,0]];const r=new Array(n+1);r[0]=[0,0];const i=8*2*n;if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");t=be.Buffer.allocUnsafe(i),await this.filehandle.read(t,0,i,8);for(let s=0;s<n;s+=1){const o=this._readLongWithOverflow(t,s*16),a=this._readLongWithOverflow(t,s*16+8);r[s+1]=[o,a]}return r}async getLastBlock(){const t=await this._getIndex();if(t.length)return t[t.length-1]}async getRelevantBlocksForRead(t,n){const r=n+t;if(t===0)return[];const i=await this._getIndex(),s=[],o=(h,d)=>{const p=h[zf],m=d?d[zf]:1/0;return p<=n&&m>n?0:p<n?-1:1};let a=0,c=i.length-1,l=Math.floor(i.length/2),u=o(i[l],i[l+1]);for(;u!==0;)u>0?c=l-1:u<0&&(a=l+1),l=Math.ceil((c-a)/2)+a,u=o(i[l],i[l+1]);s.push(i[l]);let f=l+1;for(;f<i.length&&(s.push(i[f]),!(i[f][zf]>=r));f+=1);return s[s.length-1][zf]<r&&s.push([]),s}}class kA{constructor({filehandle:t,path:n,gziFilehandle:r,gziPath:i}){if(t)this.filehandle=t;else if(n)this.filehandle=new gt(n);else throw new TypeError("either filehandle or path must be defined");if(!r&&!i&&!n)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new vL({filehandle:r,path:!r&&!i&&n?i:`${n}.gzi`})}async stat(){const t=await this.filehandle.stat();return Object.assign(t,{size:await this.getUncompressedFileSize(),blocks:void 0,blksize:void 0})}async getUncompressedFileSize(){const[,t]=await this.gzi.getLastBlock(),{size:n}=await this.filehandle.stat(),r=be.Buffer.allocUnsafe(4),{bytesRead:i}=await this.filehandle.read(r,0,4,n-28-4);if(i!==4)throw new Error("read error");const s=r.readUInt32LE(0);return t+s}async _readAndUncompressBlock(t,[n],[r]){let i=r;i||(i=(await this.filehandle.stat()).size);const s=i-n;return await this.filehandle.read(t,0,s,n),await gi(t.slice(0,s))}async read(t,n,r,i){const s=await this.gzi.getRelevantBlocksForRead(r,i),o=be.Buffer.allocUnsafe(32768*2);let a=n,c=0;for(let l=0;l<s.length-1;l+=1){const u=await this._readAndUncompressBlock(o,s[l],s[l+1]),[,f]=s[l],h=f>=i?0:i-f,d=Math.min(i+r,f+u.length)-f;h>=0&&h<u.length&&(u.copy(t,a,h,d),a+=d-h,c+=d-h)}return{bytesRead:c,buffer:t}}}function IA(e,t){return e.offset+e.lineBytes*Math.floor(t/e.lineLength)+t%e.lineLength}async function AL(e,t){const n=await e.readFile(t);if(!(n!=null&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const s=n.toString("utf8").split(/\r?\n/).filter(o=>/\S/.test(o)).map(o=>o.split("	")).filter(o=>o[0]!=="").map(o=>((!i||i.name!==o[0])&&(i={name:o[0],id:r},r+=1),{id:i.id,name:o[0],length:+o[1],start:0,end:+o[1],offset:+o[2],lineLength:+o[3],lineBytes:+o[4]}));return{name:Object.fromEntries(s.map(o=>[o.name,o])),id:Object.fromEntries(s.map(o=>[o.id,o]))}}class BA{constructor({fasta:t,fai:n,path:r,faiPath:i}){if(t)this.fasta=t;else if(r)this.fasta=new gt(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new gt(i);else if(r)this.fai=new gt(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile")}async _getIndexes(t){return this.indexes||(this.indexes=AL(this.fai,t)),this.indexes}async getSequenceNames(t){return Object.keys((await this._getIndexes(t)).name)}async getSequenceSizes(t){const n={},r=await this._getIndexes(t);for(const i of Object.values(r.id))n[i.name]=i.length;return n}async getSequenceSize(t,n){var r;return(r=(await this._getIndexes(n)).name[t])===null||r===void 0?void 0:r.length}async hasReferenceSequence(t,n){return!!(await this._getIndexes(n)).name[t]}async getResiduesById(t,n,r,i){const s=(await this._getIndexes(i)).id[t];if(s)return this._fetchFromIndexEntry(s,n,r,i)}async getResiduesByName(t,n,r,i){const s=(await this._getIndexes(i)).name[t];if(s)return this._fetchFromIndexEntry(s,n,r,i)}async getSequence(t,n,r,i){return this.getResiduesByName(t,n,r,i)}async _fetchFromIndexEntry(t,n=0,r,i){let s=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((s===void 0||s>t.length)&&(s=t.length),n>=s)return"";const o=IA(t,n),a=IA(t,s)-o,c=be.Buffer.allocUnsafe(a);return await this.fasta.read(c,0,a,o,i),c.toString("utf8").replace(/\s+/g,"")}}class EL extends BA{constructor({fasta:t,path:n,fai:r,faiPath:i,gzi:s,gziPath:o}){super({fasta:t,path:n,fai:r,faiPath:i}),t&&s?this.fasta=new kA({filehandle:t,gziFilehandle:s}):n&&o&&(this.fasta=new kA({path:n,gziPath:o}))}}function DA(e){return e.split(">").filter(t=>/\S/.test(t)).map(t=>{const[n,...r]=t.split(`
`),[i,...s]=n.split(" "),o=r.join("").replace(/\s/g,"");return{id:i,description:s.join(" "),sequence:o}})}class SL{constructor({fasta:t,path:n}){if(t)this.fasta=t;else if(n)this.fasta=new gt(n);else throw new Error("Need to pass fasta or path");this.data=this.fasta.readFile().then(r=>{const i=r.toString("utf8");return DA(i)})}async fetch(t,n,r){const s=(await this.data).find(a=>a.id===t),o=r-n;if(!s)throw new Error(`no sequence with id ${t} exists`);return s.sequence.slice(n,o)}async getSequenceNames(){return(await this.data).map(n=>n.id)}}const _L=Object.freeze(Object.defineProperty({__proto__:null,BgzipIndexedFasta:EL,FetchableSmallFasta:SL,IndexedFasta:BA,parseSmallFasta:DA},Symbol.toStringTag,{value:"Module"})),Uf=BigInt(32);function CL(e,t,n){const r=+!!n,i=+!n;return BigInt(e.getInt32(t,n)*i+e.getInt32(t+4,n)*r)<<Uf|BigInt(e.getUint32(t,n)*r+e.getUint32(t+4,n)*i)}function TL(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n),s=+!!n,o=+!n;return BigInt(r*o+i*s)<<Uf|BigInt(r*s+i*o)}function kL(e,t,n,r){const i=Number(n>>Uf),s=Number(n&BigInt(4294967295));r?(e.setInt32(t+4,i,r),e.setUint32(t,s,r)):(e.setInt32(t,i,r),e.setUint32(t+4,s,r))}function IL(e,t,n,r){const i=Number(n>>Uf),s=Number(n&BigInt(4294967295));r?(e.setUint32(t+4,i,r),e.setUint32(t,s,r)):(e.setUint32(t,i,r),e.setUint32(t+4,s,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(e,t){return CL(this,e,t)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(e,t){return TL(this,e,t)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(e,t,n){kL(this,e,t,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(e,t,n){IL(this,e,t,n)});class BL{constructor(t,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=n}generateVariable(t){const n=[...this.scopes[this.scopes.length-1]];return t&&n.push(t),n.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let n=this.reverseImports.get(t);return n||(n=this.imports.push(t)-1,this.reverseImports.set(t,n)),`${this.importPath}[${n}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){const n=this.references.get(t);n&&(n.resolved=!0)}markRequested(t){t.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,n])=>!n.resolved&&!n.requested).map(([t,n])=>t)}}const Nn=new Map,ws="___parser_",Ln={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Gf={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Hf={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};let Me=class Un{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Un}primitiveGenerateN(t,n){const r=Gf[t],i=Hf[t];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Ln[t]};`)}primitiveN(t,n,r){return this.setNextParser(t,n,r)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,n={}){return this.primitiveN("uint8",t,n)}uint16(t,n={}){return this.primitiveN(this.useThisEndian("uint16"),t,n)}uint16le(t,n={}){return this.primitiveN("uint16le",t,n)}uint16be(t,n={}){return this.primitiveN("uint16be",t,n)}uint32(t,n={}){return this.primitiveN(this.useThisEndian("uint32"),t,n)}uint32le(t,n={}){return this.primitiveN("uint32le",t,n)}uint32be(t,n={}){return this.primitiveN("uint32be",t,n)}int8(t,n={}){return this.primitiveN("int8",t,n)}int16(t,n={}){return this.primitiveN(this.useThisEndian("int16"),t,n)}int16le(t,n={}){return this.primitiveN("int16le",t,n)}int16be(t,n={}){return this.primitiveN("int16be",t,n)}int32(t,n={}){return this.primitiveN(this.useThisEndian("int32"),t,n)}int32le(t,n={}){return this.primitiveN("int32le",t,n)}int32be(t,n={}){return this.primitiveN("int32be",t,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,n)}int64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,n)}int64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,n)}uint64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,n)}uint64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,n)}uint64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,n)}floatle(t,n={}){return this.primitiveN("floatle",t,n)}floatbe(t,n={}){return this.primitiveN("floatbe",t,n)}doublele(t,n={}){return this.primitiveN("doublele",t,n)}doublebe(t,n={}){return this.primitiveN("doublebe",t,n)}bitN(t,n,r){return r.length=t,this.setNextParser("bit",n,r)}bit1(t,n={}){return this.bitN(1,t,n)}bit2(t,n={}){return this.bitN(2,t,n)}bit3(t,n={}){return this.bitN(3,t,n)}bit4(t,n={}){return this.bitN(4,t,n)}bit5(t,n={}){return this.bitN(5,t,n)}bit6(t,n={}){return this.bitN(6,t,n)}bit7(t,n={}){return this.bitN(7,t,n)}bit8(t,n={}){return this.bitN(8,t,n)}bit9(t,n={}){return this.bitN(9,t,n)}bit10(t,n={}){return this.bitN(10,t,n)}bit11(t,n={}){return this.bitN(11,t,n)}bit12(t,n={}){return this.bitN(12,t,n)}bit13(t,n={}){return this.bitN(13,t,n)}bit14(t,n={}){return this.bitN(14,t,n)}bit15(t,n={}){return this.bitN(15,t,n)}bit16(t,n={}){return this.bitN(16,t,n)}bit17(t,n={}){return this.bitN(17,t,n)}bit18(t,n={}){return this.bitN(18,t,n)}bit19(t,n={}){return this.bitN(19,t,n)}bit20(t,n={}){return this.bitN(20,t,n)}bit21(t,n={}){return this.bitN(21,t,n)}bit22(t,n={}){return this.bitN(22,t,n)}bit23(t,n={}){return this.bitN(23,t,n)}bit24(t,n={}){return this.bitN(24,t,n)}bit25(t,n={}){return this.bitN(25,t,n)}bit26(t,n={}){return this.bitN(26,t,n)}bit27(t,n={}){return this.bitN(27,t,n)}bit28(t,n={}){return this.bitN(28,t,n)}bit29(t,n={}){return this.bitN(29,t,n)}bit30(t,n={}){return this.bitN(30,t,n)}bit31(t,n={}){return this.bitN(31,t,n)}bit32(t,n={}){return this.bitN(32,t,n)}namely(t){return Nn.set(t,this),this.alias=t,this}skip(t,n={}){return this.seek(t,n)}seek(t,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",t,n)}buffer(t,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,n)}wrapped(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,n)}array(t,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Nn.has(n.type)&&!(n.type in Ln))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",t,n)}choice(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),s=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof s=="string"&&!Nn.has(s)&&!(s in Ln))throw new Error(`Choice type "${s}" is unkown.`)}return this.setNextParser("choice",t,n)}nest(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof Un)&&!Nn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof Un)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,n)}pointer(t,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Ln)&&!Nn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",t,n)}saveOffset(t,n={}){return this.setNextParser("saveOffset",t,n)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){const n=new BL(t,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${ws+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${ws+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){const n=t.getUnresolvedReferences();t.markRequested(n),n.forEach(r=>{var i;(i=Nn.get(r))===null||i===void 0||i.addAliasedCode(t)})}compile(){const t="imports",n=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys(Ln).indexOf(this.type)>=0)t=Ln[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Ln[this.options.type]:this.options.type instanceof Un&&(n=this.options.type.sizeOf()),t=this.options.length*n}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,n,r){const i=new Un;return i.type=t,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}const n=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,n,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;const n=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=t.addImport(this.options.assert);t.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=t.generateVariable(n.varName),t.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=t.generateTmpVariable();t.pushCode(`var ${r} = 0;`);const i=(u=0)=>{let f=0;for(let h=u;h<t.bitFields.length;h++){const d=t.bitFields[h].options.length;if(f+d>32)break;f+=d}return f},s=u=>(u<=8?(t.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${r} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u);let o=0;const a=this.endian==="be";let c=0,l=0;t.bitFields.forEach((u,f)=>{let h=u.options.length;if(h>l){if(l){const m=-1>>>32-l;t.pushCode(`${u.varName} = (${r} & 0x${m.toString(16)}) << ${h-l};`),h-=l}o=0,l=c=s(i(f)-l)}const d=a?c-o-h:o,p=-1>>>32-h;t.pushCode(`${u.varName} ${h<u.options.length?"|=":"="} ${r} >> ${d} & 0x${p.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),o+=h,l-=h}),t.bitFields=[]}}generateSeek(t){const n=t.generateOption(this.options.length);t.pushCode(`offset += ${n};`)}generateString(t){const n=t.generateVariable(this.varName),r=t.generateTmpVariable(),i=this.options.encoding,s=i.toLowerCase()==="hex",o='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const a=this.options.length;t.pushCode(`var ${r} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);const c=`offset - ${r} < ${a} ? offset - 1 : offset`;t.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){const a=t.generateOption(this.options.length);t.pushCode(s?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),t.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(t.pushCode(`var ${r} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${r} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, offset), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&t.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(t){const n=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=t.generateTmpVariable(),s=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${s} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${s} = dataView.getUint8(offset);`);const o=t.addImport(r);t.pushCode(`if (${o}.call(${t.generateVariable()}, ${s}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{const r=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),t.pushCode(`offset += ${r};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(t){const n=t.generateOption(this.options.length),r=t.generateOption(this.options.lengthInBytes),i=this.options.type,s=t.generateTmpVariable(),o=t.generateVariable(this.varName),a=t.generateTmpVariable(),c=this.options.key,l=typeof c=="string";if(l?t.pushCode(`${o} = {};`):t.pushCode(`${o} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${s} = 0; offset < buffer.length; ${s}++) {`):r!==void 0?t.pushCode(`for (var ${s} = offset + ${r}; offset < ${s}; ) {`):t.pushCode(`for (var ${s} = ${n}; ${s} > 0; ${s}--) {`),typeof i=="string")if(Nn.get(i)){const u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${ws+i}(offset, {`),t.useContextVariables){const f=t.generateVariable();t.pushCode(`$parent: ${f},`),t.pushCode(`$root: ${f}.$root,`),!this.options.readUntil&&r===void 0&&t.pushCode(`$index: ${n} - ${s},`)}t.pushCode("});"),t.pushCode(`var ${a} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{const u=Gf[i],f=Hf[i];t.pushCode(`var ${a} = dataView.get${u}(offset, ${f});`),t.pushCode(`offset += ${Ln[i]};`)}else if(i instanceof Un){t.pushCode(`var ${a} = {};`);const u=t.generateVariable();t.pushScope(a),t.useContextVariables&&(t.pushCode(`${a}.$parent = ${u};`),t.pushCode(`${a}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&t.pushCode(`${a}.$index = ${n} - ${s};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${a}.$parent;`),t.pushCode(`delete ${a}.$root;`),t.pushCode(`delete ${a}.$index;`)),t.popScope()}if(l?t.pushCode(`${o}[${a}.${c}] = ${a};`):t.pushCode(`${o}.push(${a});`),t.pushCode("}"),typeof this.options.readUntil=="function"){const u=this.options.readUntil,f=t.addImport(u);t.pushCode(`while (!${f}.call(${t.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(t,n,r){if(typeof r=="string"){const i=t.generateVariable(this.varName);if(Nn.has(r)){const s=t.generateTmpVariable();t.pushCode(`var ${s} = ${ws+r}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${s}.result; offset = ${s}.offset;`),r!==this.alias&&t.addReference(r)}else{const s=Gf[r],o=Hf[r];t.pushCode(`${i} = dataView.get${s}(offset, ${o});`),t.pushCode(`offset += ${Ln[r]}`)}}else r instanceof Un&&(t.pushPath(n),r.generate(t),t.popPath(n))}generateChoice(t){const n=t.generateOption(this.options.tag),r=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${r} = {};`),t.useContextVariables)){const i=t.generateVariable();t.pushCode(`${r}.$parent = ${i};`),t.pushCode(`${r}.$root = ${i}.$root;`)}t.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const s=parseInt(i,10),o=this.options.choices[s];t.pushCode(`case ${s}:`),this.generateChoiceCase(t,this.varName,o),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${n} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${r}.$parent;`),t.pushCode(`delete ${r}.$root;`))}generateNest(t){const n=t.generateVariable(this.varName);if(this.options.type instanceof Un){if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){const r=t.generateVariable();t.pushCode(`${n}.$parent = ${r};`),t.pushCode(`${n}.$root = ${r}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}else if(Nn.has(this.options.type)){const r=t.generateTmpVariable();if(t.pushCode(`var ${r} = ${ws+this.options.type}(offset, {`),t.useContextVariables){const i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){const n=t.generateVariable(this.varName),r=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){const c=this.options.readUntil,l=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${l} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);const f=t.addImport(c);t.pushCode(`if (${f}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${r} = buffer.subarray(offset);`);else{const c=t.generateOption(this.options.length);t.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),t.pushCode(`offset += ${c};`)}this.options.clone&&t.pushCode(`${r} = buffer.constructor.from(${r});`);const i=t.generateTmpVariable(),s=t.generateTmpVariable(),o=t.generateTmpVariable(),a=t.addImport(this.options.wrapper);if(t.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${s} = offset;`),t.pushCode(`var ${o} = dataView;`),t.pushCode(`buffer = ${r};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Un)this.varName&&t.pushCode(`${n} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(Nn.has(this.options.type)){const c=t.generateTmpVariable();t.pushCode(`var ${c} = ${ws+this.options.type}(0);`),t.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${o};`),t.pushCode(`offset = ${s};`)}generateFormatter(t,n,r){if(typeof r=="function"){const i=t.addImport(r);t.pushCode(`${n} = ${i}.call(${t.generateVariable()}, ${n});`)}}generatePointer(t){const n=this.options.type,r=t.generateOption(this.options.offset),i=t.generateTmpVariable(),s=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${r};`),this.options.type instanceof Un){if(t.pushCode(`${s} = {};`),t.useContextVariables){const o=t.generateVariable();t.pushCode(`${s}.$parent = ${o};`),t.pushCode(`${s}.$root = ${o}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${s}.$parent;`),t.pushCode(`delete ${s}.$root;`))}else if(Nn.has(this.options.type)){const o=t.generateTmpVariable();if(t.pushCode(`var ${o} = ${ws+this.options.type}(offset, {`),t.useContextVariables){const a=t.generateVariable();t.pushCode(`$parent: ${a},`),t.pushCode(`$root: ${a}.$root,`)}t.pushCode("});"),t.pushCode(`${s} = ${o}.result; offset = ${o}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys(Ln).indexOf(this.options.type)>=0){const o=Gf[n],a=Hf[n];t.pushCode(`${s} = dataView.get${o}(offset, ${a});`),t.pushCode(`offset += ${Ln[n]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){const n=t.generateVariable(this.varName);t.pushCode(`${n} = offset`)}};class DL{}class FL{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(t=new DL){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}class RL{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t;for(const n of this.callbacks)n(t)}}class xs{constructor({fill:t,cache:n}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,n){this.cache.get(t)===n&&this.cache.delete(t)}fill(t,n,r,i){const s=new FL,o=new RL;o.addCallback(i);const a={aborter:s,promise:this.fillCallback(n,s.signal,c=>{o.callback(c)}),settled:!1,statusReporter:o,get aborted(){return this.aborter.signal.aborted}};a.aborter.addSignal(r),a.aborter.signal.addEventListener("abort",()=>{a.settled||this.evict(t,a)}),a.promise.then(()=>{a.settled=!0},()=>{a.settled=!0,this.evict(t,a)}).catch(c=>{throw console.error(c),c}),this.cache.set(t,a)}static checkSinglePromise(t,n){function r(){if(n!=null&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(r(),i),i=>{throw r(),i})}has(t){return this.cache.has(t)}get(t,n,r,i){if(!r&&n instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const s=this.cache.get(t);return s?s.aborted&&!s.settled?(this.evict(t,s),this.get(t,n,r,i)):s.settled?s.promise:(s.aborter.addSignal(r),s.statusReporter.addCallback(i),xs.checkSinglePromise(s.promise,r)):(this.fill(t,n,r,i),xs.checkSinglePromise(this.cache.get(t).promise,r))}delete(t){const n=this.cache.get(t);n&&(n.settled||n.aborter.abort(),this.cache.delete(t))}clear(){const t=this.cache.keys();let n=0;for(let r=t.next();!r.done;r=t.next())this.delete(r.value),n+=1;return n}}class ML{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){this.cache.set(t,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return this._size+t}}var PL=ML;const Vf=wf(PL);class Co{constructor(t){this.ranges=t}get min(){return this.ranges[0].min}get max(){return this.ranges[this.ranges.length-1].max}contains(t){for(const n of this.ranges)if(n.min<=t&&n.max>=t)return!0;return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new Co([{min:t.min,max:t.max}]))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){const n=[...this.getRanges(),...t.getRanges()].sort((s,o)=>s.min<o.min?-1:s.min>o.min?1:s.max<o.max?-1:o.max>s.max?1:0),r=[];let i=n[0];for(const s of n)s.min>i.max+1?(r.push(i),i=s):s.max>i.max&&(i=new Co([{min:i.min,max:s.max}]));return r.push(i),r.length===1?r[0]:new Co(r)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const NL=4,FA=0,RA=1,LL=2;function To(e){let t=e.length;for(;--t>=0;)e[t]=0}const OL=0,MA=1,zL=2,UL=3,GL=258,Vp=29,Yl=256,Ql=Yl+1+Vp,ko=30,$p=19,PA=2*Ql+1,vs=15,jp=16,HL=7,qp=256,NA=16,LA=17,OA=18,Wp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$f=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),VL=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),zA=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$L=512,Cr=new Array((Ql+2)*2);To(Cr);const Xl=new Array(ko*2);To(Xl);const Kl=new Array($L);To(Kl);const Jl=new Array(GL-UL+1);To(Jl);const Zp=new Array(Vp);To(Zp);const jf=new Array(ko);To(jf);function Yp(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let UA,GA,HA;function Qp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const VA=e=>e<256?Kl[e]:Kl[256+(e>>>7)],ec=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},qt=(e,t,n)=>{e.bi_valid>jp-n?(e.bi_buf|=t<<e.bi_valid&65535,ec(e,e.bi_buf),e.bi_buf=t>>jp-e.bi_valid,e.bi_valid+=n-jp):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ir=(e,t,n)=>{qt(e,n[t*2],n[t*2+1])},$A=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},jL=e=>{e.bi_valid===16?(ec(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},qL=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,f,h,d,p,m=0;for(h=0;h<=vs;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<PA;l++)u=e.heap[l],h=n[n[u*2+1]*2+1]+1,h>c&&(h=c,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=a&&(d=o[u-a]),p=n[u*2],e.opt_len+=p*(h+d),s&&(e.static_len+=p*(i[u*2+1]+d)));if(m!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--l],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),u--)}},jA=(e,t,n)=>{const r=new Array(vs+1);let i=0,s,o;for(s=1;s<=vs;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=$A(r[a]++,a))}},WL=()=>{let e,t,n,r,i;const s=new Array(vs+1);for(n=0,r=0;r<Vp-1;r++)for(Zp[r]=n,e=0;e<1<<Wp[r];e++)Jl[n++]=r;for(Jl[n-1]=r,i=0,r=0;r<16;r++)for(jf[r]=i,e=0;e<1<<$f[r];e++)Kl[i++]=r;for(i>>=7;r<ko;r++)for(jf[r]=i<<7,e=0;e<1<<$f[r]-7;e++)Kl[256+i++]=r;for(t=0;t<=vs;t++)s[t]=0;for(e=0;e<=143;)Cr[e*2+1]=8,e++,s[8]++;for(;e<=255;)Cr[e*2+1]=9,e++,s[9]++;for(;e<=279;)Cr[e*2+1]=7,e++,s[7]++;for(;e<=287;)Cr[e*2+1]=8,e++,s[8]++;for(jA(Cr,Ql+1,s),e=0;e<ko;e++)Xl[e*2+1]=5,Xl[e*2]=$A(e,5);UA=new Yp(Cr,Wp,Yl+1,Ql,vs),GA=new Yp(Xl,$f,0,ko,vs),HA=new Yp(new Array(0),VL,0,$p,HL)},qA=e=>{let t;for(t=0;t<Ql;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ko;t++)e.dyn_dtree[t*2]=0;for(t=0;t<$p;t++)e.bl_tree[t*2]=0;e.dyn_ltree[qp*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},WA=e=>{e.bi_valid>8?ec(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ZA=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},Xp=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&ZA(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ZA(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},YA=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?ir(e,i,t):(o=Jl[i],ir(e,o+Yl+1,t),a=Wp[o],a!==0&&(i-=Zp[o],qt(e,i,a)),r--,o=VA(r),ir(e,o,n),a=$f[o],a!==0&&(r-=jf[o],qt(e,r,a)));while(s<e.sym_next);ir(e,qp,t)},Kp=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,c=-1,l;for(e.heap_len=0,e.heap_max=PA,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)Xp(e,n,o);l=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Xp(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[l*2]=n[o*2]+n[a*2],e.depth[l]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=l,e.heap[1]=l++,Xp(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qL(e,t),jA(n,c,e.bl_count)},QA=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<c&&s===o)&&(a<l?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[NA*2]++):a<=10?e.bl_tree[LA*2]++:e.bl_tree[OA*2]++,a=0,i=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4))},XA=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<c&&s===o)){if(a<l)do ir(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(ir(e,s,e.bl_tree),a--),ir(e,NA,e.bl_tree),qt(e,a-3,2)):a<=10?(ir(e,LA,e.bl_tree),qt(e,a-3,3)):(ir(e,OA,e.bl_tree),qt(e,a-11,7));a=0,i=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4)}},ZL=e=>{let t;for(QA(e,e.dyn_ltree,e.l_desc.max_code),QA(e,e.dyn_dtree,e.d_desc.max_code),Kp(e,e.bl_desc),t=$p-1;t>=3&&e.bl_tree[zA[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},YL=(e,t,n,r)=>{let i;for(qt(e,t-257,5),qt(e,n-1,5),qt(e,r-4,4),i=0;i<r;i++)qt(e,e.bl_tree[zA[i]*2+1],3);XA(e,e.dyn_ltree,t-1),XA(e,e.dyn_dtree,n-1)},QL=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return FA;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return RA;for(n=32;n<Yl;n++)if(e.dyn_ltree[n*2]!==0)return RA;return FA};let KA=!1;const XL=e=>{KA||(WL(),KA=!0),e.l_desc=new Qp(e.dyn_ltree,UA),e.d_desc=new Qp(e.dyn_dtree,GA),e.bl_desc=new Qp(e.bl_tree,HA),e.bi_buf=0,e.bi_valid=0,qA(e)},JA=(e,t,n,r)=>{qt(e,(OL<<1)+(r?1:0),3),WA(e),ec(e,n),ec(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},KL=e=>{qt(e,MA<<1,3),ir(e,qp,Cr),jL(e)},JL=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===LL&&(e.strm.data_type=QL(e)),Kp(e,e.l_desc),Kp(e,e.d_desc),o=ZL(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?JA(e,t,n,r):e.strategy===NL||s===i?(qt(e,(MA<<1)+(r?1:0),3),YA(e,Cr,Xl)):(qt(e,(zL<<1)+(r?1:0),3),YL(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),YA(e,e.dyn_ltree,e.dyn_dtree)),qA(e),r&&WA(e)},eO=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Jl[n]+Yl+1)*2]++,e.dyn_dtree[VA(t)*2]++),e.sym_next===e.sym_end);var tO=XL,nO=JA,rO=JL,iO=eO,sO=KL,oO={_tr_init:tO,_tr_stored_block:nO,_tr_flush_block:rO,_tr_tally:iO,_tr_align:sO},tc=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};const aO=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},lO=new Uint32Array(aO());var mt=(e,t,n,r)=>{const i=lO,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1},Io={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:cO,_tr_stored_block:Jp,_tr_flush_block:uO,_tr_tally:mi,_tr_align:fO}=oO,{Z_NO_FLUSH:bi,Z_PARTIAL_FLUSH:hO,Z_FULL_FLUSH:dO,Z_FINISH:wn,Z_BLOCK:eE,Z_OK:At,Z_STREAM_END:tE,Z_STREAM_ERROR:sr,Z_DATA_ERROR:pO,Z_BUF_ERROR:eg,Z_DEFAULT_COMPRESSION:gO,Z_FILTERED:mO,Z_HUFFMAN_ONLY:qf,Z_RLE:bO,Z_FIXED:yO,Z_DEFAULT_STRATEGY:wO,Z_UNKNOWN:xO,Z_DEFLATED:Wf}=nc,vO=9,AO=15,EO=8,tg=256+1+29,SO=30,_O=19,CO=2*tg+1,TO=15,me=3,yi=258,or=yi+me+1,kO=32,Bo=42,ng=57,rg=69,ig=73,sg=91,og=103,As=113,rc=666,Nt=1,Do=2,Es=3,Fo=4,IO=3,Ss=(e,t)=>(e.msg=Io[t],t),nE=e=>e*2-(e>4?9:0),wi=e=>{let t=e.length;for(;--t>=0;)e[t]=0},BO=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let xi=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const en=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},tn=(e,t)=>{uO(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,en(e.strm)},Te=(e,t)=>{e.pending_buf[e.pending++]=t},ic=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ag=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=tc(e.adler,t,i,n):e.state.wrap===2&&(e.adler=mt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},rE=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-or?e.strstart-(e.w_size-or):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+yi;let d=l[r+o-1],p=l[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(l[i+o]!==p||l[i+o-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<h);if(s=yi-(h-r),r=h-yi,s>o){if(e.match_start=t,o=s,s>=a)break;d=l[r+o-1],p=l[r+o]}}while((t=f[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},Ro=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-or)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),BO(e),r+=t),e.strm.avail_in===0)break;if(n=ag(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=me)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=xi(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=xi(e,e.ins_h,e.window[i+me-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<me)););}while(e.lookahead<or&&e.strm.avail_in!==0)},iE=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==wn||t===bi||r!==i+e.strm.avail_in)))break;o=t===wn&&r===i+e.strm.avail_in?1:0,Jp(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,en(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(ag(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Fo:t!==bi&&t!==wn&&e.strm.avail_in===0&&e.strstart===e.block_start?Do:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(ag(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===wn)&&t!==bi&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===wn&&e.strm.avail_in===0&&r===i?1:0,Jp(e,e.block_start,r,o),e.block_start+=r,en(e.strm)),o?Es:Nt)},lg=(e,t)=>{let n,r;for(;;){if(e.lookahead<or){if(Ro(e),e.lookahead<or&&t===bi)return Nt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=xi(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-or&&(e.match_length=rE(e,n)),e.match_length>=me)if(r=mi(e,e.strstart-e.match_start,e.match_length-me),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=me){e.match_length--;do e.strstart++,e.ins_h=xi(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xi(e,e.ins_h,e.window[e.strstart+1]);else r=mi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(tn(e,!1),e.strm.avail_out===0))return Nt}return e.insert=e.strstart<me-1?e.strstart:me-1,t===wn?(tn(e,!0),e.strm.avail_out===0?Es:Fo):e.sym_next&&(tn(e,!1),e.strm.avail_out===0)?Nt:Do},Mo=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<or){if(Ro(e),e.lookahead<or&&t===bi)return Nt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=xi(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=me-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-or&&(e.match_length=rE(e,n),e.match_length<=5&&(e.strategy===mO||e.match_length===me&&e.strstart-e.match_start>4096)&&(e.match_length=me-1)),e.prev_length>=me&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-me,r=mi(e,e.strstart-1-e.prev_match,e.prev_length-me),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=xi(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=me-1,e.strstart++,r&&(tn(e,!1),e.strm.avail_out===0))return Nt}else if(e.match_available){if(r=mi(e,0,e.window[e.strstart-1]),r&&tn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Nt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=mi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<me-1?e.strstart:me-1,t===wn?(tn(e,!0),e.strm.avail_out===0?Es:Fo):e.sym_next&&(tn(e,!1),e.strm.avail_out===0)?Nt:Do},DO=(e,t)=>{let n,r,i,s;const o=e.window;for(;;){if(e.lookahead<=yi){if(Ro(e),e.lookahead<=yi&&t===bi)return Nt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=me&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+yi;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=yi-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=me?(n=mi(e,1,e.match_length-me),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=mi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(tn(e,!1),e.strm.avail_out===0))return Nt}return e.insert=0,t===wn?(tn(e,!0),e.strm.avail_out===0?Es:Fo):e.sym_next&&(tn(e,!1),e.strm.avail_out===0)?Nt:Do},FO=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Ro(e),e.lookahead===0)){if(t===bi)return Nt;break}if(e.match_length=0,n=mi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(tn(e,!1),e.strm.avail_out===0))return Nt}return e.insert=0,t===wn?(tn(e,!0),e.strm.avail_out===0?Es:Fo):e.sym_next&&(tn(e,!1),e.strm.avail_out===0)?Nt:Do};function ar(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const sc=[new ar(0,0,0,0,iE),new ar(4,4,8,4,lg),new ar(4,5,16,8,lg),new ar(4,6,32,32,lg),new ar(4,4,16,16,Mo),new ar(8,16,32,32,Mo),new ar(8,16,128,128,Mo),new ar(8,32,128,256,Mo),new ar(32,128,258,1024,Mo),new ar(32,258,258,4096,Mo)],RO=e=>{e.window_size=2*e.w_size,wi(e.head),e.max_lazy_match=sc[e.level].max_lazy,e.good_match=sc[e.level].good_length,e.nice_match=sc[e.level].nice_length,e.max_chain_length=sc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=me-1,e.match_available=0,e.ins_h=0};function MO(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Wf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(CO*2),this.dyn_dtree=new Uint16Array((2*SO+1)*2),this.bl_tree=new Uint16Array((2*_O+1)*2),wi(this.dyn_ltree),wi(this.dyn_dtree),wi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(TO+1),this.heap=new Uint16Array(2*tg+1),wi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*tg+1),wi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const oc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Bo&&t.status!==ng&&t.status!==rg&&t.status!==ig&&t.status!==sg&&t.status!==og&&t.status!==As&&t.status!==rc?1:0},sE=e=>{if(oc(e))return Ss(e,sr);e.total_in=e.total_out=0,e.data_type=xO;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ng:t.wrap?Bo:As,e.adler=t.wrap===2?0:1,t.last_flush=-2,cO(t),At},oE=e=>{const t=sE(e);return t===At&&RO(e.state),t},PO=(e,t)=>oc(e)||e.state.wrap!==2?sr:(e.state.gzhead=t,At),aE=(e,t,n,r,i,s)=>{if(!e)return sr;let o=1;if(t===gO&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>vO||n!==Wf||r<8||r>15||t<0||t>9||s<0||s>yO||r===8&&o!==1)return Ss(e,sr);r===8&&(r=9);const a=new MO;return e.state=a,a.strm=e,a.status=Bo,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+me-1)/me),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,oE(e)},NO=(e,t)=>aE(e,t,Wf,AO,EO,wO),LO=(e,t)=>{if(oc(e)||t>eE||t<0)return e?Ss(e,sr):sr;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===rc&&t!==wn)return Ss(e,e.avail_out===0?eg:sr);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(en(e),e.avail_out===0)return n.last_flush=-1,At}else if(e.avail_in===0&&nE(t)<=nE(r)&&t!==wn)return Ss(e,eg);if(n.status===rc&&e.avail_in!==0)return Ss(e,eg);if(n.status===Bo&&n.wrap===0&&(n.status=As),n.status===Bo){let i=Wf+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=qf||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=kO),i+=31-i%31,ic(n,i),n.strstart!==0&&(ic(n,e.adler>>>16),ic(n,e.adler&65535)),e.adler=1,n.status=As,en(e),n.pending!==0)return n.last_flush=-1,At}if(n.status===ng){if(e.adler=0,Te(n,31),Te(n,139),Te(n,8),n.gzhead)Te(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Te(n,n.gzhead.time&255),Te(n,n.gzhead.time>>8&255),Te(n,n.gzhead.time>>16&255),Te(n,n.gzhead.time>>24&255),Te(n,n.level===9?2:n.strategy>=qf||n.level<2?4:0),Te(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Te(n,n.gzhead.extra.length&255),Te(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=mt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=rg;else if(Te(n,0),Te(n,0),Te(n,0),Te(n,0),Te(n,0),Te(n,n.level===9?2:n.strategy>=qf||n.level<2?4:0),Te(n,IO),n.status=As,en(e),n.pending!==0)return n.last_flush=-1,At}if(n.status===rg){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,en(e),n.pending!==0)return n.last_flush=-1,At;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=ig}if(n.status===ig){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i)),en(e),n.pending!==0)return n.last_flush=-1,At;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Te(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=sg}if(n.status===sg){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i)),en(e),n.pending!==0)return n.last_flush=-1,At;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Te(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=mt(e.adler,n.pending_buf,n.pending-i,i))}n.status=og}if(n.status===og){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(en(e),n.pending!==0))return n.last_flush=-1,At;Te(n,e.adler&255),Te(n,e.adler>>8&255),e.adler=0}if(n.status=As,en(e),n.pending!==0)return n.last_flush=-1,At}if(e.avail_in!==0||n.lookahead!==0||t!==bi&&n.status!==rc){let i=n.level===0?iE(n,t):n.strategy===qf?FO(n,t):n.strategy===bO?DO(n,t):sc[n.level].func(n,t);if((i===Es||i===Fo)&&(n.status=rc),i===Nt||i===Es)return e.avail_out===0&&(n.last_flush=-1),At;if(i===Do&&(t===hO?fO(n):t!==eE&&(Jp(n,0,0,!1),t===dO&&(wi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),en(e),e.avail_out===0))return n.last_flush=-1,At}return t!==wn?At:n.wrap<=0?tE:(n.wrap===2?(Te(n,e.adler&255),Te(n,e.adler>>8&255),Te(n,e.adler>>16&255),Te(n,e.adler>>24&255),Te(n,e.total_in&255),Te(n,e.total_in>>8&255),Te(n,e.total_in>>16&255),Te(n,e.total_in>>24&255)):(ic(n,e.adler>>>16),ic(n,e.adler&65535)),en(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?At:tE)},OO=e=>{if(oc(e))return sr;const t=e.state.status;return e.state=null,t===As?Ss(e,pO):At},zO=(e,t)=>{let n=t.length;if(oc(e))return sr;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Bo||r.lookahead)return sr;if(i===1&&(e.adler=tc(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(wi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ro(r);r.lookahead>=me;){let c=r.strstart,l=r.lookahead-(me-1);do r.ins_h=xi(r,r.ins_h,r.window[c+me-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=me-1,Ro(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=me-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,At};var UO=NO,GO=aE,HO=oE,VO=sE,$O=PO,jO=LO,qO=OO,WO=zO,ZO="pako deflate (from Nodeca project)",ac={deflateInit:UO,deflateInit2:GO,deflateReset:HO,deflateResetKeep:VO,deflateSetHeader:$O,deflate:jO,deflateEnd:qO,deflateSetDictionary:WO,deflateInfo:ZO};const YO=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var QO=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)YO(n,r)&&(e[r]=n[r])}}return e},XO=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},Zf={assign:QO,flattenChunks:XO};let lE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lE=!1}const lc=new Uint8Array(256);for(let e=0;e<256;e++)lc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;lc[254]=lc[254]=1;var KO=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const JO=(e,t)=>{if(t<65534&&e.subarray&&lE)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var e7=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=lc[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return JO(s,i)},t7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+lc[e[n]]>t?n:t},cc={string2buf:KO,buf2string:e7,utf8border:t7};function n7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cE=n7;const uE=Object.prototype.toString,{Z_NO_FLUSH:r7,Z_SYNC_FLUSH:i7,Z_FULL_FLUSH:s7,Z_FINISH:o7,Z_OK:Yf,Z_STREAM_END:a7,Z_DEFAULT_COMPRESSION:l7,Z_DEFAULT_STRATEGY:c7,Z_DEFLATED:u7}=nc;function cg(e){this.options=Zf.assign({level:l7,method:u7,chunkSize:16384,windowBits:15,memLevel:8,strategy:c7},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cE,this.strm.avail_out=0;let n=ac.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Yf)throw new Error(Io[n]);if(t.header&&ac.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=cc.string2buf(t.dictionary):uE.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=ac.deflateSetDictionary(this.strm,r),n!==Yf)throw new Error(Io[n]);this._dict_set=!0}}cg.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?o7:r7,typeof e=="string"?n.input=cc.string2buf(e):uE.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===i7||s===s7)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=ac.deflate(n,s),i===a7)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ac.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Yf;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},cg.prototype.onData=function(e){this.chunks.push(e)},cg.prototype.onEnd=function(e){e===Yf&&(this.result=Zf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Qf=16209,f7=16191;var h7=function(t,n){let r,i,s,o,a,c,l,u,f,h,d,p,m,y,w,A,_,S,T,B,I,D,M,U;const N=t.state;r=t.next_in,M=t.input,i=r+(t.avail_in-5),s=t.next_out,U=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),c=N.dmax,l=N.wsize,u=N.whave,f=N.wnext,h=N.window,d=N.hold,p=N.bits,m=N.lencode,y=N.distcode,w=(1<<N.lenbits)-1,A=(1<<N.distbits)-1;e:do{p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),_=m[d&w];t:for(;;){if(S=_>>>24,d>>>=S,p-=S,S=_>>>16&255,S===0)U[s++]=_&65535;else if(S&16){T=_&65535,S&=15,S&&(p<S&&(d+=M[r++]<<p,p+=8),T+=d&(1<<S)-1,d>>>=S,p-=S),p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),_=y[d&A];n:for(;;){if(S=_>>>24,d>>>=S,p-=S,S=_>>>16&255,S&16){if(B=_&65535,S&=15,p<S&&(d+=M[r++]<<p,p+=8,p<S&&(d+=M[r++]<<p,p+=8)),B+=d&(1<<S)-1,B>c){t.msg="invalid distance too far back",N.mode=Qf;break e}if(d>>>=S,p-=S,S=s-o,B>S){if(S=B-S,S>u&&N.sane){t.msg="invalid distance too far back",N.mode=Qf;break e}if(I=0,D=h,f===0){if(I+=l-S,S<T){T-=S;do U[s++]=h[I++];while(--S);I=s-B,D=U}}else if(f<S){if(I+=l+f-S,S-=f,S<T){T-=S;do U[s++]=h[I++];while(--S);if(I=0,f<T){S=f,T-=S;do U[s++]=h[I++];while(--S);I=s-B,D=U}}}else if(I+=f-S,S<T){T-=S;do U[s++]=h[I++];while(--S);I=s-B,D=U}for(;T>2;)U[s++]=D[I++],U[s++]=D[I++],U[s++]=D[I++],T-=3;T&&(U[s++]=D[I++],T>1&&(U[s++]=D[I++]))}else{I=s-B;do U[s++]=U[I++],U[s++]=U[I++],U[s++]=U[I++],T-=3;while(T>2);T&&(U[s++]=U[I++],T>1&&(U[s++]=U[I++]))}}else if(S&64){t.msg="invalid distance code",N.mode=Qf;break e}else{_=y[(_&65535)+(d&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){N.mode=f7;break e}else{t.msg="invalid literal/length code",N.mode=Qf;break e}else{_=m[(_&65535)+(d&(1<<S)-1)];continue t}break}}while(r<i&&s<a);T=p>>3,r-=T,p-=T<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),N.hold=d,N.bits=p};const Po=15,fE=852,hE=592,dE=0,ug=1,pE=2,d7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),m7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var uc=(e,t,n,r,i,s,o,a)=>{const c=a.bits;let l=0,u=0,f=0,h=0,d=0,p=0,m=0,y=0,w=0,A=0,_,S,T,B,I,D=null,M;const U=new Uint16Array(Po+1),N=new Uint16Array(Po+1);let te=null,re,ue,pe;for(l=0;l<=Po;l++)U[l]=0;for(u=0;u<r;u++)U[t[n+u]]++;for(d=c,h=Po;h>=1&&U[h]===0;h--);if(d>h&&(d=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<h&&U[f]===0;f++);for(d<f&&(d=f),y=1,l=1;l<=Po;l++)if(y<<=1,y-=U[l],y<0)return-1;if(y>0&&(e===dE||h!==1))return-1;for(N[1]=0,l=1;l<Po;l++)N[l+1]=N[l]+U[l];for(u=0;u<r;u++)t[n+u]!==0&&(o[N[t[n+u]]++]=u);if(e===dE?(D=te=o,M=20):e===ug?(D=d7,te=p7,M=257):(D=g7,te=m7,M=0),A=0,u=0,l=f,I=s,p=d,m=0,T=-1,w=1<<d,B=w-1,e===ug&&w>fE||e===pE&&w>hE)return 1;for(;;){re=l-m,o[u]+1<M?(ue=0,pe=o[u]):o[u]>=M?(ue=te[o[u]-M],pe=D[o[u]-M]):(ue=96,pe=0),_=1<<l-m,S=1<<p,f=S;do S-=_,i[I+(A>>m)+S]=re<<24|ue<<16|pe|0;while(S!==0);for(_=1<<l-1;A&_;)_>>=1;if(_!==0?(A&=_-1,A+=_):A=0,u++,--U[l]===0){if(l===h)break;l=t[n+o[u]]}if(l>d&&(A&B)!==T){for(m===0&&(m=d),I+=f,p=l-m,y=1<<p;p+m<h&&(y-=U[p+m],!(y<=0));)p++,y<<=1;if(w+=1<<p,e===ug&&w>fE||e===pE&&w>hE)return 1;T=A&B,i[T]=d<<24|p<<16|I-s|0}}return A!==0&&(i[I+A]=l-m<<24|64<<16|0),a.bits=d,0};const b7=0,gE=1,mE=2,{Z_FINISH:bE,Z_BLOCK:y7,Z_TREES:Xf,Z_OK:_s,Z_STREAM_END:w7,Z_NEED_DICT:x7,Z_STREAM_ERROR:xn,Z_DATA_ERROR:yE,Z_MEM_ERROR:wE,Z_BUF_ERROR:v7,Z_DEFLATED:xE}=nc,Kf=16180,vE=16181,AE=16182,EE=16183,SE=16184,_E=16185,CE=16186,TE=16187,kE=16188,IE=16189,Jf=16190,Tr=16191,fg=16192,BE=16193,hg=16194,DE=16195,FE=16196,RE=16197,ME=16198,eh=16199,th=16200,PE=16201,NE=16202,LE=16203,OE=16204,zE=16205,dg=16206,UE=16207,GE=16208,Ke=16209,HE=16210,VE=16211,A7=852,E7=592,S7=15,$E=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cs=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Kf||t.mode>VE?1:0},jE=e=>{if(Cs(e))return xn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Kf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(A7),t.distcode=t.distdyn=new Int32Array(E7),t.sane=1,t.back=-1,_s},qE=e=>{if(Cs(e))return xn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jE(e)},WE=(e,t)=>{let n;if(Cs(e))return xn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,qE(e))},ZE=(e,t)=>{if(!e)return xn;const n=new _7;e.state=n,n.strm=e,n.window=null,n.mode=Kf;const r=WE(e,t);return r!==_s&&(e.state=null),r},C7=e=>ZE(e,S7);let YE=!0,pg,gg;const T7=e=>{if(YE){pg=new Int32Array(512),gg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(uc(gE,e.lens,0,288,pg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;uc(mE,e.lens,0,32,gg,0,e.work,{bits:5}),YE=!1}e.lencode=pg,e.lenbits=9,e.distcode=gg,e.distbits=5},QE=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},k7=(e,t)=>{let n,r,i,s,o,a,c,l,u,f,h,d,p,m,y=0,w,A,_,S,T,B,I,D;const M=new Uint8Array(4);let U,N;const te=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cs(e)||!e.output||!e.input&&e.avail_in!==0)return xn;n=e.state,n.mode===Tr&&(n.mode=fg),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,f=a,h=c,D=_s;e:for(;;)switch(n.mode){case Kf:if(n.wrap===0){n.mode=fg;break}for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=l&255,M[1]=l>>>8&255,n.check=mt(n.check,M,2,0),l=0,u=0,n.mode=vE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Ke;break}if((l&15)!==xE){e.msg="unknown compression method",n.mode=Ke;break}if(l>>>=4,u-=4,I=(l&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){e.msg="invalid window size",n.mode=Ke;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?IE:Tr,l=0,u=0;break;case vE:for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==xE){e.msg="unknown compression method",n.mode=Ke;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ke;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=mt(n.check,M,2,0)),l=0,u=0,n.mode=AE;case AE:for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,M[2]=l>>>16&255,M[3]=l>>>24&255,n.check=mt(n.check,M,4,0)),l=0,u=0,n.mode=EE;case EE:for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=mt(n.check,M,2,0)),l=0,u=0,n.mode=SE;case SE:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=mt(n.check,M,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=_E;case _E:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+d),I)),n.flags&512&&n.wrap&4&&(n.check=mt(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=CE;case CE:if(n.flags&2048){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=mt(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=TE;case TE:if(n.flags&4096){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=mt(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=kE;case kE:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ke;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Tr;break;case IE:for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}e.adler=n.check=$E(l),l=0,u=0,n.mode=Jf;case Jf:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,x7;e.adler=n.check=1,n.mode=Tr;case Tr:if(t===y7||t===Xf)break e;case fg:if(n.last){l>>>=u&7,u-=u&7,n.mode=dg;break}for(;u<3;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=BE;break;case 1:if(T7(n),n.mode=eh,t===Xf){l>>>=2,u-=2;break e}break;case 2:n.mode=FE;break;case 3:e.msg="invalid block type",n.mode=Ke}l>>>=2,u-=2;break;case BE:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ke;break}if(n.length=l&65535,l=0,u=0,n.mode=hg,t===Xf)break e;case hg:n.mode=DE;case DE:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break e;i.set(r.subarray(s,s+d),o),a-=d,s+=d,c-=d,o+=d,n.length-=d;break}n.mode=Tr;break;case FE:for(;u<14;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ke;break}n.have=0,n.mode=RE;case RE:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.lens[te[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},D=uc(b7,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,D){e.msg="invalid code lengths set",n.mode=Ke;break}n.have=0,n.mode=ME;case ME:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(_<16)l>>>=w,u-=w,n.lens[n.have++]=_;else{if(_===16){for(N=w+2;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(l>>>=w,u-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=Ke;break}I=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(_===17){for(N=w+3;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=w,u-=w,I=0,d=3+(l&7),l>>>=3,u-=3}else{for(N=w+7;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=w,u-=w,I=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ke;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===Ke)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ke;break}if(n.lenbits=9,U={bits:n.lenbits},D=uc(gE,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,D){e.msg="invalid literal/lengths set",n.mode=Ke;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},D=uc(mE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,D){e.msg="invalid distances set",n.mode=Ke;break}if(n.mode=eh,t===Xf)break e;case eh:n.mode=th;case th:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,h7(e,h),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,n.mode===Tr&&(n.back=-1);break}for(n.back=0;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(A&&!(A&240)){for(S=w,T=A,B=_;y=n.lencode[B+((l&(1<<S+T)-1)>>S)],w=y>>>24,A=y>>>16&255,_=y&65535,!(S+w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=S,u-=S,n.back+=S}if(l>>>=w,u-=w,n.back+=w,n.length=_,A===0){n.mode=zE;break}if(A&32){n.back=-1,n.mode=Tr;break}if(A&64){e.msg="invalid literal/length code",n.mode=Ke;break}n.extra=A&15,n.mode=PE;case PE:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=NE;case NE:for(;y=n.distcode[l&(1<<n.distbits)-1],w=y>>>24,A=y>>>16&255,_=y&65535,!(w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(!(A&240)){for(S=w,T=A,B=_;y=n.distcode[B+((l&(1<<S+T)-1)>>S)],w=y>>>24,A=y>>>16&255,_=y&65535,!(S+w<=u);){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}l>>>=S,u-=S,n.back+=S}if(l>>>=w,u-=w,n.back+=w,A&64){e.msg="invalid distance code",n.mode=Ke;break}n.offset=_,n.extra=A&15,n.mode=LE;case LE:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ke;break}n.mode=OE;case OE:if(c===0)break e;if(d=h-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ke;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=o-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[o++]=m[p++];while(--d);n.length===0&&(n.mode=th);break;case zE:if(c===0)break e;i[o++]=n.length,c--,n.mode=th;break;case dg:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[s++]<<u,u+=8}if(h-=c,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?mt(n.check,i,h,o-h):tc(n.check,i,h,o-h)),h=c,n.wrap&4&&(n.flags?l:$E(l))!==n.check){e.msg="incorrect data check",n.mode=Ke;break}l=0,u=0}n.mode=UE;case UE:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[s++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ke;break}l=0,u=0}n.mode=GE;case GE:D=w7;break e;case Ke:D=yE;break e;case HE:return wE;case VE:default:return xn}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Ke&&(n.mode<dg||t!==bE))&&QE(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?mt(n.check,i,h,e.next_out-h):tc(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Tr?128:0)+(n.mode===eh||n.mode===hg?256:0),(f===0&&h===0||t===bE)&&D===_s&&(D=v7),D},I7=e=>{if(Cs(e))return xn;let t=e.state;return t.window&&(t.window=null),e.state=null,_s},B7=(e,t)=>{if(Cs(e))return xn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,_s):xn},D7=(e,t)=>{const n=t.length;let r,i,s;return Cs(e)||(r=e.state,r.wrap!==0&&r.mode!==Jf)?xn:r.mode===Jf&&(i=1,i=tc(i,t,n,0),i!==r.check)?yE:(s=QE(e,t,n,n),s?(r.mode=HE,wE):(r.havedict=1,_s))};var F7=qE,R7=WE,M7=jE,P7=C7,N7=ZE,L7=k7,O7=I7,z7=B7,U7=D7,G7="pako inflate (from Nodeca project)",kr={inflateReset:F7,inflateReset2:R7,inflateResetKeep:M7,inflateInit:P7,inflateInit2:N7,inflate:L7,inflateEnd:O7,inflateGetHeader:z7,inflateSetDictionary:U7,inflateInfo:G7};function H7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var V7=H7;const XE=Object.prototype.toString,{Z_NO_FLUSH:$7,Z_FINISH:j7,Z_OK:fc,Z_STREAM_END:mg,Z_NEED_DICT:bg,Z_STREAM_ERROR:q7,Z_DATA_ERROR:KE,Z_MEM_ERROR:W7}=nc;function hc(e){this.options=Zf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cE,this.strm.avail_out=0;let n=kr.inflateInit2(this.strm,t.windowBits);if(n!==fc)throw new Error(Io[n]);if(this.header=new V7,kr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=cc.string2buf(t.dictionary):XE.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=kr.inflateSetDictionary(this.strm,t.dictionary),n!==fc)))throw new Error(Io[n])}hc.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?j7:$7,XE.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=kr.inflate(n,o),s===bg&&i&&(s=kr.inflateSetDictionary(n,i),s===fc?s=kr.inflate(n,o):s===KE&&(s=bg));n.avail_in>0&&s===mg&&n.state.wrap>0&&e[n.next_in]!==0;)kr.inflateReset(n),s=kr.inflate(n,o);switch(s){case q7:case KE:case bg:case W7:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===mg))if(this.options.to==="string"){let c=cc.utf8border(n.output,n.next_out),l=n.next_out-c,u=cc.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===fc&&a===0)){if(s===mg)return s=kr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},hc.prototype.onData=function(e){this.chunks.push(e)},hc.prototype.onEnd=function(e){e===fc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yg(e,t){const n=new hc(t);if(n.push(e),n.err)throw n.msg||Io[n.err];return n.result}function Z7(e,t){return t=t||{},t.raw=!0,yg(e,t)}var Y7=hc,Q7=yg,X7=Z7,K7=yg,J7=nc,ez={Inflate:Y7,inflate:Q7,inflateRaw:X7,ungzip:K7,constants:J7};const{Inflate:eH,inflate:tH,inflateRaw:tz,ungzip:nH}=ez;var nz=tz;function rz(e){return nz(e.subarray(2))}let iz=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function sz(e){e.sort((i,s)=>Number(i.offset)-Number(s.offset));const t=[];let n,r;for(const i of e)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):t.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return t}function nh(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new iz("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}const oz=1,az=2,lz=3;function wg(e,t,n,r){return e<r&&t>=n}function cz(e){const t=e?"big":"little",n=new Me().endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new Me().endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Me().endianess(t).array("blocksToFetch",{length:"cnt",type:new Me().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Me().array("recurOffsets",{length:"cnt",type:new Me().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new Me().endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Me().endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[lz]:new Me().array("items",{length:"itemCount",type:new Me().floatle("score")}),[az]:new Me().array("items",{length:"itemCount",type:new Me().endianess(t).int32("start").floatle("score")}),[oz]:new Me().array("items",{length:"itemCount",type:new Me().endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class JE{constructor(t,n,r,i,s,o){if(this.bbi=t,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=s,this.blockType=o,this.featureCache=new xs({cache:new Vf({maxSize:1e3}),fill:async(c,l)=>{const u=Number(c.length),f=Number(c.offset),{buffer:h}=await this.bbi.read(be.Buffer.alloc(u),0,u,f,{signal:l});return h}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const a=cz(i);this.leafParser=a.leafParser,this.bigBedParser=a.bigBedParser}async readWigData(t,n,r,i,s){try{const{refsByName:o,bbi:a,cirTreeOffset:c,isBigEndian:l}=this,u=o[t];u===void 0&&i.complete();const f={chrId:u,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=a.read(be.Buffer.alloc(48),0,48,Number(c),s));const{buffer:h}=await this.cirTreePromise,d=l?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],m=0;const y=(S,T,B)=>{try{const I=S.subarray(T),D=this.leafParser.parse(I);if(D.blocksToFetch&&(p=p.concat(D.blocksToFetch.filter(M=>w(M)).map(M=>({offset:M.blockOffset,length:M.blockSize})))),D.recurOffsets){const M=D.recurOffsets.filter(U=>w(U)).map(U=>Number(U.blockOffset));M.length>0&&_(M,B+1)}}catch(I){i.error(I)}},w=S=>{const{startChrom:T,startBase:B,endChrom:I,endBase:D}=S;return(T<u||T===u&&B<=r)&&(I>u||I===u&&D>=n)},A=async(S,T,B)=>{try{const I=T.max-T.min,D=T.min,M=await this.featureCache.get(`${I}_${D}`,{length:I,offset:D},s==null?void 0:s.signal);for(const U of S)T.contains(U)&&(y(M,U-D,B),m-=1,m===0&&this.readFeatures(i,p,{...s,request:f}).catch(N=>i.error(N)))}catch(I){i.error(I)}},_=(S,T)=>{try{m+=S.length;const B=4+Number(d)*32;let I=new Co([{min:S[0],max:S[0]+B}]);for(let D=1;D<S.length;D+=1){const M=new Co([{min:S[D],max:S[D]+B}]);I=I.union(M)}I.getRanges().map(D=>A(S,D,T))}catch(B){i.error(B)}};return _([Number(c)+48],1)}catch(o){i.error(o)}}parseSummaryBlock(t,n,r){const i=[];let s=n;const o=new DataView(t.buffer,t.byteOffset,t.length);for(;s<t.byteLength;){const a=o.getUint32(s,!0);s+=4;const c=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);s+=4;const u=o.getUint32(s,!0);s+=4;const f=o.getFloat32(s,!0);s+=4;const h=o.getFloat32(s,!0);s+=4;const d=o.getFloat32(s,!0);s+=4,s+=4,(!r||a===r.chrId&&wg(c,l,r.start,r.end))&&i.push({start:c,end:l,maxScore:h,minScore:f,summary:!0,score:d/(u||1)})}return i}parseBigBedBlock(t,n,r,i){const s=[];let o=n;for(;o<t.byteLength;){const a=this.bigBedParser.parse(t.subarray(o));a.uniqueId=`bb-${r+o}`,s.push(a),o+=a.offset}return i?s.filter(a=>wg(a.start,a.end,i.start,i.end)):s}parseBigWigBlock(t,n,r){const i=t.subarray(n),s=new DataView(i.buffer,i.byteOffset,i.length);let o=0;o+=4;const a=s.getInt32(o,!0);o+=8;const c=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);o+=4;const u=s.getUint8(o);o+=2;const f=s.getUint16(o,!0);o+=2;const h=new Array(f);switch(u){case 1:{for(let d=0;d<f;d++){const p=s.getInt32(o,!0);o+=4;const m=s.getInt32(o,!0);o+=4;const y=s.getFloat32(o,!0);o+=4,h[d]={start:p,end:m,score:y}}break}case 2:{for(let d=0;d<f;d++){const p=s.getInt32(o,!0);o+=4;const m=s.getFloat32(o,!0);o+=4,h[d]={score:m,start:p,end:p+l}}break}case 3:{for(let d=0;d<f;d++){const p=s.getFloat32(o,!0);o+=4;const m=a+d*c;h[d]={score:p,start:m,end:m+l}}break}}return r?h.filter(d=>wg(d.start,d.end,r.start,r.end)):h}async readFeatures(t,n,r={}){try{const{blockType:i,isCompressed:s}=this,{signal:o,request:a}=r,c=sz(n);nh(o),await Promise.all(c.map(async l=>{nh(o);const{length:u,offset:f}=l,h=await this.featureCache.get(`${u}_${f}`,l,o);for(const d of l.blocks){nh(o);let p=Number(d.offset)-Number(l.offset),m=h;switch(s&&(m=rz(h.subarray(p)),p=0),nh(o),i){case"summary":{t.next(this.parseSummaryBlock(m,p,a));break}case"bigwig":{t.next(this.parseBigWigBlock(m,p,a));break}case"bigbed":{t.next(this.parseBigBedBlock(m,p,Number(d.offset)*256,a));break}default:console.warn(`Don't know what to do with ${i}`)}}})),t.complete()}catch(i){t.error(i)}}}var xg=function(e,t){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xg(e,t)};function vg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function uz(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function eS(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function dc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ag(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Eg(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function No(e){return this instanceof No?(this.v=e,this):new No(e)}function fz(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(p){return Promise.resolve(p).then(d,f)}}function a(d,p){r[d]&&(i[d]=function(m){return new Promise(function(y,w){s.push([d,m,y,w])>1||c(d,m)})},p&&(i[d]=p(i[d])))}function c(d,p){try{l(r[d](p))}catch(m){h(s[0][3],m)}}function l(d){d.value instanceof No?Promise.resolve(d.value.v).then(u,f):h(s[0][2],d)}function u(d){c("next",d)}function f(d){c("throw",d)}function h(d,p){d(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function hz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof dc=="function"?dc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}typeof SuppressedError=="function"&&SuppressedError;function ut(e){return typeof e=="function"}function tS(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sg=tS(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function nS(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _g=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=dc(o),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(ut(u))try{u()}catch(m){s=m instanceof Sg?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=dc(f),d=h.next();!d.done;d=h.next()){var p=d.value;try{iS(p)}catch(m){s=s??[],m instanceof Sg?s=Eg(Eg([],Ag(s)),Ag(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new Sg(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)iS(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&nS(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&nS(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();_g.EMPTY;function rS(e){return e instanceof _g||e&&"closed"in e&&ut(e.remove)&&ut(e.add)&&ut(e.unsubscribe)}function iS(e){ut(e)?e():e.unsubscribe()}var sS={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oS={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Eg([e,t],Ag(n)))},clearTimeout:function(e){var t=oS.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function aS(e){oS.setTimeout(function(){throw e})}function lS(){}function dz(e){e()}var Cg=function(e){vg(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,rS(n)&&n.add(r)):r.destination=bz,r}return t.create=function(n,r,i){return new rh(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_g),pz=Function.prototype.bind;function Tg(e,t){return pz.call(e,t)}var gz=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ih(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ih(r)}else ih(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ih(n)}},e}(),rh=function(e){vg(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(ut(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&sS.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Tg(n.next,a),error:n.error&&Tg(n.error,a),complete:n.complete&&Tg(n.complete,a)}):o=n}return s.destination=new gz(o),s}return t}(Cg);function ih(e){aS(e)}function mz(e){throw e}var bz={closed:!0,next:lS,error:mz,complete:lS},kg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cS(e){return e}function yz(e){return e.length===0?cS:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var vn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=xz(t)?t:new rh(t,n,r);return dz(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=uS(n),new n(function(i,s){var o=new rh({next:function(a){try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[kg]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return yz(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=uS(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function uS(e){var t;return(t=e??sS.Promise)!==null&&t!==void 0?t:Promise}function wz(e){return e&&ut(e.next)&&ut(e.error)&&ut(e.complete)}function xz(e){return e&&e instanceof Cg||wz(e)&&rS(e)}function vz(e){return ut(e==null?void 0:e.lift)}function Lo(e){return function(t){if(vz(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pc(e,t,n,r,i){return new Az(e,t,n,r,i)}var Az=function(e){vg(t,e);function t(n,r,i,s,o,a){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=s?function(l){try{s(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Cg),Ez=new vn(function(e){return e.complete()});function Sz(e){return e&&ut(e.schedule)}function fS(e){return e[e.length-1]}function _z(e){return Sz(fS(e))?e.pop():void 0}function Cz(e,t){return typeof fS(e)=="number"?e.pop():t}var hS=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function dS(e){return ut(e==null?void 0:e.then)}function pS(e){return ut(e[kg])}function gS(e){return Symbol.asyncIterator&&ut(e==null?void 0:e[Symbol.asyncIterator])}function mS(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Tz(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bS=Tz();function yS(e){return ut(e==null?void 0:e[bS])}function wS(e){return fz(this,arguments,function(){var n,r,i,s;return eS(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,No(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,No(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,No(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xS(e){return ut(e==null?void 0:e.getReader)}function Oo(e){if(e instanceof vn)return e;if(e!=null){if(pS(e))return kz(e);if(hS(e))return Iz(e);if(dS(e))return Bz(e);if(gS(e))return vS(e);if(yS(e))return Dz(e);if(xS(e))return Fz(e)}throw mS(e)}function kz(e){return new vn(function(t){var n=e[kg]();if(ut(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Iz(e){return new vn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Bz(e){return new vn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,aS)})}function Dz(e){return new vn(function(t){var n,r;try{for(var i=dc(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function vS(e){return new vn(function(t){Rz(e,t).catch(function(n){return t.error(n)})})}function Fz(e){return vS(wS(e))}function Rz(e,t){var n,r,i,s;return uz(this,void 0,void 0,function(){var o,a;return eS(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=hz(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ts(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function AS(e,t){return t===void 0&&(t=0),Lo(function(n,r){n.subscribe(pc(r,function(i){return Ts(r,e,function(){return r.next(i)},t)},function(){return Ts(r,e,function(){return r.complete()},t)},function(i){return Ts(r,e,function(){return r.error(i)},t)}))})}function ES(e,t){return t===void 0&&(t=0),Lo(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Mz(e,t){return Oo(e).pipe(ES(t),AS(t))}function Pz(e,t){return Oo(e).pipe(ES(t),AS(t))}function Nz(e,t){return new vn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Lz(e,t){return new vn(function(n){var r;return Ts(n,t,function(){r=e[bS](),Ts(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ut(r==null?void 0:r.return)&&r.return()}})}function SS(e,t){if(!e)throw new Error("Iterable cannot be null");return new vn(function(n){Ts(n,t,function(){var r=e[Symbol.asyncIterator]();Ts(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Oz(e,t){return SS(wS(e),t)}function zz(e,t){if(e!=null){if(pS(e))return Mz(e,t);if(hS(e))return Nz(e,t);if(dS(e))return Pz(e,t);if(gS(e))return SS(e,t);if(yS(e))return Lz(e,t);if(xS(e))return Oz(e,t)}throw mS(e)}function Uz(e,t){return t?zz(e,t):Oo(e)}var Gz=tS(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function _S(e,t){return new Promise(function(n,r){var i=new rh({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new Gz)}});e.subscribe(i)})}function CS(e,t){return Lo(function(n,r){var i=0;n.subscribe(pc(r,function(s){r.next(e.call(t,s,i++))}))})}function Hz(e,t,n,r,i,s,o,a){var c=[],l=0,u=0,f=!1,h=function(){f&&!c.length&&!l&&t.complete()},d=function(m){return l<r?p(m):c.push(m)},p=function(m){l++;var y=!1;Oo(n(m,u++)).subscribe(pc(t,function(w){t.next(w)},function(){y=!0},void 0,function(){if(y)try{l--;for(var w=function(){var A=c.shift();o||p(A)};c.length&&l<r;)w();h()}catch(A){t.error(A)}}))};return e.subscribe(pc(t,d,function(){f=!0,h()})),function(){}}function TS(e,t,n){return n===void 0&&(n=1/0),ut(t)?TS(function(r,i){return CS(function(s,o){return t(r,s,i,o)})(Oo(e(r,i)))},n):(typeof t=="number"&&(n=t),Lo(function(r,i){return Hz(r,i,e,n)}))}function Vz(e){return e===void 0&&(e=1/0),TS(cS,e)}function $z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_z(e),r=Cz(e,1/0),i=e;return i.length?i.length===1?Oo(i[0]):Vz(r)(Uz(i,n)):Ez}function jz(e,t,n,r,i){return function(s,o){var a=n,c=t,l=0;s.subscribe(pc(o,function(u){var f=l++;c=a?e(c,u,f):(a=!0,u)},function(){a&&o.next(c),o.complete()}))}}function kS(e,t){return Lo(jz(e,t,arguments.length>=2,!1,!0))}var qz=function(e,t){return e.push(t),e};function Wz(){return Lo(function(e,t){kS(qz,[])(e).subscribe(t)})}const IS=-2003829722,Ig=-2021002517;function Zz(e){return new TextDecoder().decode(e)}function BS(e){const t=e?"big":"little",n=new Me().endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Me().endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new Me().endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new Me().endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),s=new Me().endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:s}}class DS{getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(t){const{filehandle:n,renameRefSeqs:r=o=>o,path:i,url:s}=t;if(this.renameRefSeqs=r,n)this.bbi=n;else if(s)this.bbi=new Fn(s);else if(i)this.bbi=new gt(i);else throw new Error("no file given")}async _getHeader(t){const n=await this._getMainHeader(t),r=await this._readChromTree(n,t);return{...n,...r}}async _getMainHeader(t,n=2e3){const{buffer:r}=await this.bbi.read(be.Buffer.alloc(n),0,n,0,t),i=this._isBigEndian(r),s=BS(i),o=s.headerParser.parse(r),{magic:a,asOffset:c,totalSummaryOffset:l}=o;if(o.fileType=a===Ig?"bigbed":"bigwig",c>n||l>n)return this._getMainHeader(t,n*2);if(c){const u=Number(o.asOffset);o.autoSql=Zz(r.subarray(u,r.indexOf(0,u)))}if(o.totalSummaryOffset>n-8*5)return this._getMainHeader(t,n*2);if(o.totalSummaryOffset){const u=r.subarray(Number(o.totalSummaryOffset)),f=s.totalSummaryParser.parse(u);o.totalSummary={...f,basesCovered:Number(f.basesCovered)}}return{...o,isBigEndian:i}}_isBigEndian(t){let n=t.readInt32LE(0);if(n===IS||n===Ig)return!1;if(n=t.readInt32BE(0),n===IS||n===Ig)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,n){const r=t.isBigEndian,i=r?"big":"little",s=[],o={};let a=Number(t.unzoomedDataOffset);const c=Number(t.chromTreeOffset);for(;a%4!==0;)a+=1;const l=a-c,{buffer:u}=await this.bbi.read(be.Buffer.alloc(l),0,l,Number(c),n),f=BS(r),{keySize:h}=f.chromTreeParser.parse(u),d=new Me().endianess(i).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=new Me().endianess(i).skip(h).uint64("childOffset").saveOffset("offset"),m=32,y=async w=>{let A=w;if(A>=u.length)throw new Error("reading beyond end of buffer");const _=f.isLeafNode.parse(u.subarray(A)),{isLeafNode:S,cnt:T}=_;if(A+=_.offset,S)for(let B=0;B<T;B+=1){const I=d.parse(u.subarray(A));A+=I.offset;const{key:D,refId:M,refSize:U}=I,N={name:D,id:M,length:U};o[this.renameRefSeqs(D)]=M,s[M]=N}else{const B=[];for(let I=0;I<T;I+=1){const D=p.parse(u.subarray(A)),{childOffset:M}=D;A+=D.offset,B.push(y(Number(M)-Number(c)))}await Promise.all(B)}};return await y(m),{refsByName:o,refsByNumber:s}}async getUnzoomedView(t){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:s,fileType:o}=await this.getHeader(t);return new JE(this.bbi,r,n,s,i>0,o)}async getFeatureStream(t,n,r,i){await this.getHeader(i);const s=this.renameRefSeqs(t);let o;const{basesPerSpan:a,scale:c}=i||{};return a?o=await this.getView(1/a,i):c?o=await this.getView(c,i):o=await this.getView(1,i),new vn(l=>{o.readWigData(s,n,r,l,i).catch(u=>l.error(u))})}async getFeatures(t,n,r,i){const s=await this.getFeatureStream(t,n,r,i);return(await _S(s.pipe(Wz()))).flat()}}class Yz extends DS{async getView(t,n){const{zoomLevels:r,refsByName:i,fileSize:s,isBigEndian:o,uncompressBufSize:a}=await this.getHeader(n),c=1/t;let l=r.length;s||(l-=1);for(let u=l;u>=0;u-=1){const f=r[u];if(f&&f.reductionLevel<=2*c){const h=Number(f.indexOffset);return new JE(this.bbi,i,h,o,a>0,"summary")}}return this.getUnzoomedView(n)}}function Qz(e){return e.filter(t=>!!t)}class Xz extends DS{constructor(){super(...arguments),this.readIndicesCache=new xs({cache:new Vf({maxSize:1}),fill:(t,n)=>this._readIndices({...t,signal:n})})}readIndices(t={}){const{signal:n,...r}=t;return this.readIndicesCache.get(JSON.stringify(r),t,n)}async getView(t,n){return this.getUnzoomedView(n)}async _readIndices(t){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(t),{buffer:i}=await this.bbi.read(be.Buffer.alloc(64),0,64,Number(n)),s=r?"big":"little",o=new Me().endianess(s).uint16("size").uint16("count").uint64("offset").parse(i),{count:a,offset:c}=o;if(a===0)return[];const l=20,u=l*a,{buffer:f}=await this.bbi.read(be.Buffer.alloc(u),0,u,Number(c)),h=new Me().endianess(s).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let p=0;p<a;p+=1)d.push(h.parse(f.subarray(p*l)));return d}async searchExtraIndexBlocks(t,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const s=i.map(async o=>{const{offset:a,field:c}=o,{buffer:l}=await this.bbi.read(be.Buffer.alloc(32),0,32,Number(a),n),u=r?"big":"little",f=new Me().endianess(u).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:h,keySize:d,valSize:p}=f.parse(l),m=new Me().endianess(u).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new Me().array("leafkeys",{length:"cnt",type:new Me().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new Me().array("keys",{length:"cnt",type:new Me().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),y=async A=>{const _=Number(A),S=4+h*(d+p),{buffer:T}=await this.bbi.read(be.Buffer.alloc(S),0,S,_,n),B=m.parse(T);if(B.leafkeys){let I;for(const{key:D,offset:M}of B.leafkeys){if(t.localeCompare(D)<0&&I)return y(I);I=M}return y(I)}for(const I of B.keys)if(I.key===t)return{...I,field:c}};return y(Number(a)+32)});return Qz(await Promise.all(s))}async searchExtraIndex(t,n={}){const r=await this.searchExtraIndexBlocks(t,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),s=r.map(a=>new vn(c=>{i.readFeatures(c,[a],n).catch(l=>c.error(l))}).pipe(kS((c,l)=>c.concat(l)),CS(c=>{for(const l of c)l.field=a.field;return c})));return(await _S($z(...s))).filter(a=>{var c;return((c=a.rest)===null||c===void 0?void 0:c.split("	")[(a.field||0)-3])===t})}}const FS=Object.freeze(Object.defineProperty({__proto__:null,BigBed:Xz,BigWig:Yz},Symbol.toStringTag,{value:"Module"}));function Kz(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function zo(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zo)}Kz(zo,Error),zo.buildMessage=function(e,t){var n={literal:function(l){return'"'+i(l.text)+'"'},class:function(l){var u="",f;for(f=0;f<l.parts.length;f++)u+=l.parts[f]instanceof Array?s(l.parts[f][0])+"-"+s(l.parts[f][1]):s(l.parts[f]);return"["+(l.inverted?"^":"")+u+"]"},any:function(l){return"any character"},end:function(l){return"end of input"},other:function(l){return l.description}};function r(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function s(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function o(l){return n[l.type](l)}function a(l){var u=new Array(l.length),f,h;for(f=0;f<l.length;f++)u[f]=o(l[f]);if(u.sort(),u.length>0){for(f=1,h=1;f<u.length;f++)u[f-1]!==u[f]&&(u[h]=u[f],h++);u.length=h}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function c(l){return l?'"'+i(l)+'"':"end of input"}return"Expected "+a(e)+" but "+c(t)+" found."};function Jz(e,t){t=t!==void 0?t:{};var n={},r={declaration:n3},i=n3,s="(",o=Oe("(",!1),a=")",c=Oe(")",!1),l=function(E,G,X,K){return{type:E,name:G,comment:X,fields:K}},u="simple",f=Oe("simple",!1),h="object",d=Oe("object",!1),p="table",m=Oe("table",!1),y="auto",w=Oe("auto",!1),A="primary",_=Oe("primary",!1),S="index",T=Oe("index",!1),B="unique",I=Oe("unique",!1),D=function(E,G){return G},M=function(E,G){return E.name&&G.unshift(E),G},U="#",N=Oe("#",!1),te=";",re=Oe(";",!1),ue=function(E,G,X){return{type:E,name:G,comment:X}},pe="[",Se=Oe("[",!1),_e="]",Le=Oe("]",!1),ze=function(E,G,X,K){return{type:E,size:G,name:X,comment:K}},nt=function(E,G,X,K){return{type:E,vals:G,name:X,comment:K}},Ie=",",Be=Oe(",",!1),bt=function(E,G){return G.unshift(E),G},Wt="int",je=Oe("int",!1),L="uint",P=Oe("uint",!1),q="short",$=Oe("short",!1),Z="ushort",C=Oe("ushort",!1),v="byte",V=Oe("byte",!1),W="ubyte",fe=Oe("ubyte",!1),ne="float",he=Oe("float",!1),Zt="char",Ci=Oe("char",!1),Ti="string",ki=Oe("string",!1),It="lstring",Rr=Oe("lstring",!1),Ii="enum",Yt=Oe("enum",!1),ur="double",x=Oe("double",!1),g="bigint",b=Oe("bigint",!1),k="set",R=Oe("set",!1),O=function(E,G){return E+" "+G},j=/^[a-zA-Z_]/,de=Oc([["a","z"],["A","Z"],"_"],!1,!1),Ze=/^[a-zA-Z0-9_]/,Ue=Oc([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Je=function(E){return K_()},De=/^[^\n\r]/,W_=Oc([`
`,"\r"],!0,!1),wG=function(E){return E.join("").replace(/^"/,"").replace(/"$/,"")},xG=J_("integer"),Z_=/^[0-9]/,Y_=Oc([["0","9"]],!1,!1),vG=function(){return parseInt(K_(),10)},AG=J_("whitespace"),Q_=/^[ \t\n\r]/,X_=Oc([" ","	",`
`,"\r"],!1,!1),F=0,Lt=0,gh=[{line:1,column:1}],fr=0,lm=[],oe=0,mh;if("startRule"in t){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=r[t.startRule]}function K_(){return e.substring(Lt,F)}function Oe(E,G){return{type:"literal",text:E,ignoreCase:G}}function Oc(E,G,X){return{type:"class",parts:E,inverted:G,ignoreCase:X}}function EG(){return{type:"end"}}function J_(E){return{type:"other",description:E}}function e3(E){var G=gh[E],X;if(G)return G;for(X=E-1;!gh[X];)X--;for(G=gh[X],G={line:G.line,column:G.column};X<E;)e.charCodeAt(X)===10?(G.line++,G.column=1):G.column++,X++;return gh[E]=G,G}function t3(E,G){var X=e3(E),K=e3(G);return{start:{offset:E,line:X.line,column:X.column},end:{offset:G,line:K.line,column:K.column}}}function ae(E){F<fr||(F>fr&&(fr=F,lm=[]),lm.push(E))}function SG(E,G,X){return new zo(zo.buildMessage(E,G),E,G,X)}function n3(){var E,G,X,K,ie,qe,et,_n,Bi,Mr,Di,Pr,Fi,Nr;return E=F,G=xe(),G!==n?(X=r3(),X!==n?(K=xe(),K!==n?(ie=i3(),ie!==n?(qe=xe(),qe!==n?(et=bh(),et!==n?(_n=xe(),_n!==n?(e.charCodeAt(F)===40?(Bi=s,F++):(Bi=n,oe===0&&ae(o)),Bi!==n?(Mr=xe(),Mr!==n?(Di=_G(),Di!==n?(Pr=xe(),Pr!==n?(e.charCodeAt(F)===41?(Fi=a,F++):(Fi=n,oe===0&&ae(c)),Fi!==n?(Nr=xe(),Nr!==n?(Lt=E,G=l(X,ie,et,Di),E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n),E}function r3(){var E;return e.substr(F,6)===u?(E=u,F+=6):(E=n,oe===0&&ae(f)),E===n&&(e.substr(F,6)===h?(E=h,F+=6):(E=n,oe===0&&ae(d)),E===n&&(e.substr(F,5)===p?(E=p,F+=5):(E=n,oe===0&&ae(m)))),E}function i3(){var E,G,X,K;return E=zn(),E===n&&(E=F,G=zn(),G!==n?(X=s3(),X!==n?(G=[G,X],E=G):(F=E,E=n)):(F=E,E=n),E===n&&(E=F,G=zn(),G!==n?(e.substr(F,4)===y?(X=y,F+=4):(X=n,oe===0&&ae(w)),X!==n?(G=[G,X],E=G):(F=E,E=n)):(F=E,E=n),E===n&&(E=F,G=zn(),G!==n?(X=s3(),X!==n?(e.substr(F,4)===y?(K=y,F+=4):(K=n,oe===0&&ae(w)),K!==n?(G=[G,X,K],E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)))),E}function s3(){var E;return e.substr(F,7)===A?(E=A,F+=7):(E=n,oe===0&&ae(_)),E===n&&(e.substr(F,5)===S?(E=S,F+=5):(E=n,oe===0&&ae(T)),E===n&&(e.substr(F,6)===B?(E=B,F+=6):(E=n,oe===0&&ae(I)))),E}function bh(){var E;return E=o3(),E===n&&(E=xe()),E}function _G(){var E,G,X,K,ie,qe,et;if(E=F,G=cm(),G!==n)if(X=xe(),X!==n){for(K=[],ie=F,qe=xe(),qe!==n?(et=cm(),et!==n?(Lt=ie,qe=D(G,et),ie=qe):(F=ie,ie=n)):(F=ie,ie=n);ie!==n;)K.push(ie),ie=F,qe=xe(),qe!==n?(et=cm(),et!==n?(Lt=ie,qe=D(G,et),ie=qe):(F=ie,ie=n)):(F=ie,ie=n);K!==n?(ie=xe(),ie!==n?(Lt=E,G=M(G,K),E=G):(F=E,E=n)):(F=E,E=n)}else F=E,E=n;else F=E,E=n;return E}function CG(){var E;return e.charCodeAt(F)===35?(E=U,F++):(E=n,oe===0&&ae(N)),E}function TG(){var E,G,X,K,ie;return E=F,G=xe(),G!==n?(X=CG(),X!==n?(K=o3(),K!==n?(ie=xe(),ie!==n?(G=[G,X,K,ie],E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n),E}function cm(){var E,G,X,K,ie,qe,et,_n,Bi,Mr,Di,Pr,Fi,Nr;return E=F,G=um(),G!==n?(X=xe(),X!==n?(K=zn(),K!==n?(ie=xe(),ie!==n?(e.charCodeAt(F)===59?(qe=te,F++):(qe=n,oe===0&&ae(re)),qe!==n?(et=xe(),et!==n?(_n=bh(),_n!==n?(Lt=E,G=ue(G,K,_n),E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n),E===n&&(E=F,G=um(),G!==n?(X=xe(),X!==n?(e.charCodeAt(F)===91?(K=pe,F++):(K=n,oe===0&&ae(Se)),K!==n?(ie=xe(),ie!==n?(qe=IG(),qe!==n?(et=xe(),et!==n?(e.charCodeAt(F)===93?(_n=_e,F++):(_n=n,oe===0&&ae(Le)),_n!==n?(Bi=xe(),Bi!==n?(Mr=zn(),Mr!==n?(Di=xe(),Di!==n?(e.charCodeAt(F)===59?(Pr=te,F++):(Pr=n,oe===0&&ae(re)),Pr!==n?(Fi=xe(),Fi!==n?(Nr=bh(),Nr!==n?(Lt=E,G=ze(G,qe,Mr,Nr),E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n),E===n&&(E=F,G=um(),G!==n?(X=xe(),X!==n?(e.charCodeAt(F)===40?(K=s,F++):(K=n,oe===0&&ae(o)),K!==n?(ie=xe(),ie!==n?(qe=kG(),qe!==n?(et=xe(),et!==n?(e.charCodeAt(F)===41?(_n=a,F++):(_n=n,oe===0&&ae(c)),_n!==n?(Bi=xe(),Bi!==n?(Mr=zn(),Mr!==n?(Di=xe(),Di!==n?(e.charCodeAt(F)===59?(Pr=te,F++):(Pr=n,oe===0&&ae(re)),Pr!==n?(Fi=xe(),Fi!==n?(Nr=bh(),Nr!==n?(Lt=E,G=nt(G,qe,Mr,Nr),E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n)):(F=E,E=n),E===n&&(E=TG()))),E}function kG(){var E,G,X,K,ie,qe,et;if(E=F,G=zn(),G!==n){for(X=[],K=F,e.charCodeAt(F)===44?(ie=Ie,F++):(ie=n,oe===0&&ae(Be)),ie!==n?(qe=xe(),qe!==n?(et=zn(),et!==n?(Lt=K,ie=D(G,et),K=ie):(F=K,K=n)):(F=K,K=n)):(F=K,K=n);K!==n;)X.push(K),K=F,e.charCodeAt(F)===44?(ie=Ie,F++):(ie=n,oe===0&&ae(Be)),ie!==n?(qe=xe(),qe!==n?(et=zn(),et!==n?(Lt=K,ie=D(G,et),K=ie):(F=K,K=n)):(F=K,K=n)):(F=K,K=n);X!==n?(Lt=E,G=bt(G,X),E=G):(F=E,E=n)}else F=E,E=n;return E}function um(){var E,G,X,K;return e.substr(F,3)===Wt?(E=Wt,F+=3):(E=n,oe===0&&ae(je)),E===n&&(e.substr(F,4)===L?(E=L,F+=4):(E=n,oe===0&&ae(P)),E===n&&(e.substr(F,5)===q?(E=q,F+=5):(E=n,oe===0&&ae($)),E===n&&(e.substr(F,6)===Z?(E=Z,F+=6):(E=n,oe===0&&ae(C)),E===n&&(e.substr(F,4)===v?(E=v,F+=4):(E=n,oe===0&&ae(V)),E===n&&(e.substr(F,5)===W?(E=W,F+=5):(E=n,oe===0&&ae(fe)),E===n&&(e.substr(F,5)===ne?(E=ne,F+=5):(E=n,oe===0&&ae(he)),E===n&&(e.substr(F,4)===Zt?(E=Zt,F+=4):(E=n,oe===0&&ae(Ci)),E===n&&(e.substr(F,6)===Ti?(E=Ti,F+=6):(E=n,oe===0&&ae(ki)),E===n&&(e.substr(F,7)===It?(E=It,F+=7):(E=n,oe===0&&ae(Rr)),E===n&&(e.substr(F,4)===Ii?(E=Ii,F+=4):(E=n,oe===0&&ae(Yt)),E===n&&(e.substr(F,6)===ur?(E=ur,F+=6):(E=n,oe===0&&ae(x)),E===n&&(e.substr(F,6)===g?(E=g,F+=6):(E=n,oe===0&&ae(b)),E===n&&(e.substr(F,3)===k?(E=k,F+=3):(E=n,oe===0&&ae(R)),E===n&&(E=F,G=r3(),G!==n?(X=xe(),X!==n?(K=i3(),K!==n?(Lt=E,G=O(G,K),E=G):(F=E,E=n)):(F=E,E=n)):(F=E,E=n))))))))))))))),E}function IG(){var E;return E=BG(),E===n&&(E=zn()),E}function zn(){var E,G,X,K,ie;if(E=F,G=F,j.test(e.charAt(F))?(X=e.charAt(F),F++):(X=n,oe===0&&ae(de)),X!==n){for(K=[],Ze.test(e.charAt(F))?(ie=e.charAt(F),F++):(ie=n,oe===0&&ae(Ue));ie!==n;)K.push(ie),Ze.test(e.charAt(F))?(ie=e.charAt(F),F++):(ie=n,oe===0&&ae(Ue));K!==n?(X=[X,K],G=X):(F=G,G=n)}else F=G,G=n;return G!==n&&(Lt=E,G=Je()),E=G,E}function o3(){var E,G,X;for(E=F,G=[],De.test(e.charAt(F))?(X=e.charAt(F),F++):(X=n,oe===0&&ae(W_));X!==n;)G.push(X),De.test(e.charAt(F))?(X=e.charAt(F),F++):(X=n,oe===0&&ae(W_));return G!==n&&(Lt=E,G=wG(G)),E=G,E}function BG(){var E,G,X,K;if(oe++,E=F,G=xe(),G!==n){if(X=[],Z_.test(e.charAt(F))?(K=e.charAt(F),F++):(K=n,oe===0&&ae(Y_)),K!==n)for(;K!==n;)X.push(K),Z_.test(e.charAt(F))?(K=e.charAt(F),F++):(K=n,oe===0&&ae(Y_));else X=n;X!==n?(Lt=E,G=vG(),E=G):(F=E,E=n)}else F=E,E=n;return oe--,E===n&&(G=n,oe===0&&ae(xG)),E}function xe(){var E,G;for(oe++,E=[],Q_.test(e.charAt(F))?(G=e.charAt(F),F++):(G=n,oe===0&&ae(X_));G!==n;)E.push(G),Q_.test(e.charAt(F))?(G=e.charAt(F),F++):(G=n,oe===0&&ae(X_));return oe--,E===n&&(G=n,oe===0&&ae(AG)),E}if(mh=i(),mh!==n&&F===e.length)return mh;throw mh!==n&&F<e.length&&ae(EG()),SG(lm,fr<e.length?e.charAt(fr):null,fr<e.length?t3(fr,fr+1):t3(fr,fr))}var RS={SyntaxError:zo,parse:Jz};const eU=wf(RS),Bg=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([e,t])=>[e,RS.parse(t.trim())]));function Dg(e){const t=new Set(["uint","int","float","long"]);return{...e,fields:e.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&t.has(n.type),isNumeric:!n.size&&t.has(n.type)})).filter(n=>!!n.name)}}const tU={".":0,"-":-1,"+":1};function nU(e){var t;return e.length>=12&&!Number.isNaN(parseInt(e[9],10))&&((t=e[10])===null||t===void 0?void 0:t.split(",").filter(n=>!!n).length)===parseInt(e[9],10)}class rU{constructor(t={}){if(t.autoSql)this.autoSql=Dg(eU.parse(t.autoSql));else if(t.type){if(!Bg[t.type])throw new Error("Type not found");this.autoSql=Dg(Bg[t.type])}else this.autoSql=Dg(Bg.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(t,n={}){const{autoSql:r}=this,{uniqueId:i}=n,s=Array.isArray(t)?t:t.split("	");let o={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&nU(s))for(let a=0;a<r.fields.length;a++){const c=r.fields[a];let l=s[a];const{isNumeric:u,isArray:f,arrayIsNumeric:h,name:d}=c;if(l==null)break;if(l!=="."){if(u){const p=Number(l);l=Number.isNaN(p)?l:p}else f&&(l=l.split(","),l[l.length-1]===""&&l.pop(),h&&(l=l.map(Number)));o[d]=l}}else{const a=["chrom","chromStart","chromEnd","name"];o=Object.fromEntries(s.map((c,l)=>[a[l]||"field"+l,c])),o.chromStart=+o.chromStart,o.chromEnd=+o.chromEnd,Number.isNaN(Number.parseFloat(o.field4))||(o.score=+o.field4,delete o.field4),(o.field5==="+"||o.field5==="-")&&(o.strand=o.field5,delete o.field5)}return i&&(o.uniqueId=i),o.strand=tU[o.strand]||0,o.chrom=decodeURIComponent(o.chrom),o}}const iU=Object.freeze(Object.defineProperty({__proto__:null,default:rU},Symbol.toStringTag,{value:"Module"}));let MS=class{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}static min(...t){let n,r=0;for(;!n;r+=1)n=t[r];for(;r<t.length;r+=1)n.compareTo(t[r])>0&&(n=t[r]);return n}};function Uo(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new MS(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}let PS=class{constructor(t,n,r,i){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv.toString()}..${this.maxv.toString()} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}};function sU(e){return new Promise(t=>setTimeout(t,e))}function oU(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()}function aU(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new Error("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}function lU(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function cU(e={}){return"aborted"in e?{signal:e}:e}function NS(e,t){const n=[];let r;if(e.length===0)return e;e.sort((i,s)=>{const o=i.minv.blockPosition-s.minv.blockPosition;return o===0?i.minv.dataPosition-s.minv.dataPosition:o});for(const i of e)(!t||i.maxv.compareTo(t)>0)&&(r===void 0?(n.push(i),r=i):lU(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i));return n}function LS(e,t){return{lineCount:oU(Of.fromBytesLE(Array.prototype.slice.call(e,t,t+8),!0))}}function sh(e,t){return e?e.compareTo(t)>0?t:e:t}function uU(e,t=n=>n){let n=0,r=0;const i=[],s={};for(let o=0;o<e.length;o+=1)if(!e[o]){if(r<o){let a=e.toString("utf8",r,o);a=t(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}let OS=class{constructor({filehandle:t,renameRefSeq:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}};const fU=21578050;function hU(e,t){return e-e%t}function dU(e,t){return e-e%t+t}function pU(e,t){return t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class Go extends OS{async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async _parse(t){const n=await this.filehandle.readFile(t);if(n.readUInt32LE(0)!==fU)throw new Error("Not a BAI file");const r=n.readInt32LE(4),s=((1<<(5+1)*3)-1)/7;let o=8,a;const c=new Array(r);for(let l=0;l<r;l++){const u=n.readInt32LE(o);let f;o+=4;const h={};for(let m=0;m<u;m+=1){const y=n.readUInt32LE(o);if(o+=4,y===s+1)o+=4,f=LS(n,o+16),o+=32;else{if(y>s+1)throw new Error("bai index contains too many bins, please use CSI");{const w=n.readInt32LE(o);o+=4;const A=new Array(w);for(let _=0;_<w;_++){const S=Uo(n,o);o+=8;const T=Uo(n,o);o+=8,a=sh(a,S),A[_]=new PS(S,T,y)}h[y]=A}}}const d=n.readInt32LE(o);o+=4;const p=new Array(d);for(let m=0;m<d;m++){const y=Uo(n,o);o+=8,a=sh(a,y),p[m]=y}c[l]={binIndex:h,linearIndex:p,stats:f}}return{bai:!0,firstDataLine:a,maxBlockSize:65536,indices:c,refCount:r}}async indexCov(t,n,r,i={}){const o=n!==void 0,c=(await this.parse(i)).indices[t];if(!c)return[];const{linearIndex:l=[],stats:u}=c;if(l.length===0)return[];const f=r===void 0?(l.length-1)*16384:dU(r,16384),h=n===void 0?0:hU(n,16384),d=o?new Array((f-h)/16384):new Array(l.length-1),p=l[l.length-1].blockPosition;if(f>(l.length-1)*16384)throw new Error("query outside of range of linear index");let m=l[h/16384].blockPosition;for(let y=h/16384,w=0;y<f/16384;y++,w++)d[w]={score:l[y+1].blockPosition-m,start:y*16384,end:y*16384+16384},m=l[y+1].blockPosition;return d.map(y=>({...y,score:y.score*((u==null?void 0:u.lineCount)||0)/p}))}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const s=await this.parse(i);if(!s)return[];const o=s.indices[t];if(!o)return[];const a=pU(n,r),c=[];for(const[d,p]of a)for(let m=d;m<=p;m++)if(o.binIndex[m]){const y=o.binIndex[m];for(const w of y)c.push(w)}const l=o.linearIndex.length;let u;const f=Math.min(n>>14,l-1),h=Math.min(r>>14,l-1);for(let d=f;d<=h;++d){const p=o.linearIndex[d];p&&(!u||p.compareTo(u)<0)&&(u=p)}return NS(c,u)}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}let Fg=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Fg=new Int32Array(Fg));const gU=(e,t)=>{let n=t===0?0:~~t^-1;for(let r=0;r<e.length;r++)n=Fg[(n^e[r])&255]^n>>>8;return n^-1},zS=(e,t)=>be.Buffer.from(e,t);function mU(e,t){const n=(r,i)=>t(zS(r),i)>>>0;return n.signed=(r,i)=>t(zS(r),i),n.unsigned=n,n.model=e,n}const bU=mU("crc-32",gU),yU=21582659,wU=38359875;function xU(e,t){return e*2**t}function US(e,t){return Math.floor(e/2**t)}let oh=class extends OS{constructor(){super(...arguments),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async indexCov(){return[]}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",s={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!s)throw new Error(`invalid Tabix preset format flags ${r}`);const o={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},a=t.readInt32LE(n+16),c=a?String.fromCharCode(a):"",l=t.readInt32LE(n+20),u=t.readInt32LE(n+24);return{columnNumbers:o,coordinateType:i,metaValue:a,metaChar:c,skipLines:l,format:s,formatFlags:r,...uU(t.subarray(n+28,n+28+u),this.renameRefSeq)}}async _parse(t){const n=await this.filehandle.readFile(t),r=await gi(n);let i;if(r.readUInt32LE(0)===yU)i=1;else if(r.readUInt32LE(0)===wU)i=2;else throw new Error("Not a CSI file");this.minShift=r.readInt32LE(4),this.depth=r.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const s=r.readInt32LE(12),o=s>=30?this.parseAuxData(r,16):void 0,a=r.readInt32LE(16+s);let c=16+s+4,l;const u=new Array(a);for(let f=0;f<a;f++){const h=r.readInt32LE(c);c+=4;const d={};let p;for(let m=0;m<h;m++){const y=r.readUInt32LE(c);if(c+=4,y>this.maxBinNumber)p=LS(r,c+28),c+=44;else{l=sh(l,Uo(r,c)),c+=8;const w=r.readInt32LE(c);c+=4;const A=new Array(w);for(let _=0;_<w;_+=1){const S=Uo(r,c);c+=8;const T=Uo(r,c);c+=8,l=sh(l,S),A[_]=new PS(S,T,y)}d[y]=A}}u[f]={binIndex:d,stats:p}}return{csiVersion:i,firstDataLine:l,indices:u,refCount:a,csi:!0,maxBlockSize:65536,...o}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const s=await this.parse(i),o=s==null?void 0:s.indices[t];if(!o)return[];const a=this.reg2bins(n,r);if(a.length===0)return[];const c=[];for(const[l,u]of a)for(let f=l;f<=u;f++)if(o.binIndex[f]){const h=o.binIndex[f];for(const d of h)c.push(d)}return NS(c,new MS(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,s=this.minShift+this.depth*3;const o=[];for(;r<=this.depth;s-=3,i+=xU(1,r*3),r+=1){const a=i+US(t,s),c=i+US(n,s);if(c-a+o.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,c])}return o}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}};const An={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},GS="=ACMGRSVTWYHKDBN".split(""),gc="MIDNSHP=X???????".split("");class HS{constructor(t){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=t,{byteArray:i,start:s}=n;this.data={start:i.readInt32LE(s+8)},this.bytes=n,this._id=r,this._refID=i.readInt32LE(s+4),this.flags=(i.readInt32LE(s+16)&4294901760)>>16}get(t){return this[t]?this.data[t]?this.data[t]:(this.data[t]=this[t](),this.data[t]):this._get(t.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(t){return t in this.data?this.data[t]:(this.data[t]=this._parseTag(t),this.data[t])}_tags(){this._parseAllTags();let t=["seq"];this.isSegmentUnmapped()||t.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&t.push("next_segment_position","pair_orientation"),t=t.concat(this._tagList||[]);for(const r of Object.keys(this.data))!r.startsWith("_")&&r!=="next_seq_id"&&t.push(r);const n={};return t.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),s=n[i];return n[i]=!0,!s})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const t=(this.get("_bin_mq_nl")&65280)>>8;return t===255?void 0:t}score(){return this.get("mq")}qual(){var t;return(t=this.qualRaw())===null||t===void 0?void 0:t.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:t,byteArray:n}=this.bytes,r=t+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const t=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+t-1)}_parseTag(t){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const s=this.bytes.end;let o;for(;i<s&&o!==t;){const a=String.fromCharCode(n[i],n[i+1]);o=a.toLowerCase();const c=String.fromCharCode(n[i+2]);i+=3;let l;switch(c){case"A":{l=String.fromCharCode(n[i]),i+=1;break}case"i":{l=n.readInt32LE(i),i+=4;break}case"I":{l=n.readUInt32LE(i),i+=4;break}case"c":{l=n.readInt8(i),i+=1;break}case"C":{l=n.readUInt8(i),i+=1;break}case"s":{l=n.readInt16LE(i),i+=2;break}case"S":{l=n.readUInt16LE(i),i+=2;break}case"f":{l=n.readFloatLE(i),i+=4;break}case"Z":case"H":{for(l="";i<=s;){const u=n[i++];if(u===0)break;l+=String.fromCharCode(u)}break}case"B":{l="";const u=n[i++],f=String.fromCharCode(u),h=n.readInt32LE(i);if(i+=4,f==="i")if(a==="CG")for(let d=0;d<h;d++){const p=n.readInt32LE(i),m=p>>4,y=gc[p&15];l+=m+y,i+=4}else for(let d=0;d<h;d++)l+=n.readInt32LE(i),d+1<h&&(l+=","),i+=4;if(f==="I")if(a==="CG")for(let d=0;d<h;d++){const p=n.readUInt32LE(i),m=p>>4,y=gc[p&15];l+=m+y,i+=4}else for(let d=0;d<h;d++)l+=n.readUInt32LE(i),d+1<h&&(l+=","),i+=4;if(f==="s")for(let d=0;d<h;d++)l+=n.readInt16LE(i),d+1<h&&(l+=","),i+=2;if(f==="S")for(let d=0;d<h;d++)l+=n.readUInt16LE(i),d+1<h&&(l+=","),i+=2;if(f==="c")for(let d=0;d<h;d++)l+=n.readInt8(i),d+1<h&&(l+=","),i+=1;if(f==="C")for(let d=0;d<h;d++)l+=n.readUInt8(i),d+1<h&&(l+=","),i+=1;if(f==="f")for(let d=0;d<h;d++)l+=n.readFloatLE(i),d+1<h&&(l+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${c}', tags may be incomplete`),l=void 0,i=s}if(this._tagOffset=i,this._tagList.push(a),o===t)return l;this.data[o]=l}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(t){return t.match(/\d+\D/g).map(n=>[/\D/.exec(n)[0].toUpperCase(),Number.parseInt(n,10)])}isPaired(){return!!(this.flags&An.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&An.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&An.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&An.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&An.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&An.BAM_FMREVERSE)}isRead1(){return!!(this.flags&An.BAM_FREAD1)}isRead2(){return!!(this.flags&An.BAM_FREAD2)}isSecondary(){return!!(this.flags&An.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&An.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&An.BAM_FDUP)}isSupplementary(){return!!(this.flags&An.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:t,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const s=this.get("seq_length");let o="",a=0,c=t.readInt32LE(i),l=c>>4,u=gc[c&15];if(u==="S"&&l===s)return i+=4,c=t.readInt32LE(i),l=c>>4,u=gc[c&15],u!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=l,this.get("CG");for(let f=0;f<r;++f)c=t.readInt32LE(i),l=c>>4,u=gc[c&15],o+=l+u,u!=="H"&&u!=="S"&&u!=="I"&&(a+=l),i+=4;return this.data.length_on_ref=a,o}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:t,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),s=this.get("seq_length");let o="",a=0;for(let c=0;c<i;++c){const l=t[r+c];o+=GS[(l&240)>>4],a++,a<s&&(o+=GS[l&15],a++)}return o}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const t=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const s=[];return this.template_length()>0?(s[0]=t,s[1]=r,s[2]=n,s[3]=i):(s[2]=t,s[3]=r,s[0]=n,s[1]=i),s.join("")}return""}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const t={};for(const n of Object.keys(this))n.startsWith("_")||n==="bytes"||(t[n]=this[n]);return t}}function VS(e){const t=e.split(/\r?\n/),n=[];for(const r of t){const[i,...s]=r.split(/\t/);i&&n.push({tag:i.slice(1),data:s.map(o=>{const a=o.indexOf(":"),c=o.slice(0,a),l=o.slice(a+1);return{tag:c,value:l}})})}return n}const $S=21840194,jS=65536;async function vU(e){let t=[];for await(const n of e)t=t.concat(n);return t}class AU{read(){throw new Error("never called")}stat(){throw new Error("never called")}readFile(){throw new Error("never called")}close(){throw new Error("never called")}}class qS{constructor({bamFilehandle:t,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:s,baiUrl:o,csiPath:a,csiFilehandle:c,csiUrl:l,htsget:u,yieldThreadTime:f=100,renameRefSeqs:h=d=>d}){if(this.htsget=!1,this.featureCache=new xs({cache:new Vf({maxSize:50}),fill:async(d,p)=>{const{chunk:m,opts:y}=d,{data:w,cpositions:A,dpositions:_}=await this._readChunk({chunk:m,opts:{...y,signal:p}});return this.readBamFeatures(w,A,_,m)}}),this.renameRefSeq=h,t)this.bam=t;else if(n)this.bam=new gt(n);else if(r)this.bam=new Fn(r);else if(u)this.htsget=!0,this.bam=new AU;else throw new Error("unable to initialize bam");if(c)this.index=new oh({filehandle:c});else if(a)this.index=new oh({filehandle:new gt(a)});else if(l)this.index=new oh({filehandle:new Fn(l)});else if(s)this.index=new Go({filehandle:s});else if(i)this.index=new Go({filehandle:new gt(i)});else if(o)this.index=new Go({filehandle:new Fn(o)});else if(n)this.index=new Go({filehandle:new gt(`${n}.bai`)});else if(r)this.index=new Go({filehandle:new Fn(`${r}.bai`)});else if(u)this.htsget=!0;else throw new Error("unable to infer index format");this.yieldThreadTime=f}async getHeaderPre(t){const n=cU(t);if(!this.index)return;const r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let s;if(i){const u=i+jS,f=await this.bam.read(be.Buffer.alloc(u),0,u,0,n);if(!f.bytesRead)throw new Error("Error reading header");s=f.buffer.subarray(0,Math.min(f.bytesRead,i))}else s=await this.bam.readFile(n);const o=await gi(s);if(o.readInt32LE(0)!==$S)throw new Error("Not a BAM file");const a=o.readInt32LE(4);this.header=o.toString("utf8",8,8+a);const{chrToIndex:c,indexToChr:l}=await this._readRefSeqs(a+8,65535,n);return this.chrToIndex=c,this.indexToChr=l,VS(this.header)}getHeader(t){return this.headerP||(this.headerP=this.getHeaderPre(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}async getHeaderText(t={}){return await this.getHeader(t),this.header}async _readRefSeqs(t,n,r){if(t>n)return this._readRefSeqs(t,n*2,r);const i=n+jS,{bytesRead:s,buffer:o}=await this.bam.read(be.Buffer.alloc(i),0,n,0,r);if(!s)throw new Error("Error reading refseqs from header");const a=await gi(o.subarray(0,Math.min(s,n))),c=a.readInt32LE(t);let l=t+4;const u={},f=[];for(let h=0;h<c;h+=1){const d=a.readInt32LE(l),p=this.renameRefSeq(a.toString("utf8",l+4,l+4+d-1)),m=a.readInt32LE(l+d+4);if(u[p]=h,f.push({refName:p,length:m}),l=l+8+d,l>a.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(t,n*2,r)}return{chrToIndex:u,indexToChr:f}}async getRecordsForRange(t,n,r,i){return vU(this.streamRecordsForRange(t,n,r,i))}async*streamRecordsForRange(t,n,r,i){var s;await this.getHeader(i);const o=(s=this.chrToIndex)===null||s===void 0?void 0:s[t];if(o===void 0||!this.index)yield[];else{const a=await this.index.blocksForRange(o,n-1,r,i);yield*this._fetchChunkFeatures(a,o,n,r,i)}}async*_fetchChunkFeatures(t,n,r,i,s={}){const{viewAsPairs:o}=s,a=[];let c=!1;for(const l of t){const u=await this.featureCache.get(l.toString(),{chunk:l,opts:s},s.signal),f=[];for(const h of u)if(h.seq_id()===n)if(h.get("start")>=i){c=!0;break}else h.get("end")>=r&&f.push(h);if(a.push(f),yield f,c)break}aU(s.signal),o&&(yield this.fetchPairs(n,a,s))}async fetchPairs(t,n,r){const{pairAcrossChr:i,maxInsertSize:s=2e5}=r,o={},a={};n.map(h=>{const d={};for(const p of h){const m=p.name(),y=p.id();d[m]||(d[m]=0),d[m]++,a[y]=1}for(const[p,m]of Object.entries(d))m===1&&(o[p]=!0)});const c=[];n.map(h=>{for(const d of h){const p=d.name(),m=d.get("start"),y=d._next_pos(),w=d._next_refid();this.index&&o[p]&&(i||w===t&&Math.abs(m-y)<s)&&c.push(this.index.blocksForRange(w,y,y+1,r))}});const l=new Map,u=await Promise.all(c);for(const h of u.flat())l.has(h.toString())||l.set(h.toString(),h);return(await Promise.all([...l.values()].map(async h=>{const{data:d,cpositions:p,dpositions:m,chunk:y}=await this._readChunk({chunk:h,opts:r}),w=[];for(const A of await this.readBamFeatures(d,p,m,y))o[A.get("name")]&&!a[A.id()]&&w.push(A);return w}))).flat()}async _readRegion(t,n,r={}){const{bytesRead:i,buffer:s}=await this.bam.read(be.Buffer.alloc(n),0,n,t,r);return s.subarray(0,Math.min(i,n))}async _readChunk({chunk:t,opts:n}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n),{buffer:i,cpositions:s,dpositions:o}=await yA(r,t);return{data:i,cpositions:s,dpositions:o,chunk:t}}async readBamFeatures(t,n,r,i){let s=0;const o=[];let a=0,c=+Date.now();for(;s+4<t.length;){const l=t.readInt32LE(s),u=s+4+l-1;if(r){for(;s+i.minv.dataPosition>=r[a++];);a--}if(u<t.length){const f=new HS({bytes:{byteArray:t,start:s,end:u},fileOffset:n.length>0?n[a]*256+(s-r[a])+i.minv.dataPosition+1:bU.signed(t.slice(s,u))});o.push(f),this.yieldThreadTime&&+Date.now()-c>this.yieldThreadTime&&(await sU(1),c=+Date.now())}s=u+1}return o}async hasRefSeq(t){var n,r;const i=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return i===void 0?!1:(r=this.index)===null||r===void 0?void 0:r.hasRefSeq(i)}async lineCount(t){var n;const r=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return r===void 0||!this.index?0:this.index.lineCount(r)}async indexCov(t,n,r){var i;if(!this.index)return[];await this.index.parse();const s=(i=this.chrToIndex)===null||i===void 0?void 0:i[t];return s===void 0?[]:this.index.indexCov(s,n,r)}async blocksForRange(t,n,r,i){var s;if(!this.index)return[];await this.index.parse();const o=(s=this.chrToIndex)===null||s===void 0?void 0:s[t];return o===void 0?[]:this.index.blocksForRange(o,n,r,i)}}async function WS(e,t){const n=await Promise.all(e.map(async r=>{const{url:i,headers:s}=r;if(i.startsWith("data:"))return be.Buffer.from(i.split(",")[1],"base64");{const{referer:o,...a}=s,c=await fetch(i,{...t,headers:{...t==null?void 0:t.headers,...a}});if(!c.ok)throw new Error(`HTTP ${c.status} fetching ${i}: ${await c.text()}`);return be.Buffer.from(await c.arrayBuffer())}}));return be.Buffer.concat(await Promise.all(n.map(r=>gi(r))))}class EU extends qS{constructor(t){super({htsget:!0}),this.baseUrl=t.baseUrl,this.trackId=t.trackId}async*streamRecordsForRange(t,n,r,i){var s;const a=`${`${this.baseUrl}/${this.trackId}`}?referenceName=${t}&start=${n}&end=${r}&format=BAM`,c=(s=this.chrToIndex)===null||s===void 0?void 0:s[t];if(c===void 0)yield[];else{const l=await fetch(a,{...i});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${a}: ${await l.text()}`);const u=await l.json(),f=await WS(u.htsget.urls.slice(1),i);yield*this._fetchChunkFeatures([{buffer:f,_fetchedSize:void 0,bin:0,compareTo(){return 0},toUniqueString(){return`${t}_${n}_${r}`},fetchedSize(){return 0},minv:{dataPosition:0,blockPosition:0,compareTo:()=>0},maxv:{dataPosition:Number.MAX_SAFE_INTEGER,blockPosition:0,compareTo:()=>0},toString(){return`${t}_${n}_${r}`}}],c,n,r,i)}}async _readChunk({chunk:t}){if(!t.buffer)throw new Error("expected chunk.buffer in htsget");return{data:t.buffer,cpositions:[],dpositions:[],chunk:t}}async getHeader(t={}){const n=`${this.baseUrl}/${this.trackId}?referenceName=na&class=header`,r=await fetch(n,t);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${n}: ${await r.text()}`);const i=await r.json(),s=await WS(i.htsget.urls,t);if(s.readInt32LE(0)!==$S)throw new Error("Not a BAM file");const o=s.readInt32LE(4),a=s.toString("utf8",8,8+o),c=VS(a),l=[],u={},f=c.filter(h=>h.tag==="SQ");for(const[h,d]of f.entries()){let p="",m=0;for(const y of d.data)y.tag==="SN"?p=y.value:y.tag==="LN"&&(m=+y.value);u[p]=h,l[h]={refName:p,length:m}}return this.chrToIndex=u,this.indexToChr=l,c}}const SU=Object.freeze(Object.defineProperty({__proto__:null,BAI:Go,BamFile:qS,BamRecord:HS,CSI:oh,HtsgetFile:EU},Symbol.toStringTag,{value:"Module"}));function ZS(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()}class _U extends Error{}function Ho(e){if(e&&e.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const t=new _U("aborted");throw t.code="ERR_ABORTED",t}}}function CU(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function YS(e,t){const n=[];let r=null;return e.length===0?e:(e.sort(function(i,s){const o=i.minv.blockPosition-s.minv.blockPosition;return o!==0?o:i.minv.dataPosition-s.minv.dataPosition}),e.forEach(i=>{(!t||i.maxv.compareTo(t)>0)&&(r===null?(n.push(i),r=i):CU(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}class Rg{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}}function Vo(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new Rg(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}class ah{constructor(t,n,r,i=void 0){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class QS{constructor({filehandle:t,renameRefSeqs:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}async getMetadata(t={}){const{indices:n,...r}=await this.parse(t);return r}_findFirstData(t,n){return t?t.compareTo(n)>0?n:t:n}async parse(t={}){return this.parseP||(this.parseP=this._parse(t).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}const TU=21578324,XS=14;function kU(e,t){return e+=1,t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class $o extends QS{async lineCount(t,n={}){const r=await this.parse(n),i=r.refNameToId[t];if(i===void 0||!r.indices[i])return-1;const{stats:o}=r.indices[i];return o?o.lineCount:-1}async _parse(t={}){const n=await this.filehandle.readFile(t),r=await gi(n);if(Ho(t.signal),r.readUInt32LE(0)!==TU)throw new Error("Not a TBI file");const i=r.readInt32LE(4),s=r.readInt32LE(8),o=s&65536?"zero-based-half-open":"1-based-closed",c={0:"generic",1:"SAM",2:"VCF"}[s&15];if(!c)throw new Error(`invalid Tabix preset format flags ${s}`);const l={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},u=r.readInt32LE(24),f=5,h=((1<<(f+1)*3)-1)/7,d=2**(14+f*3),p=u?String.fromCharCode(u):null,m=r.readInt32LE(28),y=r.readInt32LE(32),{refNameToId:w,refIdToName:A}=this._parseNameBytes(r.slice(36,36+y));let _=36+y,S;return{indices:new Array(i).fill(0).map(()=>{const B=r.readInt32LE(_);_+=4;const I={};let D;for(let N=0;N<B;N+=1){const te=r.readUInt32LE(_);if(_+=4,te>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(te===h+1){const re=r.readInt32LE(_);_+=4,re===2&&(D=this.parsePseudoBin(r,_)),_+=16*re}else{const re=r.readInt32LE(_);_+=4;const ue=new Array(re);for(let pe=0;pe<re;pe+=1){const Se=Vo(r,_),_e=Vo(r,_+8);_+=16,S=this._findFirstData(S,Se),ue[pe]=new ah(Se,_e,te)}I[te]=ue}}const M=r.readInt32LE(_);_+=4;const U=new Array(M);for(let N=0;N<M;N+=1)U[N]=Vo(r,_),_+=8,S=this._findFirstData(S,U[N]);return{binIndex:I,linearIndex:U,stats:D}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:m,firstDataLine:S,columnNumbers:l,coordinateType:o,format:c,refIdToName:A,refNameToId:w,maxBlockSize:65536}}parsePseudoBin(t,n){return{lineCount:ZS(Of.fromBytesLE(t.slice(n+16,n+24),!0))}}_parseNameBytes(t){let n=0,r=0;const i=[],s={};for(let o=0;o<t.length;o+=1)if(!t[o]){if(r<o){let a=t.toString("utf8",r,o);a=this.renameRefSeq(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const s=await this.parse(i),o=s.refNameToId[t];if(o===void 0)return[];const a=s.indices[o];if(!a)return[];(a.linearIndex.length?a.linearIndex[n>>XS>=a.linearIndex.length?a.linearIndex.length-1:n>>XS]:new Rg(0,0))||console.warn("querying outside of possible tabix range");const l=kU(n,r),u=[];for(const[m,y]of l)for(let w=m;w<=y;w++)if(a.binIndex[w])for(const A of a.binIndex[w])u.push(new ah(A.minv,A.maxv,w));const f=a.linearIndex.length;let h=null;const d=Math.min(n>>14,f-1),p=Math.min(r>>14,f-1);for(let m=d;m<=p;++m){const y=a.linearIndex[m];y&&(!h||y.compareTo(h)<0)&&(h=y)}return YS(u,h)}}const IU=21582659,BU=38359875;function DU(e,t){return e*2**t}function KS(e,t){return Math.floor(e/2**t)}class lh extends QS{constructor(t){super(t),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n={}){const r=await this.parse(n),i=r.refNameToId[t];if(i===void 0||!r.indices[i])return-1;const{stats:o}=r.indices[i];return o?o.lineCount:-1}indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",s={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!s)throw new Error(`invalid Tabix preset format flags ${r}`);const o={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},a=t.readInt32LE(n+16),c=a?String.fromCharCode(a):null,l=t.readInt32LE(n+20),u=t.readInt32LE(n+24),{refIdToName:f,refNameToId:h}=this._parseNameBytes(t.slice(n+28,n+28+u));return{refIdToName:f,refNameToId:h,skipLines:l,metaChar:c,columnNumbers:o,format:s,coordinateType:i}}_parseNameBytes(t){let n=0,r=0;const i=[],s={};for(let o=0;o<t.length;o+=1)if(!t[o]){if(r<o){let a=t.toString("utf8",r,o);a=this.renameRefSeq(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}async _parse(t={}){const n=await gi(await this.filehandle.readFile(t));let r;if(n.readUInt32LE(0)===IU)r=1;else if(n.readUInt32LE(0)===BU)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),s=n.readInt32LE(12),o=s&&s>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},a=n.readInt32LE(16+s);let c,l=16+s+4;const u=new Array(a).fill(0).map(()=>{const f=n.readInt32LE(l);l+=4;const h={};let d;for(let p=0;p<f;p+=1){const m=n.readUInt32LE(l);if(m>this.maxBinNumber)d=this.parsePseudoBin(n,l+4),l+=48;else{const y=Vo(n,l+4);c=this._findFirstData(c,y);const w=n.readInt32LE(l+12);l+=16;const A=new Array(w);for(let _=0;_<w;_+=1){const S=Vo(n,l),T=Vo(n,l+8);l+=16,A[_]=new ah(S,T,m)}h[m]=A}}return{binIndex:h,stats:d}});return{...o,csi:!0,refCount:a,maxBlockSize:65536,firstDataLine:c,csiVersion:r,indices:u,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(t,n){return{lineCount:ZS(Of.fromBytesLE(t.slice(n+28,n+36),!0))}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const s=await this.parse(i),o=s.refNameToId[t];if(o===void 0)return[];const a=s.indices[o];if(!a)return[];const c=this.reg2bins(n,r),l=[];for(const[u,f]of c)for(let h=u;h<=f;h++)if(a.binIndex[h])for(const d of a.binIndex[h])l.push(new ah(d.minv,d.maxv,h));return YS(l,new Rg(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,s=this.minShift+this.depth*3;const o=[];for(;r<=this.depth;s-=3,i+=DU(1,r*3),r+=1){const a=i+KS(t,s),c=i+KS(n,s);if(c-a+o.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,c])}return o}}const Mg=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function FU(e){return new Promise(t=>setTimeout(t,e))}class RU{constructor({path:t,filehandle:n,url:r,tbiPath:i,tbiUrl:s,tbiFilehandle:o,csiPath:a,csiUrl:c,csiFilehandle:l,yieldTime:u=500,renameRefSeqs:f=d=>d,chunkCacheSize:h=5*2**20}){if(n)this.filehandle=n;else if(t)this.filehandle=new gt(t);else if(r)this.filehandle=new Fn(r);else throw new TypeError("must provide either filehandle or path");if(o)this.index=new $o({filehandle:o,renameRefSeqs:f});else if(l)this.index=new lh({filehandle:l,renameRefSeqs:f});else if(i)this.index=new $o({filehandle:new gt(i),renameRefSeqs:f});else if(a)this.index=new lh({filehandle:new gt(a),renameRefSeqs:f});else if(t)this.index=new $o({filehandle:new gt(`${t}.tbi`),renameRefSeqs:f});else if(c)this.index=new lh({filehandle:new Fn(c)});else if(s)this.index=new $o({filehandle:new Fn(s)});else if(r)this.index=new $o({filehandle:new Fn(`${r}.tbi`)});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, csiPath, tbiUrl, csiUrl");this.renameRefSeq=f,this.yieldTime=u,this.chunkCache=new xs({cache:new Vf({maxSize:Math.floor(h/65536)}),fill:(d,p)=>this.readChunk(d,{signal:p})})}async getLines(t,n,r,i){var s;let o,a={},c;typeof i=="function"?c=i:(a=i,c=i.lineCallback,o=i.signal);const l=await this.index.getMetadata(a);Ho(o);const u=n??0,f=r??l.maxRefLength;if(!(u<=f))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(u===f)return;const h=await this.index.blocksForRange(t,u,f,a);Ho(o);let d=Date.now();for(const p of h){let m;const{buffer:y,cpositions:w,dpositions:A}=await this.chunkCache.get(p.toString(),p,o);Ho(o);let _=0,S=0;for(;_<y.length;){const T=y.indexOf(`
`,_);if(T===-1)break;const B=y.slice(_,T),I=(s=Mg==null?void 0:Mg.decode(B))!==null&&s!==void 0?s:B.toString();if(A){for(;_+p.minv.dataPosition>=A[S++];);S--}const{startCoordinate:D,overlaps:M}=this.checkLine(l,t,u,f,I);if(m!==void 0&&D!==void 0&&m>D)throw new Error(`Lines not sorted by start coordinate (${m} > ${D}), this file is not usable with Tabix.`);if(m=D,M)c(I.trim(),w[S]*256+(_-A[S])+p.minv.dataPosition+1);else if(D!==void 0&&D>=f)return;this.yieldTime&&d-Date.now()>this.yieldTime&&(d=Date.now(),Ho(o),await FU(1)),_=T+1}}}async getMetadata(t={}){return this.index.getMetadata(t)}async getHeaderBuffer(t={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(t);Ho(t.signal);const s=((n==null?void 0:n.blockPosition)||0)+i,o=await this._readRegion(0,s,t),a=await gi(o);if(r){let c=-1;const l=10,u=r.charCodeAt(0);for(let f=0;f<a.length&&!(f===c+1&&a[f]!==u);f+=1)a[f]===l&&(c=f);return a.slice(0,c+1)}return a}async getHeader(t={}){return(await this.getHeaderBuffer(t)).toString("utf8")}async getReferenceSequenceNames(t={}){return(await this.getMetadata(t)).refIdToName}checkLine(t,n,r,i,s){const{columnNumbers:o,metaChar:a,coordinateType:c,format:l}=t;if(a&&s.startsWith(a))return{overlaps:!1};let{ref:u,start:f,end:h}=o;u||(u=0),f||(f=0),h||(h=0),l==="VCF"&&(h=8);const d=Math.max(u,f,h);let p=1,m=0,y="",w=-1/0;for(let A=0;A<s.length+1;A+=1)if(s[A]==="	"||A===s.length){if(p===u){if(this.renameRefSeq(s.slice(m,A))!==n)return{overlaps:!1}}else if(p===f){if(w=parseInt(s.slice(m,A),10),c==="1-based-closed"&&(w-=1),w>=i)return{startCoordinate:w,overlaps:!1};if((h===0||h===f)&&w+1<=r)return{startCoordinate:w,overlaps:!1}}else if(l==="VCF"&&p===4)y=s.slice(m,A);else if(p===h&&(l==="VCF"?this._getVcfEnd(w,y,s.slice(m,A)):parseInt(s.slice(m,A),10))<=r)return{overlaps:!1};if(m=A+1,p+=1,p>d)break}return{startCoordinate:w,overlaps:!0}}_getVcfEnd(t,n,r){let i=t+n.length;const s=r.includes("SVTYPE=TRA");if(r[0]!=="."&&!s){let o=";";for(let a=0;a<r.length;a+=1){if(o===";"&&r.slice(a,a+4)==="END="){let c=r.indexOf(";",a);c===-1&&(c=r.length),i=parseInt(r.slice(a+4,c),10);break}o=r[a]}}else if(s)return t+1;return i}async lineCount(t,n={}){return this.index.lineCount(t,n)}async _readRegion(t,n,r={}){const i=be.Buffer.alloc(n),{bytesRead:s,buffer:o}=await this.filehandle.read(i,0,n,t,r);return o.slice(0,s)}async readChunk(t,n={}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n);return yA(r,t)}}const MU=Object.freeze(Object.defineProperty({__proto__:null,CSI:lh,TBI:$o,TabixIndexedFile:RU},Symbol.toStringTag,{value:"Module"}));var Pg={exports:{}},jo=typeof Reflect=="object"?Reflect:null,JS=jo&&typeof jo.apply=="function"?jo.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ch;jo&&typeof jo.ownKeys=="function"?ch=jo.ownKeys:Object.getOwnPropertySymbols?ch=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ch=function(t){return Object.getOwnPropertyNames(t)};function PU(e){console&&console.warn&&console.warn(e)}var e_=Number.isNaN||function(t){return t!==t};function Ne(){Ne.init.call(this)}Pg.exports=Ne,Pg.exports.once=zU,Ne.EventEmitter=Ne,Ne.prototype._events=void 0,Ne.prototype._eventsCount=0,Ne.prototype._maxListeners=void 0;var t_=10;function uh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ne,"defaultMaxListeners",{enumerable:!0,get:function(){return t_},set:function(e){if(typeof e!="number"||e<0||e_(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");t_=e}}),Ne.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||e_(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function n_(e){return e._maxListeners===void 0?Ne.defaultMaxListeners:e._maxListeners}Ne.prototype.getMaxListeners=function(){return n_(this)},Ne.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")JS(c,this,n);else for(var l=c.length,u=a_(c,l),r=0;r<l;++r)JS(u[r],this,n);return!0};function r_(e,t,n,r){var i,s,o;if(uh(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=n_(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,PU(a)}return e}Ne.prototype.addListener=function(t,n){return r_(this,t,n,!1)},Ne.prototype.on=Ne.prototype.addListener,Ne.prototype.prependListener=function(t,n){return r_(this,t,n,!0)};function NU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i_(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=NU.bind(r);return i.listener=n,r.wrapFn=i,i}Ne.prototype.once=function(t,n){return uh(n),this.on(t,i_(this,t,n)),this},Ne.prototype.prependOnceListener=function(t,n){return uh(n),this.prependListener(t,i_(this,t,n)),this},Ne.prototype.removeListener=function(t,n){var r,i,s,o,a;if(uh(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():LU(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this},Ne.prototype.off=Ne.prototype.removeListener,Ne.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function s_(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?OU(i):a_(i,i.length)}Ne.prototype.listeners=function(t){return s_(this,t,!0)},Ne.prototype.rawListeners=function(t){return s_(this,t,!1)},Ne.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):o_.call(e,t)},Ne.prototype.listenerCount=o_;function o_(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ne.prototype.eventNames=function(){return this._eventsCount>0?ch(this._events):[]};function a_(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function LU(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function OU(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function zU(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}l_(e,t,s,{once:!0}),t!=="error"&&UU(e,i,{once:!0})})}function UU(e,t,n){typeof e.on=="function"&&l_(e,"error",t,n)}function l_(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Ng=Pg.exports,Lg={exports:{}};typeof Object.create=="function"?Lg.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Lg.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var qo=Lg.exports,Og,c_;function u_(){return c_||(c_=1,Og=Ng.EventEmitter),Og}const f_=g9(S9);var zg,h_;function GU(){if(h_)return zg;h_=1;function e(p,m){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);m&&(w=w.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),y.push.apply(y,w)}return y}function t(p){for(var m=1;m<arguments.length;m++){var y=arguments[m]!=null?arguments[m]:{};m%2?e(Object(y),!0).forEach(function(w){n(p,w,y[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(w){Object.defineProperty(p,w,Object.getOwnPropertyDescriptor(y,w))})}return p}function n(p,m,y){return m=o(m),m in p?Object.defineProperty(p,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[m]=y,p}function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,o(w.key),w)}}function s(p,m,y){return m&&i(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),p}function o(p){var m=a(p,"string");return typeof m=="symbol"?m:String(m)}function a(p,m){if(typeof p!="object"||p===null)return p;var y=p[Symbol.toPrimitive];if(y!==void 0){var w=y.call(p,m||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}var c=be,l=c.Buffer,u=f_,f=u.inspect,h=f&&f.custom||"inspect";function d(p,m,y){l.prototype.copy.call(p,m,y)}return zg=function(){function p(){r(this,p),this.head=null,this.tail=null,this.length=0}return s(p,[{key:"push",value:function(y){var w={data:y,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(y){var w={data:y,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var w=this.head,A=""+w.data;w=w.next;)A+=y+w.data;return A}},{key:"concat",value:function(y){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(y>>>0),A=this.head,_=0;A;)d(A.data,w,_),_+=A.data.length,A=A.next;return w}},{key:"consume",value:function(y,w){var A;return y<this.head.data.length?(A=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?A=this.shift():A=w?this._getString(y):this._getBuffer(y),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var w=this.head,A=1,_=w.data;for(y-=_.length;w=w.next;){var S=w.data,T=y>S.length?S.length:y;if(T===S.length?_+=S:_+=S.slice(0,y),y-=T,y===0){T===S.length?(++A,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=S.slice(T));break}++A}return this.length-=A,_}},{key:"_getBuffer",value:function(y){var w=l.allocUnsafe(y),A=this.head,_=1;for(A.data.copy(w),y-=A.data.length;A=A.next;){var S=A.data,T=y>S.length?S.length:y;if(S.copy(w,w.length-y,0,T),y-=T,y===0){T===S.length?(++_,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=S.slice(T));break}++_}return this.length-=_,w}},{key:h,value:function(y,w){return f(this,t(t({},w),{},{depth:0,customInspect:!1}))}}]),p}(),zg}var Ug,d_;function p_(){if(d_)return Ug;d_=1;function e(o,a){var c=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!a&&f?c._writableState?c._writableState.errorEmitted?process.nextTick(n,c):(c._writableState.errorEmitted=!0,process.nextTick(t,c,f)):process.nextTick(t,c,f):a?(process.nextTick(n,c),a(f)):process.nextTick(n,c)}),this)}function t(o,a){i(o,a),n(o)}function n(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var c=o._readableState,l=o._writableState;c&&c.autoDestroy||l&&l.autoDestroy?o.destroy(a):o.emit("error",a)}return Ug={destroy:e,undestroy:r,errorOrDestroy:s},Ug}var Gg={},g_;function Wo(){if(g_)return Gg;g_=1;function e(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var t={};function n(a,c,l){l||(l=Error);function u(h,d,p){return typeof c=="string"?c:c(h,d,p)}var f=function(h){e(d,h);function d(p,m,y){return h.call(this,u(p,m,y))||this}return d}(l);f.prototype.name=l.name,f.prototype.code=a,t[a]=f}function r(a,c){if(Array.isArray(a)){var l=a.length;return a=a.map(function(u){return String(u)}),l>2?"one of ".concat(c," ").concat(a.slice(0,l-1).join(", "),", or ")+a[l-1]:l===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function i(a,c,l){return a.substr(0,c.length)===c}function s(a,c,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-c.length,l)===c}function o(a,c,l){return typeof l!="number"&&(l=0),l+c.length>a.length?!1:a.indexOf(c,l)!==-1}return n("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(a,c,l){var u;typeof c=="string"&&i(c,"not ")?(u="must not be",c=c.replace(/^not /,"")):u="must be";var f;if(s(a," argument"))f="The ".concat(a," ").concat(u," ").concat(r(c,"type"));else{var h=o(a,".")?"property":"argument";f='The "'.concat(a,'" ').concat(h," ").concat(u," ").concat(r(c,"type"))}return f+=". Received type ".concat(typeof l),f},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Gg.codes=t,Gg}var Hg,m_;function b_(){if(m_)return Hg;m_=1;var e=Wo().codes.ERR_INVALID_OPT_VALUE;function t(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function n(r,i,s,o){var a=t(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=o?s:"highWaterMark";throw new e(c,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return Hg={getHighWaterMark:n},Hg}var Vg,y_;function HU(){if(y_)return Vg;y_=1,Vg=e;function e(n,r){if(t("noDeprecation"))return n;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function t(n){try{if(!ho.localStorage)return!1}catch{return!1}var r=ho.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return Vg}var $g,w_;function x_(){if(w_)return $g;w_=1,$g=D;function e(L){var P=this;this.next=null,this.entry=null,this.finish=function(){je(P,L)}}var t;D.WritableState=B;var n={deprecate:HU()},r=u_(),i=be.Buffer,s=(typeof ho<"u"?ho:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(L){return i.from(L)}function a(L){return i.isBuffer(L)||L instanceof s}var c=p_(),l=b_(),u=l.getHighWaterMark,f=Wo().codes,h=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,p=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;qo(D,r);function T(){}function B(L,P,q){t=t||Zo(),L=L||{},typeof q!="boolean"&&(q=P instanceof t),this.objectMode=!!L.objectMode,q&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=u(this,L,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=L.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){Se(P,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}B.prototype.getBuffer=function(){for(var P=this.bufferedRequest,q=[];P;)q.push(P),P=P.next;return q},function(){try{Object.defineProperty(B.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(P){return I.call(this,P)?!0:this!==D?!1:P&&P._writableState instanceof B}})):I=function(P){return P instanceof this};function D(L){t=t||Zo();var P=this instanceof t;if(!P&&!I.call(D,this))return new D(L);this._writableState=new B(L,this,P),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),r.call(this)}D.prototype.pipe=function(){S(this,new m)};function M(L,P){var q=new A;S(L,q),process.nextTick(P,q)}function U(L,P,q,$){var Z;return q===null?Z=new w:typeof q!="string"&&!P.objectMode&&(Z=new h("chunk",["string","Buffer"],q)),Z?(S(L,Z),process.nextTick($,Z),!1):!0}D.prototype.write=function(L,P,q){var $=this._writableState,Z=!1,C=!$.objectMode&&a(L);return C&&!i.isBuffer(L)&&(L=o(L)),typeof P=="function"&&(q=P,P=null),C?P="buffer":P||(P=$.defaultEncoding),typeof q!="function"&&(q=T),$.ending?M(this,q):(C||U(this,$,L,q))&&($.pendingcb++,Z=te(this,$,C,L,P,q)),Z},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&ze(this,L))},D.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new _(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(L,P,q){return!L.objectMode&&L.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,q)),P}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function te(L,P,q,$,Z,C){if(!q){var v=N(P,$,Z);$!==v&&(q=!0,Z="buffer",$=v)}var V=P.objectMode?1:$.length;P.length+=V;var W=P.length<P.highWaterMark;if(W||(P.needDrain=!0),P.writing||P.corked){var fe=P.lastBufferedRequest;P.lastBufferedRequest={chunk:$,encoding:Z,isBuf:q,callback:C,next:null},fe?fe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else re(L,P,!1,V,$,Z,C);return W}function re(L,P,q,$,Z,C,v){P.writelen=$,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new y("write")):q?L._writev(Z,P.onwrite):L._write(Z,C,P.onwrite),P.sync=!1}function ue(L,P,q,$,Z){--P.pendingcb,q?(process.nextTick(Z,$),process.nextTick(bt,L,P),L._writableState.errorEmitted=!0,S(L,$)):(Z($),L._writableState.errorEmitted=!0,S(L,$),bt(L,P))}function pe(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function Se(L,P){var q=L._writableState,$=q.sync,Z=q.writecb;if(typeof Z!="function")throw new p;if(pe(q),P)ue(L,q,$,P,Z);else{var C=nt(q)||L.destroyed;!C&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&ze(L,q),$?process.nextTick(_e,L,q,C,Z):_e(L,q,C,Z)}}function _e(L,P,q,$){q||Le(L,P),P.pendingcb--,$(),bt(L,P)}function Le(L,P){P.length===0&&P.needDrain&&(P.needDrain=!1,L.emit("drain"))}function ze(L,P){P.bufferProcessing=!0;var q=P.bufferedRequest;if(L._writev&&q&&q.next){var $=P.bufferedRequestCount,Z=new Array($),C=P.corkedRequestsFree;C.entry=q;for(var v=0,V=!0;q;)Z[v]=q,q.isBuf||(V=!1),q=q.next,v+=1;Z.allBuffers=V,re(L,P,!0,P.length,Z,"",C.finish),P.pendingcb++,P.lastBufferedRequest=null,C.next?(P.corkedRequestsFree=C.next,C.next=null):P.corkedRequestsFree=new e(P),P.bufferedRequestCount=0}else{for(;q;){var W=q.chunk,fe=q.encoding,ne=q.callback,he=P.objectMode?1:W.length;if(re(L,P,!1,he,W,fe,ne),q=q.next,P.bufferedRequestCount--,P.writing)break}q===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=q,P.bufferProcessing=!1}D.prototype._write=function(L,P,q){q(new d("_write()"))},D.prototype._writev=null,D.prototype.end=function(L,P,q){var $=this._writableState;return typeof L=="function"?(q=L,L=null,P=null):typeof P=="function"&&(q=P,P=null),L!=null&&this.write(L,P),$.corked&&($.corked=1,this.uncork()),$.ending||Wt(this,$,q),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nt(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function Ie(L,P){L._final(function(q){P.pendingcb--,q&&S(L,q),P.prefinished=!0,L.emit("prefinish"),bt(L,P)})}function Be(L,P){!P.prefinished&&!P.finalCalled&&(typeof L._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,process.nextTick(Ie,L,P)):(P.prefinished=!0,L.emit("prefinish")))}function bt(L,P){var q=nt(P);if(q&&(Be(L,P),P.pendingcb===0&&(P.finished=!0,L.emit("finish"),P.autoDestroy))){var $=L._readableState;(!$||$.autoDestroy&&$.endEmitted)&&L.destroy()}return q}function Wt(L,P,q){P.ending=!0,bt(L,P),q&&(P.finished?process.nextTick(q):L.once("finish",q)),P.ended=!0,L.writable=!1}function je(L,P,q){var $=L.entry;for(L.entry=null;$;){var Z=$.callback;P.pendingcb--,Z(q),$=$.next}P.corkedRequestsFree.next=L}return Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),D.prototype.destroy=c.destroy,D.prototype._undestroy=c.undestroy,D.prototype._destroy=function(L,P){P(L)},$g}var jg,v_;function Zo(){if(v_)return jg;v_=1;var e=Object.keys||function(l){var u=[];for(var f in l)u.push(f);return u};jg=o;var t=T_(),n=x_();qo(o,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);t.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),jg}var qg={},Wg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=be,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Wg,Wg.exports);var VU=Wg.exports,Zg=VU.Buffer,A_=Zg.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $U(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function jU(e){var t=$U(e);if(typeof t!="string"&&(Zg.isEncoding===A_||!A_(e)))throw new Error("Unknown encoding: "+e);return t||e}var qU=qg.StringDecoder=mc;function mc(e){this.encoding=jU(e);var t;switch(this.encoding){case"utf16le":this.text=KU,this.end=JU,t=4;break;case"utf8":this.fillLast=YU,t=4;break;case"base64":this.text=eG,this.end=tG,t=3;break;default:this.write=nG,this.end=rG;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Zg.allocUnsafe(t)}mc.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},mc.prototype.end=XU,mc.prototype.text=QU,mc.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Yg(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function WU(e,t,n){var r=t.length-1;if(r<n)return 0;var i=Yg(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=Yg(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=Yg(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ZU(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function YU(e){var t=this.lastTotal-this.lastNeed,n=ZU(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function QU(e,t){var n=WU(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function XU(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function KU(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function JU(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function eG(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function tG(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function nG(e){return e.toString(this.encoding)}function rG(e){return e&&e.length?this.write(e):""}var Qg,E_;function Xg(){if(E_)return Qg;E_=1;var e=Wo().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];s.apply(this,c)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=t(a||n);var c=o.readable||o.readable!==!1&&s.readable,l=o.writable||o.writable!==!1&&s.writable,u=function(){s.writable||h()},f=s._writableState&&s._writableState.finished,h=function(){l=!1,f=!0,c||a.call(s)},d=s._readableState&&s._readableState.endEmitted,p=function(){c=!1,d=!0,l||a.call(s)},m=function(_){a.call(s,_)},y=function(){var _;if(c&&!d)return(!s._readableState||!s._readableState.ended)&&(_=new e),a.call(s,_);if(l&&!f)return(!s._writableState||!s._writableState.ended)&&(_=new e),a.call(s,_)},w=function(){s.req.on("finish",h)};return r(s)?(s.on("complete",h),s.on("abort",y),s.req?w():s.on("request",w)):l&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",p),s.on("finish",h),o.error!==!1&&s.on("error",m),s.on("close",y),function(){s.removeListener("complete",h),s.removeListener("abort",y),s.removeListener("request",w),s.req&&s.req.removeListener("finish",h),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",h),s.removeListener("end",p),s.removeListener("error",m),s.removeListener("close",y)}}return Qg=i,Qg}var Kg,S_;function iG(){if(S_)return Kg;S_=1;var e;function t(_,S,T){return S=n(S),S in _?Object.defineProperty(_,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[S]=T,_}function n(_){var S=r(_,"string");return typeof S=="symbol"?S:String(S)}function r(_,S){if(typeof _!="object"||_===null)return _;var T=_[Symbol.toPrimitive];if(T!==void 0){var B=T.call(_,S||"default");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(_)}var i=Xg(),s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function h(_,S){return{value:_,done:S}}function d(_){var S=_[s];if(S!==null){var T=_[f].read();T!==null&&(_[l]=null,_[s]=null,_[o]=null,S(h(T,!1)))}}function p(_){process.nextTick(d,_)}function m(_,S){return function(T,B){_.then(function(){if(S[c]){T(h(void 0,!0));return}S[u](T,B)},B)}}var y=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var S=this,T=this[a];if(T!==null)return Promise.reject(T);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(M,U){process.nextTick(function(){S[a]?U(S[a]):M(h(void 0,!0))})});var B=this[l],I;if(B)I=new Promise(m(B,this));else{var D=this[f].read();if(D!==null)return Promise.resolve(h(D,!1));I=new Promise(this[u])}return this[l]=I,I}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(T,B){S[f].destroy(null,function(I){if(I){B(I);return}T(h(void 0,!0))})})}),e),y),A=function(S){var T,B=Object.create(w,(T={},t(T,f,{value:S,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,c,{value:S._readableState.endEmitted,writable:!0}),t(T,u,{value:function(D,M){var U=B[f].read();U?(B[l]=null,B[s]=null,B[o]=null,D(h(U,!1))):(B[s]=D,B[o]=M)},writable:!0}),T));return B[l]=null,i(S,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=B[o];D!==null&&(B[l]=null,B[s]=null,B[o]=null,D(I)),B[a]=I;return}var M=B[s];M!==null&&(B[l]=null,B[s]=null,B[o]=null,M(h(void 0,!0))),B[c]=!0}),S.on("readable",p.bind(null,B)),B};return Kg=A,Kg}var Jg,__;function sG(){return __||(__=1,Jg=function(){throw new Error("Readable.from is not available in the browser")}),Jg}var em,C_;function T_(){if(C_)return em;C_=1,em=M;var e;M.ReadableState=D,Ng.EventEmitter;var t=function(v,V){return v.listeners(V).length},n=u_(),r=be.Buffer,i=(typeof ho<"u"?ho:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(C){return r.from(C)}function o(C){return r.isBuffer(C)||C instanceof i}var a=f_,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=GU(),u=p_(),f=b_(),h=f.getHighWaterMark,d=Wo().codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,_,S;qo(M,n);var T=u.errorOrDestroy,B=["error","close","destroy","pause","resume"];function I(C,v,V){if(typeof C.prependListener=="function")return C.prependListener(v,V);!C._events||!C._events[v]?C.on(v,V):Array.isArray(C._events[v])?C._events[v].unshift(V):C._events[v]=[V,C._events[v]]}function D(C,v,V){e=e||Zo(),C=C||{},typeof V!="boolean"&&(V=v instanceof e),this.objectMode=!!C.objectMode,V&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=h(this,C,"readableHighWaterMark",V),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(A||(A=qg.StringDecoder),this.decoder=new A(C.encoding),this.encoding=C.encoding)}function M(C){if(e=e||Zo(),!(this instanceof M))return new M(C);var v=this instanceof e;this._readableState=new D(C,this,v),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),n.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),M.prototype.destroy=u.destroy,M.prototype._undestroy=u.undestroy,M.prototype._destroy=function(C,v){v(C)},M.prototype.push=function(C,v){var V=this._readableState,W;return V.objectMode?W=!0:typeof C=="string"&&(v=v||V.defaultEncoding,v!==V.encoding&&(C=r.from(C,v),v=""),W=!0),U(this,C,v,!1,W)},M.prototype.unshift=function(C){return U(this,C,null,!0,!1)};function U(C,v,V,W,fe){c("readableAddChunk",v);var ne=C._readableState;if(v===null)ne.reading=!1,Se(C,ne);else{var he;if(fe||(he=te(ne,v)),he)T(C,he);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==r.prototype&&(v=s(v)),W)ne.endEmitted?T(C,new w):N(C,ne,v,!0);else if(ne.ended)T(C,new m);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!V?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?N(C,ne,v,!1):ze(C,ne)):N(C,ne,v,!1)}else W||(ne.reading=!1,ze(C,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function N(C,v,V,W){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,C.emit("data",V)):(v.length+=v.objectMode?1:V.length,W?v.buffer.unshift(V):v.buffer.push(V),v.needReadable&&_e(C)),ze(C,v)}function te(C,v){var V;return!o(v)&&typeof v!="string"&&v!==void 0&&!C.objectMode&&(V=new p("chunk",["string","Buffer","Uint8Array"],v)),V}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(C){A||(A=qg.StringDecoder);var v=new A(C);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,W="";V!==null;)W+=v.write(V.data),V=V.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var re=1073741824;function ue(C){return C>=re?C=re:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function pe(C,v){return C<=0||v.length===0&&v.ended?0:v.objectMode?1:C!==C?v.flowing&&v.length?v.buffer.head.data.length:v.length:(C>v.highWaterMark&&(v.highWaterMark=ue(C)),C<=v.length?C:v.ended?v.length:(v.needReadable=!0,0))}M.prototype.read=function(C){c("read",C),C=parseInt(C,10);var v=this._readableState,V=C;if(C!==0&&(v.emittedReadable=!1),C===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return c("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?q(this):_e(this),null;if(C=pe(C,v),C===0&&v.ended)return v.length===0&&q(this),null;var W=v.needReadable;c("need readable",W),(v.length===0||v.length-C<v.highWaterMark)&&(W=!0,c("length less than watermark",W)),v.ended||v.reading?(W=!1,c("reading or ended",W)):W&&(c("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(C=pe(V,v)));var fe;return C>0?fe=P(C,v):fe=null,fe===null?(v.needReadable=v.length<=v.highWaterMark,C=0):(v.length-=C,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),V!==C&&v.ended&&q(this)),fe!==null&&this.emit("data",fe),fe};function Se(C,v){if(c("onEofChunk"),!v.ended){if(v.decoder){var V=v.decoder.end();V&&V.length&&(v.buffer.push(V),v.length+=v.objectMode?1:V.length)}v.ended=!0,v.sync?_e(C):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,Le(C)))}}function _e(C){var v=C._readableState;c("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(c("emitReadable",v.flowing),v.emittedReadable=!0,process.nextTick(Le,C))}function Le(C){var v=C._readableState;c("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(C.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,L(C)}function ze(C,v){v.readingMore||(v.readingMore=!0,process.nextTick(nt,C,v))}function nt(C,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var V=v.length;if(c("maybeReadMore read 0"),C.read(0),V===v.length)break}v.readingMore=!1}M.prototype._read=function(C){T(this,new y("_read()"))},M.prototype.pipe=function(C,v){var V=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=C;break;case 1:W.pipes=[W.pipes,C];break;default:W.pipes.push(C);break}W.pipesCount+=1,c("pipe count=%d opts=%j",W.pipesCount,v);var fe=(!v||v.end!==!1)&&C!==process.stdout&&C!==process.stderr,ne=fe?Zt:ur;W.endEmitted?process.nextTick(ne):V.once("end",ne),C.on("unpipe",he);function he(x,g){c("onunpipe"),x===V&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,ki())}function Zt(){c("onend"),C.end()}var Ci=Ie(V);C.on("drain",Ci);var Ti=!1;function ki(){c("cleanup"),C.removeListener("close",Ii),C.removeListener("finish",Yt),C.removeListener("drain",Ci),C.removeListener("error",Rr),C.removeListener("unpipe",he),V.removeListener("end",Zt),V.removeListener("end",ur),V.removeListener("data",It),Ti=!0,W.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&Ci()}V.on("data",It);function It(x){c("ondata");var g=C.write(x);c("dest.write",g),g===!1&&((W.pipesCount===1&&W.pipes===C||W.pipesCount>1&&Z(W.pipes,C)!==-1)&&!Ti&&(c("false write response, pause",W.awaitDrain),W.awaitDrain++),V.pause())}function Rr(x){c("onerror",x),ur(),C.removeListener("error",Rr),t(C,"error")===0&&T(C,x)}I(C,"error",Rr);function Ii(){C.removeListener("finish",Yt),ur()}C.once("close",Ii);function Yt(){c("onfinish"),C.removeListener("close",Ii),ur()}C.once("finish",Yt);function ur(){c("unpipe"),V.unpipe(C)}return C.emit("pipe",V),W.flowing||(c("pipe resume"),V.resume()),C};function Ie(C){return function(){var V=C._readableState;c("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,V.awaitDrain===0&&t(C,"data")&&(V.flowing=!0,L(C))}}M.prototype.unpipe=function(C){var v=this._readableState,V={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return C&&C!==v.pipes?this:(C||(C=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,C&&C.emit("unpipe",this,V),this);if(!C){var W=v.pipes,fe=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<fe;ne++)W[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var he=Z(v.pipes,C);return he===-1?this:(v.pipes.splice(he,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),C.emit("unpipe",this,V),this)},M.prototype.on=function(C,v){var V=n.prototype.on.call(this,C,v),W=this._readableState;return C==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):C==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,c("on readable",W.length,W.reading),W.length?_e(this):W.reading||process.nextTick(bt,this)),V},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(C,v){var V=n.prototype.removeListener.call(this,C,v);return C==="readable"&&process.nextTick(Be,this),V},M.prototype.removeAllListeners=function(C){var v=n.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&process.nextTick(Be,this),v};function Be(C){var v=C._readableState;v.readableListening=C.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:C.listenerCount("data")>0&&C.resume()}function bt(C){c("readable nexttick read 0"),C.read(0)}M.prototype.resume=function(){var C=this._readableState;return C.flowing||(c("resume"),C.flowing=!C.readableListening,Wt(this,C)),C.paused=!1,this};function Wt(C,v){v.resumeScheduled||(v.resumeScheduled=!0,process.nextTick(je,C,v))}function je(C,v){c("resume",v.reading),v.reading||C.read(0),v.resumeScheduled=!1,C.emit("resume"),L(C),v.flowing&&!v.reading&&C.read(0)}M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function L(C){var v=C._readableState;for(c("flow",v.flowing);v.flowing&&C.read()!==null;);}M.prototype.wrap=function(C){var v=this,V=this._readableState,W=!1;C.on("end",function(){if(c("wrapped end"),V.decoder&&!V.ended){var he=V.decoder.end();he&&he.length&&v.push(he)}v.push(null)}),C.on("data",function(he){if(c("wrapped data"),V.decoder&&(he=V.decoder.write(he)),!(V.objectMode&&he==null)&&!(!V.objectMode&&(!he||!he.length))){var Zt=v.push(he);Zt||(W=!0,C.pause())}});for(var fe in C)this[fe]===void 0&&typeof C[fe]=="function"&&(this[fe]=function(Zt){return function(){return C[Zt].apply(C,arguments)}}(fe));for(var ne=0;ne<B.length;ne++)C.on(B[ne],this.emit.bind(this,B[ne]));return this._read=function(he){c("wrapped _read",he),W&&(W=!1,C.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=iG()),_(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),M._fromList=P,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(C,v){if(v.length===0)return null;var V;return v.objectMode?V=v.buffer.shift():!C||C>=v.length?(v.decoder?V=v.buffer.join(""):v.buffer.length===1?V=v.buffer.first():V=v.buffer.concat(v.length),v.buffer.clear()):V=v.buffer.consume(C,v.decoder),V}function q(C){var v=C._readableState;c("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,process.nextTick($,v,C))}function $(C,v){if(c("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,v.readable=!1,v.emit("end"),C.autoDestroy)){var V=v._writableState;(!V||V.autoDestroy&&V.finished)&&v.destroy()}}typeof Symbol=="function"&&(M.from=function(C,v){return S===void 0&&(S=sG()),S(M,C,v)});function Z(C,v){for(var V=0,W=C.length;V<W;V++)if(C[V]===v)return V;return-1}return em}var tm,k_;function I_(){if(k_)return tm;k_=1,tm=a;var e=Wo().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=Zo();qo(a,s);function o(u,f){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,f!=null&&this.push(f),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);s.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function c(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,h){l(u,f,h)}):l(this,null,null)}a.prototype.push=function(u,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,f)},a.prototype._transform=function(u,f,h){h(new t("_transform()"))},a.prototype._write=function(u,f,h){var d=this._transformState;if(d.writecb=h,d.writechunk=u,d.writeencoding=f,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(u,f){s.prototype._destroy.call(this,u,function(h){f(h)})};function l(u,f,h){if(f)return u.emit("error",f);if(h!=null&&u.push(h),u._writableState.length)throw new i;if(u._transformState.transforming)throw new r;return u.push(null)}return tm}var nm,B_;function oG(){if(B_)return nm;B_=1,nm=t;var e=I_();qo(t,e);function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return t.prototype._transform=function(n,r,i){i(null,n)},nm}var rm,D_;function aG(){if(D_)return rm;D_=1;var e;function t(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=Wo().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,d,p,m){m=t(m);var y=!1;h.on("close",function(){y=!0}),e===void 0&&(e=Xg()),e(h,{readable:d,writable:p},function(A){if(A)return m(A);y=!0,m()});var w=!1;return function(A){if(!y&&!w){if(w=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();m(A||new i("pipe"))}}}function c(h){h()}function l(h,d){return h.pipe(d)}function u(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function f(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var m=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var y,w=d.map(function(A,_){var S=_<d.length-1,T=_>0;return a(A,S,T,function(B){y||(y=B),B&&w.forEach(c),!S&&(w.forEach(c),m(y))})});return d.reduce(l)}return rm=f,rm}var F_=En,im=Ng.EventEmitter,lG=qo;lG(En,im),En.Readable=T_(),En.Writable=x_(),En.Duplex=Zo(),En.Transform=I_(),En.PassThrough=oG(),En.finished=Xg(),En.pipeline=aG(),En.Stream=En;function En(){im.call(this)}En.prototype.pipe=function(e,t){var n=this;function r(u){e.writable&&e.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(n.on("end",o),n.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function c(u){if(l(),im.listenerCount(this,"error")===0)throw u}n.on("error",c),e.on("error",c);function l(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",a),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e};function bc(e){return e.replace(/%([0-9A-Fa-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}function R_(e,t){return String(t).replace(e,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function yc(e){return R_(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,e)}function Ir(e){return R_(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,e)}function M_(e){if(!(e&&e.length)||e===".")return{};const t={};return e.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=t[r[0].trim()];i||(i=[],t[r[0]]=i),i.push(...r[1].split(",").map(s=>s.trim()).map(bc))}),t}function P_(e){const t=e.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:t[0]&&bc(t[0]),source:t[1]&&bc(t[1]),type:t[2]&&bc(t[2]),start:t[3]===null?null:parseInt(t[3],10),end:t[4]===null?null:parseInt(t[4],10),score:t[5]===null?null:parseFloat(t[5]),strand:t[6],phase:t[7],attributes:t[8]===null?null:M_(t[8])}}function N_(e){const t=/^\s*##\s*(\S+)\s*(.*)/.exec(e);if(!t)return null;const[,n]=t;let[,,r]=t;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const s=r.split(/\s+/,3);return{...i,seq_id:s[0],start:s[1]&&s[1].replace(/\D/g,""),end:s[2]&&s[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[s,o]=r.split(/\s+/,2);return{...i,source:s,buildName:o}}return i}function L_(e){const t=[];return Object.entries(e).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=yc(r.toString()):Array.isArray(r)?i=r.map(yc).join(","):i=yc(r),t.push(`${yc(n)}=${i}`)}),t.length?t.join(";"):"."}function cG(e,t){const n=e.attributes===null||e.attributes===void 0?".":L_(e.attributes),i=`${[e.seq_id===null?".":Ir(e.seq_id),e.source===null?".":Ir(e.source),e.type===null?".":Ir(e.type),e.start===null?".":Ir(e.start),e.end===null?".":Ir(e.end),e.score===null?".":Ir(e.score),e.strand===null?".":Ir(e.strand),e.phase===null?".":Ir(e.phase),n].join("	")}
`;return t[i]?"":(t[i]=!0,i)}function fh(e,t){if(Array.isArray(e))return e.map(r=>fh(r,t)).join("");const n=[cG(e,t)];return uG(e)&&n.push(...e.child_features.map(r=>fh(r,t)),...e.derived_features.map(r=>fh(r,t))),n.join("")}function O_(e){return fh(e,{})}function z_(e){let t=`##${e.directive}`;return e.value&&(t+=` ${e.value}`),t+=`
`,t}function U_(e){return`# ${e.comment}
`}function sm(e){return`>${e.id}${e.description?` ${e.description}`:""}
${e.sequence}
`}function hh(e){function t(n){return"attributes"in n?O_(n):"directive"in n?z_(n):"sequence"in n?sm(n):"comment"in n?U_(n):`# (invalid item found during format)
`}return Array.isArray(e)?e.map(t):t(e)}function uG(e){return e.child_features!==void 0&&e.derived_features!==void 0}const fG=Object.freeze(Object.defineProperty({__proto__:null,escape:yc,escapeColumn:Ir,formatAttributes:L_,formatComment:U_,formatDirective:z_,formatFeature:O_,formatItem:hh,formatSequence:sm,parseAttributes:M_,parseDirective:N_,parseFeature:P_,unescape:bc},Symbol.toStringTag,{value:"Module"})),G_={Parent:"child_features",Derives_from:"derived_features"};class H_{constructor(t){this.seqCallback=t,this.currentSequence=void 0}addLine(t){const n=/^>\s*(\S+)\s*(.*)/.exec(t);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(t)&&(this.currentSequence.sequence+=t.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class V_{constructor(t){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=t.featureCallback||n,this.endCallback=t.endCallback||n,this.commentCallback=t.commentCallback||n,this.errorCallback=t.errorCallback||n,this.directiveCallback=t.directiveCallback||n,this.sequenceCallback=t.sequenceCallback||n,this.disableDerivesFromReferences=t.disableDerivesFromReferences||!1,this.bufferSize=t.bufferSize===void 0?1e3:t.bufferSize}addLine(t){if(this.fastaParser){this.fastaParser.addLine(t);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(t)){this._bufferLine(t);return}const n=/^\s*(#+)(.*)/.exec(t);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const s=N_(t);s&&(s.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new H_(this.sequenceCallback)):this._emitItem(s))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(t))if(/^\s*>/.test(t))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new H_(this.sequenceCallback),this.fastaParser.addLine(t);else{const r=t.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(t){Array.isArray(t)?this.featureCallback(t):"directive"in t?this.directiveCallback(t):"comment"in t&&this.commentCallback(t)}_enforceBufferSizeLimit(t=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(s=>{delete this._underConstructionById[s],delete this._completedReferences[s]}),r.forEach(s=>{s.child_features&&s.child_features.forEach(o=>n(o)),s.derived_features&&s.derived_features.forEach(o=>n(o))}))};for(;this._underConstructionTopLevel.length+t>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(t){var n,r,i;const o={...P_(t),child_features:[],derived_features:[]},a=((n=o.attributes)===null||n===void 0?void 0:n.ID)||[],c=((r=o.attributes)===null||r===void 0?void 0:r.Parent)||[],l=this.disableDerivesFromReferences?[]:((i=o.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!a.length&&!c.length&&!l.length){this._emitItem([o]);return}let u;a.forEach(f=>{const h=this._underConstructionById[f];h?(h[h.length-1].type!==o.type&&this._parseError(`multi-line feature "${f}" has inconsistent types: "${o.type}", "${h[h.length-1].type}"`),h.push(o),u=h):(u=[o],this._enforceBufferSizeLimit(1),!c.length&&!l.length&&this._underConstructionTopLevel.push(u),this._underConstructionById[f]=u,this._resolveReferencesTo(u,f))}),this._resolveReferencesFrom(u||[o],{Parent:c,Derives_from:l},a)}_resolveReferencesTo(t,n){const r=this._underConstructionOrphans[n];r&&(t.forEach(i=>{i.child_features.push(...r.Parent)}),t.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(t){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${t}`)}_resolveReferencesFrom(t,n,r){function i(s,o,a){let c=s[o];c||(c={},s[o]=c);const l=c[a]||!1;return c[a]=!0,l}n.Parent.forEach(s=>{const o=this._underConstructionById[s];if(o){const a=G_.Parent;r.filter(c=>i(this._completedReferences,c,`Parent,${s}`)).length||o.forEach(c=>{c[a].push(t)})}else{let a=this._underConstructionOrphans[s];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[s]=a),a.Parent.push(t)}}),n.Derives_from.forEach(s=>{const o=this._underConstructionById[s];if(o){const a=G_.Derives_from;r.filter(c=>i(this._completedReferences,c,`Derives_from,${s}`)).length||o.forEach(c=>{c[a].push(t)})}else{let a=this._underConstructionOrphans[s];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[s]=a),a.Derives_from.push(t)}})}}function om(e){process&&process.nextTick?process.nextTick(e):e()}function $_(e){const t={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...e};return e.parseAll&&(t.parseFeatures=!0,t.parseDirectives=!0,t.parseComments=!0,t.parseSequences=!0),t}class hG extends F_.Transform{constructor(t={}){super({objectMode:!0}),this.textBuffer="";const n=$_(t);this.encoding=t.encoding||"utf8",this.decoder=new qU;const r=this.push.bind(this);this.parser=new V_({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(t){t&&this.parser.addLine(t)}_nextText(t){const n=(this.textBuffer+t).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(t,n,r){this._nextText(this.decoder.write(t)),om(r)}_flush(t){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),om(t)}}function dG(e={}){return new hG(e)}function pG(e,t={}){if(!e)return[];const n=$_(t),r=[],i=r.push.bind(r),s=new V_({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:o=>{throw o}});return e.split(/\r?\n/).forEach(s.addLine.bind(s)),s.finish(),r}function gG(e){const t=[],n=[];e.forEach(i=>{"sequence"in i?n.push(i):t.push(i)});let r=t.map(hh).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(sm).join("")),r}class j_ extends F_.Transform{constructor(t={}){super(Object.assign(t,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=t.minSyncLines||100,this.insertVersionDirective=t.insertVersionDirective||!1}_transform(t,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const s=Array.isArray(t)?t[0]:t;"directive"in s&&s.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in t&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(t)?i=t.map(hh).join(""):i=hh(t),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let s=0;for(let o=0;o<i.length;o+=1)i[o]===`
`&&(s+=1);this.linesSinceLastSyncMark+=s}this.haveWeEmittedData=!0,om(r)}}function mG(e={}){return new j_(e)}function bG(e,t,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,s)=>{e.pipe(new j_(r)).on("end",()=>i(null)).on("error",s).pipe(t)})}const yG=Object.freeze(Object.defineProperty({__proto__:null,default:{parseStream:dG,parseStringSync:pG,formatSync:gG,formatStream:mG,formatFile:bG,util:fG}},Symbol.toStringTag,{value:"Module"}));ye.GenomeSpyDocEmbed=Lv,Object.defineProperty(ye,Symbol.toStringTag,{value:"Module"})});
