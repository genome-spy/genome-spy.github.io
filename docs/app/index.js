(function(ki,Uo){typeof exports=="object"&&typeof module<"u"?Uo(exports):typeof define=="function"&&define.amd?define(["exports"],Uo):(ki=typeof globalThis<"u"?globalThis:ki||self,Uo(ki.genomeSpyDocEmbed={}))})(this,function(ki){"use strict";var Uo=Object.defineProperty,N3=(t,e,n)=>e in t?Uo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,In=(t,e,n)=>(N3(t,typeof e!="symbol"?e+"":e,n),n),nl=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xt=(t,e,n)=>(nl(t,e,"read from private field"),n?n.call(t):e.get(t)),ae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Go=(t,e,n,r)=>(nl(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),L3=(t,e,n,r)=>({set _(i){Go(t,e,i,n)},get _(){return xt(t,e,r)}}),ee=(t,e,n)=>(nl(t,e,"access private method"),n);function Xn(t,e,n){return t.fields=e||[],t.fname=n,t}function U3(t){return t==null?null:t.fname}function D0(t){return t==null?null:t.fields}function G3(t){return t.length===1?H3(t[0]):j3(t)}const H3=t=>function(e){return e[t]},j3=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function Dt(t){throw Error(t)}function V3(t){const e=[],n=t.length;let r=null,i=0,o="",s,a,c;t=t+"";function u(){e.push(o+t.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(c=t[a],c==="\\")o+=t.substring(s,a),o+=t.substring(++a,++a),s=a;else if(c===r)u(),r=null,i=-1;else{if(r)continue;s===i&&c==='"'||s===i&&c==="'"?(s=a+1,r=c):c==="."&&!i?a>s?u():s=a+1:c==="["?(a>s&&u(),i=s=a+1):c==="]"&&(i||Dt("Access path missing open bracket: "+t),i>0&&u(),i=0,s=a+1)}return i&&Dt("Access path missing closing bracket: "+t),r&&Dt("Access path missing closing quote: "+t),a>s&&(a++,u()),e}function Ma(t,e,n){const r=V3(t);return t=r.length===1?r[0]:t,Xn((n&&n.get||G3)(r),[t],e||t)}Ma("id");const _a=Xn(t=>t,[],"identity");Xn(()=>0,[],"zero"),Xn(()=>1,[],"one"),Xn(()=>!0,[],"true"),Xn(()=>!1,[],"false");var Ie=Array.isArray;function je(t){return t===Object(t)}function Ve(t){return t[t.length-1]}function Ho(t){return t==null||t===""?null:+t}const I0=t=>e=>t*Math.exp(e),F0=t=>e=>Math.log(t*e),q3=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),Q3=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,Ra=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function rl(t,e,n,r){const i=n(t[0]),o=n(Ve(t)),s=(o-i)*e;return[r(i-s),r(o-s)]}function Z3(t,e){return rl(t,e,Ho,_a)}function Y3(t,e){var n=Math.sign(t[0]);return rl(t,e,F0(n),I0(n))}function W3(t,e,n){return rl(t,e,Ra(n),Ra(1/n))}function Oa(t,e,n,r,i){const o=r(t[0]),s=r(Ve(t)),a=e!=null?r(e):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function P0(t,e,n){return Oa(t,e,n,Ho,_a)}function T0(t,e,n){const r=Math.sign(t[0]);return Oa(t,e,n,F0(r),I0(r))}function il(t,e,n,r){return Oa(t,e,n,Ra(r),Ra(1/r))}function X3(t,e,n,r){return Oa(t,e,n,q3(r),Q3(r))}function ol(t){return t!=null?Ie(t)?t:[t]:[]}function K3(t,e,n){let r=t[0],i=t[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-e?[e,n]:[r=Math.min(Math.max(r,e),n-o),r+o]}function de(t){return typeof t=="function"}const J3="descending";function z0(t,e,n){n=n||{},e=ol(e)||[];const r=[],i=[],o={},s=n.comparator||$3;return ol(t).forEach((a,c)=>{a!=null&&(r.push(e[c]===J3?-1:1),i.push(a=de(a)?a:Ma(a,null,n)),(D0(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:Xn(s(i,r),Object.keys(o))}const M0=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),$3=(t,e)=>t.length===1?tA(t[0],e[0]):eA(t,e,t.length),tA=(t,e)=>function(n,r){return M0(t(n),t(r))*e},eA=(t,e,n)=>(e.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=t[a],s=M0(o(r),o(i));return s*e[a]});function nA(t){return de(t)?t:()=>t}function sl(t){for(let e,n,r=1,i=arguments.length;r<i;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t}const rA=Object.prototype.hasOwnProperty;function Mr(t,e){return rA.call(t,e)}function Na(t){return typeof t=="boolean"}function iA(t){return Object.prototype.toString.call(t)==="[object Date]"}function oA(t){return t&&de(t[Symbol.iterator])}function pe(t){return typeof t=="number"}function It(t){return typeof t=="string"}function sA(t,e){const n=t[0],r=Ve(t),i=+e;return i?i===1?r:n+i*(r-n):n}function La(t){return t&&Ve(t)-t[0]||0}function Ua(t){return Ie(t)?"["+t.map(Ua)+"]":je(t)||It(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function aA(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const uA=t=>pe(t)||iA(t)?t:Date.parse(t);function cA(t,e){return e=e||uA,t==null||t===""?null:e(t)}function lA(t){return t==null||t===""?null:t+""}function Ga(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}var _0={},al={},ul=34,jo=10,cl=13;function R0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function hA(t,e){var n=R0(t);return function(r,i){return e(n(r),i,t)}}function O0(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function ge(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function fA(t){return t<0?"-"+ge(-t,6):t>9999?"+"+ge(t,6):ge(t,4)}function dA(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":fA(t.getUTCFullYear())+"-"+ge(t.getUTCMonth()+1,2)+"-"+ge(t.getUTCDate(),2)+(i?"T"+ge(e,2)+":"+ge(n,2)+":"+ge(r,2)+"."+ge(i,3)+"Z":r?"T"+ge(e,2)+":"+ge(n,2)+":"+ge(r,2)+"Z":n||e?"T"+ge(e,2)+":"+ge(n,2)+"Z":"")}function N0(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,g,b=i(h,function(w,A){if(d)return d(w,A-1);g=w,d=f?hA(w,f):R0(w)});return b.columns=g||[],b}function i(h,f){var d=[],g=h.length,b=0,w=0,A,B=g<=0,E=!1;h.charCodeAt(g-1)===jo&&--g,h.charCodeAt(g-1)===cl&&--g;function C(){if(B)return al;if(E)return E=!1,_0;var F,S=b,O;if(h.charCodeAt(S)===ul){for(;b++<g&&h.charCodeAt(b)!==ul||h.charCodeAt(++b)===ul;);return(F=b)>=g?B=!0:(O=h.charCodeAt(b++))===jo?E=!0:O===cl&&(E=!0,h.charCodeAt(b)===jo&&++b),h.slice(S+1,F-1).replace(/""/g,'"')}for(;b<g;){if((O=h.charCodeAt(F=b++))===jo)E=!0;else if(O===cl)E=!0,h.charCodeAt(b)===jo&&++b;else if(O!==n)continue;return h.slice(S,F)}return B=!0,h.slice(S,g)}for(;(A=C())!==al;){for(var T=[];A!==_0&&A!==al;)T.push(A),A=C();f&&(T=f(T,w++))==null||d.push(T)}return d}function o(h,f){return h.map(function(d){return f.map(function(g){return l(d[g])}).join(t)})}function s(h,f){return f==null&&(f=O0(h)),[f.map(l).join(t)].concat(o(h,f)).join(`
`)}function a(h,f){return f==null&&(f=O0(h)),o(h,f).join(`
`)}function c(h){return h.map(u).join(`
`)}function u(h){return h.map(l).join(t)}function l(h){return h==null?"":h instanceof Date?dA(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:c,formatRow:u,formatValue:l}}var pA=N0("	"),gA=pA.parseRows;function mA(t){return t}function bA(t){if(t==null)return mA;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(a,c){c||(e=n=0);var u=2,l=a.length,h=new Array(l);for(h[0]=(e+=a[0])*r+o,h[1]=(n+=a[1])*i+s;u<l;)h[u]=a[u],++u;return h}}function yA(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function vA(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return L0(t,n)})}:L0(t,e)}function L0(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,o=U0(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function U0(t,e){var n=bA(t.transform),r=t.arcs;function i(l,h){h.length&&h.pop();for(var f=r[l<0?~l:l],d=0,g=f.length;d<g;++d)h.push(n(f[d],d));l<0&&yA(h,g)}function o(l){return n(l)}function s(l){for(var h=[],f=0,d=l.length;f<d;++f)i(l[f],h);return h.length<2&&h.push(h[0]),h}function a(l){for(var h=s(l);h.length<4;)h.push(h[0]);return h}function c(l){return l.map(a)}function u(l){var h=l.type,f;switch(h){case"GeometryCollection":return{type:h,geometries:l.geometries.map(u)};case"Point":f=o(l.coordinates);break;case"MultiPoint":f=l.coordinates.map(o);break;case"LineString":f=s(l.arcs);break;case"MultiLineString":f=l.arcs.map(s);break;case"Polygon":f=c(l.arcs);break;case"MultiPolygon":f=l.arcs.map(c);break;default:return null}return{type:h,coordinates:f}}return u(e)}function wA(t,e){var n={},r={},i={},o=[],s=-1;e.forEach(function(u,l){var h=t.arcs[u<0?~u:u],f;h.length<3&&!h[1][0]&&!h[1][1]&&(f=e[++s],e[s]=u,e[l]=f)}),e.forEach(function(u){var l=a(u),h=l[0],f=l[1],d,g;if(d=i[h])if(delete i[d.end],d.push(u),d.end=f,g=r[f]){delete r[g.start];var b=g===d?d:d.concat(g);r[b.start=d.start]=i[b.end=g.end]=b}else r[d.start]=i[d.end]=d;else if(d=r[f])if(delete r[d.start],d.unshift(u),d.start=h,g=i[h]){delete i[g.end];var w=g===d?d:g.concat(d);r[w.start=g.start]=i[w.end=d.end]=w}else r[d.start]=i[d.end]=d;else d=[u],r[d.start=h]=i[d.end=f]=d});function a(u){var l=t.arcs[u<0?~u:u],h=l[0],f;return t.transform?(f=[0,0],l.forEach(function(d){f[0]+=d[0],f[1]+=d[1]})):f=l[l.length-1],u<0?[f,h]:[h,f]}function c(u,l){for(var h in u){var f=u[h];delete l[f.start],delete f.start,delete f.end,f.forEach(function(d){n[d<0?~d:d]=1}),o.push(f)}}return c(i,r),c(r,i),e.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function AA(t){return U0(t,xA.apply(this,arguments))}function xA(t,e,n){var r,i,o;if(arguments.length>1)r=EA(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:wA(t,r)}}function EA(t,e,n){var r=[],i=[],o;function s(h){var f=h<0?~h:h;(i[f]||(i[f]=[])).push({i:h,g:o})}function a(h){h.forEach(s)}function c(h){h.forEach(a)}function u(h){h.forEach(c)}function l(h){switch(o=h,h.type){case"GeometryCollection":h.geometries.forEach(l);break;case"LineString":a(h.arcs);break;case"MultiLineString":case"Polygon":c(h.arcs);break;case"MultiPolygon":u(h.arcs);break}}return l(e),i.forEach(n==null?function(h){r.push(h[0].i)}:function(h){n(h[0].g,h[h.length-1].g)&&r.push(h[0].i)}),r}function Vo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CA(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ha(t){let e,n,r;t.length!==2?(e=Vo,n=(a,c)=>Vo(t(a),c),r=(a,c)=>t(a)-c):(e=t===Vo||t===CA?t:SA,n=t,r=t);function i(a,c,u=0,l=a.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(a[h],c)<0?u=h+1:l=h}while(u<l)}return u}function o(a,c,u=0,l=a.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(a[h],c)<=0?u=h+1:l=h}while(u<l)}return u}function s(a,c,u=0,l=a.length){const h=i(a,c,u,l-1);return h>u&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:s,right:o}}function SA(){return 0}function G0(t){return t===null?NaN:+t}const H0=Ha(Vo),ll=H0.right;H0.left,Ha(G0).center;const Di=ll;function BA(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class _r extends Map{constructor(e,n=IA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(j0(this,e))}has(e){return super.has(j0(this,e))}set(e,n){return super.set(kA(this,e),n)}delete(e){return super.delete(DA(this,e))}}function j0({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function DA({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function IA(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hl(t){return t}function ja(t,...e){return V0(t,hl,hl,e)}function FA(t,...e){return V0(t,Array.from,hl,e)}function V0(t,e,n,r){return function i(o,s){if(s>=r.length)return n(o);const a=new _r,c=r[s++];let u=-1;for(const l of o){const h=c(l,++u,o),f=a.get(h);f?f.push(l):a.set(h,[l])}for(const[l,h]of a)a.set(l,i(h,s));return e(a)}(t,0)}var fl=Math.sqrt(50),dl=Math.sqrt(10),pl=Math.sqrt(2);function Va(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=q0(t,e,n))===0||!isFinite(a))return[];if(a>0){let c=Math.round(t/a),u=Math.round(e/a);for(c*a<t&&++c,u*a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)*a}else{a=-a;let c=Math.round(t*a),u=Math.round(e*a);for(c/a<t&&++c,u/a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)/a}return r&&s.reverse(),s}function q0(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fl?10:o>=dl?5:o>=pl?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fl?10:o>=dl?5:o>=pl?2:1)}function Rr(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fl?i*=10:o>=dl?i*=5:o>=pl&&(i*=2),e<t?-i:i}function Q0(t,e,n=G0){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function qo(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function qa(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function PA(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ii(t){return t=Qa(Math.abs(t)),t?t[1]:NaN}function TA(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function zA(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kn(t){if(!(e=MA.exec(t)))throw new Error("invalid format: "+t);var e;return new gl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kn.prototype=gl.prototype;function gl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _A(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Z0;function RA(t,e){var n=Qa(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Z0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qa(t,Math.max(0,e+o-1))[0]}function Y0(t,e){var n=Qa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const W0={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PA,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Y0(t*100,e),r:Y0,s:RA,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function X0(t){return t}var K0=Array.prototype.map,J0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function OA(t){var e=t.grouping===void 0||t.thousands===void 0?X0:TA(K0.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?X0:zA(K0.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Kn(h);var f=h.fill,d=h.align,g=h.sign,b=h.symbol,w=h.zero,A=h.width,B=h.comma,E=h.precision,C=h.trim,T=h.type;T==="n"?(B=!0,T="g"):W0[T]||(E===void 0&&(E=12),C=!0,T="g"),(w||f==="0"&&d==="=")&&(w=!0,f="0",d="=");var F=b==="$"?n:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=b==="$"?r:/[%p]/.test(T)?s:"",O=W0[T],x=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(_){var W=F,Z=S,Q,ht,_t;if(T==="c")Z=O(_)+Z,_="";else{_=+_;var Gt=_<0||1/_<0;if(_=isNaN(_)?c:O(Math.abs(_),E),C&&(_=_A(_)),Gt&&+_==0&&g!=="+"&&(Gt=!1),W=(Gt?g==="("?g:a:g==="-"||g==="("?"":g)+W,Z=(T==="s"?J0[8+Z0/3]:"")+Z+(Gt&&g==="("?")":""),x){for(Q=-1,ht=_.length;++Q<ht;)if(_t=_.charCodeAt(Q),48>_t||_t>57){Z=(_t===46?i+_.slice(Q+1):_.slice(Q))+Z,_=_.slice(0,Q);break}}}B&&!w&&(_=e(_,1/0));var Bn=W.length+_.length+Z.length,he=Bn<A?new Array(A-Bn+1).join(f):"";switch(B&&w&&(_=e(he+_,he.length?A-Z.length:1/0),he=""),d){case"<":_=W+_+Z+he;break;case"=":_=W+he+_+Z;break;case"^":_=he.slice(0,Bn=he.length>>1)+W+_+Z+he.slice(Bn);break;default:_=he+W+_+Z;break}return o(_)}return I.toString=function(){return h+""},I}function l(h,f){var d=u((h=Kn(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Ii(f)/3)))*3,b=Math.pow(10,-g),w=J0[8+g/3];return function(A){return d(b*A)+w}}return{format:u,formatPrefix:l}}var Za,Xt,ml;NA({thousands:",",grouping:[3],currency:["$",""]});function NA(t){return Za=OA(t),Xt=Za.format,ml=Za.formatPrefix,Za}function $0(t){return Math.max(0,-Ii(Math.abs(t)))}function tp(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ii(e)/3)))*3-Ii(Math.abs(t)))}function ep(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ii(e)-Ii(t))+1}var bl=new Date,yl=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return e(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var c=[],u;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;do c.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return c},i.filter=function(o){return jt(function(s){if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););})},n&&(i.count=function(o,s){return bl.setTime(+o),yl.setTime(+s),t(bl),t(yl),Math.floor(n(bl,yl))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var Ya=jt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ya.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ya};const vl=Ya;Ya.range;const Fn=1e3,Fe=Fn*60,Pn=Fe*60,Or=Pn*24,wl=Or*7,np=Or*30,Al=Or*365;var rp=jt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Fn)},function(t,e){return(e-t)/Fn},function(t){return t.getUTCSeconds()});const Jn=rp;rp.range;var ip=jt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fn)},function(t,e){t.setTime(+t+e*Fe)},function(t,e){return(e-t)/Fe},function(t){return t.getMinutes()});const xl=ip;ip.range;var op=jt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fn-t.getMinutes()*Fe)},function(t,e){t.setTime(+t+e*Pn)},function(t,e){return(e-t)/Pn},function(t){return t.getHours()});const El=op;op.range;var sp=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fe)/Or,t=>t.getDate()-1);const Nr=sp;sp.range;function Lr(t){return jt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fe)/wl})}var Qo=Lr(0),Wa=Lr(1),LA=Lr(2),UA=Lr(3),Fi=Lr(4),GA=Lr(5),HA=Lr(6);Qo.range,Wa.range,LA.range,UA.range,Fi.range,GA.range,HA.range;var ap=jt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Xa=ap;ap.range;var Cl=jt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Cl.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:jt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const $n=Cl;Cl.range;var up=jt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Fe)},function(t,e){return(e-t)/Fe},function(t){return t.getUTCMinutes()});const Sl=up;up.range;var cp=jt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Pn)},function(t,e){return(e-t)/Pn},function(t){return t.getUTCHours()});const Bl=cp;cp.range;var lp=jt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Or},function(t){return t.getUTCDate()-1});const Ur=lp;lp.range;function Gr(t){return jt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/wl})}var Zo=Gr(0),Ka=Gr(1),jA=Gr(2),VA=Gr(3),Pi=Gr(4),qA=Gr(5),QA=Gr(6);Zo.range,Ka.range,jA.range,VA.range,Pi.range,qA.range,QA.range;var hp=jt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const Ja=hp;hp.range;var kl=jt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});kl.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:jt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const tr=kl;kl.range;function fp(t,e,n,r,i,o){const s=[[Jn,1,Fn],[Jn,5,5*Fn],[Jn,15,15*Fn],[Jn,30,30*Fn],[o,1,Fe],[o,5,5*Fe],[o,15,15*Fe],[o,30,30*Fe],[i,1,Pn],[i,3,3*Pn],[i,6,6*Pn],[i,12,12*Pn],[r,1,Or],[r,2,2*Or],[n,1,wl],[e,1,np],[e,3,3*np],[t,1,Al]];function a(u,l,h){const f=l<u;f&&([u,l]=[l,u]);const d=h&&typeof h.range=="function"?h:c(u,l,h),g=d?d.range(u,+l+1):[];return f?g.reverse():g}function c(u,l,h){const f=Math.abs(l-u)/h,d=Ha(([,,w])=>w).right(s,f);if(d===s.length)return t.every(Rr(u/Al,l/Al,h));if(d===0)return vl.every(Math.max(Rr(u,l,h),1));const[g,b]=s[f/s[d-1][2]<s[d][2]/f?d-1:d];return g.every(b)}return[a,c]}const[ZA,YA]=fp(tr,Ja,Zo,Ur,Bl,Sl),[WA,XA]=fp($n,Xa,Qo,Nr,El,xl),Yo="year",Wo="quarter",Xo="month",Ko="week",Jo="date",$a="day",Dl="dayofyear",$o="hours",ts="minutes",es="seconds",tu="milliseconds";[Yo,Wo,Xo,Ko,Jo,$a,Dl,$o,ts,es,tu].reduce((t,e,n)=>(t[e]=1+n,t),{});const KA={[Yo]:$n,[Wo]:Xa.every(3),[Xo]:Xa,[Ko]:Qo,[Jo]:Nr,[$a]:Nr,[Dl]:Nr,[$o]:El,[ts]:xl,[es]:Jn,[tu]:vl},JA={[Yo]:tr,[Wo]:Ja.every(3),[Xo]:Ja,[Ko]:Zo,[Jo]:Ur,[$a]:Ur,[Dl]:Ur,[$o]:Bl,[ts]:Sl,[es]:Jn,[tu]:vl};function $A(t){return KA[t]}function tx(t){return JA[t]}function Il(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fl(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dp(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=rs(i),l=is(i),h=rs(o),f=is(o),d=rs(s),g=is(s),b=rs(a),w=is(a),A=rs(c),B=is(c),E={a:Gt,A:Bn,b:he,B:Fa,c:null,d:vp,e:vp,f:Ex,g:zx,G:_x,H:wx,I:Ax,j:xx,L:wp,m:Cx,M:Sx,p:Ft,q:Ht,Q:Bp,s:kp,S:Bx,u:kx,U:Dx,V:Ix,w:Fx,W:Px,x:null,X:null,y:Tx,Y:Mx,Z:Rx,"%":Sp},C={a:Ro,A:Ci,b:Oo,B:Si,c:null,d:xp,e:xp,f:Ux,g:Xx,G:Jx,H:Ox,I:Nx,j:Lx,L:Ep,m:Gx,M:Hx,p:No,q:un,Q:Bp,s:kp,S:jx,u:Vx,U:qx,V:Qx,w:Zx,W:Yx,x:null,X:null,y:Wx,Y:Kx,Z:$x,"%":Sp},T={a:I,A:_,b:W,B:Z,c:Q,d:bp,e:bp,f:mx,g:mp,G:gp,H:yp,I:yp,j:fx,L:gx,m:hx,M:dx,p:x,q:lx,Q:yx,s:vx,S:px,u:ox,U:sx,V:ax,w:ix,W:ux,x:ht,X:_t,y:mp,Y:gp,Z:cx,"%":bx};E.x=F(n,E),E.X=F(r,E),E.c=F(e,E),C.x=F(n,C),C.X=F(r,C),C.c=F(e,C);function F(V,$){return function(et){var N=[],Pt=-1,rt=0,te=V.length,Wt,ke,Bi;for(et instanceof Date||(et=new Date(+et));++Pt<te;)V.charCodeAt(Pt)===37&&(N.push(V.slice(rt,Pt)),(ke=pp[Wt=V.charAt(++Pt)])!=null?Wt=V.charAt(++Pt):ke=Wt==="e"?" ":"0",(Bi=$[Wt])&&(Wt=Bi(et,ke)),N.push(Wt),rt=Pt+1);return N.push(V.slice(rt,Pt)),N.join("")}}function S(V,$){return function(et){var N=ns(1900,void 0,1),Pt=O(N,V,et+="",0),rt,te;if(Pt!=et.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if($&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(rt=Fl(ns(N.y,0,1)),te=rt.getUTCDay(),rt=te>4||te===0?Ka.ceil(rt):Ka(rt),rt=Ur.offset(rt,(N.V-1)*7),N.y=rt.getUTCFullYear(),N.m=rt.getUTCMonth(),N.d=rt.getUTCDate()+(N.w+6)%7):(rt=Il(ns(N.y,0,1)),te=rt.getDay(),rt=te>4||te===0?Wa.ceil(rt):Wa(rt),rt=Nr.offset(rt,(N.V-1)*7),N.y=rt.getFullYear(),N.m=rt.getMonth(),N.d=rt.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),te="Z"in N?Fl(ns(N.y,0,1)).getUTCDay():Il(ns(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(te+5)%7:N.w+N.U*7-(te+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Fl(N)):Il(N)}}function O(V,$,et,N){for(var Pt=0,rt=$.length,te=et.length,Wt,ke;Pt<rt;){if(N>=te)return-1;if(Wt=$.charCodeAt(Pt++),Wt===37){if(Wt=$.charAt(Pt++),ke=T[Wt in pp?$.charAt(Pt++):Wt],!ke||(N=ke(V,et,N))<0)return-1}else if(Wt!=et.charCodeAt(N++))return-1}return N}function x(V,$,et){var N=u.exec($.slice(et));return N?(V.p=l.get(N[0].toLowerCase()),et+N[0].length):-1}function I(V,$,et){var N=d.exec($.slice(et));return N?(V.w=g.get(N[0].toLowerCase()),et+N[0].length):-1}function _(V,$,et){var N=h.exec($.slice(et));return N?(V.w=f.get(N[0].toLowerCase()),et+N[0].length):-1}function W(V,$,et){var N=A.exec($.slice(et));return N?(V.m=B.get(N[0].toLowerCase()),et+N[0].length):-1}function Z(V,$,et){var N=b.exec($.slice(et));return N?(V.m=w.get(N[0].toLowerCase()),et+N[0].length):-1}function Q(V,$,et){return O(V,e,$,et)}function ht(V,$,et){return O(V,n,$,et)}function _t(V,$,et){return O(V,r,$,et)}function Gt(V){return s[V.getDay()]}function Bn(V){return o[V.getDay()]}function he(V){return c[V.getMonth()]}function Fa(V){return a[V.getMonth()]}function Ft(V){return i[+(V.getHours()>=12)]}function Ht(V){return 1+~~(V.getMonth()/3)}function Ro(V){return s[V.getUTCDay()]}function Ci(V){return o[V.getUTCDay()]}function Oo(V){return c[V.getUTCMonth()]}function Si(V){return a[V.getUTCMonth()]}function No(V){return i[+(V.getUTCHours()>=12)]}function un(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var $=F(V+="",E);return $.toString=function(){return V},$},parse:function(V){var $=S(V+="",!1);return $.toString=function(){return V},$},utcFormat:function(V){var $=F(V+="",C);return $.toString=function(){return V},$},utcParse:function(V){var $=S(V+="",!0);return $.toString=function(){return V},$}}}var pp={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,ex=/^%/,nx=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function rx(t){return t.replace(nx,"\\$&")}function rs(t){return new RegExp("^(?:"+t.map(rx).join("|")+")","i")}function is(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ix(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ox(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sx(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ax(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ux(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gp(t,e,n){var r=Vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mp(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cx(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lx(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hx(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bp(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fx(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yp(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dx(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function px(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gx(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mx(t,e,n){var r=Vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bx(t,e,n){var r=ex.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yx(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vx(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vp(t,e){return ot(t.getDate(),e,2)}function wx(t,e){return ot(t.getHours(),e,2)}function Ax(t,e){return ot(t.getHours()%12||12,e,2)}function xx(t,e){return ot(1+Nr.count($n(t),t),e,3)}function wp(t,e){return ot(t.getMilliseconds(),e,3)}function Ex(t,e){return wp(t,e)+"000"}function Cx(t,e){return ot(t.getMonth()+1,e,2)}function Sx(t,e){return ot(t.getMinutes(),e,2)}function Bx(t,e){return ot(t.getSeconds(),e,2)}function kx(t){var e=t.getDay();return e===0?7:e}function Dx(t,e){return ot(Qo.count($n(t)-1,t),e,2)}function Ap(t){var e=t.getDay();return e>=4||e===0?Fi(t):Fi.ceil(t)}function Ix(t,e){return t=Ap(t),ot(Fi.count($n(t),t)+($n(t).getDay()===4),e,2)}function Fx(t){return t.getDay()}function Px(t,e){return ot(Wa.count($n(t)-1,t),e,2)}function Tx(t,e){return ot(t.getFullYear()%100,e,2)}function zx(t,e){return t=Ap(t),ot(t.getFullYear()%100,e,2)}function Mx(t,e){return ot(t.getFullYear()%1e4,e,4)}function _x(t,e){var n=t.getDay();return t=n>=4||n===0?Fi(t):Fi.ceil(t),ot(t.getFullYear()%1e4,e,4)}function Rx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function xp(t,e){return ot(t.getUTCDate(),e,2)}function Ox(t,e){return ot(t.getUTCHours(),e,2)}function Nx(t,e){return ot(t.getUTCHours()%12||12,e,2)}function Lx(t,e){return ot(1+Ur.count(tr(t),t),e,3)}function Ep(t,e){return ot(t.getUTCMilliseconds(),e,3)}function Ux(t,e){return Ep(t,e)+"000"}function Gx(t,e){return ot(t.getUTCMonth()+1,e,2)}function Hx(t,e){return ot(t.getUTCMinutes(),e,2)}function jx(t,e){return ot(t.getUTCSeconds(),e,2)}function Vx(t){var e=t.getUTCDay();return e===0?7:e}function qx(t,e){return ot(Zo.count(tr(t)-1,t),e,2)}function Cp(t){var e=t.getUTCDay();return e>=4||e===0?Pi(t):Pi.ceil(t)}function Qx(t,e){return t=Cp(t),ot(Pi.count(tr(t),t)+(tr(t).getUTCDay()===4),e,2)}function Zx(t){return t.getUTCDay()}function Yx(t,e){return ot(Ka.count(tr(t)-1,t),e,2)}function Wx(t,e){return ot(t.getUTCFullYear()%100,e,2)}function Xx(t,e){return t=Cp(t),ot(t.getUTCFullYear()%100,e,2)}function Kx(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Jx(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pi(t):Pi.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function $x(){return"+0000"}function Sp(){return"%"}function Bp(t){return+t}function kp(t){return Math.floor(+t/1e3)}var Ti,Pl,Dp,Tl,Ip;t5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t5(t){return Ti=dp(t),Pl=Ti.format,Dp=Ti.parse,Tl=Ti.utcFormat,Ip=Ti.utcParse,Ti}function os(t){const e={};return n=>e[n]||(e[n]=t(n))}function e5(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let o=n5(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function n5(t,e){let n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}function r5(t){const e=os(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(r){const i=Kn(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return e5(e(i),e(".1f")(1)[1])}else return e(i)},formatSpan(r,i,o,s){s=Kn(s??",f");const a=Rr(r,i,o),c=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=tp(a,c))||(s.precision=u),n(s,c);case"":case"e":case"g":case"p":case"r":{isNaN(u=ep(a,c))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=$0(a))||(s.precision=u-(s.type==="%")*2);break}}return e(s)}}}i5();function i5(){return r5({format:Xt,formatPrefix:ml})}function Fp(t,e,n){n=n||{},je(n)||Dt("Invalid time multi-format specifier: ".concat(n));const r=e(es),i=e(ts),o=e($o),s=e(Jo),a=e(Ko),c=e(Xo),u=e(Wo),l=e(Yo),h=t(n[tu]||".%L"),f=t(n[es]||":%S"),d=t(n[ts]||"%I:%M"),g=t(n[$o]||"%I %p"),b=t(n[Jo]||n[$a]||"%a %d"),w=t(n[Ko]||"%b %d"),A=t(n[Xo]||"%B"),B=t(n[Wo]||"%B"),E=t(n[Yo]||"%Y");return C=>(r(C)<C?h:i(C)<C?f:o(C)<C?d:s(C)<C?g:c(C)<C?a(C)<C?b:w:l(C)<C?u(C)<C?A:B:E)(C)}function Pp(t){const e=os(t.format),n=os(t.utcFormat);return{timeFormat:r=>It(r)?e(r):Fp(e,$A,r),utcFormat:r=>It(r)?n(r):Fp(n,tx,r),timeParse:os(t.parse),utcParse:os(t.utcParse)}}let zl;o5();function o5(){return zl=Pp({format:Pl,parse:Dp,utcFormat:Tl,utcParse:Ip})}function s5(t){return Pp(dp(t))}function a5(t){return arguments.length?zl=s5(t):zl}const u5=/^(data:|([A-Za-z]+:)?\/\/)/,c5=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,l5=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Tp="file://";function h5(t,e){return n=>({options:n||{},sanitize:d5,load:f5,fileAccess:!!e,file:p5(e),http:m5(t)})}async function f5(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function d5(t,e){e=sl({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,s;const a=c5.test(t.replace(l5,""));(t==null||typeof t!="string"||!a)&&Dt("Sanitize failure, invalid URI: "+Ua(t));const c=u5.test(t);return(s=e.baseURL)&&!c&&(!t.startsWith("/")&&!s.endsWith("/")&&(t="/"+t),t=s+t),o=(i=t.startsWith(Tp))||e.mode==="file"||e.mode!=="http"&&!c&&n,i?t=t.slice(Tp.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function p5(t){return t?e=>new Promise((n,r)=>{t.readFile(e,(i,o)=>{i?r(i):n(o)})}):g5}async function g5(){Dt("No file system access.")}function m5(t){return t?async function(e,n){const r=sl({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?de(o[i])?o[i]():o.text():Dt(o.status+""+o.statusText)}:b5}async function b5(){Dt("No HTTP fetch method available.")}const y5=t=>t!=null&&t===t,v5=t=>t==="true"||t==="false"||t===!0||t===!1,w5=t=>!Number.isNaN(Date.parse(t)),zp=t=>!Number.isNaN(+t)&&!(t instanceof Date),A5=t=>zp(t)&&Number.isInteger(+t),Mp={boolean:aA,integer:Ho,number:Ho,date:cA,string:lA,unknown:_a},eu=[v5,A5,zp,w5],x5=["boolean","integer","number","date"];function E5(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=eu.length,i=eu.map((o,s)=>s+1);for(let o=0,s=0,a,c;o<n;++o)for(c=e?t[o][e]:t[o],a=0;a<r;++a)if(i[a]&&y5(c)&&!eu[a](c)&&(i[a]=0,++s,s===eu.length))return"string";return x5[i.reduce((o,s)=>o===0?s:o,0)-1]}function C5(t,e){return e.reduce((n,r)=>(n[r]=E5(t,r),n),{})}function _p(t){const e=function(n,r){const i={delimiter:t};return Ml(n,r?sl(r,i):i)};return e.responseType="text",e}function Ml(t,e){return e.header&&(t=e.header.map(Ua).join(e.delimiter)+`
`+t),N0(e.delimiter).parse(t+"")}Ml.responseType="text";function S5(t){return typeof Buffer=="function"&&de(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function _l(t,e){const n=e&&e.property?Ma(e.property):_a;return je(t)&&!S5(t)?B5(n(t),e):n(JSON.parse(t))}_l.responseType="json";function B5(t,e){return!Ie(t)&&oA(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const k5={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function Rp(t,e){let n,r,i,o;return t=_l(t,e),e&&e.feature?(n=vA,i=e.feature):e&&e.mesh?(n=AA,i=e.mesh,o=k5[e.filter]):Dt("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):Dt("Invalid TopoJSON object: "+i),r&&r.features||[r]}Rp.responseType="json";const Rl={dsv:Ml,csv:_p(","),tsv:_p("	"),json:_l,topojson:Rp};function Op(t,e){return arguments.length>1?(Rl[t]=e,this):Mr(Rl,t)?Rl[t]:null}function Np(t,e,n,r){e=e||{};const i=Op(e.type||"json");return i||Dt("Unknown data format type: "+e.type),t=i(t,e),e.parse&&D5(t,e.parse,n,r),Mr(t,"columns")&&delete t.columns,t}function D5(t,e,n,r){if(!t.length)return;const i=a5();n=n||i.timeParse,r=r||i.utcParse;let o=t.columns||Object.keys(t[0]),s,a,c,u,l,h;e==="auto"&&(e=C5(t,o)),o=Object.keys(e);const f=o.map(d=>{const g=e[d];let b,w;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return b=g.split(/:(.+)?/,2),w=b[1],(w[0]==="'"&&w[w.length-1]==="'"||w[0]==='"'&&w[w.length-1]==='"')&&(w=w.slice(1,-1)),(b[0]==="utc"?r:n)(w);if(!Mp[g])throw Error("Illegal format pattern: "+d+":"+g);return Mp[g]});for(c=0,l=t.length,h=o.length;c<l;++c)for(s=t[c],u=0;u<h;++u)a=o[u],s[a]=f[u](s[a])}const nu=h5(typeof fetch<"u"&&fetch,null);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ol;const ru=window,zi=ru.trustedTypes,Lp=zi?zi.createPolicy("lit-html",{createHTML:t=>t}):void 0,er=`lit$${(Math.random()+"").slice(9)}$`,Up="?"+er,I5=`<${Up}>`,Mi=document,ss=(t="")=>Mi.createComment(t),as=t=>t===null||typeof t!="object"&&typeof t!="function",Gp=Array.isArray,F5=t=>Gp(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",us=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Hp=/-->/g,jp=/>/g,Hr=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Vp=/'/g,qp=/"/g,Qp=/^(?:script|style|textarea|title)$/i,P5=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),nr=P5(1),cs=Symbol.for("lit-noChange"),qt=Symbol.for("lit-nothing"),Zp=new WeakMap,_i=Mi.createTreeWalker(Mi,129,null,!1),T5=(t,e)=>{const n=t.length-1,r=[];let i,o=e===2?"<svg>":"",s=us;for(let c=0;c<n;c++){const u=t[c];let l,h,f=-1,d=0;for(;d<u.length&&(s.lastIndex=d,h=s.exec(u),h!==null);)d=s.lastIndex,s===us?h[1]==="!--"?s=Hp:h[1]!==void 0?s=jp:h[2]!==void 0?(Qp.test(h[2])&&(i=RegExp("</"+h[2],"g")),s=Hr):h[3]!==void 0&&(s=Hr):s===Hr?h[0]===">"?(s=i??us,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,l=h[1],s=h[3]===void 0?Hr:h[3]==='"'?qp:Vp):s===qp||s===Vp?s=Hr:s===Hp||s===jp?s=us:(s=Hr,i=void 0);const g=s===Hr&&t[c+1].startsWith("/>")?" ":"";o+=s===us?u+I5:f>=0?(r.push(l),u.slice(0,f)+"$lit$"+u.slice(f)+er+g):u+er+(f===-2?(r.push(void 0),c):g)}const a=o+(t[n]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Lp!==void 0?Lp.createHTML(a):a,r]};let Nl=class O3{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,s=0;const a=e.length-1,c=this.parts,[u,l]=T5(e,n);if(this.el=O3.createElement(u,r),_i.currentNode=this.el.content,n===2){const h=this.el.content,f=h.firstChild;f.remove(),h.append(...f.childNodes)}for(;(i=_i.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const h=[];for(const f of i.getAttributeNames())if(f.endsWith("$lit$")||f.startsWith(er)){const d=l[s++];if(h.push(f),d!==void 0){const g=i.getAttribute(d.toLowerCase()+"$lit$").split(er),b=/([.?@])?(.*)/.exec(d);c.push({type:1,index:o,name:b[2],strings:g,ctor:b[1]==="."?M5:b[1]==="?"?R5:b[1]==="@"?O5:iu})}else c.push({type:6,index:o})}for(const f of h)i.removeAttribute(f)}if(Qp.test(i.tagName)){const h=i.textContent.split(er),f=h.length-1;if(f>0){i.textContent=zi?zi.emptyScript:"";for(let d=0;d<f;d++)i.append(h[d],ss()),_i.nextNode(),c.push({type:2,index:++o});i.append(h[f],ss())}}}else if(i.nodeType===8)if(i.data===Up)c.push({type:2,index:o});else{let h=-1;for(;(h=i.data.indexOf(er,h+1))!==-1;)c.push({type:7,index:o}),h+=er.length-1}o++}}static createElement(e,n){const r=Mi.createElement("template");return r.innerHTML=e,r}};function Ri(t,e,n=t,r){var i,o,s,a;if(e===cs)return e;let c=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const u=as(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==u&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),u===void 0?c=void 0:(c=new u(t),c._$AT(t,n,r)),r!==void 0?((s=(a=n)._$Co)!==null&&s!==void 0?s:a._$Co=[])[r]=c:n._$Cl=c),c!==void 0&&(e=Ri(t,c._$AS(t,e.values),c,r)),e}class z5{constructor(e,n){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var n;const{el:{content:r},parts:i}=this._$AD,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Mi).importNode(r,!0);_i.currentNode=o;let s=_i.nextNode(),a=0,c=0,u=i[0];for(;u!==void 0;){if(a===u.index){let l;u.type===2?l=new ls(s,s.nextSibling,this,e):u.type===1?l=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(l=new N5(s,this,e)),this.u.push(l),u=i[++c]}a!==(u==null?void 0:u.index)&&(s=_i.nextNode(),a++)}return o}p(e){let n=0;for(const r of this.u)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class ls{constructor(e,n,r,i){var o;this.type=2,this._$AH=qt,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=(o=i==null?void 0:i.isConnected)===null||o===void 0||o}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Ri(this,e,n),as(e)?e===qt||e==null||e===""?(this._$AH!==qt&&this._$AR(),this._$AH=qt):e!==this._$AH&&e!==cs&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):F5(e)?this.k(e):this.g(e)}O(e,n=this._$AB){return this._$AA.parentNode.insertBefore(e,n)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==qt&&as(this._$AH)?this._$AA.nextSibling.data=e:this.T(Mi.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Nl.createElement(i.h,this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===o)this._$AH.p(r);else{const s=new z5(o,this),a=s.v(this.options);s.p(r),this.T(a),this._$AH=s}}_$AC(e){let n=Zp.get(e.strings);return n===void 0&&Zp.set(e.strings,n=new Nl(e)),n}k(e){Gp(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const o of e)i===n.length?n.push(r=new ls(this.O(ss()),this.O(ss()),this,this.options)):r=n[i],r._$AI(o),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class iu{constructor(e,n,r,i,o){this.type=1,this._$AH=qt,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=qt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const o=this.strings;let s=!1;if(o===void 0)e=Ri(this,e,n,0),s=!as(e)||e!==this._$AH&&e!==cs,s&&(this._$AH=e);else{const a=e;let c,u;for(e=o[0],c=0;c<o.length-1;c++)u=Ri(this,a[r+c],n,c),u===cs&&(u=this._$AH[c]),s||(s=!as(u)||u!==this._$AH[c]),u===qt?e=qt:e!==qt&&(e+=(u??"")+o[c+1]),this._$AH[c]=u}s&&!i&&this.j(e)}j(e){e===qt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class M5 extends iu{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===qt?void 0:e}}const _5=zi?zi.emptyScript:"";class R5 extends iu{constructor(){super(...arguments),this.type=4}j(e){e&&e!==qt?this.element.setAttribute(this.name,_5):this.element.removeAttribute(this.name)}}class O5 extends iu{constructor(e,n,r,i,o){super(e,n,r,i,o),this.type=5}_$AI(e,n=this){var r;if((e=(r=Ri(this,e,n,0))!==null&&r!==void 0?r:qt)===cs)return;const i=this._$AH,o=e===qt&&i!==qt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==qt&&(i===qt||o);o&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class N5{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ri(this,e)}}const Yp=ru.litHtmlPolyfillSupport;Yp==null||Yp(Nl,ls),((Ol=ru.litHtmlVersions)!==null&&Ol!==void 0?Ol:ru.litHtmlVersions=[]).push("2.4.0");const Wp=(t,e,n)=>{var r,i;const o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let s=o._$litPart$;if(s===void 0){const a=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=s=new ls(e.insertBefore(ss(),a),a,void 0,n??{})}return s._$AI(t),s},Xp=1;function Ll(){let t=[0,1],e=[0,1],n=1,r=1,i=0,o=0,s=.5,a=0;const c=u=>(u+s-t[0])/n*r+e[0];return c.invert=u=>(u-e[0])/r*n+t[0]-s,c.domain=function(u){if(arguments.length){if(t=BA(u),n=t[1]-t[0],n<Xp){n=Xp;const l=(t[0]+t[1])/2;t[0]=l-n/2,t[1]=l+n/2}return c}else return t},c.range=function(u){return arguments.length?(e=[...u],r=e[1]-e[0],c):e},c.numberingOffset=function(u){return arguments.length?(a=u,c):a},c.padding=function(u){return arguments.length?(o=u,i=Math.min(1,u),c):i},c.paddingInner=function(u){return arguments.length?(i=Math.min(1,u),c):i},c.paddingOuter=function(u){return arguments.length?(o=u,c):o},c.align=function(u){return arguments.length?(s=Math.max(0,Math.min(1,u)),c):s},c.step=()=>r/n,c.bandwidth=()=>c.step(),c.ticks=u=>{const l=c.align(),h=c.numberingOffset();return Va(t[0]-l+h,t[1]-l+h,Math.min(u,Math.ceil(n))).filter(Number.isInteger).map(f=>f-a)},c.tickFormat=(u,l)=>{if(l)throw new Error("Index scale's tickFormat does not support a specifier!");const h=Rr(t[0],t[1],Math.min(u,Math.ceil(n)))<1e5?Xt(","):Xt(".3s");return f=>h(f+a)},c.copy=()=>Ll().domain(t).range(e).paddingInner(i).paddingOuter(o).numberingOffset(a),c}function L5(){const t=Ll().numberingOffset(1);let e;t.genome=function(r){return arguments.length?(e=r,t):e},t.ticks=r=>{if(!e)return[];const i=t.domain(),o=t.numberingOffset(),[s,a]=[Math.max(i[0],0),Math.min(i[1],e.totalSize-1)].map(l=>e.toChromosome(l)),c=Math.max(1,Rr(i[0],i[1],r)),u=[];for(let l=s.index;l<=a.index;l++){const h=e.chromosomes[l],f=Math.max(h.continuousStart+c,i[0]-(i[0]-h.continuousStart)%c),d=Math.min(h.continuousEnd-c/4,i[1]+1);for(let g=f;g<=d;g+=c){const b=g-o;b>=i[0]&&b<i[1]&&u.push(b)}}return u},t.tickFormat=(r,i)=>{if(!e)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const o=t.domain(),s=o[1]-o[0],a=t.numberingOffset(),c=Rr(o[0],o[1],Math.min(r,Math.ceil(s)))<1e6?Xt(","):Xt(".3s"),u=l=>l-e.toChromosome(l).continuousStart;return l=>c(u(l)+a)};const n=t.copy;return t.copy=()=>n().genome(e),t}function U5(t){return t.type=="locus"}function ln(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ul=Symbol("implicit");function Gl(){var t=new _r,e=[],n=[],r=Ul;function i(o){let s=t.get(o);if(s===void 0){if(r!==Ul)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new _r;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Gl(e,n).unknown(r)},ln.apply(i,arguments),i}function Oi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ir(){}var jr=.7,Ni=1/jr,Li="\\s*([+-]?\\d+)\\s*",fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G5=/^#([0-9a-f]{3,8})$/,H5=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),j5=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),V5=new RegExp(`^rgba\\(${Li},${Li},${Li},${fs}\\)$`),q5=new RegExp(`^rgba\\(${hn},${hn},${hn},${fs}\\)$`),Q5=new RegExp(`^hsl\\(${fs},${hn},${hn}\\)$`),Z5=new RegExp(`^hsla\\(${fs},${hn},${hn},${fs}\\)$`),Kp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oi(ir,Vr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Jp,formatHex:Jp,formatHex8:Y5,formatHsl:W5,formatRgb:$p,toString:$p});function Jp(){return this.rgb().formatHex()}function Y5(){return this.rgb().formatHex8()}function W5(){return ig(this).formatHsl()}function $p(){return this.rgb().formatRgb()}function Vr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=G5.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tg(e):n===3?new Qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ou(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ou(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=H5.exec(t))?new Qt(e[1],e[2],e[3],1):(e=j5.exec(t))?new Qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=V5.exec(t))?ou(e[1],e[2],e[3],e[4]):(e=q5.exec(t))?ou(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q5.exec(t))?rg(e[1],e[2]/100,e[3]/100,1):(e=Z5.exec(t))?rg(e[1],e[2]/100,e[3]/100,e[4]):Kp.hasOwnProperty(t)?tg(Kp[t]):t==="transparent"?new Qt(NaN,NaN,NaN,0):null}function tg(t){return new Qt(t>>16&255,t>>8&255,t&255,1)}function ou(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function Hl(t){return t instanceof ir||(t=Vr(t)),t?(t=t.rgb(),new Qt(t.r,t.g,t.b,t.opacity)):new Qt}function su(t,e,n,r){return arguments.length===1?Hl(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Oi(Qt,su,hs(ir,{brighter(t){return t=t==null?Ni:Math.pow(Ni,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jr:Math.pow(jr,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qt(qr(this.r),qr(this.g),qr(this.b),au(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eg,formatHex:eg,formatHex8:X5,formatRgb:ng,toString:ng}));function eg(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}`}function X5(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}${Qr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ng(){const t=au(this.opacity);return`${t===1?"rgb(":"rgba("}${qr(this.r)}, ${qr(this.g)}, ${qr(this.b)}${t===1?")":`, ${t})`}`}function au(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qr(t){return t=qr(t),(t<16?"0":"")+t.toString(16)}function rg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,r)}function ig(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof ir||(t=Vr(t)),!t)return new qe;if(t instanceof qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new qe(s,a,c,t.opacity)}function jl(t,e,n,r){return arguments.length===1?ig(t):new qe(t,e,n,r??1)}function qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Oi(qe,jl,hs(ir,{brighter(t){return t=t==null?Ni:Math.pow(Ni,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jr:Math.pow(jr,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(Vl(t>=240?t-240:t+120,i,r),Vl(t,i,r),Vl(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qe(og(this.h),uu(this.s),uu(this.l),au(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=au(this.opacity);return`${t===1?"hsl(":"hsla("}${og(this.h)}, ${uu(this.s)*100}%, ${uu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function og(t){return t=(t||0)%360,t<0?t+360:t}function uu(t){return Math.max(0,Math.min(1,t||0))}function Vl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sg=Math.PI/180,ag=180/Math.PI,cu=18,ug=.96422,cg=1,lg=.82521,hg=4/29,Ui=6/29,fg=3*Ui*Ui,K5=Ui*Ui*Ui;function dg(t){if(t instanceof fn)return new fn(t.l,t.a,t.b,t.opacity);if(t instanceof Tn)return pg(t);t instanceof Qt||(t=Hl(t));var e=Wl(t.r),n=Wl(t.g),r=Wl(t.b),i=Ql((.2225045*e+.7168786*n+.0606169*r)/cg),o,s;return e===n&&n===r?o=s=i:(o=Ql((.4360747*e+.3850649*n+.1430804*r)/ug),s=Ql((.0139322*e+.0971045*n+.7141733*r)/lg)),new fn(116*i-16,500*(o-i),200*(i-s),t.opacity)}function ql(t,e,n,r){return arguments.length===1?dg(t):new fn(t,e,n,r??1)}function fn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Oi(fn,ql,hs(ir,{brighter(t){return new fn(this.l+cu*(t??1),this.a,this.b,this.opacity)},darker(t){return new fn(this.l-cu*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ug*Zl(e),t=cg*Zl(t),n=lg*Zl(n),new Qt(Yl(3.1338561*e-1.6168667*t-.4906146*n),Yl(-.9787684*e+1.9161415*t+.033454*n),Yl(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ql(t){return t>K5?Math.pow(t,1/3):t/fg+hg}function Zl(t){return t>Ui?t*t*t:fg*(t-hg)}function Yl(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Wl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function J5(t){if(t instanceof Tn)return new Tn(t.h,t.c,t.l,t.opacity);if(t instanceof fn||(t=dg(t)),t.a===0&&t.b===0)return new Tn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ag;return new Tn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xl(t,e,n,r){return arguments.length===1?J5(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function pg(t){if(isNaN(t.h))return new fn(t.l,0,0,t.opacity);var e=t.h*sg;return new fn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Oi(Tn,Xl,hs(ir,{brighter(t){return new Tn(this.h,this.c,this.l+cu*(t??1),this.opacity)},darker(t){return new Tn(this.h,this.c,this.l-cu*(t??1),this.opacity)},rgb(){return pg(this).rgb()}}));var gg=-.14861,Kl=1.78277,Jl=-.29227,lu=-.90649,ds=1.97294,mg=ds*lu,bg=ds*Kl,yg=Kl*Jl-lu*gg;function $5(t){if(t instanceof Zr)return new Zr(t.h,t.s,t.l,t.opacity);t instanceof Qt||(t=Hl(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(yg*r+mg*e-bg*n)/(yg+mg-bg),o=r-i,s=(ds*(n-i)-Jl*o)/lu,a=Math.sqrt(s*s+o*o)/(ds*i*(1-i)),c=a?Math.atan2(s,o)*ag-120:NaN;return new Zr(c<0?c+360:c,a,i,t.opacity)}function $l(t,e,n,r){return arguments.length===1?$5(t):new Zr(t,e,n,r??1)}function Zr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Oi(Zr,$l,hs(ir,{brighter(t){return t=t==null?Ni:Math.pow(Ni,t),new Zr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jr:Math.pow(jr,t),new Zr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*sg,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Qt(255*(e+n*(gg*r+Kl*i)),255*(e+n*(Jl*r+lu*i)),255*(e+n*(ds*r)),this.opacity)}}));function vg(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function wg(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return vg((n-r/e)*e,s,i,o,a)}}function Ag(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return vg((n-r/e)*e,i,o,s,a)}}const hu=t=>()=>t;function xg(t,e){return function(n){return t+n*e}}function t6(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fu(t,e){var n=e-t;return n?xg(t,n>180||n<-180?n-360*Math.round(n/360):n):hu(isNaN(t)?e:t)}function e6(t){return(t=+t)==1?Zt:function(e,n){return n-e?t6(e,n,t):hu(isNaN(e)?n:e)}}function Zt(t,e){var n=e-t;return n?xg(t,n):hu(isNaN(t)?e:t)}const th=function t(e){var n=e6(e);function r(i,o){var s=n((i=su(i)).r,(o=su(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=Zt(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function Eg(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=su(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var n6=Eg(wg),r6=Eg(Ag);function eh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Cg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i6(t,e){return(Cg(e)?eh:Sg)(t,e)}function Sg(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=or(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Bg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kg(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=or(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var nh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rh=new RegExp(nh.source,"g");function o6(t){return function(){return t}}function s6(t){return function(e){return t(e)+""}}function Dg(t,e){var n=nh.lastIndex=rh.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=nh.exec(t))&&(i=rh.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:Qe(r,i)})),n=rh.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?s6(c[0].x):o6(e):(e=c.length,function(u){for(var l=0,h;l<e;++l)a[(h=c[l]).i]=h.x(u);return a.join("")})}function or(t,e){var n=typeof e,r;return e==null||n==="boolean"?hu(e):(n==="number"?Qe:n==="string"?(r=Vr(e))?(e=r,th):Dg:e instanceof Vr?th:e instanceof Date?Bg:Cg(e)?eh:Array.isArray(e)?Sg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kg:Qe)(t,e)}function a6(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function u6(t,e){var n=fu(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ps(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ig=180/Math.PI,Fg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pg(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ig,skewX:Math.atan(c)*Ig,scaleX:s,scaleY:a}}var du;function c6(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Fg:Pg(e.a,e.b,e.c,e.d,e.e,e.f)}function l6(t){return t==null||(du||(du=document.createElementNS("http://www.w3.org/2000/svg","g")),du.setAttribute("transform",t),!(t=du.transform.baseVal.consolidate()))?Fg:(t=t.matrix,Pg(t.a,t.b,t.c,t.d,t.e,t.f))}function Tg(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,h,f,d,g){if(u!==h||l!==f){var b=d.push("translate(",null,e,null,n);g.push({i:b-4,x:Qe(u,h)},{i:b-2,x:Qe(l,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function s(u,l,h,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Qe(u,l)})):l&&h.push(i(h)+"rotate("+l+r)}function a(u,l,h,f){u!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Qe(u,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(u,l,h,f,d,g){if(u!==h||l!==f){var b=d.push(i(d)+"scale(",null,",",null,")");g.push({i:b-4,x:Qe(u,h)},{i:b-2,x:Qe(l,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,l){var h=[],f=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,h,f),s(u.rotate,l.rotate,h,f),a(u.skewX,l.skewX,h,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,h,f),u=l=null,function(d){for(var g=-1,b=f.length,w;++g<b;)h[(w=f[g]).i]=w.x(d);return h.join("")}}}var h6=Tg(c6,"px, ","px)","deg)"),f6=Tg(l6,", ",")",")"),d6=1e-12;function zg(t){return((t=Math.exp(t))+1/t)/2}function p6(t){return((t=Math.exp(t))-1/t)/2}function g6(t){return((t=Math.exp(2*t))-1)/(t+1)}const Mg=function t(e,n,r){function i(o,s){var a=o[0],c=o[1],u=o[2],l=s[0],h=s[1],f=s[2],d=l-a,g=h-c,b=d*d+g*g,w,A;if(b<d6)A=Math.log(f/u)/e,w=function(S){return[a+S*d,c+S*g,u*Math.exp(e*S*A)]};else{var B=Math.sqrt(b),E=(f*f-u*u+r*b)/(2*u*n*B),C=(f*f-u*u-r*b)/(2*f*n*B),T=Math.log(Math.sqrt(E*E+1)-E),F=Math.log(Math.sqrt(C*C+1)-C);A=(F-T)/e,w=function(S){var O=S*A,x=zg(T),I=u/(n*B)*(x*g6(e*O+T)-p6(T));return[a+I*d,c+I*g,u*x/zg(e*O+T)]}}return w.duration=A*1e3*e/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return t(s,a,c)},i}(Math.SQRT2,2,4);function _g(t){return function(e,n){var r=t((e=jl(e)).h,(n=jl(n)).h),i=Zt(e.s,n.s),o=Zt(e.l,n.l),s=Zt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const m6=_g(fu);var b6=_g(Zt);function y6(t,e){var n=Zt((t=ql(t)).l,(e=ql(e)).l),r=Zt(t.a,e.a),i=Zt(t.b,e.b),o=Zt(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=o(s),t+""}}function Rg(t){return function(e,n){var r=t((e=Xl(e)).h,(n=Xl(n)).h),i=Zt(e.c,n.c),o=Zt(e.l,n.l),s=Zt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=o(a),e.opacity=s(a),e+""}}}const v6=Rg(fu);var w6=Rg(Zt);function Og(t){return function e(n){n=+n;function r(i,o){var s=t((i=$l(i)).h,(o=$l(o)).h),a=Zt(i.s,o.s),c=Zt(i.l,o.l),u=Zt(i.opacity,o.opacity);return function(l){return i.h=s(l),i.s=a(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=e,r}(1)}const A6=Og(fu);var x6=Og(Zt);function ih(t,e){e===void 0&&(e=t,t=or);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function E6(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const C6=Object.freeze(Object.defineProperty({__proto__:null,interpolate:or,interpolateArray:i6,interpolateBasis:wg,interpolateBasisClosed:Ag,interpolateCubehelix:A6,interpolateCubehelixLong:x6,interpolateDate:Bg,interpolateDiscrete:a6,interpolateHcl:v6,interpolateHclLong:w6,interpolateHsl:m6,interpolateHslLong:b6,interpolateHue:u6,interpolateLab:y6,interpolateNumber:Qe,interpolateNumberArray:eh,interpolateObject:kg,interpolateRgb:th,interpolateRgbBasis:n6,interpolateRgbBasisClosed:r6,interpolateRound:ps,interpolateString:Dg,interpolateTransformCss:h6,interpolateTransformSvg:f6,interpolateZoom:Mg,piecewise:ih,quantize:E6},Symbol.toStringTag,{value:"Module"}));function S6(t){return function(){return t}}function oh(t){return+t}var Ng=[0,1];function me(t){return t}function sh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:S6(isNaN(e)?NaN:.5)}function B6(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function k6(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=sh(i,r),o=n(s,o)):(r=sh(r,i),o=n(o,s)),function(a){return o(r(a))}}function D6(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=sh(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=Di(t,a,1,r)-1;return o[c](i[c](a))}}function gs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pu(){var t=Ng,e=Ng,n=or,r,i,o,s=me,a,c,u;function l(){var f=Math.min(t.length,e.length);return s!==me&&(s=B6(t[0],t[f-1])),a=f>2?D6:k6,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=a(t.map(r),e,n)))(r(s(f)))}return h.invert=function(f){return s(i((u||(u=a(e,t.map(r),Qe)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,oh),l()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=ps,l()},h.clamp=function(f){return arguments.length?(s=f?!0:me,l()):s!==me},h.interpolate=function(f){return arguments.length?(n=f,l()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,l()}}function Lg(){return pu()(me,me)}function Ug(t,e,n,r){var i=Rr(t,e,n),o;switch(r=Kn(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=tp(i,s))&&(r.precision=o),ml(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ep(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$0(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xt(r)}function Yr(t){var e=t.domain;return t.ticks=function(n){var r=e();return Va(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Ug(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,l=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);l-- >0;){if(u=q0(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Gg(){var t=Lg();return t.copy=function(){return gs(t,Gg())},ln.apply(t,arguments),Yr(t)}function Hg(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,oh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Hg(t).unknown(e)},t=arguments.length?Array.from(t,oh):[0,1],Yr(n)}function jg(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Vg(t){return Math.log(t)}function qg(t){return Math.exp(t)}function I6(t){return-Math.log(-t)}function F6(t){return-Math.exp(-t)}function P6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T6(t){return t===10?P6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function z6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qg(t){return(e,n)=>-t(-e,n)}function ah(t){const e=t(Vg,qg),n=e.domain;let r=10,i,o;function s(){return i=z6(r),o=T6(r),n()[0]<0?(i=Qg(i),o=Qg(o),t(I6,F6)):t(Vg,qg),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const c=n();let u=c[0],l=c[c.length-1];const h=l<u;h&&([u,l]=[l,u]);let f=i(u),d=i(l),g,b;const w=a==null?10:+a;let A=[];if(!(r%1)&&d-f<w){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(g=1;g<r;++g)if(b=f<0?g/o(-f):g*o(f),!(b<u)){if(b>l)break;A.push(b)}}else for(;f<=d;++f)for(g=r-1;g>=1;--g)if(b=f>0?g/o(-f):g*o(f),!(b<u)){if(b>l)break;A.push(b)}A.length*2<w&&(A=Va(u,l,w))}else A=Va(f,d,Math.min(d-f,w)).map(o);return h?A.reverse():A},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Kn(c)).precision==null&&(c.trim=!0),c=Xt(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=u?c(l):""}},e.nice=()=>n(jg(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function uh(){const t=ah(pu()).domain([1,10]);return t.copy=()=>gs(t,uh()).base(t.base()),ln.apply(t,arguments),t}function Zg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Yg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ch(t){var e=1,n=t(Zg(e),Yg(e));return n.constant=function(r){return arguments.length?t(Zg(e=+r),Yg(e)):e},Yr(n)}function Wg(){var t=ch(pu());return t.copy=function(){return gs(t,Wg()).constant(t.constant())},ln.apply(t,arguments)}function Xg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function M6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _6(t){return t<0?-t*t:t*t}function lh(t){var e=t(me,me),n=1;function r(){return n===1?t(me,me):n===.5?t(M6,_6):t(Xg(n),Xg(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yr(e)}function hh(){var t=lh(pu());return t.copy=function(){return gs(t,hh()).exponent(t.exponent())},ln.apply(t,arguments),t}function R6(){return hh.apply(null,arguments).exponent(.5)}function Kg(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Q0(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Di(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Vo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Kg().domain(t).range(e).unknown(r)},ln.apply(o,arguments)}function Jg(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Di(r,c,0,n)]:o}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Jg().domain([t,e]).range(i).unknown(o)},ln.apply(Yr(s),arguments)}function $g(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Di(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $g().domain(t).range(e).unknown(n)},ln.apply(i,arguments)}function O6(t){return new Date(t)}function N6(t){return t instanceof Date?+t:+new Date(+t)}function fh(t,e,n,r,i,o,s,a,c,u){var l=Lg(),h=l.invert,f=l.domain,d=u(".%L"),g=u(":%S"),b=u("%I:%M"),w=u("%I %p"),A=u("%a %d"),B=u("%b %d"),E=u("%B"),C=u("%Y");function T(F){return(c(F)<F?d:a(F)<F?g:s(F)<F?b:o(F)<F?w:r(F)<F?i(F)<F?A:B:n(F)<F?E:C)(F)}return l.invert=function(F){return new Date(h(F))},l.domain=function(F){return arguments.length?f(Array.from(F,N6)):f().map(O6)},l.ticks=function(F){var S=f();return t(S[0],S[S.length-1],F??10)},l.tickFormat=function(F,S){return S==null?T:u(S)},l.nice=function(F){var S=f();return(!F||typeof F.range!="function")&&(F=e(S[0],S[S.length-1],F??10)),F?f(jg(S,F)):l},l.copy=function(){return gs(l,fh(t,e,n,r,i,o,s,a,c,u))},l}function L6(){return ln.apply(fh(WA,XA,$n,Xa,Qo,Nr,El,xl,Jn,Pl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U6(){return ln.apply(fh(ZA,YA,tr,Ja,Zo,Ur,Bl,Sl,Jn,Tl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gu(){var t=0,e=1,n,r,i,o,s=me,a=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function l(h){return function(f){var d,g;return arguments.length?([d,g]=f,s=h(d,g),u):[s(0),s(1)]}}return u.range=l(or),u.rangeRound=l(ps),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function sr(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dh(){var t=Yr(gu()(me));return t.copy=function(){return sr(t,dh())},rr.apply(t,arguments)}function t1(){var t=ah(gu()).domain([1,10]);return t.copy=function(){return sr(t,t1()).base(t.base())},rr.apply(t,arguments)}function e1(){var t=ch(gu());return t.copy=function(){return sr(t,e1()).constant(t.constant())},rr.apply(t,arguments)}function ph(){var t=lh(gu());return t.copy=function(){return sr(t,ph()).exponent(t.exponent())},rr.apply(t,arguments)}function G6(){return ph.apply(null,arguments).exponent(.5)}function mu(){var t=0,e=.5,n=1,r=1,i,o,s,a,c,u=me,l,h=!1,f;function d(b){return isNaN(b=+b)?f:(b=.5+((b=+l(b))-o)*(r*b<r*o?a:c),u(h?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([t,e,n]=b,i=l(t=+t),o=l(e=+e),s=l(n=+n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(b){return arguments.length?(h=!!b,d):h},d.interpolator=function(b){return arguments.length?(u=b,d):u};function g(b){return function(w){var A,B,E;return arguments.length?([A,B,E]=w,u=ih(b,[A,B,E]),d):[u(0),u(.5),u(1)]}}return d.range=g(or),d.rangeRound=g(ps),d.unknown=function(b){return arguments.length?(f=b,d):f},function(b){return l=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,d}}function n1(){var t=Yr(mu()(me));return t.copy=function(){return sr(t,n1())},rr.apply(t,arguments)}function r1(){var t=ah(mu()).domain([.1,1,10]);return t.copy=function(){return sr(t,r1()).base(t.base())},rr.apply(t,arguments)}function i1(){var t=ch(mu());return t.copy=function(){return sr(t,i1()).constant(t.constant())},rr.apply(t,arguments)}function gh(){var t=lh(mu());return t.copy=function(){return sr(t,gh()).exponent(t.exponent())},rr.apply(t,arguments)}function H6(){return gh.apply(null,arguments).exponent(.5)}function mh(t,e,n){const r=t-e+n*2;return t?r>0?r:1:0}const j6="identity",Gi="linear",ar="log",ms="pow",bs="sqrt",bu="symlog",o1="time",s1="utc",dn="sequential",Hi="diverging",bh="quantile",a1="quantize",u1="threshold",yh="ordinal",vh="point",c1="band",wh="bin-ordinal",Lt="continuous",ys="discrete",vs="discretizing",Pe="interpolating",l1="temporal";function V6(t){return function(e){let n=e[0],r=e[1],i;return r<n&&(i=n,n=r,r=i),[t.invert(n),t.invert(r)]}}function q6(t){return function(e){const n=t.range();let r=e[0],i=e[1],o=-1,s,a,c,u;for(i<r&&(a=r,r=i,i=a),c=0,u=n.length;c<u;++c)n[c]>=r&&n[c]<=i&&(o<0&&(o=c),s=c);if(!(o<0))return r=t.invertExtent(n[o]),i=t.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Ah(){const t=Gl().unknown(void 0),e=t.domain,n=t.range;let r=[0,1],i,o,s=!1,a=0,c=0,u=.5;delete t.unknown;function l(){const h=e().length,f=r[1]<r[0],d=r[1-f],g=mh(h,a,c);let b=r[f-0];i=(d-b)/(g||1),s&&(i=Math.floor(i)),b+=(d-b-i*(h-a))*u,o=i*(1-a),s&&(b=Math.round(b),o=Math.round(o));const w=qo(h).map(A=>b+i*A);return n(f?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),l()):e()},t.range=function(h){return arguments.length?(r=[+h[0],+h[1]],l()):r.slice()},t.rangeRound=function(h){return r=[+h[0],+h[1]],s=!0,l()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(s=!!h,l()):s},t.padding=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),a=c,l()):a},t.paddingInner=function(h){return arguments.length?(a=Math.max(0,Math.min(1,h)),l()):a},t.paddingOuter=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),l()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),l()):u},t.invertRange=function(h){if(h[0]==null||h[1]==null)return;const f=r[1]<r[0],d=f?n().reverse():n(),g=d.length-1;let b=+h[0],w=+h[1],A,B,E;if(!(b!==b||w!==w)&&(w<b&&(E=b,b=w,w=E),!(w<d[0]||b>r[1-f])))return A=Math.max(0,ll(d,b)-1),B=b===w?A:ll(d,w)-1,b-d[A]>o+1e-10&&++A,f&&(E=A,A=g-B,B=g-E),A>B?void 0:e().slice(A,B+1)},t.invert=function(h){const f=t.invertRange([h,h]);return f&&f[0]},t.copy=function(){return Ah().domain(e()).range(r).round(s).paddingInner(a).paddingOuter(c).align(u)},l()}function h1(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return h1(e())},t}function Q6(){return h1(Ah().paddingInner(1))}var Z6=Array.prototype.map;function Y6(t){return Z6.call(t,Ho)}const W6=Array.prototype.slice;function f1(){let t=[],e=[];function n(r){return r==null||r!==r?void 0:e[(Di(t,r)-1)%e.length]}return n.domain=function(r){return arguments.length?(t=Y6(r),n):t.slice()},n.range=function(r){return arguments.length?(e=W6.call(r),n):e.slice()},n.tickFormat=function(r,i){return Ug(t[0],Ve(t),r??10,i)},n.copy=function(){return f1().domain(n.domain()).range(n.range())},n}const yu={};function X6(t,e,n){const r=function(){const i=e();return i.invertRange||(i.invertRange=i.invert?V6(i):i.invertExtent?q6(i):void 0),i.type=t,i};return r.metadata=Ga(ol(n)),r}function ct(t,e,n){return arguments.length>1?(yu[t]=X6(t,e,n),this):K6(t)?yu[t]:void 0}ct(j6,Hg),ct(Gi,Gg,Lt),ct(ar,uh,[Lt,ar]),ct(ms,hh,Lt),ct(bs,R6,Lt),ct(bu,Wg,Lt),ct(o1,L6,[Lt,l1]),ct(s1,U6,[Lt,l1]),ct(dn,dh,[Lt,Pe]),ct("".concat(dn,"-").concat(Gi),dh,[Lt,Pe]),ct("".concat(dn,"-").concat(ar),t1,[Lt,Pe,ar]),ct("".concat(dn,"-").concat(ms),ph,[Lt,Pe]),ct("".concat(dn,"-").concat(bs),G6,[Lt,Pe]),ct("".concat(dn,"-").concat(bu),e1,[Lt,Pe]),ct("".concat(Hi,"-").concat(Gi),n1,[Lt,Pe]),ct("".concat(Hi,"-").concat(ar),r1,[Lt,Pe,ar]),ct("".concat(Hi,"-").concat(ms),gh,[Lt,Pe]),ct("".concat(Hi,"-").concat(bs),H6,[Lt,Pe]),ct("".concat(Hi,"-").concat(bu),i1,[Lt,Pe]),ct(bh,Kg,[vs,bh]),ct(a1,Jg,vs),ct(u1,$g,vs),ct(wh,f1,[ys,vs]),ct(yh,Gl,ys),ct(c1,Ah,ys),ct(vh,Q6,ys);function K6(t){return Mr(yu,t)}function ws(t,e){const n=yu[t];return n&&n.metadata[e]}function Ee(t){return ws(t,Lt)}function Wr(t){return ws(t,ys)}function ji(t){return ws(t,vs)}function d1(t){return ws(t,ar)}function vu(t){return ws(t,Pe)}function J6(t,e){const n=e[0],r=Ve(e)-n;return function(i){return t(n+i*r)}}function wu(t,e,n){return ih(p1(e||"rgb",n),t)}function $6(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function p1(t,e){const n=C6[t4(t)];return e!=null&&n&&n.gamma?n.gamma(e):n}function t4(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const e4={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},n4={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function g1(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}function m1(t,e){for(const n in t)xh(n,e(t[n]))}const b1={};m1(n4,g1),m1(e4,t=>wu(g1(t)));function xh(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(b1[t]=e,this):b1[t]}function r4(t,e){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}function Eh(t,e){return t.length==e.length&&t.every((n,r)=>t[r]===e[r])}function pn(t){return Array.isArray(t)?t:typeof t<"u"?[t]:[]}function Vi(t){return t[t.length-1]}class i4{constructor(e){this.container=e,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(e){e!=this._visible&&(this.element.style.display=e?null:"none",this._visible=e)}get visible(){return this._visible}get enabled(){return Vi(this.enabledStack)??!0}pushEnabledState(e){this.enabledStack.push(e),e||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(e){this.mouseCoords=r4(this.container,e);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&o4(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[e,n]=this.mouseCoords;let r=e+20;r>this.container.clientWidth-this.element.offsetWidth&&(r=e-20-this.element.offsetWidth),this.element.style.left=r+"px",this.element.style.top=Math.min(n+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(e){if(!e||!this.enabled||this._isPenalty()){this.visible&&(Wp("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}Wp(e,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(e,n){e!==this._previousTooltipDatum&&(this._previousTooltipDatum=e,n||(n=r=>Promise.resolve(nr`${JSON.stringify(r)}`)),n(e).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function o4(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}const s4="RawCode",a4="Literal",u4="Property",c4="Identifier",l4="ArrayExpression",h4="BinaryExpression",f4="CallExpression",d4="ConditionalExpression",p4="LogicalExpression",g4="MemberExpression",m4="ObjectExpression",b4="UnaryExpression";function Ze(t){this.type=t}Ze.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=y4(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};function y4(t){switch(t.type){case l4:return t.elements;case h4:case p4:return[t.left,t.right];case f4:return[t.callee].concat(t.arguments);case d4:return[t.test,t.consequent,t.alternate];case g4:return[t.object,t.property];case m4:return t.properties;case u4:return[t.key,t.value];case b4:return[t.argument];case c4:case a4:case s4:default:return[]}}var gn,q,M,ne,lt,Au=1,As=2,Xr=3,ur=4,xu=5,Kr=6,be=7,xs=8,v4=9;gn={},gn[Au]="Boolean",gn[As]="<end>",gn[Xr]="Identifier",gn[ur]="Keyword",gn[xu]="Null",gn[Kr]="Numeric",gn[be]="Punctuator",gn[xs]="String",gn[v4]="RegularExpression";var w4="ArrayExpression",A4="BinaryExpression",x4="CallExpression",E4="ConditionalExpression",y1="Identifier",C4="Literal",S4="LogicalExpression",B4="MemberExpression",k4="ObjectExpression",D4="Property",I4="UnaryExpression",Yt="Unexpected token %0",F4="Unexpected number",P4="Unexpected string",T4="Unexpected identifier",z4="Unexpected reserved word",M4="Unexpected end of input",Ch="Invalid regular expression",Sh="Invalid regular expression: missing /",v1="Octal literals are not allowed in strict mode.",_4="Duplicate data property in object literal not allowed in strict mode",Kt="ILLEGAL",Es="Disabled.",R4=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),O4=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Eu(t,e){if(!t)throw new Error("ASSERT: "+e)}function zn(t){return t>=48&&t<=57}function Bh(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Cs(t){return"01234567".indexOf(t)>=0}function N4(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function Ss(t){return t===10||t===13||t===8232||t===8233}function Bs(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&R4.test(String.fromCharCode(t))}function Cu(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&O4.test(String.fromCharCode(t))}const L4={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function w1(){for(;M<ne;){const t=q.charCodeAt(M);if(N4(t)||Ss(t))++M;else break}}function kh(t){var e,n,r,i=0;for(n=t==="u"?4:2,e=0;e<n;++e)M<ne&&Bh(q[M])?(r=q[M++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):st({},Yt,Kt);return String.fromCharCode(i)}function U4(){var t,e,n,r;for(t=q[M],e=0,t==="}"&&st({},Yt,Kt);M<ne&&(t=q[M++],!!Bh(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&st({},Yt,Kt),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(n,r))}function A1(){var t,e;for(t=q.charCodeAt(M++),e=String.fromCharCode(t),t===92&&(q.charCodeAt(M)!==117&&st({},Yt,Kt),++M,t=kh("u"),(!t||t==="\\"||!Bs(t.charCodeAt(0)))&&st({},Yt,Kt),e=t);M<ne&&(t=q.charCodeAt(M),!!Cu(t));)++M,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),q.charCodeAt(M)!==117&&st({},Yt,Kt),++M,t=kh("u"),(!t||t==="\\"||!Cu(t.charCodeAt(0)))&&st({},Yt,Kt),e+=t);return e}function G4(){var t,e;for(t=M++;M<ne;){if(e=q.charCodeAt(M),e===92)return M=t,A1();if(Cu(e))++M;else break}return q.slice(t,M)}function H4(){var t,e,n;return t=M,e=q.charCodeAt(M)===92?A1():G4(),e.length===1?n=Xr:L4.hasOwnProperty(e)?n=ur:e==="null"?n=xu:e==="true"||e==="false"?n=Au:n=Xr,{type:n,value:e,start:t,end:M}}function Dh(){var t=M,e=q.charCodeAt(M),n,r=q[M],i,o,s;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++M,{type:be,value:String.fromCharCode(e),start:t,end:M};default:if(n=q.charCodeAt(M+1),n===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return M+=2,{type:be,value:String.fromCharCode(e)+String.fromCharCode(n),start:t,end:M};case 33:case 61:return M+=2,q.charCodeAt(M)===61&&++M,{type:be,value:q.slice(t,M),start:t,end:M}}}if(s=q.substr(M,4),s===">>>=")return M+=4,{type:be,value:s,start:t,end:M};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return M+=3,{type:be,value:o,start:t,end:M};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return M+=2,{type:be,value:i,start:t,end:M};if(i==="//"&&st({},Yt,Kt),"<>=!+-*%&|^/".indexOf(r)>=0)return++M,{type:be,value:r,start:t,end:M};st({},Yt,Kt)}function j4(t){let e="";for(;M<ne&&Bh(q[M]);)e+=q[M++];return e.length===0&&st({},Yt,Kt),Bs(q.charCodeAt(M))&&st({},Yt,Kt),{type:Kr,value:parseInt("0x"+e,16),start:t,end:M}}function V4(t){let e="0"+q[M++];for(;M<ne&&Cs(q[M]);)e+=q[M++];return(Bs(q.charCodeAt(M))||zn(q.charCodeAt(M)))&&st({},Yt,Kt),{type:Kr,value:parseInt(e,8),octal:!0,start:t,end:M}}function x1(){var t,e,n;if(n=q[M],Eu(zn(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),e=M,t="",n!=="."){if(t=q[M++],n=q[M],t==="0"){if(n==="x"||n==="X")return++M,j4(e);if(Cs(n))return V4(e);n&&zn(n.charCodeAt(0))&&st({},Yt,Kt)}for(;zn(q.charCodeAt(M));)t+=q[M++];n=q[M]}if(n==="."){for(t+=q[M++];zn(q.charCodeAt(M));)t+=q[M++];n=q[M]}if(n==="e"||n==="E")if(t+=q[M++],n=q[M],(n==="+"||n==="-")&&(t+=q[M++]),zn(q.charCodeAt(M)))for(;zn(q.charCodeAt(M));)t+=q[M++];else st({},Yt,Kt);return Bs(q.charCodeAt(M))&&st({},Yt,Kt),{type:Kr,value:parseFloat(t),start:e,end:M}}function q4(){var t="",e,n,r,i,o=!1;for(e=q[M],Eu(e==="'"||e==='"',"String literal must starts with a quote"),n=M,++M;M<ne;)if(r=q[M++],r===e){e="";break}else if(r==="\\")if(r=q[M++],!r||!Ss(r.charCodeAt(0)))switch(r){case"u":case"x":q[M]==="{"?(++M,t+=U4()):t+=kh(r);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:Cs(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),M<ne&&Cs(q[M])&&(o=!0,i=i*8+"01234567".indexOf(q[M++]),"0123".indexOf(r)>=0&&M<ne&&Cs(q[M])&&(i=i*8+"01234567".indexOf(q[M++]))),t+=String.fromCharCode(i)):t+=r;break}else r==="\r"&&q[M]===`
`&&++M;else{if(Ss(r.charCodeAt(0)))break;t+=r}return e!==""&&st({},Yt,Kt),{type:xs,value:t,octal:o,start:n,end:M}}function Q4(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";st({},Ch)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{st({},Ch)}try{return new RegExp(t,e)}catch{return null}}function Z4(){var t,e,n,r,i;for(t=q[M],Eu(t==="/","Regular expression literal must start with a slash"),e=q[M++],n=!1,r=!1;M<ne;)if(t=q[M++],e+=t,t==="\\")t=q[M++],Ss(t.charCodeAt(0))&&st({},Sh),e+=t;else if(Ss(t.charCodeAt(0)))st({},Sh);else if(n)t==="]"&&(n=!1);else if(t==="/"){r=!0;break}else t==="["&&(n=!0);return r||st({},Sh),i=e.substr(1,e.length-2),{value:i,literal:e}}function Y4(){var t,e,n;for(e="",n="";M<ne&&(t=q[M],!!Cu(t.charCodeAt(0)));)++M,t==="\\"&&M<ne?st({},Yt,Kt):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&st({},Ch,n),{value:n,literal:e}}function W4(){var t,e,n,r;return lt=null,w1(),t=M,e=Z4(),n=Y4(),r=Q4(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:M}}function X4(t){return t.type===Xr||t.type===ur||t.type===Au||t.type===xu}function E1(){if(w1(),M>=ne)return{type:As,start:M,end:M};const t=q.charCodeAt(M);return Bs(t)?H4():t===40||t===41||t===59?Dh():t===39||t===34?q4():t===46?zn(q.charCodeAt(M+1))?x1():Dh():zn(t)?x1():Dh()}function ye(){const t=lt;return M=t.end,lt=E1(),M=t.end,t}function C1(){const t=M;lt=E1(),M=t}function K4(t){const e=new Ze(w4);return e.elements=t,e}function S1(t,e,n){const r=new Ze(t==="||"||t==="&&"?S4:A4);return r.operator=t,r.left=e,r.right=n,r}function J4(t,e){const n=new Ze(x4);return n.callee=t,n.arguments=e,n}function $4(t,e,n){const r=new Ze(E4);return r.test=t,r.consequent=e,r.alternate=n,r}function Ih(t){const e=new Ze(y1);return e.name=t,e}function ks(t){const e=new Ze(C4);return e.value=t.value,e.raw=q.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function B1(t,e,n){const r=new Ze(B4);return r.computed=t==="[",r.object=e,r.property=n,r.computed||(n.member=!0),r}function t8(t){const e=new Ze(k4);return e.properties=t,e}function k1(t,e,n){const r=new Ze(D4);return r.key=e,r.value=n,r.kind=t,r}function e8(t,e){const n=new Ze(I4);return n.operator=t,n.argument=e,n.prefix=!0,n}function st(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(o,s)=>(Eu(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=M,n.description=i,n}function Su(t){t.type===As&&st(t,M4),t.type===Kr&&st(t,F4),t.type===xs&&st(t,P4),t.type===Xr&&st(t,T4),t.type===ur&&st(t,z4),st(t,Yt,t.value)}function re(t){const e=ye();(e.type!==be||e.value!==t)&&Su(e)}function wt(t){return lt.type===be&&lt.value===t}function Fh(t){return lt.type===ur&&lt.value===t}function n8(){const t=[];for(M=lt.start,re("[");!wt("]");)wt(",")?(ye(),t.push(null)):(t.push(Jr()),wt("]")||re(","));return ye(),K4(t)}function D1(){M=lt.start;const t=ye();return t.type===xs||t.type===Kr?(t.octal&&st(t,v1),ks(t)):Ih(t.value)}function r8(){var t,e,n,r;if(M=lt.start,t=lt,t.type===Xr)return n=D1(),re(":"),r=Jr(),k1("init",n,r);if(t.type===As||t.type===be)Su(t);else return e=D1(),re(":"),r=Jr(),k1("init",e,r)}function i8(){var t=[],e,n,r,i={},o=String;for(M=lt.start,re("{");!wt("}");)e=r8(),e.key.type===y1?n=e.key.name:n=o(e.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?st({},_4):i[r]=!0,t.push(e),wt("}")||re(",");return re("}"),t8(t)}function o8(){re("(");const t=Ph();return re(")"),t}const s8={if:1};function a8(){var t,e,n;if(wt("("))return o8();if(wt("["))return n8();if(wt("{"))return i8();if(t=lt.type,M=lt.start,t===Xr||s8[lt.value])n=Ih(ye().value);else if(t===xs||t===Kr)lt.octal&&st(lt,v1),n=ks(ye());else{if(t===ur)throw new Error(Es);t===Au?(e=ye(),e.value=e.value==="true",n=ks(e)):t===xu?(e=ye(),e.value=null,n=ks(e)):wt("/")||wt("/=")?(n=ks(W4()),C1()):Su(ye())}return n}function u8(){const t=[];if(re("("),!wt(")"))for(;M<ne&&(t.push(Jr()),!wt(")"));)re(",");return re(")"),t}function c8(){M=lt.start;const t=ye();return X4(t)||Su(t),Ih(t.value)}function l8(){return re("."),c8()}function h8(){re("[");const t=Ph();return re("]"),t}function f8(){var t,e,n;for(t=a8();;)if(wt("."))n=l8(),t=B1(".",t,n);else if(wt("("))e=u8(),t=J4(t,e);else if(wt("["))n=h8(),t=B1("[",t,n);else break;return t}function I1(){const t=f8();if(lt.type===be&&(wt("++")||wt("--")))throw new Error(Es);return t}function Bu(){var t,e;if(lt.type!==be&&lt.type!==ur)e=I1();else{if(wt("++")||wt("--"))throw new Error(Es);if(wt("+")||wt("-")||wt("~")||wt("!"))t=ye(),e=Bu(),e=e8(t.value,e);else{if(Fh("delete")||Fh("void")||Fh("typeof"))throw new Error(Es);e=I1()}}return e}function F1(t){let e=0;if(t.type!==be&&t.type!==ur)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function d8(){var t,e,n,r,i,o,s,a,c,u;if(t=lt,c=Bu(),r=lt,i=F1(r),i===0)return c;for(r.prec=i,ye(),e=[t,lt],s=Bu(),o=[c,r,s];(i=F1(lt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,c=o.pop(),e.pop(),n=S1(a,c,s),o.push(n);r=ye(),r.prec=i,o.push(r),e.push(lt),n=Bu(),o.push(n)}for(u=o.length-1,n=o[u],e.pop();u>1;)e.pop(),n=S1(o[u-1].value,o[u-2],n),u-=2;return n}function Jr(){var t,e,n;return t=d8(),wt("?")&&(ye(),e=Jr(),re(":"),n=Jr(),t=$4(t,e,n)),t}function Ph(){const t=Jr();if(wt(","))throw new Error(Es);return t}function p8(t){q=t,M=0,ne=q.length,lt=null,C1();const e=Ph();if(lt.type!==As)throw new Error("Unexpect token after expression.");return e}var g8={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function m8(t){function e(s,a,c,u){let l=t(a[0]);return c&&(l=c+"("+l+")",c.lastIndexOf("new ",0)===0&&(l="("+l+")")),l+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(t).join(",")+")")}function n(s,a,c){return u=>e(s,u,a,c)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Dt("Missing arguments to clamp function."),s.length>3&&Dt("Too many arguments to clamp function.");const a=s.map(t);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&Dt("Missing arguments to if function."),s.length>3&&Dt("Too many arguments to if function.");const a=s.map(t);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function b8(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function y8(t){t=t||{};const e=t.allowed?Ga(t.allowed):{},n=t.forbidden?Ga(t.forbidden):{},r=t.constants||g8,i=(t.functions||m8)(h),o=t.globalvar,s=t.fieldvar,a=de(o)?o:g=>`${o}["${g}"]`;let c={},u={},l=0;function h(g){if(It(g))return g;const b=f[g.type];return b==null&&Dt("Unsupported type: "+g.type),b(g)}const f={Literal:g=>g.raw,Identifier:g=>{const b=g.name;return l>0?b:Mr(n,b)?Dt("Illegal identifier: "+b):Mr(r,b)?r[b]:Mr(e,b)?b:(c[b]=1,a(b))},MemberExpression:g=>{const b=!g.computed,w=h(g.object);b&&(l+=1);const A=h(g.property);return w===s&&(u[b8(A)]=1),b&&(l-=1),w+(b?"."+A:"["+A+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&Dt("Illegal callee type: "+g.callee.type);const b=g.callee.name,w=g.arguments,A=Mr(i,b)&&i[b];return A||Dt("Unrecognized function: "+b),de(A)?A(w):A+"("+w.map(h).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(h).join(",")+"]",BinaryExpression:g=>"("+h(g.left)+" "+g.operator+" "+h(g.right)+")",UnaryExpression:g=>"("+g.operator+h(g.argument)+")",ConditionalExpression:g=>"("+h(g.test)+"?"+h(g.consequent)+":"+h(g.alternate)+")",LogicalExpression:g=>"("+h(g.left)+g.operator+h(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(h).join(",")+"}",Property:g=>{l+=1;const b=h(g.key);return l-=1,b+":"+h(g.value)}};function d(g){const b={code:h(g),globals:Object.keys(c),fields:Object.keys(u)};return c={},u={},b}return d.functions=i,d.constants=r,d}function Th(t,e={}){const n=y8({forbidden:[],allowed:["datum"],globalvar:"global",fieldvar:"datum"});try{const r=p8(t),i=n(r),o=Function("datum","global",`"use strict"; return (${i.code});`),s=a=>o(a,e);return s.fields=i.fields,s}catch(r){throw new Error(`Invalid expression: ${t}, ${r.message}`)}}function v8(){let t=0;const e=new Map,n=r=>{let i=e.get(r);return i===void 0&&(i=t++,e.set(r,i)),i};return n.addAll=r=>{for(const i of r)n(i)},n.invert=r=>{for(const i of e.entries())if(i[1]==r)return i[0]},n.domain=()=>[...e.keys()],n}function w8(t,e){const n={};e||(e=t.encoding);for(const[r,i]of Object.entries(e)){if(!i)continue;const o=t.unitView.getScaleResolution(Te(i)&&i.resolutionChannel||r);n[r]=A8(e[r],o==null?void 0:o.getScale(),t.unitView.getAccessor(r),r)}return n}function A8(t,e,n,r){let i;if(Ye(t)){const o=t.value;i=s=>o,i.constant=!0,i.constantValue=!0,i.accessor=void 0}else if(n)if(r=="text")i=o=>{},i.accessor=n,i.constant=n.constant;else{if(!e)throw new Error(`Missing scale! "${r}": ${JSON.stringify(t)}`);if(i=o=>e(n(o)),Wr(e.type)){const o=v8();o.addAll(e.domain()),i.indexer=o}i.constant=n.constant,i.accessor=n,i.scale=e}else throw new Error(`Missing value or accessor (field, expr, datum) on channel "${r}": ${JSON.stringify(t)}`);return i.invert=e?o=>e.invert(o):o=>{throw new Error("No scale available, cannot invert: "+JSON.stringify(t))},i.channelDef=t,i.applyMetadata=o=>{for(const s in i)s in i&&(o[s]=i[s]);return o},i}function Ye(t){return t&&"value"in t}function Ds(t){return t&&"field"in t}function Is(t){return t&&"datum"in t}function Te(t){return Ds(t)||Is(t)||Mh(t)||P1(t)}function zh(t,e){const n=t.mark.encoding[e];if(Te(n))return n;throw new Error("Not a channel def with scale!")}function P1(t){return t&&"chrom"in t}function Mh(t){return t&&"expr"in t}const Fs=["x","y"],x8=["x2","y2"],E8=[...Fs,...x8];function T1(t){return Fs.includes(t)}function Ps(t){return E8.includes(t)}const _h={x:"x2",y:"y2"},z1=Object.fromEntries(Object.entries(_h).map(t=>[t[1],t[0]]));function Ts(t){return t in z1}function C8(t){const e=_h[t];if(e)return e;throw new Error(`${t} has no secondary channel!`)}function qi(t){return z1[t]??t}function $r(t){return["color","fill","stroke"].includes(qi(t))}function ku(t){return["shape","squeeze"].includes(t)}function M1(t){switch(t){case"shape":return["circle","square","triangle-up","cross","diamond","triangle-down","triangle-right","triangle-left"]}}function _1(t){if(!ku(t))throw new Error("Not a discrete channel: "+t);const e=new Map(M1(t).map((n,r)=>[n,r]));return n=>{const r=e.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${t}" channel: ${n}`)}}function mt(t,e=t){if(/^[A-Za-z0-9_]+$/.test(t)){const n=new Function("datum",`return datum[${JSON.stringify(t)}]`);return Xn(n,[t],e)}else return Ma(t)}class S8{constructor(){this.accessorCreators=[],this.register(e=>{if(Ds(e))try{const n=mt(e.field);return n.constant=!1,n.fields=D0(n),n}catch(n){throw new Error(`Invalid field definition: ${n.message}`)}}),this.register(e=>Mh(e)?B8(e.expr):void 0),this.register(e=>{if(Is(e)){const n=nA(e.datum);return n.constant=!0,n.fields=[],n}})}register(e){this.accessorCreators.push(e)}createAccessor(e){for(const n of this.accessorCreators){const r=n(e);if(r)return r}}}function B8(t){const e=Th(t);return e.constant=e.fields.length==0,e}/* @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Rh=5120,Oh=5121,Nh=5122,Lh=5123,Uh=5124,Gh=5125,Hh=5126,k8=32819,D8=32820,I8=33635,F8=5131,P8=33640,T8=35899,z8=35902,M8=36269,_8=34042,R1={};{const t=R1;t[Rh]=Int8Array,t[Oh]=Uint8Array,t[Nh]=Int16Array,t[Lh]=Uint16Array,t[Uh]=Int32Array,t[Gh]=Uint32Array,t[Hh]=Float32Array,t[k8]=Uint16Array,t[D8]=Uint16Array,t[I8]=Uint16Array,t[F8]=Uint16Array,t[P8]=Uint32Array,t[T8]=Uint32Array,t[z8]=Uint32Array,t[M8]=Uint32Array,t[_8]=Uint32Array}function jh(t){if(t instanceof Int8Array)return Rh;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return Oh;if(t instanceof Int16Array)return Nh;if(t instanceof Uint16Array)return Lh;if(t instanceof Int32Array)return Uh;if(t instanceof Uint32Array)return Gh;if(t instanceof Float32Array)return Hh;throw new Error("unsupported typed array type")}function R8(t){if(t===Int8Array)return Rh;if(t===Uint8Array||t===Uint8ClampedArray)return Oh;if(t===Int16Array)return Nh;if(t===Uint16Array)return Lh;if(t===Int32Array)return Uh;if(t===Uint32Array)return Gh;if(t===Float32Array)return Hh;throw new Error("unsupported typed array type")}function O8(t){const e=R1[t];if(!e)throw new Error("unknown gl type");return e}const Du=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function N8(...t){console.error(...t)}function O1(...t){console.warn(...t)}function L8(t,e){return typeof WebGLBuffer<"u"&&e instanceof WebGLBuffer}function N1(t,e){return typeof WebGLRenderbuffer<"u"&&e instanceof WebGLRenderbuffer}function Iu(t,e){return typeof WebGLTexture<"u"&&e instanceof WebGLTexture}function U8(t,e){return typeof WebGLSampler<"u"&&e instanceof WebGLSampler}const L1=35044,mn=34962,G8=34963,H8=34660,j8=5120,V8=5121,q8=5122,Q8=5123,Z8=5124,Y8=5125,W8=5126,U1={attribPrefix:""};function G1(t,e,n,r,i){t.bindBuffer(e,n),t.bufferData(e,r,i||L1)}function H1(t,e,n,r){if(L8(t,e))return e;n=n||mn;const i=t.createBuffer();return G1(t,n,i,e,r),i}function j1(t){return t==="indices"}function X8(t){return t instanceof Int8Array||t instanceof Uint8Array}function K8(t){return t===Int8Array||t===Uint8Array}function J8(t){return t.length?t:t.data}const $8=/coord|texture/i,tE=/color|colour/i;function V1(t,e){let n;if($8.test(t)?n=2:tE.test(t)?n=4:n=3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function eE(t,e){return t.numComponents||t.size||V1(e,J8(t).length)}function Vh(t,e){if(Du(t))return t;if(Du(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(j1(e)?n=Uint16Array:n=Float32Array),new n(t.data)}function nE(t,e){const n={};return Object.keys(e).forEach(function(r){if(!j1(r)){const i=e[r],o=i.attrib||i.name||i.attribName||U1.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!Du(i.value))throw new Error("array.value is not array or typedarray");n[o]={value:i.value}}else{let s,a,c,u;if(i.buffer&&i.buffer instanceof WebGLBuffer)s=i.buffer,u=i.numComponents||i.size,a=i.type,c=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const l=i.data||i,h=i.type||Float32Array,f=l*h.BYTES_PER_ELEMENT;a=R8(h),c=i.normalize!==void 0?i.normalize:K8(h),u=i.numComponents||i.size||V1(r,l),s=t.createBuffer(),t.bindBuffer(mn,s),t.bufferData(mn,f,i.drawType||L1)}else{const l=Vh(i,r);s=H1(t,l,void 0,i.drawType),a=jh(l),c=i.normalize!==void 0?i.normalize:X8(l),u=eE(i,r)}n[o]={buffer:s,numComponents:u,type:a,normalize:c,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),t.bindBuffer(mn,null),n}function rE(t,e,n,r){n=Vh(n),r!==void 0?(t.bindBuffer(mn,e.buffer),t.bufferSubData(mn,r,n)):G1(t,mn,e.buffer,n,e.drawType)}function iE(t,e){return e===j8||e===V8?1:e===q8||e===Q8?2:e===Z8||e===Y8||e===W8?4:0}const qh=["position","positions","a_position"];function oE(t,e){let n,r;for(r=0;r<qh.length&&(n=qh[r],!(n in e||(n=U1.attribPrefix+n,n in e)));++r);r===qh.length&&(n=Object.keys(e)[0]);const i=e[n];t.bindBuffer(mn,i.buffer);const o=t.getBufferParameter(mn,H8);t.bindBuffer(mn,null);const s=iE(t,i.type),a=o/s,c=i.numComponents||i.size,u=a/c;if(u%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return u}function sE(t,e,n){const r=nE(t,e),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const o=e.indices;if(o){const s=Vh(o,"indices");i.indices=H1(t,s,G8),i.numElements=s.length,i.elementType=jh(s)}else i.numElements||(i.numElements=oE(t,i.attribs));return i}function Qi(t){return!!t.texStorage2D}const Qh=function(){const t={},e={};function n(r){const i=r.constructor.name;if(!t[i]){for(const o in r)if(typeof r[o]=="number"){const s=e[r[o]];e[r[o]]=s?`${s} | ${o}`:o}t[i]=!0}}return function(r,i){return n(r),e[i]||(typeof i=="number"?`0x${i.toString(16)}`:i)}}(),cr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Zi=Du,q1=function(){let t;return function(){return t=t||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),Q1=6406,bn=6407,Et=6408,Z1=6409,Y1=6410,zs=6402,W1=34041,Fu=33071,aE=9728,uE=9729,Mn=3553,_n=34067,lr=32879,hr=35866,Pu=34069,cE=34070,lE=34071,hE=34072,fE=34073,dE=34074,Zh=10241,Yh=10240,Tu=10242,zu=10243,X1=32882,pE=33082,gE=33083,mE=33084,bE=33085,Wh=3317,K1=3314,J1=32878,$1=3316,tm=3315,em=32877,yE=37443,vE=37441,wE=37440,AE=33321,xE=36756,EE=33325,CE=33326,SE=33330,BE=33329,kE=33338,DE=33337,IE=33340,FE=33339,PE=33323,TE=36757,zE=33327,ME=33328,_E=33336,RE=33335,OE=33332,NE=33331,LE=33334,UE=33333,GE=32849,HE=35905,jE=36194,VE=36758,qE=35898,QE=35901,ZE=34843,YE=34837,WE=36221,XE=36239,KE=36215,JE=36233,$E=36209,tC=36227,eC=32856,nC=35907,rC=36759,iC=32855,oC=32854,sC=32857,aC=34842,uC=34836,cC=36220,lC=36238,hC=36975,fC=36214,dC=36232,pC=36226,gC=36208,mC=33189,bC=33190,yC=36012,vC=36013,wC=35056,fr=5120,Ct=5121,Mu=5122,Yi=5123,_u=5124,ti=5125,ie=5126,nm=32819,rm=32820,im=33635,We=5131,Ms=36193,Xh=33640,AC=35899,xC=35902,EC=36269,CC=34042,Ru=33319,Wi=33320,Ou=6403,Xi=36244,Ki=36248,ei=36249;let Kh;function Nu(t){if(!Kh){const e={};e[Q1]={textureFormat:Q1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ct,We,Ms,ie]},e[Z1]={textureFormat:Z1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ct,We,Ms,ie]},e[Y1]={textureFormat:Y1,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ct,We,Ms,ie]},e[bn]={textureFormat:bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ct,We,Ms,ie,im]},e[Et]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ct,We,Ms,ie,nm,rm]},e[zs]={textureFormat:zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[ti,Yi]},e[AE]={textureFormat:Ou,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ct]},e[xE]={textureFormat:Ou,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[fr]},e[EE]={textureFormat:Ou,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[ie,We]},e[CE]={textureFormat:Ou,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[ie]},e[SE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ct]},e[BE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[fr]},e[OE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Yi]},e[NE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Mu]},e[LE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ti]},e[UE]={textureFormat:Xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_u]},e[PE]={textureFormat:Ru,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ct]},e[TE]={textureFormat:Ru,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[fr]},e[zE]={textureFormat:Ru,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[ie,We]},e[ME]={textureFormat:Ru,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[ie]},e[_E]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ct]},e[RE]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[fr]},e[kE]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Yi]},e[DE]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mu]},e[IE]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ti]},e[FE]={textureFormat:Wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[_u]},e[GE]={textureFormat:bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ct]},e[HE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ct]},e[jE]={textureFormat:bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ct,im]},e[VE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[fr]},e[qE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ie,We,AC]},e[QE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ie,We,xC]},e[ZE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[ie,We]},e[YE]={textureFormat:bn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ie]},e[WE]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ct]},e[XE]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[fr]},e[KE]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Yi]},e[JE]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Mu]},e[$E]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ti]},e[tC]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_u]},e[eC]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ct]},e[nC]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ct]},e[rC]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[fr]},e[iC]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ct,rm,Xh]},e[oC]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ct,nm]},e[sC]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Xh]},e[aC]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[ie,We]},e[uC]={textureFormat:Et,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[ie]},e[cC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ct]},e[lC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[fr]},e[hC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xh]},e[fC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Yi]},e[dC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Mu]},e[pC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[_u]},e[gC]={textureFormat:ei,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[ti]},e[mC]={textureFormat:zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Yi,ti]},e[bC]={textureFormat:zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ti]},e[yC]={textureFormat:zs,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ie]},e[wC]={textureFormat:W1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[CC]},e[vC]={textureFormat:W1,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[EC]},Object.keys(e).forEach(function(n){const r=e[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,o){const s=r.type[o];r.bytesPerElementMap[s]=i})}),Kh=e}return Kh[t]}function SC(t,e){const n=Nu(t);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[e];if(r===void 0)throw"unknown internal format";return r}function Ji(t){const e=Nu(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function om(t){return(t&t-1)===0}function BC(t,e,n,r){if(!Qi(t))return om(e)&&om(n);const i=Nu(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function kC(t){const e=Nu(t);if(!e)throw"unknown internal format";return e.textureFilterable}function sm(t,e,n){return Zi(e)?jh(e):n||Ct}function Lu(t,e,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const o=Math.sqrt(i/(e===_n?6:1));o%1===0?(n=o,r=o):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function $i(t,e){e.colorspaceConversion!==void 0&&t.pixelStorei(yE,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&t.pixelStorei(vE,e.premultiplyAlpha),e.flipY!==void 0&&t.pixelStorei(wE,e.flipY)}function am(t){t.pixelStorei(Wh,4),Qi(t)&&(t.pixelStorei(K1,0),t.pixelStorei(J1,0),t.pixelStorei($1,0),t.pixelStorei(tm,0),t.pixelStorei(em,0))}function DC(t,e,n,r){r.minMag&&(n.call(t,e,Zh,r.minMag),n.call(t,e,Yh,r.minMag)),r.min&&n.call(t,e,Zh,r.min),r.mag&&n.call(t,e,Yh,r.mag),r.wrap&&(n.call(t,e,Tu,r.wrap),n.call(t,e,zu,r.wrap),(e===lr||U8(t,e))&&n.call(t,e,X1,r.wrap)),r.wrapR&&n.call(t,e,X1,r.wrapR),r.wrapS&&n.call(t,e,Tu,r.wrapS),r.wrapT&&n.call(t,e,zu,r.wrapT),r.minLod&&n.call(t,e,pE,r.minLod),r.maxLod&&n.call(t,e,gE,r.maxLod),r.baseLevel&&n.call(t,e,mE,r.baseLevel),r.maxLevel&&n.call(t,e,bE,r.maxLevel)}function um(t,e,n){const r=n.target||Mn;t.bindTexture(r,e),DC(t,r,t.texParameteri,n)}function IC(t){return t=t||cr.textureColor,Zi(t)?t:new Uint8Array([t[0]*255,t[1]*255,t[2]*255,t[3]*255])}function Jh(t,e,n,r,i,o){n=n||cr.textureOptions,o=o||Et;const s=n.target||Mn;if(r=r||n.width,i=i||n.height,t.bindTexture(s,e),BC(t,r,i,o))t.generateMipmap(s);else{const a=kC(o)?uE:aE;t.texParameteri(s,Zh,a),t.texParameteri(s,Yh,a),t.texParameteri(s,Tu,Fu),t.texParameteri(s,zu,Fu)}}function _s(t){return t.auto===!0||t.auto===void 0&&t.level===void 0}function $h(t,e){return e=e||{},e.cubeFaceOrder||[Pu,cE,lE,hE,fE,dE]}function tf(t,e){const n=$h(t,e).map(function(r,i){return{face:r,ndx:i}});return n.sort(function(r,i){return r.face-i.face}),n}function cm(t,e,n,r){r=r||cr.textureOptions;const i=r.target||Mn,o=r.level||0;let s=n.width,a=n.height;const c=r.internalFormat||r.format||Et,u=Ji(c),l=r.format||u.format,h=r.type||u.type;if($i(t,r),t.bindTexture(i,e),i===_n){const f=n.width,d=n.height;let g,b;if(f/6===d)g=d,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===f)g=f,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(f/3===d/2)g=f/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else if(f/2===d/3)g=f/2,b=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const w=q1();w?(w.canvas.width=g,w.canvas.height=g,s=g,a=g,tf(t,r).forEach(function(A){const B=b[A.ndx*2+0]*g,E=b[A.ndx*2+1]*g;w.drawImage(n,B,E,g,g,0,0,g,g),t.texImage2D(A.face,o,c,l,h,w.canvas)}),w.canvas.width=1,w.canvas.height=1):typeof createImageBitmap<"u"&&(s=g,a=g,tf(t,r).forEach(function(A){const B=b[A.ndx*2+0]*g,E=b[A.ndx*2+1]*g;t.texImage2D(A.face,o,c,g,g,0,l,h,null),createImageBitmap(n,B,E,g,g,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(C){$i(t,r),t.bindTexture(i,e),t.texImage2D(A.face,o,c,l,h,C),_s(r)&&Jh(t,e,r,s,a,c)})}))}else if(i===lr||i===hr){const f=Math.min(n.width,n.height),d=Math.max(n.width,n.height),g=d/f;if(g%1!==0)throw"can not compute 3D dimensions of element";const b=n.width===d?1:0,w=n.height===d?1:0;t.pixelStorei(Wh,1),t.pixelStorei(K1,n.width),t.pixelStorei(J1,0),t.pixelStorei(em,0),t.texImage3D(i,o,c,f,f,f,0,l,h,null);for(let A=0;A<g;++A){const B=A*f*b,E=A*f*w;t.pixelStorei($1,B),t.pixelStorei(tm,E),t.texSubImage3D(i,o,0,0,A,f,f,1,l,h,n)}am(t)}else t.texImage2D(i,o,c,l,h,n);_s(r)&&Jh(t,e,r,s,a,c),um(t,e,r)}function Rs(){}function FC(t){if(typeof document<"u"){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}function PC(t,e){return e===void 0&&!FC(t)?"anonymous":e}function TC(t,e,n){n=n||Rs;let r;if(e=e!==void 0?e:cr.crossOrigin,e=PC(t,e),typeof Image<"u"){r=new Image,e!==void 0&&(r.crossOrigin=e);const i=function(){r.removeEventListener("error",o),r.removeEventListener("load",s),r=null},o=function(){const a="couldn't load image: "+t;N8(a),n(a,r),i()},s=function(){n(null,r),i()};return r.addEventListener("error",o),r.addEventListener("load",s),r.src=t,r}else if(typeof ImageBitmap<"u"){let i,o;const s=function(){n(i,o)},a={};e&&(a.mode="cors"),fetch(t,a).then(function(c){if(!c.ok)throw c;return c.blob()}).then(function(c){return createImageBitmap(c,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(c){o=c,setTimeout(s)}).catch(function(c){i=c,setTimeout(s)}),r=null}return r}function lm(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof ImageData<"u"&&t instanceof ImageData||typeof HTMLElement<"u"&&t instanceof HTMLElement}function ef(t,e,n){return lm(t)?(setTimeout(function(){n(null,t)}),t):TC(t,e,n)}function nf(t,e,n){n=n||cr.textureOptions;const r=n.target||Mn;if(t.bindTexture(r,e),n.color===!1)return;const i=IC(n.color);if(r===_n)for(let o=0;o<6;++o)t.texImage2D(Pu+o,0,Et,1,1,0,Et,Ct,i);else r===lr||r===hr?t.texImage3D(r,0,Et,1,1,1,0,Et,Ct,i):t.texImage2D(r,0,Et,1,1,0,Et,Ct,i)}function zC(t,e,n,r){return r=r||Rs,n=n||cr.textureOptions,nf(t,e,n),n=Object.assign({},n),ef(n.src,n.crossOrigin,function(i,o){i?r(i,e,o):(cm(t,e,o,n),r(null,e,o))})}function MC(t,e,n,r){r=r||Rs;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const o=n.level||0,s=n.internalFormat||n.format||Et,a=Ji(s),c=n.format||a.format,u=n.type||Ct,l=n.target||Mn;if(l!==_n)throw"target must be TEXTURE_CUBE_MAP";nf(t,e,n),n=Object.assign({},n);let h=6;const f=[],d=$h(t,n);let g;function b(w){return function(A,B){--h,A?f.push(A):B.width!==B.height?f.push("cubemap face img is not a square: "+B.src):($i(t,n),t.bindTexture(l,e),h===5?$h().forEach(function(E){t.texImage2D(E,o,s,c,u,B)}):t.texImage2D(w,o,s,c,u,B),_s(n)&&t.generateMipmap(l)),h===0&&r(f.length?f:void 0,e,g)}}g=i.map(function(w,A){return ef(w,n.crossOrigin,b(d[A]))})}function _C(t,e,n,r){r=r||Rs;const i=n.src,o=n.internalFormat||n.format||Et,s=Ji(o),a=n.format||s.format,c=n.type||Ct,u=n.target||hr;if(u!==lr&&u!==hr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";nf(t,e,n),n=Object.assign({},n);let l=i.length;const h=[];let f;const d=n.level||0;let g=n.width,b=n.height;const w=i.length;let A=!0;function B(E){return function(C,T){if(--l,C)h.push(C);else{if($i(t,n),t.bindTexture(u,e),A){A=!1,g=n.width||T.width,b=n.height||T.height,t.texImage3D(u,d,o,g,b,w,0,a,c,null);for(let F=0;F<w;++F)t.texSubImage3D(u,d,0,0,F,g,b,1,a,c,T)}else{let F=T,S;(T.width!==g||T.height!==b)&&(S=q1(),F=S.canvas,S.canvas.width=g,S.canvas.height=b,S.drawImage(T,0,0,g,b)),t.texSubImage3D(u,d,0,0,E,g,b,1,a,c,F),S&&F===S.canvas&&(S.canvas.width=0,S.canvas.height=0)}_s(n)&&t.generateMipmap(u)}l===0&&r(h.length?h:void 0,e,f)}}f=i.map(function(E,C){return ef(E,n.crossOrigin,B(C))})}function hm(t,e,n,r){r=r||cr.textureOptions;const i=r.target||Mn;t.bindTexture(i,e);let o=r.width,s=r.height,a=r.depth;const c=r.level||0,u=r.internalFormat||r.format||Et,l=Ji(u),h=r.format||l.format,f=r.type||sm(t,n,l.type);if(Zi(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const w=O8(f);n=new w(n)}const d=SC(u,f),g=n.byteLength/d;if(g%1)throw"length wrong size for format: "+Qh(t,h);let b;if(i===lr||i===hr)if(!o&&!s&&!a){const w=Math.cbrt(g);if(w%1!==0)throw"can't guess cube size of array of numElements: "+g;o=w,s=w,a=w}else o&&(!s||!a)?(b=Lu(t,i,s,a,g/o),s=b.width,a=b.height):s&&(!o||!a)?(b=Lu(t,i,o,a,g/s),o=b.width,a=b.height):(b=Lu(t,i,o,s,g/a),o=b.width,s=b.height);else b=Lu(t,i,o,s,g),o=b.width,s=b.height;if(am(t),t.pixelStorei(Wh,r.unpackAlignment||1),$i(t,r),i===_n){const w=d/n.BYTES_PER_ELEMENT,A=g/6*w;tf(t,r).forEach(B=>{const E=A*B.ndx,C=n.subarray(E,E+A);t.texImage2D(B.face,c,u,o,s,0,h,f,C)})}else i===lr||i===hr?t.texImage3D(i,c,u,o,s,a,0,h,f,n):t.texImage2D(i,c,u,o,s,0,h,f,n);return{width:o,height:s,depth:a,type:f}}function RC(t,e,n){const r=n.target||Mn;t.bindTexture(r,e);const i=n.level||0,o=n.internalFormat||n.format||Et,s=Ji(o),a=n.format||s.format,c=n.type||s.type;if($i(t,n),r===_n)for(let u=0;u<6;++u)t.texImage2D(Pu+u,i,o,n.width,n.height,0,a,c,null);else r===lr||r===hr?t.texImage3D(r,i,o,n.width,n.height,n.depth,0,a,c,null):t.texImage2D(r,i,o,n.width,n.height,0,a,c,null)}function Os(t,e,n){n=n||Rs,e=e||cr.textureOptions;const r=t.createTexture(),i=e.target||Mn;let o=e.width||1,s=e.height||1;const a=e.internalFormat||Et;t.bindTexture(i,r),i===_n&&(t.texParameteri(i,Tu,Fu),t.texParameteri(i,zu,Fu));let c=e.src;if(c)if(typeof c=="function"&&(c=c(t,e)),typeof c=="string")zC(t,r,e,n);else if(Zi(c)||Array.isArray(c)&&(typeof c[0]=="number"||Array.isArray(c[0])||Zi(c[0]))){const u=hm(t,r,c,e);o=u.width,s=u.height}else Array.isArray(c)&&(typeof c[0]=="string"||lm(c[0]))?i===_n?MC(t,r,e,n):_C(t,r,e,n):(cm(t,r,c,e),o=c.width,s=c.height);else RC(t,r,e);return _s(e)&&Jh(t,r,e,o,s,a),um(t,r,e),r}function OC(t,e,n,r,i,o){r=r||n.width,i=i||n.height,o=o||n.depth;const s=n.target||Mn;t.bindTexture(s,e);const a=n.level||0,c=n.internalFormat||n.format||Et,u=Ji(c),l=n.format||u.format;let h;const f=n.src;if(f&&(Zi(f)||Array.isArray(f)&&typeof f[0]=="number")?h=n.type||sm(t,f,u.type):h=n.type||u.type,s===_n)for(let d=0;d<6;++d)t.texImage2D(Pu+d,a,c,r,i,0,l,h,null);else s===lr||s===hr?t.texImage3D(s,a,c,r,i,o,0,l,h,null):t.texImage2D(s,a,c,r,i,0,l,h,null)}const NC=O1,Uu=33984,LC=35048,Gu=34962,UC=34963,rf=35345,fm=35718,GC=35721,HC=35971,jC=35382,VC=35396,qC=35398,QC=35392,ZC=35395,Hu=5126,dm=35664,pm=35665,gm=35666,of=5124,mm=35667,bm=35668,ym=35669,vm=35670,wm=35671,Am=35672,xm=35673,Em=35674,Cm=35675,Sm=35676,YC=35678,WC=35680,XC=35679,KC=35682,JC=35685,$C=35686,t9=35687,e9=35688,n9=35689,r9=35690,i9=36289,o9=36292,s9=36293,sf=5125,Bm=36294,km=36295,Dm=36296,a9=36298,u9=36299,c9=36300,l9=36303,h9=36306,f9=36307,d9=36308,p9=36311,ju=3553,Vu=34067,af=32879,qu=35866,J={};function Im(t,e){return J[e].bindPoint}function g9(t,e){return function(n){t.uniform1f(e,n)}}function m9(t,e){return function(n){t.uniform1fv(e,n)}}function b9(t,e){return function(n){t.uniform2fv(e,n)}}function y9(t,e){return function(n){t.uniform3fv(e,n)}}function v9(t,e){return function(n){t.uniform4fv(e,n)}}function Fm(t,e){return function(n){t.uniform1i(e,n)}}function Pm(t,e){return function(n){t.uniform1iv(e,n)}}function Tm(t,e){return function(n){t.uniform2iv(e,n)}}function zm(t,e){return function(n){t.uniform3iv(e,n)}}function Mm(t,e){return function(n){t.uniform4iv(e,n)}}function w9(t,e){return function(n){t.uniform1ui(e,n)}}function A9(t,e){return function(n){t.uniform1uiv(e,n)}}function x9(t,e){return function(n){t.uniform2uiv(e,n)}}function E9(t,e){return function(n){t.uniform3uiv(e,n)}}function C9(t,e){return function(n){t.uniform4uiv(e,n)}}function S9(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function B9(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function k9(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function D9(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function I9(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function F9(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function P9(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function T9(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function z9(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function ue(t,e,n,r){const i=Im(t,e);return Qi(t)?function(o){let s,a;Iu(t,o)?(s=o,a=null):(s=o.texture,a=o.sampler),t.uniform1i(r,n),t.activeTexture(Uu+n),t.bindTexture(i,s),t.bindSampler(n,a)}:function(o){t.uniform1i(r,n),t.activeTexture(Uu+n),t.bindTexture(i,o)}}function ce(t,e,n,r,i){const o=Im(t,e),s=new Int32Array(i);for(let a=0;a<i;++a)s[a]=n+a;return Qi(t)?function(a){t.uniform1iv(r,s),a.forEach(function(c,u){t.activeTexture(Uu+s[u]);let l,h;Iu(t,c)?(l=c,h=null):(l=c.texture,h=c.sampler),t.bindSampler(n,h),t.bindTexture(o,l)})}:function(a){t.uniform1iv(r,s),a.forEach(function(c,u){t.activeTexture(Uu+s[u]),t.bindTexture(o,c)})}}J[Hu]={Type:Float32Array,size:4,setter:g9,arraySetter:m9},J[dm]={Type:Float32Array,size:8,setter:b9,cols:2},J[pm]={Type:Float32Array,size:12,setter:y9,cols:3},J[gm]={Type:Float32Array,size:16,setter:v9,cols:4},J[of]={Type:Int32Array,size:4,setter:Fm,arraySetter:Pm},J[mm]={Type:Int32Array,size:8,setter:Tm,cols:2},J[bm]={Type:Int32Array,size:12,setter:zm,cols:3},J[ym]={Type:Int32Array,size:16,setter:Mm,cols:4},J[sf]={Type:Uint32Array,size:4,setter:w9,arraySetter:A9},J[Bm]={Type:Uint32Array,size:8,setter:x9,cols:2},J[km]={Type:Uint32Array,size:12,setter:E9,cols:3},J[Dm]={Type:Uint32Array,size:16,setter:C9,cols:4},J[vm]={Type:Uint32Array,size:4,setter:Fm,arraySetter:Pm},J[wm]={Type:Uint32Array,size:8,setter:Tm,cols:2},J[Am]={Type:Uint32Array,size:12,setter:zm,cols:3},J[xm]={Type:Uint32Array,size:16,setter:Mm,cols:4},J[Em]={Type:Float32Array,size:32,setter:S9,rows:2,cols:2},J[Cm]={Type:Float32Array,size:48,setter:B9,rows:3,cols:3},J[Sm]={Type:Float32Array,size:64,setter:k9,rows:4,cols:4},J[JC]={Type:Float32Array,size:32,setter:D9,rows:2,cols:3},J[$C]={Type:Float32Array,size:32,setter:F9,rows:2,cols:4},J[t9]={Type:Float32Array,size:48,setter:I9,rows:3,cols:2},J[e9]={Type:Float32Array,size:48,setter:T9,rows:3,cols:4},J[n9]={Type:Float32Array,size:64,setter:P9,rows:4,cols:2},J[r9]={Type:Float32Array,size:64,setter:z9,rows:4,cols:3},J[YC]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:ju},J[WC]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Vu},J[XC]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:af},J[KC]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:ju},J[i9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:qu},J[o9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:qu},J[s9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Vu},J[a9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:ju},J[u9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:af},J[c9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Vu},J[l9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:qu},J[h9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:ju},J[f9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:af},J[d9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:Vu},J[p9]={Type:null,size:0,setter:ue,arraySetter:ce,bindPoint:qu};function Qu(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(Gu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||Hu,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function dr(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4iv(e,n.value);else throw new Error("The length of an integer constant value must be 4!");else t.bindBuffer(Gu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||of,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function Zu(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4uiv(e,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else t.bindBuffer(Gu,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||sf,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function uf(t,e,n){const r=n.size,i=n.count;return function(o){t.bindBuffer(Gu,o.buffer);const s=o.size||o.numComponents||r,a=s/i,c=o.type||Hu,u=J[c].size*s,l=o.normalize||!1,h=o.offset||0,f=u/i;for(let d=0;d<i;++d)t.enableVertexAttribArray(e+d),t.vertexAttribPointer(e+d,a,c,l,u,h+f*d),o.divisor!==void 0&&t.vertexAttribDivisor(e+d,o.divisor)}}const Rt={};Rt[Hu]={size:4,setter:Qu},Rt[dm]={size:8,setter:Qu},Rt[pm]={size:12,setter:Qu},Rt[gm]={size:16,setter:Qu},Rt[of]={size:4,setter:dr},Rt[mm]={size:8,setter:dr},Rt[bm]={size:12,setter:dr},Rt[ym]={size:16,setter:dr},Rt[sf]={size:4,setter:Zu},Rt[Bm]={size:8,setter:Zu},Rt[km]={size:12,setter:Zu},Rt[Dm]={size:16,setter:Zu},Rt[vm]={size:4,setter:dr},Rt[wm]={size:8,setter:dr},Rt[Am]={size:12,setter:dr},Rt[xm]={size:16,setter:dr},Rt[Em]={size:4,setter:uf,count:2},Rt[Cm]={size:9,setter:uf,count:3},Rt[Sm]={size:16,setter:uf,count:4};function _m(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const M9=/(\.|\[|]|\w+)/g,_9=t=>t>="0"&&t<="9";function Rm(t,e,n,r){const i=t.split(M9).filter(a=>a!=="");let o=0,s="";for(;;){const a=i[o++];s+=a;const c=_9(a[0]),u=c?parseInt(a):a;if(c&&(s+=i[o++]),o===i.length){n[u]=e;break}else{const l=i[o++],h=l==="[",f=n[u]||(h?[]:{});n[u]=f,n=f,r[s]=r[s]||function(d){return function(g){Gm(d,g)}}(f),s+=l}}}function R9(t,e){let n=0;function r(a,c,u){const l=c.name.endsWith("[0]"),h=c.type,f=J[h];if(!f)throw new Error(`unknown type: 0x${h.toString(16)}`);let d;if(f.bindPoint){const g=n;n+=c.size,l?d=f.arraySetter(t,h,g,u,c.size):d=f.setter(t,h,g,u,c.size)}else f.arraySetter&&l?d=f.arraySetter(t,u):d=f.setter(t,u);return d.location=u,d}const i={},o={},s=t.getProgramParameter(e,fm);for(let a=0;a<s;++a){const c=t.getActiveUniform(e,a);if(_m(c))continue;let u=c.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const l=t.getUniformLocation(e,c.name);if(l){const h=r(e,c,l);i[u]=h,Rm(u,h,o,i)}}return i}function O9(t,e){const n={},r=t.getProgramParameter(e,HC);for(let i=0;i<r;++i){const o=t.getTransformFeedbackVarying(e,i);n[o.name]={index:i,type:o.type,size:o.size}}return n}function N9(t,e){const n=t.getProgramParameter(e,fm),r=[],i=[];for(let a=0;a<n;++a){i.push(a),r.push({});const c=t.getActiveUniform(e,a);r[a].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const c=a[0],u=a[1];t.getActiveUniforms(e,i,t[c]).forEach(function(l,h){r[h][u]=l})});const o={},s=t.getProgramParameter(e,jC);for(let a=0;a<s;++a){const c=t.getActiveUniformBlockName(e,a),u={index:t.getUniformBlockIndex(e,c),usedByVertexShader:t.getActiveUniformBlockParameter(e,a,VC),usedByFragmentShader:t.getActiveUniformBlockParameter(e,a,qC),size:t.getActiveUniformBlockParameter(e,a,QC),uniformIndices:t.getActiveUniformBlockParameter(e,a,ZC)};u.used=u.usedByVertexShader||u.usedByFragmentShader,o[c]=u}return{blockSpecs:o,uniformData:r}}const Om=/\[\d+\]\.$/,L9=(t,e)=>((t+(e-1))/e|0)*e;function U9(t,e,n,r){if(e||n){r=r||1;const i=t.length/4;return function(o){let s=0,a=0;for(let c=0;c<i;++c){for(let u=0;u<r;++u)t[s++]=o[a++];s+=4-r}}}else return function(i){i.length?t.set(i):t[0]=i}}function G9(t,e,n,r){const i=n.blockSpecs,o=n.uniformData,s=i[r];if(!s)return NC("no uniform block object named:",r),{name:r,uniforms:{}};const a=new ArrayBuffer(s.size),c=t.createBuffer(),u=s.index;t.bindBuffer(rf,c),t.uniformBlockBinding(e,s.index,u);let l=r+".";Om.test(l)&&(l=l.replace(Om,"."));const h={},f={},d={};return s.uniformIndices.forEach(function(g){const b=o[g];let w=b.name;w.startsWith(l)&&(w=w.substr(l.length));const A=w.endsWith("[0]");A&&(w=w.substr(0,w.length-3));const B=J[b.type],E=B.Type,C=A?L9(B.size,16)*b.size:B.size*b.size,T=new E(a,b.offset,C/E.BYTES_PER_ELEMENT);h[w]=T;const F=U9(T,A,B.rows,B.cols);f[w]=F,Rm(w,F,d,f)}),{name:r,array:a,asFloat:new Float32Array(a),buffer:c,uniforms:h,setters:f}}function Nm(t,e,n){return G9(t,e.program,e.uniformBlockSpec,n)}function H9(t,e,n){const r=(e.uniformBlockSpec||e).blockSpecs[n.name];if(r){const i=r.index;return t.bindBufferRange(rf,i,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function Lm(t,e,n){H9(t,e,n)&&t.bufferData(rf,n.array,LC)}function Um(t,e){const n=t.setters;for(const r in e){const i=n[r];if(i){const o=e[r];i(o)}}}function Gm(t,e){for(const n in e){const r=t[n];typeof r=="function"?r(e[n]):Gm(t[n],e[n])}}function Ce(t,...e){const n=t.uniformSetters||t,r=e.length;for(let i=0;i<r;++i){const o=e[i];if(Array.isArray(o)){const s=o.length;for(let a=0;a<s;++a)Ce(n,o[a])}else for(const s in o){const a=n[s];a&&a(o[s])}}}function j9(t,e){const n={},r=t.getProgramParameter(e,GC);for(let i=0;i<r;++i){const o=t.getActiveAttrib(e,i);if(_m(o))continue;const s=t.getAttribLocation(e,o.name),a=Rt[o.type],c=a.setter(t,s,a);c.location=s,n[o.name]=c}return n}function V9(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function to(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(V9(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(UC,n.indices))}function q9(t,e){const n=R9(t,e),r=j9(t,e),i={program:e,uniformSetters:n,attribSetters:r};return Qi(t)&&(i.uniformBlockSpec=N9(t,e),i.transformFeedbackInfo=O9(t,e)),i}const Q9=4,Hm=5123;function Ns(t,e,n,r,i,o){n=n===void 0?Q9:n;const s=e.indices,a=e.elementType,c=r===void 0?e.numElements:r;i=i===void 0?0:i,a||s?o!==void 0?t.drawElementsInstanced(n,c,a===void 0?Hm:e.elementType,i,o):t.drawElements(n,c,a===void 0?Hm:e.elementType,i):o!==void 0?t.drawArraysInstanced(n,i,c,o):t.drawArrays(n,i,c)}const Z9=36160,ni=36161,Y9=3553,W9=5121,X9=6402,K9=6408,J9=33190,$9=36012,tS=35056,eS=36013,nS=32854,rS=32855,iS=36194,jm=33189,Vm=6401,qm=36168,cf=34041,oS=36064,Yu=36096,Qm=36128,lf=33306,hf=33071,ff=9729,Zm=[{format:K9,type:W9,min:ff,wrap:hf},{format:cf}],Xe={};Xe[cf]=lf,Xe[Vm]=Qm,Xe[qm]=Qm,Xe[X9]=Yu,Xe[jm]=Yu,Xe[J9]=Yu,Xe[$9]=Yu,Xe[tS]=lf,Xe[eS]=lf;function sS(t,e){return Xe[t]||Xe[e]}const pr={};pr[nS]=!0,pr[rS]=!0,pr[iS]=!0,pr[cf]=!0,pr[jm]=!0,pr[Vm]=!0,pr[qm]=!0;function aS(t){return pr[t]}function uS(t,e,n,r){const i=Z9,o=t.createFramebuffer();t.bindFramebuffer(i,o),n=n||t.drawingBufferWidth,r=r||t.drawingBufferHeight,e=e||Zm;let s=0;const a={framebuffer:o,attachments:[],width:n,height:r};return e.forEach(function(c){let u=c.attachment;const l=c.samples,h=c.format;let f=c.attachmentPoint||sS(h,c.internalFormat);if(f||(f=oS+s++),!u)if(l!==void 0||aS(h))u=t.createRenderbuffer(),t.bindRenderbuffer(ni,u),l>1?t.renderbufferStorageMultisample(ni,l,h,n,r):t.renderbufferStorage(ni,h,n,r);else{const d=Object.assign({},c);d.width=n,d.height=r,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||ff,d.mag=d.mag||d.minMag||ff,d.wrapS=d.wrapS||d.wrap||hf,d.wrapT=d.wrapT||d.wrap||hf),u=Os(t,d)}if(N1(t,u))t.framebufferRenderbuffer(i,f,ni,u);else if(Iu(t,u))c.layer!==void 0?t.framebufferTextureLayer(i,f,u,c.level||0,c.layer):t.framebufferTexture2D(i,f,c.target||Y9,u,c.level||0);else throw new Error("unknown attachment type");a.attachments.push(u)}),a}function cS(t,e,n,r,i){r=r||t.drawingBufferWidth,i=i||t.drawingBufferHeight,e.width=r,e.height=i,n=n||Zm,n.forEach(function(o,s){const a=e.attachments[s],c=o.format,u=o.samples;if(u!==void 0||N1(t,a))t.bindRenderbuffer(ni,a),u>1?t.renderbufferStorageMultisample(ni,u,c,r,i):t.renderbufferStorage(ni,c,r,i);else if(Iu(t,a))OC(t,a,o,r,i);else throw new Error("unknown attachment type")})}function lS(t,e,n){const r=t.createVertexArray();return t.bindVertexArray(r),e.length||(e=[e]),e.forEach(function(i){to(t,i,n)}),t.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const hS=/^(.*?)_/;function fS(t,e){Qh(t,0);const n=t.getExtension(e);if(n){const r={},i=hS.exec(e)[1],o="_"+i;for(const s in n){const a=n[s],c=typeof a=="function",u=c?i:o;let l=s;s.endsWith(u)&&(l=s.substring(0,s.length-u.length)),t[l]!==void 0?!c&&t[l]!==a&&O1(l,t[l],a,s):c?t[l]=function(h){return function(){return h.apply(n,arguments)}}(a):(t[l]=a,r[l]=a)}r.constructor={name:n.constructor.name},Qh(r,0)}return n}const Ym=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Wm(t){for(let e=0;e<Ym.length;++e)fS(t,Ym[e])}function dS(t,e){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=t.getContext(n[i],e),r){Wm(r);break}return r}function pS(t,e){return dS(t,e)}const gS=`/***The vertex position wrt the rectangle specified by(x,x2,y,y2).*[0,0]=[x,y],[1,1]=[x2,y2].*The x or y component may contain fractional values if the rectangle*have been tessellated.*/in vec2 frac;uniform vec2 uMinSize;uniform float uMinOpacity;uniform vec4 uCornerRadii;out lowp vec4 vFillColor;out lowp vec4 vStrokeColor;out float vHalfStrokeWidth;out vec4 vCornerRadii;
#if defined(ROUNDED_CORNERS) || defined(STROKED)
out vec2 vPosInPixels;
#endif
out vec2 vHalfSizeInPixels;/***Clamps the minimumSize and returns an opacity that reflects the amount of clamping.*/float clampMinSize(inout float pos,float frac,float size,float minSize){if(minSize>0.0&&abs(size)<minSize){pos+=(frac-0.5)*(minSize*sign(size)-size);return abs(size)/minSize;}return 1.0;}void sort(inout float a,inout float b){if(a>b){float tmp=b;b=a;a=tmp;}}void main(void){vec2 normalizedMinSize=uMinSize/uViewportSize;float x=getScaled_x();float x2=getScaled_x2();float y=getScaled_y();float y2=getScaled_y2();sort(x,x2);sort(y,y2);float clampMargin=1.0;vec2 pos1=vec2(clamp(x,0.0-clampMargin,1.0+clampMargin),y);vec2 pos2=vec2(clamp(x2,0.0-clampMargin,1.0+clampMargin),y2);vec2 size=pos2-pos1;if(size.x<=0.0||size.y<=0.0){gl_Position=vec4(0.0,0.0,0.0,1.0);return;}vec2 pos=pos1+frac*size;size.y*=getSampleFacetHeight(pos);float opaFactor=uViewOpacity*max(uMinOpacity,clampMinSize(pos.x,frac.x,size.x,normalizedMinSize.x)*clampMinSize(pos.y,frac.y,size.y,normalizedMinSize.y));pos=applySampleFacet(pos);
#if defined(ROUNDED_CORNERS) || defined(STROKED)
float aaPadding=1.0/uDevicePixelRatio;float strokeWidth=getScaled_strokeWidth();float strokeOpacity=getScaled_strokeOpacity()*opaFactor;vec2 centeredFrac=frac-0.5;vec2 expand=centeredFrac*(strokeWidth+aaPadding)/uViewportSize;pos+=expand;vec2 sizeInPixels=size*uViewportSize;vPosInPixels=(centeredFrac+expand/size)*sizeInPixels;vHalfSizeInPixels=sizeInPixels/2.0;vCornerRadii=min(uCornerRadii,min(vHalfSizeInPixels.x,vHalfSizeInPixels.y));vHalfStrokeWidth=strokeWidth/2.0;vStrokeColor=vec4(getScaled_stroke()*strokeOpacity,strokeOpacity);
#endif
gl_Position=unitToNdc(pos);float fillOpacity=getScaled_fillOpacity()*opaFactor;vFillColor=vec4(getScaled_fill()*fillOpacity,fillOpacity);setupPicking();}`,mS=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif
in vec2 vHalfSizeInPixels;in lowp vec4 vFillColor;in lowp vec4 vStrokeColor;in float vHalfStrokeWidth;in vec4 vCornerRadii;out lowp vec4 fragColor;float sdRoundedBox(vec2 p,vec2 b,vec4 r){r.xy=p.x>0.0 ? r.xy : r.zw;r.x=p.y>0.0 ? r.x  : r.y;vec2 q=abs(p)-b+r.x;return min(max(q.x,q.y),0.0)+length(max(q,0.0))-r.x;}float sdSharpBox(vec2 p,vec2 b){vec2 q=abs(p)-b;return max(q.x,q.y);}void main(void){
#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
float d=sdRoundedBox(vPosInPixels,vHalfSizeInPixels,vCornerRadii);
#else
float d=sdSharpBox(vPosInPixels,vHalfSizeInPixels);
#endif
fragColor=distanceToColor(d,vFillColor,vStrokeColor,vHalfStrokeWidth);if(fragColor.a==0.0){discard;}
#else
fragColor=vFillColor;
#endif
if(uPickingEnabled){fragColor=vPickingColor;}}`,df="attr_",Xm="uDomain_",bS="range_",Km="scale_",Jm="getScaled_",pf="uRangeTexture_",$m=3402823466e29;function yS(t){const e=t.match(/^(?:(\w+)-)?(\w+)$/);if(!e)throw new Error("Not a scale type: "+t);return{family:e[1]||"continuous",transform:e[2]}}function vS(t,e){let n;if(ku(t))n=ri(_1(t)(e));else if(It(e))if($r(t))n=AS(e);else throw new Error(`String values are not supported on the "${t}" channel: ${e}`);else if(Na(e))n=ri(e?1:0);else if(e===null)if($r(t))n=ri([0,0,0]);else throw new Error(`null value is not supported on the "${t}" chanel.`);else n=ri(e);return`
#define ${t}_DEFINED
${n.type} ${Jm}${t}() {
    // Constant value
    return ${n};
}`}function wS(t,e,n){if(Ye(n))throw new Error(`Cannot create scale for "value": ${JSON.stringify(n)}`);const r=qi(t),i=df+t,o=Xm+r,s=bS+r,a=Wu(e.type),c=a?"vec2":"float",u=e.domain?e.domain().length:void 0;let l;const h=[];h.push(""),h.push("/".repeat(70)),h.push(`// Channel: ${t}`),h.push(""),h.push(`#define ${t}_DEFINED`);const{transform:f}=yS(e.type),d=(S,...O)=>xS.apply(null,[S,"value",...O]);let g;switch(f){case"linear":g=d("scaleLinear","domain",s);break;case"log":g=d("scaleLog","domain",s,e.base());break;case"symlog":g=d("scaleSymlog","domain",s,e.constant());break;case"pow":case"sqrt":g=d("scalePow","domain",s,e.exponent());break;case"index":case"locus":g=d("scaleBandHp","domain",s,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"point":case"band":g=d("scaleBand","domain",s,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"ordinal":case"null":case"identity":g=d("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${e.type}! ${t}: ${JSON.stringify(n)}`)}const b=vu(e.type)||Ee(e.type)&&$r(t)?[0,1]:e.range?e.range():void 0;if(b&&t==r&&b.length&&b.every(pe)){const S=tb(b);h.push(`const ${S.type} ${s} = ${S};`)}const w=$r(t)?"vec3":"float";let A;if($r(t)){const S=pf+r;if(t==r&&h.push(`uniform sampler2D ${S};`),Ee(e.type))A=`getInterpolatedColor(${S}, transformed)`;else if(Wr(e.type)||ji(e.type))A=`getDiscreteColor(${S}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(e.type==="ordinal"||ji(e.type)){const S=pf+r;t==r&&h.push(`uniform sampler2D ${S};`),A=`getDiscreteColor(${S}, int(transformed)).r`}Is(n)?h.push(`uniform highp ${c} ${i};`):h.push(`in highp ${c} ${i};`);const B=[],E=Ee(e.type)&&u>2,C=ji(e.type)||E;if(B.push("int slot = 0;"),C){const S=o;B.push(E?`while (slot < ${S}.length() - 2 && value >= ${S}[slot + 1]) { slot++; }`:`while (slot < ${S}.length() && value >= ${S}[slot]) { slot++; }`)}const T=Ee(e.type)||ji(e.type)||["band","point"].includes(e.type);if(g){const S=o;T&&(a?B.push(`vec3 domain = ${S};`):B.push(`vec2 domain = vec2(${S}[slot], ${S}[slot + 1]);`)),B.push(`float transformed = ${g};`),E&&B.push(`transformed = (float(slot) + transformed) / (float(${S}.length() - 1));`)}else B.push("float transformed = float(slot);");"clamp"in e&&e.clamp()&&B.push(`transformed = clampToRange(transformed, ${tb(b)});`),B.push(`return ${A??"transformed"};`),h.push(`
${w} ${Km}${t}(${c} value) {
${B.map(S=>`    ${S}
`).join("")}
}`),h.push(`
${w} ${Jm}${t}() {
    return ${Km}${t}(${i});
}`);const F=h.join(`
`);if(T&&t==r){const S=Ee(e.type)||ji(e.type)?u:2;l=a?`highp vec3 ${o};`:`mediump float ${o}[${S}];`}return{glsl:F,domainUniform:l}}function gf(t){if(!pe(t))throw new Error(`Not a number: ${t}`);if(t==1/0)return""+$m;if(t==-1/0)return""+-$m;{let e=`${t}`;return/^(-)?\d+$/.test(e)&&(e+=".0"),e}}function ri(t){typeof t=="number"&&(t=[t]);const e=t.length;if(e<1||e>4)throw new Error("Invalid number of components: "+e);let n,r;return e>1?(n=`vec${e}`,r=`${n}(${t.map(gf).join(", ")})`):(n="float",r=gf(t[0])),Object.assign(r,{type:n,numComponents:e})}function AS(t){const e=Vr(t).rgb();return ri([e.r,e.g,e.b].map(n=>n/255))}function tb(t){return ri([t[0],Vi(t)])}function xS(t,...e){const n=[];for(const r of e)pe(r)?n.push(gf(r)):Ie(r)?n.push(ri(r)):n.push(r);return`${t}(${n.join(", ")})`}function Wu(t){return t=="index"||t=="locus"}const eb=2**11,ES=eb-1;function nb(t,e=[]){const n=t&ES,r=t-n;return e[0]=r,e[1]=n,e}function CS(t){const e=t%eb;return[t-e,e]}function SS(t){return[...CS(t[0]),t[1]-t[0]]}class BS{constructor(e){this.size=e,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}addConverter(e,n){const r=this.createUpdater(df+e,n.numComponents||1,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?o=>r(i(o)):o=>r(i(o)))}createUpdater(e,n,r){if(!pe(this.size))throw new Error("The number of vertices must be defined!");let i,o,s=0;const a=new Float32Array(this.size*n);if(this.arrays[e]={data:a,numComponents:n},n==1){let c=0;const u=l=>{c=+l};i=()=>{a[s++]=c},o=u}else{let c=r??[0];const u=r?l=>{}:l=>{c=l};switch(n){case 1:break;case 2:i=()=>{a[s++]=c[0],a[s++]=c[1]},o=u;break;case 3:i=()=>{a[s++]=c[0],a[s++]=c[1],a[s++]=c[2]},o=u;break;case 4:i=()=>{a[s++]=c[0],a[s++]=c[1],a[s++]=c[2],a[s++]=c[3]},o=u;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(i),o}_unrollPushAll(){let e="",n="";for(let i=0;i<this.pushers.length;i++)e+=`const p${i} = that.pushers[${i}];
`,n+=`p${i}();
`;const r=new Function("that",`${e}

            return function unrolledPushAll() {
                ${n}
                that.vertexCount++;
            };
        `);this.pushAll=r(this)}pushAll(){this.size>1e5?this._unrollPushAll():this.pushAll=()=>{for(let e=0;e<this.pushers.length;e++)this.pushers[e]();this.vertexCount++},this.pushAll()}updateFromDatum(e){for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](e)}pushFromDatum(e){this.updateFromDatum(e),this.pushAll()}}const eo=5,mf=127;function bf(t){const e=[];for(let g=0;g<=mf;g++)e.push(void 0);const n=new Map;for(const g of t.chars)g.id<=mf?e[g.id]=g:n.set(g.id,g);const r=8722;n.has(r)||n.set(r,e["-".charCodeAt(0)]);function i(g){return(g<=mf?e[g]:n.get(g))||e[63]}function o(g){return i(g.charCodeAt(0))}const s=t.common.base,a=o("x"),c=o("X"),u=o("q"),l=a.height-eo*2,h=c.height-eo*2,f=u.height-a.height+u.yoffset-a.yoffset;function d(g,b=1){let w=0;for(let A=0;A<g.length;A++)w+=i(g.charCodeAt(A)).xadvance;return w/s*b}return{measureWidth:d,getCharByCode:i,getChar:o,xHeight:l,capHeight:h,descent:f,common:t.common}}function kS(t,e=0,n=1){return Math.max(e,Math.min(n,t))}const rb=2**31-1,DS=-(2**31);function IS(t,e,n,r=n){const i=new Int32Array(t);i.fill(rb);let o=DS,s=!1;const a=new Int32Array(t),c=e[0],u=(e[1]-e[0])/t,l=(b,w)=>{const A=(b-c)/u,B=Math.floor(A);return kS(w&&B==A?B-1:B,0,t-1)};function h(b,w,A){w>o?o=w:s||(s=!0,console.debug("Items are not ordered properly. Disabling binned index."));const B=n(b),E=l(B,!1);i[E]>w&&(i[E]=w),a[E]<A&&(a[E]=A)}function f(b,w,A){w>o?o=w:s||(s=!0,console.debug("Items are not ordered properly. Disabling binned index."));const B=n(b),E=r(b),C=l(B,!1),T=l(E,!0);for(let F=C;F<=T;F++)i[F]>w&&(i[F]=w),a[F]<A&&(a[F]=A)}const d=(b,w,A=[0,0])=>{const B=l(b,!1),E=l(w,!0),C=i[B],T=Math.max(a[E],C);return A[0]=C,A[1]=T,A},g=()=>{for(let w=1;w<a.length;w++)a[w]<a[w-1]&&(a[w]=a[w-1]);let b=!0;for(let w=i.length-1;w>0;w--)b&&i[w]==rb?(i[w]=a[w],b=!1):i[w-1]>i[w]&&(i[w-1]=i[w]);return d};if(h.getIndex=g,f.getIndex=g,!s)return n==r?h:f}class Ls{constructor({encoders:e,numVertices:n=void 0,attributes:r=[]}){this.encoders=e,this.variableEncoders=Object.fromEntries(Object.entries(e).filter(([i,o])=>r.includes(i)&&o&&o.scale&&!o.constant)),this.allocatedVertices=n,this.variableBuilder=new BS(n);for(const[i,o]of Object.entries(this.variableEncoders)){const s=o.accessor,a=[0,0],c=Wu(o.scale.type),u=o.indexer,l=u?h=>u(s(h)):c?h=>nb(s(h),a):s;this.variableBuilder.addConverter(i,{f:l,numComponents:c?2:1,arrayReference:c?a:void 0})}this.lastOffset=0,this.rangeMap=new _r([],JSON.stringify)}registerBatch(e){var n;const r=this.lastOffset,i=this.variableBuilder.vertexCount,o=i-r;o&&this.rangeMap.set(e,{offset:r,count:o,xIndex:(n=this.xIndexer)==null?void 0:n.getIndex()}),this.lastOffset=i}addBatches(e){for(const[n,r]of e)this.addBatch(n,r)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const s=n[o];this.variableBuilder.pushFromDatum(s),this.addToXIndex(s)}this.registerBatch(e)}prepareXIndexer(e,n=0,r=n+e.length){const i=()=>{this.addToXIndex=c=>{},this.xIndexer=void 0};if(!e.length||r-n<0){i();return}const o=c=>{var u;return c&&Ee((u=c.scale)==null?void 0:u.type)&&c},s=o(this.variableEncoders.x),a=o(this.variableEncoders.x2);if(s){const c=s.accessor,u=a?a.accessor:c,l=[c(e[n]),u(e[r-1])];if(l[1]>l[0]){this.xIndexer=IS(50,l,c,u);let h=this.variableBuilder.vertexCount;this.addToXIndex=f=>{let d=this.variableBuilder.vertexCount;this.xIndexer(f,h,d),h=d}}else i()}else i()}addToXIndex(e){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class FS extends Ls{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateFrac=this.variableBuilder.createUpdater("frac",2)}addBatch(e,n,r=0,i=n.length){if(i<=r)return;const o=this.encoders,[s,a]=this.visibleRange,c=f=>f.accessor||(d=>0),u=c(o.x),l=c(o.x2);this.prepareXIndexer(n,r,i);const h=[0,0];this.updateFrac(h);for(let f=r;f<i;f++){const d=n[f];let g=u(d),b=l(d);if(g>b&&([g,b]=[b,g]),b<s||g>a)continue;g<s&&(g=s),b>a&&(b=a),this.variableBuilder.updateFromDatum(d),h[0]=0,h[1]=0;const w=1;this.variableBuilder.pushAll();for(let A=0;A<=w;A++)h[0]=A/w,h[1]=0,this.variableBuilder.pushAll(),h[1]=1,this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(d)}this.registerBatch(e)}}class PS extends Ls{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:e,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const s=n[o];this.variableBuilder.updateFromDatum(s),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const a=1;for(let c=0;c<=a;c++)this.updatePos(c/a),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(s)}this.registerBatch(e)}}class TS extends Ls{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}}class zS extends Ls{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}toArrays(){const e=this.variableBuilder.arrays;for(let n of Object.values(e))n.divisor=1;return super.toArrays()}}class MS extends Ls{constructor({encoders:e,attributes:n,fontMetrics:r,properties:i,numCharacters:o=void 0}){super({encoders:e,attributes:n,numVertices:o*6}),this.metadata=r,this.metrics=r,this.properties=i;const s=e.text.channelDef;this.numberFormat=!Ye(s)&&s.format?Xt(s.format):a=>a,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1)}addBatch(e,n,r=0,i=n.length){const o=this.properties.align||"left",s=this.properties.logoLetters??!1,a=this.metadata.common.base,c=this.metadata.common.scaleH;let u=-eo;switch(this.properties.baseline){case"top":u+=this.metrics.capHeight;break;case"middle":u+=this.metrics.capHeight/2;break;case"bottom":u-=this.metrics.descent;break}const l=this.encoders.text.accessor||this.encoders.text,h=[0,0];this.updateVertexCoord(h);const f=[0,0];this.updateTextureCoord(f),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const g=n[d],b=this.numberFormat(l(g)),w=It(b)?b:b===null?"":""+b;if(w.length==0)continue;this.variableBuilder.updateFromDatum(g);const A=s?w.length:this.metrics.measureWidth(w);this.updateWidth(A);let B=o=="right"?-A:o=="center"?-A/2:0;if(!s){const F=this.metrics.getCharByCode(w.charCodeAt(0));B-=(F.width-F.xadvance)/a/2}let E=-.5,C=1,T=1;for(let F=0;F<w.length;F++){const S=this.metrics.getCharByCode(w.charCodeAt(F)),O=s?1:S.xadvance/a;if(S.id==32){B+=O;continue}s?(T=(S.width+eo*2)/S.width,B=-T/2,C=(S.height+eo*2)/S.height,E=-.5-eo/S.height):(C=S.height/a,E=-(S.height+S.yoffset+u)/a,T=S.width/a);const x=S.x,I=S.y;h[0]=B,h[1]=E+C,f[0]=x/c,f[1]=I/c,this.variableBuilder.pushAll(),h[0]=B+T,h[1]=E+C,f[0]=(x+S.width)/c,f[1]=I/c,this.variableBuilder.pushAll(),h[0]=B,h[1]=E,f[0]=x/c,f[1]=(I+S.height)/c,this.variableBuilder.pushAll(),h[0]=B+T,h[1]=E+C,f[0]=(x+S.width)/c,f[1]=I/c,this.variableBuilder.pushAll(),h[0]=B,h[1]=E,f[0]=x/c,f[1]=(I+S.height)/c,this.variableBuilder.pushAll(),h[0]=B+T,h[1]=E,f[0]=(x+S.width)/c,f[1]=(I+S.height)/c,this.variableBuilder.pushAll(),B+=O}this.addToXIndex(g)}this.registerBatch(e)}}const ib=`#define PI 3.141593
uniform View{mediump vec2 uViewOffset;mediump vec2 uViewScale;mediump vec2 uViewportSize;lowp float uDevicePixelRatio;lowp float uViewOpacity;bool uPickingEnabled;};/***Maps a coordinate on the unit scale to a normalized device coordinate.*(0,0)is at the bottom left corner.*/vec4 unitToNdc(vec2 coord){return vec4((coord*uViewScale+uViewOffset)*2.0-1.0,0.0,1.0);}vec4 unitToNdc(float x,float y){return unitToNdc(vec2(x,y));}vec4 pixelsToNdc(vec2 coord){return unitToNdc(coord/uViewportSize);}vec4 pixelsToNdc(float x,float y){return pixelsToNdc(vec2(x,y));}float linearstep(float edge0,float edge1,float x){return clamp((x-edge0)/(edge1-edge0),0.0,1.0);}/***Specialized linearstep for doing antialiasing*/float distanceToRatio(float d){return clamp(d*uDevicePixelRatio+0.5,0.0,1.0);}vec4 distanceToColor(float d,vec4 fill,vec4 stroke,float halfStrokeWidth){if(halfStrokeWidth>0.0){float sd=abs(d)-halfStrokeWidth;return mix(stroke,d<=0.0 ? fill : vec4(0.0),distanceToRatio(sd));}else{return fill*distanceToRatio(-d);}}`,_S="const float inf=1.0/0.0;vec3 getDiscreteColor(sampler2D s,int index){return texelFetch(s,ivec2(index % textureSize(s,0).x,0),0).rgb;}vec3 getInterpolatedColor(sampler2D s,float unitValue){return texture(s,vec2(unitValue,0.0)).rgb;}float clampToRange(float value,vec2 range){return clamp(value,min(range[0],range[1]),max(range[0],range[1]));}float scaleIdentity(float value){return value;}float scaleLinear(float value,vec2 domain,vec2 range){float domainSpan=domain[1]-domain[0];float rangeSpan=range[1]-range[0];return(value-domain[0])/domainSpan*rangeSpan+range[0];}float scaleLog(float value,vec2 domain,vec2 range,float base){return scaleLinear(log(value)/log(base),log(domain)/log(base),range);}float symlog(float value,float constant){return sign(value)*log(abs(value/constant)+1.0);}float scaleSymlog(float value,vec2 domain,vec2 range,float constant){return scaleLinear(symlog(value,constant),vec2(symlog(domain[0],constant),symlog(domain[1],constant)),range);}float scalePow(float value,vec2 domain,vec2 range,float exponent){return scaleLinear(pow(abs(value),exponent)*sign(value),pow(abs(domain),vec2(exponent))*sign(domain),range);}float scaleBand(float value,vec2 domainExtent,vec2 range,float paddingInner,float paddingOuter,float align,float band){float start=range[0];float stop=range[1];float rangeSpan=stop-start;float n=domainExtent[1]-domainExtent[0];paddingInner=int(n)>1 ? paddingInner : 0.0;float step=rangeSpan/max(1.0,n-paddingInner+paddingOuter*2.0);start+=(rangeSpan-step*(n-paddingInner))*align;float bandwidth=step*(1.0-paddingInner);return start+(value-domainExtent[0])*step+bandwidth*band;}float scaleBandHp(vec2 value,vec3 domainExtent,vec2 range,float paddingInner,float paddingOuter,float align,float band){float start=range[0];float stop=range[1];float rangeSpan=stop-start;vec2 domainStart=domainExtent.xy;float n=domainExtent[2];float step=rangeSpan/max(1.0,n-paddingInner+paddingOuter*2.0);start+=(rangeSpan-step*(n-paddingInner))*align;float bandwidth=step*(1.0-paddingInner);float hi=max(value[0]-domainStart[0],-inf);float lo=max(value[1]-domainStart[1],-inf);return dot(vec4(start,hi,lo,bandwidth),vec4(1.0,step,step,band));}",RS=`/***Describes where a sample facet should be shown. Interpolating between the*current and target positions/heights allows for transitioning between facet*configurations.*/struct SampleFacetPosition{float pos;float height;float targetPos;float targetHeight;};/***Trasition fraction[0,1]between the current and target configurations.*/uniform float uTransitionOffset;
#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)
SampleFacetPosition getSampleFacetPos(){return SampleFacetPosition(0.0,1.0,0.0,1.0);}
#elif defined(SAMPLE_FACET_UNIFORM)
/***Location and height of the band on the Y axis on a normalized[0,1]scale.*Elements: curr pos,curr height,target pos,target height*/uniform vec4 uSampleFacet;SampleFacetPosition getSampleFacetPos(){return SampleFacetPosition(1.0-uSampleFacet.x-uSampleFacet.y,uSampleFacet.y,1.0-uSampleFacet.z-uSampleFacet.w,uSampleFacet.w);}
#elif defined(SAMPLE_FACET_TEXTURE)
uniform sampler2D uSampleFacetTexture;SampleFacetPosition getSampleFacetPos(){vec4 texel=texelFetch(uSampleFacetTexture,ivec2(int(attr_facetIndex),0),0);return SampleFacetPosition(1.0-texel.r-texel.g,texel.g,1.0-texel.r-texel.g,texel.g);}
#endif
bool isFacetedSamples(SampleFacetPosition facetPos){return facetPos!=SampleFacetPosition(0.0,1.0,0.0,1.0);}bool isFacetedSamples(){return isFacetedSamples(getSampleFacetPos());}bool isInTransit(){return uTransitionOffset>0.0;}float getTransitionFraction(float xPos){return smoothstep(0.0,0.7+uTransitionOffset,(xPos-uTransitionOffset)*2.0);}vec2 applySampleFacet(vec2 pos){SampleFacetPosition facetPos=getSampleFacetPos();if(!isFacetedSamples(facetPos)){return pos;}else if(isInTransit()){vec2 interpolated=mix(vec2(facetPos.pos,facetPos.height),vec2(facetPos.targetPos,facetPos.targetHeight),getTransitionFraction(pos.x));return vec2(pos.x,interpolated[0]+pos.y*interpolated[1]);}else{return vec2(pos.x,facetPos.pos+pos.y*facetPos.height);}}float getSampleFacetHeight(vec2 pos){SampleFacetPosition facetPos=getSampleFacetPos();if(!isFacetedSamples(facetPos)){return 1.0;}else if(isInTransit()){return mix(facetPos.height,facetPos.targetHeight,getTransitionFraction(pos.x));}else{return facetPos.height;}}`,OS=`/**Based on concepts presented at:*https:*https:*/out highp vec4 vPickingColor;/***Passes the unique id to the fragment shader as a color if picking is enabled.*Returns true if picking is enabled.*/bool setupPicking(){if(uPickingEnabled){
#ifdef uniqueId_DEFINED
int id=int(getScaled_uniqueId());vPickingColor=vec4(ivec4(id>>0,id>>8,id>>16,0xFF)&0xFF)/float(0xFF);
#else
vPickingColor=vec4(1.0);
#endif
return true;}return false;}`,NS="in highp vec4 vPickingColor;",yf=Symbol("cacheMap");function no(t,e,n){let r=Us(t).get(e);return r===void 0&&(r=n(e),Us(t).set(e,r)),r}function ob(t,e){Us(t).delete(e)}function Xu(t,e){const n=Us(t);for(const r of n.keys())r.startsWith(e)&&n.delete(r);Us(t).delete(e)}function sb(t){t[yf]=new Map}function Us(t){return t[yf]||sb(t),t[yf]}function LS(t,e,n,r){const i=It(t)?t:t.name,o=!It(t)&&t.extent||[0,1];if(n===void 0&&!It(t)&&(n=t.count),i){const s=xh(i);if(de(s)){const a=ab(s,{extent:o,count:n});return Ku(e,{minMag:e.LINEAR,format:e.RGB,height:1,wrap:e.CLAMP_TO_EDGE},a,r)}else{if(Ie(s))return vf(s,e);throw new Error("Unknown scheme: "+i)}}}function US(t,e="rgb",n,r){const i=wu(t,It(e)?e:e.type,It(e)?void 0:e.gamma),o=ab(i);return Ku(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},o,r)}function GS(t,e,n,r){const i=Math.max(t.length,n||0),o=new Float32Array(i);for(let s=0;s<i;s++)o[s]=t[s%t.length];return Ku(e,{minMag:e.NEAREST,format:e.RED,internalFormat:e.R32F,height:1},o,r)}function vf(t,e,n,r){const i=ub(t,n);return Ku(e,{minMag:e.NEAREST,format:e.RGB,height:1},i,r)}function ab(t,{extent:e=[0,1],reverse:n=!1,count:r=256}={}){const i=e[0],o=Vi(e)-i,s=qo(r).map(a=>a/(r-1)).map(a=>i+a/o).map(t);return n&&s.reverse(),ub(s)}function ub(t,e){const n=Math.max(t.length,e||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const o=Vr(t[i%t.length]).rgb();r[i*3+0]=o.r,r[i*3+1]=o.g,r[i*3+2]=o.b}return r}class HS{constructor(e,n){this._container=e,this._sizeSource=n,this._shaderCache=new Map,this._listeners=[],this.rangeTextures=new WeakMap;const r=document.createElement("canvas");e.appendChild(r);const i=pS(r,{antialias:!0,depth:!1,premultipliedAlpha:!0});if(!i)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Qi(i))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");Wm(i),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.canvas=r,this.gl=i,this._pickingAttachmentOptions=[{format:i.RGBA,type:i.UNSIGNED_BYTE,minMag:i.LINEAR,wrap:i.CLAMP_TO_EDGE}],this._pickingBufferInfo=uS(i,this._pickingAttachmentOptions),i.bindFramebuffer(i.FRAMEBUFFER,null),this.adjustGl(),this._resizeObserver=new ResizeObserver(o=>{this.invalidateSize(),this._emit("resize")}),this._resizeObserver.observe(this._container),this._updateDpr()}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(e,n){const r="#version 300 es",i="precision mediump float;";Ie(n)&&(n=n.join(`

`));const o=this.gl,s=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let a=this._shaderCache.get(s);if(!a){const c=[r,i,n].join(`

`);a=o.createShader(e),o.shaderSource(a,c),o.compileShader(a),this._shaderCache.set(s,a)}return a}adjustGl(){const e=this.getLogicalCanvasSize();this.canvas.style.width=`${e.width}px`,this.canvas.style.height=`${e.height}px`;const n=this.getPhysicalCanvasSize(e);this.canvas.width=n.width,this.canvas.height=n.height,cS(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this._resizeObserver.unobserve(this._container),this.canvas.remove()}getPhysicalCanvasSize(e){return e=e||this.getLogicalCanvasSize(),{width:e.width*this.dpr,height:e.height*this.dpr}}getLogicalCanvasSize(){var e;if(this._logicalCanvasSize)return this._logicalCanvasSize;const n=((e=this._sizeSource)==null?void 0:e.call(this))??{width:void 0,height:void 0},r=window.getComputedStyle(this._container,null),i=n.width??this._container.clientWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight),o=n.height??this._container.clientHeight-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom);return this._logicalCanvasSize={width:i,height:o},this._logicalCanvasSize}addEventListener(e,n){this._listeners.push({type:e,listener:n})}_emit(e){for(const n of this._listeners)n.type===e&&n.listener()}readPickingPixel(e,n){const r=this.gl;e*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,o=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(e,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,o),r.bindFramebuffer(r.FRAMEBUFFER,null),o}clearAll(){const e=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();e.viewport(0,0,n,r),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}createRangeTexture(e,n=!1){const r=this.rangeTextures.get(e);if(!n&&r)return;function i(s,a){return Wr(a.type)?a.domain().length:a.type=="threshold"?a.domain().length+1:a.type=="quantize"||a.type=="quantile"?s??4:s}const o=e.channel;if($r(o)){const s=e.getScaleProps(),a=e.getScale(),c=a.range();let u;if(s.scheme)if(a.type=="threshold"&&c)u=vf(c,this.gl,a.domain().length,r);else{let l=It(s.scheme)?void 0:s.scheme.count;l=i(l,a),u=LS(s.scheme,this.gl,l,r)}else vu(a.type)||Ee(a.type)&&c.length>2?u=US(c,s.interpolate,this.gl,r):u=vf(c,this.gl,a.domain().length,r);this.rangeTextures.set(e,u)}else{const s=e.getScale();if(s.type==="ordinal"||ji(s.type)){const a=ku(o)?_1(o):u=>u,c=e.getScale().range();this.rangeTextures.set(e,GS(c.map(a),this.gl,s.domain().length,r))}}}}function jS(t,e="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...e.matchAll(r)],o=new Map(i.map((s,a)=>{const c=parseInt(s[1]),u=i[a+1],l=u?u.index:e.length,h=e.substring(s.index,l);return[c-1,h]}));return t.split(`
`).map((s,a)=>{const c=o.get(a);return`${a+1+n}: ${s}${c?`

^^^ ${c}`:""}`}).join(`
`)}function VS(t,e,n){const r=t.createProgram();t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r);function i(){let o,s;if(!t.getProgramParameter(r,t.LINK_STATUS)){o=t.getProgramInfoLog(r);for(const a of[e,n])t.getShaderParameter(a,t.COMPILE_STATUS)||(o=t.getShaderInfoLog(a),s=jS(t.getShaderSource(a),o,0)+`
Error compiling: ${o}`,t.deleteShader(a));t.deleteProgram(r)}if(o)return{message:o,detail:s}}return{program:r,getProgramErrors:i}}function Ku(t,e,n,r){return r?hm(t,r,n,e):r=Os(t,{...e,src:n}),r}function qS(...t){const e={get(n,r,i){for(const o of t){const s=o()[r];if(s!==void 0)return s}},has(n,r,i){for(const o of t){const s=o();if(r in s)return!0}return!1}};return new Proxy({},e)}function QS(t){return It(t)||pe(t)||Na(t)}const ZS="SAMPLE_FACET_UNIFORM",cb="SAMPLE_FACET_TEXTURE";class Gs{constructor(e){this.unitView=e,this.encoders=void 0,this.bufferInfo=void 0,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.domainUniformInfo=void 0,this.viewUniformInfo=void 0,this.rangeMap=new YS,this.defaultProperties={get clip(){return["x","y"].map(n=>e.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=qS(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const e={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(e.uniqueId={field:"_uniqueId"}),e}fixEncoding(e){return e}get encoding(){return no(this,"encoding",()=>{const e=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=s=>{const a=this.properties[s];return QS(a)&&{value:a}},i=Object.fromEntries(this.getSupportedChannels().map(s=>[s,r(s)]).filter(s=>s[1].value!==void 0)),o=this.fixEncoding({...e,...i,...n});for(const s of Object.keys(o))this.getSupportedChannels().includes(s)||delete o[s];return o})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=w8(this)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return cb;if(this.unitView.getAncestors().find(e=>"samples"in e.spec))return ZS}createAndLinkShaders(e,n,r=[]){const i=this.getAttributes();r.push("// view: "+this.unitView.getPathString()),this.domainUniforms=[];let o=[];const s=this.getSampleFacetMode();s&&r.push(`#define ${s}`);for(const h of i){let f;if(h in this.encoding)f=h;else continue;const d=this.encoding[f];if(d)if(Ye(d))o.push(vS(f,d.value));else{const g=Te(d)&&d.resolutionChannel||f,b=this.unitView.getScaleResolution(g).getScale(),w=wS(f,b,d);o.push(w.glsl),w.domainUniform&&this.domainUniforms.push(w.domainUniform)}}const a=this.domainUniforms.length?`layout(std140) uniform Domains {
`+this.domainUniforms.map(h=>`    ${h}
`).join("")+`};

`:"",c=[`precision highp float;
`,...r,ib,_S,a,...o,RS,OS,e],u=[...r,ib,NS,n],l=this.gl;this.programStatus=VS(l,this.glHelper.compileShader(l.VERTEX_SHADER,c),this.glHelper.compileShader(l.FRAGMENT_SHADER,u))}finalizeGraphicsInitialization(){const e=this.programStatus.getProgramErrors();if(e){e.detail&&console.warn(e.detail);const n=new Error("Cannot create shader program: "+e.message);throw n.view=this.unitView,n}this.programInfo=q9(this.gl,this.programStatus.program),delete this.programStatus,this.domainUniforms.length&&(this.domainUniformInfo=Nm(this.gl,this.programInfo,"Domains")),this.viewUniformInfo=Nm(this.gl,this.programInfo,"View"),this.gl.useProgram(this.programInfo.program),this._setDatums(),Ce(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0})}_setDatums(){for(const[e,n]of Object.entries(this.encoding))if(Is(n)){const r=this.encoders[e],i=r.indexer?r.indexer(n.datum):Wu(r.scale.type)?nb(+n.datum):+n.datum;Ce(this.programInfo,{[df+e]:i})}}deleteGraphicsData(){if(this.bufferInfo){const e=this.gl;for(let n=0;n<8;n++)e.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(e){if(this.gl.bindVertexArray(null),this.bufferInfo&&e.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(e.arrays))r.data&&rE(this.gl,this.bufferInfo.attribs[n],r.data,0);else this.deleteGraphicsData(),this.bufferInfo=sE(this.gl,e.arrays,{numElements:e.vertexCount}),this.bufferInfo.allocatedVertices=e.allocatedVertices,this.vertexArrayInfo=void 0}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null)return!1;for(const e of this.unitView.getAncestors())if(!e.isPickingSupported())return!1;return!0}prepareRender(e){const n=this.glHelper,r=this.gl,i=[];if(i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=lS(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)}),this.domainUniformInfo){for(const[s,a]of Object.entries(this.domainUniformInfo.setters)){const c=s.substring(Xm.length),u=this.encoding[c],l=Te(u)&&u.resolutionChannel||c,h=this.unitView.getScaleResolution(l);if(h){const f=h.getScale();i.push(()=>{const d=Wr(f.type)?[0,f.domain().length]:f.domain();a(Wu(f.type)?SS(d):d)})}}i.push(()=>Lm(r,this.programInfo,this.domainUniformInfo))}for(const[s,a]of Object.entries(this.encoding))if(Te(a)){const c=Te(a)&&a.resolutionChannel||s,u=this.unitView.getScaleResolution(c),l=n.rangeTextures.get(u);l&&i.push(()=>Ce(this.programInfo,{[pf+s]:l}))}this.getSampleFacetMode()==cb&&i.push(()=>{let s;for(const a of this.unitView.getAncestors())if(s=a.getSampleFacetTexture(),s)break;if(!s)throw new Error("No facet texture available. This is bug.");Ce(this.programInfo,{uSampleFacetTexture:s})});const o=(e.picking??!1)&&this.isPickingParticipant();return i.push(()=>Um(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:o})),this.opaque||e.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(e){const n=e.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,o=n.locSize?n.locSize.size:1;if(i>1||i+o<0)return!1;const s=n.targetLocSize?n.targetLocSize.location:i,a=n.targetLocSize?n.targetLocSize.size:o;this.gl.uniform4f(r.location,i,o,s,a)}return!0}render(e){}createRenderCallback(e,n){var r;const i=this;let o;const s=(r=this.unitView.getScaleResolution("x"))==null?void 0:r.getScale(),a=s&&Ee(s.type),c=["index","locus"].includes(s==null?void 0:s.type)?-1:0,u=[0,0];o=f=>{if(a&&f.xIndex){const d=s.domain(),g=f.xIndex(d[0]+c,d[1],u),b=g[0],w=g[1]-b;w>0&&e(b,w)}else e(f.offset,f.count)};const l=this.rangeMap.get(void 0).count==0?n.facetId:void 0,h=this.rangeMap.get(l);return n.sampleFacetRenderingOptions?function(){h.count&&i.prepareSampleFacetRendering(n)&&o(h)}:function(){h.count&&o(h)}}setViewport(e,n){const r=this.glHelper.dpr,i=this.gl,o=this.properties,s=this.glHelper.getLogicalCanvasSize(),a=.5,c=(o.xOffset||0)+a,u=(o.yOffset||0)+a;let l,h=e;if(o.clip||n){let f=0,d=0,g;n?(h=o.clip?e.intersect(n):n,g=[e.width/h.width,e.height/h.height],d=Math.max(0,e.y2-n.y2),f=Math.max(0,e.x2-n.x2)):g=[1,1];const b=[e.x,s.height-h.y2,Math.max(0,h.width),Math.max(0,h.height)].map(E=>E*r),w=b.map(E=>Math.floor(E)),[A,B]=b.map((E,C)=>E-w[C]);i.viewport(...w),i.scissor(...w),i.enable(i.SCISSOR_TEST),l={uViewOffset:[(c+f+A)/h.width,-(u+d-B)/h.height],uViewScale:g}}else i.viewport(0,0,s.width*r,s.height*r),i.disable(i.SCISSOR_TEST),l={uViewOffset:[(e.x+c)/s.width,(s.height-e.y-u-e.height)/s.height],uViewScale:[e.width/s.width,e.height/s.height]};return Um(this.viewUniformInfo,{...l,uViewportSize:[e.width,e.height],uDevicePixelRatio:this.glHelper.dpr}),Lm(this.gl,this.programInfo,this.viewUniformInfo),h.height>0&&h.width>0}findDatumAt(e,n){}}class YS extends _r{constructor(){super([],JSON.stringify)}get(e){let n=super.get(e);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(e,n)),n}migrateEntries(e){for(const[n,r]of e.entries())Object.assign(this.get(n),r)}}function wf(t,e){const n=C8(e);let r=t[e]&&{...t[e]},i=t[n]&&{...t[n]};if(!(Ye(r)||Ye(i))){if(r){if(!Te(t[e]))return;if(i){if(r.type!="quantitative"){const o=(1-(r.band||1))/2;r.band=o,i.band=-o}}else if(r.type=="quantitative")i={datum:0};else{i={...r};const o=(1-(r.band??1))/2;r.band=0+o,i.band=1-o}}else r={value:0},i={value:1};t[e]=r,t[n]=i}}function lb(t,e){t.stroke||(e?t.stroke={value:null}:t.stroke={resolutionChannel:"color",...t.color}),Ye(t.stroke)&&t.stroke.value===null&&(t.strokeWidth={value:0}),t.strokeOpacity||(t.strokeOpacity={resolutionChannel:"opacity",...t.opacity})}function hb(t,e){Ye(t.fill)&&t.fill.value===null?t.fillOpacity={value:0}:t.fill||(t.fill={resolutionChannel:"color",...t.color},!e&&!t.fillOpacity&&(t.fillOpacity={value:0})),t.fillOpacity||(e?t.fillOpacity={resolutionChannel:"opacity",...t.opacity}:t.fillOpacity={value:0})}class WS extends Gs{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1,tessellationZoomThreshold:10,tessellationTiles:35}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return no(this,"opaque",()=>!this._isRoundedCorners()&&!this._isStroked()&&Ye(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(e){return wf(e,"x"),wf(e,"y"),lb(e,this.properties.filled),hb(e,this.properties.filled),delete e.color,delete e.opacity,e}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}_isRoundedCorners(){const e=this.properties;return e.cornerRadius||e.cornerRadiusBottomLeft||e.cornerRadiusBottomRight||e.cornerRadiusTopLeft||e.cornerRadiusTopRight}_isStroked(){const e=this.encoding.strokeWidth;return!(Ye(e)&&!e.value)}async initializeGraphics(){await super.initializeGraphics();const e=[];this._isRoundedCorners()&&e.push("ROUNDED_CORNERS"),this._isStroked()&&e.push("STROKED"),this.createAndLinkShaders(gS,mS,e.map(n=>"#define "+n))}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Ce(this.programInfo,{uMinSize:[e.minWidth,e.minHeight],uMinOpacity:e.minOpacity,uCornerRadii:[e.cornerRadiusTopRight??e.cornerRadius,e.cornerRadiusBottomRight??e.cornerRadius,e.cornerRadiusTopLeft??e.cornerRadius,e.cornerRadiusBottomLeft??e.cornerRadius]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new FS({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>to(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{Ns(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r)},e)}findDatumAt(e,n){e=pn(e);const r=this.encoders,i=this.unitView.getCollector().facetBatches.get(e),o=r.x.accessor,s=r.x2.accessor;if(i)return i.find(a=>n>=o(a)&&n<s(a))}}const XS=`/***The stroke should only grow inwards,e.g,the diameter/outline is not affected by the stroke width.*Thus,a point that has a zero size has no visible stroke. This allows strokes to be used with*geometric zoom,etc.*/uniform bool uInwardStroke;uniform lowp float uMaxRelativePointDiameter;uniform float uScaleFactor;uniform float uMaxPointSize;uniform float uZoomLevel;uniform float uSemanticThreshold;out float vRadius;out float vRadiusWithPadding;out lowp vec4 vFillColor;out lowp vec4 vStrokeColor;out lowp float vShape;out lowp float vHalfStrokeWidth;out mat2 vRotationMatrix;float computeSemanticThresholdFactor(){return getScaled_semanticScore()>=uSemanticThreshold ? 1.0 : 0.0;}/***Computes a scaling factor for the points in a sample-faceted view.*/float getDownscaleFactor(vec2 pos){if(!isFacetedSamples()){return 1.0;}float sampleFacetHeight=getSampleFacetHeight(pos);float maxPointDiameter=sqrt(uMaxPointSize);float factor=sampleFacetHeight*uViewportSize.y*uMaxRelativePointDiameter;return clamp(0.0,maxPointDiameter,factor)/maxPointDiameter;}vec2 getDxDy(){
#if defined(dx_DEFINED) || defined(dy_DEFINED)
return vec2(getScaled_dx(),getScaled_dy())/uViewportSize;
#else
return vec2(0.0,0.0);
#endif
}void main(void){float semanticThresholdFactor=computeSemanticThresholdFactor();if(semanticThresholdFactor<=0.0){gl_PointSize=0.0;gl_Position=vec4(100.0,0.0,0.0,0.0);return;}float size=getScaled_size();vec2 pos=vec2(getScaled_x(),getScaled_y())+getDxDy();gl_Position=unitToNdc(applySampleFacet(pos));float strokeWidth=getScaled_strokeWidth();float diameter=sqrt(size)*uScaleFactor*semanticThresholdFactor*getDownscaleFactor(pos);float opacity=uViewOpacity;if(strokeWidth<=0.0||uInwardStroke){float minDiameter=1.0/uDevicePixelRatio;if(diameter<minDiameter){opacity*=pow(diameter/minDiameter,2.5);diameter=minDiameter;}}float fillOpa=getScaled_fillOpacity()*opacity;float strokeOpa=getScaled_strokeOpacity()*opacity;vShape=getScaled_shape();bool circle=vShape==0.0;float angleInDegrees=getScaled_angle();float angle=-angleInDegrees*PI/180.0;float sinTheta=sin(angle);float cosTheta=cos(angle);vRotationMatrix=mat2(cosTheta,sinTheta,-sinTheta,cosTheta);float roomForRotation=circle ? 1.0 : sin(mod(angle,PI/2.0)+PI/4.0)/sin(PI/4.0);float aaPadding=1.0/uDevicePixelRatio;float rotationPadding=(diameter*roomForRotation)-diameter;float strokePadding=uInwardStroke ? 0.0 : strokeWidth*(circle ? 1.0 : sqrt(3.0));float padding=rotationPadding+strokePadding+aaPadding;gl_PointSize=(diameter+padding)*uDevicePixelRatio;vRadius=diameter/2.0;vRadiusWithPadding=vRadius+padding/2.0;vHalfStrokeWidth=strokeWidth/2.0;vFillColor=vec4(getScaled_fill()*fillOpa,fillOpa);vStrokeColor=vec4(getScaled_stroke()*strokeOpa,strokeOpa);setupPicking();}`,KS="const lowp vec4 white=vec4(1.0);const lowp vec4 black=vec4(0.0,0.0,0.0,1.0);uniform bool uInwardStroke;uniform float uGradientStrength;in float vRadius;in float vRadiusWithPadding;in lowp vec4 vFillColor;in lowp vec4 vStrokeColor;in lowp float vShape;in lowp float vHalfStrokeWidth;in mat2 vRotationMatrix;out lowp vec4 fragColor;const float CIRCLE=0.0;const float SQUARE=1.0;const float TRIANGLE_UP=2.0;const float CROSS=3.0;const float DIAMOND=4.0;const float TRIANGLE_DOWN=5.0;const float TRIANGLE_RIGHT=6.0;const float TRIANGLE_LEFT=7.0;float circle(vec2 p,float r){return length(p)-r;}float square(vec2 p,float r){p=abs(p);return max(p.x,p.y)-r;}float equilateralTriangle(vec2 p,float r,bool flip,bool swap){if(swap){p.xy=p.yx;}if(flip){p.y=-p.y;}float k=sqrt(3.0);float kr=k*r;p.y-=kr/2.0;return max((abs(p.x)*k+p.y)/2.0,-p.y-kr);}float crossShape(vec2 p,float r){p=abs(p);vec2 b=vec2(0.4,1.0)*r;vec2 v=abs(p)-b.xy;vec2 h=abs(p)-b.yx;return min(max(v.x,v.y),max(h.x,h.y));}float diamond(vec2 p,float r){p=abs(p);return(max(abs(p.x-p.y),abs(p.x+p.y))-r)/sqrt(2.0);}void main(){float d;vec2 p=vRotationMatrix*(2.0*gl_PointCoord-1.0)*vRadiusWithPadding;float r=vRadius;if(vShape==CIRCLE){d=circle(p,r);}else if(vShape==SQUARE){d=square(p,r);}else if(vShape==TRIANGLE_UP){d=equilateralTriangle(p,r,true,false);}else if(vShape==CROSS){d=crossShape(p,r);}else if(vShape==DIAMOND){d=diamond(p,r);}else if(vShape==TRIANGLE_DOWN){d=equilateralTriangle(p,r,false,false);}else if(vShape==TRIANGLE_RIGHT){d=equilateralTriangle(p,r,false,true);}else if(vShape==TRIANGLE_LEFT){d=equilateralTriangle(p,r,true,true);}else{d=0.0;}if(!uPickingEnabled){lowp vec4 fillColor=mix(vFillColor,white,-d*uGradientStrength/vRadius);fragColor=distanceToColor(d+(uInwardStroke ? vHalfStrokeWidth : 0.0),fillColor,vStrokeColor,vHalfStrokeWidth);}else if(d-vHalfStrokeWidth<=0.0){fragColor=vPickingColor;}else{discard;}}",Rn=1<<0,gr=1<<1,Af=1<<2,JS={};class Ot{get behavior(){return 0}constructor(){this.children=[],this.parent=void 0,this.completed=!1}reset(){this.completed=!1;for(const e of this.children)e.reset()}initialize(){}_updatePropagator(){this._propagate=Function("children",qo(this.children.length).map(e=>`const child${e} = children[${e}];`).join(`
`)+`return function propagate(datum) {${qo(this.children.length).map(e=>`child${e}.handle(datum);`).join(`
`)}}`)(this.children)}setParent(e){this.parent=e}addChild(e){if(e.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(e),e.setParent(this),this._updatePropagator(),this}adopt(e){e.parent&&e.parent.removeChild(e),this.addChild(e)}adoptChildrenOf(e){for(const n of e.children)this.adopt(n)}insertAsParent(e){if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");e.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.parent=void 0,e.addChild(this)}removeChild(e){const n=this.children.indexOf(e);if(n>-1)this.children.splice(n,1),e.parent=void 0,this._updatePropagator();else throw new Error("Trying to remove an unknown child node!")}excise(){if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const e=this.children[0];e.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(e){e(this);for(const n of this.children)n.visit(e);e.afterChildren&&e.afterChildren(this)}subtreeToString(e=0){var n;const r=this.children.map(i=>i.subtreeToString(e+1)).join("");return" ".repeat(e*2)+"* "+((n=/^class ([A-Za-z0-9_]+)/.exec(""+this.constructor))==null?void 0:n[1])+`
`+r}getGlobalObject(){return this.parent?this.parent.getGlobalObject():JS}handle(e){this._propagate(e)}complete(){this.completed=!0;for(const e of this.children)e.complete()}beginBatch(e){for(const n of this.children)n.beginBatch(e)}_propagate(e){}}function fb(t){return t.type=="file"}function $S(t){return t.type=="facet"}class db extends Ot{constructor(e){super(),this.k=e.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(e){this.reservoir.push(e),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(e){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=e,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(e){this.ingester(e)}complete(){for(const e of this.reservoir)this._propagate(e);super.complete()}}function tB(t,e,n){const r=new db({type:"sample",size:t});for(const i of e)r.handle(n(i));return r.complete(),r.reservoir}const eB={};class nB extends Gs{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02}))}getAttributes(){return["inwardStroke","uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","gradientStrength","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...eB}}fixEncoding(e){return lb(e,this.properties.filled),hb(e,this.properties.filled),delete e.color,delete e.opacity,e}initializeData(){super.initializeData();const e=this.unitView.getAccessor("semanticScore");e&&(this.sampledSemanticScores=Float32Array.from(tB(1e4,this.unitView.getCollector().getData(),e)),this.sampledSemanticScores.sort((n,r)=>n-r))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(XS,KS)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Ce(this.programInfo,{uInwardStroke:e.inwardStroke,uGradientStrength:e.fillGradientStrength,uMaxRelativePointDiameter:1-2*e.sampleFacetPadding})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new TS({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}_getGeometricScaleFactor(){const e=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/e),1/3)}_getMaxPointSize(){const e=this.encoders.size;return e.constant?e(null):e.scale.range().reduce((n,r)=>Math.max(n,r))}getSemanticThreshold(){if(this.sampledSemanticScores){const e=Math.max(0,1-this.properties.semanticZoomFraction*this.unitView.getZoomLevel());if(e<=0)return-1/0;if(e>=1)return 1/0;{const n=this.sampledSemanticScores;return Q0(n,e)}}else return-1}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>Ce(this.programInfo,{uMaxPointSize:this._getMaxPointSize(),uScaleFactor:this._getGeometricScaleFactor(),uSemanticThreshold:this.getSemanticThreshold()})),n.push(()=>to(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{i&&Ns(n,this.vertexArrayInfo,n.POINTS,i,r)},e)}}const rB="const int BUTT=0;const int SQUARE=1;const int ROUND=2;in float pos;in float side;uniform float uMinLength;uniform mediump float uDashTextureSize;uniform lowp int uStrokeCap;out vec4 vColor;out float vSize;out float vNormalLengthInPixels;out highp vec2 vPosInPixels;void main(void){float pixelSize=1.0/uDevicePixelRatio;float size=getScaled_size();float opacity=getScaled_opacity()*uViewOpacity;if(size<pixelSize){opacity*=size/pixelSize;size=pixelSize;}vec2 a=applySampleFacet(vec2(getScaled_x(),getScaled_y()));vec2 b=applySampleFacet(vec2(getScaled_x2(),getScaled_y2()));vec2 tangent=b-a;float offset=0.0;float relativeDiff=0.0;if(uMinLength>0.0||uStrokeCap!=BUTT){float len=length(tangent*uViewportSize);float diff=max(0.0,uMinLength-len);if(uStrokeCap!=BUTT){diff+=size;}relativeDiff=diff/len;offset=relativeDiff*(pos-0.5);}vec2 p=pos<1.0? a+tangent*(pos+offset): b+tangent*offset;float aaPadding=pixelSize;vec2 normal=normalize(vec2(-tangent.y,tangent.x)/uViewportSize);p+=normal*side*(size+aaPadding)/uViewportSize;gl_Position=unitToNdc(p);vColor=vec4(getScaled_color()*opacity,opacity);vSize=size;vNormalLengthInPixels=side*(size+aaPadding);vPosInPixels=vec2(pos,(1.0-pos))*(1.0+relativeDiff)*length(tangent*uViewportSize)-vec2(uStrokeCap!=BUTT ? size/2.0 : 0.0);setupPicking();}",iB="const int BUTT=0;const int SQUARE=1;const int ROUND=2;uniform sampler2D uDashTexture;uniform float uDashTextureSize;uniform float uStrokeDashOffset;uniform lowp int uStrokeCap;in vec4 vColor;in float vSize;in vec2 vPosInPixels;in float vNormalLengthInPixels;out lowp vec4 fragColor;void main(void){float dpr=uDevicePixelRatio;float distanceFromEnd=-min(vPosInPixels[0],vPosInPixels[1]);float distance;if(distanceFromEnd>0.0&&uStrokeCap==ROUND){distance=length(vec2(distanceFromEnd,vNormalLengthInPixels));}else{distance=abs(vNormalLengthInPixels);}float opacity=clamp(((vSize/2.0-distance)*dpr),-0.5,0.5)+0.5;if(uDashTextureSize>0.0){float pos=(vPosInPixels[0]+uStrokeDashOffset)*dpr;float floored=floor(pos);vec2 texelPositions=(floored+vec2(0.5,1.5))/dpr/uDashTextureSize;opacity*=mix(texture(uDashTexture,vec2(texelPositions[0],0)).r,texture(uDashTexture,vec2(texelPositions[1],0)).r,clamp((pos-floored),0.0,1.0));}fragColor=vColor*opacity;if(uPickingEnabled){fragColor=vPickingColor;}}";class oB extends Gs{constructor(e){super(e),this.dashTextureSize=0,Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){if(!(e.x&&e.y&&e.x2&&e.y2))if(e.x&&e.x2&&!e.y)e.y={value:.5},e.y2=e.y;else if(e.y&&e.y2&&!e.x)e.x={value:.5},e.x2=e.x;else if(e.x&&!e.y)e.y={value:0},e.y2={value:1},e.x2=e.x;else if(e.y&&!e.x)e.x={value:0},e.x2={value:1},e.y2=e.y;else if(e.x&&e.y&&e.y2)e.x2=e.x;else if(e.y&&e.x&&e.x2)e.y2=e.y;else if(e.y&&e.x)if(!e.x2&&Te(e.y)&&e.y.type=="quantitative")e.x2=e.x,e.y2={datum:0};else if(!e.y2&&Te(e.x)&&e.x.type=="quantitative")e.y2=e.y,e.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(e));return e}async initializeGraphics(){if(await super.initializeGraphics(),this.properties.strokeDash){const e=this.gl,n=sB(this.properties.strokeDash);this.dashTexture=Os(e,{mag:e.NEAREST,min:e.NEAREST,internalFormat:e.R8,format:e.RED,src:n,height:1}),this.dashTextureSize=n.length}this.createAndLinkShaders(rB,iB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Ce(this.programInfo,{uMinLength:e.minLength,uDashTextureSize:this.dashTextureSize,uStrokeCap:["butt","square","round"].indexOf(e.strokeCap)})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new PS({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return this.dashTexture&&n.push(()=>Ce(this.programInfo,{uDashTexture:this.dashTexture,uStrokeDashOffset:this.properties.strokeDashOffset})),n.push(()=>to(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Ns(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),e)}}function sB(t){if(t.length==0||t.length%2||t.findIndex(o=>Math.round(o)!=o||o<1||o>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(t));const e=t.reduce((o,s)=>o+s),n=new Uint8Array(e);let r=!0,i=0;for(let o of t){for(;o;)n[i++]=r&&255||0,o--;r=!r}return n}const aB=`uniform float uSagittaScaleFactor;uniform float uMinSagittaLength;in vec2 strip;out vec4 vColor;out float vSize;out float vNormalLengthInPixels;void main(void){float pixelSize=1.0/uDevicePixelRatio;float opacity=getScaled_opacity()*uViewOpacity;vec2 a=vec2(getScaled_x(),getScaled_y())*uViewportSize;vec2 b=vec2(getScaled_x2(),getScaled_y2())*uViewportSize;vec2 chordVector=b-a;vec2 unitChordVector=normalize(chordVector);vec2 chordNormal=vec2(-unitChordVector.y,unitChordVector.x);float sagitta=max(length(chordVector)/2.0*uSagittaScaleFactor,uMinSagittaLength);bool compress=false;if(compress){float maxSagittaLen=length(chordNormal*uViewportSize);float maxChordLen=length(unitChordVector*uViewportSize);float threshold=maxSagittaLen*0.5;if(sagitta>threshold){float m=(maxSagittaLen-threshold)/(maxChordLen-threshold);sagitta=(sagitta-threshold)*m+threshold;}}vec2 controlOffset=chordNormal*sagitta/0.75;vec2 p1=a;vec2 p2=a+controlOffset;vec2 p3=b+controlOffset;vec2 p4=b;float t=smoothstep(0.0,1.0,strip.x);vec2 C1=p4-3.0*p3+3.0*p2-p1;vec2 C2=3.0*p3-6.0*p2+3.0*p1;vec2 C3=3.0*p2-3.0*p1;vec2 C4=p1;vec2 p;if(t==0.0){p=p1;}else if(t==1.0){p=p4;}else{p=C1*t*t*t+C2*t*t+C3*t+C4;}vec2 tangent=normalize(3.0*C1*t*t+2.0*C2*t+C3);vec2 normal=vec2(-tangent.y,tangent.x);
#ifdef size2_DEFINED
float mixedSize=mix(getScaled_size(),getScaled_size2(),t);
#else
float mixedSize=getScaled_size();
#endif
if(mixedSize<pixelSize){opacity*=mixedSize/pixelSize;mixedSize=pixelSize;}float paddedSize=mixedSize+pixelSize;vNormalLengthInPixels=strip.y*paddedSize;p+=normal*vNormalLengthInPixels;gl_Position=pixelsToNdc(p);
#ifdef color2_DEFINED
vec3 color=mix(getScaled_color(),getScaled_color2(),t);
#else
vec3 color=getScaled_color();
#endif
vColor=vec4(color*opacity,opacity);vSize=paddedSize;setupPicking();}`,uB="in lowp vec4 vColor;in float vSize;in float vNormalLengthInPixels;out lowp vec4 fragColor;void main(void){float dpr=uDevicePixelRatio;float distance=abs(vNormalLengthInPixels);float opacity=clamp(((vSize/2.0-distance)*dpr),0.0,1.0);fragColor=vColor*opacity;if(uPickingEnabled){fragColor=vPickingColor;}}";class cB extends Gs{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,sagittaScaleFactor:1,minSagittaLength:1.5}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","height","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){return e.x||(e.x2=e.x),e.y2||(e.y2=e.y),e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(aB,uB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Ce(this.programInfo,{uSagittaScaleFactor:e.sagittaScaleFactor,uMinSagittaLength:e.minSagittaLength})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new zS({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();i.arrays.strip={data:lB(this.properties.segments),numComponents:2},this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([o,s])=>[o,{...s,data:void 0}])),this.updateBufferInfo(i)}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{this.gl.bindVertexArray(this.vertexArrayInfo.vertexArrayObject);for(const o of Object.entries(this.bufferInfo.attribs)){const[s,a]=o;a.buffer&&a.numComponents&&a.divisor&&(a.offset=r*this.arrays[s].numComponents*4)}to(n,this.programInfo,this.bufferInfo),Ns(n,this.bufferInfo,n.TRIANGLE_STRIP,(this.properties.segments+1)*2,0,i)},e)}}function lB(t){let e=0;const n=[];for(;e<=t;e++)n.push(e/t,.5),n.push(e/t,-.5);return n}const hB=`uniform float uSdfNumerator;uniform vec2 uD;in mediump vec2 vertexCoord;in lowp vec2 textureCoord;uniform vec4 uViewportEdgeFadeWidth;uniform vec4 uViewportEdgeFadeDistance;uniform bool uSqueeze;uniform bool uLogoLetter;in float width;uniform ivec2 uAlign;
#ifdef x2_DEFINED
uniform float uPaddingX;uniform bool uFlushX;
#endif
#ifdef y2_DEFINED
uniform float uPaddingY;uniform bool uFlushY;
#endif
out vec2 vTexCoord;out vec4 vColor;out float vSlope;out float vEdgeFadeOpacity;struct RangeResult{float pos;float scale;};float minValue(vec4 v){return min(min(v.x,v.y),min(v.z,v.w));}float maxValue(vec4 v){return max(max(v.x,v.y),max(v.z,v.w));}/***All measures are in[0,1]*/RangeResult positionInsideRange(float a,float b,float width,float padding,int align,bool flush){float span=b-a;float paddedWidth=width+2.0*padding;if(a>1.0||b<0.0){return RangeResult(0.0,0.0);}float extra=max(0.0,span-paddedWidth);float pos;if(align==0){float centre=a+b;if(flush){float leftOver=max(0.0,paddedWidth-centre);centre+=min(leftOver,extra);float rightOver=max(0.0,paddedWidth+centre-2.0);centre-=min(rightOver,extra);}pos=centre/2.0;}else if(align<0){float edge=a;if(flush){float over=max(0.0,-edge);edge+=min(over,extra);}pos=edge+padding;}else{float edge=b;if(flush){float over=max(0.0,edge-1.0);edge-=min(over,extra);}pos=edge-padding;}float scale=clamp((span-padding)/paddedWidth,0.0,1.0);return RangeResult(pos,scale);}vec2 calculateRotatedDimensions(float width,mat2 rotationMatrix){vec2 a=abs(rotationMatrix*vec2(width/2.0,0.5));vec2 b=abs(rotationMatrix*vec2(width/2.0,-0.5));return vec2(max(a.x,b.x),max(a.y,b.y))*2.0;}ivec2 fixAlignForAngle(ivec2 align,float angleInDegrees){float a=mod(angleInDegrees+45.0,360.0);int x=align.x;int y=-align.y;if(a<90.0){return ivec2(x,y);}else if(a<180.0){return ivec2(y,-x);}else if(a<270.0){return ivec2(-x,y);}else{return ivec2(-y,x);}}void main(void){float opacity=getScaled_opacity()*uViewOpacity;vec2 size=vec2(getScaled_size());float x=getScaled_x();float y=getScaled_y();float scale=1.0;float angleInDegrees=getScaled_angle();float angle=-angleInDegrees*PI/180.0;float sinTheta=sin(angle);float cosTheta=cos(angle);mat2 rotationMatrix=mat2(cosTheta,sinTheta,-sinTheta,cosTheta);vec2 flushSize=calculateRotatedDimensions(width,rotationMatrix);
#if defined(x2_DEFINED) || defined(y2_DEFINED)
ivec2 align=fixAlignForAngle(uAlign,angleInDegrees);
#else
ivec2 align=uAlign;
#endif
#ifdef x2_DEFINED
float x2=getScaled_x2();if(uLogoLetter){size.x=(x2-x)*uViewportSize.x;x+=(x2-x)/2.0;}else{float x2=getScaled_x2();RangeResult result=positionInsideRange(min(x,x2),max(x,x2),size.x*scale*flushSize.x/uViewportSize.x,uPaddingX/uViewportSize.x,align.x,uFlushX);x=result.pos;scale*=result.scale;}
#endif
vec2 pos=applySampleFacet(vec2(x,y));
#ifdef y2_DEFINED
float y2=getScaled_y2();vec2 pos2=applySampleFacet(vec2(x,y2));if(uLogoLetter){size.y=(pos2.y-pos.y)*uViewportSize.y;pos.y+=(pos2.y-pos.y)/2.0;}else{RangeResult result=positionInsideRange(min(pos.y,pos2.y),max(pos.y,pos2.y),size.y*scale*flushSize.y/uViewportSize.y,uPaddingY/uViewportSize.y,align.y,uFlushY);pos.y=result.pos;scale*=result.scale;}
#endif
if(scale<1.0){if(uSqueeze){vec2 scaleFadeExtent=vec2(3.0,6.0)/size;if(scale<scaleFadeExtent[0]){gl_Position=vec4(0.0);return;}size*=scale;opacity*=linearstep(scaleFadeExtent[0],scaleFadeExtent[1],scale);}else if(scale<1.0){gl_Position=vec4(0.0);return;}}vec2 charPos=rotationMatrix*(vertexCoord*size+uD);vec2 unitPos=pos+charPos/uViewportSize;gl_Position=unitToNdc(unitPos);vSlope=max(1.0,min(size.x,size.y)/uSdfNumerator);vColor=vec4(getScaled_color()*opacity,opacity);vTexCoord=textureCoord;if(maxValue(uViewportEdgeFadeDistance)>-pow(10.0,10.0)){vEdgeFadeOpacity=minValue(((vec4(1.0,1.0,0.0,0.0)+vec4(-1.0,-1.0,1.0,1.0)*unitPos.yxyx)*uViewportSize.yxyx-uViewportEdgeFadeDistance)/uViewportEdgeFadeWidth);}else{vEdgeFadeOpacity=1.0;}setupPicking();}`,fB="uniform sampler2D uTexture;uniform bool uLogoLetter;in vec2 vTexCoord;in float vEdgeFadeOpacity;in vec4 vColor;in float vSlope;out lowp vec4 fragColor;float median(float r,float g,float b){return max(min(r,g),min(max(r,g),b));}void main(){vec3 c=texture(uTexture,vTexCoord).rgb;float sigDist=1.0-median(c.r,c.g,c.b);float slope=uLogoLetter? 0.7/length(vec2(dFdy(sigDist),dFdx(sigDist))): vSlope;float opa=clamp((sigDist-0.5)*slope+0.5,0.0,1.0);opa*=pow(clamp(vEdgeFadeOpacity,0.0,1.0),2.2);fragColor=vColor*opa;if(uPickingEnabled){fragColor=vPickingColor;}}",dB={left:-1,center:0,right:1},pB={top:-1,middle:0,bottom:1,alphabetic:1};class gB extends Gs{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0})),this.font=this.properties.font?e.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):e.context.fontManager.getDefaultFont()}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(e){for(const n of Fs)this.properties.fitToBand&&wf(e,n);return e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(hB,fB)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Ce(this.programInfo,{uPaddingX:e.paddingX,uPaddingY:e.paddingY,uFlushX:!!e.flushX,uFlushY:!!e.flushY,uAlign:[dB[e.align],pB[e.baseline]],uD:[e.dx,-e.dy],uLogoLetter:!!e.logoLetters,uSqueeze:!!e.squeeze,uViewportEdgeFadeWidth:[e.viewportEdgeFadeWidthTop,e.viewportEdgeFadeWidthRight,e.viewportEdgeFadeWidthBottom,e.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[e.viewportEdgeFadeDistanceTop,e.viewportEdgeFadeDistanceRight,e.viewportEdgeFadeDistanceBottom,e.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getData(),r=this.encoding,i=this.encoders.text.accessor||this.encoders.text;let o=0;const s="format"in r.text?Xt(r.text.format):u=>u;for(const u of n){const l=s(i(u)),h=It(l)?l:l===null?"":""+l;o+=h&&h.length||0}const a=new MS({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(o,this.properties.minBufferSize||0)});a.addBatches(e.facetBatches);const c=a.toArrays();this.rangeMap.migrateEntries(c.rangeMap),this.updateBufferInfo(c)}prepareRender(e){const n=super.prepareRender(e);let r=.35;return this.properties.logoLetters&&(r/=2),n.push(()=>Ce(this.programInfo,{uTexture:this.font.texture,uSdfNumerator:this.font.metrics.common.base/(this.glHelper.dpr/r)})),n.push(()=>to(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>Ns(n,this.vertexArrayInfo,n.TRIANGLES,i,r),e)}}function pb(t,e,{spacing:n,devicePixelRatio:r,offset:i,reverse:o}={}){n=n||0,i=i||0;let s=0,a=0;for(const g of t)s+=$u(g.px)+(Ef(g)?0:n),a+=$u(g.grow);s-=n;const c=Math.max(0,e-s),u=r!==void 0?g=>Math.round(g*r)/r:g=>g,l=[],h=[],f=g=>{const b=l.length;if(!b)return;const w=(g?n:0)*(o?-1:1);d-=w;for(let A=0;A<b;A++)h.push({location:d+(A+1)/(b+1)*w,size:0});d+=w,l.length=0};let d=o?Math.max(e,s):0+i;if(t.length==1&&Ef(t[0]))return[{location:d,size:0}];for(let g=0;g<t.length;g++){const b=t[g];if(Ef(b))l.push(b);else{f(h.length>0);const w=$u(b.px)+(a?$u(b.grow)/a*c:0);o&&(d-=w),h.push({location:u(d),size:u(w)}),o?d-=n:d+=w+n}}return d+=o?n:-n,f(!1),h}function mB(t){let e=0,n=0;for(const r of t)e=Math.max(e,r.px??0),n=Math.max(n,r.grow??0);return{px:e,grow:n}}var Ju,xf;const gb=class{constructor(t,e){ae(this,Ju),this.width=t,this.height=e}addPadding(t){return ee(this,Ju,xf).call(this,t.width,t.height)}subtractPadding(t){return ee(this,Ju,xf).call(this,-t.width,-t.height)}};let Hs=gb;Ju=new WeakSet,xf=function(t,e){return new gb({px:(this.width.px??0)+t,grow:this.width.grow},{px:(this.height.px??0)+e,grow:this.height.grow})};const js=Object.freeze({px:0,grow:0}),bB=new Hs(js,js);function Ef(t){return!t.px&&!t.grow}function $u(t){return t||0}function yB(t){return t&&(pe(t.px)||pe(t.grow))}function mb(t){if(wb(t))throw new Error("parseSizeDef does not accept step-based sizes.");if(yB(t))return t;if(pe(t))return{px:t,grow:0};if(t==="container")return{px:0,grow:1};if(!t)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${t}`)}class Ke{constructor(e,n,r,i){this.top=e||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(e){return e<=0?this:new Ke(this.top+e,this.right+e,this.bottom+e,this.left+e)}add(e){return new Ke(this.top+e.top,this.right+e.right,this.bottom+e.bottom,this.left+e.left)}subtract(e){return new Ke(this.top-e.top,this.right-e.right,this.bottom-e.bottom,this.left-e.left)}static createFromConfig(e){return typeof e=="number"?this.createUniformPadding(e):e?this.createFromRecord(e):Cf}static createFromRecord(e){return new Ke(e.top,e.right,e.bottom,e.left)}static zero(){return Cf}static createUniformPadding(e){return new Ke(e,e,e,e)}}const Cf=Ke.createUniformPadding(0);Object.freeze(Cf);const vB=/^([A-Za-z]+:)?\/\//;function wB(t,e){if(e&&vB.test(e))return e;const n=t();return n&&e?n.endsWith("/")?n+e:n+"/"+e:n??e}const bb="VISIT_SKIP",Vs="VISIT_STOP",yb=t=>t;class vb{constructor(e,n,r,i){this.context=n,this.parent=r,this.name=e.name||i,this.spec=e,this.resolutions={scale:{},axis:{}},this._broadcastHandlers={},this._capturingInteractionEventListeners={},this._nonCapturingInteractionEventListeners={},sb(this),this.opacityFunction=yb,this.blockEncodingInheritance=!1}getPadding(){return this._cache("size/padding",()=>Ke.createFromConfig(this.spec.padding))}getOverhang(){return Ke.zero()}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?this.getSizeFromSpec().addPadding(this.getPadding()):bB)}getSizeFromSpec(){const e=n=>{var r;let i=this.spec[n];if(wb(i)){const o=i.step,s=(r=this.getScaleResolution(n=="width"?"x":"y"))==null?void 0:r.getScale();if(s){let a=0;if(Wr(s.type))a=s.domain().length;else if(["locus","index"].includes(s.type)){const u=s.domain();a=Vi(u)-u[0]}else throw new Error(`Cannot use step-based size with "${s.type}" scale!`);const c=s;return a=mh(a,c.paddingInner(),c.paddingOuter()),{px:a*o,grow:0}}else throw new Error("Cannot use 'step' size with missing scale!")}else return(i&&mb(i))??{px:0,grow:1}};return this._cache("size/sizeFromSpec",()=>new Hs(e("width"),e("height")))}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getAncestors().every(e=>e.isConfiguredVisible())}getEffectiveOpacity(){var e;return this.opacityFunction(((e=this.parent)==null?void 0:e.getEffectiveOpacity())??1)}getPathString(){return this.getAncestors().map(e=>e.name).reverse().join("/")}getAncestors(){const e=[];let n=this;do e.push(n),n=n.parent;while(n);return e}handleBroadcast(e){for(const n of this._broadcastHandlers[e.type]||[])n(e)}_addBroadcastHandler(e,n){let r=this._broadcastHandlers[e];r||(r=[],this._broadcastHandlers[e]=r),r.push(n)}handleInteractionEvent(e,n,r){const i=r?this._capturingInteractionEventListeners:this._nonCapturingInteractionEventListeners;for(const o of i[n.type]||[])o(e,n)}addInteractionEventListener(e,n,r){const i=r?this._capturingInteractionEventListeners:this._nonCapturingInteractionEventListeners;let o=i[e];o||(o=[],i[e]=o),o.push(n)}visit(e){try{const n=e(this);if(e.postOrder&&e.postOrder(this),n!==Vs)return n}catch(n){throw n.view=this,n}}onScalesResolved(){(!this.opacityFunction||this.opacityFunction===yb)&&(this.opacityFunction=xB(this))}onBeforeRender(){}render(e,n,r={}){}getEncoding(){const e=this.parent&&!this.blockEncodingInheritance?this.parent.getEncoding():{},n=this.spec.encoding||{},r={...e,...n};for(const[i,o]of Object.entries(r))o===null&&delete r[i];return r}getFacetAccessor(e){if(this.parent)return this.parent.getFacetAccessor(this)}getFacetFields(e){var n;const r=this.getEncoding().sample;return Ds(r)?[r.field]:(n=this.parent)==null?void 0:n.getFacetFields(this)}getSampleFacetTexture(){}_getResolution(e,n){e=qi(e);let r=this;do{const i=r.resolutions[n][e];if(i)return i;r=r.parent}while(r)}getScaleResolution(e){return this._getResolution(e,"scale")}getAxisResolution(e){return this._getResolution(e,"axis")}getBaseUrl(){return wB(()=>{var e;return(e=this.parent)==null?void 0:e.getBaseUrl()},this.spec.baseUrl)}getDynamicDataSource(){throw new Error("The view does not provide dynamic data!")}isPickingSupported(){return!0}getTitleText(){const e=this.spec.title;if(e)return It(e)?e:e.text}_cache(e,n){return no(this,e,n)}_invalidateCacheByPrefix(e,n="self"){switch(n){case"self":Xu(this,e);break;case"ancestors":for(const r of this.getAncestors())Xu(r,e);break;case"progeny":this.visit(r=>Xu(r,e));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(e){}}function AB(t){return"unitsPerPixel"in t}function xB(t){const e=t.spec.opacity;if(e!==void 0){if(pe(e))return n=>n*e;if(AB(e)){const n=o=>{var s;const a=(s=t.getScaleResolution(o))==null?void 0:s.getScale();if(["linear","index","locus"].includes(a==null?void 0:a.type))return a},r=e.channel?n(e.channel):n("x")||n("y");if(!r)throw new Error("Cannot find a resolved quantitative scale for dynamic opacity!");const i=uh().domain(e.unitsPerPixel).range(e.values).clamp(!0);return o=>{const s=La(r.domain())/1e3;return i(s)*o}}}return n=>n}const wb=t=>!!(t!=null&&t.step);class ro extends vb{constructor(e,n,r,i){super(e,n,r,i),this.spec=e}*[Symbol.iterator](){}replaceChild(e,n){throw new Error("Not implemented")}visit(e){let n;try{n=e(this)}catch(r){throw r.view=this,r}if(n===Vs)return n;if(n!==bb){e.beforeChildren&&e.beforeChildren(this);for(const r of this){const i=r.visit(e);if(i===Vs)return i}e.afterChildren&&e.afterChildren(this),e.postOrder&&e.postOrder(this)}}findDescendantByPath(e){for(const n of this)if(n.name===e[0]){if(e.length==1)return n;if(n instanceof ro)return n.findDescendantByPath(e.slice(1))}}findChildByName(e){for(const n of this)if(n.name===e)return n}findDescendantByName(e){let n;return this.visit(r=>{if(r.name==e)return n=r,Vs}),n}getConfiguredResolution(e,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[e]}getDefaultResolution(e,n){return"shared"}getConfiguredOrDefaultResolution(e,n){return this.getConfiguredResolution(e,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(e,n)}}function tc(t,e,n){if(n=n||[],t.some(s=>s===null)){if(t.every(s=>s===null))return null;throw console.warn(t),new Error("Cannot merge objects with nulls!")}const r={},i=(s,a)=>s===a||io(s)&&io(a)||io(s)&&a===!0||s===!0&&je(a),o=s=>{for(let a in s){const c=s[a];if(!n.includes(a)&&c!==void 0)if(r[a]!==void 0&&!i(r[a],c))console.warn(`Conflicting property ${a} of ${e}: (${JSON.stringify(r[a])} and ${JSON.stringify(s[a])}). Using ${JSON.stringify(r[a])}.`);else{const u=r[a];if(io(u))io(c)&&(r[a]=tc([u,c],a));else if(io(c)){if(!(u===!0||u===void 0))throw new Error("Bug in merge! Target is: "+u);r[a]=tc([{},c],a)}else r[a]=c}}};for(const s of t)o(s);return r}function io(t){return je(t)&&!Array.isArray(t)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function Ab(t,e,n){return pe(e)&&n!=null&&(e=Math.min(e,~~(La(t.domain())/n)||1)),je(e)&&(e.step,e=e.interval),e}function xb(t,e,n){var r=t.range(),i=Math.floor(r[0]),o=Math.ceil(Ve(r));if(i>o&&(r=o,o=i,i=r),e=e.filter(function(a){return a=t(a),i<=a&&a<=o}),n>0&&e.length>1){for(var s=[e[0],Ve(e)];e.length>n&&e.length>=3;)e=e.filter(function(a,c){return!(c%2)});e.length<3&&(e=s)}return e}function EB(t,e){return t.bins?xb(t,CB(t.bins,e)):t.ticks?t.ticks(e):t.domain()}function CB(t,e){var n=t.length,r=~~(n/(e||n));return r<2?t.slice():t.filter(function(i,o){return!(o%r)})}function SB(t,e,n){var r=t.tickFormat?t.tickFormat(e,n):n?Xt(n):String;if(d1(t.type)){var i=kB(n);r=t.bins?i:BB(r,i)}return r}function BB(t,e){return function(n){return t(n)?e(n):""}}function kB(t){var e=Kn(t||",");if(e.precision==null){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1;break}return DB(Xt(e),Xt(".1f")(1)[1])}else return Xt(e)}function DB(t,e){return function(n){var r=t(n),i=r.indexOf(e),o,s;if(i<0)return r;for(o=IB(r,i),s=o<r.length?r.slice(o):"";--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function IB(t,e){var n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const FB="locus",PB="index";var TB=5;function zB(t){const e=t.type;return!t.bins&&(e===Gi||e===ms||e===bs)}function Eb(t){return Ee(t)&&![dn,PB,FB].includes(t)}function Cb(t){return t||{warn:(e,...n)=>console.warn(e,...n)}}var MB=Ga(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function Sb(t,e,n){n=Cb(n);for(const r in t)if(!MB[r]){if(r==="padding"&&Eb(e.type))continue;de(e[r])?e[r](t[r]):n.warn("Unsupported scale property: "+r)}HB(e,t,GB(e,t,NB(e,t,n)))}function _B(t,e){const n=RB(t),r=ct(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return Sb(t,i,e),i}function RB(t){var e=t.type,n="",r;return e===dn?dn+"-"+Gi:(OB(t)&&(r=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,n=r===2?dn+"-":r===3?Hi+"-":""),(n+e||Gi).toLowerCase())}function OB(t){const e=t.type;return Ee(e)&&e!==o1&&e!==s1&&(t.scheme||t.range&&t.range.length&&t.range.every(It))}function NB(t,e,n){if(!t.domain)return 0;n=Cb(n);var r=LB(t,e.domainRaw,n);if(r>-1)return r;var i=e.domain,o=t.type,s=e.zero||e.zero===void 0&&zB(t),a,c;return i?(Eb(o)&&e.padding&&i[0]!==Ve(i)&&(i=UB(o,i,e.range,e.padding,e.exponent,e.constant)),(s||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),e.domainMin!=null&&(i[0]=e.domainMin),e.domainMax!=null&&(i[a]=e.domainMax),e.domainMid!=null&&(c=e.domainMid,(c<i[0]||c>i[a])&&n.warn("Scale domainMid exceeds domain min or max.",c),i.splice(a,0,c))),t.domain(Bb(o,i,n)),o===yh&&t.unknown(e.domainImplicit?Ul:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&Ab(t,e.nice)||null),i.length):0}function LB(t,e,n){return e?(t.domain(Bb(t.type,e,n)),e.length):-1}function UB(t,e,n,r,i,o){var s=Math.abs(Ve(n)-n[0]),a=s/(s-2*r),c=t===ar?T0(e,null,a):t===bs?il(e,null,a,.5):t===ms?il(e,null,a,i||1):t===bu?X3(e,null,a,o||1):P0(e,null,a);return e=e.slice(),e[0]=c[0],e[e.length-1]=c[1],e}function Bb(t,e,n){if(d1(t)){var r=Math.abs(e.reduce(function(i,o){return i+(o<0?-1:o>0?1:0)},0));r!==e.length&&n.warn("Log scale domain includes zero: "+Ua(e))}return e}function GB(t,e,n){let r=e.bins;if(r&&!Ie(r)){const i=(r.start==null||r.stop==null)&&t.domain(),o=r.start==null?i[0]:r.start,s=r.stop==null?Ve(i):r.stop,a=r.step;a||Dt("Scale bins parameter missing step property."),r=qo(o,s+a,a)}return r?t.bins=r:t.bins&&delete t.bins,t.type===wh&&(r?!e.domain&&!e.domainRaw&&(t.domain(r),n=r.length):t.bins=t.domain()),n}function HB(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(e.rangeStep!=null)o=jB(r,e,n);else if(e.scheme&&(o=VB(r,e,n),de(o))){if(t.interpolator)return t.interpolator(o);Dt(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&vu(r))return t.interpolator(wu(Sf(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(p1(e.interpolate,e.interpolateGamma)):de(t.round)?t.round(i):de(t.rangeRound)&&t.interpolate(i?ps:or),o&&t.range(Sf(o,e.reverse))}function jB(t,e,n){t!==c1&&t!==vh&&Dt("Only band and point scales support rangeStep.");var r=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,i=t===vh?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*mh(n,i,r)]}function VB(t,e,n){var r=e.schemeExtent,i,o;return Ie(e.scheme)?o=wu(e.scheme,e.interpolate,e.interpolateGamma):(i=e.scheme.toLowerCase(),o=xh(i),o||Dt(`Unrecognized scheme name: ${e.scheme}`)),n=t===u1?n+1:t===wh?n-1:t===bh||t===a1?+e.schemeCount||TB:n,vu(t)?kb(o,r,e.reverse):de(o)?$6(kb(o,r),n):t===yh?o:o.slice(0,n)}function kb(t,e,n){return de(t)&&(e||n)?J6(t,Sf(e||[0,1],n)):t}function Sf(t,e){return e?t.slice().reverse():t}const Db=Xt(",d");function qB(t,e){return t.chrom+":"+Db(Math.floor(t.pos+1))+"-"+(t.chrom!=e.chrom?e.chrom+":":"")+Db(Math.ceil(e.pos))}const QB="https://genomespy.app/data/genomes/";class ZB{constructor(e){if(this.config=e,!this.config.contigs&&typeof this.config.name!="string")throw new Error("No name has been defined for the genome assembly!");this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,this.config.contigs&&this.setChromSizes(this.config.contigs)}get name(){return this.config.name}async load(e){if(!this.config.contigs){this.config.baseUrl?this.baseUrl=/^http(s)?/.test(this.config.baseUrl)?this.config.baseUrl:e+"/"+this.config.baseUrl:this.baseUrl=QB;try{this.setChromSizes(YB(await nu({baseURL:this.baseUrl}).load(`${this.config.name}/${this.name}.chrom.sizes`)))}catch(n){throw new Error(`Could not load chrom sizes: ${n.message}`)}}}hasChrPrefix(){return this.chromosomes.some(e=>e.name.startsWith("chr"))}setChromSizes(e){let n=0;this.startByIndex=[0];for(let r=0;r<e.length;r++){this.startByIndex.push(n);const i=e[r].size,o={...e[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(o);const s=o.name.replace(/^chr/i,"");for(const a of["chr"+s,"CHR"+s,"Chr"+s,o.number,""+o.number,s,o.name])this.cumulativeChromPositions.set(a,n),this.chromosomesByName.set(a,o);n+=o.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(e,n){let r=this.cumulativeChromPositions.get(e);if(r===void 0)throw new Error("Unknown chromosome/contig: "+e);return r+ +n}toChromosome(e){if(e>this.totalSize)return;e=Math.floor(e);const n=Di(this.startByIndex,e)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(e){const n=this.toChromosome(e);if(n)return{chrom:n.name,pos:Math.floor(e)-n.continuousStart}}getChromosome(e){return this.chromosomesByName.get(e)}formatInterval(e){return qB(...this.toChromosomalInterval(e))}toChromosomalInterval(e){const n=this.toChromosomal(e[0]+.5),r=this.toChromosomal(e[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(e){var n;let[r,i]=e;return i||(i=r),[this.toContinuous(r.chrom,r.pos??0),this.toContinuous(i.chrom,i.pos??((n=this.chromosomesByName.get(i.chrom))==null?void 0:n.size))]}toDiscreteChromosomeIntervals(e){const n=e[0],r=e[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const o=this.chromosomes.findIndex(a=>a.name===n.chrom),s=this.chromosomes.findIndex(a=>a.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[o].size});for(let a=o+1;a<s;a++)i.push({chrom:this.chromosomes[a].name,startPos:0,endPos:this.chromosomes[a].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(e){return this.toDiscreteChromosomeIntervals([this.toChromosomal(e[0]),this.toChromosomal(e[1])])}parseInterval(e){const n=e.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(a=>a===void 0)){const a=this.getChromosome(r);return a?[a.continuousStart,a.continuousEnd]:void 0}const i=n[3]||r,o=parseInt(n[2].replace(/,/g,"")),s=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):o;return[this.toContinuous(r,o-1),this.toContinuous(i,s)]}}}function YB(t){return gA(t).filter(e=>/^chr[0-9A-Z]+$/.test(e[0])).map(([e,n])=>({name:e,size:parseInt(n)}))}function Ib(t){return je(t)&&"chrom"in t}function WB(t){return t.every(Ib)}class qs extends Array{constructor(){super(),this.type=void 0}extend(e){return this}extendAll(e){if(e instanceof qs&&e.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${e.type}`);for(const n of e)this.extend(n);return this}extendAllWithAccessor(e,n){for(const r of e)this.extend(n(r));return this}}class Bf extends qs{constructor(){super(),this.type="quantitative"}extend(e){return e==null||Number.isNaN(e)?this:(e=+e,this.length?e<this[0]?this[0]=e:e>this[1]&&(this[1]=e):(this.push(e),this.push(e)),this)}}class Fb extends qs{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(e){return e==null||Number.isNaN(e)?this:(this.uniqueValues.has(e)||(this.uniqueValues.add(e),this.push(e)),this)}}class Pb extends Fb{constructor(){super(),this.type="nominal"}}class XB extends qs{constructor(e){super();let n=0;for(let r=1;r<e.length;r++)n+=Math.sign(e[r]-e[r-1]);if(Math.abs(n)!=e.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(e));e.forEach(r=>this.push(r))}extend(e){if(this.includes(e))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const Tb={quantitative:Bf,index:Bf,locus:Bf,nominal:Pb,ordinal:Fb};function zb(t,e){if(t=="quantitative"&&KB(e)){const n=new XB(e);return n.type=t,n}else if(Tb[t]){const n=new Tb[t];return n.type=t,e&&n.extendAll(e),n}throw new Error("Unknown type: "+t)}function KB(t){return t&&t.length>0&&t.length!=2&&t.every(e=>typeof e=="number")}function JB(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}const Mb="quantitative",_b="ordinal",Rb="nominal",Ob="locus",$B="index";class t7{constructor(e){this.channel=e,this.members=[],this.type=null,this._zoomExtent=void 0,this._domainListeners=new Set,this.name=void 0,this._scale=void 0}addEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);this._domainListeners.add(n)}removeEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);this._domainListeners.delete(n)}_notifyDomainListeners(){for(const e of this._domainListeners.values())e({type:"domain",scaleResolution:this})}pushUnitView(e,n){var r;const i=zh(e,n),o=i.type,s=(r=i==null?void 0:i.scale)==null?void 0:r.name;if(s){if(this.name!==void 0&&s!=this.name)throw new Error(`Shared scales have conflicting names: "${s}" vs. "${this.name}"!`);this.name=s}if(!this.type)this.type=o;else if(o!==this.type&&!Ts(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${o}. Use "resolve: independent" for channel ${this.channel}`);this.members.push({view:e,channel:n})}isExplicitDomain(){return!!this.getConfiguredDomain()}_getMergedScaleProps(){return no(this,"mergedScaleProps",()=>{const e=this.members.map(n=>zh(n.view,n.channel).scale).filter(n=>n!==void 0);return tc(e,"scale",["domain"])})}getScaleProps(){return no(this,"scaleProps",()=>{const e=this._getMergedScaleProps();if(e===null||e.type=="null")return{type:"null"};const n={...this._getDefaultScaleProperties(this.type),...e};n.type||(n.type=e7(this.channel,this.type));const r=this.getInitialDomain();return r&&r.length>0?n.domain=r:Wr(n.type)?n.domain=new Pb:n.scheme&&(n.domain=[0,1]),!n.domain&&n.domainMid!==void 0&&(n.domain=[n.domainMin??0,n.domainMax??1]),this.channel=="y"&&Wr(n.type)&&n.reverse==null&&(n.reverse=!0),n.range&&n.scheme&&delete n.scheme,!("zoom"in n)&&["index","locus"].includes(n.type)&&(n.zoom=!0),n7(n,this.channel),n})}getInitialDomain(){return this.getConfiguredDomain()??(this.type==Ob?this.getGenome().getExtent():this.getDataDomain())}getConfiguredDomain(){return this._reduceDomains(e=>Ts(e.channel)?void 0:e.view.getConfiguredDomain(e.channel))}getDataDomain(){return this._reduceDomains(e=>Ts(e.channel)?void 0:e.view.extractDataDomain(e.channel))}reconfigure(){if(this._scale&&this._scale.type!="null"){ob(this,"scaleProps");const e=this.getScaleProps();Sb(e,this._scale),Ee(this._scale.type)&&(this._zoomExtent=this._getZoomExtent())}}getScale(){if(this._scale)return this._scale;const e=this.getScaleProps(),n=_B(e);return this._scale=n,U5(n)&&n.genome(this.getGenome()),Ee(n.type)&&(this._zoomExtent=this._getZoomExtent()),n}getDomain(){return this.getScale().domain()}getComplexDomain(){var e;return((e=this.getGenome())==null?void 0:e.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return this.isZoomable()&&Eh(this.getInitialDomain(),this.getDomain())}isZoomable(){if(!T1(this.channel))return!1;const e=this.getScale().type;return["linear","locus","index","log","pow","sqrt"].includes(e)?!!this.getScaleProps().zoom:!1}zoom(e,n,r){if(!this.isZoomable())return!1;const i=this.getScale(),o=i.domain();let s=[...o],a=i.invert(n);switch(this.getScaleProps().reverse&&(r=-r),"align"in i&&(a+=i.align()),i.type){case"linear":case"index":case"locus":s=Z3(s,r||0),s=P0(s,a,e);break;case"log":s=Y3(s,r||0),s=T0(s,a,e);break;case"pow":case"sqrt":{const c=i;s=W3(s,r||0,c.exponent()),s=il(s,a,e,c.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return this._zoomExtent&&(s=K3(s,this._zoomExtent[0],this._zoomExtent[1])),[0,1].some(c=>s[c]!=o[c])?(i.domain(s),this._notifyDomainListeners(),!0):!1}async zoomTo(e,n=!1){var r;if(Na(n)&&(n=n?700:0),!this.isZoomable())throw new Error("Not a zoomable scale!");const i=this.fromComplexInterval(e),o=(r=this.members[0])==null?void 0:r.view.context.animator,s=this.getScale(),a=s.domain();if(n>0&&a.length==2){const c=a[1]-a[0],u=a[0]+c/2,l=i[1]-i[0],h=i[0]+l/2,f=Mg([u,0,c],[h,0,l]).rho(.7);await o.transition({duration:n/1e3*f.duration,easingFunction:JB,onUpdate:d=>{const[g,,b]=f(d);s.domain([g-b/2,g+b/2]),this._notifyDomainListeners()}}),s.domain(i),this._notifyDomainListeners()}else s.domain(i),o==null||o.requestRender(),this._notifyDomainListeners()}resetZoom(){if(!this.isZoomable())throw new Error("Not a zoomable scale!");const e=this.getDomain(),n=this.getInitialDomain();return[0,1].some(r=>n[r]!=e[r])?(this._scale.domain(n),this._notifyDomainListeners(),!0):!1}getZoomLevel(){return this.isZoomable()?La(this._zoomExtent)/La(this.getScale().domain()):1}_getZoomExtent(){const e=this.getScaleProps(),n=e.zoom;if(r7(n)&&Ie(n.extent))return this.fromComplexInterval(n.extent);if(n)return e.type=="locus"?this.getGenome().getExtent():this._scale.domain()}_getDefaultScaleProperties(e){const n=this.channel,r={};return this.isExplicitDomain()&&(r.zero=!1),Ps(n)?r.nice=!this.isExplicitDomain():$r(n)?r.scheme=e==Rb?"tableau10":e==_b?"blues":"viridis":ku(n)?r.range=M1(n):n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r}getGenome(){var e;if(this.type!=="locus")return;const n=(e=this.members[0].view.context.genomeStore)==null?void 0:e.getGenome();if(!n)throw new Error("No genome has been defined!");return n}invertToComplex(e){const n=this.getScale();if("invert"in n){const r=n.invert(e);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(e){const n=this.getGenome();return n?n.toChromosomal(e):e}fromComplex(e){return Ib(e)?this.getGenome().toContinuous(e.chrom,e.pos):e}fromComplexInterval(e){return this.type==="locus"&&WB(e)?this.getGenome().toContinuousInterval(e):e}_getViewPaths(){return this.members.map(e=>e.view.getPathString()).join(", ")}_reduceDomains(e){const n=this.members.map(e).filter(r=>!!r);if(n.length)return n.reduce((r,i)=>r.extendAll(i))}}function e7(t,e){if(e==$B||e==Ob){if(T1(t))return e;throw new Error(`${t} does not support ${e} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"]},r=["uniqueId","facetIndex","semanticScore","search","text","sample"].includes(t)?"null":n[t]?n[t][[Rb,_b,Mb].indexOf(e)]:e==Mb?"linear":"ordinal";if(r===void 0)throw new Error(`Channel "${t}" is not compatible with "${e}" data type. Use of a proper scale may be needed.`);return r}function n7(t,e){Ps(e)&&t.type!=="ordinal"&&(t.range=[0,1]),e=="opacity"&&Ee(t.type)&&(t.clamp=!0)}function r7(t){return je(t)}function kf(...t){for(const e of t)if(e!==void 0)return e}class i7{constructor(e){this.channel=e,this.members=[]}get scaleResolution(){var e;return(e=Vi(this.members))==null?void 0:e.view.getScaleResolution(this.channel)}pushUnitView(e,n){const r=e.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error("Shared axes must have a shared scale!");this.members.push({view:e,channel:n})}getAxisProps(){return no(this,"axisProps",()=>{const e=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return e.length>0&&e.some(n=>n===null)?null:tc(e.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const e=o=>{var s;const a=zh(o.view,o.channel);if(!Ye(a))return{member:o,explicitTitle:kf((s=a.axis)==null?void 0:s.title,a.title),implicitTitle:kf(Ds(a)?a.field:void 0,Mh(a)?a.expr:void 0)}},n=this.members.map(e),r=n.filter(o=>{var s;if(Ts(o.member.channel)&&!o.explicitTitle){const a=qi(o.member.channel);return((s=n.find(c=>c.member.view==o.member.view&&c.member.channel==a))==null?void 0:s.explicitTitle)===void 0}return!0}),i=new Set(r.map(o=>kf(o.explicitTitle,o.implicitTitle)).filter(It));return i.size?[...i].join(", "):null}}class Nb extends vb{constructor(e,n,r,i){super(e,n,r,i),this.spec=e}}class mr extends ro{constructor(e,n,r,i){super(e,n,r,i),this.spec=e,this.children=(e.layer||[]).map((o,s)=>{if(Uf(o)||Lf(o))return n.createView(o,this,"layer"+s);throw new Error("LayerView accepts only unit or layer specs as children!")})}*[Symbol.iterator](){for(const e of this.children)yield e}render(e,n,r={}){if(this.isConfiguredVisible()){e.pushView(this,n);for(const i of this.children)i.render(e,n,r);e.popView(this)}}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0),this.children.length&&this.children.at(-1).propagateInteractionEvent(e),!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}}class Lb{constructor(e,n){this.n=e,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const o=[];e.push(o);for(let s=0;s<n;s++){const a=i*n+s;a<this.n&&o.push(a)}}return e}get colIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const o=[];e.push(o);for(let s=0;s<r;s++){const a=s*n+i;a<this.n&&o.push(a)}}return e}getCellIndex(e,n){let r=0;if(this.maxCols==1/0)r=n==0?e:void 0;else{if(e>=this.maxCols)return;r=n*this.nCols+e}return r<this.n?r:void 0}getCellCoords(e){if(!(e<0||e>=this.n))return[e%this.nCols,Math.floor(e/this.nCols)]}}function On(t){return()=>t}const br=class{static create(t,e,n,r){return new br(On(t),On(e),On(n),On(r))}_offset(t,e){const n=this["_"+t];if(e===0)return n;switch(typeof e){case"number":return()=>n()+e;case"function":return()=>n()+e();default:throw new Error("Not a number of function")}}_passThrough(t){return this._offset(t,0)}constructor(t,e,n,r){this._x=t,this._y=e,this._width=n,this._height=r}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(t){return t?this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1}modify(t){if(!Object.keys(t).length)return this;const e=n=>{const r=t[n];return typeof r=="number"?On(r):typeof r=="function"?r:this._passThrough(n)};return new br(e("x"),e("y"),e("width"),e("height"))}translate(t,e){return t===0&&e===0?this:new br(this._offset("x",t),this._offset("y",e),this._passThrough("width"),this._passThrough("height"))}translateBy(t){return this.translate(t.x,t.y)}expand(t,e=1){return t.left==0&&t.top==0&&t.right==0&&t.bottom==0?this:new br(t.left?this._offset("x",-t.left*e):this._passThrough("x"),t.top?this._offset("y",-t.top*e):this._passThrough("y"),t.width?this._offset("width",t.width*e):this._passThrough("width"),t.height?this._offset("height",t.height*e):this._passThrough("height"))}shrink(t){return this.expand(t,-1)}intersect(t){return this===t?this:new br(()=>Math.max(this.x,t.x),()=>Math.max(this.y,t.y),()=>Math.min(this.x2,t.x2)-Math.max(this.x,t.x),()=>Math.min(this.y2,t.y2)-Math.max(this.y,t.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new br(On(this.x),On(this.y),On(this.width),On(this.height))}containsPoint(t,e){return t>=this.x&&t<this.x2&&e>=this.y&&e<this.y2}normalizePoint(t,e){return{x:(t-this.x)/this.width,y:(e-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}};let ec=br;In(ec,"ZERO",br.create(0,0,0,0));const o7="chromosome_ticks_and_labels",s7={x:"width",y:"height"};function Df(t){return t=="x"?"y":"x"}const If={x:["bottom","top"],y:["left","right"]},Ub=Object.fromEntries(Object.entries(If).map(([t,e])=>e.map(n=>[n,t])).flat(1));function ii(t){return Ub[t]}class a7 extends mr{constructor(e,n,r,i){const o=n=="locus",s={...o?c7:Gb,...u7(n,e),...e};super(o?l7(s,n):Hb(s,n),r,i,`axis_${e.orient}`),this.axisProps=s,this.blockEncodingInheritance=!0}getOrient(){return this.axisProps.orient}getSize(){const e={px:this.getPerpendicularSize()},n={grow:1};return Ub[this.axisProps.orient]=="x"?new Hs(n,e):new Hs(e,n)}getPerpendicularSize(){return Ff(this.axisProps)}isPickingSupported(){return!1}}function Ff(t){const e=ii(t.orient);let n=t.ticks&&t.tickSize||0;return t.labels&&(n+=t.labelPadding,e=="x"?n+=t.labelFontSize:n+=30),t.title&&(n+=t.titlePadding+t.titleFontSize),n=Math.min(t.maxExtent||1/0,Math.max(t.minExtent||0,n)),n}const Gb={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function u7(t,e){const n=e.orient,r=t=="nominal"||t=="ordinal";let i="center",o="middle",s=e.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(s)>30?(i=s>0==(n=="bottom")?"left":"right",o="middle"):o=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:s,labelBaseline:o}}function Hb(t,e){const n={...t,extent:Ff(t)},r=ii(n.orient),i=Df(r),o=n.orient=="bottom"||n.orient=="right"?1:-1,s=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"domain",data:{values:[0]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:s,size:n.domainWidth}}),c=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*o,[i]:s,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:e},text:{field:"label"}}}),u=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:s},[i+"2"]:{value:s-n.tickSize/n.extent*(s?1:-1)}}}),l=()=>({name:"title",data:{values:[0]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-s}}),h=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:e}},layer:[]};return n.ticks&&d.layer.push(u()),n.labels&&d.layer.push(c()),d},f={resolve:{scale:{[r]:"forced"}},[s7[Df(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:t}},layer:[]};return n.domain&&f.layer.push(a()),(n.ticks||n.labels)&&f.layer.push(h()),n.title&&f.layer.push(l()),f}const c7={...Gb,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function l7(t,e){const n={...t,extent:Ff(t)},r=ii(n.orient),i=Df(r),o=n.orient=="bottom"||n.orient=="left"?1:0,s=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:t.chromTickDash,strokeDashOffset:t.chromTickDashOffset,[i]:o,[i+"2"]:o-n.chromTickSize/n.extent*(o?1:-1),color:t.chromTickColor,size:n.chromTickWidth}}),a=()=>{let l;switch(n.orient){case"top":l={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":l={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":l={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":l={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:l={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:t.chromLabelAlign,baseline:"alphabetic",clip:!1,...l},encoding:{[r+"2"]:{field:"continuousEnd",type:e},text:{field:"name"}}}};let c;switch(n.orient){case"bottom":case"top":c={};break;case"left":c={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":c={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:c={}}const u=Hb({...t,...c},e);if(t.chromTicks||t.chromLabels){const l={name:o7,data:{lazy:{type:"axisGenome",channel:ii(n.orient)}},encoding:{[r]:{field:"continuousStart",type:e,band:0}},layer:[]};if(t.chromTicks&&l.layer.push(s()),t.chromLabels){l.layer.push(a());let h;u.layer.filter(f=>f.name=="ticks_and_labels").forEach(f=>f.layer.filter(d=>d.name=="labels").forEach(d=>{h=d.mark})),h&&(n.orient=="top"||n.orient=="bottom"?(h.viewportEdgeFadeWidthLeft=30,h.viewportEdgeFadeDistanceLeft=40):(h.viewportEdgeFadeWidthBottom=30,h.viewportEdgeFadeDistanceBottom=40))}u.layer.push(l)}return u}class h7 extends mr{constructor(e,n,r,i){const o={...n=="locus"?f7:jb,...e};super(m7(o,n),r,i,`axisGrid_${e.orient}`),this.axisProps=o,this.blockEncodingInheritance=!0}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const jb={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},f7={...jb,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function d7(t,e){const n=t,r=ii(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:t}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:e}}}}function p7(t,e){const n=t,r=ii(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:e,band:0}}}}function g7(t,e){const n=t,r=ii(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:e,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function m7(t,e){const n={...t},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(g7(n,e)),n.chromGrid&&n.chromGridOpacity>0&&r.push(p7(n,e)),n.grid&&n.gridOpacity>0&&r.push(d7(n,e)),{name:"grid_layers",resolve:{scale:{fill:"independent",opacity:"independent"}},layer:r}}const Vb={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},b7={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},y7={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},v7={start:0,middle:.5,end:1},w7={start:"left",middle:"center",end:"right"};function A7(t){if(!t)return;const e=It(t)?{text:t}:t;if(!e.text||e.orient=="none")return;const n={"track-title":b7,overlay:y7}[e.style]??{},r={...Vb,...n,...e};let i={},o={x:0,y:0};const s=v7[r.anchor??"middle"];switch(r.orient){case"top":o={x:s,y:1},i={baseline:"alphabetic",angle:0};break;case"right":o={x:1,y:1-s},i={baseline:"alphabetic",angle:90};break;case"bottom":o={x:s,y:0},i={baseline:"top",angle:0};break;case"left":o={x:0,y:s},i={baseline:"alphabetic",angle:-90};break}const a={...Vb,...i,...n,...e},c={xOffset:0,yOffset:0};switch(r.orient){case"top":c.yOffset=-a.offset;break;case"right":c.xOffset=a.offset;break;case"bottom":c.yOffset=a.offset;break;case"left":c.xOffset=-a.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...o,...c,text:a.text,align:a.align??w7[a.anchor],angle:a.angle,baseline:a.baseline,dx:a.dx,dy:a.dy,color:a.color,font:a.font,size:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight}}}function x7(t,e,n,r){if(t.type=="wheel"){t.uiEvent.preventDefault();const i=t.uiEvent,o=i.deltaMode?120:1;let{x:s,y:a}=t.point;if(r){const c=r.mark.encoders;c.x&&!c.x2&&!c.x.constantValue&&(s=+c.x(r.datum)*e.width+e.x),c.y&&!c.y2&&!c.y.constantValue&&(a=(1-+c.y(r.datum))*e.height+e.y)}Math.abs(i.deltaX)<Math.abs(i.deltaY)?n({x:s,y:a,xDelta:0,yDelta:0,zDelta:i.deltaY*o/300}):n({x:s,y:a,xDelta:-i.deltaX*o,yDelta:0,zDelta:0})}else if(t.type=="mousedown"&&t.uiEvent.button===0){const i=t.uiEvent;i.preventDefault();let o=i;const s=c=>{n({x:o.clientX,y:o.clientY,xDelta:c.clientX-o.clientX,yDelta:c.clientY-o.clientY,zDelta:0}),o=c},a=c=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a,!1),document.addEventListener("mousemove",s,!1)}}var Qs,Zs,Je,Ys,nc,Pf,Nn,yr,Tf,qb,zf,Qb,oo,Ws,rc,Mf,ic,_f,oc,Rf,Of,Zb;class Yb extends ro{constructor(e,n,r,i,o){super(e,n,r,i),ae(this,nc),ae(this,Nn),ae(this,Tf),ae(this,zf),ae(this,oo),ae(this,rc),ae(this,ic),ae(this,oc),ae(this,Of),ae(this,Qs,1/0),ae(this,Zs,10),ae(this,Je,[]),ae(this,Ys,0),this.spec=e,Go(this,Zs,e.spacing??10),Go(this,Qs,o),Go(this,Je,[]),this.wrappingFacet=!1,this._createChildren()}_createChildren(){}appendChild(e){e.parent??(e.parent=this),xt(this,Je).push(ee(this,nc,Pf).call(this,e)),L3(this,Ys)._++}setChildren(e){for(const n of e)this.appendChild(n)}replaceChild(e,n){const r=xt(this,Je).findIndex(i=>i.view==e);if(r>=0)xt(this,Je)[r]=ee(this,nc,Pf).call(this,n);else throw new Error("Not my child view!")}get children(){return xt(this,Je).map(e=>e.view)}get childCount(){return xt(this,Je).length}onScalesResolved(){super.onScalesResolved(),ee(this,zf,Qb).call(this)}*[Symbol.iterator](){for(const e of xt(this,Je)){e.background&&(yield e.background);for(const n of Object.values(e.gridLines))yield n;for(const n of Object.values(e.axes))yield n;yield e.view,e.title&&(yield e.title)}}getOverhang(){const e=ee(this,oo,Ws).call(this,"column"),n=ee(this,oo,Ws).call(this,"row");return!e.length||!n.length?Ke.zero():new Ke(n.at(0).axisBefore,e.at(-1).axisAfter,n.at(-1).axisAfter,e.at(0).axisBefore)}getSize(){return this._cache("size",()=>new Hs(ee(this,ic,_f).call(this,"column"),ee(this,ic,_f).call(this,"row")).subtractPadding(this.getOverhang()).addPadding(this.getPadding()))}render(e,n,r={}){if(!this.isConfiguredVisible())return;this.parent||(n=n.shrink(this.getPadding())),e.pushView(this,n);const i={devicePixelRatio:this.context.glHelper.dpr},o=pb(ee(this,rc,Mf).call(this,"column"),n.width,i),s=pb(ee(this,rc,Mf).call(this,"row"),n.height,i),a=new Lb(xt(this,Nn,yr).length,xt(this,Qs)??1/0);for(const[c,u]of xt(this,Nn,yr).entries()){const{view:l,axes:h,gridLines:f,background:d,title:g}=u,[b,w]=a.getCellCoords(c),A=o[ee(this,oc,Rf).call(this,"column",b)],B=s[ee(this,oc,Rf).call(this,"row",w)],E=l.getSize(),C=l.getPadding().subtract(l.getOverhang()),T=A.location+C.left,F=B.location+C.top,S=(E.width.grow?A.size:E.width.px)-C.width,O=(E.height.grow?B.size:E.height.px)-C.height,x=new ec(()=>n.x+T,()=>n.y+F,()=>S,()=>O);u.coords=x,d==null||d.render(e,x,r);for(const _ of Object.values(f))_.render(e,x,r);const I=S7(l);I&&l.render(e,x,r);for(const[_,W]of Object.entries(h)){const Z=W.axisProps;let Q;const ht=W.getPerpendicularSize();_=="bottom"?Q=x.translate(0,x.height+Z.offset).modify({height:ht}):_=="top"?Q=x.translate(0,-ht-Z.offset).modify({height:ht}):_=="left"?Q=x.translate(-ht-Z.offset,0).modify({width:ht}):_=="right"&&(Q=x.translate(x.width+Z.offset,0).modify({width:ht})),W.render(e,Q)}I||l.render(e,x,r),g==null||g.render(e,x,{...r,clipRect:void 0})}e.popView(this)}propagateInteractionEvent(e){if(this.handleInteractionEvent(void 0,e,!0),e.stopped)return;const n=xt(this,Nn,yr).find(i=>i.coords.containsPoint(e.point.x,e.point.y)),r=n==null?void 0:n.view;r&&(r.propagateInteractionEvent(e),(r instanceof oe||r instanceof mr)&&x7(e,n.coords,i=>ee(this,Of,Zb).call(this,n.coords,n.view,i),this.context.getCurrentHover())),!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,n){return"independent"}}Qs=new WeakMap,Zs=new WeakMap,Je=new WeakMap,Ys=new WeakMap,nc=new WeakSet,Pf=function(t){var e;const n={view:t,background:void 0,axes:{},gridLines:{},coords:ec.ZERO};if(t instanceof oe||t instanceof mr){const r=(e=t.spec)==null?void 0:e.view;if(r!=null&&r.fill||r!=null&&r.stroke){const o=new oe(E7(r),this.context,t,"background"+xt(this,Ys));o.blockEncodingInheritance=!0,n.background=o}const i=A7(t.spec.title);if(i){const o=new oe(i,this.context,t,"title"+xt(this,Ys));o.blockEncodingInheritance=!0,n.title=o}}return n},Nn=new WeakSet,yr=function(){return xt(this,Je).filter(t=>t.view.isConfiguredVisible())},Tf=new WeakSet,qb=function(){return new Lb(xt(this,Nn,yr).length,xt(this,Qs)??1/0)},zf=new WeakSet,Qb=function(){if(Object.keys(this.resolutions.axis).length)throw new Error("GridView (concat, vconcat, hconcat) does not currently support shared axes!");for(const t of xt(this,Je)){const{view:e,axes:n,gridLines:r}=t,i=(o,s,a)=>{const c=o.getAxisProps();if(c!==null){if(!c.orient){for(const u of If[s])if(!n[u]){c.orient=u;break}if(!c.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(c.title??(c.title=o.getTitle()),!If[s].includes(c.orient))throw new Error(`Invalid axis orientation "${c.orient}" on channel "${s}"!`);if(n[c.orient])throw new Error(`An axis with the orient "${c.orient}" already exists!`);n[c.orient]=new a7(c,o.scaleResolution.type,this.context,a),(c.grid||c.chromGrid)&&(r[c.orient]=new h7(c,o.scaleResolution.type,this.context,a))}};if(e instanceof oe||e instanceof mr)for(const o of["x","y"]){const s=e.resolutions.axis[o];s&&i(s,o,e)}if(e instanceof mr){for(const o of e.children)for(const[s,a]of Object.entries(o.resolutions.axis)){const c=a.getAxisProps();c&&c.orient&&i(a,s,o)}for(const o of e.children)for(const[s,a]of Object.entries(o.resolutions.axis)){const c=a.getAxisProps();c&&!c.orient&&i(a,s,o)}}[...Object.values(n),...Object.values(r)].forEach(o=>o.visit(s=>{s instanceof oe&&s.resolve("scale")}))}},oo=new WeakSet,Ws=function(t){const e=t=="column"?["left","right"]:["top","bottom"],n=t=="column"?"width":"height",r=(i,o)=>i.map(s=>{const a=xt(this,Nn,yr)[s].axes[e[o]];if(a)return Math.max(a.getPerpendicularSize()+a.axisProps.offset,0);const c=xt(this,Nn,yr)[s].view.getOverhang();return t=="column"?o?c.right:c.left:o?c.bottom:c.top}).reduce((s,a)=>Math.max(s,a),0);return xt(this,Tf,qb)[t=="column"?"colIndices":"rowIndices"].map(i=>({axisBefore:r(i,0),axisAfter:r(i,1),view:mB(i.map(o=>xt(this,Nn,yr)[o].view.getSize()[n]))}))},rc=new WeakSet,Mf=function(t){const e=ee(this,oo,Ws).call(this,t),n=[];n.push(js);for(const[r,i]of e.entries())r>0&&n.push({px:xt(this,Zs),grow:0}),(r==0||this.wrappingFacet)&&n.push(js),n.push({px:i.axisBefore,grow:0}),n.push(i.view),n.push({px:i.axisAfter,grow:0}),(r==e.length-1||this.wrappingFacet)&&n.push(js);return n},ic=new WeakSet,_f=function(t){let e=0,n=0;const r=(t=="row"&&this.spec.height)??(t=="column"&&this.spec.width);if(r||r===0)return mb(r);const i=ee(this,oo,Ws).call(this,t);for(const[o,s]of i.entries())o>0&&(n+=xt(this,Zs)),(o==0||this.wrappingFacet)&&(n+=0),n+=s.axisBefore,n+=s.view.px??0,e+=s.view.grow??0,n+=s.axisAfter,(o==i.length-1||this.wrappingFacet)&&(n+=0);return{px:n,grow:e}},oc=new WeakSet,Rf=function(t,e){return t=="row"&&this.wrappingFacet?1+6*e+2:2+4*e+1},Of=new WeakSet,Zb=function(t,e,n){for(const[r,i]of Object.entries(C7(e))){if(i.size<=0)continue;const o=t.normalizePoint(n.x,n.y),s=t.normalizePoint(n.x+n.xDelta,n.y+n.yDelta),a={x:s.x-o.x,y:s.y-o.y};for(const c of i)c.zoom(2**n.zDelta,r=="y"?1-o[r]:o[r],r=="x"?a.x:-a.y)}this.context.animator.requestRender()};function E7(t){return{configurableVisibility:!1,data:{values:[{}]},mark:{fill:null,strokeWidth:1,fillOpacity:t.fill?1:0,...t,type:"rect",clip:!1,tooltip:null}}}function C7(t){const e={x:new Set,y:new Set};return t.visit(n=>{for(const[r,i]of Object.entries(e)){const o=n.getScaleResolution(r);o&&o.isZoomable()&&i.add(o)}}),e}function S7(t){let e=!0;return t.visit(n=>{n instanceof oe&&e&&(e=n.mark.properties.clip)}),e}class Nf extends Yb{constructor(e,n,r,i){super(e,n,r,i,Hf(e)?e.columns:Gf(e)?1:1/0),this.spec=e}_createChildren(){const e=this.spec,n=Hf(e)?e.concat:Gf(e)?e.vconcat:e.hconcat;this.setChildren(n.map((r,i)=>this.context.createView(r,this,"grid"+i)))}}class B7{constructor(){this.types=[];const e=n=>(r,i,o,s)=>new n(r,i,o,r.name??s);this.addViewType(k7,e(Nb)),this.addViewType(Uf,e(mr)),this.addViewType(Lf,e(oe)),this.addViewType(Gf,e(Nf)),this.addViewType(D7,e(Nf)),this.addViewType(Hf,e(Nf))}addViewType(e,n){this.types.push({specGuard:e,factory:n})}createView(e,n,r,i){const o=this.types.find(s=>s.specGuard(e));if(o)return o.factory(e,n,r,i??"unnamed");throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(e)]))}isViewSpec(e){const n=this.types.filter(r=>r.specGuard(e));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}}function Lf(t){return"mark"in t&&(It(t.mark)||je(t.mark))}function Uf(t){return"layer"in t&&je(t.layer)}function Wb(t){return t&&(Lf(t)||Uf(t))&&"aggregateSamples"in t}function k7(t){return"import"in t}function Gf(t){return"vconcat"in t&&Ie(t.vconcat)}function D7(t){return"hconcat"in t&&Ie(t.hconcat)}function Hf(t){return"concat"in t&&Ie(t.concat)}const I7={point:nB,rect:WS,rule:oB,link:cB,text:gB};class oe extends ro{constructor(e,n,r,i){super(e,n,r,i),this.spec=e;const o=I7[this.getMarkType()];if(o)this.mark=new o(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.sampleAggregateViews=[],this._initializeAggregateViews(),this.coords=void 0}*[Symbol.iterator](){for(const e of this.sampleAggregateViews)yield e}replaceChild(e,n){const r=this.sampleAggregateViews.indexOf(e);if(r>=0)this.sampleAggregateViews[r]=n;else throw new Error("Not my child view!")}render(e,n,r={}){this.isConfiguredVisible()&&(this.coords=n,e.pushView(this,n),e.renderMark(this.mark,r),e.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}resolve(e){const n=this.mark.encoding;for(const[r,i]of Object.entries(n)){if(!Te(i))continue;let o=qi(i.resolutionChannel??r);if(e=="axis"&&!Ps(o))continue;let s=this;for(;(s.getConfiguredOrDefaultResolution(o,e)=="forced"||s.parent instanceof ro&&["shared","excluded","forced"].includes(s.parent.getConfiguredOrDefaultResolution(o,e)))&&s.getConfiguredOrDefaultResolution(o,e)!="excluded";)s=s.parent;s.resolutions[e][o]||(s.resolutions[e][o]=e=="scale"?new t7(o):new i7(o)),Ps(r)?s.resolutions[e][o].pushUnitView(this,r):e=="scale"&&s.resolutions[e][o].pushUnitView(this,r)}}getAccessor(e){return this._cache("accessor/"+e,()=>{const n=this.mark.encoding;if(n&&n[e])return this.context.accessorFactory.createAccessor(n[e])})}getFacetAccessor(e){return this.getAccessor("sample")||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}_validateDomainQuery(e){if(Ts(e))throw new Error(`getDomain(${e}), must only be called for primary channels!`);const n=this.mark.encoding[e];if(!Te(n))throw new Error("The channel has no scale, cannot get domain!");return n}getConfiguredDomain(e){const n=this._validateDomainQuery(e),r=n&&n.scale&&n.scale.domain;if(r){const i=this.getScaleResolution(n.resolutionChannel??e);return zb(n.type??"nominal",i.fromComplexInterval(r))}}extractDataDomain(e){const n=this._validateDomainQuery(e).type??"nominal",r=s=>{let a;const c=this.mark.encoding[s];if(c){const u=this.context.accessorFactory.createAccessor(c);if(u)if(a=zb(n),u.constant)a.extend(u({}));else{const l=this.getCollector();l!=null&&l.completed&&l.visitData(h=>a.extend(u(h)))}}return a};let i=r(e);const o=_h[e];if(o){const s=r(o);s&&i.extendAll(s)}return i}getZoomLevel(){const e=n=>{var r;return((r=this.getScaleResolution(n))==null?void 0:r.getZoomLevel())??1};return Fs.map(e).reduce((n,r)=>n*r,1)}_initializeAggregateViews(){if(Wb(this.spec))for(const e of this.spec.aggregateSamples){const n=e.transform??[];n.length&&Vi(n).type!="collect"&&n.push({type:"collect"}),n.push({type:"mergeFacets"}),e.transform=n,e.encoding={...e.encoding??{},sample:null};const r=this.context.createView(e,this,"summaryView");r.getFacetFields=i=>{},this.sampleAggregateViews.push(r)}}propagateInteractionEvent(e){e.target=this}getDefaultResolution(e,n){return e=="x"?"shared":"independent"}}function*jf(t,e=[]){for(const[n,r]of t.entries())if(r instanceof Map)for(const i of jf(r,[...e,n]))yield i;else yield[[...e,n],r]}class Xb extends Ot{get behavior(){return Af}constructor(e){super(),this.params=e??{type:"collect"},this.observers=[],this.facetBatches=void 0,this._init()}_init(){this._data=[],this.facetBatches=new _r([],JSON.stringify),this.facetBatches.set(void 0,this._data)}reset(){super.reset(),this._init()}handle(e){this._data.push(e)}beginBatch(e){$S(e)&&(this._data=[],this.facetBatches.set(pn(e.facetId),this._data))}complete(){var e,n;const r=(e=this.params)==null?void 0:e.sort,i=r?z0(r.field,r.order):void 0,o=s=>{i&&s.sort(i)};if((n=this.params.groupby)!=null&&n.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const s=this.params.groupby.map(c=>mt(c)),a=ja(this._data,...s);this.facetBatches.clear();for(const[c,u]of jf(a))this.facetBatches.set(c,u)}for(const s of this.facetBatches.values())o(s);if(this.children.length)for(const[s,a]of this.facetBatches.entries()){if(s){const c={type:"facet",facetId:s};for(const u of this.children)u.beginBatch(c)}for(const c of a)this._propagate(c)}super.complete();for(const s of this.observers)s(this)}getData(){switch(this._checkStatus(),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const e=this.facetBatches;return{[Symbol.iterator]:function*(){for(const n of e.values())for(let r=0;r<n.length;r++)yield n[r]}}}}}visitData(e){this._checkStatus();for(const n of this.facetBatches.values())for(let r=0;r<n.length;r++)e(n[r])}getItemCount(){let e=0;for(const n of this.facetBatches.values())e+=n.length;return e}_checkStatus(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")}}class sc{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(e,n){let r=this.length++;for(;r>0;){const i=r-1>>1,o=this.values[i];if(n>=o)break;this.ids[r]=this.ids[i],this.values[r]=o,r=i}this.ids[r]=e,this.values[r]=n}pop(){if(this.length===0)return;const e=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let o=0;for(;o<i;){let s=(o<<1)+1;const a=s+1;let c=this.ids[s],u=this.values[s];const l=this.values[a];if(a<this.length&&l<u&&(s=a,c=this.ids[a],u=l),u>=r)break;this.ids[o]=c,this.values[o]=u,o=s}this.ids[o]=n,this.values[o]=r}return e}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class F7 extends Ot{get behavior(){return Rn}constructor(e){super(),this.params=e,this.startAccessor=mt(e.start),this.endAccessor=mt(e.end),this.chromAccessor=e.chrom?mt(e.chrom):n=>{},this.weightAccessor=e.weight?mt(e.weight):n=>1,this.as={coverage:e.as||"coverage",start:e.asStart||e.start,end:e.asEnd||e.end,chrom:e.asChrom||e.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new sc}reset(){super.reset(),this.initialize()}initialize(){const e=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,o=this.endAccessor,s=this.chromAccessor,a=this.weightAccessor;let c,u,l,h=0,f;const d=this.ends;d.clear();const g=(w,A,B)=>{if(w==A)return;let E=!1;c&&(c[e]===B?(c[n]=A,E=!0):c[e]!=0&&this._propagate(c)),E||(c=this.createSegment(w,A,B,l))},b=()=>{let w;for(;(w=d.peekValue())!==void 0;)g(f,w,h),f=w,h-=d.pop();f=void 0,c&&(this._propagate(c),c=void 0)};this.handle=w=>{const A=i(w);let B;for(;(B=d.peekValue())!==void 0&&B<A;)g(f,B,h),f=B,h-=d.pop();if(r){let C=s(w);C!==u&&(b(),l=C,u=l)}f!==void 0&&g(f,A,h),f=A;const E=a(w);h+=E,d.push(E,o(w))},this.complete=()=>{b(),super.complete()}}}function P7(t,e,n=0,r=t.length){const i=new sc,o=r-n;let s;for(s=0;s<e&&s<o;s++)i.push(s,t[n+s]);for(;s<o;s++){const u=t[n+s];u>=i.peekValue()&&(i.push(s,u),i.pop())}const a=[];let c;for(;(c=i.pop())!==void 0;)a.push(n+c);return a.reverse()}class T7{constructor(e,n=-1/0,r=1/0){this.maxSize=e,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(e,n,r=0){if(e>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const o=this._findSlot(e,n,i);return o>=0?o:this._findSlot(e,n,this.upperChildren[r])}else return r}else return-1}reserve(e,n){if(n-e<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(e,n);if(r<0)return!1;const i=this.n++,o=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=e,this.lowerLimits[o]=n,this.upperLimits[o]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=o,!0}}class z7 extends Ot{get behavior(){return Af}constructor(e,n){if(super(),this.params=e,this._data=[],this.channel=e.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=mt(this.params.pos),this.posBisector=Ha(this.posAccessor),this.scoreAccessor=mt(this.params.score),this.widthAccessor=mt(this.params.width),this.laneAccessor=this.params.lane?mt(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const e=this.posAccessor;this._data.sort((n,r)=>e(n)-e(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new T7(200));this.schedule(),super.complete()}_filterAndPropagate(){var e;super.reset();const n=this.resolution.getScale(),r=(e=this.resolution.members[0].view.coords)==null?void 0:e[this.channel=="x"?"width":"height"];if(!r)return;for(const a of this.reservationMaps.values())a.reset();const i=n.domain(),o=70,s=P7(this._scores,o,this.posBisector.left(this._data,i[0]),this.posBisector.right(this._data,i[1]));for(const a of s){const c=this._data[a],u=n(this.posAccessor(c))*r,l=this.widthAccessor(c)/2+this.padding;this.reservationMaps.get(this.laneAccessor(c)).reserve(u-l,u+l)&&this._propagate(c)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(e){this._data.push(e)}}class M7 extends Ot{constructor(e){super(),this.params=e,this.predicate=void 0}initialize(){this.predicate=Th(this.params.expr,this.getGlobalObject())}handle(e){this.predicate(e)&&this._propagate(e)}}const _7="0".charCodeAt(0);function*R7(t,e=","){const n=e.charCodeAt(0);let r=0;for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);o==n?(yield r,r=0):r=r*10+o-_7}yield r}class O7 extends Ot{get behavior(){return Rn}constructor(e){super();const n=mt(e.exons??"exons"),r=mt(e.start??"start"),[i,o]=e.as||["exonStart","exonEnd"];this.handle=s=>{let a=r(s),c=a,u=!0;const l=n(s);for(const h of R7(l)){if(u)c=a+h;else{a=c+h;const f=Object.assign({},s);f[i]=c,f[o]=a,this._propagate(f)}u=!u}}}}class N7 extends Ot{get behavior(){return Rn}constructor(e){super();const n=pn(e.field).map(o=>mt(o)),r=pn(e.separator),i=pn(e.as||e.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{if(n.some(c=>!c(o)))return;const s=n.map((c,u)=>c(o).split(r[u]));L7(s,o);const a=s[0].length;for(let c=0;c<a;c++){const u=Object.assign({},o);for(let l=0;l<n.length;l++)u[i[l]]=s[l][c];this._propagate(u)}}}}function L7(t,e){const n=t.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(e))}class U7 extends Ot{get behavior(){return gr}constructor(e){super(),this.params=e,this.as=e.as,this.fn=void 0}initialize(){this.fn=Th(this.params.expr,this.getGlobalObject())}handle(e){e[this.as]=this.fn(e),this._propagate(e)}}class Kb extends Ot{get behavior(){return gr}constructor(e,n){super();const r=e.channel??"x";if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const o=mt(e.chrom),s=pn(e.pos).map(g=>mt(g)),a=pn(e.as);if(s.length!=a.length)throw new Error('The number of "pos" and "as" elements must be equal!');const c=pn(e.offset);let u;if(c.length==0)u=new Array(s.length).fill(0);else if(c.length==1)u=new Array(s.length).fill(c[0]);else if(c.length==s.length)u=c;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(e.offset)}!`);const l=new Function("datum","chromOffset","posAccessors",a.map((g,b)=>`datum[${JSON.stringify(g)}] = chromOffset + +posAccessors[${b}](datum) - ${u[b]};`).join(`
`));let h,f=0;const d=g=>{if(g!==h){if(f=i.cumulativeChromPositions.get(g),f===void 0)throw new Error("Unknown chromosome/contig: "+g);h=g}return f};this.handle=g=>{l(g,d(o(g)),s),this._propagate(g)}}}const G7=["Lato-Regular.png"],H7=[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],j7={face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},V7={lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},q7=[],Jb={pages:G7,chars:H7,info:j7,common:V7,kernings:q7};class Q7 extends Ot{get behavior(){return gr}constructor(e){super();const n=bf(Jb),r=mt(e.field),i=e.as,o=e.fontSize;this.handle=s=>{const a=r(s);a!==void 0?s[i]=n.measureWidth(a,o):s[i]=0,this._propagate(s)}}}const Z7=65536;class Y7 extends Ot{get behavior(){return gr}constructor(e){super(),this.params=e}reset(){super.reset(),this.initialize()}initialize(){const e=this.params,n=e.as||"lane",r=pe(e.spacing)?e.spacing:1,i=mt(e.start),o=mt(e.end);if(!e.preference!=!e.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(e.preference){const s=new Float64Array(Z7),a=mt(e.preference),c=e.preferredOrder;let u=1/0;this.handle=l=>{const h=i(l);h<u&&s.fill(-1/0),u=h;const f=c.indexOf(a(l));let d=-1;if(f>=0&&s[f]<h)d=f;else{const g=i(l);for(d=0;d<s.length&&!(s[d]<g);d++);if(d>=s.length)throw new Error("Out of lanes!")}s[d]=o(l)+r,l[n]=d,this._propagate(l)}}else{const s=new sc,a=new sc;let c=-1/0,u=0;this.handle=l=>{const h=i(l);for(;s.length&&(s.peekValue()<=h||h<c);){const d=s.pop();a.push(d,d)}c=h;let f=a.pop();f===void 0&&(f=u++),l[n]=f,this._propagate(l),s.push(f,o(l)+r)}}}}class W7 extends Ot{get behavior(){return Rn}constructor(e){if(super(),e.as&&e.as.length!=e.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=e.fields.map(i=>mt(i)),r=e.as?e.as:n.map(U3);this.handle=i=>{const o={};for(let s=0;s<n.length;s++)o[r[s]]=n[s](i);this._propagate(o)}}}class X7 extends Ot{get behavior(){return gr}constructor(e){super();const n=new RegExp(e.regex),r=typeof e.as=="string"?[e.as]:e.as,i=mt(e.field);this.handle=o=>{const s=i(o);if(It(s)){const a=s.match(n);if(a){if(a.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let c=0;c<r.length;c++)o[r[c]]=a[c+1]}else if(e.skipInvalidInput)for(let c=0;c<r.length;c++)o[r[c]]=void 0;else throw new Error(`"${s}" does not match the given regex: ${n.toString()}`)}else if(!e.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof s}, field content: "${s}".`);this._propagate(o)}}}class K7 extends Ot{get behavior(){return Rn}constructor(e){super();const n=pn(e.columnRegex).map(f=>new RegExp(f)),r=pn(e.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=e.skipRegex?new RegExp(e.skipRegex):void 0,o=e.asKey||"sample";let s,a,c;const u=f=>{var d;const g=Object.keys(f),b=new Map;for(const[A,B]of n.entries())for(const E of g){const C=(d=B.exec(E))==null?void 0:d[1];if(C!==void 0){let T=b.get(C);T||(T=[],b.set(C,T)),T[A]=E}}s=[...b.entries()],a=g.filter(A=>!n.some(B=>B.test(A))&&!(i&&i.test(A)));const w=[...a.map(A=>JSON.stringify(A)+": datum["+JSON.stringify(A)+"]"),JSON.stringify(o)+": sampleId",...r.map(A=>JSON.stringify(A)+": null")];c=new Function("datum","sampleId",`return {
`+w.join(`,
`)+`
};`)},l=f=>{s||u(f);for(const[d,g]of s){const b=c(f,d);for(let w=0;w<g.length;w++)b[r[w]]=f[g[w]];this._propagate(b)}},h=f=>{u(f),l(f),this.handle=l};this.handle=h,this.beginBatch=f=>{fb(f)&&(this.handle=h),super.beginBatch(f)}}}class J7 extends Ot{get behavior(){return gr}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const e=this.params,n=e.as||["y0","y1"],r=e.sort?z0(e.sort.field,e.sort.order):void 0,i=e.field?mt(e.field):()=>1,o=e.groupby.map(l=>mt(l)),s=FA(this.buffer,l=>o.map(h=>h(l)).join()).map(l=>l[1]);let a=l=>!0;if(e.baseField){const l=mt(e.baseField);a=h=>l(h)!==null}let c,u;switch(e.offset){case"normalize":c=(l,h)=>l/h,u=(l,h)=>qa(l,h);break;case"center":c=(l,h)=>l-h/2,u=(l,h)=>qa(l,h);break;case"information":{const l=Math.log2(e.cardinality??4);c=(h,f)=>h/f,u=(h,f)=>{const d=qa(h,A=>+!a(A)),g=qa(h,f),b=g-d;let w=0;for(let A=0;A<h.length;A++){const B=h[A];if(a(B)){const E=f(B)/b;w-=E*Math.log2(E)}}return b/(l-(w+0))*(b/g)}}break;default:c=(l,h)=>l,u=(l,h)=>1}for(const l of s){r&&l.sort(r);const h=u(l,i);let f=0;for(const d of l){const g=f+i(d);a(d)&&(d[n[0]]=c(f,h),d[n[1]]=c(g,h),this._propagate(d),f=g)}}super.complete()}}class $7 extends Ot{get behavior(){return Rn}constructor(e){super();const n=mt(e.field??"sequence"),[r,i]=e.as??["pos","sequence"];this.handle=o=>{const s=Object.assign({},o,{[i]:"",[r]:0}),a=n(o);for(let c=0;c<a.length;c++){const u=Object.assign({},s);u[r]=c,u[i]=a.charAt(c),this._propagate(u)}}}}class tk extends Ot{get behavior(){return Rn}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const e=this.params.groupby,n=e.map(i=>mt(i)),r=ja(this.buffer,...n);for(const[i,o]of jf(r)){const s={count:o.length};for(let a=0;a<e.length;a++)s[e[a]]=i[a];this._propagate(s)}super.complete()}}const ek="_uniqueId",$b=1e4,t2=[null];class e2 extends Ot{get behavior(){return gr}constructor(e){super(),this.params=e,this.as=e.as??ek,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(e){e[this.as]=this._nextId(),this._propagate(e)}_nextId(){return++this._id%$b==0&&(this._id=this._getBlock()*$b),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const e=t2.length;return t2[e]=this,this._blocks.push(e),this._usedBlocks++,e}}const nk={aggregate:tk,collect:Xb,coverage:F7,filterScoredLabels:z7,filter:M7,flattenCompressedExons:O7,flattenDelimited:N7,flattenSequence:$7,formula:U7,identifier:e2,linearizeGenomicCoordinate:Kb,measureText:Q7,pileup:Y7,project:W7,regexExtract:X7,regexFold:K7,sample:db,stack:J7};function rk(t,e){const n=nk[t.type];if(n)return new n(t,e);throw new Error("Unknown transform: "+t.type)}function n2(t){const e={...t.format};if(e.type??(e.type=ak(t)&&ik(t.url)),e.parse??(e.parse="auto"),!e.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(t));return e}function ik(t){var e;if(Array.isArray(t)&&(t=t[0]),t)return(e=t.match(/\.(csv|tsv|json)/))==null?void 0:e[1]}const r2=t=>typeof t!="object"?ok:sk,ok=t=>({data:t}),sk=t=>t;function ak(t){return"url"in t}class Xs extends Ot{get identifier(){}handle(e){throw new Error("Source does not handle incoming data!")}async load(){}}function uk(t){return"values"in t}class ck extends Xs{constructor(e,n){var r;if(super(),this.params=e,typeof e.values=="string"&&!((r=e==null?void 0:e.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}loadSynchronously(){const e=this.params.values;let n=[],r=i=>i;if(Array.isArray(e))e.length>0&&(n=e,r=r2(e[0]));else if(typeof e=="object")n=[e];else if(typeof e=="string")n=Np(e,n2(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function lk(t){return"url"in t}class hk extends Xs{constructor(e,n){super(),this.params=e,this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}async load(){const e=this.params.url,n=Array.isArray(e)?e:[e],r=async o=>nu({baseURL:this.baseUrl}).load(o).catch(s=>{throw new Error(`Cannot fetch: ${this.baseUrl}${o}: ${s.message}`)}),i=(o,s)=>{try{const a=Np(o,n2(this.params));this.beginBatch({type:"file",url:s});for(const c of a)this._propagate(c)}catch(a){throw new Error(`Cannot parse: ${s}: ${a.message}`)}};this.reset(),await Promise.all(n.map(o=>r(o).then(i))),this.complete()}}function fk(t){return"sequence"in t}class dk extends Xs{constructor(e,n){if(super(),this.sequence=e.sequence,!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}loadSynchronously(){const e=this.sequence.as||"data",n=this.sequence.step||1,r=this.sequence.stop;this.reset(),this.beginBatch({type:"file"});for(let i=this.sequence.start;i<r;i+=n)this._propagate({[e]:i});this.complete()}async load(){this.loadSynchronously()}}function pk(t,e,n){return n=(n-t)/(e-t),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}class so extends Xs{constructor(e,n){if(super(),this.view=e,n){if(n!=="x"&&n!=="y")throw new Error(`Invalid channel specified for the dynamic data source: ${n}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the dynamic data source. Must be either "x" or "y".');if(this.channel=n,this.scaleResolution=this.view.getScaleResolution(n),!this.scaleResolution){const i=[`The dynamic data source cannot find a resolved scale for channel "${n}".`];throw this.view instanceof oe||i.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(i.join(" "))}const r=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",r),this.view.context.addBroadcastListener("layoutComputed",r)}getAxisLength(){const e=this.scaleResolution.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return e.length?e.reduce((n,r)=>Math.min(n,r),1e4):0}get genome(){return this.scaleResolution.getGenome()}async onDomainChanged(e,n){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(e){this.reset(),this.beginBatch({type:"file"});for(const n of e)this._propagate(n);this.complete(),this.requestRender()}}class gk extends so{constructor(e,n){const r={axis:{},...e};super(n,r.channel),In(this,"ticks",[]),this.params=e}async onDomainChanged(){const e=this.scaleResolution.getScale(),n=this.params.axis,r=this.getAxisLength(),i=c=>25+60*pk(100,700,c),o=pe(n.tickCount)?n.tickCount:Math.round(r/i(r)),s=Ab(e,o,n.tickMinStep),a=n.values?xb(e,n.values,s):EB(e,s);if(!Eh(a,this.ticks)){this.ticks=a;const c=SB(e,o,n.format);this.publishData(a.map(u=>({value:u,label:c(u)})))}}}class mk extends so{constructor(e,n){super(n,e.channel)}async load(){this.publishData(this.genome.chromosomes)}}var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Se={},ac={};ac.byteLength=vk,ac.toByteArray=Ak,ac.fromByteArray=Ck;for(var yn=[],ze=[],bk=typeof Uint8Array<"u"?Uint8Array:Array,Vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uo=0,yk=Vf.length;uo<yk;++uo)yn[uo]=Vf[uo],ze[Vf.charCodeAt(uo)]=uo;ze["-".charCodeAt(0)]=62,ze["_".charCodeAt(0)]=63;function i2(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function vk(t){var e=i2(t),n=e[0],r=e[1];return(n+r)*3/4-r}function wk(t,e,n){return(e+n)*3/4-n}function Ak(t){var e,n=i2(t),r=n[0],i=n[1],o=new bk(wk(t,r,i)),s=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=ze[t.charCodeAt(c)]<<18|ze[t.charCodeAt(c+1)]<<12|ze[t.charCodeAt(c+2)]<<6|ze[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ze[t.charCodeAt(c)]<<2|ze[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=ze[t.charCodeAt(c)]<<10|ze[t.charCodeAt(c+1)]<<4|ze[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function xk(t){return yn[t>>18&63]+yn[t>>12&63]+yn[t>>6&63]+yn[t&63]}function Ek(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(xk(r));return i.join("")}function Ck(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(Ek(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(yn[e>>2]+yn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(yn[e>>10]+yn[e>>4&63]+yn[e<<2&63]+"=")),i.join("")}var qf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qf.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=o*256+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=s*256+t[e+h],h+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-u}return(d?-1:1)*s*Math.pow(2,o-r)},qf.write=function(t,e,n,r,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,h=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,g=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?e+=f/c:e+=f*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=a&255,d+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=s&255,d+=g,s/=256,u-=8);t[n+d-g]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ac,n=qf,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const p=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(p,m),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const m=new Uint8Array(p);return Object.setPrototypeOf(m,a.prototype),m}function a(p,m,y){if(typeof p=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return c(p,m,y)}a.poolSize=8192;function c(p,m,y){if(typeof p=="string")return f(p,m);if(ArrayBuffer.isView(p))return g(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(De(p,ArrayBuffer)||p&&De(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(p,SharedArrayBuffer)||p&&De(p.buffer,SharedArrayBuffer)))return b(p,m,y);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=p.valueOf&&p.valueOf();if(k!=null&&k!==p)return a.from(k,m,y);const P=w(p);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,m,y){return c(p,m,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function l(p,m,y){return u(p),p<=0?s(p):m!==void 0?typeof y=="string"?s(p).fill(m,y):s(p).fill(m):s(p)}a.alloc=function(p,m,y){return l(p,m,y)};function h(p){return u(p),s(p<0?0:A(p)|0)}a.allocUnsafe=function(p){return h(p)},a.allocUnsafeSlow=function(p){return h(p)};function f(p,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const y=E(p,m)|0;let k=s(y);const P=k.write(p,m);return P!==y&&(k=k.slice(0,P)),k}function d(p){const m=p.length<0?0:A(p.length)|0,y=s(m);for(let k=0;k<m;k+=1)y[k]=p[k]&255;return y}function g(p){if(De(p,Uint8Array)){const m=new Uint8Array(p);return b(m.buffer,m.byteOffset,m.byteLength)}return d(p)}function b(p,m,y){if(m<0||p.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');let k;return m===void 0&&y===void 0?k=new Uint8Array(p):y===void 0?k=new Uint8Array(p,m):k=new Uint8Array(p,m,y),Object.setPrototypeOf(k,a.prototype),k}function w(p){if(a.isBuffer(p)){const m=A(p.length)|0,y=s(m);return y.length===0||p.copy(y,0,0,m),y}if(p.length!==void 0)return typeof p.length!="number"||Ta(p.length)?s(0):d(p);if(p.type==="Buffer"&&Array.isArray(p.data))return d(p.data)}function A(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function B(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,m){if(De(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),De(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(p)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;let y=p.length,k=m.length;for(let P=0,R=Math.min(y,k);P<R;++P)if(p[P]!==m[P]){y=p[P],k=m[P];break}return y<k?-1:k<y?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let y;if(m===void 0)for(m=0,y=0;y<p.length;++y)m+=p[y].length;const k=a.allocUnsafe(m);let P=0;for(y=0;y<p.length;++y){let R=p[y];if(De(R,Uint8Array))P+R.length>k.length?(a.isBuffer(R)||(R=a.from(R)),R.copy(k,P)):Uint8Array.prototype.set.call(k,R,P);else if(a.isBuffer(R))R.copy(k,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=R.length}return k};function E(p,m){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||De(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const y=p.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&y===0)return 0;let P=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ke(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Pa(p).length;default:if(P)return k?-1:ke(p).length;m=(""+m).toLowerCase(),P=!0}}a.byteLength=E;function C(p,m,y){let k=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(p||(p="utf8");;)switch(p){case"hex":return he(this,m,y);case"utf8":case"utf-8":return Q(this,m,y);case"ascii":return Gt(this,m,y);case"latin1":case"binary":return Bn(this,m,y);case"base64":return Z(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fa(this,m,y);default:if(k)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),k=!0}}a.prototype._isBuffer=!0;function T(p,m,y){const k=p[m];p[m]=p[y],p[y]=k}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<p;m+=2)T(this,m,m+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<p;m+=4)T(this,m,m+3),T(this,m+1,m+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<p;m+=8)T(this,m,m+7),T(this,m+1,m+6),T(this,m+2,m+5),T(this,m+3,m+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?Q(this,0,p):C.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const m=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(p,m,y,k,P){if(De(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),y===void 0&&(y=p?p.length:0),k===void 0&&(k=0),P===void 0&&(P=this.length),m<0||y>p.length||k<0||P>this.length)throw new RangeError("out of range index");if(k>=P&&m>=y)return 0;if(k>=P)return-1;if(m>=y)return 1;if(m>>>=0,y>>>=0,k>>>=0,P>>>=0,this===p)return 0;let R=P-k,U=y-m;const ft=Math.min(R,U),Nt=this.slice(k,P),gt=p.slice(m,y);for(let dt=0;dt<ft;++dt)if(Nt[dt]!==gt[dt]){R=Nt[dt],U=gt[dt];break}return R<U?-1:U<R?1:0};function F(p,m,y,k,P){if(p.length===0)return-1;if(typeof y=="string"?(k=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,Ta(y)&&(y=P?0:p.length-1),y<0&&(y=p.length+y),y>=p.length){if(P)return-1;y=p.length-1}else if(y<0)if(P)y=0;else return-1;if(typeof m=="string"&&(m=a.from(m,k)),a.isBuffer(m))return m.length===0?-1:S(p,m,y,k,P);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(p,m,y):Uint8Array.prototype.lastIndexOf.call(p,m,y):S(p,[m],y,k,P);throw new TypeError("val must be string, number or Buffer")}function S(p,m,y,k,P){let R=1,U=p.length,ft=m.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(p.length<2||m.length<2)return-1;R=2,U/=2,ft/=2,y/=2}function Nt(dt,Tt){return R===1?dt[Tt]:dt.readUInt16BE(Tt*R)}let gt;if(P){let dt=-1;for(gt=y;gt<U;gt++)if(Nt(p,gt)===Nt(m,dt===-1?0:gt-dt)){if(dt===-1&&(dt=gt),gt-dt+1===ft)return dt*R}else dt!==-1&&(gt-=gt-dt),dt=-1}else for(y+ft>U&&(y=U-ft),gt=y;gt>=0;gt--){let dt=!0;for(let Tt=0;Tt<ft;Tt++)if(Nt(p,gt+Tt)!==Nt(m,Tt)){dt=!1;break}if(dt)return gt}return-1}a.prototype.includes=function(p,m,y){return this.indexOf(p,m,y)!==-1},a.prototype.indexOf=function(p,m,y){return F(this,p,m,y,!0)},a.prototype.lastIndexOf=function(p,m,y){return F(this,p,m,y,!1)};function O(p,m,y,k){y=Number(y)||0;const P=p.length-y;k?(k=Number(k),k>P&&(k=P)):k=P;const R=m.length;k>R/2&&(k=R/2);let U;for(U=0;U<k;++U){const ft=parseInt(m.substr(U*2,2),16);if(Ta(ft))return U;p[y+U]=ft}return U}function x(p,m,y,k){return Lo(ke(m,p.length-y),p,y,k)}function I(p,m,y,k){return Lo(Bi(m),p,y,k)}function _(p,m,y,k){return Lo(Pa(m),p,y,k)}function W(p,m,y,k){return Lo(C0(m,p.length-y),p,y,k)}a.prototype.write=function(p,m,y,k){if(m===void 0)k="utf8",y=this.length,m=0;else if(y===void 0&&typeof m=="string")k=m,y=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(y)?(y=y>>>0,k===void 0&&(k="utf8")):(k=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const P=this.length-m;if((y===void 0||y>P)&&(y=P),p.length>0&&(y<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let R=!1;for(;;)switch(k){case"hex":return O(this,p,m,y);case"utf8":case"utf-8":return x(this,p,m,y);case"ascii":case"latin1":case"binary":return I(this,p,m,y);case"base64":return _(this,p,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,p,m,y);default:if(R)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),R=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(p,m,y){return m===0&&y===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(m,y))}function Q(p,m,y){y=Math.min(p.length,y);const k=[];let P=m;for(;P<y;){const R=p[P];let U=null,ft=R>239?4:R>223?3:R>191?2:1;if(P+ft<=y){let Nt,gt,dt,Tt;switch(ft){case 1:R<128&&(U=R);break;case 2:Nt=p[P+1],(Nt&192)===128&&(Tt=(R&31)<<6|Nt&63,Tt>127&&(U=Tt));break;case 3:Nt=p[P+1],gt=p[P+2],(Nt&192)===128&&(gt&192)===128&&(Tt=(R&15)<<12|(Nt&63)<<6|gt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(U=Tt));break;case 4:Nt=p[P+1],gt=p[P+2],dt=p[P+3],(Nt&192)===128&&(gt&192)===128&&(dt&192)===128&&(Tt=(R&15)<<18|(Nt&63)<<12|(gt&63)<<6|dt&63,Tt>65535&&Tt<1114112&&(U=Tt))}}U===null?(U=65533,ft=1):U>65535&&(U-=65536,k.push(U>>>10&1023|55296),U=56320|U&1023),k.push(U),P+=ft}return _t(k)}const ht=4096;function _t(p){const m=p.length;if(m<=ht)return String.fromCharCode.apply(String,p);let y="",k=0;for(;k<m;)y+=String.fromCharCode.apply(String,p.slice(k,k+=ht));return y}function Gt(p,m,y){let k="";y=Math.min(p.length,y);for(let P=m;P<y;++P)k+=String.fromCharCode(p[P]&127);return k}function Bn(p,m,y){let k="";y=Math.min(p.length,y);for(let P=m;P<y;++P)k+=String.fromCharCode(p[P]);return k}function he(p,m,y){const k=p.length;(!m||m<0)&&(m=0),(!y||y<0||y>k)&&(y=k);let P="";for(let R=m;R<y;++R)P+=Kc[p[R]];return P}function Fa(p,m,y){const k=p.slice(m,y);let P="";for(let R=0;R<k.length-1;R+=2)P+=String.fromCharCode(k[R]+k[R+1]*256);return P}a.prototype.slice=function(p,m){const y=this.length;p=~~p,m=m===void 0?y:~~m,p<0?(p+=y,p<0&&(p=0)):p>y&&(p=y),m<0?(m+=y,m<0&&(m=0)):m>y&&(m=y),m<p&&(m=p);const k=this.subarray(p,m);return Object.setPrototypeOf(k,a.prototype),k};function Ft(p,m,y){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+m>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,m,y){p=p>>>0,m=m>>>0,y||Ft(p,m,this.length);let k=this[p],P=1,R=0;for(;++R<m&&(P*=256);)k+=this[p+R]*P;return k},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,m,y){p=p>>>0,m=m>>>0,y||Ft(p,m,this.length);let k=this[p+--m],P=1;for(;m>0&&(P*=256);)k+=this[p+--m]*P;return k},a.prototype.readUint8=a.prototype.readUInt8=function(p,m){return p=p>>>0,m||Ft(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||Ft(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||Ft(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=kn(function(p){p=p>>>0,Pt(p,"offset");const m=this[p],y=this[p+7];(m===void 0||y===void 0)&&rt(p,this.length-8);const k=m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,P=this[++p]+this[++p]*2**8+this[++p]*2**16+y*2**24;return BigInt(k)+(BigInt(P)<<BigInt(32))}),a.prototype.readBigUInt64BE=kn(function(p){p=p>>>0,Pt(p,"offset");const m=this[p],y=this[p+7];(m===void 0||y===void 0)&&rt(p,this.length-8);const k=m*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],P=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+y;return(BigInt(k)<<BigInt(32))+BigInt(P)}),a.prototype.readIntLE=function(p,m,y){p=p>>>0,m=m>>>0,y||Ft(p,m,this.length);let k=this[p],P=1,R=0;for(;++R<m&&(P*=256);)k+=this[p+R]*P;return P*=128,k>=P&&(k-=Math.pow(2,8*m)),k},a.prototype.readIntBE=function(p,m,y){p=p>>>0,m=m>>>0,y||Ft(p,m,this.length);let k=m,P=1,R=this[p+--k];for(;k>0&&(P*=256);)R+=this[p+--k]*P;return P*=128,R>=P&&(R-=Math.pow(2,8*m)),R},a.prototype.readInt8=function(p,m){return p=p>>>0,m||Ft(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,m){p=p>>>0,m||Ft(p,2,this.length);const y=this[p]|this[p+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(p,m){p=p>>>0,m||Ft(p,2,this.length);const y=this[p+1]|this[p]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=kn(function(p){p=p>>>0,Pt(p,"offset");const m=this[p],y=this[p+7];(m===void 0||y===void 0)&&rt(p,this.length-8);const k=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(y<<24);return(BigInt(k)<<BigInt(32))+BigInt(m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=kn(function(p){p=p>>>0,Pt(p,"offset");const m=this[p],y=this[p+7];(m===void 0||y===void 0)&&rt(p,this.length-8);const k=(m<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(k)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+y)}),a.prototype.readFloatLE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),n.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,m){return p=p>>>0,m||Ft(p,4,this.length),n.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||Ft(p,8,this.length),n.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||Ft(p,8,this.length),n.read(this,p,!1,52,8)};function Ht(p,m,y,k,P,R){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>P||m<R)throw new RangeError('"value" argument is out of bounds');if(y+k>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,m,y,k){if(p=+p,m=m>>>0,y=y>>>0,!k){const U=Math.pow(2,8*y)-1;Ht(this,p,m,y,U,0)}let P=1,R=0;for(this[m]=p&255;++R<y&&(P*=256);)this[m+R]=p/P&255;return m+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,m,y,k){if(p=+p,m=m>>>0,y=y>>>0,!k){const U=Math.pow(2,8*y)-1;Ht(this,p,m,y,U,0)}let P=y-1,R=1;for(this[m+P]=p&255;--P>=0&&(R*=256);)this[m+P]=p/R&255;return m+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,1,255,0),this[m]=p&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function Ro(p,m,y,k,P){N(m,k,P,p,y,7);let R=Number(m&BigInt(4294967295));p[y++]=R,R=R>>8,p[y++]=R,R=R>>8,p[y++]=R,R=R>>8,p[y++]=R;let U=Number(m>>BigInt(32)&BigInt(4294967295));return p[y++]=U,U=U>>8,p[y++]=U,U=U>>8,p[y++]=U,U=U>>8,p[y++]=U,y}function Ci(p,m,y,k,P){N(m,k,P,p,y,7);let R=Number(m&BigInt(4294967295));p[y+7]=R,R=R>>8,p[y+6]=R,R=R>>8,p[y+5]=R,R=R>>8,p[y+4]=R;let U=Number(m>>BigInt(32)&BigInt(4294967295));return p[y+3]=U,U=U>>8,p[y+2]=U,U=U>>8,p[y+1]=U,U=U>>8,p[y]=U,y+8}a.prototype.writeBigUInt64LE=kn(function(p,m=0){return Ro(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=kn(function(p,m=0){return Ci(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,m,y,k){if(p=+p,m=m>>>0,!k){const ft=Math.pow(2,8*y-1);Ht(this,p,m,y,ft-1,-ft)}let P=0,R=1,U=0;for(this[m]=p&255;++P<y&&(R*=256);)p<0&&U===0&&this[m+P-1]!==0&&(U=1),this[m+P]=(p/R>>0)-U&255;return m+y},a.prototype.writeIntBE=function(p,m,y,k){if(p=+p,m=m>>>0,!k){const ft=Math.pow(2,8*y-1);Ht(this,p,m,y,ft-1,-ft)}let P=y-1,R=1,U=0;for(this[m+P]=p&255;--P>=0&&(R*=256);)p<0&&U===0&&this[m+P+1]!==0&&(U=1),this[m+P]=(p/R>>0)-U&255;return m+y},a.prototype.writeInt8=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},a.prototype.writeInt16LE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},a.prototype.writeInt16BE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},a.prototype.writeInt32LE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},a.prototype.writeInt32BE=function(p,m,y){return p=+p,m=m>>>0,y||Ht(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},a.prototype.writeBigInt64LE=kn(function(p,m=0){return Ro(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=kn(function(p,m=0){return Ci(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oo(p,m,y,k,P,R){if(y+k>p.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function Si(p,m,y,k,P){return m=+m,y=y>>>0,P||Oo(p,m,y,4),n.write(p,m,y,k,23,4),y+4}a.prototype.writeFloatLE=function(p,m,y){return Si(this,p,m,!0,y)},a.prototype.writeFloatBE=function(p,m,y){return Si(this,p,m,!1,y)};function No(p,m,y,k,P){return m=+m,y=y>>>0,P||Oo(p,m,y,8),n.write(p,m,y,k,52,8),y+8}a.prototype.writeDoubleLE=function(p,m,y){return No(this,p,m,!0,y)},a.prototype.writeDoubleBE=function(p,m,y){return No(this,p,m,!1,y)},a.prototype.copy=function(p,m,y,k){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(y||(y=0),!k&&k!==0&&(k=this.length),m>=p.length&&(m=p.length),m||(m=0),k>0&&k<y&&(k=y),k===y||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),p.length-m<k-y&&(k=p.length-m+y);const P=k-y;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,y,k):Uint8Array.prototype.set.call(p,this.subarray(y,k),m),P},a.prototype.fill=function(p,m,y,k){if(typeof p=="string"){if(typeof m=="string"?(k=m,m=0,y=this.length):typeof y=="string"&&(k=y,y=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(p.length===1){const R=p.charCodeAt(0);(k==="utf8"&&R<128||k==="latin1")&&(p=R)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<y)throw new RangeError("Out of range index");if(y<=m)return this;m=m>>>0,y=y===void 0?this.length:y>>>0,p||(p=0);let P;if(typeof p=="number")for(P=m;P<y;++P)this[P]=p;else{const R=a.isBuffer(p)?p:a.from(p,k),U=R.length;if(U===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(P=0;P<y-m;++P)this[P+m]=R[P%U]}return this};const un={};function V(p,m,y){un[p]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(p,m){return`The "${p}" argument must be of type number. Received type ${typeof m}`},TypeError),V("ERR_OUT_OF_RANGE",function(p,m,y){let k=`The value of "${p}" is out of range.`,P=y;return Number.isInteger(y)&&Math.abs(y)>2**32?P=$(String(y)):typeof y=="bigint"&&(P=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(P=$(P)),P+="n"),k+=` It must be ${m}. Received ${P}`,k},RangeError);function $(p){let m="",y=p.length;const k=p[0]==="-"?1:0;for(;y>=k+4;y-=3)m=`_${p.slice(y-3,y)}${m}`;return`${p.slice(0,y)}${m}`}function et(p,m,y){Pt(m,"offset"),(p[m]===void 0||p[m+y]===void 0)&&rt(m,p.length-(y+1))}function N(p,m,y,k,P,R){if(p>y||p<m){const U=typeof m=="bigint"?"n":"";let ft;throw R>3?m===0||m===BigInt(0)?ft=`>= 0${U} and < 2${U} ** ${(R+1)*8}${U}`:ft=`>= -(2${U} ** ${(R+1)*8-1}${U}) and < 2 ** ${(R+1)*8-1}${U}`:ft=`>= ${m}${U} and <= ${y}${U}`,new un.ERR_OUT_OF_RANGE("value",ft,p)}et(k,P,R)}function Pt(p,m){if(typeof p!="number")throw new un.ERR_INVALID_ARG_TYPE(m,"number",p)}function rt(p,m,y){throw Math.floor(p)!==p?(Pt(p,y),new un.ERR_OUT_OF_RANGE(y||"offset","an integer",p)):m<0?new un.ERR_BUFFER_OUT_OF_BOUNDS:new un.ERR_OUT_OF_RANGE(y||"offset",`>= ${y?1:0} and <= ${m}`,p)}const te=/[^+/0-9A-Za-z-_]/g;function Wt(p){if(p=p.split("=")[0],p=p.trim().replace(te,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function ke(p,m){m=m||1/0;let y;const k=p.length;let P=null;const R=[];for(let U=0;U<k;++U){if(y=p.charCodeAt(U),y>55295&&y<57344){if(!P){if(y>56319){(m-=3)>-1&&R.push(239,191,189);continue}else if(U+1===k){(m-=3)>-1&&R.push(239,191,189);continue}P=y;continue}if(y<56320){(m-=3)>-1&&R.push(239,191,189),P=y;continue}y=(P-55296<<10|y-56320)+65536}else P&&(m-=3)>-1&&R.push(239,191,189);if(P=null,y<128){if((m-=1)<0)break;R.push(y)}else if(y<2048){if((m-=2)<0)break;R.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;R.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;R.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return R}function Bi(p){const m=[];for(let y=0;y<p.length;++y)m.push(p.charCodeAt(y)&255);return m}function C0(p,m){let y,k,P;const R=[];for(let U=0;U<p.length&&!((m-=2)<0);++U)y=p.charCodeAt(U),k=y>>8,P=y%256,R.push(P),R.push(k);return R}function Pa(p){return e.toByteArray(Wt(p))}function Lo(p,m,y,k){let P;for(P=0;P<k&&!(P+y>=m.length||P>=p.length);++P)m[P+y]=p[P];return P}function De(p,m){return p instanceof m||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===m.name}function Ta(p){return p!==p}const Kc=function(){const p="0123456789abcdef",m=new Array(256);for(let y=0;y<16;++y){const k=y*16;for(let P=0;P<16;++P)m[k+P]=p[y]+p[P]}return m}();function kn(p){return typeof BigInt>"u"?Jc:p}function Jc(){throw new Error("BigInt not supported")}})(Se);const vr={},Qf=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class Ln{async getBufferFromResponse(e){if(typeof e.buffer=="function")return e.buffer();if(typeof e.arrayBuffer=="function"){const n=await e.arrayBuffer();return Se.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(e,n={}){this.baseOverrides={},this.url=e;const r=n.fetch||Qf.fetch&&Qf.fetch.bind(Qf);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(e,n){let r;try{r=await this.fetchImplementation(e,n)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(e,{...n,cache:"reload"});else throw i}return r}async read(e,n=0,r,i=0,o={}){const{headers:s={},signal:a,overrides:c={}}=o;r<1/0?s.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(s.range=`bytes=${i}-`);const u={...this.baseOverrides,...c,headers:{...s,...c.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},l=await this.fetch(this.url,u);if(!l.ok)throw new Error(`HTTP ${l.status} ${l.statusText} ${this.url}`);if(l.status===200&&i===0||l.status===206){const h=await this.getBufferFromResponse(l),f=h.copy(e,n,0,Math.min(r,h.length)),d=l.headers.get("content-range"),g=/\/(\d+)$/.exec(d||"");return g&&g[1]&&(this._stat={size:parseInt(g[1],10)}),{bytesRead:f,buffer:e}}throw l.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(e={}){let n,r;typeof e=="string"?(n=e,r={}):(n=e.encoding,r=e,delete r.encoding);const{headers:i={},signal:o,overrides:s={}}=r,a={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...s},c=await this.fetch(this.url,a);if(!c)throw new Error("generic-filehandle failed to fetch");if(c.status!==200)throw Object.assign(new Error(`HTTP ${c.status} fetching ${this.url}`),{status:c.status});if(n==="utf8")return c.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(c)}async stat(){if(!this._stat){const e=Se.Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}var Un={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}t.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var c in a)n(a,c)&&(o[c]=a[c])}}return o},t.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,c,u){if(s.subarray&&o.subarray){o.set(s.subarray(a,a+c),u);return}for(var l=0;l<c;l++)o[u+l]=s[a+l]},flattenChunks:function(o){var s,a,c,u,l,h;for(c=0,s=0,a=o.length;s<a;s++)c+=o[s].length;for(h=new Uint8Array(c),u=0,s=0,a=o.length;s<a;s++)l=o[s],h.set(l,u),u+=l.length;return h}},i={arraySet:function(o,s,a,c,u){for(var l=0;l<c;l++)o[u+l]=s[a+l]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(Un);var Ks={},vn={},co={},Sk=Un,Bk=4,o2=0,s2=1,kk=2;function lo(t){for(var e=t.length;--e>=0;)t[e]=0}var Dk=0,a2=1,Ik=2,Fk=3,Pk=258,Zf=29,Js=256,$s=Js+1+Zf,ho=30,Yf=19,u2=2*$s+1,si=15,Wf=16,Tk=7,Xf=256,c2=16,l2=17,h2=18,Kf=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],uc=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],zk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mk=512,Gn=new Array(($s+2)*2);lo(Gn);var ta=new Array(ho*2);lo(ta);var ea=new Array(Mk);lo(ea);var na=new Array(Pk-Fk+1);lo(na);var Jf=new Array(Zf);lo(Jf);var cc=new Array(ho);lo(cc);function $f(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var d2,p2,g2;function td(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function m2(t){return t<256?ea[t]:ea[256+(t>>>7)]}function ra(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function ve(t,e,n){t.bi_valid>Wf-n?(t.bi_buf|=e<<t.bi_valid&65535,ra(t,t.bi_buf),t.bi_buf=e>>Wf-t.bi_valid,t.bi_valid+=n-Wf):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function wn(t,e,n){ve(t,n[e*2],n[e*2+1])}function b2(t,e){var n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1}function _k(t){t.bi_valid===16?(ra(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function Rk(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,u,l,h,f,d,g,b=0;for(f=0;f<=si;f++)t.bl_count[f]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<u2;u++)l=t.heap[u],f=n[n[l*2+1]*2+1]+1,f>c&&(f=c,b++),n[l*2+1]=f,!(l>r)&&(t.bl_count[f]++,d=0,l>=a&&(d=s[l-a]),g=n[l*2],t.opt_len+=g*(f+d),o&&(t.static_len+=g*(i[l*2+1]+d)));if(b!==0){do{for(f=c-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,b-=2}while(b>0);for(f=c;f!==0;f--)for(l=t.bl_count[f];l!==0;)h=t.heap[--u],!(h>r)&&(n[h*2+1]!==f&&(t.opt_len+=(f-n[h*2+1])*n[h*2],n[h*2+1]=f),l--)}}function y2(t,e,n){var r=new Array(si+1),i=0,o,s;for(o=1;o<=si;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=e;s++){var a=t[s*2+1];a!==0&&(t[s*2]=b2(r[a]++,a))}}function Ok(){var t,e,n,r,i,o=new Array(si+1);for(n=0,r=0;r<Zf-1;r++)for(Jf[r]=n,t=0;t<1<<Kf[r];t++)na[n++]=r;for(na[n-1]=r,i=0,r=0;r<16;r++)for(cc[r]=i,t=0;t<1<<uc[r];t++)ea[i++]=r;for(i>>=7;r<ho;r++)for(cc[r]=i<<7,t=0;t<1<<uc[r]-7;t++)ea[256+i++]=r;for(e=0;e<=si;e++)o[e]=0;for(t=0;t<=143;)Gn[t*2+1]=8,t++,o[8]++;for(;t<=255;)Gn[t*2+1]=9,t++,o[9]++;for(;t<=279;)Gn[t*2+1]=7,t++,o[7]++;for(;t<=287;)Gn[t*2+1]=8,t++,o[8]++;for(y2(Gn,$s+1,o),t=0;t<ho;t++)ta[t*2+1]=5,ta[t*2]=b2(t,5);d2=new $f(Gn,Kf,Js+1,$s,si),p2=new $f(ta,uc,0,ho,si),g2=new $f(new Array(0),zk,0,Yf,Tk)}function v2(t){var e;for(e=0;e<$s;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ho;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Yf;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Xf*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function w2(t){t.bi_valid>8?ra(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Nk(t,e,n,r){w2(t),r&&(ra(t,n),ra(t,~n)),Sk.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function A2(t,e,n,r){var i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function ed(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&A2(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!A2(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function x2(t,e,n){var r,i,o=0,s,a;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,r===0?wn(t,i,e):(s=na[i],wn(t,s+Js+1,e),a=Kf[s],a!==0&&(i-=Jf[s],ve(t,i,a)),r--,s=m2(r),wn(t,s,n),a=uc[s],a!==0&&(r-=cc[s],ve(t,r,a)));while(o<t.last_lit);wn(t,Xf,e)}function nd(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,u;for(t.heap_len=0,t.heap_max=u2,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)ed(t,n,s);u=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ed(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[u*2]=n[s*2]+n[a*2],t.depth[u]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=u,t.heap[1]=u++,ed(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Rk(t,e),y2(n,c,t.bl_count)}function E2(t,e,n){var r,i=-1,o,s=e[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<u?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[c2*2]++):a<=10?t.bl_tree[l2*2]++:t.bl_tree[h2*2]++,a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))}function C2(t,e,n){var r,i=-1,o,s=e[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<u)do wn(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(wn(t,o,t.bl_tree),a--),wn(t,c2,t.bl_tree),ve(t,a-3,2)):a<=10?(wn(t,l2,t.bl_tree),ve(t,a-3,3)):(wn(t,h2,t.bl_tree),ve(t,a-11,7));a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}}function Lk(t){var e;for(E2(t,t.dyn_ltree,t.l_desc.max_code),E2(t,t.dyn_dtree,t.d_desc.max_code),nd(t,t.bl_desc),e=Yf-1;e>=3&&t.bl_tree[f2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function Uk(t,e,n,r){var i;for(ve(t,e-257,5),ve(t,n-1,5),ve(t,r-4,4),i=0;i<r;i++)ve(t,t.bl_tree[f2[i]*2+1],3);C2(t,t.dyn_ltree,e-1),C2(t,t.dyn_dtree,n-1)}function Gk(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return o2;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return s2;for(n=32;n<Js;n++)if(t.dyn_ltree[n*2]!==0)return s2;return o2}var S2=!1;function Hk(t){S2||(Ok(),S2=!0),t.l_desc=new td(t.dyn_ltree,d2),t.d_desc=new td(t.dyn_dtree,p2),t.bl_desc=new td(t.bl_tree,g2),t.bi_buf=0,t.bi_valid=0,v2(t)}function B2(t,e,n,r){ve(t,(Dk<<1)+(r?1:0),3),Nk(t,e,n,!0)}function jk(t){ve(t,a2<<1,3),wn(t,Xf,Gn),_k(t)}function Vk(t,e,n,r){var i,o,s=0;t.level>0?(t.strm.data_type===kk&&(t.strm.data_type=Gk(t)),nd(t,t.l_desc),nd(t,t.d_desc),s=Lk(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?B2(t,e,n,r):t.strategy===Bk||o===i?(ve(t,(a2<<1)+(r?1:0),3),x2(t,Gn,ta)):(ve(t,(Ik<<1)+(r?1:0),3),Uk(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),x2(t,t.dyn_ltree,t.dyn_dtree)),v2(t),r&&w2(t)}function qk(t,e,n){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(na[n]+Js+1)*2]++,t.dyn_dtree[m2(e)*2]++),t.last_lit===t.lit_bufsize-1}co._tr_init=Hk,co._tr_stored_block=B2,co._tr_flush_block=Vk,co._tr_tally=qk,co._tr_align=jk;function Qk(t,e,n,r){for(var i=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}var k2=Qk;function Zk(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e}var Yk=Zk();function Wk(t,e,n,r){var i=Yk,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1}var D2=Wk,rd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},le=Un,Me=co,I2=k2,wr=D2,Xk=rd,ai=0,Kk=1,Jk=3,Ar=4,F2=5,An=0,P2=1,xn=-2,$k=-3,id=-5,tD=-1,eD=1,lc=2,nD=3,rD=4,iD=0,oD=2,hc=8,sD=9,aD=15,uD=8,cD=29,lD=256,od=lD+1+cD,hD=30,fD=19,dD=2*od+1,pD=15,nt=3,xr=258,$e=xr+nt+1,gD=32,fc=42,sd=69,dc=73,pc=91,gc=103,ui=113,ia=666,Jt=1,oa=2,ci=3,fo=4,mD=3;function Er(t,e){return t.msg=Xk[e],e}function T2(t){return(t<<1)-(t>4?9:0)}function Cr(t){for(var e=t.length;--e>=0;)t[e]=0}function Sr(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(le.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))}function $t(t,e){Me._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Sr(t.strm)}function at(t,e){t.pending_buf[t.pending++]=e}function sa(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function bD(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,le.arraySet(e,t.input,t.next_in,i,n),t.state.wrap===1?t.adler=I2(t.adler,e,i,n):t.state.wrap===2&&(t.adler=wr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function z2(t,e){var n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-$e?t.strstart-(t.w_size-$e):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+xr,d=u[r+s-1],g=u[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+s]!==g||u[i+s-1]!==d||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(o=xr-(f-r),r=f-xr,o>s){if(t.match_start=e,s=o,o>=a)break;d=u[r+s-1],g=u[r+s]}}while((e=h[e&l])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead}function li(t){var e=t.w_size,n,r,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-$e)){le.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);o+=e}if(t.strm.avail_in===0)break;if(r=bD(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=nt)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+nt-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<nt)););}while(t.lookahead<$e&&t.strm.avail_in!==0)}function yD(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(li(t),t.lookahead===0&&e===ai)return Jt;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,$t(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-$e&&($t(t,!1),t.strm.avail_out===0))return Jt}return t.insert=0,e===Ar?($t(t,!0),t.strm.avail_out===0?ci:fo):(t.strstart>t.block_start&&($t(t,!1),t.strm.avail_out),Jt)}function ad(t,e){for(var n,r;;){if(t.lookahead<$e){if(li(t),t.lookahead<$e&&e===ai)return Jt;if(t.lookahead===0)break}if(n=0,t.lookahead>=nt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-$e&&(t.match_length=z2(t,n)),t.match_length>=nt)if(r=Me._tr_tally(t,t.strstart-t.match_start,t.match_length-nt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=nt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=Me._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&($t(t,!1),t.strm.avail_out===0))return Jt}return t.insert=t.strstart<nt-1?t.strstart:nt-1,e===Ar?($t(t,!0),t.strm.avail_out===0?ci:fo):t.last_lit&&($t(t,!1),t.strm.avail_out===0)?Jt:oa}function po(t,e){for(var n,r,i;;){if(t.lookahead<$e){if(li(t),t.lookahead<$e&&e===ai)return Jt;if(t.lookahead===0)break}if(n=0,t.lookahead>=nt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=nt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-$e&&(t.match_length=z2(t,n),t.match_length<=5&&(t.strategy===eD||t.match_length===nt&&t.strstart-t.match_start>4096)&&(t.match_length=nt-1)),t.prev_length>=nt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-nt,r=Me._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-nt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=nt-1,t.strstart++,r&&($t(t,!1),t.strm.avail_out===0))return Jt}else if(t.match_available){if(r=Me._tr_tally(t,0,t.window[t.strstart-1]),r&&$t(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Jt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Me._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<nt-1?t.strstart:nt-1,e===Ar?($t(t,!0),t.strm.avail_out===0?ci:fo):t.last_lit&&($t(t,!1),t.strm.avail_out===0)?Jt:oa}function vD(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=xr){if(li(t),t.lookahead<=xr&&e===ai)return Jt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=nt&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+xr;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=xr-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=nt?(n=Me._tr_tally(t,1,t.match_length-nt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Me._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&($t(t,!1),t.strm.avail_out===0))return Jt}return t.insert=0,e===Ar?($t(t,!0),t.strm.avail_out===0?ci:fo):t.last_lit&&($t(t,!1),t.strm.avail_out===0)?Jt:oa}function wD(t,e){for(var n;;){if(t.lookahead===0&&(li(t),t.lookahead===0)){if(e===ai)return Jt;break}if(t.match_length=0,n=Me._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&($t(t,!1),t.strm.avail_out===0))return Jt}return t.insert=0,e===Ar?($t(t,!0),t.strm.avail_out===0?ci:fo):t.last_lit&&($t(t,!1),t.strm.avail_out===0)?Jt:oa}function En(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var go;go=[new En(0,0,0,0,yD),new En(4,4,8,4,ad),new En(4,5,16,8,ad),new En(4,6,32,32,ad),new En(4,4,16,16,po),new En(8,16,32,32,po),new En(8,16,128,128,po),new En(8,32,128,256,po),new En(32,128,258,1024,po),new En(32,258,258,4096,po)];function AD(t){t.window_size=2*t.w_size,Cr(t.head),t.max_lazy_match=go[t.level].max_lazy,t.good_match=go[t.level].good_length,t.nice_match=go[t.level].nice_length,t.max_chain_length=go[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=nt-1,t.match_available=0,t.ins_h=0}function xD(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new le.Buf16(dD*2),this.dyn_dtree=new le.Buf16((2*hD+1)*2),this.bl_tree=new le.Buf16((2*fD+1)*2),Cr(this.dyn_ltree),Cr(this.dyn_dtree),Cr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new le.Buf16(pD+1),this.heap=new le.Buf16(2*od+1),Cr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new le.Buf16(2*od+1),Cr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M2(t){var e;return!t||!t.state?Er(t,xn):(t.total_in=t.total_out=0,t.data_type=oD,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?fc:ui,t.adler=e.wrap===2?0:1,e.last_flush=ai,Me._tr_init(e),An)}function _2(t){var e=M2(t);return e===An&&AD(t.state),e}function ED(t,e){return!t||!t.state||t.state.wrap!==2?xn:(t.state.gzhead=e,An)}function R2(t,e,n,r,i,o){if(!t)return xn;var s=1;if(e===tD&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>sD||n!==hc||r<8||r>15||e<0||e>9||o<0||o>rD)return Er(t,xn);r===8&&(r=9);var a=new xD;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+nt-1)/nt),a.window=new le.Buf8(a.w_size*2),a.head=new le.Buf16(a.hash_size),a.prev=new le.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new le.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,_2(t)}function CD(t,e){return R2(t,e,hc,aD,uD,iD)}function SD(t,e){var n,r,i,o;if(!t||!t.state||e>F2||e<0)return t?Er(t,xn):xn;if(r=t.state,!t.output||!t.input&&t.avail_in!==0||r.status===ia&&e!==Ar)return Er(t,t.avail_out===0?id:xn);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===fc)if(r.wrap===2)t.adler=0,at(r,31),at(r,139),at(r,8),r.gzhead?(at(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),at(r,r.gzhead.time&255),at(r,r.gzhead.time>>8&255),at(r,r.gzhead.time>>16&255),at(r,r.gzhead.time>>24&255),at(r,r.level===9?2:r.strategy>=lc||r.level<2?4:0),at(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(at(r,r.gzhead.extra.length&255),at(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=wr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=sd):(at(r,0),at(r,0),at(r,0),at(r,0),at(r,0),at(r,r.level===9?2:r.strategy>=lc||r.level<2?4:0),at(r,mD),r.status=ui);else{var s=hc+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=lc||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=gD),s+=31-s%31,r.status=ui,sa(r,s),r.strstart!==0&&(sa(r,t.adler>>>16),sa(r,t.adler&65535)),t.adler=1}if(r.status===sd)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),Sr(t),i=r.pending,r.pending===r.pending_buf_size));)at(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=dc)}else r.status=dc;if(r.status===dc)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),Sr(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,at(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=pc)}else r.status=pc;if(r.status===pc)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),Sr(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,at(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=wr(t.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=gc)}else r.status=gc;if(r.status===gc&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Sr(t),r.pending+2<=r.pending_buf_size&&(at(r,t.adler&255),at(r,t.adler>>8&255),t.adler=0,r.status=ui)):r.status=ui),r.pending!==0){if(Sr(t),t.avail_out===0)return r.last_flush=-1,An}else if(t.avail_in===0&&T2(e)<=T2(n)&&e!==Ar)return Er(t,id);if(r.status===ia&&t.avail_in!==0)return Er(t,id);if(t.avail_in!==0||r.lookahead!==0||e!==ai&&r.status!==ia){var c=r.strategy===lc?wD(r,e):r.strategy===nD?vD(r,e):go[r.level].func(r,e);if((c===ci||c===fo)&&(r.status=ia),c===Jt||c===ci)return t.avail_out===0&&(r.last_flush=-1),An;if(c===oa&&(e===Kk?Me._tr_align(r):e!==F2&&(Me._tr_stored_block(r,0,0,!1),e===Jk&&(Cr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Sr(t),t.avail_out===0))return r.last_flush=-1,An}return e!==Ar?An:r.wrap<=0?P2:(r.wrap===2?(at(r,t.adler&255),at(r,t.adler>>8&255),at(r,t.adler>>16&255),at(r,t.adler>>24&255),at(r,t.total_in&255),at(r,t.total_in>>8&255),at(r,t.total_in>>16&255),at(r,t.total_in>>24&255)):(sa(r,t.adler>>>16),sa(r,t.adler&65535)),Sr(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?An:P2)}function BD(t){var e;return!t||!t.state?xn:(e=t.state.status,e!==fc&&e!==sd&&e!==dc&&e!==pc&&e!==gc&&e!==ui&&e!==ia?Er(t,xn):(t.state=null,e===ui?Er(t,$k):An))}function kD(t,e){var n=e.length,r,i,o,s,a,c,u,l;if(!t||!t.state||(r=t.state,s=r.wrap,s===2||s===1&&r.status!==fc||r.lookahead))return xn;for(s===1&&(t.adler=I2(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Cr(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new le.Buf8(r.w_size),le.arraySet(l,e,n-r.w_size,r.w_size,0),e=l,n=r.w_size),a=t.avail_in,c=t.next_in,u=t.input,t.avail_in=n,t.next_in=0,t.input=e,li(r);r.lookahead>=nt;){i=r.strstart,o=r.lookahead-(nt-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+nt-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=nt-1,li(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=nt-1,r.match_available=0,t.next_in=c,t.input=u,t.avail_in=a,r.wrap=s,An}vn.deflateInit=CD,vn.deflateInit2=R2,vn.deflateReset=_2,vn.deflateResetKeep=M2,vn.deflateSetHeader=ED,vn.deflate=SD,vn.deflateEnd=BD,vn.deflateSetDictionary=kD,vn.deflateInfo="pako deflate (from Nodeca project)";var hi={},mc=Un,O2=!0,N2=!0;try{String.fromCharCode.apply(null,[0])}catch{O2=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N2=!1}for(var aa=new mc.Buf8(256),Br=0;Br<256;Br++)aa[Br]=Br>=252?6:Br>=248?5:Br>=240?4:Br>=224?3:Br>=192?2:1;aa[254]=aa[254]=1,hi.string2buf=function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new mc.Buf8(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};function L2(t,e){if(e<65534&&(t.subarray&&N2||!t.subarray&&O2))return String.fromCharCode.apply(null,mc.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}hi.buf2binstring=function(t){return L2(t,t.length)},hi.binstring2buf=function(t){for(var e=new mc.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},hi.buf2string=function(t,e){var n,r,i,o,s=e||t.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=t[n++],i<128){a[r++]=i;continue}if(o=aa[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|t[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return L2(a,r)},hi.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+aa[t[n]]>e?n:e};function DD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var U2=DD,ua=vn,ca=Un,ud=hi,cd=rd,ID=U2,G2=Object.prototype.toString,FD=0,ld=4,mo=0,H2=1,j2=2,PD=-1,TD=0,zD=8;function fi(t){if(!(this instanceof fi))return new fi(t);this.options=ca.assign({level:PD,method:zD,chunkSize:16384,windowBits:15,memLevel:8,strategy:TD,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ID,this.strm.avail_out=0;var n=ua.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==mo)throw new Error(cd[n]);if(e.header&&ua.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(typeof e.dictionary=="string"?r=ud.string2buf(e.dictionary):G2.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=ua.deflateSetDictionary(this.strm,r),n!==mo)throw new Error(cd[n]);this._dict_set=!0}}fi.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:e===!0?ld:FD,typeof t=="string"?n.input=ud.string2buf(t):G2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new ca.Buf8(r),n.next_out=0,n.avail_out=r),i=ua.deflate(n,o),i!==H2&&i!==mo)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===ld||o===j2))&&(this.options.to==="string"?this.onData(ud.buf2binstring(ca.shrinkBuf(n.output,n.next_out))):this.onData(ca.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==H2);return o===ld?(i=ua.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===mo):(o===j2&&(this.onEnd(mo),n.avail_out=0),!0)},fi.prototype.onData=function(t){this.chunks.push(t)},fi.prototype.onEnd=function(t){t===mo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ca.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function hd(t,e){var n=new fi(e);if(n.push(t,!0),n.err)throw n.msg||cd[n.err];return n.result}function MD(t,e){return e=e||{},e.raw=!0,hd(t,e)}function _D(t,e){return e=e||{},e.gzip=!0,hd(t,e)}Ks.Deflate=fi,Ks.deflate=hd,Ks.deflateRaw=MD,Ks.gzip=_D;var la={},tn={},bc=30,RD=12,OD=function(t,e){var n,r,i,o,s,a,c,u,l,h,f,d,g,b,w,A,B,E,C,T,F,S,O,x,I;n=t.state,r=t.next_in,x=t.input,i=r+(t.avail_in-5),o=t.next_out,I=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,g=n.bits,b=n.lencode,w=n.distcode,A=(1<<n.lenbits)-1,B=(1<<n.distbits)-1;t:do{g<15&&(d+=x[r++]<<g,g+=8,d+=x[r++]<<g,g+=8),E=b[d&A];e:for(;;){if(C=E>>>24,d>>>=C,g-=C,C=E>>>16&255,C===0)I[o++]=E&65535;else if(C&16){T=E&65535,C&=15,C&&(g<C&&(d+=x[r++]<<g,g+=8),T+=d&(1<<C)-1,d>>>=C,g-=C),g<15&&(d+=x[r++]<<g,g+=8,d+=x[r++]<<g,g+=8),E=w[d&B];n:for(;;){if(C=E>>>24,d>>>=C,g-=C,C=E>>>16&255,C&16){if(F=E&65535,C&=15,g<C&&(d+=x[r++]<<g,g+=8,g<C&&(d+=x[r++]<<g,g+=8)),F+=d&(1<<C)-1,F>c){t.msg="invalid distance too far back",n.mode=bc;break t}if(d>>>=C,g-=C,C=o-s,F>C){if(C=F-C,C>l&&n.sane){t.msg="invalid distance too far back",n.mode=bc;break t}if(S=0,O=f,h===0){if(S+=u-C,C<T){T-=C;do I[o++]=f[S++];while(--C);S=o-F,O=I}}else if(h<C){if(S+=u+h-C,C-=h,C<T){T-=C;do I[o++]=f[S++];while(--C);if(S=0,h<T){C=h,T-=C;do I[o++]=f[S++];while(--C);S=o-F,O=I}}}else if(S+=h-C,C<T){T-=C;do I[o++]=f[S++];while(--C);S=o-F,O=I}for(;T>2;)I[o++]=O[S++],I[o++]=O[S++],I[o++]=O[S++],T-=3;T&&(I[o++]=O[S++],T>1&&(I[o++]=O[S++]))}else{S=o-F;do I[o++]=I[S++],I[o++]=I[S++],I[o++]=I[S++],T-=3;while(T>2);T&&(I[o++]=I[S++],T>1&&(I[o++]=I[S++]))}}else if(C&64){t.msg="invalid distance code",n.mode=bc;break t}else{E=w[(E&65535)+(d&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){n.mode=RD;break t}else{t.msg="invalid literal/length code",n.mode=bc;break t}else{E=b[(E&65535)+(d&(1<<C)-1)];continue e}break}}while(r<i&&o<a);T=g>>3,r-=T,g-=T<<3,d&=(1<<g)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<a?257+(a-o):257-(o-a),n.hold=d,n.bits=g},V2=Un,bo=15,q2=852,Q2=592,Z2=0,fd=1,Y2=2,ND=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],LD=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],UD=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],GD=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],HD=function(t,e,n,r,i,o,s,a){var c=a.bits,u=0,l=0,h=0,f=0,d=0,g=0,b=0,w=0,A=0,B=0,E,C,T,F,S,O=null,x=0,I,_=new V2.Buf16(bo+1),W=new V2.Buf16(bo+1),Z=null,Q=0,ht,_t,Gt;for(u=0;u<=bo;u++)_[u]=0;for(l=0;l<r;l++)_[e[n+l]]++;for(d=c,f=bo;f>=1&&_[f]===0;f--);if(d>f&&(d=f),f===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<f&&_[h]===0;h++);for(d<h&&(d=h),w=1,u=1;u<=bo;u++)if(w<<=1,w-=_[u],w<0)return-1;if(w>0&&(t===Z2||f!==1))return-1;for(W[1]=0,u=1;u<bo;u++)W[u+1]=W[u]+_[u];for(l=0;l<r;l++)e[n+l]!==0&&(s[W[e[n+l]]++]=l);if(t===Z2?(O=Z=s,I=19):t===fd?(O=ND,x-=257,Z=LD,Q-=257,I=256):(O=UD,Z=GD,I=-1),B=0,l=0,u=h,S=o,g=d,b=0,T=-1,A=1<<d,F=A-1,t===fd&&A>q2||t===Y2&&A>Q2)return 1;for(;;){ht=u-b,s[l]<I?(_t=0,Gt=s[l]):s[l]>I?(_t=Z[Q+s[l]],Gt=O[x+s[l]]):(_t=32+64,Gt=0),E=1<<u-b,C=1<<g,h=C;do C-=E,i[S+(B>>b)+C]=ht<<24|_t<<16|Gt|0;while(C!==0);for(E=1<<u-1;B&E;)E>>=1;if(E!==0?(B&=E-1,B+=E):B=0,l++,--_[u]===0){if(u===f)break;u=e[n+s[l]]}if(u>d&&(B&F)!==T){for(b===0&&(b=d),S+=h,g=u-b,w=1<<g;g+b<f&&(w-=_[g+b],!(w<=0));)g++,w<<=1;if(A+=1<<g,t===fd&&A>q2||t===Y2&&A>Q2)return 1;T=B&F,i[T]=d<<24|g<<16|S-o|0}}return B!==0&&(i[S+B]=u-b<<24|64<<16|0),a.bits=d,0},Be=Un,dd=k2,Cn=D2,jD=OD,ha=HD,VD=0,W2=1,X2=2,K2=4,qD=5,yc=6,di=0,QD=1,ZD=2,Hn=-2,J2=-3,$2=-4,YD=-5,ty=8,ey=1,ny=2,ry=3,iy=4,oy=5,sy=6,ay=7,uy=8,cy=9,ly=10,vc=11,jn=12,pd=13,hy=14,gd=15,fy=16,dy=17,py=18,gy=19,wc=20,Ac=21,my=22,by=23,yy=24,vy=25,wy=26,md=27,Ay=28,xy=29,St=30,Ey=31,WD=32,XD=852,KD=592,JD=15,$D=JD;function Cy(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function tI(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Be.Buf16(320),this.work=new Be.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Sy(t){var e;return!t||!t.state?Hn:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ey,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Be.Buf32(XD),e.distcode=e.distdyn=new Be.Buf32(KD),e.sane=1,e.back=-1,di)}function By(t){var e;return!t||!t.state?Hn:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,Sy(t))}function ky(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Hn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,By(t))}function Dy(t,e){var n,r;return t?(r=new tI,t.state=r,r.window=null,n=ky(t,e),n!==di&&(t.state=null),n):Hn}function eI(t){return Dy(t,$D)}var Iy=!0,bd,yd;function nI(t){if(Iy){var e;for(bd=new Be.Buf32(512),yd=new Be.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ha(W2,t.lens,0,288,bd,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ha(X2,t.lens,0,32,yd,0,t.work,{bits:5}),Iy=!1}t.lencode=bd,t.lenbits=9,t.distcode=yd,t.distbits=5}function Fy(t,e,n,r){var i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Be.Buf8(o.wsize)),r>=o.wsize?(Be.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),Be.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(Be.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function rI(t,e){var n,r,i,o,s,a,c,u,l,h,f,d,g,b,w=0,A,B,E,C,T,F,S,O,x=new Be.Buf8(4),I,_,W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Hn;n=t.state,n.mode===jn&&(n.mode=pd),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,h=a,f=c,O=di;t:for(;;)switch(n.mode){case ey:if(n.wrap===0){n.mode=pd;break}for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.wrap&2&&u===35615){n.check=0,x[0]=u&255,x[1]=u>>>8&255,n.check=Cn(n.check,x,2,0),u=0,l=0,n.mode=ny;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=St;break}if((u&15)!==ty){t.msg="unknown compression method",n.mode=St;break}if(u>>>=4,l-=4,S=(u&15)+8,n.wbits===0)n.wbits=S;else if(S>n.wbits){t.msg="invalid window size",n.mode=St;break}n.dmax=1<<S,t.adler=n.check=1,n.mode=u&512?ly:jn,u=0,l=0;break;case ny:for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(n.flags&255)!==ty){t.msg="unknown compression method",n.mode=St;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=St;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Cn(n.check,x,2,0)),u=0,l=0,n.mode=ry;case ry:for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),n.flags&512&&(x[0]=u&255,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=Cn(n.check,x,4,0)),u=0,l=0,n.mode=iy;case iy:for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Cn(n.check,x,2,0)),u=0,l=0,n.mode=oy;case oy:if(n.flags&1024){for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Cn(n.check,x,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=sy;case sy:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Be.arraySet(n.head.extra,r,o,d,S)),n.flags&512&&(n.check=Cn(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=ay;case ay:if(n.flags&2048){if(a===0)break t;d=0;do S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&d<a);if(n.flags&512&&(n.check=Cn(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=uy;case uy:if(n.flags&4096){if(a===0)break t;d=0;do S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&d<a);if(n.flags&512&&(n.check=Cn(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.comment=null);n.mode=cy;case cy:if(n.flags&512){for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=St;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=jn;break;case ly:for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=Cy(u),u=0,l=0,n.mode=vc;case vc:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,ZD;t.adler=n.check=1,n.mode=jn;case jn:if(e===qD||e===yc)break t;case pd:if(n.last){u>>>=l&7,l-=l&7,n.mode=md;break}for(;l<3;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=u&1,u>>>=1,l-=1,u&3){case 0:n.mode=hy;break;case 1:if(nI(n),n.mode=wc,e===yc){u>>>=2,l-=2;break t}break;case 2:n.mode=dy;break;case 3:t.msg="invalid block type",n.mode=St}u>>>=2,l-=2;break;case hy:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=St;break}if(n.length=u&65535,u=0,l=0,n.mode=gd,e===yc)break t;case gd:n.mode=fy;case fy:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break t;Be.arraySet(i,r,o,d,s),a-=d,o+=d,c-=d,s+=d,n.length-=d;break}n.mode=jn;break;case dy:for(;l<14;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=(u&31)+257,u>>>=5,l-=5,n.ndist=(u&31)+1,u>>>=5,l-=5,n.ncode=(u&15)+4,u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=St;break}n.have=0,n.mode=py;case py:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.lens[W[n.have++]]=u&7,u>>>=3,l-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},O=ha(VD,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,O){t.msg="invalid code lengths set",n.mode=St;break}n.have=0,n.mode=gy;case gy:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(E<16)u>>>=A,l-=A,n.lens[n.have++]=E;else{if(E===16){for(_=A+2;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=A,l-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=St;break}S=n.lens[n.have-1],d=3+(u&3),u>>>=2,l-=2}else if(E===17){for(_=A+3;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=A,l-=A,S=0,d=3+(u&7),u>>>=3,l-=3}else{for(_=A+7;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=A,l-=A,S=0,d=11+(u&127),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=St;break}for(;d--;)n.lens[n.have++]=S}}if(n.mode===St)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=St;break}if(n.lenbits=9,I={bits:n.lenbits},O=ha(W2,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,O){t.msg="invalid literal/lengths set",n.mode=St;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},O=ha(X2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,O){t.msg="invalid distances set",n.mode=St;break}if(n.mode=wc,e===yc)break t;case wc:n.mode=Ac;case Ac:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,jD(t,f),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===jn&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(B&&!(B&240)){for(C=A,T=B,F=E;w=n.lencode[F+((u&(1<<C+T)-1)>>C)],A=w>>>24,B=w>>>16&255,E=w&65535,!(C+A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=C,l-=C,n.back+=C}if(u>>>=A,l-=A,n.back+=A,n.length=E,B===0){n.mode=wy;break}if(B&32){n.back=-1,n.mode=jn;break}if(B&64){t.msg="invalid literal/length code",n.mode=St;break}n.extra=B&15,n.mode=my;case my:if(n.extra){for(_=n.extra;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=by;case by:for(;w=n.distcode[u&(1<<n.distbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(!(B&240)){for(C=A,T=B,F=E;w=n.distcode[F+((u&(1<<C+T)-1)>>C)],A=w>>>24,B=w>>>16&255,E=w&65535,!(C+A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=C,l-=C,n.back+=C}if(u>>>=A,l-=A,n.back+=A,B&64){t.msg="invalid distance code",n.mode=St;break}n.offset=E,n.extra=B&15,n.mode=yy;case yy:if(n.extra){for(_=n.extra;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=St;break}n.mode=vy;case vy:if(c===0)break t;if(d=f-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=St;break}d>n.wnext?(d-=n.wnext,g=n.wsize-d):g=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,g=s-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[s++]=b[g++];while(--d);n.length===0&&(n.mode=Ac);break;case wy:if(c===0)break t;i[s++]=n.length,c--,n.mode=Ac;break;case md:if(n.wrap){for(;l<32;){if(a===0)break t;a--,u|=r[o++]<<l,l+=8}if(f-=c,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?Cn(n.check,i,f,s-f):dd(n.check,i,f,s-f)),f=c,(n.flags?u:Cy(u))!==n.check){t.msg="incorrect data check",n.mode=St;break}u=0,l=0}n.mode=Ay;case Ay:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=St;break}u=0,l=0}n.mode=xy;case xy:O=QD;break t;case St:O=J2;break t;case Ey:return $2;case WD:default:return Hn}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||f!==t.avail_out&&n.mode<St&&(n.mode<md||e!==K2))&&Fy(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?Cn(n.check,i,f,t.next_out-f):dd(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===jn?128:0)+(n.mode===wc||n.mode===gd?256:0),(h===0&&f===0||e===K2)&&O===di&&(O=YD),O}function iI(t){if(!t||!t.state)return Hn;var e=t.state;return e.window&&(e.window=null),t.state=null,di}function oI(t,e){var n;return!t||!t.state||(n=t.state,!(n.wrap&2))?Hn:(n.head=e,e.done=!1,di)}function sI(t,e){var n=e.length,r,i,o;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==vc)?Hn:r.mode===vc&&(i=1,i=dd(i,e,n,0),i!==r.check)?J2:(o=Fy(t,e,n,n),o?(r.mode=Ey,$2):(r.havedict=1,di))}tn.inflateReset=By,tn.inflateReset2=ky,tn.inflateResetKeep=Sy,tn.inflateInit=eI,tn.inflateInit2=Dy,tn.inflate=rI,tn.inflateEnd=iI,tn.inflateGetHeader=oI,tn.inflateSetDictionary=sI,tn.inflateInfo="pako inflate (from Nodeca project)";var Py={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function aI(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uI=aI,yo=tn,fa=Un,xc=hi,zt=Py,vd=rd,cI=U2,lI=uI,Ty=Object.prototype.toString;function pi(t){if(!(this instanceof pi))return new pi(t);this.options=fa.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cI,this.strm.avail_out=0;var n=yo.inflateInit2(this.strm,e.windowBits);if(n!==zt.Z_OK)throw new Error(vd[n]);if(this.header=new lI,yo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=xc.string2buf(e.dictionary):Ty.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=yo.inflateSetDictionary(this.strm,e.dictionary),n!==zt.Z_OK)))throw new Error(vd[n])}pi.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,c,u,l=!1;if(this.ended)return!1;s=e===~~e?e:e===!0?zt.Z_FINISH:zt.Z_NO_FLUSH,typeof t=="string"?n.input=xc.binstring2buf(t):Ty.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new fa.Buf8(r),n.next_out=0,n.avail_out=r),o=yo.inflate(n,zt.Z_NO_FLUSH),o===zt.Z_NEED_DICT&&i&&(o=yo.inflateSetDictionary(this.strm,i)),o===zt.Z_BUF_ERROR&&l===!0&&(o=zt.Z_OK,l=!1),o!==zt.Z_STREAM_END&&o!==zt.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===zt.Z_STREAM_END||n.avail_in===0&&(s===zt.Z_FINISH||s===zt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=xc.utf8border(n.output,n.next_out),c=n.next_out-a,u=xc.buf2string(n.output,a),n.next_out=c,n.avail_out=r-c,c&&fa.arraySet(n.output,n.output,a,c,0),this.onData(u)):this.onData(fa.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(l=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==zt.Z_STREAM_END);return o===zt.Z_STREAM_END&&(s=zt.Z_FINISH),s===zt.Z_FINISH?(o=yo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===zt.Z_OK):(s===zt.Z_SYNC_FLUSH&&(this.onEnd(zt.Z_OK),n.avail_out=0),!0)},pi.prototype.onData=function(t){this.chunks.push(t)},pi.prototype.onEnd=function(t){t===zt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fa.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wd(t,e){var n=new pi(e);if(n.push(t,!0),n.err)throw n.msg||vd[n.err];return n.result}function hI(t,e){return e=e||{},e.raw=!0,wd(t,e)}la.Inflate=pi,la.inflate=wd,la.inflateRaw=hI,la.ungzip=wd;var fI=Un.assign,dI=Ks,pI=la,gI=Py,zy={};fI(zy,dI,pI,gI);var Ec=zy;async function Ad(t){try{let e,n=0,r=0;const i=[];let o=0,s;do{const c=t.subarray(n);if(s=new Ec.Inflate,{strm:e}=s,s.push(c,Ec.Z_SYNC_FLUSH),s.err)throw new Error(s.msg);n+=e.next_in,i[r]=s.result,o+=i[r].length,r+=1}while(e.avail_in);const a=new Uint8Array(o);for(let c=0,u=0;c<i.length;c++)a.set(i[c],u),u+=i[c].length;return Buffer.from(a)}catch(e){throw`${e}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):e}}async function mI(t,e){try{let n;const{minv:r,maxv:i}=e;let o=r.blockPosition,s=r.dataPosition;const a=[],c=[],u=[];let l=0,h=0;do{const d=t.subarray(o-r.blockPosition),g=new Ec.Inflate;if({strm:n}=g,g.push(d,Ec.Z_SYNC_FLUSH),g.err)throw new Error(g.msg);const b=g.result;a.push(b);let w=b.length;c.push(o),u.push(s),a.length===1&&r.dataPosition&&(a[0]=a[0].subarray(r.dataPosition),w=a[0].length);const A=o;if(o+=n.next_in,s+=w,A>=i.blockPosition){a[h]=a[h].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),c.push(o),u.push(s),l+=a[h].length;break}l+=a[h].length,h++}while(n.avail_in);const f=new Uint8Array(l);for(let d=0,g=0;d<a.length;d++)f.set(a[d],g),g+=a[d].length;return{buffer:Buffer.from(f),cpositions:c,dpositions:u}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var _e=null;try{_e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function At(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}At.prototype.__isLong__,Object.defineProperty(At.prototype,"__isLong__",{value:!0});function se(t){return(t&&t.__isLong__)===!0}function My(t){var e=Math.clz32(t&-t);return t?31-e:e}At.isLong=se;var _y={},Ry={};function gi(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=Ry[t],r)?r:(n=ut(t,0,!0),i&&(Ry[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=_y[t],r)?r:(n=ut(t,t<0?-1:0,!1),i&&(_y[t]=n),n))}At.fromInt=gi;function Re(t,e){if(isNaN(t))return e?Vn:nn;if(e){if(t<0)return Vn;if(t>=Ny)return jy}else{if(t<=-Ly)return we;if(t+1>=Ly)return Hy}return t<0?Re(-t,e).neg():ut(t%vo|0,t/vo|0,e)}At.fromNumber=Re;function ut(t,e,n){return new At(t,e,n)}At.fromBits=ut;var Cc=Math.pow;function xd(t,e,n){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Vn:nn;if(n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return xd(t.substring(1),e,n).neg();for(var i=Re(Cc(n,8)),o=nn,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+a),n);if(a<8){var u=Re(Cc(n,a));o=o.mul(u).add(Re(c))}else o=o.mul(i),o=o.add(Re(c))}return o.unsigned=e,o}At.fromString=xd;function en(t,e){return typeof t=="number"?Re(t,e):typeof t=="string"?xd(t,e):ut(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}At.fromValue=en;var Oy=1<<16,bI=1<<24,vo=Oy*Oy,Ny=vo*vo,Ly=Ny/2,Uy=gi(bI),nn=gi(0);At.ZERO=nn;var Vn=gi(0,!0);At.UZERO=Vn;var wo=gi(1);At.ONE=wo;var Gy=gi(1,!0);At.UONE=Gy;var Ed=gi(-1);At.NEG_ONE=Ed;var Hy=ut(-1,2147483647,!1);At.MAX_VALUE=Hy;var jy=ut(-1,-1,!0);At.MAX_UNSIGNED_VALUE=jy;var we=ut(0,-2147483648,!1);At.MIN_VALUE=we;var L=At.prototype;L.toInt=function(){return this.unsigned?this.low>>>0:this.low},L.toNumber=function(){return this.unsigned?(this.high>>>0)*vo+(this.low>>>0):this.high*vo+(this.low>>>0)},L.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(we)){var e=Re(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var i=Re(Cc(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=o.sub(a.mul(i)).toInt()>>>0,u=c.toString(t);if(o=a,o.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},L.getHighBits=function(){return this.high},L.getHighBitsUnsigned=function(){return this.high>>>0},L.getLowBits=function(){return this.low},L.getLowBitsUnsigned=function(){return this.low>>>0},L.getNumBitsAbs=function(){if(this.isNegative())return this.eq(we)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;e>0&&!(t&1<<e);e--);return this.high!=0?e+33:e+1},L.isZero=function(){return this.high===0&&this.low===0},L.eqz=L.isZero,L.isNegative=function(){return!this.unsigned&&this.high<0},L.isPositive=function(){return this.unsigned||this.high>=0},L.isOdd=function(){return(this.low&1)===1},L.isEven=function(){return(this.low&1)===0},L.equals=function(t){return se(t)||(t=en(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},L.eq=L.equals,L.notEquals=function(t){return!this.eq(t)},L.neq=L.notEquals,L.ne=L.notEquals,L.lessThan=function(t){return this.comp(t)<0},L.lt=L.lessThan,L.lessThanOrEqual=function(t){return this.comp(t)<=0},L.lte=L.lessThanOrEqual,L.le=L.lessThanOrEqual,L.greaterThan=function(t){return this.comp(t)>0},L.gt=L.greaterThan,L.greaterThanOrEqual=function(t){return this.comp(t)>=0},L.gte=L.greaterThanOrEqual,L.ge=L.greaterThanOrEqual,L.compare=function(t){if(se(t)||(t=en(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},L.comp=L.compare,L.negate=function(){return!this.unsigned&&this.eq(we)?we:this.not().add(wo)},L.neg=L.negate,L.add=function(t){se(t)||(t=en(t));var e=this.high>>>16,n=this.high&65535,r=this.low>>>16,i=this.low&65535,o=t.high>>>16,s=t.high&65535,a=t.low>>>16,c=t.low&65535,u=0,l=0,h=0,f=0;return f+=i+c,h+=f>>>16,f&=65535,h+=r+a,l+=h>>>16,h&=65535,l+=n+s,u+=l>>>16,l&=65535,u+=e+o,u&=65535,ut(h<<16|f,u<<16|l,this.unsigned)},L.subtract=function(t){return se(t)||(t=en(t)),this.add(t.neg())},L.sub=L.subtract,L.multiply=function(t){if(this.isZero())return this;if(se(t)||(t=en(t)),_e){var e=_e.mul(this.low,this.high,t.low,t.high);return ut(e,_e.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Vn:nn;if(this.eq(we))return t.isOdd()?we:nn;if(t.eq(we))return this.isOdd()?we:nn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Uy)&&t.lt(Uy))return Re(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=t.high>>>16,a=t.high&65535,c=t.low>>>16,u=t.low&65535,l=0,h=0,f=0,d=0;return d+=o*u,f+=d>>>16,d&=65535,f+=i*u,h+=f>>>16,f&=65535,f+=o*c,h+=f>>>16,f&=65535,h+=r*u,l+=h>>>16,h&=65535,h+=i*c,l+=h>>>16,h&=65535,h+=o*a,l+=h>>>16,h&=65535,l+=n*u+r*c+i*a+o*s,l&=65535,ut(f<<16|d,l<<16|h,this.unsigned)},L.mul=L.multiply,L.divide=function(t){if(se(t)||(t=en(t)),t.isZero())throw Error("division by zero");if(_e){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?_e.div_u:_e.div_s)(this.low,this.high,t.low,t.high);return ut(e,_e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Vn:nn;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Vn;if(t.gt(this.shru(1)))return Gy;i=Vn}else{if(this.eq(we)){if(t.eq(wo)||t.eq(Ed))return we;if(t.eq(we))return wo;var o=this.shr(1);return n=o.div(t).shl(1),n.eq(nn)?t.isNegative()?wo:Ed:(r=this.sub(t.mul(n)),i=n.add(r.div(t)),i)}else if(t.eq(we))return this.unsigned?Vn:nn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=nn}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=s<=48?1:Cc(2,s-48),c=Re(n),u=c.mul(t);u.isNegative()||u.gt(r);)n-=a,c=Re(n,this.unsigned),u=c.mul(t);c.isZero()&&(c=wo),i=i.add(c),r=r.sub(u)}return i},L.div=L.divide,L.modulo=function(t){if(se(t)||(t=en(t)),_e){var e=(this.unsigned?_e.rem_u:_e.rem_s)(this.low,this.high,t.low,t.high);return ut(e,_e.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},L.mod=L.modulo,L.rem=L.modulo,L.not=function(){return ut(~this.low,~this.high,this.unsigned)},L.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},L.clz=L.countLeadingZeros,L.countTrailingZeros=function(){return this.low?My(this.low):My(this.high)+32},L.ctz=L.countTrailingZeros,L.and=function(t){return se(t)||(t=en(t)),ut(this.low&t.low,this.high&t.high,this.unsigned)},L.or=function(t){return se(t)||(t=en(t)),ut(this.low|t.low,this.high|t.high,this.unsigned)},L.xor=function(t){return se(t)||(t=en(t)),ut(this.low^t.low,this.high^t.high,this.unsigned)},L.shiftLeft=function(t){return se(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ut(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):ut(0,this.low<<t-32,this.unsigned)},L.shl=L.shiftLeft,L.shiftRight=function(t){return se(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ut(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):ut(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},L.shr=L.shiftRight,L.shiftRightUnsigned=function(t){return se(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ut(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?ut(this.high,0,this.unsigned):ut(this.high>>>t-32,0,this.unsigned)},L.shru=L.shiftRightUnsigned,L.shr_u=L.shiftRightUnsigned,L.rotateLeft=function(t){var e;return se(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?ut(this.high,this.low,this.unsigned):t<32?(e=32-t,ut(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(t-=32,e=32-t,ut(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},L.rotl=L.rotateLeft,L.rotateRight=function(t){var e;return se(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?ut(this.high,this.low,this.unsigned):t<32?(e=32-t,ut(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(t-=32,e=32-t,ut(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},L.rotr=L.rotateRight,L.toSigned=function(){return this.unsigned?ut(this.low,this.high,!1):this},L.toUnsigned=function(){return this.unsigned?this:ut(this.low,this.high,!0)},L.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},L.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},L.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]},At.fromBytes=function(t,e,n){return n?At.fromBytesLE(t,e):At.fromBytesBE(t,e)},At.fromBytesLE=function(t,e){return new At(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},At.fromBytesBE=function(t,e){return new At(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};function Vy(t,e){return t.offset+t.lineBytes*Math.floor(e/t.lineLength)+e%t.lineLength}async function yI(t,e){const n=await t.readFile(e);if(!(n&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const o=n.toString("utf8").split(/\r?\n/).filter(s=>/\S/.test(s)).map(s=>s.split("	")).filter(s=>s[0]!=="").map(s=>((!i||i.name!==s[0])&&(i={name:s[0],id:r},r+=1),{id:i.id,name:s[0],length:+s[1],start:0,end:+s[1],offset:+s[2],lineLength:+s[3],lineBytes:+s[4]}));return{name:Object.fromEntries(o.map(s=>[s.name,s])),id:Object.fromEntries(o.map(s=>[s.id,s]))}}class vI{constructor({fasta:e,fai:n,path:r,faiPath:i,chunkSizeLimit:o=1e6}){if(e)this.fasta=e;else if(r)this.fasta=new vr(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new vr(i);else if(r)this.fai=new vr(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile");this.chunkSizeLimit=o}async _getIndexes(e){return this.indexes||(this.indexes=yI(this.fai,e)),this.indexes}async getSequenceNames(e){return Object.keys((await this._getIndexes(e)).name)}async getSequenceSizes(e){const n={},r=await this._getIndexes(e),i=Object.values(r.id);for(let o=0;o<i.length;o+=1)n[i[o].name]=i[o].length;return n}async getSequenceSize(e,n){var r;return(r=(await this._getIndexes(n)).name[e])===null||r===void 0?void 0:r.length}async hasReferenceSequence(e,n){return!!(await this._getIndexes(n)).name[e]}async getResiduesById(e,n,r,i){const o=(await this._getIndexes(i)).id[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getResiduesByName(e,n,r,i){const o=(await this._getIndexes(i)).name[e];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getSequence(e,n,r,i){return this.getResiduesByName(e,n,r,i)}async _fetchFromIndexEntry(e,n=0,r,i){let o=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((o===void 0||o>e.length)&&(o=e.length),n>=o)return"";const s=Vy(e,n),a=Vy(e,o)-s;if(a>this.chunkSizeLimit)throw new Error(`data size of ${a.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`);const c=Buffer.allocUnsafe(a);return await this.fasta.read(c,0,a,s,i),c.toString("utf8").replace(/\s+/g,"")}}function Sc(t){return class extends t{constructor(){super(...arguments),In(this,"lastQuantizedInterval",[0,0])}quantizeInterval(e,n){return[Math.max(Math.floor(e[0]/n-1)*n,0),Math.min(Math.ceil(e[1]/n+1)*n,this.genome.totalSize)]}checkAndUpdateLastInterval(e){return Eh(this.lastQuantizedInterval,e)?!1:(this.lastQuantizedInterval=e,!0)}}}function Bc(t,e){return!e||/^(data:|([A-Za-z]+:)?\/\/)/.test(t)||t.startsWith("/")?t:(e.endsWith("/")||(e+="/"),e+t)}typeof window<"u"&&(window.Buffer=Se.Buffer);class wI extends Sc(so){constructor(e,n){const r={channel:"x",windowSize:7e3,...e};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");const i=o=>new Ln(Bc(o,this.view.getBaseUrl()));this.fasta=new vI({fasta:i(this.params.url),fai:i(this.params.indexUrl??this.params.url+".fai")})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;const r=this.quantizeInterval(e,n);if(this.checkAndUpdateLastInterval(r)){const i=this.genome.continuousToDiscreteChromosomeIntervals(r),o=await Promise.all(i.map(s=>this.fasta.getSequence(s.chrom,s.startPos,s.endPos).then(a=>({chrom:s.chrom,start:s.startPos,sequence:a}))));this.publishData(o)}}}const kc=BigInt(32);function AI(t,e,n){const r=+!!n,i=+!n;return BigInt(t.getInt32(e,n)*i+t.getInt32(e+4,n)*r)<<kc|BigInt(t.getUint32(e,n)*r+t.getUint32(e+4,n)*i)}function xI(t,e,n){const r=t.getUint32(e,n),i=t.getUint32(e+4,n),o=+!!n,s=+!n;return BigInt(r*s+i*o)<<kc|BigInt(r*o+i*s)}function EI(t,e,n,r){const i=Number(n>>kc),o=Number(n&BigInt(4294967295));r?(t.setInt32(e+4,i,r),t.setUint32(e,o,r)):(t.setInt32(e,i,r),t.setUint32(e+4,o,r))}function CI(t,e,n,r){const i=Number(n>>kc),o=Number(n&BigInt(4294967295));r?(t.setUint32(e+4,i,r),t.setUint32(e,o,r)):(t.setUint32(e,i,r),t.setUint32(e+4,o,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(t,e){return AI(this,t,e)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(t,e){return xI(this,t,e)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(t,e,n){EI(this,t,e,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(t,e,n){CI(this,t,e,n)});class SI{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){const n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}}const rn=new Map,mi="___parser_",on={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Dc={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Ic={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};class tt{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new tt}primitiveGenerateN(e,n){const r=Dc[e],i=Ic[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${on[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return rn.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!rn.has(n.type)&&!(n.type in on))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!rn.has(o)&&!(o in on))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof tt)&&!rn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof tt)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in on)&&!rn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const n=new SI(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${mi+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){const e="imports";return this.getContext(e).code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${mi+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=rn.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){const e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(on).indexOf(this.type)>=0)e=on[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=on[this.options.type]:this.options.type instanceof tt&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){const i=new tt;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}const n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);const i=(l=0)=>{let h=0;for(let f=l;f<e.bitFields.length;f++){const d=e.bitFields[f].options.length;if(h+d>32)break;h+=d}return h},o=l=>(l<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),l=8):l<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),l=16):l<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),l=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),l=32),e.pushCode(`offset += ${l/8};`),l);let s=0;const a=this.endian==="be";let c=0,u=0;e.bitFields.forEach((l,h)=>{let f=l.options.length;if(f>u){if(u){const b=-1>>>32-u;e.pushCode(`${l.varName} = (${r} & 0x${b.toString(16)}) << ${f-u};`),f-=u}s=0,u=c=o(i(h)-u)}const d=a?c-s-f:s,g=-1>>>32-f;e.pushCode(`${l.varName} ${f<l.options.length?"|=":"="} ${r} >> ${d} & 0x${g.toString(16)};`),l.options.length===32&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),s+=f,u-=f}),e.bitFields=[]}}generateSeek(e){const n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);const c=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){const a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);const s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{const r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){const n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),c=this.options.key,u=typeof c=="string";if(u?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(rn.get(i)){const l=e.generateTmpVariable();if(e.pushCode(`var ${l} = ${mi+i}(offset, {`),e.useContextVariables){const h=e.generateVariable();e.pushCode(`$parent: ${h},`),e.pushCode(`$root: ${h}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${l}.result; offset = ${l}.offset;`),i!==this.alias&&e.addReference(i)}else{const l=Dc[i],h=Ic[i];e.pushCode(`var ${a} = dataView.get${l}(offset, ${h});`),e.pushCode(`offset += ${on[i]};`)}else if(i instanceof tt){e.pushCode(`var ${a} = {};`);const l=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${l};`),e.pushCode(`${a}.$root = ${l}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(u?e.pushCode(`${s}[${a}.${c}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){const l=this.options.readUntil,h=e.addImport(l);e.pushCode(`while (!${h}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){const i=e.generateVariable(this.varName);if(rn.has(r)){const o=e.generateTmpVariable();e.pushCode(`var ${o} = ${mi+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{const o=Dc[r],s=Ic[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${on[r]}`)}}else r instanceof tt&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){const n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){const i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){const n=e.generateVariable(this.varName);if(this.options.type instanceof tt){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){const r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(rn.has(this.options.type)){const r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${mi+this.options.type}(offset, {`),e.useContextVariables){const i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){const c=this.options.readUntil,u=e.generateTmpVariable(),l=e.generateTmpVariable();e.pushCode(`var ${u} = offset;`),e.pushCode(`var ${l} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${l} = dataView.getUint8(offset);`);const h=e.addImport(c);e.pushCode(`if (${h}.call(${e.generateVariable()}, ${l}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${u}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{const c=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),e.pushCode(`offset += ${c};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);const i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof tt)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(rn.has(this.options.type)){const c=e.generateTmpVariable();e.pushCode(`var ${c} = ${mi+this.options.type}(0);`),e.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){const i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){const n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof tt){if(e.pushCode(`${o} = {};`),e.useContextVariables){const s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(rn.has(this.options.type)){const s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${mi+this.options.type}(offset, {`),e.useContextVariables){const a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(on).indexOf(this.options.type)>=0){const s=Dc[n],a=Ic[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${on[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){const n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}}var qy={},Cd={},bi={},da={};Object.defineProperty(da,"__esModule",{value:!0});function Sd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bd(t,e,n){return e&&Qy(t.prototype,e),n&&Qy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kd(t,e)}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ao(t)}function kd(t,e){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kd(t,e)}function kI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}function II(t){var e=kI();return function(){var n=Ao(t),r;if(e){var i=Ao(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return DI(this,r)}}function FI(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ao(t),t!==null););return t}function Fc(){return typeof Reflect<"u"&&Reflect.get?Fc=Reflect.get.bind():Fc=function(t,e,n){var r=FI(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Fc.apply(this,arguments)}var Zy=function(){function t(){Sd(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return Bd(t,[{key:"addEventListener",value:function(e,n,r){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:n,options:r})}},{key:"removeEventListener",value:function(e,n){if(e in this.listeners){for(var r=this.listeners[e],i=0,o=r.length;i<o;i++)if(r[i].callback===n){r.splice(i,1);return}}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var n=this.listeners[e.type],r=n.slice(),i=0,o=r.length;i<o;i++){var s=r[i];try{s.callback.call(this,e)}catch(a){Promise.resolve().then(function(){throw a})}s.options&&s.options.once&&this.removeEventListener(e.type,s.callback)}return!e.defaultPrevented}}}]),t}(),Dd=function(t){BI(n,t);var e=II(n);function n(){var r;return Sd(this,n),r=e.call(this),r.listeners||Zy.call(pa(r)),Object.defineProperty(pa(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(pa(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(pa(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return Bd(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(r){r.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,r)),Fc(Ao(n.prototype),"dispatchEvent",this).call(this,r)}}]),n}(Zy),Yy=function(){function t(){Sd(this,t),Object.defineProperty(this,"signal",{value:new Dd,writable:!0,configurable:!0})}return Bd(t,[{key:"abort",value:function(e){var n;try{n=new Event("abort")}catch{typeof document<"u"?document.createEvent?(n=document.createEvent("Event"),n.initEvent("abort",!1,!1)):(n=document.createEventObject(),n.type="abort"):n={type:"abort",bubbles:!1,cancelable:!1}}var r=e;if(r===void 0)if(typeof document>"u")r=new Error("This operation was aborted"),r.name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch{r=new Error("This operation was aborted"),r.name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(n)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();typeof Symbol<"u"&&Symbol.toStringTag&&(Yy.prototype[Symbol.toStringTag]="AbortController",Dd.prototype[Symbol.toStringTag]="AbortSignal");function PI(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof t.Request=="function"&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function TI(t){typeof t=="function"&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,i=r===void 0?n.Request:r,o=e.AbortController,s=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=s===void 0?!1:s;if(!PI({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:c};var c=i;(c&&!c.prototype.hasOwnProperty("signal")||a)&&(c=function(h,f){var d;f&&f.signal&&(d=f.signal,delete f.signal);var g=new i(h,f);return d&&Object.defineProperty(g,"signal",{writable:!1,enumerable:!1,configurable:!0,value:d}),g},c.prototype=i.prototype);var u=n,l=function(h,f){var d=c&&c.prototype.isPrototypeOf(h)?h.signal:f?f.signal:void 0;if(d){var g;try{g=new DOMException("Aborted","AbortError")}catch{g=new Error("Aborted"),g.name="AbortError"}if(d.aborted)return Promise.reject(g);var b=new Promise(function(w,A){d.addEventListener("abort",function(){return A(g)},{once:!0})});return f&&f.signal&&delete f.signal,Promise.race([b,u(h,f)])}return u(h,f)};return{fetch:l,Request:c}}da.AbortController=Yy,da.AbortSignal=Dd,da.abortableFetch=TI,Object.defineProperty(bi,"__esModule",{value:!0}),bi.AbortSignal=bi.AbortController=void 0;const Wy=da;var Pc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof oi<"u")return oi;throw new Error("unable to locate global object")};let zI=typeof Pc().AbortController>"u"?Wy.AbortController:Pc().AbortController;bi.AbortController=zI;let MI=typeof Pc().AbortController>"u"?Wy.AbortSignal:Pc().AbortSignal;bi.AbortSignal=MI;var Id={};Object.defineProperty(Id,"__esModule",{value:!0});const _I=bi;class RI{}class OI{constructor(){this.signals=new Set,this.abortController=new _I.AbortController}addSignal(e=new RI){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):typeof e.addEventListener=="function"&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}Id.default=OI;var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});class NI{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach(n=>{n(e)})}}Fd.default=NI;var Xy=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cd,"__esModule",{value:!0});const LI=bi,UI=Xy(Id),GI=Xy(Fd);class Tc{constructor({fill:e,cache:n}){if(typeof e!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=e}static isAbortException(e){return e.name==="AbortError"||e.code==="ERR_ABORTED"||e.message==="AbortError: aborted"||e.message==="Error: aborted"}evict(e,n){this.cache.get(e)===n&&this.cache.delete(e)}fill(e,n,r,i){const o=new UI.default,s=new GI.default;s.addCallback(i);const a={aborter:o,promise:this.fillCallback(n,o.signal,c=>{s.callback(c)}),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};a.aborter.addSignal(r),a.aborter.signal.addEventListener("abort",()=>{a.settled||this.evict(e,a)}),a.promise.then(()=>{a.settled=!0},()=>{a.settled=!0,this.evict(e,a)}).catch(c=>{throw console.error(c),c}),this.cache.set(e,a)}static checkSinglePromise(e,n){function r(){if(n&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(i=>(r(),i),i=>{throw r(),i})}has(e){return this.cache.has(e)}get(e,n,r,i){if(!r&&n instanceof LI.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const o=this.cache.get(e);return o?o.aborted&&!o.settled?(this.evict(e,o),this.get(e,n,r,i)):o.settled?o.promise:(o.aborter.addSignal(r),o.statusReporter.addCallback(i),Tc.checkSinglePromise(o.promise,r)):(this.fill(e,n,r,i),Tc.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const n=this.cache.get(e);n&&(n.settled||n.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let n=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),n+=1;return n}}Cd.default=Tc;var HI=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qy,"__esModule",{value:!0});const jI=HI(Cd);var Pd=qy.default=jI.default,VI=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}};const Ky=ao(VI);class kr{constructor(e,n){this.ranges=arguments.length===2?[{min:e,max:n}]:0 in e?Object.assign({},e):[e]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(e){for(let n=0;n<this.ranges.length;n+=1){const r=this.ranges[n];if(r.min<=e&&r.max>=e)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(e=>new kr(e.min,e.max))}toString(){return this.ranges.map(e=>`[${e.min}-${e.max}]`).join(",")}union(e){const n=this.getRanges().concat(e.getRanges()).sort(this.rangeOrder),r=[];let i=n[0];for(let o=1;o<n.length;o+=1){const s=n[o];s.min()>i.max()+1?(r.push(i),i=s):s.max()>i.max()&&(i=new kr(i.min(),s.max()))}return r.push(i),r.length===1?r[0]:new kr(r)}intersection(e){let n=this,r=e;const i=this.ranges(),o=r.ranges(),s=i.length,a=o.length;let c=0,u=0;const l=[];for(;c<s&&u<a;){n=i[c],r=o[u];const h=Math.max(n.min(),r.min()),f=Math.min(n.max(),r.max());f>=h&&l.push(new kr(h,f)),n.max()>r.max()?u+=1:c+=1}if(l.length===0)throw new Error("found range of length 0");return l.length===1?l[0]:new kr(l)}coverage(){let e=0;const n=this.ranges();for(const r of n)e+=r.max()-r.min()+1;return e}rangeOrder(e,n){let r=e,i=n;return arguments.length<2&&(i=r,r=this),r.min()<i.min()?-1:r.min()>i.min()?1:r.max()<i.max()?-1:i.max()>r.max()?1:0}}function xo(t){let e=t.length;for(;--e>=0;)t[e]=0}const qI=3,QI=258,Jy=29,ZI=256,YI=ZI+1+Jy,$y=30,WI=512,XI=new Array((YI+2)*2);xo(XI);const KI=new Array($y*2);xo(KI);const JI=new Array(WI);xo(JI);const $I=new Array(QI-qI+1);xo($I);const tF=new Array(Jy);xo(tF);const eF=new Array($y);xo(eF);var Td=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};const nF=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},rF=new Uint32Array(nF());var Sn=(t,e,n,r)=>{const i=rF,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},zd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Md={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const iF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var oF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)iF(n,r)&&(t[r]=n[r])}}return t},sF=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},tv={assign:oF,flattenChunks:sF};let ev=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ev=!1}const ga=new Uint8Array(256);for(let t=0;t<256;t++)ga[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ga[254]=ga[254]=1;var aF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const uF=(t,e)=>{if(e<65534&&t.subarray&&ev)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var cF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=ga[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return uF(o,i)},lF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ga[t[n]]>e?n:e},_d={string2buf:aF,buf2string:cF,utf8border:lF};function hF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fF=hF;const zc=16209,dF=16191;var pF=function(t,e){let n,r,i,o,s,a,c,u,l,h,f,d,g,b,w,A,B,E,C,T,F,S,O,x;const I=t.state;n=t.next_in,O=t.input,r=n+(t.avail_in-5),i=t.next_out,x=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=I.dmax,c=I.wsize,u=I.whave,l=I.wnext,h=I.window,f=I.hold,d=I.bits,g=I.lencode,b=I.distcode,w=(1<<I.lenbits)-1,A=(1<<I.distbits)-1;t:do{d<15&&(f+=O[n++]<<d,d+=8,f+=O[n++]<<d,d+=8),B=g[f&w];e:for(;;){if(E=B>>>24,f>>>=E,d-=E,E=B>>>16&255,E===0)x[i++]=B&65535;else if(E&16){C=B&65535,E&=15,E&&(d<E&&(f+=O[n++]<<d,d+=8),C+=f&(1<<E)-1,f>>>=E,d-=E),d<15&&(f+=O[n++]<<d,d+=8,f+=O[n++]<<d,d+=8),B=b[f&A];n:for(;;){if(E=B>>>24,f>>>=E,d-=E,E=B>>>16&255,E&16){if(T=B&65535,E&=15,d<E&&(f+=O[n++]<<d,d+=8,d<E&&(f+=O[n++]<<d,d+=8)),T+=f&(1<<E)-1,T>a){t.msg="invalid distance too far back",I.mode=zc;break t}if(f>>>=E,d-=E,E=i-o,T>E){if(E=T-E,E>u&&I.sane){t.msg="invalid distance too far back",I.mode=zc;break t}if(F=0,S=h,l===0){if(F+=c-E,E<C){C-=E;do x[i++]=h[F++];while(--E);F=i-T,S=x}}else if(l<E){if(F+=c+l-E,E-=l,E<C){C-=E;do x[i++]=h[F++];while(--E);if(F=0,l<C){E=l,C-=E;do x[i++]=h[F++];while(--E);F=i-T,S=x}}}else if(F+=l-E,E<C){C-=E;do x[i++]=h[F++];while(--E);F=i-T,S=x}for(;C>2;)x[i++]=S[F++],x[i++]=S[F++],x[i++]=S[F++],C-=3;C&&(x[i++]=S[F++],C>1&&(x[i++]=S[F++]))}else{F=i-T;do x[i++]=x[F++],x[i++]=x[F++],x[i++]=x[F++],C-=3;while(C>2);C&&(x[i++]=x[F++],C>1&&(x[i++]=x[F++]))}}else if(E&64){t.msg="invalid distance code",I.mode=zc;break t}else{B=b[(B&65535)+(f&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){I.mode=dF;break t}else{t.msg="invalid literal/length code",I.mode=zc;break t}else{B=g[(B&65535)+(f&(1<<E)-1)];continue e}break}}while(n<r&&i<s);C=d>>3,n-=C,d-=C<<3,f&=(1<<d)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?5+(r-n):5-(n-r),t.avail_out=i<s?257+(s-i):257-(i-s),I.hold=f,I.bits=d};const Eo=15,nv=852,rv=592,iv=0,Rd=1,ov=2,gF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ma=(t,e,n,r,i,o,s,a)=>{const c=a.bits;let u=0,l=0,h=0,f=0,d=0,g=0,b=0,w=0,A=0,B=0,E,C,T,F,S,O=null,x;const I=new Uint16Array(Eo+1),_=new Uint16Array(Eo+1);let W=null,Z,Q,ht;for(u=0;u<=Eo;u++)I[u]=0;for(l=0;l<r;l++)I[e[n+l]]++;for(d=c,f=Eo;f>=1&&I[f]===0;f--);if(d>f&&(d=f),f===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<f&&I[h]===0;h++);for(d<h&&(d=h),w=1,u=1;u<=Eo;u++)if(w<<=1,w-=I[u],w<0)return-1;if(w>0&&(t===iv||f!==1))return-1;for(_[1]=0,u=1;u<Eo;u++)_[u+1]=_[u]+I[u];for(l=0;l<r;l++)e[n+l]!==0&&(s[_[e[n+l]]++]=l);if(t===iv?(O=W=s,x=20):t===Rd?(O=gF,W=mF,x=257):(O=bF,W=yF,x=0),B=0,l=0,u=h,S=o,g=d,b=0,T=-1,A=1<<d,F=A-1,t===Rd&&A>nv||t===ov&&A>rv)return 1;for(;;){Z=u-b,s[l]+1<x?(Q=0,ht=s[l]):s[l]>=x?(Q=W[s[l]-x],ht=O[s[l]-x]):(Q=32+64,ht=0),E=1<<u-b,C=1<<g,h=C;do C-=E,i[S+(B>>b)+C]=Z<<24|Q<<16|ht|0;while(C!==0);for(E=1<<u-1;B&E;)E>>=1;if(E!==0?(B&=E-1,B+=E):B=0,l++,--I[u]===0){if(u===f)break;u=e[n+s[l]]}if(u>d&&(B&F)!==T){for(b===0&&(b=d),S+=h,g=u-b,w=1<<g;g+b<f&&(w-=I[g+b],!(w<=0));)g++,w<<=1;if(A+=1<<g,t===Rd&&A>nv||t===ov&&A>rv)return 1;T=B&F,i[T]=d<<24|g<<16|S-o|0}}return B!==0&&(i[S+B]=u-b<<24|64<<16|0),a.bits=d,0};const vF=0,sv=1,av=2,{Z_FINISH:uv,Z_BLOCK:wF,Z_TREES:Mc,Z_OK:yi,Z_STREAM_END:AF,Z_NEED_DICT:xF,Z_STREAM_ERROR:sn,Z_DATA_ERROR:cv,Z_MEM_ERROR:lv,Z_BUF_ERROR:EF,Z_DEFLATED:hv}=Md,_c=16180,fv=16181,dv=16182,pv=16183,gv=16184,mv=16185,bv=16186,yv=16187,vv=16188,wv=16189,Rc=16190,qn=16191,Od=16192,Av=16193,Nd=16194,xv=16195,Ev=16196,Cv=16197,Sv=16198,Oc=16199,Nc=16200,Bv=16201,kv=16202,Dv=16203,Iv=16204,Fv=16205,Ld=16206,Pv=16207,Tv=16208,Bt=16209,zv=16210,Mv=16211,CF=852,SF=592,BF=15,kF=BF,_v=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function DF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vi=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<_c||e.mode>Mv?1:0},Rv=t=>{if(vi(t))return sn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=_c,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(CF),e.distcode=e.distdyn=new Int32Array(SF),e.sane=1,e.back=-1,yi},Ov=t=>{if(vi(t))return sn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Rv(t)},Nv=(t,e)=>{let n;if(vi(t))return sn;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?sn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Ov(t))},Lv=(t,e)=>{if(!t)return sn;const n=new DF;t.state=n,n.strm=t,n.window=null,n.mode=_c;const r=Nv(t,e);return r!==yi&&(t.state=null),r},IF=t=>Lv(t,kF);let Uv=!0,Ud,Gd;const FF=t=>{if(Uv){Ud=new Int32Array(512),Gd=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ma(sv,t.lens,0,288,Ud,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ma(av,t.lens,0,32,Gd,0,t.work,{bits:5}),Uv=!1}t.lencode=Ud,t.lenbits=9,t.distcode=Gd,t.distbits=5},Gv=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},PF=(t,e)=>{let n,r,i,o,s,a,c,u,l,h,f,d,g,b,w=0,A,B,E,C,T,F,S,O;const x=new Uint8Array(4);let I,_;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vi(t)||!t.output||!t.input&&t.avail_in!==0)return sn;n=t.state,n.mode===qn&&(n.mode=Od),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,h=a,f=c,O=yi;t:for(;;)switch(n.mode){case _c:if(n.wrap===0){n.mode=Od;break}for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,x[0]=u&255,x[1]=u>>>8&255,n.check=Sn(n.check,x,2,0),u=0,l=0,n.mode=fv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Bt;break}if((u&15)!==hv){t.msg="unknown compression method",n.mode=Bt;break}if(u>>>=4,l-=4,S=(u&15)+8,n.wbits===0&&(n.wbits=S),S>15||S>n.wbits){t.msg="invalid window size",n.mode=Bt;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?wv:qn,u=0,l=0;break;case fv:for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(n.flags&255)!==hv){t.msg="unknown compression method",n.mode=Bt;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Bt;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Sn(n.check,x,2,0)),u=0,l=0,n.mode=dv;case dv:for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=Sn(n.check,x,4,0)),u=0,l=0,n.mode=pv;case pv:for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Sn(n.check,x,2,0)),u=0,l=0,n.mode=gv;case gv:if(n.flags&1024){for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=Sn(n.check,x,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=mv;case mv:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),S)),n.flags&512&&n.wrap&4&&(n.check=Sn(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=bv;case bv:if(n.flags&2048){if(a===0)break t;d=0;do S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Sn(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=yv;case yv:if(n.flags&4096){if(a===0)break t;d=0;do S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Sn(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.comment=null);n.mode=vv;case vv:if(n.flags&512){for(;l<16;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Bt;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=qn;break;case wv:for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=_v(u),u=0,l=0,n.mode=Rc;case Rc:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,xF;t.adler=n.check=1,n.mode=qn;case qn:if(e===wF||e===Mc)break t;case Od:if(n.last){u>>>=l&7,l-=l&7,n.mode=Ld;break}for(;l<3;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=u&1,u>>>=1,l-=1,u&3){case 0:n.mode=Av;break;case 1:if(FF(n),n.mode=Oc,e===Mc){u>>>=2,l-=2;break t}break;case 2:n.mode=Ev;break;case 3:t.msg="invalid block type",n.mode=Bt}u>>>=2,l-=2;break;case Av:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Bt;break}if(n.length=u&65535,u=0,l=0,n.mode=Nd,e===Mc)break t;case Nd:n.mode=xv;case xv:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break t;i.set(r.subarray(o,o+d),s),a-=d,o+=d,c-=d,s+=d,n.length-=d;break}n.mode=qn;break;case Ev:for(;l<14;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=(u&31)+257,u>>>=5,l-=5,n.ndist=(u&31)+1,u>>>=5,l-=5,n.ncode=(u&15)+4,u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Bt;break}n.have=0,n.mode=Cv;case Cv:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.lens[W[n.have++]]=u&7,u>>>=3,l-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},O=ma(vF,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,O){t.msg="invalid code lengths set",n.mode=Bt;break}n.have=0,n.mode=Sv;case Sv:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(E<16)u>>>=A,l-=A,n.lens[n.have++]=E;else{if(E===16){for(_=A+2;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=A,l-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=Bt;break}S=n.lens[n.have-1],d=3+(u&3),u>>>=2,l-=2}else if(E===17){for(_=A+3;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=A,l-=A,S=0,d=3+(u&7),u>>>=3,l-=3}else{for(_=A+7;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=A,l-=A,S=0,d=11+(u&127),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Bt;break}for(;d--;)n.lens[n.have++]=S}}if(n.mode===Bt)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Bt;break}if(n.lenbits=9,I={bits:n.lenbits},O=ma(sv,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,O){t.msg="invalid literal/lengths set",n.mode=Bt;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},O=ma(av,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,O){t.msg="invalid distances set",n.mode=Bt;break}if(n.mode=Oc,e===Mc)break t;case Oc:n.mode=Nc;case Nc:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,pF(t,f),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===qn&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(B&&!(B&240)){for(C=A,T=B,F=E;w=n.lencode[F+((u&(1<<C+T)-1)>>C)],A=w>>>24,B=w>>>16&255,E=w&65535,!(C+A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=C,l-=C,n.back+=C}if(u>>>=A,l-=A,n.back+=A,n.length=E,B===0){n.mode=Fv;break}if(B&32){n.back=-1,n.mode=qn;break}if(B&64){t.msg="invalid literal/length code",n.mode=Bt;break}n.extra=B&15,n.mode=Bv;case Bv:if(n.extra){for(_=n.extra;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=kv;case kv:for(;w=n.distcode[u&(1<<n.distbits)-1],A=w>>>24,B=w>>>16&255,E=w&65535,!(A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(!(B&240)){for(C=A,T=B,F=E;w=n.distcode[F+((u&(1<<C+T)-1)>>C)],A=w>>>24,B=w>>>16&255,E=w&65535,!(C+A<=l);){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}u>>>=C,l-=C,n.back+=C}if(u>>>=A,l-=A,n.back+=A,B&64){t.msg="invalid distance code",n.mode=Bt;break}n.offset=E,n.extra=B&15,n.mode=Dv;case Dv:if(n.extra){for(_=n.extra;l<_;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Bt;break}n.mode=Iv;case Iv:if(c===0)break t;if(d=f-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Bt;break}d>n.wnext?(d-=n.wnext,g=n.wsize-d):g=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,g=s-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[s++]=b[g++];while(--d);n.length===0&&(n.mode=Nc);break;case Fv:if(c===0)break t;i[s++]=n.length,c--,n.mode=Nc;break;case Ld:if(n.wrap){for(;l<32;){if(a===0)break t;a--,u|=r[o++]<<l,l+=8}if(f-=c,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Sn(n.check,i,f,s-f):Td(n.check,i,f,s-f)),f=c,n.wrap&4&&(n.flags?u:_v(u))!==n.check){t.msg="incorrect data check",n.mode=Bt;break}u=0,l=0}n.mode=Pv;case Pv:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break t;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Bt;break}u=0,l=0}n.mode=Tv;case Tv:O=AF;break t;case Bt:O=cv;break t;case zv:return lv;case Mv:default:return sn}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||f!==t.avail_out&&n.mode<Bt&&(n.mode<Ld||e!==uv))&&Gv(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Sn(n.check,i,f,t.next_out-f):Td(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===qn?128:0)+(n.mode===Oc||n.mode===Nd?256:0),(h===0&&f===0||e===uv)&&O===yi&&(O=EF),O},TF=t=>{if(vi(t))return sn;let e=t.state;return e.window&&(e.window=null),t.state=null,yi},zF=(t,e)=>{if(vi(t))return sn;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,yi):sn},MF=(t,e)=>{const n=e.length;let r,i,o;return vi(t)||(r=t.state,r.wrap!==0&&r.mode!==Rc)?sn:r.mode===Rc&&(i=1,i=Td(i,e,n,0),i!==r.check)?cv:(o=Gv(t,e,n,n),o?(r.mode=zv,lv):(r.havedict=1,yi))};var _F=Ov,RF=Nv,OF=Rv,NF=IF,LF=Lv,UF=PF,GF=TF,HF=zF,jF=MF,VF="pako inflate (from Nodeca project)",Qn={inflateReset:_F,inflateReset2:RF,inflateResetKeep:OF,inflateInit:NF,inflateInit2:LF,inflate:UF,inflateEnd:GF,inflateGetHeader:HF,inflateSetDictionary:jF,inflateInfo:VF};function qF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var QF=qF;const Hv=Object.prototype.toString,{Z_NO_FLUSH:ZF,Z_FINISH:YF,Z_OK:ba,Z_STREAM_END:Hd,Z_NEED_DICT:jd,Z_STREAM_ERROR:WF,Z_DATA_ERROR:jv,Z_MEM_ERROR:XF}=Md;function ya(t){this.options=tv.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fF,this.strm.avail_out=0;let n=Qn.inflateInit2(this.strm,e.windowBits);if(n!==ba)throw new Error(zd[n]);if(this.header=new QF,Qn.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_d.string2buf(e.dictionary):Hv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Qn.inflateSetDictionary(this.strm,e.dictionary),n!==ba)))throw new Error(zd[n])}ya.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?YF:ZF,Hv.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Qn.inflate(n,s),o===jd&&i&&(o=Qn.inflateSetDictionary(n,i),o===ba?o=Qn.inflate(n,s):o===jv&&(o=jd));n.avail_in>0&&o===Hd&&n.state.wrap>0&&t[n.next_in]!==0;)Qn.inflateReset(n),o=Qn.inflate(n,s);switch(o){case WF:case jv:case jd:case XF:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Hd))if(this.options.to==="string"){let c=_d.utf8border(n.output,n.next_out),u=n.next_out-c,l=_d.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ba&&a===0)){if(o===Hd)return o=Qn.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},ya.prototype.onData=function(t){this.chunks.push(t)},ya.prototype.onEnd=function(t){t===ba&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Vd(t,e){const n=new ya(e);if(n.push(t),n.err)throw n.msg||zd[n.err];return n.result}function KF(t,e){return e=e||{},e.raw=!0,Vd(t,e)}var JF=ya,$F=Vd,tP=KF,eP=Vd,nP=Md,rP={Inflate:JF,inflate:$F,inflateRaw:tP,ungzip:eP,constants:nP};const{Inflate:FM,inflate:PM,inflateRaw:iP,ungzip:TM}=rP;var oP=iP;function sP(t){return oP(t.subarray(2))}class aP extends Error{constructor(e){super(e),this.code="ERR_ABORTED"}}function uP(t){t.sort((i,o)=>Number(i.offset)-Number(o.offset));const e=[];let n,r;for(const i of t)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):e.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return e}function Lc(t){if(t&&t.aborted)if(typeof DOMException>"u"){const e=new aP("aborted");throw e.code="ERR_ABORTED",e}else throw new DOMException("aborted","AbortError")}const cP=1,lP=2,hP=3;function qd(t,e,n,r){return t<r&&e>=n}function fP(t){const e=t?"big":"little",n=new tt().endianess(e).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new tt().endianess(e).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new tt().endianess(e).array("blocksToFetch",{length:"cnt",type:new tt().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new tt().array("recurOffsets",{length:"cnt",type:new tt().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new tt().endianess(e).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new tt().endianess(e).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[hP]:new tt().array("items",{length:"itemCount",type:new tt().floatle("score")}),[lP]:new tt().array("items",{length:"itemCount",type:new tt().endianess(e).int32("start").floatle("score")}),[cP]:new tt().array("items",{length:"itemCount",type:new tt().endianess(e).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class Vv{constructor(e,n,r,i,o,s){if(this.bbi=e,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=o,this.blockType=s,this.featureCache=new Pd({cache:new Ky({maxSize:1e3}),fill:async(c,u)=>{const l=Number(c.length),h=Number(c.offset),{buffer:f}=await this.bbi.read(Se.Buffer.alloc(l),0,l,h,{signal:u});return f}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const a=fP(i);this.leafParser=a.leafParser,this.bigBedParser=a.bigBedParser}async readWigData(e,n,r,i,o){try{const{refsByName:s,bbi:a,cirTreeOffset:c,isBigEndian:u}=this,l=s[e];l===void 0&&i.complete();const h={chrId:l,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=a.read(Se.Buffer.alloc(48),0,48,Number(c),o));const{buffer:f}=await this.cirTreePromise,d=u?f.readUInt32BE(4):f.readUInt32LE(4);let g=[],b=0;const w=(C,T,F)=>{try{const S=C.subarray(T),O=this.leafParser.parse(S);if(O.blocksToFetch&&(g=g.concat(O.blocksToFetch.filter(x=>A(x)).map(x=>({offset:x.blockOffset,length:x.blockSize})))),O.recurOffsets){const x=O.recurOffsets.filter(I=>A(I)).map(I=>Number(I.blockOffset));x.length>0&&E(x,F+1)}}catch(S){i.error(S)}},A=C=>{const{startChrom:T,startBase:F,endChrom:S,endBase:O}=C;return(T<l||T===l&&F<=r)&&(S>l||S===l&&O>=n)},B=async(C,T,F)=>{try{const S=T.max()-T.min(),O=T.min(),x=await this.featureCache.get(`${S}_${O}`,{length:S,offset:O},o==null?void 0:o.signal);for(const I of C)T.contains(I)&&(w(x,I-O,F),b-=1,b===0&&this.readFeatures(i,g,{...o,request:h}))}catch(S){i.error(S)}},E=(C,T)=>{try{b+=C.length;const F=4+Number(d)*32;let S=new kr(C[0],C[0]+F);for(let O=1;O<C.length;O+=1){const x=new kr(C[O],C[O]+F);S=S.union(x)}S.getRanges().map(O=>B(C,O,T))}catch(F){i.error(F)}};return E([Number(c)+48],1)}catch(s){i.error(s)}}parseSummaryBlock(e,n,r){const i=[];let o=n;const s=new DataView(e.buffer,e.byteOffset,e.length);for(;o<e.byteLength;){const a=s.getUint32(o,!0);o+=4;const c=s.getUint32(o,!0);o+=4;const u=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);o+=4;const h=s.getFloat32(o,!0);o+=4;const f=s.getFloat32(o,!0);o+=4;const d=s.getFloat32(o,!0);o+=4,o+=4,(!r||a===r.chrId&&qd(c,u,r.start,r.end))&&i.push({start:c,end:u,maxScore:f,minScore:h,summary:!0,score:d/(l||1)})}return i}parseBigBedBlock(e,n,r,i){const o=[];let s=n;for(;s<e.byteLength;){const a=this.bigBedParser.parse(e.subarray(s));o.push({...a,uniqueId:`bb-${r+s}`}),s+=a.offset}return i?o.filter(a=>qd(a.start,a.end,i.start,i.end)):o}parseBigWigBlock(e,n,r){const i=e.subarray(n),o=new DataView(i.buffer,i.byteOffset,i.length);let s=0;s+=4;const a=o.getInt32(s,!0);s+=8;const c=o.getUint32(s,!0);s+=4;const u=o.getUint32(s,!0);s+=4;const l=o.getUint8(s);s+=2;const h=o.getUint16(s,!0);s+=2;const f=new Array(h);switch(l){case 1:{for(let d=0;d<h;d++){const g=o.getInt32(s,!0);s+=4;const b=o.getInt32(s,!0);s+=4;const w=o.getFloat32(s,!0);s+=4,f[d]={start:g,end:b,score:w}}break}case 2:{for(let d=0;d<h;d++){const g=o.getInt32(s,!0);s+=4;const b=o.getFloat32(s,!0);s+=4,f[d]={score:b,start:g,end:g+u}}break}case 3:{for(let d=0;d<h;d++){const g=o.getFloat32(s,!0);s+=4;const b=a+d*c;f[d]={score:g,start:b,end:b+u}}break}}return r?f.filter(d=>qd(d.start,d.end,r.start,r.end)):f}async readFeatures(e,n,r={}){try{const{blockType:i,isCompressed:o}=this,{signal:s,request:a}=r,c=uP(n);Lc(s),await Promise.all(c.map(async u=>{Lc(s);const{length:l,offset:h}=u,f=await this.featureCache.get(`${l}_${h}`,u,s);for(const d of u.blocks){Lc(s);let g=Number(d.offset)-Number(u.offset),b=f;switch(o&&(b=sP(f.subarray(g)),g=0),Lc(s),i){case"summary":{e.next(this.parseSummaryBlock(b,g,a));break}case"bigwig":{e.next(this.parseBigWigBlock(b,g,a));break}case"bigbed":{e.next(this.parseBigBedBlock(b,g,Number(d.offset)*(1<<8),a));break}default:console.warn(`Don't know what to do with ${i}`)}}})),e.complete()}catch(i){e.error(i)}}}var Qd=function(t,e){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qd(t,e)};function Zd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function dP(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function qv(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function va(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yd(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Wd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Co(t){return this instanceof Co?(this.v=t,this):new Co(t)}function pP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(d){return new Promise(function(g,b){o.push([f,d,g,b])>1||a(f,d)})})}function a(f,d){try{c(r[f](d))}catch(g){h(o[0][3],g)}}function c(f){f.value instanceof Co?Promise.resolve(f.value.v).then(u,l):h(o[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function h(f,d){f(d),o.shift(),o.length&&a(o[0][0],o[0][1])}}function gP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof va=="function"?va(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function Ut(t){return typeof t=="function"}function Qv(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xd=Qv(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Zv(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Kd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=va(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(b){e={error:b}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var l=this.initialTeardown;if(Ut(l))try{l()}catch(b){o=b instanceof Xd?b.errors:[b]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=va(h),d=f.next();!d.done;d=f.next()){var g=d.value;try{Wv(g)}catch(b){o=o??[],b instanceof Xd?o=Wd(Wd([],Yd(o)),Yd(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new Xd(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Wv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Zv(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Zv(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();Kd.EMPTY;function Yv(t){return t instanceof Kd||t&&"closed"in t&&Ut(t.remove)&&Ut(t.add)&&Ut(t.unsubscribe)}function Wv(t){Ut(t)?t():t.unsubscribe()}var Xv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mP={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Wd([t,e],Yd(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Kv(t){mP.setTimeout(function(){throw t})}function Jv(){}function bP(t){t()}var Jd=function(t){Zd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Yv(n)&&n.add(r)):r.destination=AP,r}return e.create=function(n,r,i){return new Uc(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Kd),yP=Function.prototype.bind;function $d(t,e){return yP.call(t,e)}var vP=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Gc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Gc(r)}else Gc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Gc(n)}},t}(),Uc=function(t){Zd(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(Ut(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&Xv.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&$d(n.next,a),error:n.error&&$d(n.error,a),complete:n.complete&&$d(n.complete,a)}):s=n}return o.destination=new vP(s),o}return e}(Jd);function Gc(t){Kv(t)}function wP(t){throw t}var AP={closed:!0,next:Jv,error:wP,complete:Jv},t0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $v(t){return t}function xP(t){return t.length===0?$v:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var Oe=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=CP(e)?e:new Uc(e,n,r);return bP(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=tw(n),new n(function(i,o){var s=new Uc({next:function(a){try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[t0]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return xP(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=tw(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function tw(t){var e;return(e=t??Xv.Promise)!==null&&e!==void 0?e:Promise}function EP(t){return t&&Ut(t.next)&&Ut(t.error)&&Ut(t.complete)}function CP(t){return t&&t instanceof Jd||EP(t)&&Yv(t)}function SP(t){return Ut(t==null?void 0:t.lift)}function So(t){return function(e){if(SP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wa(t,e,n,r,i){return new BP(t,e,n,r,i)}var BP=function(t){Zd(e,t);function e(n,r,i,o,s,a){var c=t.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(l){n.error(l)}}:t.prototype._next,c._error=o?function(u){try{o(u)}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Jd),kP=new Oe(function(t){return t.complete()});function DP(t){return t&&Ut(t.schedule)}function ew(t){return t[t.length-1]}function IP(t){return DP(ew(t))?t.pop():void 0}function FP(t,e){return typeof ew(t)=="number"?t.pop():e}var nw=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function rw(t){return Ut(t==null?void 0:t.then)}function iw(t){return Ut(t[t0])}function ow(t){return Symbol.asyncIterator&&Ut(t==null?void 0:t[Symbol.asyncIterator])}function sw(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function PP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var aw=PP();function uw(t){return Ut(t==null?void 0:t[aw])}function cw(t){return pP(this,arguments,function(){var e,n,r,i;return qv(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Co(e.read())];case 3:return n=o.sent(),r=n.value,i=n.done,i?[4,Co(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Co(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function lw(t){return Ut(t==null?void 0:t.getReader)}function Bo(t){if(t instanceof Oe)return t;if(t!=null){if(iw(t))return TP(t);if(nw(t))return zP(t);if(rw(t))return MP(t);if(ow(t))return hw(t);if(uw(t))return _P(t);if(lw(t))return RP(t)}throw sw(t)}function TP(t){return new Oe(function(e){var n=t[t0]();if(Ut(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zP(t){return new Oe(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MP(t){return new Oe(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Kv)})}function _P(t){return new Oe(function(e){var n,r;try{for(var i=va(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function hw(t){return new Oe(function(e){OP(t,e).catch(function(n){return e.error(n)})})}function RP(t){return hw(cw(t))}function OP(t,e){var n,r,i,o;return dP(this,void 0,void 0,function(){var s,a;return qv(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=gP(t),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Dr(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fw(t,e){return e===void 0&&(e=0),So(function(n,r){n.subscribe(wa(r,function(i){return Dr(r,t,function(){return r.next(i)},e)},function(){return Dr(r,t,function(){return r.complete()},e)},function(i){return Dr(r,t,function(){return r.error(i)},e)}))})}function dw(t,e){return e===void 0&&(e=0),So(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function NP(t,e){return Bo(t).pipe(dw(e),fw(e))}function LP(t,e){return Bo(t).pipe(dw(e),fw(e))}function UP(t,e){return new Oe(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function GP(t,e){return new Oe(function(n){var r;return Dr(n,e,function(){r=t[aw](),Dr(n,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return Ut(r==null?void 0:r.return)&&r.return()}})}function pw(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(function(n){Dr(n,e,function(){var r=t[Symbol.asyncIterator]();Dr(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function HP(t,e){return pw(cw(t),e)}function jP(t,e){if(t!=null){if(iw(t))return NP(t,e);if(nw(t))return UP(t,e);if(rw(t))return LP(t,e);if(ow(t))return pw(t,e);if(uw(t))return GP(t,e);if(lw(t))return HP(t,e)}throw sw(t)}function VP(t,e){return e?jP(t,e):Bo(t)}var qP=Qv(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function gw(t,e){var n=typeof e=="object";return new Promise(function(r,i){var o=new Uc({next:function(s){r(s),o.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new qP)}});t.subscribe(o)})}function mw(t,e){return So(function(n,r){var i=0;n.subscribe(wa(r,function(o){r.next(t.call(e,o,i++))}))})}function QP(t,e,n,r,i,o,s,a){var c=[],u=0,l=0,h=!1,f=function(){h&&!c.length&&!u&&e.complete()},d=function(b){return u<r?g(b):c.push(b)},g=function(b){o&&e.next(b),u++;var w=!1;Bo(n(b,l++)).subscribe(wa(e,function(A){i==null||i(A),o?d(A):e.next(A)},function(){w=!0},void 0,function(){if(w)try{u--;for(var A=function(){var B=c.shift();s?Dr(e,s,function(){return g(B)}):g(B)};c.length&&u<r;)A();f()}catch(B){e.error(B)}}))};return t.subscribe(wa(e,d,function(){h=!0,f()})),function(){a==null||a()}}function bw(t,e,n){return n===void 0&&(n=1/0),Ut(e)?bw(function(r,i){return mw(function(o,s){return e(r,o,i,s)})(Bo(t(r,i)))},n):(typeof e=="number"&&(n=e),So(function(r,i){return QP(r,i,t,n)}))}function ZP(t){return t===void 0&&(t=1/0),bw($v,t)}function YP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=IP(t),r=FP(t,1/0),i=t;return i.length?i.length===1?Bo(i[0]):ZP(r)(VP(i,n)):kP}function WP(t,e,n,r,i){return function(o,s){var a=n,c=e,u=0;o.subscribe(wa(s,function(l){var h=u++;c=a?t(c,l,h):(a=!0,l),r&&s.next(c)},i&&function(){a&&s.next(c),s.complete()}))}}function yw(t,e){return So(WP(t,e,arguments.length>=2,!1,!0))}var XP=function(t,e){return t.push(e),t};function KP(){return So(function(t,e){yw(XP,[])(t).subscribe(e)})}const vw=-2003829722,e0=-2021002517;function JP(t){return new TextDecoder().decode(t)}function ww(t){const e=t?"big":"little",n=new tt().endianess(e).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new tt().endianess(e).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new tt().endianess(e).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new tt().endianess(e).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new tt().endianess(e).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:o}}class Aw{getHeader(e){return this.headerP||(this.headerP=this._getHeader(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(e){const{filehandle:n,renameRefSeqs:r=s=>s,path:i,url:o}=e;if(this.renameRefSeqs=r,n)this.bbi=n;else if(o)this.bbi=new Ln(o);else if(i)this.bbi=new vr(i);else throw new Error("no file given")}async _getHeader(e){const n=await this._getMainHeader(e),r=await this._readChromTree(n,e);return{...n,...r}}async _getMainHeader(e,n=2e3){const{buffer:r}=await this.bbi.read(Se.Buffer.alloc(n),0,n,0,e),i=this._isBigEndian(r),o=ww(i),s=o.headerParser.parse(r),{magic:a,asOffset:c,totalSummaryOffset:u}=s;if(s.fileType=a===e0?"bigbed":"bigwig",c>n||u>n)return this._getMainHeader(e,n*2);if(c){const l=Number(s.asOffset);s.autoSql=JP(r.subarray(l,r.indexOf(0,l)))}if(s.totalSummaryOffset>n)return this._getMainHeader(e,n*2);if(s.totalSummaryOffset){const l=r.subarray(Number(s.totalSummaryOffset)),h=o.totalSummaryParser.parse(l);s.totalSummary={...h,basesCovered:Number(h.basesCovered)}}return{...s,isBigEndian:i}}_isBigEndian(e){let n=e.readInt32LE(0);if(n===vw||n===e0)return!1;if(n=e.readInt32BE(0),n===vw||n===e0)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(e,n){const r=e.isBigEndian,i=r?"big":"little",o=[],s={};let a=Number(e.unzoomedDataOffset);const c=Number(e.chromTreeOffset);for(;a%4!==0;)a+=1;const u=a-c,{buffer:l}=await this.bbi.read(Se.Buffer.alloc(u),0,u,Number(c),n),h=ww(r),{keySize:f}=h.chromTreeParser.parse(l),d=new tt().endianess(i).string("key",{stripNull:!0,length:f}).uint32("refId").uint32("refSize").saveOffset("offset"),g=new tt().endianess(i).skip(f).uint64("childOffset").saveOffset("offset"),b=32,w=async A=>{let B=A;if(B>=l.length)throw new Error("reading beyond end of buffer");const E=h.isLeafNode.parse(l.subarray(B)),{isLeafNode:C,cnt:T}=E;if(B+=E.offset,C)for(let F=0;F<T;F+=1){const S=d.parse(l.subarray(B));B+=S.offset;const{key:O,refId:x,refSize:I}=S,_={name:O,id:x,length:I};s[this.renameRefSeqs(O)]=x,o[x]=_}else{const F=[];for(let S=0;S<T;S+=1){const O=g.parse(l.subarray(B)),{childOffset:x}=O;B+=O.offset,F.push(w(Number(x)-Number(c)))}await Promise.all(F)}};return await w(b),{refsByName:s,refsByNumber:o}}async getUnzoomedView(e){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:o,fileType:s}=await this.getHeader(e);return new Vv(this.bbi,r,n,o,i>0,s)}async getFeatureStream(e,n,r,i){await this.getHeader(i);const o=this.renameRefSeqs(e);let s;const{basesPerSpan:a,scale:c}=i||{};return a?s=await this.getView(1/a,i):c?s=await this.getView(c,i):s=await this.getView(1,i),new Oe(u=>{s.readWigData(o,n,r,u,i)})}async getFeatures(e,n,r,i){const o=await this.getFeatureStream(e,n,r,i);return(await gw(o.pipe(KP()))).flat()}}class $P extends Aw{async getView(e,n){const{zoomLevels:r,refsByName:i,fileSize:o,isBigEndian:s,uncompressBufSize:a}=await this.getHeader(n),c=1/e;let u=r.length;o||(u-=1);for(let l=u;l>=0;l-=1){const h=r[l];if(h&&h.reductionLevel<=2*c){const f=Number(h.indexOffset);return new Vv(this.bbi,i,f,s,a>0,"summary")}}return this.getUnzoomedView(n)}}function tT(t){return t.filter(e=>!!e)}class eT extends Aw{constructor(){super(...arguments),this.readIndicesCache=new Pd({cache:new Ky({maxSize:1}),fill:(e,n)=>this._readIndices({...e,signal:n})})}readIndices(e={}){const{signal:n,...r}=e;return this.readIndicesCache.get(JSON.stringify(r),e,n)}async getView(e,n){return this.getUnzoomedView(n)}async _readIndices(e){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(e),{buffer:i}=await this.bbi.read(Se.Buffer.alloc(64),0,64,Number(n)),o=r?"big":"little",s=new tt().endianess(o).uint16("size").uint16("count").uint64("offset").parse(i),{count:a,offset:c}=s;if(a===0)return[];const u=20,l=u*a,{buffer:h}=await this.bbi.read(Se.Buffer.alloc(l),0,l,Number(c)),f=new tt().endianess(o).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let g=0;g<a;g+=1)d.push(f.parse(h.subarray(g*u)));return d}async searchExtraIndexBlocks(e,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const o=i.map(async s=>{const{offset:a,field:c}=s,{buffer:u}=await this.bbi.read(Se.Buffer.alloc(32),0,32,Number(a),n),l=r?"big":"little",h=new tt().endianess(l).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:f,keySize:d,valSize:g}=h.parse(u),b=new tt().endianess(l).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new tt().array("leafkeys",{length:"cnt",type:new tt().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new tt().array("keys",{length:"cnt",type:new tt().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),w=async B=>{const E=Number(B),C=4+f*(d+g),{buffer:T}=await this.bbi.read(Se.Buffer.alloc(C),0,C,E,n),F=b.parse(T);if(F.leafkeys){let S;for(let O=0;O<F.leafkeys.length;O+=1){const{key:x}=F.leafkeys[O];if(e.localeCompare(x)<0&&S)return w(S);S=F.leafkeys[O].offset}return w(S)}for(let S=0;S<F.keys.length;S+=1)if(F.keys[S].key===e)return{...F.keys[S],field:c}},A=32;return w(Number(a)+A)});return tT(await Promise.all(o))}async searchExtraIndex(e,n={}){const r=await this.searchExtraIndexBlocks(e,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),o=r.map(s=>new Oe(a=>{i.readFeatures(a,[s],n)}).pipe(yw((a,c)=>a.concat(c)),mw(a=>{for(const c of a)c.field=s.field;return a})));return(await gw(YP(...o))).filter(s=>{var a;return((a=s.rest)===null||a===void 0?void 0:a.split("	")[(s.field||0)-3])===e})}}function n0(t,e,n=!0){let r,i=o=>{};return function(...o){return new Promise((s,a)=>{const c=()=>{clearTimeout(r),i=u=>{},s(t(...o))};n&&i("debounced"),clearTimeout(r),i=a,r=setTimeout(c,e)})}}class nT extends Sc(so){constructor(e,n){const r={pixelsPerBin:2,channel:"x",...e};if(super(n,r.channel),In(this,"reductionLevels",[]),In(this,"lastRequestId",0),this.params=r,!this.params.url)throw new Error("No URL provided for BigWigSource");this.bbi=new $P({filehandle:new Ln(Bc(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=n0(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(i=>{this.reductionLevels=i.zoomLevels.map(o=>o.reductionLevel).reverse(),this.reductionLevels.push(1)})}async onDomainChanged(e){await this.headerPromise;const n=this.getAxisLength()||700,r=rT(e,n,this.reductionLevels),i=Math.max(r*n,5e3),o=this.quantizeInterval(e,i);this.checkAndUpdateLastInterval(o)&&this.doDebouncedRequest(o,r)}async doRequest(e,n){const r=await this.getFeatures(e,.5/n/this.params.pixelsPerBin);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(e,n){let r=++this.lastRequestId;const i=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(e),s=await Promise.all(o.map(a=>this.bbi.getFeatures(a.chrom,a.startPos,a.endPos,{scale:n,signal:i.signal}).then(c=>c.map(u=>({chrom:a.chrom,start:u.start,end:u.end,score:u.score})))));return{requestId:r,abort:()=>i.abort(),features:s.flat()}}}function rT(t,e,n){const r=(t[1]-t[0])/e;return n.find(i=>i<r)??n.at(-1)}function iT(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function ko(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ko)}iT(ko,Error),ko.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var l="",h;for(h=0;h<u.parts.length;h++)l+=u.parts[h]instanceof Array?o(u.parts[h][0])+"-"+o(u.parts[h][1]):o(u.parts[h]);return"["+(u.inverted?"^":"")+l+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function s(u){return n[u.type](u)}function a(u){var l=new Array(u.length),h,f;for(h=0;h<u.length;h++)l[h]=s(u[h]);if(l.sort(),l.length>0){for(h=1,f=1;h<l.length;h++)l[h-1]!==l[h]&&(l[f]=l[h],f++);l.length=f}switch(l.length){case 1:return l[0];case 2:return l[0]+" or "+l[1];default:return l.slice(0,-1).join(", ")+", or "+l[l.length-1]}}function c(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+a(t)+" but "+c(e)+" found."};function oT(t,e){e=e!==void 0?e:{};var n={},r={declaration:T3},i=T3,o="(",s=pt("(",!1),a=")",c=pt(")",!1),u=function(v,z,H,j){return{type:v,name:z,comment:H,fields:j}},l="simple",h=pt("simple",!1),f="object",d=pt("object",!1),g="table",b=pt("table",!1),w="auto",A=pt("auto",!1),B="primary",E=pt("primary",!1),C="index",T=pt("index",!1),F="unique",S=pt("unique",!1),O=function(v,z){return z},x=function(v,z){return v.name&&z.unshift(v),z},I="#",_=pt("#",!1),W=";",Z=pt(";",!1),Q=function(v,z,H){return{type:v,name:z,comment:H}},ht="[",_t=pt("[",!1),Gt="]",Bn=pt("]",!1),he=function(v,z,H,j){return{type:v,size:z,name:H,comment:j}},Fa=function(v,z,H,j){return{type:v,vals:z,name:H,comment:j}},Ft=",",Ht=pt(",",!1),Ro=function(v,z){return z.unshift(v),z},Ci="int",Oo=pt("int",!1),Si="uint",No=pt("uint",!1),un="short",V=pt("short",!1),$="ushort",et=pt("ushort",!1),N="byte",Pt=pt("byte",!1),rt="ubyte",te=pt("ubyte",!1),Wt="float",ke=pt("float",!1),Bi="char",C0=pt("char",!1),Pa="string",Lo=pt("string",!1),De="lstring",Ta=pt("lstring",!1),Kc="enum",kn=pt("enum",!1),Jc="double",p=pt("double",!1),m="bigint",y=pt("bigint",!1),k="set",P=pt("set",!1),R=function(v,z){return v+" "+z},U=/^[a-zA-Z_]/,ft=za([["a","z"],["A","Z"],"_"],!1,!1),Nt=/^[a-zA-Z0-9_]/,gt=za([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),dt=function(v){return D3()},Tt=/^[^\n\r]/,E3=za([`
`,"\r"],!0,!1),dM=function(v){return v.join("").replace(/^"/,"").replace(/"$/,"")},pM=I3("integer"),C3=/^[0-9]/,S3=za([["0","9"]],!1,!1),gM=function(){return parseInt(D3(),10)},mM=I3("whitespace"),B3=/^[ \t\n\r]/,k3=za([" ","	",`
`,"\r"],!1,!1),D=0,fe=0,$c=[{line:1,column:1}],Dn=0,S0=[],X=0,tl;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function D3(){return t.substring(fe,D)}function pt(v,z){return{type:"literal",text:v,ignoreCase:z}}function za(v,z,H){return{type:"class",parts:v,inverted:z,ignoreCase:H}}function bM(){return{type:"end"}}function I3(v){return{type:"other",description:v}}function F3(v){var z=$c[v],H;if(z)return z;for(H=v-1;!$c[H];)H--;for(z=$c[H],z={line:z.line,column:z.column};H<v;)t.charCodeAt(H)===10?(z.line++,z.column=1):z.column++,H++;return $c[v]=z,z}function P3(v,z){var H=F3(v),j=F3(z);return{start:{offset:v,line:H.line,column:H.column},end:{offset:z,line:j.line,column:j.column}}}function K(v){D<Dn||(D>Dn&&(Dn=D,S0=[]),S0.push(v))}function yM(v,z,H){return new ko(ko.buildMessage(v,z),v,z,H)}function T3(){var v,z,H,j,Y,vt,kt,He,Pr,Zn,Tr,Yn,zr,Wn;return v=D,z=it(),z!==n?(H=z3(),H!==n?(j=it(),j!==n?(Y=M3(),Y!==n?(vt=it(),vt!==n?(kt=el(),kt!==n?(He=it(),He!==n?(t.charCodeAt(D)===40?(Pr=o,D++):(Pr=n,X===0&&K(s)),Pr!==n?(Zn=it(),Zn!==n?(Tr=vM(),Tr!==n?(Yn=it(),Yn!==n?(t.charCodeAt(D)===41?(zr=a,D++):(zr=n,X===0&&K(c)),zr!==n?(Wn=it(),Wn!==n?(fe=v,z=u(H,Y,kt,Tr),v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n),v}function z3(){var v;return t.substr(D,6)===l?(v=l,D+=6):(v=n,X===0&&K(h)),v===n&&(t.substr(D,6)===f?(v=f,D+=6):(v=n,X===0&&K(d)),v===n&&(t.substr(D,5)===g?(v=g,D+=5):(v=n,X===0&&K(b)))),v}function M3(){var v,z,H,j;return v=cn(),v===n&&(v=D,z=cn(),z!==n?(H=_3(),H!==n?(z=[z,H],v=z):(D=v,v=n)):(D=v,v=n),v===n&&(v=D,z=cn(),z!==n?(t.substr(D,4)===w?(H=w,D+=4):(H=n,X===0&&K(A)),H!==n?(z=[z,H],v=z):(D=v,v=n)):(D=v,v=n),v===n&&(v=D,z=cn(),z!==n?(H=_3(),H!==n?(t.substr(D,4)===w?(j=w,D+=4):(j=n,X===0&&K(A)),j!==n?(z=[z,H,j],v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)))),v}function _3(){var v;return t.substr(D,7)===B?(v=B,D+=7):(v=n,X===0&&K(E)),v===n&&(t.substr(D,5)===C?(v=C,D+=5):(v=n,X===0&&K(T)),v===n&&(t.substr(D,6)===F?(v=F,D+=6):(v=n,X===0&&K(S)))),v}function el(){var v;return v=R3(),v===n&&(v=it()),v}function vM(){var v,z,H,j,Y,vt,kt;if(v=D,z=B0(),z!==n)if(H=it(),H!==n){for(j=[],Y=D,vt=it(),vt!==n?(kt=B0(),kt!==n?(fe=Y,vt=O(z,kt),Y=vt):(D=Y,Y=n)):(D=Y,Y=n);Y!==n;)j.push(Y),Y=D,vt=it(),vt!==n?(kt=B0(),kt!==n?(fe=Y,vt=O(z,kt),Y=vt):(D=Y,Y=n)):(D=Y,Y=n);j!==n?(Y=it(),Y!==n?(fe=v,z=x(z,j),v=z):(D=v,v=n)):(D=v,v=n)}else D=v,v=n;else D=v,v=n;return v}function wM(){var v;return t.charCodeAt(D)===35?(v=I,D++):(v=n,X===0&&K(_)),v}function AM(){var v,z,H,j,Y;return v=D,z=it(),z!==n?(H=wM(),H!==n?(j=R3(),j!==n?(Y=it(),Y!==n?(z=[z,H,j,Y],v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n),v}function B0(){var v,z,H,j,Y,vt,kt,He,Pr,Zn,Tr,Yn,zr,Wn;return v=D,z=k0(),z!==n?(H=it(),H!==n?(j=cn(),j!==n?(Y=it(),Y!==n?(t.charCodeAt(D)===59?(vt=W,D++):(vt=n,X===0&&K(Z)),vt!==n?(kt=it(),kt!==n?(He=el(),He!==n?(fe=v,z=Q(z,j,He),v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n),v===n&&(v=D,z=k0(),z!==n?(H=it(),H!==n?(t.charCodeAt(D)===91?(j=ht,D++):(j=n,X===0&&K(_t)),j!==n?(Y=it(),Y!==n?(vt=EM(),vt!==n?(kt=it(),kt!==n?(t.charCodeAt(D)===93?(He=Gt,D++):(He=n,X===0&&K(Bn)),He!==n?(Pr=it(),Pr!==n?(Zn=cn(),Zn!==n?(Tr=it(),Tr!==n?(t.charCodeAt(D)===59?(Yn=W,D++):(Yn=n,X===0&&K(Z)),Yn!==n?(zr=it(),zr!==n?(Wn=el(),Wn!==n?(fe=v,z=he(z,vt,Zn,Wn),v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n),v===n&&(v=D,z=k0(),z!==n?(H=it(),H!==n?(t.charCodeAt(D)===40?(j=o,D++):(j=n,X===0&&K(s)),j!==n?(Y=it(),Y!==n?(vt=xM(),vt!==n?(kt=it(),kt!==n?(t.charCodeAt(D)===41?(He=a,D++):(He=n,X===0&&K(c)),He!==n?(Pr=it(),Pr!==n?(Zn=cn(),Zn!==n?(Tr=it(),Tr!==n?(t.charCodeAt(D)===59?(Yn=W,D++):(Yn=n,X===0&&K(Z)),Yn!==n?(zr=it(),zr!==n?(Wn=el(),Wn!==n?(fe=v,z=Fa(z,vt,Zn,Wn),v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n)):(D=v,v=n),v===n&&(v=AM()))),v}function xM(){var v,z,H,j,Y,vt,kt;if(v=D,z=cn(),z!==n){for(H=[],j=D,t.charCodeAt(D)===44?(Y=Ft,D++):(Y=n,X===0&&K(Ht)),Y!==n?(vt=it(),vt!==n?(kt=cn(),kt!==n?(fe=j,Y=O(z,kt),j=Y):(D=j,j=n)):(D=j,j=n)):(D=j,j=n);j!==n;)H.push(j),j=D,t.charCodeAt(D)===44?(Y=Ft,D++):(Y=n,X===0&&K(Ht)),Y!==n?(vt=it(),vt!==n?(kt=cn(),kt!==n?(fe=j,Y=O(z,kt),j=Y):(D=j,j=n)):(D=j,j=n)):(D=j,j=n);H!==n?(fe=v,z=Ro(z,H),v=z):(D=v,v=n)}else D=v,v=n;return v}function k0(){var v,z,H,j;return t.substr(D,3)===Ci?(v=Ci,D+=3):(v=n,X===0&&K(Oo)),v===n&&(t.substr(D,4)===Si?(v=Si,D+=4):(v=n,X===0&&K(No)),v===n&&(t.substr(D,5)===un?(v=un,D+=5):(v=n,X===0&&K(V)),v===n&&(t.substr(D,6)===$?(v=$,D+=6):(v=n,X===0&&K(et)),v===n&&(t.substr(D,4)===N?(v=N,D+=4):(v=n,X===0&&K(Pt)),v===n&&(t.substr(D,5)===rt?(v=rt,D+=5):(v=n,X===0&&K(te)),v===n&&(t.substr(D,5)===Wt?(v=Wt,D+=5):(v=n,X===0&&K(ke)),v===n&&(t.substr(D,4)===Bi?(v=Bi,D+=4):(v=n,X===0&&K(C0)),v===n&&(t.substr(D,6)===Pa?(v=Pa,D+=6):(v=n,X===0&&K(Lo)),v===n&&(t.substr(D,7)===De?(v=De,D+=7):(v=n,X===0&&K(Ta)),v===n&&(t.substr(D,4)===Kc?(v=Kc,D+=4):(v=n,X===0&&K(kn)),v===n&&(t.substr(D,6)===Jc?(v=Jc,D+=6):(v=n,X===0&&K(p)),v===n&&(t.substr(D,6)===m?(v=m,D+=6):(v=n,X===0&&K(y)),v===n&&(t.substr(D,3)===k?(v=k,D+=3):(v=n,X===0&&K(P)),v===n&&(v=D,z=z3(),z!==n?(H=it(),H!==n?(j=M3(),j!==n?(fe=v,z=R(z,j),v=z):(D=v,v=n)):(D=v,v=n)):(D=v,v=n))))))))))))))),v}function EM(){var v;return v=CM(),v===n&&(v=cn()),v}function cn(){var v,z,H,j,Y;if(v=D,z=D,U.test(t.charAt(D))?(H=t.charAt(D),D++):(H=n,X===0&&K(ft)),H!==n){for(j=[],Nt.test(t.charAt(D))?(Y=t.charAt(D),D++):(Y=n,X===0&&K(gt));Y!==n;)j.push(Y),Nt.test(t.charAt(D))?(Y=t.charAt(D),D++):(Y=n,X===0&&K(gt));j!==n?(H=[H,j],z=H):(D=z,z=n)}else D=z,z=n;return z!==n&&(fe=v,z=dt()),v=z,v}function R3(){var v,z,H;for(v=D,z=[],Tt.test(t.charAt(D))?(H=t.charAt(D),D++):(H=n,X===0&&K(E3));H!==n;)z.push(H),Tt.test(t.charAt(D))?(H=t.charAt(D),D++):(H=n,X===0&&K(E3));return z!==n&&(fe=v,z=dM(z)),v=z,v}function CM(){var v,z,H,j;if(X++,v=D,z=it(),z!==n){if(H=[],C3.test(t.charAt(D))?(j=t.charAt(D),D++):(j=n,X===0&&K(S3)),j!==n)for(;j!==n;)H.push(j),C3.test(t.charAt(D))?(j=t.charAt(D),D++):(j=n,X===0&&K(S3));else H=n;H!==n?(fe=v,z=gM(),v=z):(D=v,v=n)}else D=v,v=n;return X--,v===n&&(z=n,X===0&&K(pM)),v}function it(){var v,z;for(X++,v=[],B3.test(t.charAt(D))?(z=t.charAt(D),D++):(z=n,X===0&&K(k3));z!==n;)v.push(z),B3.test(t.charAt(D))?(z=t.charAt(D),D++):(z=n,X===0&&K(k3));return X--,v===n&&(z=n,X===0&&K(mM)),v}if(tl=i(),tl!==n&&D===t.length)return tl;throw tl!==n&&D<t.length&&K(bM()),yM(S0,Dn<t.length?t.charAt(Dn):null,Dn<t.length?P3(Dn,Dn+1):P3(Dn,Dn))}var xw={SyntaxError:ko,parse:oT};const sT=ao(xw),aT=`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,uT=`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,cT=`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,lT=`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,hT=`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,fT=`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,dT=`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,pT=`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,gT=`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mT=`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`,bT=Object.freeze(Object.defineProperty({__proto__:null,bigChain:aT,bigGenePred:uT,bigInteract:cT,bigLink:lT,bigMaf:hT,bigNarrowPeak:fT,bigPsl:dT,defaultBedSchema:pT,mafFrames:gT,mafSummary:mT},Symbol.toStringTag,{value:"Module"})),r0=Object.fromEntries(Object.entries(bT).map(([t,e])=>[t,xw.parse(e.trim())]));function i0(t){const e=["uint","int","float","long"];return{...t,fields:t.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&e.includes(n.type),isNumeric:!n.size&&e.includes(n.type)}))}}const yT={".":0,"-":-1,"+":1};function vT(t){var e;return t.length>=12&&!Number.isNaN(parseInt(t[9],10))&&((e=t[10])===null||e===void 0?void 0:e.split(",").filter(n=>!!n).length)===parseInt(t[9],10)}class wT{constructor(e={}){if(e.autoSql)this.autoSql=i0(sT.parse(e.autoSql));else if(e.type){if(!r0[e.type])throw new Error("Type not found");this.autoSql=i0(r0[e.type])}else this.autoSql=i0(r0.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(e,n={}){const{autoSql:r}=this,{uniqueId:i}=n,o=Array.isArray(e)?e:e.split("	");let s={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&vT(o))for(let a=0;a<r.fields.length;a++){const c=r.fields[a];let u=o[a];const{isNumeric:l,isArray:h,arrayIsNumeric:f,name:d}=c;if(u==null)break;if(u!=="."){if(l){const g=Number(u);u=Number.isNaN(g)?u:g}else h&&(u=u.split(","),u[u.length-1]===""&&u.pop(),f&&(u=u.map(g=>Number(g))));s[d]=u}}else{const a=["chrom","chromStart","chromEnd","name"];s=Object.fromEntries(o.map((c,u)=>[a[u]||"field"+u,c])),s.chromStart=+s.chromStart,s.chromEnd=+s.chromEnd,Number.isNaN(Number.parseFloat(s.field4))||(s.score=+s.field4,delete s.field4),(s.field5==="+"||s.field5==="-")&&(s.strand=s.field5,delete s.field5)}return i&&(s.uniqueId=i),s.strand=yT[s.strand]||0,s.chrom=decodeURIComponent(s.chrom),s}}class AT extends Sc(so){constructor(e,n){const r={channel:"x",windowSize:1e6,...e};if(super(n,r.channel),In(this,"lastRequestId",0),In(this,"parser"),this.params=r,!this.params.url)throw new Error("No URL provided for BigBedSource");this.bbi=new eT({filehandle:new Ln(Bc(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=n0(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(i=>{this.parser=new wT({autoSql:i.autoSql})})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;const r=this.quantizeInterval(e,n);this.checkAndUpdateLastInterval(r)&&this.doDebouncedRequest(r)}async doRequest(e){const n=await this.getFeatures(e);n.requestId<this.lastRequestId||this.publishData(n.features)}async getFeatures(e){let n=++this.lastRequestId;const r=new AbortController,i=this.genome.continuousToDiscreteChromosomeIntervals(e),o=await Promise.all(i.map(s=>this.bbi.getFeatures(s.chrom,s.startPos,s.endPos,{signal:r.signal}).then(a=>a.map(c=>this.parser.parseLine(`${s.chrom}	${c.start}	${c.end}	${c.rest}`,{uniqueId:c.uniqueId})))));return{requestId:n,abort:()=>r.abort(),features:o.flat()}}}var xT=bt,Ne=null;try{Ne=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}bt.prototype.__isLong__,Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ae(t){return(t&&t.__isLong__)===!0}bt.isLong=Ae;var Ew={},Cw={};function wi(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=Cw[t],r)?r:(n=yt(t,(t|0)<0?-1:0,!0),i&&(Cw[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=Ew[t],r)?r:(n=yt(t,t<0?-1:0,!1),i&&(Ew[t]=n),n))}bt.fromInt=wi;function Le(t,e){if(isNaN(t))return e?Ai:Ue;if(e){if(t<0)return Ai;if(t>=Bw)return Pw}else{if(t<=-kw)return xe;if(t+1>=kw)return Fw}return t<0?Le(-t,e).neg():yt(t%Do|0,t/Do|0,e)}bt.fromNumber=Le;function yt(t,e,n){return new bt(t,e,n)}bt.fromBits=yt;var Hc=Math.pow;function o0(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Ue;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return o0(t.substring(1),e,n).neg();for(var i=Le(Hc(n,8)),o=Ue,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+a),n);if(a<8){var u=Le(Hc(n,a));o=o.mul(u).add(Le(c))}else o=o.mul(i),o=o.add(Le(c))}return o.unsigned=e,o}bt.fromString=o0;function an(t,e){return typeof t=="number"?Le(t,e):typeof t=="string"?o0(t,e):yt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}bt.fromValue=an;var Sw=1<<16,ET=1<<24,Do=Sw*Sw,Bw=Do*Do,kw=Bw/2,Dw=wi(ET),Ue=wi(0);bt.ZERO=Ue;var Ai=wi(0,!0);bt.UZERO=Ai;var Io=wi(1);bt.ONE=Io;var Iw=wi(1,!0);bt.UONE=Iw;var s0=wi(-1);bt.NEG_ONE=s0;var Fw=yt(-1,2147483647,!1);bt.MAX_VALUE=Fw;var Pw=yt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=Pw;var xe=yt(0,-2147483648,!1);bt.MIN_VALUE=xe;var G=bt.prototype;G.toInt=function(){return this.unsigned?this.low>>>0:this.low},G.toNumber=function(){return this.unsigned?(this.high>>>0)*Do+(this.low>>>0):this.high*Do+(this.low>>>0)},G.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(xe)){var e=Le(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var i=Le(Hc(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=o.sub(a.mul(i)).toInt()>>>0,u=c.toString(t);if(o=a,o.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},G.getHighBits=function(){return this.high},G.getHighBitsUnsigned=function(){return this.high>>>0},G.getLowBits=function(){return this.low},G.getLowBitsUnsigned=function(){return this.low>>>0},G.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xe)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;e>0&&!(t&1<<e);e--);return this.high!=0?e+33:e+1},G.isZero=function(){return this.high===0&&this.low===0},G.eqz=G.isZero,G.isNegative=function(){return!this.unsigned&&this.high<0},G.isPositive=function(){return this.unsigned||this.high>=0},G.isOdd=function(){return(this.low&1)===1},G.isEven=function(){return(this.low&1)===0},G.equals=function(t){return Ae(t)||(t=an(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},G.eq=G.equals,G.notEquals=function(t){return!this.eq(t)},G.neq=G.notEquals,G.ne=G.notEquals,G.lessThan=function(t){return this.comp(t)<0},G.lt=G.lessThan,G.lessThanOrEqual=function(t){return this.comp(t)<=0},G.lte=G.lessThanOrEqual,G.le=G.lessThanOrEqual,G.greaterThan=function(t){return this.comp(t)>0},G.gt=G.greaterThan,G.greaterThanOrEqual=function(t){return this.comp(t)>=0},G.gte=G.greaterThanOrEqual,G.ge=G.greaterThanOrEqual,G.compare=function(t){if(Ae(t)||(t=an(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},G.comp=G.compare,G.negate=function(){return!this.unsigned&&this.eq(xe)?xe:this.not().add(Io)},G.neg=G.negate,G.add=function(t){Ae(t)||(t=an(t));var e=this.high>>>16,n=this.high&65535,r=this.low>>>16,i=this.low&65535,o=t.high>>>16,s=t.high&65535,a=t.low>>>16,c=t.low&65535,u=0,l=0,h=0,f=0;return f+=i+c,h+=f>>>16,f&=65535,h+=r+a,l+=h>>>16,h&=65535,l+=n+s,u+=l>>>16,l&=65535,u+=e+o,u&=65535,yt(h<<16|f,u<<16|l,this.unsigned)},G.subtract=function(t){return Ae(t)||(t=an(t)),this.add(t.neg())},G.sub=G.subtract,G.multiply=function(t){if(this.isZero())return Ue;if(Ae(t)||(t=an(t)),Ne){var e=Ne.mul(this.low,this.high,t.low,t.high);return yt(e,Ne.get_high(),this.unsigned)}if(t.isZero())return Ue;if(this.eq(xe))return t.isOdd()?xe:Ue;if(t.eq(xe))return this.isOdd()?xe:Ue;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Dw)&&t.lt(Dw))return Le(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=t.high>>>16,a=t.high&65535,c=t.low>>>16,u=t.low&65535,l=0,h=0,f=0,d=0;return d+=o*u,f+=d>>>16,d&=65535,f+=i*u,h+=f>>>16,f&=65535,f+=o*c,h+=f>>>16,f&=65535,h+=r*u,l+=h>>>16,h&=65535,h+=i*c,l+=h>>>16,h&=65535,h+=o*a,l+=h>>>16,h&=65535,l+=n*u+r*c+i*a+o*s,l&=65535,yt(f<<16|d,l<<16|h,this.unsigned)},G.mul=G.multiply,G.divide=function(t){if(Ae(t)||(t=an(t)),t.isZero())throw Error("division by zero");if(Ne){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?Ne.div_u:Ne.div_s)(this.low,this.high,t.low,t.high);return yt(e,Ne.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ai:Ue;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ai;if(t.gt(this.shru(1)))return Iw;i=Ai}else{if(this.eq(xe)){if(t.eq(Io)||t.eq(s0))return xe;if(t.eq(xe))return Io;var o=this.shr(1);return n=o.div(t).shl(1),n.eq(Ue)?t.isNegative()?Io:s0:(r=this.sub(t.mul(n)),i=n.add(r.div(t)),i)}else if(t.eq(xe))return this.unsigned?Ai:Ue;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Ue}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=s<=48?1:Hc(2,s-48),c=Le(n),u=c.mul(t);u.isNegative()||u.gt(r);)n-=a,c=Le(n,this.unsigned),u=c.mul(t);c.isZero()&&(c=Io),i=i.add(c),r=r.sub(u)}return i},G.div=G.divide,G.modulo=function(t){if(Ae(t)||(t=an(t)),Ne){var e=(this.unsigned?Ne.rem_u:Ne.rem_s)(this.low,this.high,t.low,t.high);return yt(e,Ne.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},G.mod=G.modulo,G.rem=G.modulo,G.not=function(){return yt(~this.low,~this.high,this.unsigned)},G.and=function(t){return Ae(t)||(t=an(t)),yt(this.low&t.low,this.high&t.high,this.unsigned)},G.or=function(t){return Ae(t)||(t=an(t)),yt(this.low|t.low,this.high|t.high,this.unsigned)},G.xor=function(t){return Ae(t)||(t=an(t)),yt(this.low^t.low,this.high^t.high,this.unsigned)},G.shiftLeft=function(t){return Ae(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?yt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):yt(0,this.low<<t-32,this.unsigned)},G.shl=G.shiftLeft,G.shiftRight=function(t){return Ae(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?yt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):yt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},G.shr=G.shiftRight,G.shiftRightUnsigned=function(t){if(Ae(t)&&(t=t.toInt()),t&=63,t===0)return this;var e=this.high;if(t<32){var n=this.low;return yt(n>>>t|e<<32-t,e>>>t,this.unsigned)}else return t===32?yt(e,0,this.unsigned):yt(e>>>t-32,0,this.unsigned)},G.shru=G.shiftRightUnsigned,G.shr_u=G.shiftRightUnsigned,G.toSigned=function(){return this.unsigned?yt(this.low,this.high,!1):this},G.toUnsigned=function(){return this.unsigned?this:yt(this.low,this.high,!0)},G.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},G.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},G.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]},bt.fromBytes=function(t,e,n){return n?bt.fromBytesLE(t,e):bt.fromBytesBE(t,e)},bt.fromBytesLE=function(t,e){return new bt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},bt.fromBytesBE=function(t,e){return new bt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};const Tw=ao(xT);class zw{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}}function Fo(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new zw(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}class jc{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+(1<<16)-this.minv.blockPosition}}class Mw{constructor({filehandle:e,renameRefSeq:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}_findFirstData(e,n){const r=e.firstDataLine;r?e.firstDataLine=r.compareTo(n)>0?n:r:e.firstDataLine=n}async parse(e={}){return this.setupP||(this.setupP=this._parse(e).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}}function CT(t){return new Promise(e=>setTimeout(e,t))}function _w(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}function Rw(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new Error("aborted");throw e.code="ERR_ABORTED",e}}}async function Ow(t){await Promise.resolve(),Rw(t)}function ST(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function BT(t={}){return"aborted"in t?{signal:t}:t}function Nw(t,e){const n=[];let r=null;return t.length===0?t:(t.sort((i,o)=>{const s=i.minv.blockPosition-o.minv.blockPosition;return s!==0?s:i.minv.dataPosition-o.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):ST(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}const kT=21578050;function DT(t,e){return t-t%e}function IT(t,e){return t-t%e+e}class Aa extends Mw{parsePseudoBin(e,n){return{lineCount:_w(Tw.fromBytesLE(Array.prototype.slice.call(e,n+16,n+24),!0))}}async lineCount(e,n={}){const r=(await this.parse(n)).indices[e];if(!r)return-1;const i=r.stats||{};return i.lineCount===void 0?-1:i.lineCount}fetchBai(e={}){return this.baiP||(this.baiP=this.filehandle.readFile(e).catch(n=>{throw this.baiP=void 0,n})),this.baiP}async _parse(){const e={bai:!0,maxBlockSize:65536},n=await this.fetchBai();if(n.readUInt32LE(0)!==kT)throw new Error("Not a BAI file");e.refCount=n.readInt32LE(4);const r=((1<<(5+1)*3)-1)/7;e.indices=new Array(e.refCount);let i=8;for(let o=0;o<e.refCount;o+=1){const s=n.readInt32LE(i);let a;i+=4;const c={};for(let h=0;h<s;h+=1){const f=n.readUInt32LE(i);if(i+=4,f===r+1)i+=4,a=this.parsePseudoBin(n,i),i+=32;else{if(f>r+1)throw new Error("bai index contains too many bins, please use CSI");{const d=n.readInt32LE(i);i+=4;const g=new Array(d);for(let b=0;b<d;b+=1){const w=Fo(n,i),A=Fo(n,i+8);i+=16,this._findFirstData(e,w),g[b]=new jc(w,A,f)}c[f]=g}}}const u=n.readInt32LE(i);i+=4;const l=new Array(u);for(let h=0;h<u;h+=1)l[h]=Fo(n,i),i+=8,this._findFirstData(e,l[h]);e.indices[o]={binIndex:c,linearIndex:l,stats:a}}return e}async indexCov(e,n,r,i={}){const o=n!==void 0,s=(await this.parse(i)).indices[e];if(!s)return[];const{linearIndex:a=[],stats:c}=s;if(!a.length)return[];const u=r!==void 0?IT(r,16384):(a.length-1)*16384,l=n!==void 0?DT(n,16384):0;let h;o?h=new Array((u-l)/16384):h=new Array(a.length-1);const f=a[a.length-1].blockPosition;if(u>(a.length-1)*16384)throw new Error("query outside of range of linear index");let d=a[l/16384].blockPosition;for(let g=l/16384,b=0;g<u/16384;g++,b++)h[b]={score:a[g+1].blockPosition-d,start:g*16384,end:g*16384+16384},d=a[g+1].blockPosition;return h.map(g=>({...g,score:g.score*c.lineCount/f}))}reg2bins(e,n){return n-=1,[[0,0],[1+(e>>26),1+(n>>26)],[9+(e>>23),9+(n>>23)],[73+(e>>20),73+(n>>20)],[585+(e>>17),585+(n>>17)],[4681+(e>>14),4681+(n>>14)]]}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const s=o.indices[e];if(!s)return[];const a=this.reg2bins(n,r),c=[];for(const[d,g]of a)for(let b=d;b<=g;b++)if(s.binIndex[b]){const w=s.binIndex[b];for(let A=0;A<w.length;++A)c.push(new jc(w[A].minv,w[A].maxv,b))}const u=s.linearIndex.length;let l=null;const h=Math.min(n>>14,u-1),f=Math.min(r>>14,u-1);for(let d=h;d<=f;++d){const g=s.linearIndex[d];g&&(!l||g.compareTo(l)<0)&&(l=g)}return Nw(c,l)}}const FT=21582659,PT=38359875;function TT(t,e){return t*2**e}function Lw(t,e){return Math.floor(t/2**e)}class a0 extends Mw{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e){const n=await this.parse();if(!n||!n.indices[e])return-1;const{stats:r}=n.indices[e];return r?r.lineCount:-1}async indexCov(){return[]}parseAuxData(e,n,r){if(r<30)return{};const i={};if(i.formatFlags=e.readInt32LE(n),i.coordinateType=i.formatFlags&65536?"zero-based-half-open":"1-based-closed",i.format={0:"generic",1:"SAM",2:"VCF"}[i.formatFlags&15],!i.format)throw new Error(`invalid Tabix preset format flags ${i.formatFlags}`);i.columnNumbers={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},i.metaValue=e.readInt32LE(n+16),i.metaChar=i.metaValue?String.fromCharCode(i.metaValue):"",i.skipLines=e.readInt32LE(n+20);const o=e.readInt32LE(n+24);return Object.assign(i,this._parseNameBytes(e.subarray(n+28,n+28+o))),i}_parseNameBytes(e){let n=0,r=0;const i=[],o={};for(let s=0;s<e.length;s+=1)if(!e[s]){if(r<s){let a=e.toString("utf8",r,s);a=this.renameRefSeq(a),i[n]=a,o[a]=n}r=s+1,n+=1}return{refNameToId:o,refIdToName:i}}async _parse(e){const n={csi:!0,maxBlockSize:65536},r=await this.filehandle.readFile(e),i=await Ad(r);if(i.readUInt32LE(0)===FT)n.csiVersion=1;else if(i.readUInt32LE(0)===PT)n.csiVersion=2;else throw new Error("Not a CSI file");this.minShift=i.readInt32LE(4),this.depth=i.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const o=i.readInt32LE(12);o&&Object.assign(n,this.parseAuxData(i,16,o)),n.refCount=i.readInt32LE(16+o),n.indices=new Array(n.refCount);let s=16+o+4;for(let a=0;a<n.refCount;a+=1){await Ow(e.signal);const c=i.readInt32LE(s);s+=4;const u={};let l;for(let h=0;h<c;h+=1){const f=i.readUInt32LE(s);if(f>this.maxBinNumber)l=this.parsePseudoBin(i,s+4),s+=4+8+4+16+16;else{const d=Fo(i,s+4);this._findFirstData(n,d);const g=i.readInt32LE(s+12);s+=16;const b=new Array(g);for(let w=0;w<g;w+=1){const A=Fo(i,s),B=Fo(i,s+8);s+=16,b[w]=new jc(A,B,f)}u[f]=b}}n.indices[a]={binIndex:u,stats:l}}return n}parsePseudoBin(e,n){return{lineCount:_w(Tw.fromBytesLE(Array.prototype.slice.call(e,n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const o=await this.parse(i),s=o==null?void 0:o.indices[e];if(!s)return[];const a=this.reg2bins(n,r),c=[];for(const[u,l]of a)for(let h=u;h<=l;h++)if(s.binIndex[h]){const f=s.binIndex[h];for(let d=0;d<f.length;++d)c.push(new jc(f[d].minv,f[d].maxv,h))}return Nw(c,new zw(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const s=[];for(;r<=this.depth;o-=3,i+=TT(1,r*3),r+=1){const a=i+Lw(e,o),c=i+Lw(n,o);if(c-a+s.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);s.push([a,c])}return s}}var Ir=Se.Buffer,u0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(u0=new Int32Array(u0));function Uw(t){if(Ir.isBuffer(t))return t;var e=typeof Ir.alloc=="function"&&typeof Ir.from=="function";if(typeof t=="number")return e?Ir.alloc(t):new Ir(t);if(typeof t=="string")return e?Ir.from(t):new Ir(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function zT(t){var e=Uw(4);return e.writeInt32BE(t,0),e}function c0(t,e){t=Uw(t),Ir.isBuffer(e)&&(e=e.readUInt32BE(0));for(var n=~~e^-1,r=0;r<t.length;r++)n=u0[(n^t[r])&255]^n>>>8;return n^-1}function l0(){return zT(c0.apply(null,arguments))}l0.signed=function(){return c0.apply(null,arguments)},l0.unsigned=function(){return c0.apply(null,arguments)>>>0};var MT=l0;const _T=ao(MT);var h0,Gw;function RT(){if(Gw)return h0;Gw=1;var t=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},e=function(r,i){return Object.prototype.propertyIsEnumerable.call(r,i)};function n(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");var i=[];for(var o in r)t(r,o)&&e(r,o)&&i.push([o,r[o]]);return i}return h0=n,h0}var OT=typeof Object.entries=="function"?Object.entries:RT();const NT=ao(OT);class LT{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}}var UT=LT;const GT=ao(UT),Ge={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},Hw="=ACMGRSVTWYHKDBN".split(""),xa="MIDNSHP=X???????".split("");class HT{constructor(e){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=e,{byteArray:i,start:o}=n;this.data={},this.bytes=n,this._id=r,this._refID=i.readInt32LE(o+4),this.data.start=i.readInt32LE(o+8),this.flags=(i.readInt32LE(o+16)&4294901760)>>16}get(e){return this[e]?this.data[e]?this.data[e]:(this.data[e]=this[e](),this.data[e]):this._get(e.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(e){return e in this.data?this.data[e]:(this.data[e]=this._parseTag(e),this.data[e])}_tags(){this._parseAllTags();let e=["seq"];this.isSegmentUnmapped()||e.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&e.push("next_segment_position","pair_orientation"),e=e.concat(this._tagList||[]),Object.keys(this.data).forEach(r=>{r[0]!=="_"&&r!=="next_seq_id"&&e.push(r)});const n={};return e.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),o=n[i];return n[i]=!0,!o})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const e=(this.get("_bin_mq_nl")&65280)>>8;return e===255?void 0:e}score(){return this.get("mq")}qual(){var e;return(e=this.qualRaw())===null||e===void 0?void 0:e.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:e,byteArray:n}=this.bytes,r=e+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const e=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+e-1)}_parseTag(e){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const o=this.bytes.end;let s;for(;i<o&&s!==e;){const a=String.fromCharCode(n[i],n[i+1]);s=a.toLowerCase();const c=String.fromCharCode(n[i+2]);i+=3;let u;switch(c){case"A":u=String.fromCharCode(n[i]),i+=1;break;case"i":u=n.readInt32LE(i),i+=4;break;case"I":u=n.readUInt32LE(i),i+=4;break;case"c":u=n.readInt8(i),i+=1;break;case"C":u=n.readUInt8(i),i+=1;break;case"s":u=n.readInt16LE(i),i+=2;break;case"S":u=n.readUInt16LE(i),i+=2;break;case"f":u=n.readFloatLE(i),i+=4;break;case"Z":case"H":for(u="";i<=o;){const l=n[i++];if(l===0)break;u+=String.fromCharCode(l)}break;case"B":{u="";const l=n[i++],h=String.fromCharCode(l),f=n.readInt32LE(i);if(i+=4,h==="i")if(a==="CG")for(let d=0;d<f;d++){const g=n.readInt32LE(i),b=g>>4,w=xa[g&15];u+=b+w,i+=4}else for(let d=0;d<f;d++)u+=n.readInt32LE(i),d+1<f&&(u+=","),i+=4;if(h==="I")if(a==="CG")for(let d=0;d<f;d++){const g=n.readUInt32LE(i),b=g>>4,w=xa[g&15];u+=b+w,i+=4}else for(let d=0;d<f;d++)u+=n.readUInt32LE(i),d+1<f&&(u+=","),i+=4;if(h==="s")for(let d=0;d<f;d++)u+=n.readInt16LE(i),d+1<f&&(u+=","),i+=2;if(h==="S")for(let d=0;d<f;d++)u+=n.readUInt16LE(i),d+1<f&&(u+=","),i+=2;if(h==="c")for(let d=0;d<f;d++)u+=n.readInt8(i),d+1<f&&(u+=","),i+=1;if(h==="C")for(let d=0;d<f;d++)u+=n.readUInt8(i),d+1<f&&(u+=","),i+=1;if(h==="f")for(let d=0;d<f;d++)u+=n.readFloatLE(i),d+1<f&&(u+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${c}', tags may be incomplete`),u=void 0,i=o}if(this._tagOffset=i,this._tagList.push(a),s===e)return u;this.data[s]=u}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(e){return e.match(/\d+\D/g).map(n=>[n.match(/\D/)[0].toUpperCase(),parseInt(n,10)])}isPaired(){return!!(this.flags&Ge.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&Ge.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&Ge.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&Ge.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&Ge.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&Ge.BAM_FMREVERSE)}isRead1(){return!!(this.flags&Ge.BAM_FREAD1)}isRead2(){return!!(this.flags&Ge.BAM_FREAD2)}isSecondary(){return!!(this.flags&Ge.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&Ge.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&Ge.BAM_FDUP)}isSupplementary(){return!!(this.flags&Ge.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:e,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const o=this.get("seq_length");let s="",a=0,c=e.readInt32LE(i),u=c>>4,l=xa[c&15];if(l==="S"&&u===o)return i+=4,c=e.readInt32LE(i),u=c>>4,l=xa[c&15],l!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=u,this.get("CG");for(let h=0;h<r;++h)c=e.readInt32LE(i),u=c>>4,l=xa[c&15],s+=u+l,l!=="H"&&l!=="S"&&l!=="I"&&(a+=u),i+=4;return this.data.length_on_ref=a,s}_flags(){}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:e,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),o=this.get("seq_length");let s="",a=0;for(let c=0;c<i;++c){const u=e[r+c];s+=Hw[(u&240)>>4],a++,a<o&&(s+=Hw[u&15],a++)}return s}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const e=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const o=[];return this.template_length()>0?(o[0]=e,o[1]=r,o[2]=n,o[3]=i):(o[2]=e,o[3]=r,o[0]=n,o[1]=i),o.join("")}return null}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const e={};return Object.keys(this).forEach(n=>{n.charAt(0)==="_"||n==="bytes"||(e[n]=this[n])}),e}}function jT(t){const e=t.split(/\r?\n/),n=[];return e.forEach(r=>{const[i,...o]=r.split(/\t/),s=o.map(a=>{const[c,u]=a.split(":",2);return{tag:c,value:u}});i&&n.push({tag:i.substr(1),data:s})}),n}const VT=21840194,f0=1<<16;function d0(t){return[].concat(...t)}async function qT(t){const e=[];for await(const n of t)e.push(n);return e}class QT{constructor({bamFilehandle:e,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:o,baiUrl:s,csiPath:a,csiFilehandle:c,csiUrl:u,fetchSizeLimit:l,chunkSizeLimit:h,yieldThreadTime:f=100,renameRefSeqs:d=g=>g}){if(this.featureCache=new Pd({cache:new GT({maxSize:50}),fill:async({chunk:g,opts:b},w)=>{const{data:A,cpositions:B,dpositions:E}=await this._readChunk({chunk:g,opts:{...b,signal:w}});return await this.readBamFeatures(A,B,E,g)}}),this.renameRefSeq=d,e)this.bam=e;else if(n)this.bam=new vr(n);else if(r)this.bam=new Ln(r);else throw new Error("unable to initialize bam");if(c)this.index=new a0({filehandle:c});else if(a)this.index=new a0({filehandle:new vr(a)});else if(u)this.index=new a0({filehandle:new Ln(u)});else if(o)this.index=new Aa({filehandle:o});else if(i)this.index=new Aa({filehandle:new vr(i)});else if(s)this.index=new Aa({filehandle:new Ln(s)});else if(n)this.index=new Aa({filehandle:new vr(`${n}.bai`)});else if(r)this.index=new Aa({filehandle:new Ln(`${r}.bai`)});else throw new Error("unable to infer index format");this.fetchSizeLimit=l||5e8,this.chunkSizeLimit=h||3e8,this.yieldThreadTime=f}async getHeader(e={}){const n=BT(e),r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let o;if(i){const l=await this.bam.read(Buffer.alloc(i+f0),0,i+f0,0,n),{bytesRead:h}=l;if({buffer:o}=l,!h)throw new Error("Error reading header");h<i?o=o.subarray(0,h):o=o.subarray(0,i)}else o=await this.bam.readFile(n);const s=await Ad(o);if(s.readInt32LE(0)!==VT)throw new Error("Not a BAM file");const a=s.readInt32LE(4);this.header=s.toString("utf8",8,8+a);const{chrToIndex:c,indexToChr:u}=await this._readRefSeqs(a+8,65535,n);return this.chrToIndex=c,this.indexToChr=u,jT(this.header)}async getHeaderText(e={}){return await this.getHeader(e),this.header}async _readRefSeqs(e,n,r={}){if(e>n)return this._readRefSeqs(e,n*2,r);const i=n+f0,{bytesRead:o,buffer:s}=await this.bam.read(Buffer.alloc(i),0,n,0,r);if(!o)throw new Error("Error reading refseqs from header");const a=await Ad(s.subarray(0,Math.min(o,n))),c=a.readInt32LE(e);let u=e+4;const l={},h=[];for(let f=0;f<c;f+=1){const d=a.readInt32LE(u),g=this.renameRefSeq(a.toString("utf8",u+4,u+4+d-1)),b=a.readInt32LE(u+d+4);if(l[g]=f,h.push({refName:g,length:b}),u=u+8+d,u>a.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(e,n*2,r)}return{chrToIndex:l,indexToChr:h}}async getRecordsForRange(e,n,r,i={viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5}){return d0(await qT(this.streamRecordsForRange(e,n,r,i)))}async*streamRecordsForRange(e,n,r,i={}){const{signal:o}=i,s=this.chrToIndex&&this.chrToIndex[e];let a;if(!(s>=0))a=[];else if(a=await this.index.blocksForRange(s,n-1,r,i),!a)throw new Error("Error in index fetch");for(let u=0;u<a.length;u+=1){await Ow(o);const l=a[u].fetchedSize();if(l>this.chunkSizeLimit)throw new Error(`Too many BAM features. BAM chunk size ${l} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit}`)}const c=a.map(u=>u.fetchedSize()).reduce((u,l)=>u+l,0);if(c>this.fetchSizeLimit)throw new Error(`data size of ${c.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);yield*this._fetchChunkFeatures(a,s,n,r,i)}async*_fetchChunkFeatures(e,n,r,i,o){const{viewAsPairs:s=!1}=o,a=[];let c=!1;for(let u=0;u<e.length;u++){const l=e[u],h=await this.featureCache.get(l.toString(),{chunk:l,opts:o},o.signal),f=[];for(let d=0;d<h.length;d+=1){const g=h[d];if(g.seq_id()===n)if(g.get("start")>=i){c=!0;break}else g.get("end")>=r&&f.push(g)}if(a.push(f),yield f,c)break}Rw(o.signal),s&&(yield this.fetchPairs(n,a,o))}async fetchPairs(e,n,r){const{pairAcrossChr:i=!1,maxInsertSize:o=2e5}=r,s={},a={};n.map(f=>{const d={};for(let g=0;g<f.length;g++){const b=f[g].name(),w=f[g].id();d[b]||(d[b]=0),d[b]++,a[w]=1}NT(d).forEach(([g,b])=>{b===1&&(s[g]=!0)})});const c=[];n.map(f=>{for(let d=0;d<f.length;d++){const g=f[d],b=g.name(),w=g.get("start"),A=g._next_pos(),B=g._next_refid();s[b]&&(i||B===e&&Math.abs(w-A)<o)&&c.push(this.index.blocksForRange(B,A,A+1,r))}});const u=d0(await Promise.all(c)).sort().filter((f,d,g)=>!d||f.toString()!==g[d-1].toString()),l=u.map(f=>f.fetchedSize()).reduce((f,d)=>f+d,0);if(l>this.fetchSizeLimit)throw new Error(`data size of ${l.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);const h=u.map(async f=>{const{data:d,cpositions:g,dpositions:b,chunk:w}=await this._readChunk({chunk:f,opts:r}),A=await this.readBamFeatures(d,g,b,w),B=[];for(let E=0;E<A.length;E+=1){const C=A[E];s[C.get("name")]&&!a[C.id()]&&B.push(C)}return B});return d0(await Promise.all(h))}async _readChunk({chunk:e,opts:n}){const r=e.fetchedSize(),{buffer:i,bytesRead:o}=await this.bam.read(Buffer.alloc(r),0,r,e.minv.blockPosition,n),{buffer:s,cpositions:a,dpositions:c}=await mI(i.subarray(0,Math.min(o,r)),e);return{data:s,cpositions:a,dpositions:c,chunk:e}}async readBamFeatures(e,n,r,i){let o=0;const s=[];let a=0,c=+Date.now();for(;o+4<e.length;){const u=e.readInt32LE(o),l=o+4+u-1;if(r){for(;o+i.minv.dataPosition>=r[a++];);a--}if(l<e.length){const h=new HT({bytes:{byteArray:e,start:o,end:l},fileOffset:n?n[a]*256+(o-r[a])+i.minv.dataPosition+1:_T.signed(e.slice(o,l))});s.push(h),this.yieldThreadTime&&+Date.now()-c>this.yieldThreadTime&&(await CT(1),c=+Date.now())}o=l+1}return s}async hasRefSeq(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.hasRefSeq(n)}async lineCount(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.lineCount(n)}async indexCov(e,n,r){await this.index.parse();const i=this.chrToIndex&&this.chrToIndex[e];return this.index.indexCov(i,n,r)}async blocksForRange(e,n,r,i){await this.index.parse();const o=this.chrToIndex&&this.chrToIndex[e];return this.index.blocksForRange(o,n,r,i)}}(function(){(function(t){(function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function r(x){return x&&DataView.prototype.isPrototypeOf(x)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(x){return x&&i.indexOf(Object.prototype.toString.call(x))>-1};function s(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function a(x){return typeof x!="string"&&(x=String(x)),x}function c(x){var I={next:function(){var _=x.shift();return{done:_===void 0,value:_}}};return n.iterable&&(I[Symbol.iterator]=function(){return I}),I}function u(x){this.map={},x instanceof u?x.forEach(function(I,_){this.append(_,I)},this):Array.isArray(x)?x.forEach(function(I){this.append(I[0],I[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(I){this.append(I,x[I])},this)}u.prototype.append=function(x,I){x=s(x),I=a(I);var _=this.map[x];this.map[x]=_?_+", "+I:I},u.prototype.delete=function(x){delete this.map[s(x)]},u.prototype.get=function(x){return x=s(x),this.has(x)?this.map[x]:null},u.prototype.has=function(x){return this.map.hasOwnProperty(s(x))},u.prototype.set=function(x,I){this.map[s(x)]=a(I)},u.prototype.forEach=function(x,I){for(var _ in this.map)this.map.hasOwnProperty(_)&&x.call(I,this.map[_],_,this)},u.prototype.keys=function(){var x=[];return this.forEach(function(I,_){x.push(_)}),c(x)},u.prototype.values=function(){var x=[];return this.forEach(function(I){x.push(I)}),c(x)},u.prototype.entries=function(){var x=[];return this.forEach(function(I,_){x.push([_,I])}),c(x)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function l(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function h(x){return new Promise(function(I,_){x.onload=function(){I(x.result)},x.onerror=function(){_(x.error)}})}function f(x){var I=new FileReader,_=h(I);return I.readAsArrayBuffer(x),_}function d(x){var I=new FileReader,_=h(I);return I.readAsText(x),_}function g(x){for(var I=new Uint8Array(x),_=new Array(I.length),W=0;W<I.length;W++)_[W]=String.fromCharCode(I[W]);return _.join("")}function b(x){if(x.slice)return x.slice(0);var I=new Uint8Array(x.byteLength);return I.set(new Uint8Array(x)),I.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:n.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:n.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():n.arrayBuffer&&n.blob&&r(x)?(this._bodyArrayBuffer=b(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||o(x))?this._bodyArrayBuffer=b(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var x=l(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var x=l(this);if(x)return x;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function B(x){var I=x.toUpperCase();return A.indexOf(I)>-1?I:x}function E(x,I){I=I||{};var _=I.body;if(x instanceof E){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,I.headers||(this.headers=new u(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!_&&x._bodyInit!=null&&(_=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new u(I.headers)),this.method=B(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function C(x){var I=new FormData;return x.trim().split("&").forEach(function(_){if(_){var W=_.split("="),Z=W.shift().replace(/\+/g," "),Q=W.join("=").replace(/\+/g," ");I.append(decodeURIComponent(Z),decodeURIComponent(Q))}}),I}function T(x){var I=new u,_=x.replace(/\r?\n[\t ]+/g," ");return _.split(/\r?\n/).forEach(function(W){var Z=W.split(":"),Q=Z.shift().trim();if(Q){var ht=Z.join(":").trim();I.append(Q,ht)}}),I}w.call(E.prototype);function F(x,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new u(I.headers),this.url=I.url||"",this._initBody(x)}w.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},F.error=function(){var x=new F(null,{status:0,statusText:""});return x.type="error",x};var S=[301,302,303,307,308];F.redirect=function(x,I){if(S.indexOf(I)===-1)throw new RangeError("Invalid status code");return new F(null,{status:I,headers:{location:x}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(x,I){this.message=x,this.name=I;var _=Error(x);this.stack=_.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(x,I){return new Promise(function(_,W){var Z=new E(x,I);if(Z.signal&&Z.signal.aborted)return W(new e.DOMException("Aborted","AbortError"));var Q=new XMLHttpRequest;function ht(){Q.abort()}Q.onload=function(){var _t={status:Q.status,statusText:Q.statusText,headers:T(Q.getAllResponseHeaders()||"")};_t.url="responseURL"in Q?Q.responseURL:_t.headers.get("X-Request-URL");var Gt="response"in Q?Q.response:Q.responseText;_(new F(Gt,_t))},Q.onerror=function(){W(new TypeError("Network request failed"))},Q.ontimeout=function(){W(new TypeError("Network request failed"))},Q.onabort=function(){W(new e.DOMException("Aborted","AbortError"))},Q.open(Z.method,Z.url,!0),Z.credentials==="include"?Q.withCredentials=!0:Z.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&n.blob&&(Q.responseType="blob"),Z.headers.forEach(function(_t,Gt){Q.setRequestHeader(Gt,_t)}),Z.signal&&(Z.signal.addEventListener("abort",ht),Q.onreadystatechange=function(){Q.readyState===4&&Z.signal.removeEventListener("abort",ht)}),Q.send(typeof Z._bodyInit>"u"?null:Z._bodyInit)})}return O.polyfill=!0,t.fetch||(t.fetch=O,t.Headers=u,t.Request=E,t.Response=F),e.Headers=u,e.Request=E,e.Response=F,e.fetch=O,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:oi)})();class ZT extends Sc(so){constructor(e,n){const r={channel:"x",windowSize:2e4,...e};if(super(n,r.channel),In(this,"lastRequestId",0),In(this,"chrPrefixFixer",o=>o),this.params=r,!this.params.url)throw new Error("No URL provided for BamSource");const i=o=>new Ln(Bc(o,this.view.getBaseUrl()));this.bam=new QT({bamFilehandle:i(this.params.url),baiFilehandle:i(this.params.indexUrl??this.params.url+".bai")}),this.headerPromise=this.bam.getHeader(),this.headerPromise.then(o=>{var s,a;const c=this.genome.hasChrPrefix(),u=(a=(s=this.bam.indexToChr)==null?void 0:s[0])==null?void 0:a.refName.startsWith("chr");c&&!u?this.chrPrefixFixer=l=>l.replace("chr",""):!c&&u&&(this.chrPrefixFixer=l=>"chr"+l)})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;await this.headerPromise;const r=this.quantizeInterval(e,n);if(this.checkAndUpdateLastInterval(r)){const i=this.genome.continuousToDiscreteChromosomeIntervals(r),o=await Promise.all(i.map(s=>this.bam.getRecordsForRange(this.chrPrefixFixer(s.chrom),s.startPos,s.endPos).then(a=>a.map(c=>({chrom:s.chrom,start:c.get("start"),end:c.get("end"),name:c.get("name"),MD:c.get("MD"),cigar:c.get("cigar"),mapq:c.get("mq"),strand:c.get("strand")===1?"+":"-"})))));this.publishData(o.flat())}}}function YT(t,e){if(uk(t))return new ck(t,e);if(lk(t))return new hk(t,e);if(fk(t))return new dk(t,e);if(WT(t))return nz(t.lazy,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function WT(t){return"lazy"in t}function XT(t){return(t==null?void 0:t.type)=="axisTicks"}function KT(t){return(t==null?void 0:t.type)=="axisGenome"}function JT(t){return(t==null?void 0:t.type)=="indexedFasta"}function $T(t){return(t==null?void 0:t.type)=="bigwig"}function tz(t){return(t==null?void 0:t.type)=="bigbed"}function ez(t){return(t==null?void 0:t.type)=="bam"}function nz(t,e){if(XT(t))return new gk(t,e);if(KT(t))return new mk(t,e);if(JT(t))return new wI(t,e);if($T(t))return new nT(t,e);if(tz(t))return new AT(t,e);if(ez(t))return new ZT(t,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function rz(t){const e=Object.keys(t).filter(r=>typeof r=="string"),n=new Function("source","return { "+e.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=e,n}class Vc extends Ot{get behavior(){return Rn}constructor(){super();const e=n=>{const r=rz(n);this.handle=i=>this._propagate(r(i)),this.handle(n)};this.handle=e,this.beginBatch=n=>{fb(n)&&(this.handle=e),super.beginBatch(n)}}}function iz(t){return"name"in t}var qc;class jw extends Xs{constructor(e,n,r){super(),ae(this,qc,void 0),this.provider=r,this.params=e}get identifier(){return this.params.name}updateDynamicData(e){Go(this,qc,e),this.loadSynchronously()}loadSynchronously(){const e=xt(this,qc)??this.provider(this.params.name)??[];let n=r=>r;if(Array.isArray(e))e.length>0&&(n=r2(e[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const r of e)this._propagate(n(r));this.complete()}async load(){this.loadSynchronously()}}qc=new WeakMap;class Vw{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(e,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(e)}_relayObserverCallback(e,n){const r=this._observers.get(n);if(r)for(const i of r)i(e)}addDataSource(e,n){this._dataSourcesByHost.set(n,e)}findDataSourceByKey(e){return this._dataSourcesByHost.get(e)}findNamedDataSource(e){let n,r=[];for(const[i,o]of this._dataSourcesByHost.entries())if(o instanceof jw&&e==o.identifier){if(n&&n!==o)throw new Error(`Found multiple instances of named data: ${e}. Data flow optimization is broken (it's a bug).`);n=o,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(e,n){this._collectorsByHost.set(n,e),e.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(e){return this._collectorsByHost.get(e)}initialize(){for(const e of this.dataSources)e.visit(n=>n.initialize())}}function oz(t,e){const n=[];let r;const i=e??new Vw,o=[];function s(l,h=()=>{}){if(!r)throw h()||new Error("Cannot append data flow node, no parent exist!");return r.addChild(l),r=l,l}function a(l,h){return s(l,()=>new Error(`Cannot append a transform because no (inherited) data are available! ${h?JSON.stringify(h):""}`))}function c(l,h){for(const f of l){let d;try{d=rk(f,h)}catch(g){throw console.warn(g),new Error(`Cannot initialize "${f.type}" transform: ${g}`)}d.behavior&gr&&a(new Vc),a(d)}}const u=l=>{if(n.push(r),l.spec.data){const h=iz(l.spec.data)?new jw(l.spec.data,l,l.context.getNamedDataFromProvider):YT(l.spec.data,l);r=h,i.addDataSource(h,l)}if(l.spec.transform&&c(l.spec.transform,l),l instanceof oe){if(!r)throw new Error("A unit view has no (inherited) data source");const h=sz(l);if(h){o.push(h.rewrite);for(const d of h.transforms)a(d)}l.mark.isPickingParticipant()&&(a(new Vc),a(new e2({type:"identifier"})));const f=new Xb({type:"collect",groupby:l.getFacetFields(),sort:az(l,h==null?void 0:h.rewrittenEncoding)});s(f),i.addCollector(f,l)}Wb(l.spec)};return u.postOrder=l=>{r=n.pop()},t.visit(u),o.forEach(l=>l()),i}function sz(t){var e;const n=[],r={},i=[];for(const[s,a]of Object.entries(t.getEncoding())){const c=s;Ps(c)&&P1(a)&&i.push({channel:c,chromPosDef:a})}const o=ja(i,s=>qi(s.channel),s=>s.chromPosDef.chrom);for(const[s,a]of o.entries())for(const[c,u]of a.entries()){const l=[],h=[],f=[];for(const{channel:d,chromPosDef:g}of u){const b=B=>B.replace(/[^A-Za-z0-9_]/g,""),w=["_linearized_",b(g.chrom),"_",b(g.pos)].join(""),A={...((e=t.spec.encoding)==null?void 0:e[d])??t.getEncoding()[d]??{},field:w};delete A.chrom,delete A.pos,!A.type&&g.type&&(A.type=g.type),r[d]=A,l.push(g.pos),f.push(g.offset??0),h.push(w)}n.push(new Vc),n.push(new Kb({type:"linearizeGenomicCoordinate",channel:s,chrom:c,pos:l,offset:f,as:h},t))}return n.length?{transforms:n,rewrittenEncoding:r,rewrite:()=>{t.spec.encoding={...t.spec.encoding,...r},ob(t.mark,"encoding")}}:void 0}function az(t,e){var n;const r={...t.getEncoding(),...e}.x;if(Te(r)&&(n=t.getScaleResolution("x"))!=null&&n.isZoomable()){if(Ds(r))return{field:r.field};if(!Is(r))throw new Error("A zoomable x channel must be mapped to a field.")}}function qw(t,e=void 0){if(t.parent!==e)return!1;for(const n of t.children)if(!qw(n,t))return!1;return!0}function p0(t,e=!1){if(t.behavior&Af&&(e=!0),t instanceof Vc)if(e)e=!1;else{const n=t.children[0];t.excise(),n&&p0(n,e);return}t.behavior&Rn&&(e=!1);for(let n=0,r=t.children.length;n<r;n++)p0(t.children[n],e||r>1)}function uz(t){const e=[...t._dataSourcesByHost.entries()],n=new Map;for(const r of e){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}t._dataSourcesByHost.clear();for(let[r,i]of e){const o=n.get(i.identifier);o&&(o.adoptChildrenOf(i),i=o),t.addDataSource(i,r)}}function cz(t){if(p0(t),!qw(t))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function lz(t){for(const e of t.dataSources)cz(e);uz(t)}function hz(t){t.visit(n=>{n instanceof oe&&n.resolve("scale")});const e=new Set;t.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&e.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);e.add(i)}}),t.visit(n=>{n instanceof oe&&n.resolve("axis")}),t.visit(n=>n.onScalesResolved())}function fz(t){for(const e of Fs){const n=t.getScaleResolution(e);n&&!n.name&&n.isZoomable()&&(n.name=`${e}_at_root`)}}async function dz(t,e,n){var r;if(!t.import.url)throw new Error("Cannot import, not an import spec: "+JSON.stringify(t));const i=nu({baseURL:e}),o=t.import.url,s=JSON.parse(await i.load(o).catch(a=>{throw new Error(`Could not load imported view spec: ${o} 
Reason: ${a.message}`)}));if(n.isViewSpec(s))return s.baseUrl=(r=o.match(/^[^?#]*\//))==null?void 0:r[0],s;throw new Error(`The imported spec "${o}" is not a view spec: ${JSON.stringify(t)}`)}async function Qw(t){const e=[];t.visit(n=>{if(n instanceof Nb)return e.push(n),bb});for(const n of e){const r=n.context,i=await dz(n.spec,n.getBaseUrl(),r),o=r.createView(i,n.parent,n.name);n.parent.replaceChild(n,o),await Qw(o)}}class Zw{constructor(e){this.globalOptions=e}pushView(e,n){}popView(e){}renderMark(e,n){}}class Yw extends Zw{constructor(e,n){super(e),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(e,n){this.views.add(e),this.coords=n}renderMark(e,n){if(this.globalOptions.picking&&!e.isPickingParticipant())return;const r=e.render(n);r&&this.buffer.push({mark:e,callback:r,coords:this.coords,clipRect:n.clipRect})}renderDeferred(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const e=this.webGLHelper.gl,n=this.globalOptions.picking;e.bindFramebuffer(e.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&e.bindFramebuffer(e.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let e=!0,n=!0;const r=s=>()=>{e&&s()},i=s=>()=>{e&&n&&s()},o=ja(this.buffer,s=>s.mark);for(const[s,a]of o.entries()){if(!s.isReady())continue;this.batch.push(()=>{e=s.unitView.getEffectiveOpacity()>0}),this.batch.push(...s.prepareRender(this.globalOptions).map(u=>r(u)));let c;for(const u of a){const l=u.coords;l.equals(c)||this.batch.push(r(()=>{n=s.setViewport(l,u.clipRect)})),this.batch.push(i(u.callback)),c=u.coords}}}}class pz extends Zw{constructor(...e){super({}),this.contexts=e}pushView(e,n){for(const r of this.contexts)r.pushView(e,n)}popView(e){for(const n of this.contexts)n.popView(e)}renderMark(e,n){for(const r of this.contexts)r.renderMark(e,n)}}class gz{constructor(e,n){this.point=e,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class mz{constructor(e,n){this.x=e,this.y=n}equals(e){return e?e===this||e.x===this.x&&e.y===this.y:!1}}const bz=t=>new Promise(e=>setTimeout(e,t));function yz(t){const e=t.requestAnimationFrame||window.requestAnimationFrame,n=t.signal,r=()=>new Promise((i,o)=>{if(n!=null&&n.aborted)return o("aborted");const s=performance.now(),a=s+(t.duration||1e3),c=typeof t.from=="number"?t.from:0,u=typeof t.to=="number"?t.to:1,l=t.easingFunction||(b=>b),h=b=>(b-s)/(a-s),f=b=>b*(u-c)+c,d=b=>Math.max(0,Math.min(1,b)),g=b=>{n!=null&&n.aborted?o("aborted"):(t.onUpdate(f(l(d(h(b))))),b<a?e(g):(t.onUpdate(f(l(1))),i()))};e(g)});return t.delay?n!=null&&n.aborted?Promise.reject("aborted"):bz(t.delay).then(r):r()}class vz{constructor(e){this._renderCallback=e,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(e){this.cancelTransition(e),this.transitions.push(e),this.requestRender()}cancelTransition(e){const n=this.transitions.indexOf(e);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(e=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(e);this._renderCallback(e)}))}transition(e){return yz({requestAnimationFrame:n=>this.requestTransition(n),...e})}}function Ww(){const t=e=>e;return t.invert=e=>e,t.copy=Ww,t.invertRange=()=>{},t}class wz{constructor(e){this.genomes=new Map,this.genomeSpy=e}async initialize(e){const n=new ZB(e);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.genomeSpy.spec.baseUrl)))}getGenome(e){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(e){const n=this.genomes.get(e);if(!n)throw new Error(`No genome with the name ${e} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const Az="data:image/png;base64,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",xz={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class Ez{constructor(e){this._webGLHelper=e,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new _r([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:bf(Jb),texture:this._createTextureNow(Az)}}async waitUntilReady(){await Promise.all(this._promises)}getFont(e,n="normal",r="regular"){if(It(r)&&(r=xz[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:e,style:n,weight:r};let o=this._fonts.get(i);return o||(o={metrics:void 0,texture:void 0},this._fonts.set(i,o),this._promises.push(this._loadFontEntry(o,i))),o}async _loadFontEntry(e,n){try{const r=await this._loadMetadata(n.family),i=Sz(r,n),o=this.fontRepository+Xw(n.family)+"/"+i.replace(/\.\w+/,""),s=this._createTexture(o+".png"),a=this._loadFont(o+".json");e.texture=await s,e.metrics=await a}catch(r){console.log("Cannot load font. Using default.",r),e.metrics=this._defaultFontEntry.metrics,e.texture=this._defaultFontEntry.texture}}_loadFont(e){let n=this._fontPromises.get(e);return n||(n=fetch(e).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>bf(r)),this._fontPromises.set(e,n)),n}_loadMetadata(e){const n=Xw(e);let r=this._metadataPromises.get(n);return r||(r=fetch(this.fontRepository+n+"/METADATA.pb").then(i=>{if(!i.ok)throw new Error("Could not load font metadata: "+i.status);return i}).then(i=>i.text()).then(i=>Cz(i)).catch(i=>{console.warn(i)}),this._metadataPromises.set(n,r)),r}getDefaultFont(){return this._defaultFontEntry}_createTexture(e){const n=this._webGLHelper.gl;return new Promise((r,i)=>{Os(n,{src:e,min:n.LINEAR},(o,s,a)=>{o?i(o):r(s)})})}_createTextureNow(e){const n=this._webGLHelper.gl;let r;const i=new Promise((o,s)=>{r=Os(n,{src:e,min:n.LINEAR},(a,c,u)=>{a?s(a):o(c)})});return this._promises.push(i),r}}function Xw(t){return t.toLowerCase().replaceAll(/[^\w]/g,"")}function Cz(t){const e=t.split(`
`),n=[];let r;for(const i of e)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let o=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(o){const s=o[1];r[s]=o[2]}if(o=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),o){const s=o[1];r[s]=+o[2]}}return n}function Sz(t,e){let n,r=Number.POSITIVE_INFINITY;for(const i of t)if(e.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&e.style==i.style){const o=Math.abs(e.weight-i.weight);o<r&&(r=o,n=i)}return n==null?void 0:n.filename}function Bz(t,e){const n=[];let r;for(const i of t.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class kz{constructor(e,n){this.animator=e,this.disabled=!!n,this.damping=.015,this.acceleration=.3,this.accelerationThreshold=100,this.lowerLimit=.5,this.loop=!1,this.momentum=0,this.timestamp=0,this.callback=null,this._transitionCallback=this.animate.bind(this),this.clear()}clear(){this.momentum=0,this.timestamp=null,this.loop=null,this.callback=null}cancel(){this.loop&&(this.animator.cancelTransition(this._transitionCallback),this.clear())}setMomentum(e,n){if(this.disabled){n(e);return}e*this.momentum<0?this.momentum=0:Math.abs(e)>this.accelerationThreshold?this.momentum=sA([this.momentum,e],this.acceleration):this.momentum=e,this.callback=n,this.loop||this.animate()}animate(e){this.callback(this.momentum);const n=e-this.timestamp||0;this.timestamp=e;const r=Math.abs(this.momentum);this.momentum=Math.sign(this.momentum)*Math.max(0,r-((r*this.damping)**1.5+.04)*n),Math.abs(this.momentum)>this.lowerLimit?(this.loop=!0,this.animator.requestTransition(this._transitionCallback)):this.clear()}}function Dz(t){const e={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in t){const o=i;!r.includes(i)&&n.includes(typeof t[o])&&(e[o]=t[o])}return e}const Kw=new Map;async function Iz(t,e,n){const r=t.symbol;let i=Kw.get(r)??await Tz(t.symbol);return i?(Kw.set(r,i),nr`<div class="title"><strong>${i.name}</strong> ${i.description}</div><p class="summary">${i.summary}</p><p class="source">Source: NCBI RefSeq Gene</p>`):null}async function Fz(t){console.log("Searching: "+t);const e={mode:"cors"},n=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${t}[GENE]&sort=relevance&retmode=json`,e).then(r=>r.json())).esearchresult.idlist[0];return n?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${n}&retmode=json`,e).then(r=>r.json())).result[n]:null}const Pz=n0(Fz,500);function Tz(t){return Pz(t)}const zz=Xt(".4~r"),Mz=Xt(".4~e");function _z(t){return t===null?nr`<span class="na">NA</span>`:It(t)?t.substring(0,30):Number.isInteger(t)?""+t:pe(t)?Math.abs(t)>Math.pow(10,8)||Math.abs(t)<Math.pow(10,-8)?Mz(t):zz(t):Na(t)?t?"True":"False":"?"+typeof t+" "+t}async function Rz(t,e,n){const r=(c,u)=>{var l;for(const[h,f]of Object.entries(e.encoders))if((l=f==null?void 0:f.accessor)!=null&&l.fields.includes(c))switch(h){case"color":case"fill":case"stroke":return nr`<span class="color-legend" style="${`background-color: ${f(u)}`}"></span>`}return""},i=Object.entries(t).filter(([c,u])=>!c.startsWith("_"));if(i.length===0)return;const o=nr`<table class="attributes">${i.map(([c,u])=>nr`<tr><th>${c}</th><td>${_z(u)} ${r(c,t)}</td></tr>`)}</table>`,s=e.unitView.getTitleText(),a=s?nr`<div class="title"><strong>${s}</strong></div>`:"";return nr`${a}${o}`}class Oz extends Yb{constructor(e,n){super({vconcat:[]},e,void 0,"implicitRoot",1),n.parent=this,this.appendChild(n)}}ct("index",Ll,["continuous"]),ct("locus",L5,["continuous"]),ct("null",Ww,[]),Op("fasta",Bz);class Nz{constructor(e,n,r={}){this.container=e,this.spec=n,this.accessorFactory=new S8,this.viewFactory=new B7,this.namedDataProviders=[],this.animator=new vz(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=i=>i.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new kz(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:Rz,refseqgene:Iz,...r.tooltipHandlers??{}},this.viewRoot=void 0}registerNamedDataProvider(e){this.namedDataProviders.unshift(e)}getNamedDataFromProvider(e){for(const n of this.namedDataProviders){const r=n(e);if(r)return r}}updateNamedData(e,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(e);if(!r)throw new Error("No such named data source: "+e);r.dataSource.updateDynamicData(n);for(const i of r.hosts)i.visit(o=>{for(const s of Object.values(o.resolutions.scale))s.reconfigure()});this.animator.requestRender()}broadcast(e,n){var r;const i={type:e,payload:n};this.viewRoot.visit(o=>o.handleBroadcast(i)),(r=this._extraBroadcastListeners.get(e))==null||r.forEach(o=>o(i))}_prepareContainer(){this.container.classList.add("genome-spy"),this.container.classList.add("loading"),this._glHelper=new HS(this.container,()=>{if(this.viewRoot){const e=this.viewRoot.getSize().addPadding(this.viewRoot.getOverhang()),n=r=>r.grow>0?void 0:r.px;return{width:n(e.width),height:n(e.height)}}}),this.loadingMessageElement=document.createElement("div"),this.loadingMessageElement.className="loading-message",this.loadingMessageElement.innerHTML='<div class="message">Loading<span class="ellipsis">...</span></div>',this.container.appendChild(this.loadingMessageElement),this.tooltip=new i4(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})}destroy(){this.container.classList.remove("genome-spy"),this.container.classList.remove("loading");for(const[e,n]of this._keyboardListeners)for(const r of n)document.removeEventListener(e,r);for(this._glHelper.finalize();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new wz(this),await this.genomeStore.initialize(this.spec.genome));const e=this,n={dataFlow:new Vw,accessorFactory:this.accessorFactory,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new Ez(this._glHelper),requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,addKeyboardListener:(a,c)=>{document.addEventListener(a,c);let u=this._keyboardListeners.get(a);u||(u=[],this._keyboardListeners.set(a,u)),u.push(c)},addBroadcastListener(a,c){const u=e._extraBroadcastListeners;let l=u.get(a);l||(l=new Set,u.set(a,l)),l.add(c)},removeBroadcastListener(a,c){var u;(u=e._extraBroadcastListeners.get(a))==null||u.delete(c)},isViewConfiguredVisible:e.viewVisibilityPredicate,isViewSpec:a=>e.viewFactory.isViewSpec(a),createView:function(a,c,u){return e.viewFactory.createView(a,n,c,u)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(a=>r.datasets[a]),this.viewRoot=n.createView(r,null,"viewRoot"),await Qw(this.viewRoot),(this.viewRoot instanceof oe||this.viewRoot instanceof mr)&&(this.viewRoot=new Oz(n,this.viewRoot)),hz(this.viewRoot),fz(this.viewRoot),this._glHelper.invalidateSize();const i=[];this.viewRoot.visit(a=>{a instanceof oe&&i.push(a)});const o=oz(this.viewRoot,n.dataFlow);lz(o),this.broadcast("dataFlowBuilt",o),o.dataSources.forEach(a=>console.log(a.subtreeToString())),i.forEach(a=>a.mark.initializeEncoders());const s=Promise.all(i.map(a=>a.mark.initializeGraphics()));for(const a of i)o.addObserver(c=>{a.mark.initializeData(),a.mark.updateGraphicsData()},a);await n.fontManager.waitUntilReady(),o.initialize(),await Promise.all(o.dataSources.map(a=>a.load())),this.viewRoot.visit(a=>{for(const c of Object.values(a.resolutions.scale))c.reconfigure()}),this.broadcast("dataLoaded"),await s,this.viewRoot.visit(a=>{for(const c of Object.values(a.resolutions.scale))this._glHelper.createRangeTexture(c)});for(const a of i)a.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(a=>Xu(a,"size")),this._glHelper.invalidateSize()}async launch(){try{return this._prepareContainer(),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),this._glHelper.addEventListener("resize",()=>{this.computeLayout(),this.renderAll()}),!0}catch(e){const n=`${e.view?`At "${e.view.getPathString()}": `:""}${e.toString()}`;return console.error(e.stack),Lz(this.container,n),!1}finally{this.container.classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const e=this._glHelper.canvas,n=r=>{var i;if(r instanceof MouseEvent){r.type=="mousemove"&&(this.tooltip.handleMouseMove(r),this._tooltipUpdateRequested=!1,r.buttons==0&&this.renderPickingFramebuffer());const o=e.getBoundingClientRect(),s=new mz(r.clientX-o.left-e.clientLeft,r.clientY-o.top-e.clientTop),a=c=>{this.viewRoot.propagateInteractionEvent(new gz(s,c)),this._tooltipUpdateRequested||this.tooltip.clear()};if(r.type!="wheel"&&this._wheelInertia.cancel(),r.type=="mousemove")this._handlePicking(s.x,s.y);else if(r.type=="mousedown"||r.type=="mouseup")this.renderPickingFramebuffer();else if(r.type=="wheel"){this._tooltipUpdateRequested=!1;const c=r;if(Math.abs(c.deltaX)>Math.abs(c.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const u=Dz(c);this._wheelInertia.setMomentum(c.deltaY*(c.deltaMode?80:1),l=>{const h=new WheelEvent("wheel",{...u,deltaMode:0,deltaX:0,deltaY:l});a(h)}),c.preventDefault();return}}if(r.type=="click"){const c=this._currentHover?{type:r.type,viewPath:this._currentHover.mark.unitView.getAncestors().map(u=>u.name).reverse(),datum:this._currentHover.datum}:{type:r.type,viewPath:null,datum:null};(i=this._eventListeners.get("click"))==null||i.forEach(u=>u(c))}a(r)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(r=>e.addEventListener(r,n)),e.addEventListener("mousedown",()=>{document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),e.addEventListener("dragstart",r=>r.stopPropagation())}_handlePicking(e,n){var r;const i=this._glHelper.readPickingPixel(e,n),o=i[0]|i[1]<<8|i[2]<<16;if(o==0){this._currentHover=null;return}if(o!==((r=this._currentHover)==null?void 0:r.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(s=>{if(s instanceof oe){if(s.mark.isPickingParticipant()){const a=s.mark.encoders.uniqueId.accessor;s.getCollector().visitData(c=>{a(c)==o&&(this._currentHover={mark:s.mark,datum:c,uniqueId:o})})}if(this._currentHover)return Vs}}),this._currentHover){const s=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async a=>{if(!s.isPickingParticipant())return;const c=s.properties.tooltip;if(c!==null){const u=(c==null?void 0:c.handler)??"default",l=this.tooltipHandlers[u];if(!l)throw new Error("No such tooltip handler: "+u);return l(a,s,c==null?void 0:c.params)}})}}updateTooltip(e,n){if(!this._tooltipUpdateRequested||!e)this.tooltip.updateWithDatum(e,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const e=this.viewRoot;if(!e)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new Yw({picking:!1},this._glHelper),this._pickingContext=new Yw({picking:!0},this._glHelper),e.render(new pz(this._renderingContext,this._pickingContext),ec.create(0,0,n.width,n.height)),this.broadcast("layoutComputed")}renderAll(){var e;(e=this._renderingContext)==null||e.renderDeferred(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.renderDeferred(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const e=[];return this.viewRoot.visit(n=>{n instanceof oe&&n.getAccessor("search")&&e.push(n)}),e}getNamedScaleResolutions(){const e=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&e.set(r.name,r)}),e}}function Lz(t,e){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=e,n.appendChild(r),t.appendChild(n)}async function Uz(t,e,n={}){let r;if(It(t)){if(r=document.querySelector(t),!r)throw new Error(`No such element: ${t}`)}else if(t instanceof HTMLElement)r=t;else throw new Error(`Invalid element: ${t}`);let i;try{const o=je(e)?e:await Hz(e);if(o.baseUrl??(o.baseUrl=""),o.width??(o.width="container"),o.padding??(o.padding=10),r==document.body){const s=document.createElement("div");s.style.position="fixed",s.style.inset="0",s.style.overflow="hidden",r.appendChild(s),r=s}i=new Nz(r,o,n),Gz(i,n),await i.launch()}catch(o){r.innerText=o.toString(),console.error(o)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(o,s){const a=i._eventListeners;let c=a.get(o);c||(c=new Set,a.set(o,c)),c.add(s)},removeEventListener(o,s){var a;(a=i._eventListeners.get(o))==null||a.delete(s)},getScaleResolutionByName(o){return i.getNamedScaleResolutions().get(o)},updateNamedData:i.updateNamedData.bind(i)}}function Gz(t,e){e.namedDataProvider&&t.registerNamedDataProvider(e.namedDataProvider)}async function Hz(t){let e;try{e=JSON.parse(await nu().load(t))}catch(n){throw new Error(`Could not load or parse configuration: ${t}, reason: ${n.message}`)}if(!e.baseUrl){const n=t.match(/^[^?#]*\//);e.baseUrl=n&&n[0]||"./"}return e}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qc=window,g0=Qc.ShadowRoot&&(Qc.ShadyCSS===void 0||Qc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,m0=Symbol(),Jw=new WeakMap;let $w=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==m0)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(g0&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=Jw.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Jw.set(n,e))}return e}toString(){return this.cssText}};const jz=t=>new $w(typeof t=="string"?t:t+"",void 0,m0),Vz=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new $w(n,t,m0)},qz=(t,e)=>{g0?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const r=document.createElement("style"),i=Qc.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},t3=g0?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return jz(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var b0;const Zc=window,e3=Zc.trustedTypes,Qz=e3?e3.emptyScript:"",n3=Zc.reactiveElementPolyfillSupport,y0={toAttribute(t,e){switch(e){case Boolean:t=t?Qz:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},r3=(t,e)=>e!==t&&(e==e||t==t),v0={attribute:!0,type:String,converter:y0,reflect:!1,hasChanged:r3};let Po=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var n;(n=this.h)!==null&&n!==void 0||(this.h=[]),this.h.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,r)=>{const i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=v0){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){const o=this[e];this[n]=i,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||v0}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(t3(i))}else e!==void 0&&n.push(t3(e));return n}static _$Ep(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return qz(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=v0){var i;const o=this.constructor._$Ep(e,r);if(o!==void 0&&r.reflect===!0){const s=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:y0).toAttribute(n,r.type);this._$El=e,s==null?this.removeAttribute(o):this.setAttribute(o,s),this._$El=null}}_$AK(e,n){var r;const i=this.constructor,o=i._$Ev.get(e);if(o!==void 0&&this._$El!==o){const s=i.getPropertyOptions(o),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((r=s.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?s.converter:y0;this._$El=o,this[o]=a.fromAttribute(n,s.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||r3)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,o)=>this[o]=i),this._$Ei=void 0);let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var o;return(o=i.hostUpdate)===null||o===void 0?void 0:o.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Po.finalized=!0,Po.elementProperties=new Map,Po.elementStyles=[],Po.shadowRootOptions={mode:"open"},n3==null||n3({ReactiveElement:Po}),((b0=Zc.reactiveElementVersions)!==null&&b0!==void 0?b0:Zc.reactiveElementVersions=[]).push("1.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var w0;const Yc=window,To=Yc.trustedTypes,i3=To?To.createPolicy("lit-html",{createHTML:t=>t}):void 0,Fr=`lit$${(Math.random()+"").slice(9)}$`,o3="?"+Fr,Zz=`<${o3}>`,zo=document,Ea=(t="")=>zo.createComment(t),Ca=t=>t===null||typeof t!="object"&&typeof t!="function",s3=Array.isArray,Yz=t=>s3(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Sa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a3=/-->/g,u3=/>/g,xi=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),c3=/'/g,l3=/"/g,h3=/^(?:script|style|textarea|title)$/i,Wz=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),f3=Wz(1),Ei=Symbol.for("lit-noChange"),Mt=Symbol.for("lit-nothing"),d3=new WeakMap,Mo=zo.createTreeWalker(zo,129,null,!1),Xz=(t,e)=>{const n=t.length-1,r=[];let i,o=e===2?"<svg>":"",s=Sa;for(let c=0;c<n;c++){const u=t[c];let l,h,f=-1,d=0;for(;d<u.length&&(s.lastIndex=d,h=s.exec(u),h!==null);)d=s.lastIndex,s===Sa?h[1]==="!--"?s=a3:h[1]!==void 0?s=u3:h[2]!==void 0?(h3.test(h[2])&&(i=RegExp("</"+h[2],"g")),s=xi):h[3]!==void 0&&(s=xi):s===xi?h[0]===">"?(s=i??Sa,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,l=h[1],s=h[3]===void 0?xi:h[3]==='"'?l3:c3):s===l3||s===c3?s=xi:s===a3||s===u3?s=Sa:(s=xi,i=void 0);const g=s===xi&&t[c+1].startsWith("/>")?" ":"";o+=s===Sa?u+Zz:f>=0?(r.push(l),u.slice(0,f)+"$lit$"+u.slice(f)+Fr+g):u+Fr+(f===-2?(r.push(void 0),c):g)}const a=o+(t[n]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[i3!==void 0?i3.createHTML(a):a,r]};class Ba{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,s=0;const a=e.length-1,c=this.parts,[u,l]=Xz(e,n);if(this.el=Ba.createElement(u,r),Mo.currentNode=this.el.content,n===2){const h=this.el.content,f=h.firstChild;f.remove(),h.append(...f.childNodes)}for(;(i=Mo.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const h=[];for(const f of i.getAttributeNames())if(f.endsWith("$lit$")||f.startsWith(Fr)){const d=l[s++];if(h.push(f),d!==void 0){const g=i.getAttribute(d.toLowerCase()+"$lit$").split(Fr),b=/([.?@])?(.*)/.exec(d);c.push({type:1,index:o,name:b[2],strings:g,ctor:b[1]==="."?Jz:b[1]==="?"?tM:b[1]==="@"?eM:Wc})}else c.push({type:6,index:o})}for(const f of h)i.removeAttribute(f)}if(h3.test(i.tagName)){const h=i.textContent.split(Fr),f=h.length-1;if(f>0){i.textContent=To?To.emptyScript:"";for(let d=0;d<f;d++)i.append(h[d],Ea()),Mo.nextNode(),c.push({type:2,index:++o});i.append(h[f],Ea())}}}else if(i.nodeType===8)if(i.data===o3)c.push({type:2,index:o});else{let h=-1;for(;(h=i.data.indexOf(Fr,h+1))!==-1;)c.push({type:7,index:o}),h+=Fr.length-1}o++}}static createElement(e,n){const r=zo.createElement("template");return r.innerHTML=e,r}}function _o(t,e,n=t,r){var i,o,s,a;if(e===Ei)return e;let c=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const u=Ca(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==u&&((o=c==null?void 0:c._$AO)===null||o===void 0||o.call(c,!1),u===void 0?c=void 0:(c=new u(t),c._$AT(t,n,r)),r!==void 0?((s=(a=n)._$Co)!==null&&s!==void 0?s:a._$Co=[])[r]=c:n._$Cl=c),c!==void 0&&(e=_o(t,c._$AS(t,e.values),c,r)),e}class Kz{constructor(e,n){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var n;const{el:{content:r},parts:i}=this._$AD,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:zo).importNode(r,!0);Mo.currentNode=o;let s=Mo.nextNode(),a=0,c=0,u=i[0];for(;u!==void 0;){if(a===u.index){let l;u.type===2?l=new ka(s,s.nextSibling,this,e):u.type===1?l=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(l=new nM(s,this,e)),this.u.push(l),u=i[++c]}a!==(u==null?void 0:u.index)&&(s=Mo.nextNode(),a++)}return o}p(e){let n=0;for(const r of this.u)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class ka{constructor(e,n,r,i){var o;this.type=2,this._$AH=Mt,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=(o=i==null?void 0:i.isConnected)===null||o===void 0||o}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=_o(this,e,n),Ca(e)?e===Mt||e==null||e===""?(this._$AH!==Mt&&this._$AR(),this._$AH=Mt):e!==this._$AH&&e!==Ei&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Yz(e)?this.k(e):this.g(e)}O(e,n=this._$AB){return this._$AA.parentNode.insertBefore(e,n)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==Mt&&Ca(this._$AH)?this._$AA.nextSibling.data=e:this.T(zo.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Ba.createElement(i.h,this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===o)this._$AH.p(r);else{const s=new Kz(o,this),a=s.v(this.options);s.p(r),this.T(a),this._$AH=s}}_$AC(e){let n=d3.get(e.strings);return n===void 0&&d3.set(e.strings,n=new Ba(e)),n}k(e){s3(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const o of e)i===n.length?n.push(r=new ka(this.O(Ea()),this.O(Ea()),this,this.options)):r=n[i],r._$AI(o),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class Wc{constructor(e,n,r,i,o){this.type=1,this._$AH=Mt,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Mt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const o=this.strings;let s=!1;if(o===void 0)e=_o(this,e,n,0),s=!Ca(e)||e!==this._$AH&&e!==Ei,s&&(this._$AH=e);else{const a=e;let c,u;for(e=o[0],c=0;c<o.length-1;c++)u=_o(this,a[r+c],n,c),u===Ei&&(u=this._$AH[c]),s||(s=!Ca(u)||u!==this._$AH[c]),u===Mt?e=Mt:e!==Mt&&(e+=(u??"")+o[c+1]),this._$AH[c]=u}s&&!i&&this.j(e)}j(e){e===Mt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Jz extends Wc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Mt?void 0:e}}const $z=To?To.emptyScript:"";class tM extends Wc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Mt?this.element.setAttribute(this.name,$z):this.element.removeAttribute(this.name)}}class eM extends Wc{constructor(e,n,r,i,o){super(e,n,r,i,o),this.type=5}_$AI(e,n=this){var r;if((e=(r=_o(this,e,n,0))!==null&&r!==void 0?r:Mt)===Ei)return;const i=this._$AH,o=e===Mt&&i!==Mt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==Mt&&(i===Mt||o);o&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class nM{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){_o(this,e)}}const p3=Yc.litHtmlPolyfillSupport;p3==null||p3(Ba,ka),((w0=Yc.litHtmlVersions)!==null&&w0!==void 0?w0:Yc.litHtmlVersions=[]).push("2.4.0");const rM=(t,e,n)=>{var r,i;const o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let s=o._$litPart$;if(s===void 0){const a=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=s=new ka(e.insertBefore(Ea(),a),a,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var A0,x0;let Da=class extends Po{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,n;const r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=rM(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return Ei}};Da.finalized=!0,Da._$litElement$=!0,(A0=globalThis.litElementHydrateSupport)===null||A0===void 0||A0.call(globalThis,{LitElement:Da});const g3=globalThis.litElementPolyfillSupport;g3==null||g3({LitElement:Da}),((x0=globalThis.litElementVersions)!==null&&x0!==void 0?x0:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const m3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},b3=t=>(...e)=>({_$litDirective$:t,values:e});let y3=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const v3=b3(class extends y3{constructor(t){var e;if(super(t),t.type!==m3.ATTRIBUTE||t.name!=="style"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r==null?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:n}=t.element;if(this.vt===void 0){this.vt=new Set;for(const r in e)this.vt.add(r);return this.render(e)}this.vt.forEach(r=>{e[r]==null&&(this.vt.delete(r),r.includes("-")?n.removeProperty(r):n[r]="")});for(const r in e){const i=e[r];i!=null&&(this.vt.add(r),r.includes("-")?n.setProperty(r,i):n[r]=i)}return Ei}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iM=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ia=(t,e)=>{var n,r;const i=t._$AN;if(i===void 0)return!1;for(const o of i)(r=(n=o)._$AO)===null||r===void 0||r.call(n,e,!1),Ia(o,e);return!0},Xc=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},w3=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),aM(e)}};function oM(t){this._$AN!==void 0?(Xc(this),this._$AM=t,w3(this)):this._$AM=t}function sM(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let o=n;o<r.length;o++)Ia(r[o],!1),Xc(r[o]);else r!=null&&(Ia(r,!1),Xc(r));else Ia(this,t)}const aM=t=>{var e,n,r,i;t.type==m3.CHILD&&((e=(r=t)._$AP)!==null&&e!==void 0||(r._$AP=sM),(n=(i=t)._$AQ)!==null&&n!==void 0||(i._$AQ=oM))};class uM extends y3{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),w3(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)===null||r===void 0||r.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),n&&(Ia(this,e),Xc(this))}setValue(e){if(iM(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cM=()=>new lM;class lM{}const E0=new WeakMap,hM=b3(class extends uM{render(t){return Mt}update(t,[e]){var n;const r=e!==this.Y;return r&&this.Y!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.Y=e,this.dt=(n=t.options)===null||n===void 0?void 0:n.host,this.rt(this.ct=t.element)),Mt}rt(t){var e;if(typeof this.Y=="function"){const n=(e=this.dt)!==null&&e!==void 0?e:globalThis;let r=E0.get(n);r===void 0&&(r=new WeakMap,E0.set(n,r)),r.get(this.Y)!==void 0&&this.Y.call(this.dt,void 0),r.set(this.Y,t),t!==void 0&&this.Y.call(this.dt,t)}else this.Y.value=t}get lt(){var t,e,n;return typeof this.Y=="function"?(e=E0.get((t=this.dt)!==null&&t!==void 0?t:globalThis))===null||e===void 0?void 0:e.get(this.Y):(n=this.Y)===null||n===void 0?void 0:n.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),zM="";function A3(){const t=document.querySelector("meta[name='base_url']").getAttribute("content");return t||console.error('No <meta name="base_url" ...> found!'),t}async function fM(t,e){const r=`${A3()}/data/`;try{e.baseUrl=e.baseUrl||r,await Uz(t,e,{bare:!0})}catch(i){const o=document.createElement("pre");o.innerText=i.toString(),t.appendChild(o)}}class x3 extends Da{static get styles(){return Vz`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=cM()}render(){return f3`
            <link rel="stylesheet" href=${A3()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${v3({height:this.height+"px"})}
                ${hM(this.embedRef)}
            ></div>
            ${this.specHidden?f3`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${e=>{this.specHidden=!1,e.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:Mt}

            <div
                class="embed-spec"
                style=${v3({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const e=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(e){const r=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){const s=o.target;fM(s,JSON.parse(e)),r.unobserve(s)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",x3),ki.GenomeSpyDocEmbed=x3,Object.defineProperty(ki,Symbol.toStringTag,{value:"Module"})});
