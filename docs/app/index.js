var oG=Object.defineProperty;var aG=(_e,de,Je)=>de in _e?oG(_e,de,{enumerable:!0,configurable:!0,writable:!0,value:Je}):_e[de]=Je;var on=(_e,de,Je)=>(aG(_e,typeof de!="symbol"?de+"":de,Je),Je),xm=(_e,de,Je)=>{if(!de.has(_e))throw TypeError("Cannot "+Je)};var ie=(_e,de,Je)=>(xm(_e,de,"read from private field"),Je?Je.call(_e):de.get(_e)),be=(_e,de,Je)=>{if(de.has(_e))throw TypeError("Cannot add the same private member more than once");de instanceof WeakSet?de.add(_e):de.set(_e,Je)},wr=(_e,de,Je,Mi)=>(xm(_e,de,"write to private field"),Mi?Mi.call(_e,Je):de.set(_e,Je),Je);var AS=(_e,de,Je,Mi)=>({set _(dh){wr(_e,de,dh,Je)},get _(){return ie(_e,de,Mi)}}),ue=(_e,de,Je)=>(xm(_e,de,"access private method"),Je);(function(_e,de){typeof exports=="object"&&typeof module<"u"?de(exports):typeof define=="function"&&define.amd?define(["exports"],de):(_e=typeof globalThis<"u"?globalThis:_e||self,de(_e.genomeSpyDocEmbed={}))})(this,function(_e){var pu,vm,ta,gu,mu,th,SS,bu,Am,Nr,na,vt,dr,Ri,nh,CS,ra,ch,Lr,Ls,yu,Em,rh,TS,mm,fG,wu,_m,xu,ia,sa,sn,Ps,oa,Or,Os,ih,FS,sh,IS,Ns,Su,vu,Sm,Au,Cm,Eu,Tm,oh,DS,aa,hh,ah,BS;"use strict";function de(t,e,n){return t.fields=e||[],t.fname=n,t}function Je(t){return t==null?null:t.fname}function Mi(t){return t==null?null:t.fields}function dh(t){return t.length===1?kS(t[0]):RS(t)}const kS=t=>function(e){return e[t]},RS=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function Xe(t){throw Error(t)}function MS(t){const e=[],n=t.length;let r=null,i=0,s="",o,a,u;t=t+"";function f(){e.push(s+t.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(u=t[a],u==="\\")s+=t.substring(o,a),s+=t.substring(++a,++a),o=a;else if(u===r)f(),r=null,i=-1;else{if(r)continue;o===i&&u==='"'||o===i&&u==="'"?(o=a+1,r=u):u==="."&&!i?a>o?f():o=a+1:u==="["?(a>o&&f(),i=o=a+1):u==="]"&&(i||Xe("Access path missing open bracket: "+t),i>0&&f(),i=0,o=a+1)}return i&&Xe("Access path missing closing bracket: "+t),r&&Xe("Access path missing closing quote: "+t),a>o&&(a++,f()),e}function Cu(t,e,n){const r=MS(t);return t=r.length===1?r[0]:t,de((n&&n.get||dh)(r),[t],e||t)}Cu("id");const Tu=de(t=>t,[],"identity");de(()=>0,[],"zero"),de(()=>1,[],"one"),de(()=>!0,[],"true"),de(()=>!1,[],"false");var Xt=Array.isArray;function Fn(t){return t===Object(t)}function In(t){return t[t.length-1]}function fa(t){return t==null||t===""?null:+t}const Fm=t=>e=>t*Math.exp(e),Im=t=>e=>Math.log(t*e),PS=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),NS=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,Fu=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function ph(t,e,n,r){const i=n(t[0]),s=n(In(t)),o=(s-i)*e;return[r(i-o),r(s-o)]}function LS(t,e){return ph(t,e,fa,Tu)}function OS(t,e){var n=Math.sign(t[0]);return ph(t,e,Im(n),Fm(n))}function zS(t,e,n){return ph(t,e,Fu(n),Fu(1/n))}function Iu(t,e,n,r,i){const s=r(t[0]),o=r(In(t)),a=e!=null?r(e):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function Dm(t,e,n){return Iu(t,e,n,fa,Tu)}function Bm(t,e,n){const r=Math.sign(t[0]);return Iu(t,e,n,Im(r),Fm(r))}function gh(t,e,n,r){return Iu(t,e,n,Fu(r),Fu(1/r))}function US(t,e,n,r){return Iu(t,e,n,PS(r),NS(r))}function mh(t){return t!=null?Xt(t)?t:[t]:[]}function GS(t,e,n){let r=t[0],i=t[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-e?[e,n]:[r=Math.min(Math.max(r,e),n-s),r+s]}function Pt(t){return typeof t=="function"}const HS="descending";function km(t,e,n){n=n||{},e=mh(e)||[];const r=[],i=[],s={},o=n.comparator||$S;return mh(t).forEach((a,u)=>{a!=null&&(r.push(e[u]===HS?-1:1),i.push(a=Pt(a)?a:Cu(a,null,n)),(Mi(a)||[]).forEach(f=>s[f]=1))}),i.length===0?null:de(o(i,r),Object.keys(s))}const Rm=(t,e)=>(t<e||t==null)&&e!=null?-1:(t>e||e==null)&&t!=null?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0),$S=(t,e)=>t.length===1?VS(t[0],e[0]):qS(t,e,t.length),VS=(t,e)=>function(n,r){return Rm(t(n),t(r))*e},qS=(t,e,n)=>(e.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=t[a],o=Rm(s(r),s(i));return o*e[a]});function jS(t){return Pt(t)?t:()=>t}function bh(t){for(let e,n,r=1,i=arguments.length;r<i;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t}const ZS=Object.prototype.hasOwnProperty;function Pi(t,e){return ZS.call(t,e)}function Du(t){return typeof t=="boolean"}function WS(t){return Object.prototype.toString.call(t)==="[object Date]"}function YS(t){return t&&Pt(t[Symbol.iterator])}function Nt(t){return typeof t=="number"}function Ke(t){return typeof t=="string"}function QS(t,e){const n=t[0],r=In(t),i=+e;return i?i===1?r:n+i*(r-n):n}function Bu(t){return t&&In(t)-t[0]||0}function ku(t){return Xt(t)?"["+t.map(ku)+"]":Fn(t)||Ke(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function XS(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}const KS=t=>Nt(t)||WS(t)?t:Date.parse(t);function JS(t,e){return e=e||KS,t==null||t===""?null:e(t)}function eC(t){return t==null||t===""?null:t+""}function Ru(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}var Mm={},yh={},wh=34,ua=10,xh=13;function Pm(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function tC(t,e){var n=Pm(t);return function(r,i){return e(n(r),i,t)}}function Nm(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Lt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function nC(t){return t<0?"-"+Lt(-t,6):t>9999?"+"+Lt(t,6):Lt(t,4)}function rC(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":nC(t.getUTCFullYear())+"-"+Lt(t.getUTCMonth()+1,2)+"-"+Lt(t.getUTCDate(),2)+(i?"T"+Lt(e,2)+":"+Lt(n,2)+":"+Lt(r,2)+"."+Lt(i,3)+"Z":r?"T"+Lt(e,2)+":"+Lt(n,2)+":"+Lt(r,2)+"Z":n||e?"T"+Lt(e,2)+":"+Lt(n,2)+"Z":"")}function Lm(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(c,h){var d,p,b=i(c,function(y,w){if(d)return d(y,w-1);p=y,d=h?tC(y,h):Pm(y)});return b.columns=p||[],b}function i(c,h){var d=[],p=c.length,b=0,y=0,w,E=p<=0,S=!1;c.charCodeAt(p-1)===ua&&--p,c.charCodeAt(p-1)===xh&&--p;function T(){if(E)return yh;if(S)return S=!1,Mm;var B,I=b,N;if(c.charCodeAt(I)===wh){for(;b++<p&&c.charCodeAt(b)!==wh||c.charCodeAt(++b)===wh;);return(B=b)>=p?E=!0:(N=c.charCodeAt(b++))===ua?S=!0:N===xh&&(S=!0,c.charCodeAt(b)===ua&&++b),c.slice(I+1,B-1).replace(/""/g,'"')}for(;b<p;){if((N=c.charCodeAt(B=b++))===ua)S=!0;else if(N===xh)S=!0,c.charCodeAt(b)===ua&&++b;else if(N!==n)continue;return c.slice(I,B)}return E=!0,c.slice(I,p)}for(;(w=T())!==yh;){for(var D=[];w!==Mm&&w!==yh;)D.push(w),w=T();h&&(D=h(D,y++))==null||d.push(D)}return d}function s(c,h){return c.map(function(d){return h.map(function(p){return l(d[p])}).join(t)})}function o(c,h){return h==null&&(h=Nm(c)),[h.map(l).join(t)].concat(s(c,h)).join(`
`)}function a(c,h){return h==null&&(h=Nm(c)),s(c,h).join(`
`)}function u(c){return c.map(f).join(`
`)}function f(c){return c.map(l).join(t)}function l(c){return c==null?"":c instanceof Date?rC(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:f,formatValue:l}}var iC=Lm("	"),sC=iC.parseRows;function oC(t){return t}function aC(t){if(t==null)return oC;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,u){u||(e=n=0);var f=2,l=a.length,c=new Array(l);for(c[0]=(e+=a[0])*r+s,c[1]=(n+=a[1])*i+o;f<l;)c[f]=a[f],++f;return c}}function fC(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function uC(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Om(t,n)})}:Om(t,e)}function Om(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=zm(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function zm(t,e){var n=aC(t.transform),r=t.arcs;function i(l,c){c.length&&c.pop();for(var h=r[l<0?~l:l],d=0,p=h.length;d<p;++d)c.push(n(h[d],d));l<0&&fC(c,p)}function s(l){return n(l)}function o(l){for(var c=[],h=0,d=l.length;h<d;++h)i(l[h],c);return c.length<2&&c.push(c[0]),c}function a(l){for(var c=o(l);c.length<4;)c.push(c[0]);return c}function u(l){return l.map(a)}function f(l){var c=l.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:l.geometries.map(f)};case"Point":h=s(l.coordinates);break;case"MultiPoint":h=l.coordinates.map(s);break;case"LineString":h=o(l.arcs);break;case"MultiLineString":h=l.arcs.map(o);break;case"Polygon":h=u(l.arcs);break;case"MultiPolygon":h=l.arcs.map(u);break;default:return null}return{type:c,coordinates:h}}return f(e)}function lC(t,e){var n={},r={},i={},s=[],o=-1;e.forEach(function(f,l){var c=t.arcs[f<0?~f:f],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=e[++o],e[o]=f,e[l]=h)}),e.forEach(function(f){var l=a(f),c=l[0],h=l[1],d,p;if(d=i[c])if(delete i[d.end],d.push(f),d.end=h,p=r[h]){delete r[p.start];var b=p===d?d:d.concat(p);r[b.start=d.start]=i[b.end=p.end]=b}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(f),d.start=c,p=i[c]){delete i[p.end];var y=p===d?d:p.concat(d);r[y.start=p.start]=i[y.end=d.end]=y}else r[d.start]=i[d.end]=d;else d=[f],r[d.start=c]=i[d.end=h]=d});function a(f){var l=t.arcs[f<0?~f:f],c=l[0],h;return t.transform?(h=[0,0],l.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=l[l.length-1],f<0?[h,c]:[c,h]}function u(f,l){for(var c in f){var h=f[c];delete l[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),s.push(h)}}return u(i,r),u(r,i),e.forEach(function(f){n[f<0?~f:f]||s.push([f])}),s}function cC(t){return zm(t,hC.apply(this,arguments))}function hC(t,e,n){var r,i,s;if(arguments.length>1)r=dC(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:lC(t,r)}}function dC(t,e,n){var r=[],i=[],s;function o(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:s})}function a(c){c.forEach(o)}function u(c){c.forEach(a)}function f(c){c.forEach(u)}function l(c){switch(s=c,c.type){case"GeometryCollection":c.geometries.forEach(l);break;case"LineString":a(c.arcs);break;case"MultiLineString":case"Polygon":u(c.arcs);break;case"MultiPolygon":f(c.arcs);break}}return l(e),i.forEach(n==null?function(c){r.push(c[0].i)}:function(c){n(c[0].g,c[c.length-1].g)&&r.push(c[0].i)}),r}function la(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pC(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mu(t){let e,n,r;t.length!==2?(e=la,n=(a,u)=>la(t(a),u),r=(a,u)=>t(a)-u):(e=t===la||t===pC?t:gC,n=t,r=t);function i(a,u,f=0,l=a.length){if(f<l){if(e(u,u)!==0)return l;do{const c=f+l>>>1;n(a[c],u)<0?f=c+1:l=c}while(f<l)}return f}function s(a,u,f=0,l=a.length){if(f<l){if(e(u,u)!==0)return l;do{const c=f+l>>>1;n(a[c],u)<=0?f=c+1:l=c}while(f<l)}return f}function o(a,u,f=0,l=a.length){const c=i(a,u,f,l-1);return c>f&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:o,right:s}}function gC(){return 0}function Um(t){return t===null?NaN:+t}const Gm=Mu(la),vh=Gm.right;Gm.left,Mu(Um).center;const zs=vh;function mC(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Ni extends Map{constructor(e,n=wC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Hm(this,e))}has(e){return super.has(Hm(this,e))}set(e,n){return super.set(bC(this,e),n)}delete(e){return super.delete(yC(this,e))}}function Hm({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yC({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wC(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ah(t){return t}function Pu(t,...e){return $m(t,Ah,Ah,e)}function xC(t,...e){return $m(t,Array.from,Ah,e)}function $m(t,e,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new Ni,u=r[o++];let f=-1;for(const l of s){const c=u(l,++f,s),h=a.get(c);h?h.push(l):a.set(c,[l])}for(const[l,c]of a)a.set(l,i(c,o));return e(a)}(t,0)}var Eh=Math.sqrt(50),_h=Math.sqrt(10),Sh=Math.sqrt(2);function Nu(t,e,n){var r,i=-1,s,o,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(a=Vm(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),f=Math.round(e/a);for(u*a<t&&++u,f*a>e&&--f,o=new Array(s=f-u+1);++i<s;)o[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),f=Math.round(e*a);for(u/a<t&&++u,f/a>e&&--f,o=new Array(s=f-u+1);++i<s;)o[i]=(u+i)/a}return r&&o.reverse(),o}function Vm(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=Eh?10:s>=_h?5:s>=Sh?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=Eh?10:s>=_h?5:s>=Sh?2:1)}function Li(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=Eh?i*=10:s>=_h?i*=5:s>=Sh&&(i*=2),e<t?-i:i}function qm(t,e,n=Um){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function ca(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Lu(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function vC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ou(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Us(t){return t=Ou(Math.abs(t)),t?t[1]:NaN}function AC(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function EC(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _C=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $r(t){if(!(e=_C.exec(t)))throw new Error("invalid format: "+t);var e;return new Ch({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$r.prototype=Ch.prototype;function Ch(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ch.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SC(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jm;function CC(t,e){var n=Ou(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(jm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ou(t,Math.max(0,e+s-1))[0]}function Zm(t,e){var n=Ou(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Wm={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vC,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Zm(t*100,e),r:Zm,s:CC,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ym(t){return t}var Qm=Array.prototype.map,Xm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function TC(t){var e=t.grouping===void 0||t.thousands===void 0?Ym:AC(Qm.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ym:EC(Qm.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(c){c=$r(c);var h=c.fill,d=c.align,p=c.sign,b=c.symbol,y=c.zero,w=c.width,E=c.comma,S=c.precision,T=c.trim,D=c.type;D==="n"?(E=!0,D="g"):Wm[D]||(S===void 0&&(S=12),T=!0,D="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var B=b==="$"?n:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=b==="$"?r:/[%p]/.test(D)?o:"",N=Wm[D],C=/[defgprs%]/.test(D);S=S===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(P){var ee=B,ne=I,J,me,Ee;if(D==="c")ne=N(P)+ne,P="";else{P=+P;var De=P<0||1/P<0;if(P=isNaN(P)?u:N(Math.abs(P),S),T&&(P=SC(P)),De&&+P==0&&p!=="+"&&(De=!1),ee=(De?p==="("?p:a:p==="-"||p==="("?"":p)+ee,ne=(D==="s"?Xm[8+jm/3]:"")+ne+(De&&p==="("?")":""),C){for(J=-1,me=P.length;++J<me;)if(Ee=P.charCodeAt(J),48>Ee||Ee>57){ne=(Ee===46?i+P.slice(J+1):P.slice(J))+ne,P=P.slice(0,J);break}}}E&&!y&&(P=e(P,1/0));var st=ee.length+P.length+ne.length,et=st<w?new Array(w-st+1).join(h):"";switch(E&&y&&(P=e(et+P,et.length?w-ne.length:1/0),et=""),d){case"<":P=ee+P+ne+et;break;case"=":P=ee+et+P+ne;break;case"^":P=et.slice(0,st=et.length>>1)+ee+P+ne+et.slice(st);break;default:P=et+ee+P+ne;break}return s(P)}return M.toString=function(){return c+""},M}function l(c,h){var d=f((c=$r(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Us(h)/3)))*3,b=Math.pow(10,-p),y=Xm[8+p/3];return function(w){return d(b*w)+y}}return{format:f,formatPrefix:l}}var zu,mt,Th;FC({thousands:",",grouping:[3],currency:["$",""]});function FC(t){return zu=TC(t),mt=zu.format,Th=zu.formatPrefix,zu}function Km(t){return Math.max(0,-Us(Math.abs(t)))}function Jm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(e)/3)))*3-Us(Math.abs(t)))}function e1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Us(e)-Us(t))+1}var Fh=new Date,Ih=new Date;function lt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=function(s){return t(s=new Date(+s)),s},i.ceil=function(s){return t(s=new Date(s-1)),e(s,1),t(s),s},i.round=function(s){var o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=function(s,o){return e(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,a){var u=[],f;if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;do u.push(f=new Date(+s)),e(s,a),t(s);while(f<s&&s<o);return u},i.filter=function(s){return lt(function(o){if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););})},n&&(i.count=function(s,o){return Fh.setTime(+s),Ih.setTime(+o),t(Fh),t(Ih),Math.floor(n(Fh,Ih))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?function(o){return r(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}var Uu=lt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Uu.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?lt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Uu};const Dh=Uu;Uu.range;const xr=1e3,an=xr*60,vr=an*60,Oi=vr*24,Bh=Oi*7,t1=Oi*30,kh=Oi*365;var n1=lt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*xr)},function(t,e){return(e-t)/xr},function(t){return t.getUTCSeconds()});const Vr=n1;n1.range;var r1=lt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xr)},function(t,e){t.setTime(+t+e*an)},function(t,e){return(e-t)/an},function(t){return t.getMinutes()});const Rh=r1;r1.range;var i1=lt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xr-t.getMinutes()*an)},function(t,e){t.setTime(+t+e*vr)},function(t,e){return(e-t)/vr},function(t){return t.getHours()});const Mh=i1;i1.range;var s1=lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*an)/Oi,t=>t.getDate()-1);const zi=s1;s1.range;function Ui(t){return lt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*an)/Bh})}var ha=Ui(0),Gu=Ui(1),IC=Ui(2),DC=Ui(3),Gs=Ui(4),BC=Ui(5),kC=Ui(6);ha.range,Gu.range,IC.range,DC.range,Gs.range,BC.range,kC.range;var o1=lt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Hu=o1;o1.range;var Ph=lt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ph.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:lt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const qr=Ph;Ph.range;var a1=lt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*an)},function(t,e){return(e-t)/an},function(t){return t.getUTCMinutes()});const Nh=a1;a1.range;var f1=lt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*vr)},function(t,e){return(e-t)/vr},function(t){return t.getUTCHours()});const Lh=f1;f1.range;var u1=lt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Oi},function(t){return t.getUTCDate()-1});const Gi=u1;u1.range;function Hi(t){return lt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Bh})}var da=Hi(0),$u=Hi(1),RC=Hi(2),MC=Hi(3),Hs=Hi(4),PC=Hi(5),NC=Hi(6);da.range,$u.range,RC.range,MC.range,Hs.range,PC.range,NC.range;var l1=lt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const Vu=l1;l1.range;var Oh=lt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Oh.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:lt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const jr=Oh;Oh.range;function c1(t,e,n,r,i,s){const o=[[Vr,1,xr],[Vr,5,5*xr],[Vr,15,15*xr],[Vr,30,30*xr],[s,1,an],[s,5,5*an],[s,15,15*an],[s,30,30*an],[i,1,vr],[i,3,3*vr],[i,6,6*vr],[i,12,12*vr],[r,1,Oi],[r,2,2*Oi],[n,1,Bh],[e,1,t1],[e,3,3*t1],[t,1,kh]];function a(f,l,c){const h=l<f;h&&([f,l]=[l,f]);const d=c&&typeof c.range=="function"?c:u(f,l,c),p=d?d.range(f,+l+1):[];return h?p.reverse():p}function u(f,l,c){const h=Math.abs(l-f)/c,d=Mu(([,,y])=>y).right(o,h);if(d===o.length)return t.every(Li(f/kh,l/kh,c));if(d===0)return Dh.every(Math.max(Li(f,l,c),1));const[p,b]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return p.every(b)}return[a,u]}const[LC,OC]=c1(jr,Vu,da,Gi,Lh,Nh),[zC,UC]=c1(qr,Hu,ha,zi,Mh,Rh),pa="year",ga="quarter",ma="month",ba="week",ya="date",qu="day",zh="dayofyear",wa="hours",xa="minutes",va="seconds",ju="milliseconds";[pa,ga,ma,ba,ya,qu,zh,wa,xa,va,ju].reduce((t,e,n)=>(t[e]=1+n,t),{});const GC={[pa]:qr,[ga]:Hu.every(3),[ma]:Hu,[ba]:ha,[ya]:zi,[qu]:zi,[zh]:zi,[wa]:Mh,[xa]:Rh,[va]:Vr,[ju]:Dh},HC={[pa]:jr,[ga]:Vu.every(3),[ma]:Vu,[ba]:da,[ya]:Gi,[qu]:Gi,[zh]:Gi,[wa]:Lh,[xa]:Nh,[va]:Vr,[ju]:Dh};function $C(t){return GC[t]}function VC(t){return HC[t]}function Uh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Aa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function h1(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,u=t.shortMonths,f=Ea(i),l=_a(i),c=Ea(s),h=_a(s),d=Ea(o),p=_a(o),b=Ea(a),y=_a(a),w=Ea(u),E=_a(u),S={a:De,A:st,b:et,B:gr,c:null,d:y1,e:y1,f:d8,g:E8,G:S8,H:l8,I:c8,j:h8,L:w1,m:p8,M:g8,p:Me,q:We,Q:S1,s:C1,S:m8,u:b8,U:y8,V:w8,w:x8,W:v8,x:null,X:null,y:A8,Y:_8,Z:C8,"%":_1},T={a:Wt,A:qn,b:mr,B:O,c:null,d:v1,e:v1,f:D8,g:U8,G:H8,H:T8,I:F8,j:I8,L:A1,m:B8,M:k8,p:L,q:j,Q:S1,s:C1,S:R8,u:M8,U:P8,V:N8,w:L8,W:O8,x:null,X:null,y:z8,Y:G8,Z:$8,"%":_1},D={a:M,A:P,b:ee,B:ne,c:J,d:m1,e:m1,f:o8,g:g1,G:p1,H:b1,I:b1,j:n8,L:s8,m:t8,M:r8,p:C,q:e8,Q:f8,s:u8,S:i8,u:YC,U:QC,V:XC,w:WC,W:KC,x:me,X:Ee,y:g1,Y:p1,Z:JC,"%":a8};S.x=B(n,S),S.X=B(r,S),S.c=B(e,S),T.x=B(n,T),T.X=B(r,T),T.c=B(e,T);function B(V,Q){return function(_){var v=[],H=-1,q=0,le=V.length,re,ce,Yt;for(_ instanceof Date||(_=new Date(+_));++H<le;)V.charCodeAt(H)===37&&(v.push(V.slice(q,H)),(ce=d1[re=V.charAt(++H)])!=null?re=V.charAt(++H):ce=re==="e"?" ":"0",(Yt=Q[re])&&(re=Yt(_,ce)),v.push(re),q=H+1);return v.push(V.slice(q,H)),v.join("")}}function I(V,Q){return function(_){var v=Aa(1900,void 0,1),H=N(v,V,_+="",0),q,le;if(H!=_.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(Q&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(q=Gh(Aa(v.y,0,1)),le=q.getUTCDay(),q=le>4||le===0?$u.ceil(q):$u(q),q=Gi.offset(q,(v.V-1)*7),v.y=q.getUTCFullYear(),v.m=q.getUTCMonth(),v.d=q.getUTCDate()+(v.w+6)%7):(q=Uh(Aa(v.y,0,1)),le=q.getDay(),q=le>4||le===0?Gu.ceil(q):Gu(q),q=zi.offset(q,(v.V-1)*7),v.y=q.getFullYear(),v.m=q.getMonth(),v.d=q.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),le="Z"in v?Gh(Aa(v.y,0,1)).getUTCDay():Uh(Aa(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(le+5)%7:v.w+v.U*7-(le+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,Gh(v)):Uh(v)}}function N(V,Q,_,v){for(var H=0,q=Q.length,le=_.length,re,ce;H<q;){if(v>=le)return-1;if(re=Q.charCodeAt(H++),re===37){if(re=Q.charAt(H++),ce=D[re in d1?Q.charAt(H++):re],!ce||(v=ce(V,_,v))<0)return-1}else if(re!=_.charCodeAt(v++))return-1}return v}function C(V,Q,_){var v=f.exec(Q.slice(_));return v?(V.p=l.get(v[0].toLowerCase()),_+v[0].length):-1}function M(V,Q,_){var v=d.exec(Q.slice(_));return v?(V.w=p.get(v[0].toLowerCase()),_+v[0].length):-1}function P(V,Q,_){var v=c.exec(Q.slice(_));return v?(V.w=h.get(v[0].toLowerCase()),_+v[0].length):-1}function ee(V,Q,_){var v=w.exec(Q.slice(_));return v?(V.m=E.get(v[0].toLowerCase()),_+v[0].length):-1}function ne(V,Q,_){var v=b.exec(Q.slice(_));return v?(V.m=y.get(v[0].toLowerCase()),_+v[0].length):-1}function J(V,Q,_){return N(V,e,Q,_)}function me(V,Q,_){return N(V,n,Q,_)}function Ee(V,Q,_){return N(V,r,Q,_)}function De(V){return o[V.getDay()]}function st(V){return s[V.getDay()]}function et(V){return u[V.getMonth()]}function gr(V){return a[V.getMonth()]}function Me(V){return i[+(V.getHours()>=12)]}function We(V){return 1+~~(V.getMonth()/3)}function Wt(V){return o[V.getUTCDay()]}function qn(V){return s[V.getUTCDay()]}function mr(V){return u[V.getUTCMonth()]}function O(V){return a[V.getUTCMonth()]}function L(V){return i[+(V.getUTCHours()>=12)]}function j(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Q=B(V+="",S);return Q.toString=function(){return V},Q},parse:function(V){var Q=I(V+="",!1);return Q.toString=function(){return V},Q},utcFormat:function(V){var Q=B(V+="",T);return Q.toString=function(){return V},Q},utcParse:function(V){var Q=I(V+="",!0);return Q.toString=function(){return V},Q}}}var d1={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,qC=/^%/,jC=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ZC(t){return t.replace(jC,"\\$&")}function Ea(t){return new RegExp("^(?:"+t.map(ZC).join("|")+")","i")}function _a(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WC(t,e,n){var r=ct.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function YC(t,e,n){var r=ct.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QC(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function XC(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function KC(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function p1(t,e,n){var r=ct.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function g1(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function JC(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function e8(t,e,n){var r=ct.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function t8(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function m1(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function n8(t,e,n){var r=ct.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b1(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function r8(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function i8(t,e,n){var r=ct.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function s8(t,e,n){var r=ct.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function o8(t,e,n){var r=ct.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function a8(t,e,n){var r=qC.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function f8(t,e,n){var r=ct.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function u8(t,e,n){var r=ct.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function y1(t,e){return we(t.getDate(),e,2)}function l8(t,e){return we(t.getHours(),e,2)}function c8(t,e){return we(t.getHours()%12||12,e,2)}function h8(t,e){return we(1+zi.count(qr(t),t),e,3)}function w1(t,e){return we(t.getMilliseconds(),e,3)}function d8(t,e){return w1(t,e)+"000"}function p8(t,e){return we(t.getMonth()+1,e,2)}function g8(t,e){return we(t.getMinutes(),e,2)}function m8(t,e){return we(t.getSeconds(),e,2)}function b8(t){var e=t.getDay();return e===0?7:e}function y8(t,e){return we(ha.count(qr(t)-1,t),e,2)}function x1(t){var e=t.getDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function w8(t,e){return t=x1(t),we(Gs.count(qr(t),t)+(qr(t).getDay()===4),e,2)}function x8(t){return t.getDay()}function v8(t,e){return we(Gu.count(qr(t)-1,t),e,2)}function A8(t,e){return we(t.getFullYear()%100,e,2)}function E8(t,e){return t=x1(t),we(t.getFullYear()%100,e,2)}function _8(t,e){return we(t.getFullYear()%1e4,e,4)}function S8(t,e){var n=t.getDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),we(t.getFullYear()%1e4,e,4)}function C8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function v1(t,e){return we(t.getUTCDate(),e,2)}function T8(t,e){return we(t.getUTCHours(),e,2)}function F8(t,e){return we(t.getUTCHours()%12||12,e,2)}function I8(t,e){return we(1+Gi.count(jr(t),t),e,3)}function A1(t,e){return we(t.getUTCMilliseconds(),e,3)}function D8(t,e){return A1(t,e)+"000"}function B8(t,e){return we(t.getUTCMonth()+1,e,2)}function k8(t,e){return we(t.getUTCMinutes(),e,2)}function R8(t,e){return we(t.getUTCSeconds(),e,2)}function M8(t){var e=t.getUTCDay();return e===0?7:e}function P8(t,e){return we(da.count(jr(t)-1,t),e,2)}function E1(t){var e=t.getUTCDay();return e>=4||e===0?Hs(t):Hs.ceil(t)}function N8(t,e){return t=E1(t),we(Hs.count(jr(t),t)+(jr(t).getUTCDay()===4),e,2)}function L8(t){return t.getUTCDay()}function O8(t,e){return we($u.count(jr(t)-1,t),e,2)}function z8(t,e){return we(t.getUTCFullYear()%100,e,2)}function U8(t,e){return t=E1(t),we(t.getUTCFullYear()%100,e,2)}function G8(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function H8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hs(t):Hs.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function $8(){return"+0000"}function _1(){return"%"}function S1(t){return+t}function C1(t){return Math.floor(+t/1e3)}var $s,Hh,T1,$h,F1;V8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V8(t){return $s=h1(t),Hh=$s.format,T1=$s.parse,$h=$s.utcFormat,F1=$s.utcParse,$s}function Sa(t){const e={};return n=>e[n]||(e[n]=t(n))}function q8(t,e){return n=>{const r=t(n),i=r.indexOf(e);if(i<0)return r;let s=j8(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function j8(t,e){let n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}function Z8(t){const e=Sa(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(r){const i=$r(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return q8(e(i),e(".1f")(1)[1])}else return e(i)},formatSpan(r,i,s,o){o=$r(o??",f");const a=Li(r,i,s),u=Math.max(Math.abs(r),Math.abs(i));let f;if(o.precision==null)switch(o.type){case"s":return isNaN(f=Jm(a,u))||(o.precision=f),n(o,u);case"":case"e":case"g":case"p":case"r":{isNaN(f=e1(a,u))||(o.precision=f-(o.type==="e"));break}case"f":case"%":{isNaN(f=Km(a))||(o.precision=f-(o.type==="%")*2);break}}return e(o)}}}W8();function W8(){return Z8({format:mt,formatPrefix:Th})}function I1(t,e,n){n=n||{},Fn(n)||Xe("Invalid time multi-format specifier: ".concat(n));const r=e(va),i=e(xa),s=e(wa),o=e(ya),a=e(ba),u=e(ma),f=e(ga),l=e(pa),c=t(n[ju]||".%L"),h=t(n[va]||":%S"),d=t(n[xa]||"%I:%M"),p=t(n[wa]||"%I %p"),b=t(n[ya]||n[qu]||"%a %d"),y=t(n[ba]||"%b %d"),w=t(n[ma]||"%B"),E=t(n[ga]||"%B"),S=t(n[pa]||"%Y");return T=>(r(T)<T?c:i(T)<T?h:s(T)<T?d:o(T)<T?p:u(T)<T?a(T)<T?b:y:l(T)<T?f(T)<T?w:E:S)(T)}function D1(t){const e=Sa(t.format),n=Sa(t.utcFormat);return{timeFormat:r=>Ke(r)?e(r):I1(e,$C,r),utcFormat:r=>Ke(r)?n(r):I1(n,VC,r),timeParse:Sa(t.parse),utcParse:Sa(t.utcParse)}}let Vh;Y8();function Y8(){return Vh=D1({format:Hh,parse:T1,utcFormat:$h,utcParse:F1})}function Q8(t){return D1(h1(t))}function X8(t){return arguments.length?Vh=Q8(t):Vh}const K8=/^(data:|([A-Za-z]+:)?\/\/)/,J8=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,e6=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,B1="file://";function t6(t,e){return n=>({options:n||{},sanitize:r6,load:n6,fileAccess:!!e,file:i6(e),http:o6(t)})}async function n6(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function r6(t,e){e=bh({},this.options,e);const n=this.fileAccess,r={href:null};let i,s,o;const a=J8.test(t.replace(e6,""));(t==null||typeof t!="string"||!a)&&Xe("Sanitize failure, invalid URI: "+ku(t));const u=K8.test(t);return(o=e.baseURL)&&!u&&(!t.startsWith("/")&&!o.endsWith("/")&&(t="/"+t),t=o+t),s=(i=t.startsWith(B1))||e.mode==="file"||e.mode!=="http"&&!u&&n,i?t=t.slice(B1.length):t.startsWith("//")&&(e.defaultProtocol==="file"?(t=t.slice(2),s=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!s}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),e.context==="image"&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function i6(t){return t?e=>new Promise((n,r)=>{t.readFile(e,(i,s)=>{i?r(i):n(s)})}):s6}async function s6(){Xe("No file system access.")}function o6(t){return t?async function(e,n){const r=bh({},this.options.http,n),i=n&&n.response,s=await t(e,r);return s.ok?Pt(s[i])?s[i]():s.text():Xe(s.status+""+s.statusText)}:a6}async function a6(){Xe("No HTTP fetch method available.")}const f6=t=>t!=null&&t===t,u6=t=>t==="true"||t==="false"||t===!0||t===!1,l6=t=>!Number.isNaN(Date.parse(t)),k1=t=>!Number.isNaN(+t)&&!(t instanceof Date),c6=t=>k1(t)&&Number.isInteger(+t),R1={boolean:XS,integer:fa,number:fa,date:JS,string:eC,unknown:Tu},Zu=[u6,c6,k1,l6],h6=["boolean","integer","number","date"];function d6(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=Zu.length,i=Zu.map((s,o)=>o+1);for(let s=0,o=0,a,u;s<n;++s)for(u=e?t[s][e]:t[s],a=0;a<r;++a)if(i[a]&&f6(u)&&!Zu[a](u)&&(i[a]=0,++o,o===Zu.length))return"string";return h6[i.reduce((s,o)=>s===0?o:s,0)-1]}function p6(t,e){return e.reduce((n,r)=>(n[r]=d6(t,r),n),{})}function M1(t){const e=function(n,r){const i={delimiter:t};return qh(n,r?bh(r,i):i)};return e.responseType="text",e}function qh(t,e){return e.header&&(t=e.header.map(ku).join(e.delimiter)+`
`+t),Lm(e.delimiter).parse(t+"")}qh.responseType="text";function g6(t){return typeof Buffer=="function"&&Pt(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function jh(t,e){const n=e&&e.property?Cu(e.property):Tu;return Fn(t)&&!g6(t)?m6(n(t),e):n(JSON.parse(t))}jh.responseType="json";function m6(t,e){return!Xt(t)&&YS(t)&&(t=[...t]),e&&e.copy?JSON.parse(JSON.stringify(t)):t}const b6={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function P1(t,e){let n,r,i,s;return t=jh(t,e),e&&e.feature?(n=uC,i=e.feature):e&&e.mesh?(n=cC,i=e.mesh,s=b6[e.filter]):Xe("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,s):Xe("Invalid TopoJSON object: "+i),r&&r.features||[r]}P1.responseType="json";const Zh={dsv:qh,csv:M1(","),tsv:M1("	"),json:jh,topojson:P1};function N1(t,e){return arguments.length>1?(Zh[t]=e,this):Pi(Zh,t)?Zh[t]:null}function L1(t,e,n,r){e=e||{};const i=N1(e.type||"json");return i||Xe("Unknown data format type: "+e.type),t=i(t,e),e.parse&&y6(t,e.parse,n,r),Pi(t,"columns")&&delete t.columns,t}function y6(t,e,n,r){if(!t.length)return;const i=X8();n=n||i.timeParse,r=r||i.utcParse;let s=t.columns||Object.keys(t[0]),o,a,u,f,l,c;e==="auto"&&(e=p6(t,s)),s=Object.keys(e);const h=s.map(d=>{const p=e[d];let b,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return b=p.split(/:(.+)?/,2),y=b[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(b[0]==="utc"?r:n)(y);if(!R1[p])throw Error("Illegal format pattern: "+d+":"+p);return R1[p]});for(u=0,l=t.length,c=s.length;u<l;++u)for(o=t[u],f=0;f<c;++f)a=s[f],o[a]=h[f](o[a])}const Wu=t6(typeof fetch<"u"&&fetch,null);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ca=globalThis,Yu=Ca.trustedTypes,O1=Yu?Yu.createPolicy("lit-html",{createHTML:t=>t}):void 0,z1="$lit$",Zr=`lit$${(Math.random()+"").slice(9)}$`,U1="?"+Zr,w6=`<${U1}>`,$i=document,Ta=()=>$i.createComment(""),Fa=t=>t===null||typeof t!="object"&&typeof t!="function",G1=Array.isArray,x6=t=>G1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Wh=`[ 	
\f\r]`,Ia=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H1=/-->/g,$1=/>/g,Vi=RegExp(`>|${Wh}(?:([^\\s"'>=/]+)(${Wh}*=${Wh}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),V1=/'/g,q1=/"/g,j1=/^(?:script|style|textarea|title)$/i,v6=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Ar=v6(1),Da=Symbol.for("lit-noChange"),ot=Symbol.for("lit-nothing"),Z1=new WeakMap,qi=$i.createTreeWalker($i,129);function W1(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return O1!==void 0?O1.createHTML(e):e}const A6=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":"",o=Ia;for(let a=0;a<n;a++){const u=t[a];let f,l,c=-1,h=0;for(;h<u.length&&(o.lastIndex=h,l=o.exec(u),l!==null);)h=o.lastIndex,o===Ia?l[1]==="!--"?o=H1:l[1]!==void 0?o=$1:l[2]!==void 0?(j1.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=Vi):l[3]!==void 0&&(o=Vi):o===Vi?l[0]===">"?(o=i??Ia,c=-1):l[1]===void 0?c=-2:(c=o.lastIndex-l[2].length,f=l[1],o=l[3]===void 0?Vi:l[3]==='"'?q1:V1):o===q1||o===V1?o=Vi:o===H1||o===$1?o=Ia:(o=Vi,i=void 0);const d=o===Vi&&t[a+1].startsWith("/>")?" ":"";s+=o===Ia?u+w6:c>=0?(r.push(f),u.slice(0,c)+z1+u.slice(c)+Zr+d):u+Zr+(c===-2?a:d)}return[W1(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),r]};let Yh=class ES{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[f,l]=A6(e,n);if(this.el=ES.createElement(f,r),qi.currentNode=this.el.content,n===2){const c=this.el.content.firstChild;c.replaceWith(...c.childNodes)}for(;(i=qi.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const c of i.getAttributeNames())if(c.endsWith(z1)){const h=l[o++],d=i.getAttribute(c).split(Zr),p=/([.?@])?(.*)/.exec(h);u.push({type:1,index:s,name:p[2],strings:d,ctor:p[1]==="."?_6:p[1]==="?"?S6:p[1]==="@"?C6:Qu}),i.removeAttribute(c)}else c.startsWith(Zr)&&(u.push({type:6,index:s}),i.removeAttribute(c));if(j1.test(i.tagName)){const c=i.textContent.split(Zr),h=c.length-1;if(h>0){i.textContent=Yu?Yu.emptyScript:"";for(let d=0;d<h;d++)i.append(c[d],Ta()),qi.nextNode(),u.push({type:2,index:++s});i.append(c[h],Ta())}}}else if(i.nodeType===8)if(i.data===U1)u.push({type:2,index:s});else{let c=-1;for(;(c=i.data.indexOf(Zr,c+1))!==-1;)u.push({type:7,index:s}),c+=Zr.length-1}s++}}static createElement(e,n){const r=$i.createElement("template");return r.innerHTML=e,r}};function Vs(t,e,n=t,r){var o,a;if(e===Da)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Fa(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Vs(t,i._$AS(t,e.values),i,r)),e}let E6=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??$i).importNode(n,!0);qi.currentNode=i;let s=qi.nextNode(),o=0,a=0,u=r[0];for(;u!==void 0;){if(o===u.index){let f;u.type===2?f=new Qh(s,s.nextSibling,this,e):u.type===1?f=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(f=new T6(s,this,e)),this._$AV.push(f),u=r[++a]}o!==(u==null?void 0:u.index)&&(s=qi.nextNode(),o++)}return qi.currentNode=$i,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}},Qh=class _S{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=ot,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Vs(this,e,n),Fa(e)?e===ot||e==null||e===""?(this._$AH!==ot&&this._$AR(),this._$AH=ot):e!==this._$AH&&e!==Da&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):x6(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==ot&&Fa(this._$AH)?this._$AA.nextSibling.data=e:this.$($i.createTextNode(e)),this._$AH=e}g(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Yh.createElement(W1(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new E6(i,this),a=o.u(this.options);o.p(n),this.$(a),this._$AH=o}}_$AC(e){let n=Z1.get(e.strings);return n===void 0&&Z1.set(e.strings,n=new Yh(e)),n}T(e){G1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new _S(this.k(Ta()),this.k(Ta()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}},Qu=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=ot,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ot}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Vs(this,e,n,0),o=!Fa(e)||e!==this._$AH&&e!==Da,o&&(this._$AH=e);else{const a=e;let u,f;for(e=s[0],u=0;u<s.length-1;u++)f=Vs(this,a[r+u],n,u),f===Da&&(f=this._$AH[u]),o||(o=!Fa(f)||f!==this._$AH[u]),f===ot?e=ot:e!==ot&&(e+=(f??"")+s[u+1]),this._$AH[u]=f}o&&!i&&this.O(e)}O(e){e===ot?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},_6=class extends Qu{constructor(){super(...arguments),this.type=3}O(e){this.element[this.name]=e===ot?void 0:e}},S6=class extends Qu{constructor(){super(...arguments),this.type=4}O(e){this.element.toggleAttribute(this.name,!!e&&e!==ot)}},C6=class extends Qu{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Vs(this,e,n,0)??ot)===Da)return;const r=this._$AH,i=e===ot&&r!==ot||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==ot&&(r===ot||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}};class T6{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Vs(this,e)}}const Xh=Ca.litHtmlPolyfillSupport;Xh==null||Xh(Yh,Qh),(Ca.litHtmlVersions??(Ca.litHtmlVersions=[])).push("3.0.2");const Y1=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Qh(e.insertBefore(Ta(),s),s,void 0,n??{})}return i._$AI(t),i},F6=`.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
}
.genome-spy canvas {
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy.loading canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy.loading .loading-message .message {
  opacity: 1;
}
.genome-spy.loading .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 13px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}`;function I6(t,e){var n=t.getBoundingClientRect();return[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]}function Xu(t,e){return t.length==e.length&&t.every((n,r)=>t[r]===e[r])}function Kt(t){return Array.isArray(t)?t:typeof t<"u"?[t]:[]}function Ba(t){return t[t.length-1]}class D6{constructor(e){this.container=e,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(e){e!=this._visible&&(this.element.style.display=e?null:"none",this._visible=e)}get visible(){return this._visible}get enabled(){return Ba(this.enabledStack)??!0}pushEnabledState(e){this.enabledStack.push(e),e||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(e){this.mouseCoords=I6(this.container,e);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&B6(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(e){if(!e||!this.enabled||this._isPenalty()){this.visible&&(Y1("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}Y1(e,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(e,n){e!==this._previousTooltipDatum&&(this._previousTooltipDatum=e,n||(n=r=>Promise.resolve(Ar` ${JSON.stringify(r)} `)),n(e).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function B6(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}const k6="RawCode",R6="Literal",M6="Property",P6="Identifier",N6="ArrayExpression",L6="BinaryExpression",O6="CallExpression",z6="ConditionalExpression",U6="LogicalExpression",G6="MemberExpression",H6="ObjectExpression",$6="UnaryExpression";function Dn(t){this.type=t}Dn.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=V6(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};function V6(t){switch(t.type){case N6:return t.elements;case L6:case U6:return[t.left,t.right];case O6:return[t.callee].concat(t.arguments);case z6:return[t.test,t.consequent,t.alternate];case G6:return[t.object,t.property];case H6:return t.properties;case M6:return[t.key,t.value];case $6:return[t.argument];case P6:case R6:case k6:default:return[]}}var Wn,te,G,At,Fe,Ku=1,ka=2,ji=3,Wr=4,Ju=5,Zi=6,Ot=7,Ra=8,q6=9;Wn={},Wn[Ku]="Boolean",Wn[ka]="<end>",Wn[ji]="Identifier",Wn[Wr]="Keyword",Wn[Ju]="Null",Wn[Zi]="Numeric",Wn[Ot]="Punctuator",Wn[Ra]="String",Wn[q6]="RegularExpression";var j6="ArrayExpression",Z6="BinaryExpression",W6="CallExpression",Y6="ConditionalExpression",Q1="Identifier",Q6="Literal",X6="LogicalExpression",K6="MemberExpression",J6="ObjectExpression",e4="Property",t4="UnaryExpression",ht="Unexpected token %0",n4="Unexpected number",r4="Unexpected string",i4="Unexpected identifier",s4="Unexpected reserved word",o4="Unexpected end of input",Kh="Invalid regular expression",Jh="Invalid regular expression: missing /",X1="Octal literals are not allowed in strict mode.",a4="Duplicate data property in object literal not allowed in strict mode",bt="ILLEGAL",Ma="Disabled.",f4=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),u4=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function el(t,e){if(!t)throw new Error("ASSERT: "+e)}function Er(t){return t>=48&&t<=57}function ed(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Pa(t){return"01234567".indexOf(t)>=0}function l4(t){return t===32||t===9||t===11||t===12||t===160||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function Na(t){return t===10||t===13||t===8232||t===8233}function La(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&f4.test(String.fromCharCode(t))}function tl(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&u4.test(String.fromCharCode(t))}const c4={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function K1(){for(;G<At;){const t=te.charCodeAt(G);if(l4(t)||Na(t))++G;else break}}function td(t){var e,n,r,i=0;for(n=t==="u"?4:2,e=0;e<n;++e)G<At&&ed(te[G])?(r=te[G++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):xe({},ht,bt);return String.fromCharCode(i)}function h4(){var t,e,n,r;for(t=te[G],e=0,t==="}"&&xe({},ht,bt);G<At&&(t=te[G++],!!ed(t));)e=e*16+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||t!=="}")&&xe({},ht,bt),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(n,r))}function J1(){var t,e;for(t=te.charCodeAt(G++),e=String.fromCharCode(t),t===92&&(te.charCodeAt(G)!==117&&xe({},ht,bt),++G,t=td("u"),(!t||t==="\\"||!La(t.charCodeAt(0)))&&xe({},ht,bt),e=t);G<At&&(t=te.charCodeAt(G),!!tl(t));)++G,e+=String.fromCharCode(t),t===92&&(e=e.substr(0,e.length-1),te.charCodeAt(G)!==117&&xe({},ht,bt),++G,t=td("u"),(!t||t==="\\"||!tl(t.charCodeAt(0)))&&xe({},ht,bt),e+=t);return e}function d4(){var t,e;for(t=G++;G<At;){if(e=te.charCodeAt(G),e===92)return G=t,J1();if(tl(e))++G;else break}return te.slice(t,G)}function p4(){var t,e,n;return t=G,e=te.charCodeAt(G)===92?J1():d4(),e.length===1?n=ji:c4.hasOwnProperty(e)?n=Wr:e==="null"?n=Ju:e==="true"||e==="false"?n=Ku:n=ji,{type:n,value:e,start:t,end:G}}function nd(){var t=G,e=te.charCodeAt(G),n,r=te[G],i,s,o;switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++G,{type:Ot,value:String.fromCharCode(e),start:t,end:G};default:if(n=te.charCodeAt(G+1),n===61)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return G+=2,{type:Ot,value:String.fromCharCode(e)+String.fromCharCode(n),start:t,end:G};case 33:case 61:return G+=2,te.charCodeAt(G)===61&&++G,{type:Ot,value:te.slice(t,G),start:t,end:G}}}if(o=te.substr(G,4),o===">>>=")return G+=4,{type:Ot,value:o,start:t,end:G};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return G+=3,{type:Ot,value:s,start:t,end:G};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return G+=2,{type:Ot,value:i,start:t,end:G};if(i==="//"&&xe({},ht,bt),"<>=!+-*%&|^/".indexOf(r)>=0)return++G,{type:Ot,value:r,start:t,end:G};xe({},ht,bt)}function g4(t){let e="";for(;G<At&&ed(te[G]);)e+=te[G++];return e.length===0&&xe({},ht,bt),La(te.charCodeAt(G))&&xe({},ht,bt),{type:Zi,value:parseInt("0x"+e,16),start:t,end:G}}function m4(t){let e="0"+te[G++];for(;G<At&&Pa(te[G]);)e+=te[G++];return(La(te.charCodeAt(G))||Er(te.charCodeAt(G)))&&xe({},ht,bt),{type:Zi,value:parseInt(e,8),octal:!0,start:t,end:G}}function eb(){var t,e,n;if(n=te[G],el(Er(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),e=G,t="",n!=="."){if(t=te[G++],n=te[G],t==="0"){if(n==="x"||n==="X")return++G,g4(e);if(Pa(n))return m4(e);n&&Er(n.charCodeAt(0))&&xe({},ht,bt)}for(;Er(te.charCodeAt(G));)t+=te[G++];n=te[G]}if(n==="."){for(t+=te[G++];Er(te.charCodeAt(G));)t+=te[G++];n=te[G]}if(n==="e"||n==="E")if(t+=te[G++],n=te[G],(n==="+"||n==="-")&&(t+=te[G++]),Er(te.charCodeAt(G)))for(;Er(te.charCodeAt(G));)t+=te[G++];else xe({},ht,bt);return La(te.charCodeAt(G))&&xe({},ht,bt),{type:Zi,value:parseFloat(t),start:e,end:G}}function b4(){var t="",e,n,r,i,s=!1;for(e=te[G],el(e==="'"||e==='"',"String literal must starts with a quote"),n=G,++G;G<At;)if(r=te[G++],r===e){e="";break}else if(r==="\\")if(r=te[G++],!r||!Na(r.charCodeAt(0)))switch(r){case"u":case"x":te[G]==="{"?(++G,t+=h4()):t+=td(r);break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:Pa(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),G<At&&Pa(te[G])&&(s=!0,i=i*8+"01234567".indexOf(te[G++]),"0123".indexOf(r)>=0&&G<At&&Pa(te[G])&&(i=i*8+"01234567".indexOf(te[G++]))),t+=String.fromCharCode(i)):t+=r;break}else r==="\r"&&te[G]===`
`&&++G;else{if(Na(r.charCodeAt(0)))break;t+=r}return e!==""&&xe({},ht,bt),{type:Ra,value:t,octal:s,start:n,end:G}}function y4(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";xe({},Kh)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{xe({},Kh)}try{return new RegExp(t,e)}catch{return null}}function w4(){var t,e,n,r,i;for(t=te[G],el(t==="/","Regular expression literal must start with a slash"),e=te[G++],n=!1,r=!1;G<At;)if(t=te[G++],e+=t,t==="\\")t=te[G++],Na(t.charCodeAt(0))&&xe({},Jh),e+=t;else if(Na(t.charCodeAt(0)))xe({},Jh);else if(n)t==="]"&&(n=!1);else if(t==="/"){r=!0;break}else t==="["&&(n=!0);return r||xe({},Jh),i=e.substr(1,e.length-2),{value:i,literal:e}}function x4(){var t,e,n;for(e="",n="";G<At&&(t=te[G],!!tl(t.charCodeAt(0)));)++G,t==="\\"&&G<At?xe({},ht,bt):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&xe({},Kh,n),{value:n,literal:e}}function v4(){var t,e,n,r;return Fe=null,K1(),t=G,e=w4(),n=x4(),r=y4(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:G}}function A4(t){return t.type===ji||t.type===Wr||t.type===Ku||t.type===Ju}function tb(){if(K1(),G>=At)return{type:ka,start:G,end:G};const t=te.charCodeAt(G);return La(t)?p4():t===40||t===41||t===59?nd():t===39||t===34?b4():t===46?Er(te.charCodeAt(G+1))?eb():nd():Er(t)?eb():nd()}function zt(){const t=Fe;return G=t.end,Fe=tb(),G=t.end,t}function nb(){const t=G;Fe=tb(),G=t}function E4(t){const e=new Dn(j6);return e.elements=t,e}function rb(t,e,n){const r=new Dn(t==="||"||t==="&&"?X6:Z6);return r.operator=t,r.left=e,r.right=n,r}function _4(t,e){const n=new Dn(W6);return n.callee=t,n.arguments=e,n}function S4(t,e,n){const r=new Dn(Y6);return r.test=t,r.consequent=e,r.alternate=n,r}function rd(t){const e=new Dn(Q1);return e.name=t,e}function Oa(t){const e=new Dn(Q6);return e.value=t.value,e.raw=te.slice(t.start,t.end),t.regex&&(e.raw==="//"&&(e.raw="/(?:)/"),e.regex=t.regex),e}function ib(t,e,n){const r=new Dn(K6);return r.computed=t==="[",r.object=e,r.property=n,r.computed||(n.member=!0),r}function C4(t){const e=new Dn(J6);return e.properties=t,e}function sb(t,e,n){const r=new Dn(e4);return r.key=e,r.value=n,r.kind=t,r}function T4(t,e){const n=new Dn(t4);return n.operator=t,n.argument=e,n.prefix=!0,n}function xe(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(s,o)=>(el(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=G,n.description=i,n}function nl(t){t.type===ka&&xe(t,o4),t.type===Zi&&xe(t,n4),t.type===Ra&&xe(t,r4),t.type===ji&&xe(t,i4),t.type===Wr&&xe(t,s4),xe(t,ht,t.value)}function Et(t){const e=zt();(e.type!==Ot||e.value!==t)&&nl(e)}function Ge(t){return Fe.type===Ot&&Fe.value===t}function id(t){return Fe.type===Wr&&Fe.value===t}function F4(){const t=[];for(G=Fe.start,Et("[");!Ge("]");)Ge(",")?(zt(),t.push(null)):(t.push(Wi()),Ge("]")||Et(","));return zt(),E4(t)}function ob(){G=Fe.start;const t=zt();return t.type===Ra||t.type===Zi?(t.octal&&xe(t,X1),Oa(t)):rd(t.value)}function I4(){var t,e,n,r;if(G=Fe.start,t=Fe,t.type===ji)return n=ob(),Et(":"),r=Wi(),sb("init",n,r);if(t.type===ka||t.type===Ot)nl(t);else return e=ob(),Et(":"),r=Wi(),sb("init",e,r)}function D4(){var t=[],e,n,r,i={},s=String;for(G=Fe.start,Et("{");!Ge("}");)e=I4(),e.key.type===Q1?n=e.key.name:n=s(e.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?xe({},a4):i[r]=!0,t.push(e),Ge("}")||Et(",");return Et("}"),C4(t)}function B4(){Et("(");const t=sd();return Et(")"),t}const k4={if:1};function R4(){var t,e,n;if(Ge("("))return B4();if(Ge("["))return F4();if(Ge("{"))return D4();if(t=Fe.type,G=Fe.start,t===ji||k4[Fe.value])n=rd(zt().value);else if(t===Ra||t===Zi)Fe.octal&&xe(Fe,X1),n=Oa(zt());else{if(t===Wr)throw new Error(Ma);t===Ku?(e=zt(),e.value=e.value==="true",n=Oa(e)):t===Ju?(e=zt(),e.value=null,n=Oa(e)):Ge("/")||Ge("/=")?(n=Oa(v4()),nb()):nl(zt())}return n}function M4(){const t=[];if(Et("("),!Ge(")"))for(;G<At&&(t.push(Wi()),!Ge(")"));)Et(",");return Et(")"),t}function P4(){G=Fe.start;const t=zt();return A4(t)||nl(t),rd(t.value)}function N4(){return Et("."),P4()}function L4(){Et("[");const t=sd();return Et("]"),t}function O4(){var t,e,n;for(t=R4();;)if(Ge("."))n=N4(),t=ib(".",t,n);else if(Ge("("))e=M4(),t=_4(t,e);else if(Ge("["))n=L4(),t=ib("[",t,n);else break;return t}function ab(){const t=O4();if(Fe.type===Ot&&(Ge("++")||Ge("--")))throw new Error(Ma);return t}function rl(){var t,e;if(Fe.type!==Ot&&Fe.type!==Wr)e=ab();else{if(Ge("++")||Ge("--"))throw new Error(Ma);if(Ge("+")||Ge("-")||Ge("~")||Ge("!"))t=zt(),e=rl(),e=T4(t.value,e);else{if(id("delete")||id("void")||id("typeof"))throw new Error(Ma);e=ab()}}return e}function fb(t){let e=0;if(t.type!==Ot&&t.type!==Wr)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11;break}return e}function z4(){var t,e,n,r,i,s,o,a,u,f;if(t=Fe,u=rl(),r=Fe,i=fb(r),i===0)return u;for(r.prec=i,zt(),e=[t,Fe],o=rl(),s=[u,r,o];(i=fb(Fe))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,u=s.pop(),e.pop(),n=rb(a,u,o),s.push(n);r=zt(),r.prec=i,s.push(r),e.push(Fe),n=rl(),s.push(n)}for(f=s.length-1,n=s[f],e.pop();f>1;)e.pop(),n=rb(s[f-1].value,s[f-2],n),f-=2;return n}function Wi(){var t,e,n;return t=z4(),Ge("?")&&(zt(),e=Wi(),Et(":"),n=Wi(),t=S4(t,e,n)),t}function sd(){const t=Wi();if(Ge(","))throw new Error(Ma);return t}function U4(t){te=t,G=0,At=te.length,Fe=null,nb();const e=sd();if(Fe.type!==ka)throw new Error("Unexpect token after expression.");return e}var G4={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function H4(t){function e(o,a,u,f){let l=t(a[0]);return u&&(l=u+"("+l+")",u.lastIndexOf("new ",0)===0&&(l="("+l+")")),l+"."+o+(f<0?"":f===0?"()":"("+a.slice(1).map(t).join(",")+")")}function n(o,a,u){return f=>e(o,f,a,u)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&Xe("Missing arguments to clamp function."),o.length>3&&Xe("Too many arguments to clamp function.");const a=o.map(t);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:s,test:n("test",s),if:function(o){o.length<3&&Xe("Missing arguments to if function."),o.length>3&&Xe("Too many arguments to if function.");const a=o.map(t);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function $4(t){const e=t&&t.length-1;return e&&(t[0]==='"'&&t[e]==='"'||t[0]==="'"&&t[e]==="'")?t.slice(1,-1):t}function V4(t){t=t||{};const e=t.allowed?Ru(t.allowed):{},n=t.forbidden?Ru(t.forbidden):{},r=t.constants||G4,i=(t.functions||H4)(c),s=t.globalvar,o=t.fieldvar,a=Pt(s)?s:p=>`${s}["${p}"]`;let u={},f={},l=0;function c(p){if(Ke(p))return p;const b=h[p.type];return b==null&&Xe("Unsupported type: "+p.type),b(p)}const h={Literal:p=>p.raw,Identifier:p=>{const b=p.name;return l>0?b:Pi(n,b)?Xe("Illegal identifier: "+b):Pi(r,b)?r[b]:Pi(e,b)?b:(u[b]=1,a(b))},MemberExpression:p=>{const b=!p.computed,y=c(p.object);b&&(l+=1);const w=c(p.property);return y===o&&(f[$4(w)]=1),b&&(l-=1),y+(b?"."+w:"["+w+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Xe("Illegal callee type: "+p.callee.type);const b=p.callee.name,y=p.arguments,w=Pi(i,b)&&i[b];return w||Xe("Unrecognized function: "+b),Pt(w)?w(y):w+"("+y.map(c).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(c).join(",")+"]",BinaryExpression:p=>"("+c(p.left)+" "+p.operator+" "+c(p.right)+")",UnaryExpression:p=>"("+p.operator+c(p.argument)+")",ConditionalExpression:p=>"("+c(p.test)+"?"+c(p.consequent)+":"+c(p.alternate)+")",LogicalExpression:p=>"("+c(p.left)+p.operator+c(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(c).join(",")+"}",Property:p=>{l+=1;const b=c(p.key);return l-=1,b+":"+c(p.value)}};function d(p){const b={code:c(p),globals:Object.keys(u),fields:Object.keys(f)};return u={},f={},b}return d.functions=i,d.constants=r,d}function od(t,e={}){const n=V4({forbidden:[],allowed:["datum"],globalvar:"globalObject",fieldvar:"datum"});try{const r=U4(t),i=n(r),s=Function("datum","globalObject",`"use strict"; return (${i.code});`),o=a=>s(a,e);return o.fields=i.fields,o}catch(r){throw new Error(`Invalid expression: ${t}, ${r.message}`)}}function Yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ad=Symbol("implicit");function fd(){var t=new Ni,e=[],n=[],r=ad;function i(s){let o=t.get(s);if(o===void 0){if(r!==ad)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Ni;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return fd(e,n).unknown(r)},Yn.apply(i,arguments),i}function qs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function za(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qr(){}var Yi=.7,js=1/Yi,Zs="\\s*([+-]?\\d+)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q4=/^#([0-9a-f]{3,8})$/,j4=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),Z4=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),W4=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${Ua}\\)$`),Y4=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Ua}\\)$`),Q4=new RegExp(`^hsl\\(${Ua},${Qn},${Qn}\\)$`),X4=new RegExp(`^hsla\\(${Ua},${Qn},${Qn},${Ua}\\)$`),ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qs(Qr,Xr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lb,formatHex:lb,formatHex8:K4,formatHsl:J4,formatRgb:cb,toString:cb});function lb(){return this.rgb().formatHex()}function K4(){return this.rgb().formatHex8()}function J4(){return mb(this).formatHsl()}function cb(){return this.rgb().formatRgb()}function Xr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=q4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hb(e):n===3?new dt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?il(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?il(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=j4.exec(t))?new dt(e[1],e[2],e[3],1):(e=Z4.exec(t))?new dt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=W4.exec(t))?il(e[1],e[2],e[3],e[4]):(e=Y4.exec(t))?il(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q4.exec(t))?gb(e[1],e[2]/100,e[3]/100,1):(e=X4.exec(t))?gb(e[1],e[2]/100,e[3]/100,e[4]):ub.hasOwnProperty(t)?hb(ub[t]):t==="transparent"?new dt(NaN,NaN,NaN,0):null}function hb(t){return new dt(t>>16&255,t>>8&255,t&255,1)}function il(t,e,n,r){return r<=0&&(t=e=n=NaN),new dt(t,e,n,r)}function ud(t){return t instanceof Qr||(t=Xr(t)),t?(t=t.rgb(),new dt(t.r,t.g,t.b,t.opacity)):new dt}function sl(t,e,n,r){return arguments.length===1?ud(t):new dt(t,e,n,r??1)}function dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qs(dt,sl,za(Qr,{brighter(t){return t=t==null?js:Math.pow(js,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yi:Math.pow(Yi,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dt(Qi(this.r),Qi(this.g),Qi(this.b),ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:db,formatHex:db,formatHex8:eT,formatRgb:pb,toString:pb}));function db(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function eT(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function pb(){const t=ol(this.opacity);return`${t===1?"rgb(":"rgba("}${Qi(this.r)}, ${Qi(this.g)}, ${Qi(this.b)}${t===1?")":`, ${t})`}`}function ol(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xi(t){return t=Qi(t),(t<16?"0":"")+t.toString(16)}function gb(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function mb(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof Qr||(t=Xr(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Bn(o,a,u,t.opacity)}function ld(t,e,n,r){return arguments.length===1?mb(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qs(Bn,ld,za(Qr,{brighter(t){return t=t==null?js:Math.pow(js,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yi:Math.pow(Yi,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dt(cd(t>=240?t-240:t+120,i,r),cd(t,i,r),cd(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bn(bb(this.h),al(this.s),al(this.l),ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ol(this.opacity);return`${t===1?"hsl(":"hsla("}${bb(this.h)}, ${al(this.s)*100}%, ${al(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bb(t){return t=(t||0)%360,t<0?t+360:t}function al(t){return Math.max(0,Math.min(1,t||0))}function cd(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yb=Math.PI/180,wb=180/Math.PI,fl=18,xb=.96422,vb=1,Ab=.82521,Eb=4/29,Ws=6/29,_b=3*Ws*Ws,tT=Ws*Ws*Ws;function Sb(t){if(t instanceof Xn)return new Xn(t.l,t.a,t.b,t.opacity);if(t instanceof _r)return Cb(t);t instanceof dt||(t=ud(t));var e=md(t.r),n=md(t.g),r=md(t.b),i=dd((.2225045*e+.7168786*n+.0606169*r)/vb),s,o;return e===n&&n===r?s=o=i:(s=dd((.4360747*e+.3850649*n+.1430804*r)/xb),o=dd((.0139322*e+.0971045*n+.7141733*r)/Ab)),new Xn(116*i-16,500*(s-i),200*(i-o),t.opacity)}function hd(t,e,n,r){return arguments.length===1?Sb(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}qs(Xn,hd,za(Qr,{brighter(t){return new Xn(this.l+fl*(t??1),this.a,this.b,this.opacity)},darker(t){return new Xn(this.l-fl*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=xb*pd(e),t=vb*pd(t),n=Ab*pd(n),new dt(gd(3.1338561*e-1.6168667*t-.4906146*n),gd(-.9787684*e+1.9161415*t+.033454*n),gd(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function dd(t){return t>tT?Math.pow(t,1/3):t/_b+Eb}function pd(t){return t>Ws?t*t*t:_b*(t-Eb)}function gd(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function md(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function nT(t){if(t instanceof _r)return new _r(t.h,t.c,t.l,t.opacity);if(t instanceof Xn||(t=Sb(t)),t.a===0&&t.b===0)return new _r(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*wb;return new _r(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function bd(t,e,n,r){return arguments.length===1?nT(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Cb(t){if(isNaN(t.h))return new Xn(t.l,0,0,t.opacity);var e=t.h*yb;return new Xn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}qs(_r,bd,za(Qr,{brighter(t){return new _r(this.h,this.c,this.l+fl*(t??1),this.opacity)},darker(t){return new _r(this.h,this.c,this.l-fl*(t??1),this.opacity)},rgb(){return Cb(this).rgb()}}));var Tb=-.14861,yd=1.78277,wd=-.29227,ul=-.90649,Ga=1.97294,Fb=Ga*ul,Ib=Ga*yd,Db=yd*wd-ul*Tb;function rT(t){if(t instanceof Ki)return new Ki(t.h,t.s,t.l,t.opacity);t instanceof dt||(t=ud(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Db*r+Fb*e-Ib*n)/(Db+Fb-Ib),s=r-i,o=(Ga*(n-i)-wd*s)/ul,a=Math.sqrt(o*o+s*s)/(Ga*i*(1-i)),u=a?Math.atan2(o,s)*wb-120:NaN;return new Ki(u<0?u+360:u,a,i,t.opacity)}function xd(t,e,n,r){return arguments.length===1?rT(t):new Ki(t,e,n,r??1)}function Ki(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qs(Ki,xd,za(Qr,{brighter(t){return t=t==null?js:Math.pow(js,t),new Ki(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yi:Math.pow(Yi,t),new Ki(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*yb,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new dt(255*(e+n*(Tb*r+yd*i)),255*(e+n*(wd*r+ul*i)),255*(e+n*(Ga*r)),this.opacity)}}));function Bb(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}function kb(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],o=r>0?t[r-1]:2*i-s,a=r<e-1?t[r+2]:2*s-i;return Bb((n-r/e)*e,o,i,s,a)}}function Rb(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],s=t[r%e],o=t[(r+1)%e],a=t[(r+2)%e];return Bb((n-r/e)*e,i,s,o,a)}}const ll=t=>()=>t;function Mb(t,e){return function(n){return t+n*e}}function iT(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cl(t,e){var n=e-t;return n?Mb(t,n>180||n<-180?n-360*Math.round(n/360):n):ll(isNaN(t)?e:t)}function sT(t){return(t=+t)==1?pt:function(e,n){return n-e?iT(e,n,t):ll(isNaN(e)?n:e)}}function pt(t,e){var n=e-t;return n?Mb(t,n):ll(isNaN(t)?e:t)}const vd=function t(e){var n=sT(e);function r(i,s){var o=n((i=sl(i)).r,(s=sl(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),f=pt(i.opacity,s.opacity);return function(l){return i.r=o(l),i.g=a(l),i.b=u(l),i.opacity=f(l),i+""}}return r.gamma=t,r}(1);function Pb(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=sl(e[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=t(r),i=t(i),s=t(s),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=s(u),a+""}}}var oT=Pb(kb),aT=Pb(Rb);function Ad(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Nb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fT(t,e){return(Nb(e)?Ad:Lb)(t,e)}function Lb(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Kr(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Ob(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zb(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kr(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ed=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_d=new RegExp(Ed.source,"g");function uT(t){return function(){return t}}function lT(t){return function(e){return t(e)+""}}function Ub(t,e){var n=Ed.lastIndex=_d.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Ed.exec(t))&&(i=_d.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:kn(r,i)})),n=_d.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?lT(u[0].x):uT(e):(e=u.length,function(f){for(var l=0,c;l<e;++l)a[(c=u[l]).i]=c.x(f);return a.join("")})}function Kr(t,e){var n=typeof e,r;return e==null||n==="boolean"?ll(e):(n==="number"?kn:n==="string"?(r=Xr(e))?(e=r,vd):Ub:e instanceof Xr?vd:e instanceof Date?Ob:Nb(e)?Ad:Array.isArray(e)?Lb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zb:kn)(t,e)}function cT(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function hT(t,e){var n=cl(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Ha(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Gb=180/Math.PI,Sd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hb(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Gb,skewX:Math.atan(u)*Gb,scaleX:o,scaleY:a}}var hl;function dT(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Sd:Hb(e.a,e.b,e.c,e.d,e.e,e.f)}function pT(t){return t==null||(hl||(hl=document.createElementNS("http://www.w3.org/2000/svg","g")),hl.setAttribute("transform",t),!(t=hl.transform.baseVal.consolidate()))?Sd:(t=t.matrix,Hb(t.a,t.b,t.c,t.d,t.e,t.f))}function $b(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,l,c,h,d,p){if(f!==c||l!==h){var b=d.push("translate(",null,e,null,n);p.push({i:b-4,x:kn(f,c)},{i:b-2,x:kn(l,h)})}else(c||h)&&d.push("translate("+c+e+h+n)}function o(f,l,c,h){f!==l?(f-l>180?l+=360:l-f>180&&(f+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:kn(f,l)})):l&&c.push(i(c)+"rotate("+l+r)}function a(f,l,c,h){f!==l?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:kn(f,l)}):l&&c.push(i(c)+"skewX("+l+r)}function u(f,l,c,h,d,p){if(f!==c||l!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:kn(f,c)},{i:b-2,x:kn(l,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(f,l){var c=[],h=[];return f=t(f),l=t(l),s(f.translateX,f.translateY,l.translateX,l.translateY,c,h),o(f.rotate,l.rotate,c,h),a(f.skewX,l.skewX,c,h),u(f.scaleX,f.scaleY,l.scaleX,l.scaleY,c,h),f=l=null,function(d){for(var p=-1,b=h.length,y;++p<b;)c[(y=h[p]).i]=y.x(d);return c.join("")}}}var gT=$b(dT,"px, ","px)","deg)"),mT=$b(pT,", ",")",")"),bT=1e-12;function Vb(t){return((t=Math.exp(t))+1/t)/2}function yT(t){return((t=Math.exp(t))-1/t)/2}function wT(t){return((t=Math.exp(2*t))-1)/(t+1)}const xT=function t(e,n,r){function i(s,o){var a=s[0],u=s[1],f=s[2],l=o[0],c=o[1],h=o[2],d=l-a,p=c-u,b=d*d+p*p,y,w;if(b<bT)w=Math.log(h/f)/e,y=function(I){return[a+I*d,u+I*p,f*Math.exp(e*I*w)]};else{var E=Math.sqrt(b),S=(h*h-f*f+r*b)/(2*f*n*E),T=(h*h-f*f-r*b)/(2*h*n*E),D=Math.log(Math.sqrt(S*S+1)-S),B=Math.log(Math.sqrt(T*T+1)-T);w=(B-D)/e,y=function(I){var N=I*w,C=Vb(D),M=f/(n*E)*(C*wT(e*N+D)-yT(D));return[a+M*d,u+M*p,f*C/Vb(e*N+D)]}}return y.duration=w*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return t(o,a,u)},i}(Math.SQRT2,2,4);function qb(t){return function(e,n){var r=t((e=ld(e)).h,(n=ld(n)).h),i=pt(e.s,n.s),s=pt(e.l,n.l),o=pt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.s=i(a),e.l=s(a),e.opacity=o(a),e+""}}}const vT=qb(cl);var AT=qb(pt);function ET(t,e){var n=pt((t=hd(t)).l,(e=hd(e)).l),r=pt(t.a,e.a),i=pt(t.b,e.b),s=pt(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=s(o),t+""}}function jb(t){return function(e,n){var r=t((e=bd(e)).h,(n=bd(n)).h),i=pt(e.c,n.c),s=pt(e.l,n.l),o=pt(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=s(a),e.opacity=o(a),e+""}}}const _T=jb(cl);var ST=jb(pt);function Zb(t){return function e(n){n=+n;function r(i,s){var o=t((i=xd(i)).h,(s=xd(s)).h),a=pt(i.s,s.s),u=pt(i.l,s.l),f=pt(i.opacity,s.opacity);return function(l){return i.h=o(l),i.s=a(l),i.l=u(Math.pow(l,n)),i.opacity=f(l),i+""}}return r.gamma=e,r}(1)}const CT=Zb(cl);var TT=Zb(pt);function Cd(t,e){e===void 0&&(e=t,t=Kr);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function FT(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const IT=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Kr,interpolateArray:fT,interpolateBasis:kb,interpolateBasisClosed:Rb,interpolateCubehelix:CT,interpolateCubehelixLong:TT,interpolateDate:Ob,interpolateDiscrete:cT,interpolateHcl:_T,interpolateHclLong:ST,interpolateHsl:vT,interpolateHslLong:AT,interpolateHue:hT,interpolateLab:ET,interpolateNumber:kn,interpolateNumberArray:Ad,interpolateObject:zb,interpolateRgb:vd,interpolateRgbBasis:oT,interpolateRgbBasisClosed:aT,interpolateRound:Ha,interpolateString:Ub,interpolateTransformCss:gT,interpolateTransformSvg:mT,interpolateZoom:xT,piecewise:Cd,quantize:FT},Symbol.toStringTag,{value:"Module"}));function DT(t){return function(){return t}}function Td(t){return+t}var Wb=[0,1];function Ut(t){return t}function Fd(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:DT(isNaN(e)?NaN:.5)}function BT(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kT(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Fd(i,r),s=n(o,s)):(r=Fd(r,i),s=n(s,o)),function(a){return s(r(a))}}function RT(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Fd(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var u=zs(t,a,1,r)-1;return s[u](i[u](a))}}function $a(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dl(){var t=Wb,e=Wb,n=Kr,r,i,s,o=Ut,a,u,f;function l(){var h=Math.min(t.length,e.length);return o!==Ut&&(o=BT(t[0],t[h-1])),a=h>2?RT:kT,u=f=null,c}function c(h){return h==null||isNaN(h=+h)?s:(u||(u=a(t.map(r),e,n)))(r(o(h)))}return c.invert=function(h){return o(i((f||(f=a(e,t.map(r),kn)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Td),l()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=Ha,l()},c.clamp=function(h){return arguments.length?(o=h?!0:Ut,l()):o!==Ut},c.interpolate=function(h){return arguments.length?(n=h,l()):n},c.unknown=function(h){return arguments.length?(s=h,c):s},function(h,d){return r=h,i=d,l()}}function Yb(){return dl()(Ut,Ut)}function Qb(t,e,n,r){var i=Li(t,e,n),s;switch(r=$r(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Jm(i,o))&&(r.precision=s),Th(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=e1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Km(i))&&(r.precision=s-(r.type==="%")*2);break}}return mt(r)}function Ji(t){var e=t.domain;return t.ticks=function(n){var r=e();return Nu(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qb(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],u,f,l=10;for(a<o&&(f=o,o=a,a=f,f=i,i=s,s=f);l-- >0;){if(f=Vm(o,a,n),f===u)return r[i]=o,r[s]=a,e(r);if(f>0)o=Math.floor(o/f)*f,a=Math.ceil(a/f)*f;else if(f<0)o=Math.ceil(o*f)/f,a=Math.floor(a*f)/f;else break;u=f}return t},t}function Xb(){var t=Yb();return t.copy=function(){return $a(t,Xb())},Yn.apply(t,arguments),Ji(t)}function Kb(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Td),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Kb(t).unknown(e)},t=arguments.length?Array.from(t,Td):[0,1],Ji(n)}function Jb(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function ey(t){return Math.log(t)}function ty(t){return Math.exp(t)}function MT(t){return-Math.log(-t)}function PT(t){return-Math.exp(-t)}function NT(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LT(t){return t===10?NT:t===Math.E?Math.exp:e=>Math.pow(t,e)}function OT(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ny(t){return(e,n)=>-t(-e,n)}function Id(t){const e=t(ey,ty),n=e.domain;let r=10,i,s;function o(){return i=OT(r),s=LT(r),n()[0]<0?(i=ny(i),s=ny(s),t(MT,PT)):t(ey,ty),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const u=n();let f=u[0],l=u[u.length-1];const c=l<f;c&&([f,l]=[l,f]);let h=i(f),d=i(l),p,b;const y=a==null?10:+a;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),f>0){for(;h<=d;++h)for(p=1;p<r;++p)if(b=h<0?p/s(-h):p*s(h),!(b<f)){if(b>l)break;w.push(b)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(b=h>0?p/s(-h):p*s(h),!(b<f)){if(b>l)break;w.push(b)}w.length*2<y&&(w=Nu(f,l,y))}else w=Nu(h,d,Math.min(d-h,y)).map(s);return c?w.reverse():w},e.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=$r(u)).precision==null&&(u.trim=!0),u=mt(u)),a===1/0)return u;const f=Math.max(1,r*a/e.ticks().length);return l=>{let c=l/s(Math.round(i(l)));return c*r<r-.5&&(c*=r),c<=f?u(l):""}},e.nice=()=>n(Jb(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function Dd(){const t=Id(dl()).domain([1,10]);return t.copy=()=>$a(t,Dd()).base(t.base()),Yn.apply(t,arguments),t}function ry(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iy(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Bd(t){var e=1,n=t(ry(e),iy(e));return n.constant=function(r){return arguments.length?t(ry(e=+r),iy(e)):e},Ji(n)}function sy(){var t=Bd(dl());return t.copy=function(){return $a(t,sy()).constant(t.constant())},Yn.apply(t,arguments)}function oy(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zT(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UT(t){return t<0?-t*t:t*t}function kd(t){var e=t(Ut,Ut),n=1;function r(){return n===1?t(Ut,Ut):n===.5?t(zT,UT):t(oy(n),oy(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ji(e)}function Rd(){var t=kd(dl());return t.copy=function(){return $a(t,Rd()).exponent(t.exponent())},Yn.apply(t,arguments),t}function GT(){return Rd.apply(null,arguments).exponent(.5)}function ay(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=qm(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[zs(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(la),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return ay().domain(t).range(e).unknown(r)},Yn.apply(s,arguments)}function fy(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[zs(r,u,0,n)]:s}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,a()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return fy().domain([t,e]).range(i).unknown(s)},Yn.apply(Ji(o),arguments)}function uy(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[zs(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return uy().domain(t).range(e).unknown(n)},Yn.apply(i,arguments)}function HT(t){return new Date(t)}function $T(t){return t instanceof Date?+t:+new Date(+t)}function Md(t,e,n,r,i,s,o,a,u,f){var l=Yb(),c=l.invert,h=l.domain,d=f(".%L"),p=f(":%S"),b=f("%I:%M"),y=f("%I %p"),w=f("%a %d"),E=f("%b %d"),S=f("%B"),T=f("%Y");function D(B){return(u(B)<B?d:a(B)<B?p:o(B)<B?b:s(B)<B?y:r(B)<B?i(B)<B?w:E:n(B)<B?S:T)(B)}return l.invert=function(B){return new Date(c(B))},l.domain=function(B){return arguments.length?h(Array.from(B,$T)):h().map(HT)},l.ticks=function(B){var I=h();return t(I[0],I[I.length-1],B??10)},l.tickFormat=function(B,I){return I==null?D:f(I)},l.nice=function(B){var I=h();return(!B||typeof B.range!="function")&&(B=e(I[0],I[I.length-1],B??10)),B?h(Jb(I,B)):l},l.copy=function(){return $a(l,Md(t,e,n,r,i,s,o,a,u,f))},l}function VT(){return Yn.apply(Md(zC,UC,qr,Hu,ha,zi,Mh,Rh,Vr,Hh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qT(){return Yn.apply(Md(LC,OC,jr,Vu,da,Gi,Lh,Nh,Vr,$h).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pl(){var t=0,e=1,n,r,i,s,o=Ut,a=!1,u;function f(c){return c==null||isNaN(c=+c)?u:o(i===0?.5:(c=(s(c)-n)*i,a?Math.max(0,Math.min(1,c)):c))}f.domain=function(c){return arguments.length?([t,e]=c,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(c){return arguments.length?(a=!!c,f):a},f.interpolator=function(c){return arguments.length?(o=c,f):o};function l(c){return function(h){var d,p;return arguments.length?([d,p]=h,o=c(d,p),f):[o(0),o(1)]}}return f.range=l(Kr),f.rangeRound=l(Ha),f.unknown=function(c){return arguments.length?(u=c,f):u},function(c){return s=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),f}}function Jr(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Pd(){var t=Ji(pl()(Ut));return t.copy=function(){return Jr(t,Pd())},Yr.apply(t,arguments)}function ly(){var t=Id(pl()).domain([1,10]);return t.copy=function(){return Jr(t,ly()).base(t.base())},Yr.apply(t,arguments)}function cy(){var t=Bd(pl());return t.copy=function(){return Jr(t,cy()).constant(t.constant())},Yr.apply(t,arguments)}function Nd(){var t=kd(pl());return t.copy=function(){return Jr(t,Nd()).exponent(t.exponent())},Yr.apply(t,arguments)}function jT(){return Nd.apply(null,arguments).exponent(.5)}function gl(){var t=0,e=.5,n=1,r=1,i,s,o,a,u,f=Ut,l,c=!1,h;function d(b){return isNaN(b=+b)?h:(b=.5+((b=+l(b))-s)*(r*b<r*s?a:u),f(c?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([t,e,n]=b,i=l(t=+t),s=l(e=+e),o=l(n=+n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,d):[t,e,n]},d.clamp=function(b){return arguments.length?(c=!!b,d):c},d.interpolator=function(b){return arguments.length?(f=b,d):f};function p(b){return function(y){var w,E,S;return arguments.length?([w,E,S]=y,f=Cd(b,[w,E,S]),d):[f(0),f(.5),f(1)]}}return d.range=p(Kr),d.rangeRound=p(Ha),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return l=b,i=b(t),s=b(e),o=b(n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function hy(){var t=Ji(gl()(Ut));return t.copy=function(){return Jr(t,hy())},Yr.apply(t,arguments)}function dy(){var t=Id(gl()).domain([.1,1,10]);return t.copy=function(){return Jr(t,dy()).base(t.base())},Yr.apply(t,arguments)}function py(){var t=Bd(gl());return t.copy=function(){return Jr(t,py()).constant(t.constant())},Yr.apply(t,arguments)}function Ld(){var t=kd(gl());return t.copy=function(){return Jr(t,Ld()).exponent(t.exponent())},Yr.apply(t,arguments)}function ZT(){return Ld.apply(null,arguments).exponent(.5)}function Od(t,e,n){const r=t-e+n*2;return t?r>0?r:1:0}const WT="identity",Ys="linear",ei="log",Va="pow",qa="sqrt",ml="symlog",gy="time",my="utc",Kn="sequential",Qs="diverging",zd="quantile",by="quantize",yy="threshold",Ud="ordinal",Gd="point",wy="band",Hd="bin-ordinal",at="continuous",ja="discrete",Za="discretizing",fn="interpolating",xy="temporal";function YT(t){return function(e){let n=e[0],r=e[1],i;return r<n&&(i=n,n=r,r=i),[t.invert(n),t.invert(r)]}}function QT(t){return function(e){const n=t.range();let r=e[0],i=e[1],s=-1,o,a,u,f;for(i<r&&(a=r,r=i,i=a),u=0,f=n.length;u<f;++u)n[u]>=r&&n[u]<=i&&(s<0&&(s=u),o=u);if(!(s<0))return r=t.invertExtent(n[s]),i=t.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function $d(){const t=fd().unknown(void 0),e=t.domain,n=t.range;let r=[0,1],i,s,o=!1,a=0,u=0,f=.5;delete t.unknown;function l(){const c=e().length,h=r[1]<r[0],d=r[1-h],p=Od(c,a,u);let b=r[h-0];i=(d-b)/(p||1),o&&(i=Math.floor(i)),b+=(d-b-i*(c-a))*f,s=i*(1-a),o&&(b=Math.round(b),s=Math.round(s));const y=ca(c).map(w=>b+i*w);return n(h?y.reverse():y)}return t.domain=function(c){return arguments.length?(e(c),l()):e()},t.range=function(c){return arguments.length?(r=[+c[0],+c[1]],l()):r.slice()},t.rangeRound=function(c){return r=[+c[0],+c[1]],o=!0,l()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(c){return arguments.length?(o=!!c,l()):o},t.padding=function(c){return arguments.length?(u=Math.max(0,Math.min(1,c)),a=u,l()):a},t.paddingInner=function(c){return arguments.length?(a=Math.max(0,Math.min(1,c)),l()):a},t.paddingOuter=function(c){return arguments.length?(u=Math.max(0,Math.min(1,c)),l()):u},t.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),l()):f},t.invertRange=function(c){if(c[0]==null||c[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let b=+c[0],y=+c[1],w,E,S;if(!(b!==b||y!==y)&&(y<b&&(S=b,b=y,y=S),!(y<d[0]||b>r[1-h])))return w=Math.max(0,vh(d,b)-1),E=b===y?w:vh(d,y)-1,b-d[w]>s+1e-10&&++w,h&&(S=w,w=p-E,E=p-S),w>E?void 0:e().slice(w,E+1)},t.invert=function(c){const h=t.invertRange([c,c]);return h&&h[0]},t.copy=function(){return $d().domain(e()).range(r).round(o).paddingInner(a).paddingOuter(u).align(f)},l()}function vy(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return vy(e())},t}function XT(){return vy($d().paddingInner(1))}var KT=Array.prototype.map;function JT(t){return KT.call(t,fa)}const eF=Array.prototype.slice;function Ay(){let t=[],e=[];function n(r){return r==null||r!==r?void 0:e[(zs(t,r)-1)%e.length]}return n.domain=function(r){return arguments.length?(t=JT(r),n):t.slice()},n.range=function(r){return arguments.length?(e=eF.call(r),n):e.slice()},n.tickFormat=function(r,i){return Qb(t[0],In(t),r??10,i)},n.copy=function(){return Ay().domain(n.domain()).range(n.range())},n}const bl={};function tF(t,e,n){const r=function(){const s=e();return s.invertRange||(s.invertRange=s.invert?YT(s):s.invertExtent?QT(s):void 0),s.type=t,s};return r.metadata=Ru(mh(n)),r}function Ce(t,e,n){return arguments.length>1?(bl[t]=tF(t,e,n),this):nF(t)?bl[t]:void 0}Ce(WT,Kb),Ce(Ys,Xb,at),Ce(ei,Dd,[at,ei]),Ce(Va,Rd,at),Ce(qa,GT,at),Ce(ml,sy,at),Ce(gy,VT,[at,xy]),Ce(my,qT,[at,xy]),Ce(Kn,Pd,[at,fn]),Ce("".concat(Kn,"-").concat(Ys),Pd,[at,fn]),Ce("".concat(Kn,"-").concat(ei),ly,[at,fn,ei]),Ce("".concat(Kn,"-").concat(Va),Nd,[at,fn]),Ce("".concat(Kn,"-").concat(qa),jT,[at,fn]),Ce("".concat(Kn,"-").concat(ml),cy,[at,fn]),Ce("".concat(Qs,"-").concat(Ys),hy,[at,fn]),Ce("".concat(Qs,"-").concat(ei),dy,[at,fn,ei]),Ce("".concat(Qs,"-").concat(Va),Ld,[at,fn]),Ce("".concat(Qs,"-").concat(qa),ZT,[at,fn]),Ce("".concat(Qs,"-").concat(ml),py,[at,fn]),Ce(zd,ay,[Za,zd]),Ce(by,fy,Za),Ce(yy,uy,Za),Ce(Hd,Ay,[ja,Za]),Ce(Ud,fd,ja),Ce(wy,$d,ja),Ce(Gd,XT,ja);function nF(t){return Pi(bl,t)}function Wa(t,e){const n=bl[t];return n&&n.metadata[e]}function _t(t){return Wa(t,at)}function ti(t){return Wa(t,ja)}function Xs(t){return Wa(t,Za)}function Ey(t){return Wa(t,ei)}function yl(t){return Wa(t,fn)}function rF(t,e){const n=e[0],r=In(e)-n;return function(i){return t(n+i*r)}}function wl(t,e,n){return Cd(_y(e||"rgb",n),t)}function iF(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function _y(t,e){const n=IT[sF(t)];return e!=null&&n&&n.gamma?n.gamma(e):n}function sF(t){return"interpolate"+t.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}const oF={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aF={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function Sy(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}function Cy(t,e){for(const n in t)Vd(n,e(t[n]))}const Ty={};Cy(aF,Sy),Cy(oF,t=>wl(Sy(t)));function Vd(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(Ty[t]=e,this):Ty[t]}function fF(){let t=0;const e=new Map,n=r=>{let i=e.get(r);return i===void 0&&(i=t++,e.set(r,i)),i};return n.addAll=r=>{for(const i of r)n(i)},n.invert=r=>{for(const i of e.entries())if(i[1]==r)return i[0]},n.domain=()=>[...e.keys()],n}function xl(){const t=e=>e;return t.invert=e=>e,t.copy=xl,t.invertRange=()=>{},t.type="null",t}function uF(t,e){const n={};e||(e=t.encoding);for(const[r,i]of Object.entries(e)){if(!i)continue;const s=((un(i)&&i.resolutionChannel)??(ns(r)&&r))||void 0,o=t.unitView.getScaleResolution(s);n[r]=lF(e[r],o==null?void 0:o.getScale(),t.unitView.getAccessor(r),r)}return n}function lF(t,e,n,r){let i;if(Rn(t)){const s=t.value;i=o=>s,i.constant=!0,i.constantValue=!0,i.accessor=void 0}else if(n)if(r=="text")i=s=>{},i.accessor=n,i.constant=n.constant;else{if(!e)if(!ns(r))e=xl();else throw new Error(`Missing scale! "${r}": ${JSON.stringify(t)}`);if(i=s=>e(n(s)),ti(e.type)){const s=fF();s.addAll(e.domain()),i.indexer=s}i.constant=n.constant,i.accessor=n,i.scale=e}else throw new Error(`Missing value or accessor (field, expr, datum) on channel "${r}": ${JSON.stringify(t)}`);return i.invert=e?s=>e.invert(s):s=>{throw new Error("No scale available, cannot invert: "+JSON.stringify(t))},i.channelDef=t,i.applyMetadata=s=>{for(const o in i)o in i&&(s[o]=i[o]);return s},i}function Rn(t){return t&&"value"in t}function Ya(t){return t&&"field"in t}function Qa(t){return t&&"datum"in t}function un(t){return Ya(t)||Qa(t)||jd(t)||Fy(t)}function qd(t,e){const n=t.mark.encoding[e];if(un(n))return n;throw new Error("Not a channel def with scale!")}function Fy(t){return t&&"chrom"in t}function jd(t){return t&&"expr"in t}const Ks=["x","y"],cF=["x2","y2"],hF=[...Ks,...cF];function Iy(t){return Ks.includes(t)}function Xa(t){return hF.includes(t)}const Zd={x:"x2",y:"y2"},Dy=Object.fromEntries(Object.entries(Zd).map(t=>[t[1],t[0]]));function Ka(t){return t in Dy}function dF(t){const e=Zd[t];if(e)return e;throw new Error(`${t} has no secondary channel!`)}function es(t){return Dy[t]??t}function ts(t){return["color","fill","stroke"].includes(es(t))}function vl(t){return["shape","squeeze"].includes(t)}function ns(t){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(t)}function By(t){switch(t){case"shape":return["circle","square","triangle-up","cross","diamond","triangle-down","triangle-right","triangle-left"]}}function ky(t){if(!vl(t))throw new Error("Not a discrete channel: "+t);const e=new Map(By(t).map((n,r)=>[n,r]));return n=>{const r=e.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${t}" channel: ${n}`)}}function Re(t,e=t){if(/^[A-Za-z0-9_]+$/.test(t)){const n=new Function("datum",`return datum[${JSON.stringify(t)}]`);return de(n,[t],e)}else return Cu(t)}class pF{constructor(){this.accessorCreators=[],this.register(e=>{if(Ya(e))try{const n=Re(e.field);return n.constant=!1,n.fields=Mi(n),n}catch(n){throw new Error(`Invalid field definition: ${n.message}`)}}),this.register(e=>jd(e)?gF(e.expr):void 0),this.register(e=>{if(Qa(e)){const r=jS(e.datum);return r.constant=!0,r.fields=[],r}})}register(e){this.accessorCreators.push(e)}createAccessor(e){for(const n of this.accessorCreators){const r=n(e);if(r)return r}}}function gF(t){const e=od(t);return e.constant=e.fields.length==0,e}/* @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Wd=5120,Ja=5121,Yd=5122,Qd=5123,Xd=5124,Kd=5125,Jd=5126,mF=32819,bF=32820,yF=33635,wF=5131,xF=33640,vF=35899,AF=35902,EF=36269,_F=34042,Ry={};{const t=Ry;t[Wd]=Int8Array,t[Ja]=Uint8Array,t[Yd]=Int16Array,t[Qd]=Uint16Array,t[Xd]=Int32Array,t[Kd]=Uint32Array,t[Jd]=Float32Array,t[mF]=Uint16Array,t[bF]=Uint16Array,t[yF]=Uint16Array,t[wF]=Uint16Array,t[xF]=Uint32Array,t[vF]=Uint32Array,t[AF]=Uint32Array,t[EF]=Uint32Array,t[_F]=Uint32Array}function e0(t){if(t instanceof Int8Array)return Wd;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return Ja;if(t instanceof Int16Array)return Yd;if(t instanceof Uint16Array)return Qd;if(t instanceof Int32Array)return Xd;if(t instanceof Uint32Array)return Kd;if(t instanceof Float32Array)return Jd;throw new Error("unsupported typed array type")}function SF(t){if(t===Int8Array)return Wd;if(t===Uint8Array||t===Uint8ClampedArray)return Ja;if(t===Int16Array)return Yd;if(t===Uint16Array)return Qd;if(t===Int32Array)return Xd;if(t===Uint32Array)return Kd;if(t===Float32Array)return Jd;throw new Error("unsupported typed array type")}function CF(t){const e=Ry[t];if(!e)throw new Error("unknown gl type");return e}const Al=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function TF(...t){console.error(...t)}function My(...t){console.warn(...t)}function FF(t,e){return typeof WebGLBuffer<"u"&&e instanceof WebGLBuffer}function Py(t,e){return typeof WebGLRenderbuffer<"u"&&e instanceof WebGLRenderbuffer}function El(t,e){return typeof WebGLTexture<"u"&&e instanceof WebGLTexture}function IF(t,e){return typeof WebGLSampler<"u"&&e instanceof WebGLSampler}const Ny=35044,Jn=34962,DF=34963,BF=34660,kF=5120,RF=5121,MF=5122,PF=5123,NF=5124,LF=5125,OF=5126,Ly={attribPrefix:""};function Oy(t,e,n,r,i){t.bindBuffer(e,n),t.bufferData(e,r,i||Ny)}function zy(t,e,n,r){if(FF(t,e))return e;n=n||Jn;const i=t.createBuffer();return Oy(t,n,i,e,r),i}function Uy(t){return t==="indices"}function zF(t){return t instanceof Int8Array||t instanceof Uint8Array}function UF(t){return t===Int8Array||t===Uint8Array}function GF(t){return t.length?t:t.data}const HF=/coord|texture/i,$F=/color|colour/i;function Gy(t,e){let n;if(HF.test(t)?n=2:$F.test(t)?n=4:n=3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function VF(t,e){return t.numComponents||t.size||Gy(e,GF(t).length)}function t0(t,e){if(Al(t))return t;if(Al(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(Uy(e)?n=Uint16Array:n=Float32Array),new n(t.data)}function qF(t,e){const n={};return Object.keys(e).forEach(function(r){if(!Uy(r)){const i=e[r],s=i.attrib||i.name||i.attribName||Ly.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!Al(i.value))throw new Error("array.value is not array or typedarray");n[s]={value:i.value}}else{let o,a,u,f;if(i.buffer&&i.buffer instanceof WebGLBuffer)o=i.buffer,f=i.numComponents||i.size,a=i.type,u=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const l=i.data||i,c=i.type||Float32Array,h=l*c.BYTES_PER_ELEMENT;a=SF(c),u=i.normalize!==void 0?i.normalize:UF(c),f=i.numComponents||i.size||Gy(r,l),o=t.createBuffer(),t.bindBuffer(Jn,o),t.bufferData(Jn,h,i.drawType||Ny)}else{const l=t0(i,r);o=zy(t,l,void 0,i.drawType),a=e0(l),u=i.normalize!==void 0?i.normalize:zF(l),f=VF(i,r)}n[s]={buffer:o,numComponents:f,type:a,normalize:u,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),t.bindBuffer(Jn,null),n}function jF(t,e,n,r){n=t0(n),r!==void 0?(t.bindBuffer(Jn,e.buffer),t.bufferSubData(Jn,r,n)):Oy(t,Jn,e.buffer,n,e.drawType)}function ZF(t,e){return e===kF||e===RF?1:e===MF||e===PF?2:e===NF||e===LF||e===OF?4:0}const n0=["position","positions","a_position"];function WF(t,e){let n,r;for(r=0;r<n0.length&&(n=n0[r],!(n in e||(n=Ly.attribPrefix+n,n in e)));++r);r===n0.length&&(n=Object.keys(e)[0]);const i=e[n];t.bindBuffer(Jn,i.buffer);const s=t.getBufferParameter(Jn,BF);t.bindBuffer(Jn,null);const o=ZF(t,i.type),a=s/o,u=i.numComponents||i.size,f=a/u;if(f%1!==0)throw new Error(`numComponents ${u} not correct for length ${length}`);return f}function YF(t,e,n){const r=qF(t,e),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const s=e.indices;if(s){const o=t0(s,"indices");i.indices=zy(t,o,DF),i.numElements=o.length,i.elementType=e0(o)}else i.numElements||(i.numElements=WF(t,i.attribs));return i}function Js(t){return!!t.texStorage2D}const r0=function(){const t={},e={};function n(r){const i=r.constructor.name;if(!t[i]){for(const s in r)if(typeof r[s]=="number"){const o=e[r[s]];e[r[s]]=o?`${o} | ${s}`:s}t[i]=!0}}return function(i,s){return n(i),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),ni={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},eo=Al,Hy=function(){let t;return function(){return t=t||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),$y=6406,er=6407,Ve=6408,Vy=6409,qy=6410,ef=6402,jy=34041,_l=33071,QF=9728,XF=9729,Sr=3553,Cr=34067,ri=32879,ii=35866,Sl=34069,KF=34070,JF=34071,eI=34072,tI=34073,nI=34074,i0=10241,s0=10240,Cl=10242,Tl=10243,Zy=32882,rI=33082,iI=33083,sI=33084,oI=33085,o0=3317,Wy=3314,Yy=32878,Qy=3316,Xy=3315,Ky=32877,aI=37443,fI=37441,uI=37440,lI=33321,cI=36756,hI=33325,dI=33326,pI=33330,gI=33329,mI=33338,bI=33337,yI=33340,wI=33339,xI=33323,vI=36757,AI=33327,EI=33328,_I=33336,SI=33335,CI=33332,TI=33331,FI=33334,II=33333,DI=32849,BI=35905,kI=36194,RI=36758,MI=35898,PI=35901,NI=34843,LI=34837,OI=36221,zI=36239,UI=36215,GI=36233,HI=36209,$I=36227,VI=32856,qI=35907,jI=36759,ZI=32855,WI=32854,YI=32857,QI=34842,XI=34836,KI=36220,JI=36238,eD=36975,tD=36214,nD=36232,rD=36226,iD=36208,sD=33189,oD=33190,aD=36012,fD=36013,uD=35056,si=5120,qe=5121,Fl=5122,to=5123,Il=5124,rs=5125,St=5126,Jy=32819,ew=32820,tw=33635,Mn=5131,tf=36193,a0=33640,lD=35899,cD=35902,hD=36269,dD=34042,Dl=33319,no=33320,Bl=6403,ro=36244,io=36248,is=36249;let f0;function kl(t){if(!f0){const e={};e[$y]={textureFormat:$y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[qe,Mn,tf,St]},e[Vy]={textureFormat:Vy,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[qe,Mn,tf,St]},e[qy]={textureFormat:qy,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[qe,Mn,tf,St]},e[er]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[qe,Mn,tf,St,tw]},e[Ve]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[qe,Mn,tf,St,Jy,ew]},e[ef]={textureFormat:ef,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[rs,to]},e[lI]={textureFormat:Bl,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[qe]},e[cI]={textureFormat:Bl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[si]},e[hI]={textureFormat:Bl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[St,Mn]},e[dI]={textureFormat:Bl,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[St]},e[pI]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[qe]},e[gI]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[si]},e[CI]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[to]},e[TI]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Fl]},e[FI]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[rs]},e[II]={textureFormat:ro,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Il]},e[xI]={textureFormat:Dl,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[qe]},e[vI]={textureFormat:Dl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[si]},e[AI]={textureFormat:Dl,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[St,Mn]},e[EI]={textureFormat:Dl,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[St]},e[_I]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[qe]},e[SI]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[si]},e[mI]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[to]},e[bI]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Fl]},e[yI]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[rs]},e[wI]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Il]},e[DI]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[qe]},e[BI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[qe]},e[kI]={textureFormat:er,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[qe,tw]},e[RI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[si]},e[MI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[St,Mn,lD]},e[PI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[St,Mn,cD]},e[NI]={textureFormat:er,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[St,Mn]},e[LI]={textureFormat:er,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[St]},e[OI]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[qe]},e[zI]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[si]},e[UI]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[to]},e[GI]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Fl]},e[HI]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[rs]},e[$I]={textureFormat:io,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Il]},e[VI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[qe]},e[qI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[qe]},e[jI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[si]},e[ZI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[qe,ew,a0]},e[WI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[qe,Jy]},e[YI]={textureFormat:Ve,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[a0]},e[QI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[St,Mn]},e[XI]={textureFormat:Ve,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[St]},e[KI]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[qe]},e[JI]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[si]},e[eD]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[a0]},e[tD]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[to]},e[nD]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Fl]},e[rD]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Il]},e[iD]={textureFormat:is,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[rs]},e[sD]={textureFormat:ef,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[to,rs]},e[oD]={textureFormat:ef,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[rs]},e[aD]={textureFormat:ef,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[St]},e[uD]={textureFormat:jy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[dD]},e[fD]={textureFormat:jy,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[hD]},Object.keys(e).forEach(function(n){const r=e[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,s){const o=r.type[s];r.bytesPerElementMap[o]=i})}),f0=e}return f0[t]}function pD(t,e){const n=kl(t);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[e];if(r===void 0)throw"unknown internal format";return r}function so(t){const e=kl(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function nw(t){return(t&t-1)===0}function gD(t,e,n,r){if(!Js(t))return nw(e)&&nw(n);const i=kl(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function mD(t){const e=kl(t);if(!e)throw"unknown internal format";return e.textureFilterable}function rw(t,e,n){return eo(e)?e0(e):n||qe}function Rl(t,e,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const s=Math.sqrt(i/(e===Cr?6:1));s%1===0?(n=s,r=s):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function oo(t,e){e.colorspaceConversion!==void 0&&t.pixelStorei(aI,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&t.pixelStorei(fI,e.premultiplyAlpha),e.flipY!==void 0&&t.pixelStorei(uI,e.flipY)}function iw(t){t.pixelStorei(o0,4),Js(t)&&(t.pixelStorei(Wy,0),t.pixelStorei(Yy,0),t.pixelStorei(Qy,0),t.pixelStorei(Xy,0),t.pixelStorei(Ky,0))}function bD(t,e,n,r){r.minMag&&(n.call(t,e,i0,r.minMag),n.call(t,e,s0,r.minMag)),r.min&&n.call(t,e,i0,r.min),r.mag&&n.call(t,e,s0,r.mag),r.wrap&&(n.call(t,e,Cl,r.wrap),n.call(t,e,Tl,r.wrap),(e===ri||IF(t,e))&&n.call(t,e,Zy,r.wrap)),r.wrapR&&n.call(t,e,Zy,r.wrapR),r.wrapS&&n.call(t,e,Cl,r.wrapS),r.wrapT&&n.call(t,e,Tl,r.wrapT),r.minLod&&n.call(t,e,rI,r.minLod),r.maxLod&&n.call(t,e,iI,r.maxLod),r.baseLevel&&n.call(t,e,sI,r.baseLevel),r.maxLevel&&n.call(t,e,oI,r.maxLevel)}function sw(t,e,n){const r=n.target||Sr;t.bindTexture(r,e),bD(t,r,t.texParameteri,n)}function yD(t){return t=t||ni.textureColor,eo(t)?t:new Uint8Array([t[0]*255,t[1]*255,t[2]*255,t[3]*255])}function u0(t,e,n,r,i,s){n=n||ni.textureOptions,s=s||Ve;const o=n.target||Sr;if(r=r||n.width,i=i||n.height,t.bindTexture(o,e),gD(t,r,i,s))t.generateMipmap(o);else{const a=mD(s)?XF:QF;t.texParameteri(o,i0,a),t.texParameteri(o,s0,a),t.texParameteri(o,Cl,_l),t.texParameteri(o,Tl,_l)}}function nf(t){return t.auto===!0||t.auto===void 0&&t.level===void 0}function l0(t,e){return e=e||{},e.cubeFaceOrder||[Sl,KF,JF,eI,tI,nI]}function c0(t,e){const r=l0(t,e).map(function(i,s){return{face:i,ndx:s}});return r.sort(function(i,s){return i.face-s.face}),r}function ow(t,e,n,r){r=r||ni.textureOptions;const i=r.target||Sr,s=r.level||0;let o=n.width,a=n.height;const u=r.internalFormat||r.format||Ve,f=so(u),l=r.format||f.format,c=r.type||f.type;if(oo(t,r),t.bindTexture(i,e),i===Cr){const h=n.width,d=n.height;let p,b;if(h/6===d)p=d,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,b=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const y=Hy();y?(y.canvas.width=p,y.canvas.height=p,o=p,a=p,c0(t,r).forEach(function(w){const E=b[w.ndx*2+0]*p,S=b[w.ndx*2+1]*p;y.drawImage(n,E,S,p,p,0,0,p,p),t.texImage2D(w.face,s,u,l,c,y.canvas)}),y.canvas.width=1,y.canvas.height=1):typeof createImageBitmap<"u"&&(o=p,a=p,c0(t,r).forEach(function(w){const E=b[w.ndx*2+0]*p,S=b[w.ndx*2+1]*p;t.texImage2D(w.face,s,u,p,p,0,l,c,null),createImageBitmap(n,E,S,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(T){oo(t,r),t.bindTexture(i,e),t.texImage2D(w.face,s,u,l,c,T),nf(r)&&u0(t,e,r,o,a,u)})}))}else if(i===ri||i===ii){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const b=n.width===d?1:0,y=n.height===d?1:0;t.pixelStorei(o0,1),t.pixelStorei(Wy,n.width),t.pixelStorei(Yy,0),t.pixelStorei(Ky,0),t.texImage3D(i,s,u,h,h,h,0,l,c,null);for(let w=0;w<p;++w){const E=w*h*b,S=w*h*y;t.pixelStorei(Qy,E),t.pixelStorei(Xy,S),t.texSubImage3D(i,s,0,0,w,h,h,1,l,c,n)}iw(t)}else t.texImage2D(i,s,u,l,c,n);nf(r)&&u0(t,e,r,o,a,u),sw(t,e,r)}function rf(){}function wD(t){if(typeof document<"u"){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}function xD(t,e){return e===void 0&&!wD(t)?"anonymous":e}function vD(t,e,n){n=n||rf;let r;if(e=e!==void 0?e:ni.crossOrigin,e=xD(t,e),typeof Image<"u"){r=new Image,e!==void 0&&(r.crossOrigin=e);const i=function(){r.removeEventListener("error",s),r.removeEventListener("load",o),r=null},s=function(){const u="couldn't load image: "+t;TF(u),n(u,r),i()},o=function(){n(null,r),i()};return r.addEventListener("error",s),r.addEventListener("load",o),r.src=t,r}else if(typeof ImageBitmap<"u"){let i,s;const o=function(){n(i,s)},a={};e&&(a.mode="cors"),fetch(t,a).then(function(u){if(!u.ok)throw u;return u.blob()}).then(function(u){return createImageBitmap(u,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(u){s=u,setTimeout(o)}).catch(function(u){i=u,setTimeout(o)}),r=null}return r}function aw(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof ImageData<"u"&&t instanceof ImageData||typeof HTMLElement<"u"&&t instanceof HTMLElement}function h0(t,e,n){return aw(t)?(setTimeout(function(){n(null,t)}),t):vD(t,e,n)}function d0(t,e,n){n=n||ni.textureOptions;const r=n.target||Sr;if(t.bindTexture(r,e),n.color===!1)return;const i=yD(n.color);if(r===Cr)for(let s=0;s<6;++s)t.texImage2D(Sl+s,0,Ve,1,1,0,Ve,qe,i);else r===ri||r===ii?t.texImage3D(r,0,Ve,1,1,1,0,Ve,qe,i):t.texImage2D(r,0,Ve,1,1,0,Ve,qe,i)}function AD(t,e,n,r){return r=r||rf,n=n||ni.textureOptions,d0(t,e,n),n=Object.assign({},n),h0(n.src,n.crossOrigin,function(s,o){s?r(s,e,o):(ow(t,e,o,n),r(null,e,o))})}function ED(t,e,n,r){r=r||rf;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const s=n.level||0,o=n.internalFormat||n.format||Ve,a=so(o),u=n.format||a.format,f=n.type||qe,l=n.target||Sr;if(l!==Cr)throw"target must be TEXTURE_CUBE_MAP";d0(t,e,n),n=Object.assign({},n);let c=6;const h=[],d=l0(t,n);let p;function b(y){return function(w,E){--c,w?h.push(w):E.width!==E.height?h.push("cubemap face img is not a square: "+E.src):(oo(t,n),t.bindTexture(l,e),c===5?l0().forEach(function(S){t.texImage2D(S,s,o,u,f,E)}):t.texImage2D(y,s,o,u,f,E),nf(n)&&t.generateMipmap(l)),c===0&&r(h.length?h:void 0,e,p)}}p=i.map(function(y,w){return h0(y,n.crossOrigin,b(d[w]))})}function _D(t,e,n,r){r=r||rf;const i=n.src,s=n.internalFormat||n.format||Ve,o=so(s),a=n.format||o.format,u=n.type||qe,f=n.target||ii;if(f!==ri&&f!==ii)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";d0(t,e,n),n=Object.assign({},n);let l=i.length;const c=[];let h;const d=n.level||0;let p=n.width,b=n.height;const y=i.length;let w=!0;function E(S){return function(T,D){if(--l,T)c.push(T);else{if(oo(t,n),t.bindTexture(f,e),w){w=!1,p=n.width||D.width,b=n.height||D.height,t.texImage3D(f,d,s,p,b,y,0,a,u,null);for(let B=0;B<y;++B)t.texSubImage3D(f,d,0,0,B,p,b,1,a,u,D)}else{let B=D,I;(D.width!==p||D.height!==b)&&(I=Hy(),B=I.canvas,I.canvas.width=p,I.canvas.height=b,I.drawImage(D,0,0,p,b)),t.texSubImage3D(f,d,0,0,S,p,b,1,a,u,B),I&&B===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}nf(n)&&t.generateMipmap(f)}l===0&&r(c.length?c:void 0,e,h)}}h=i.map(function(S,T){return h0(S,n.crossOrigin,E(T))})}function fw(t,e,n,r){r=r||ni.textureOptions;const i=r.target||Sr;t.bindTexture(i,e);let s=r.width,o=r.height,a=r.depth;const u=r.level||0,f=r.internalFormat||r.format||Ve,l=so(f),c=r.format||l.format,h=r.type||rw(t,n,l.type);if(eo(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const y=CF(h);n=new y(n)}const d=pD(f,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+r0(t,c);let b;if(i===ri||i===ii)if(!s&&!o&&!a){const y=Math.cbrt(p);if(y%1!==0)throw"can't guess cube size of array of numElements: "+p;s=y,o=y,a=y}else s&&(!o||!a)?(b=Rl(t,i,o,a,p/s),o=b.width,a=b.height):o&&(!s||!a)?(b=Rl(t,i,s,a,p/o),s=b.width,a=b.height):(b=Rl(t,i,s,o,p/a),s=b.width,o=b.height);else b=Rl(t,i,s,o,p),s=b.width,o=b.height;if(iw(t),t.pixelStorei(o0,r.unpackAlignment||1),oo(t,r),i===Cr){const y=d/n.BYTES_PER_ELEMENT,w=p/6*y;c0(t,r).forEach(E=>{const S=w*E.ndx,T=n.subarray(S,S+w);t.texImage2D(E.face,u,f,s,o,0,c,h,T)})}else i===ri||i===ii?t.texImage3D(i,u,f,s,o,a,0,c,h,n):t.texImage2D(i,u,f,s,o,0,c,h,n);return{width:s,height:o,depth:a,type:h}}function SD(t,e,n){const r=n.target||Sr;t.bindTexture(r,e);const i=n.level||0,s=n.internalFormat||n.format||Ve,o=so(s),a=n.format||o.format,u=n.type||o.type;if(oo(t,n),r===Cr)for(let f=0;f<6;++f)t.texImage2D(Sl+f,i,s,n.width,n.height,0,a,u,null);else r===ri||r===ii?t.texImage3D(r,i,s,n.width,n.height,n.depth,0,a,u,null):t.texImage2D(r,i,s,n.width,n.height,0,a,u,null)}function sf(t,e,n){n=n||rf,e=e||ni.textureOptions;const r=t.createTexture(),i=e.target||Sr;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Ve;t.bindTexture(i,r),i===Cr&&(t.texParameteri(i,Cl,_l),t.texParameteri(i,Tl,_l));let u=e.src;if(u)if(typeof u=="function"&&(u=u(t,e)),typeof u=="string")AD(t,r,e,n);else if(eo(u)||Array.isArray(u)&&(typeof u[0]=="number"||Array.isArray(u[0])||eo(u[0]))){const f=fw(t,r,u,e);s=f.width,o=f.height}else Array.isArray(u)&&(typeof u[0]=="string"||aw(u[0]))?i===Cr?ED(t,r,e,n):_D(t,r,e,n):(ow(t,r,u,e),s=u.width,o=u.height);else SD(t,r,e);return nf(e)&&u0(t,r,e,s,o,a),sw(t,r,e),r}function CD(t,e,n,r,i,s){r=r||n.width,i=i||n.height,s=s||n.depth;const o=n.target||Sr;t.bindTexture(o,e);const a=n.level||0,u=n.internalFormat||n.format||Ve,f=so(u),l=n.format||f.format;let c;const h=n.src;if(h&&(eo(h)||Array.isArray(h)&&typeof h[0]=="number")?c=n.type||rw(t,h,f.type):c=n.type||f.type,o===Cr)for(let d=0;d<6;++d)t.texImage2D(Sl+d,a,u,r,i,0,l,c,null);else o===ri||o===ii?t.texImage3D(o,a,u,r,i,s,0,l,c,null):t.texImage2D(o,a,u,r,i,0,l,c,null)}const TD=My,Ml=33984,FD=35048,Pl=34962,ID=34963,p0=35345,uw=35718,DD=35721,BD=35971,kD=35382,RD=35396,MD=35398,PD=35392,ND=35395,Nl=5126,lw=35664,cw=35665,hw=35666,g0=5124,dw=35667,pw=35668,gw=35669,mw=35670,bw=35671,yw=35672,ww=35673,xw=35674,vw=35675,Aw=35676,LD=35678,OD=35680,zD=35679,UD=35682,GD=35685,HD=35686,$D=35687,VD=35688,qD=35689,jD=35690,ZD=36289,WD=36292,YD=36293,m0=5125,Ew=36294,_w=36295,Sw=36296,QD=36298,XD=36299,KD=36300,JD=36303,eB=36306,tB=36307,nB=36308,rB=36311,Ll=3553,Ol=34067,b0=32879,zl=35866,fe={};function Cw(t,e){return fe[e].bindPoint}function iB(t,e){return function(n){t.uniform1f(e,n)}}function sB(t,e){return function(n){t.uniform1fv(e,n)}}function oB(t,e){return function(n){t.uniform2fv(e,n)}}function aB(t,e){return function(n){t.uniform3fv(e,n)}}function fB(t,e){return function(n){t.uniform4fv(e,n)}}function Tw(t,e){return function(n){t.uniform1i(e,n)}}function Fw(t,e){return function(n){t.uniform1iv(e,n)}}function Iw(t,e){return function(n){t.uniform2iv(e,n)}}function Dw(t,e){return function(n){t.uniform3iv(e,n)}}function Bw(t,e){return function(n){t.uniform4iv(e,n)}}function uB(t,e){return function(n){t.uniform1ui(e,n)}}function lB(t,e){return function(n){t.uniform1uiv(e,n)}}function cB(t,e){return function(n){t.uniform2uiv(e,n)}}function hB(t,e){return function(n){t.uniform3uiv(e,n)}}function dB(t,e){return function(n){t.uniform4uiv(e,n)}}function pB(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function gB(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function mB(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function bB(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function yB(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function wB(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function xB(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function vB(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function AB(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function It(t,e,n,r){const i=Cw(t,e);return Js(t)?function(s){let o,a;El(t,s)?(o=s,a=null):(o=s.texture,a=s.sampler),t.uniform1i(r,n),t.activeTexture(Ml+n),t.bindTexture(i,o),t.bindSampler(n,a)}:function(s){t.uniform1i(r,n),t.activeTexture(Ml+n),t.bindTexture(i,s)}}function Dt(t,e,n,r,i){const s=Cw(t,e),o=new Int32Array(i);for(let a=0;a<i;++a)o[a]=n+a;return Js(t)?function(a){t.uniform1iv(r,o),a.forEach(function(u,f){t.activeTexture(Ml+o[f]);let l,c;El(t,u)?(l=u,c=null):(l=u.texture,c=u.sampler),t.bindSampler(n,c),t.bindTexture(s,l)})}:function(a){t.uniform1iv(r,o),a.forEach(function(u,f){t.activeTexture(Ml+o[f]),t.bindTexture(s,u)})}}fe[Nl]={Type:Float32Array,size:4,setter:iB,arraySetter:sB},fe[lw]={Type:Float32Array,size:8,setter:oB,cols:2},fe[cw]={Type:Float32Array,size:12,setter:aB,cols:3},fe[hw]={Type:Float32Array,size:16,setter:fB,cols:4},fe[g0]={Type:Int32Array,size:4,setter:Tw,arraySetter:Fw},fe[dw]={Type:Int32Array,size:8,setter:Iw,cols:2},fe[pw]={Type:Int32Array,size:12,setter:Dw,cols:3},fe[gw]={Type:Int32Array,size:16,setter:Bw,cols:4},fe[m0]={Type:Uint32Array,size:4,setter:uB,arraySetter:lB},fe[Ew]={Type:Uint32Array,size:8,setter:cB,cols:2},fe[_w]={Type:Uint32Array,size:12,setter:hB,cols:3},fe[Sw]={Type:Uint32Array,size:16,setter:dB,cols:4},fe[mw]={Type:Uint32Array,size:4,setter:Tw,arraySetter:Fw},fe[bw]={Type:Uint32Array,size:8,setter:Iw,cols:2},fe[yw]={Type:Uint32Array,size:12,setter:Dw,cols:3},fe[ww]={Type:Uint32Array,size:16,setter:Bw,cols:4},fe[xw]={Type:Float32Array,size:32,setter:pB,rows:2,cols:2},fe[vw]={Type:Float32Array,size:48,setter:gB,rows:3,cols:3},fe[Aw]={Type:Float32Array,size:64,setter:mB,rows:4,cols:4},fe[GD]={Type:Float32Array,size:32,setter:bB,rows:2,cols:3},fe[HD]={Type:Float32Array,size:32,setter:wB,rows:2,cols:4},fe[$D]={Type:Float32Array,size:48,setter:yB,rows:3,cols:2},fe[VD]={Type:Float32Array,size:48,setter:vB,rows:3,cols:4},fe[qD]={Type:Float32Array,size:64,setter:xB,rows:4,cols:2},fe[jD]={Type:Float32Array,size:64,setter:AB,rows:4,cols:3},fe[LD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ll},fe[OD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ol},fe[zD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:b0},fe[UD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ll},fe[ZD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:zl},fe[WD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:zl},fe[YD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ol},fe[QD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ll},fe[XD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:b0},fe[KD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ol},fe[JD]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:zl},fe[eB]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ll},fe[tB]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:b0},fe[nB]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:Ol},fe[rB]={Type:null,size:0,setter:It,arraySetter:Dt,bindPoint:zl};function Ul(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(Pl,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||Nl,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function oi(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4iv(e,n.value);else throw new Error("The length of an integer constant value must be 4!");else t.bindBuffer(Pl,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||g0,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function Gl(t,e){return function(n){if(n.value)if(t.disableVertexAttribArray(e),n.value.length===4)t.vertexAttrib4uiv(e,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else t.bindBuffer(Pl,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||m0,n.stride||0,n.offset||0),n.divisor!==void 0&&t.vertexAttribDivisor(e,n.divisor)}}function y0(t,e,n){const r=n.size,i=n.count;return function(s){t.bindBuffer(Pl,s.buffer);const o=s.size||s.numComponents||r,a=o/i,u=s.type||Nl,l=fe[u].size*o,c=s.normalize||!1,h=s.offset||0,d=l/i;for(let p=0;p<i;++p)t.enableVertexAttribArray(e+p),t.vertexAttribPointer(e+p,a,u,c,l,h+d*p),s.divisor!==void 0&&t.vertexAttribDivisor(e+p,s.divisor)}}const it={};it[Nl]={size:4,setter:Ul},it[lw]={size:8,setter:Ul},it[cw]={size:12,setter:Ul},it[hw]={size:16,setter:Ul},it[g0]={size:4,setter:oi},it[dw]={size:8,setter:oi},it[pw]={size:12,setter:oi},it[gw]={size:16,setter:oi},it[m0]={size:4,setter:Gl},it[Ew]={size:8,setter:Gl},it[_w]={size:12,setter:Gl},it[Sw]={size:16,setter:Gl},it[mw]={size:4,setter:oi},it[bw]={size:8,setter:oi},it[yw]={size:12,setter:oi},it[ww]={size:16,setter:oi},it[xw]={size:4,setter:y0,count:2},it[vw]={size:9,setter:y0,count:3},it[Aw]={size:16,setter:y0,count:4};function kw(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const EB=/(\.|\[|]|\w+)/g,_B=t=>t>="0"&&t<="9";function Rw(t,e,n,r){const i=t.split(EB).filter(a=>a!=="");let s=0,o="";for(;;){const a=i[s++];o+=a;const u=_B(a[0]),f=u?parseInt(a):a;if(u&&(o+=i[s++]),s===i.length){n[f]=e;break}else{const c=i[s++],h=c==="[",d=n[f]||(h?[]:{});n[f]=d,n=d,r[o]=r[o]||function(p){return function(b){Ow(p,b)}}(d),o+=c}}}function SB(t,e){let n=0;function r(a,u,f){const l=u.name.endsWith("[0]"),c=u.type,h=fe[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=u.size,l?d=h.arraySetter(t,c,p,f,u.size):d=h.setter(t,c,p,f,u.size)}else h.arraySetter&&l?d=h.arraySetter(t,f):d=h.setter(t,f);return d.location=f,d}const i={},s={},o=t.getProgramParameter(e,uw);for(let a=0;a<o;++a){const u=t.getActiveUniform(e,a);if(kw(u))continue;let f=u.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const l=t.getUniformLocation(e,u.name);if(l){const c=r(e,u,l);i[f]=c,Rw(f,c,s,i)}}return i}function CB(t,e){const n={},r=t.getProgramParameter(e,BD);for(let i=0;i<r;++i){const s=t.getTransformFeedbackVarying(e,i);n[s.name]={index:i,type:s.type,size:s.size}}return n}function TB(t,e){const n=t.getProgramParameter(e,uw),r=[],i=[];for(let a=0;a<n;++a){i.push(a),r.push({});const u=t.getActiveUniform(e,a);r[a].name=u.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const u=a[0],f=a[1];t.getActiveUniforms(e,i,t[u]).forEach(function(l,c){r[c][f]=l})});const s={},o=t.getProgramParameter(e,kD);for(let a=0;a<o;++a){const u=t.getActiveUniformBlockName(e,a),f={index:t.getUniformBlockIndex(e,u),usedByVertexShader:t.getActiveUniformBlockParameter(e,a,RD),usedByFragmentShader:t.getActiveUniformBlockParameter(e,a,MD),size:t.getActiveUniformBlockParameter(e,a,PD),uniformIndices:t.getActiveUniformBlockParameter(e,a,ND)};f.used=f.usedByVertexShader||f.usedByFragmentShader,s[u]=f}return{blockSpecs:s,uniformData:r}}const Mw=/\[\d+\]\.$/,FB=(t,e)=>((t+(e-1))/e|0)*e;function IB(t,e,n,r){if(e||n){r=r||1;const s=t.length/4;return function(o){let a=0,u=0;for(let f=0;f<s;++f){for(let l=0;l<r;++l)t[a++]=o[u++];a+=4-r}}}else return function(i){i.length?t.set(i):t[0]=i}}function DB(t,e,n,r){const i=n.blockSpecs,s=n.uniformData,o=i[r];if(!o)return TD("no uniform block object named:",r),{name:r,uniforms:{}};const a=new ArrayBuffer(o.size),u=t.createBuffer(),f=o.index;t.bindBuffer(p0,u),t.uniformBlockBinding(e,o.index,f);let l=r+".";Mw.test(l)&&(l=l.replace(Mw,"."));const c={},h={},d={};return o.uniformIndices.forEach(function(p){const b=s[p];let y=b.name;y.startsWith(l)&&(y=y.substr(l.length));const w=y.endsWith("[0]");w&&(y=y.substr(0,y.length-3));const E=fe[b.type],S=E.Type,T=w?FB(E.size,16)*b.size:E.size*b.size,D=new S(a,b.offset,T/S.BYTES_PER_ELEMENT);c[y]=D;const B=IB(D,w,E.rows,E.cols);h[y]=B,Rw(y,B,d,h)}),{name:r,array:a,asFloat:new Float32Array(a),buffer:u,uniforms:c,setters:h}}function Pw(t,e,n){return DB(t,e.program,e.uniformBlockSpec,n)}function BB(t,e,n){const i=(e.uniformBlockSpec||e).blockSpecs[n.name];if(i){const s=i.index;return t.bindBufferRange(p0,s,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function Nw(t,e,n){BB(t,e,n)&&t.bufferData(p0,n.array,FD)}function Lw(t,e){const n=t.setters;for(const r in e){const i=n[r];if(i){const s=e[r];i(s)}}}function Ow(t,e){for(const n in e){const r=t[n];typeof r=="function"?r(e[n]):Ow(t[n],e[n])}}function Jt(t,...e){const n=t.uniformSetters||t,r=e.length;for(let i=0;i<r;++i){const s=e[i];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)Jt(n,s[a])}else for(const o in s){const a=n[o];a&&a(s[o])}}}function kB(t,e){const n={},r=t.getProgramParameter(e,DD);for(let i=0;i<r;++i){const s=t.getActiveAttrib(e,i);if(kw(s))continue;const o=t.getAttribLocation(e,s.name),a=it[s.type],u=a.setter(t,o,a);u.location=o,n[s.name]=u}return n}function RB(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function ao(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):(RB(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(ID,n.indices))}function MB(t,e){const n=SB(t,e),r=kB(t,e),i={program:e,uniformSetters:n,attribSetters:r};return Js(t)&&(i.uniformBlockSpec=TB(t,e),i.transformFeedbackInfo=CB(t,e)),i}const PB=4,zw=5123;function of(t,e,n,r,i,s){n=n===void 0?PB:n;const o=e.indices,a=e.elementType,u=r===void 0?e.numElements:r;i=i===void 0?0:i,a||o?s!==void 0?t.drawElementsInstanced(n,u,a===void 0?zw:e.elementType,i,s):t.drawElements(n,u,a===void 0?zw:e.elementType,i):s!==void 0?t.drawArraysInstanced(n,i,u,s):t.drawArrays(n,i,u)}const NB=36160,ss=36161,LB=3553,OB=5121,zB=6402,UB=6408,GB=33190,HB=36012,$B=35056,VB=36013,qB=32854,jB=32855,ZB=36194,Uw=33189,Gw=6401,Hw=36168,w0=34041,WB=36064,Hl=36096,$w=36128,x0=33306,v0=33071,A0=9729,Vw=[{format:UB,type:OB,min:A0,wrap:v0},{format:w0}],Pn={};Pn[w0]=x0,Pn[Gw]=$w,Pn[Hw]=$w,Pn[zB]=Hl,Pn[Uw]=Hl,Pn[GB]=Hl,Pn[HB]=Hl,Pn[$B]=x0,Pn[VB]=x0;function YB(t,e){return Pn[t]||Pn[e]}const ai={};ai[qB]=!0,ai[jB]=!0,ai[ZB]=!0,ai[w0]=!0,ai[Uw]=!0,ai[Gw]=!0,ai[Hw]=!0;function QB(t){return ai[t]}function XB(t,e,n,r){const i=NB,s=t.createFramebuffer();t.bindFramebuffer(i,s),n=n||t.drawingBufferWidth,r=r||t.drawingBufferHeight,e=e||Vw;let o=0;const a={framebuffer:s,attachments:[],width:n,height:r};return e.forEach(function(u){let f=u.attachment;const l=u.samples,c=u.format;let h=u.attachmentPoint||YB(c,u.internalFormat);if(h||(h=WB+o++),!f)if(l!==void 0||QB(c))f=t.createRenderbuffer(),t.bindRenderbuffer(ss,f),l>1?t.renderbufferStorageMultisample(ss,l,c,n,r):t.renderbufferStorage(ss,c,n,r);else{const d=Object.assign({},u);d.width=n,d.height=r,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||A0,d.mag=d.mag||d.minMag||A0,d.wrapS=d.wrapS||d.wrap||v0,d.wrapT=d.wrapT||d.wrap||v0),f=sf(t,d)}if(Py(t,f))t.framebufferRenderbuffer(i,h,ss,f);else if(El(t,f))u.layer!==void 0?t.framebufferTextureLayer(i,h,f,u.level||0,u.layer):t.framebufferTexture2D(i,h,u.target||LB,f,u.level||0);else throw new Error("unknown attachment type");a.attachments.push(f)}),a}function KB(t,e,n,r,i){r=r||t.drawingBufferWidth,i=i||t.drawingBufferHeight,e.width=r,e.height=i,n=n||Vw,n.forEach(function(s,o){const a=e.attachments[o],u=s.format,f=s.samples;if(f!==void 0||Py(t,a))t.bindRenderbuffer(ss,a),f>1?t.renderbufferStorageMultisample(ss,f,u,r,i):t.renderbufferStorage(ss,u,r,i);else if(El(t,a))CD(t,a,s,r,i);else throw new Error("unknown attachment type")})}function JB(t,e,n){const r=t.createVertexArray();return t.bindVertexArray(r),e.length||(e=[e]),e.forEach(function(i){ao(t,i,n)}),t.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const ek=/^(.*?)_/;function tk(t,e){r0(t,0);const n=t.getExtension(e);if(n){const r={},i=ek.exec(e)[1],s="_"+i;for(const o in n){const a=n[o],u=typeof a=="function",f=u?i:s;let l=o;o.endsWith(f)&&(l=o.substring(0,o.length-f.length)),t[l]!==void 0?!u&&t[l]!==a&&My(l,t[l],a,o):u?t[l]=function(c){return function(){return c.apply(n,arguments)}}(a):(t[l]=a,r[l]=a)}r.constructor={name:n.constructor.name},r0(r,0)}return n}const qw=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function jw(t){for(let e=0;e<qw.length;++e)tk(t,qw[e])}function nk(t,e){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=t.getContext(n[i],e),r){jw(r);break}return r}function rk(t,e){return nk(t,e)}const ik=`/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
in vec2 frac;

/** Minimum size (width, height) of the displayed rectangle in pixels */
uniform vec2 uMinSize;

/** Minimum opacity for the size size clamping */
uniform float uMinOpacity;

/** top-right, bottom-right, top-left, bottom-left */
uniform vec4 uCornerRadii;

out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;


#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

void main(void) {
    vec2 normalizedMinSize = uMinSize / uViewportSize;

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(uCornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,sk=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,E0="attr_",Zw="uDomain_",ok="range_",Ww="scale_",Yw="getScaled_",_0="uRangeTexture_",Qw=3402823466e29;function ak(t){const e=t.match(/^(?:(\w+)-)?(\w+)$/);if(!e)throw new Error("Not a scale type: "+t);return{family:e[1]||"continuous",transform:e[2]}}function fk(t,e){let n;if(vl(t))n=os(ky(t)(e));else if(Ke(e))if(ts(t))n=lk(e);else throw new Error(`String values are not supported on the "${t}" channel: ${e}`);else if(Du(e))n=os(e?1:0);else if(e===null)if(ts(t))n=os([0,0,0]);else throw new Error(`null value is not supported on the "${t}" chanel.`);else n=os(e);return`
#define ${t}_DEFINED
${n.type} ${Yw}${t}() {
    // Constant value
    return ${n};
}`}function uk(t,e,n){if(Rn(n))throw new Error(`Cannot create scale for "value": ${JSON.stringify(n)}`);if(!e)throw new Error("Scale is undefined");const r=es(t),i=E0+t,s=Zw+r,o=ok+r,a=$l(e.type),u=a?"vec2":"float",f=e.domain?e.domain().length:void 0;let l;const c=[];c.push(""),c.push("/".repeat(70)),c.push(`// Channel: ${t}`),c.push(""),c.push(`#define ${t}_DEFINED`);const{transform:h}=ak(e.type),d=(I,...N)=>ck.apply(null,[I,"value",...N]);let p;switch(h){case"linear":p=d("scaleLinear","domain",o);break;case"log":p=d("scaleLog","domain",o,e.base());break;case"symlog":p=d("scaleSymlog","domain",o,e.constant());break;case"pow":case"sqrt":p=d("scalePow","domain",o,e.exponent());break;case"index":case"locus":p=d("scaleBandHp","domain",o,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"point":case"band":p=d("scaleBand","domain",o,e.paddingInner(),e.paddingOuter(),e.align(),n.band??.5);break;case"ordinal":case"null":case"identity":p=d("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${e.type}! ${t}: ${JSON.stringify(n)}`)}const b=yl(e.type)||_t(e.type)&&ts(t)?[0,1]:e.range?e.range():void 0;if(b&&t==r&&b.length&&b.every(Nt)){const I=Xw(b);c.push(`const ${I.type} ${o} = ${I};`)}const y=ts(t)?"vec3":"float";let w;if(ts(t)){const I=_0+r;if(t==r&&c.push(`uniform sampler2D ${I};`),_t(e.type))w=`getInterpolatedColor(${I}, transformed)`;else if(ti(e.type)||Xs(e.type))w=`getDiscreteColor(${I}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(e.type==="ordinal"||Xs(e.type)){const I=_0+r;t==r&&c.push(`uniform sampler2D ${I};`),w=`getDiscreteColor(${I}, int(transformed)).r`}Qa(n)?c.push(`uniform highp ${u} ${i};`):c.push(`in highp ${u} ${i};`);const E=[],S=_t(e.type)&&f>2,T=Xs(e.type)||S;if(E.push("int slot = 0;"),T){const I=s;E.push(S?`while (slot < ${I}.length() - 2 && value >= ${I}[slot + 1]) { slot++; }`:`while (slot < ${I}.length() && value >= ${I}[slot]) { slot++; }`)}const D=_t(e.type)||Xs(e.type)||["band","point"].includes(e.type);if(p){const I=s;D&&(a?E.push(`vec3 domain = ${I};`):E.push(`vec2 domain = vec2(${I}[slot], ${I}[slot + 1]);`)),E.push(`float transformed = ${p};`),S&&E.push(`transformed = (float(slot) + transformed) / (float(${I}.length() - 1));`)}else E.push("float transformed = float(slot);");"clamp"in e&&e.clamp()&&E.push(`transformed = clampToRange(transformed, ${Xw(b)});`),E.push(`return ${w??"transformed"};`),c.push(`
${y} ${Ww}${t}(${u} value) {
${E.map(I=>`    ${I}
`).join("")}
}`),c.push(`
${y} ${Yw}${t}() {
    return ${Ww}${t}(${i});
}`);const B=c.join(`
`);if(D&&t==r){const I=_t(e.type)||Xs(e.type)?f:2;l=a?`highp vec3 ${s};`:`mediump float ${s}[${I}];`}return{glsl:B,domainUniform:l}}function S0(t){if(!Nt(t))throw new Error(`Not a number: ${t}`);if(t==1/0)return""+Qw;if(t==-1/0)return""+-Qw;{let e=`${t}`;return/^(-)?\d+$/.test(e)&&(e+=".0"),e}}function os(t){typeof t=="number"&&(t=[t]);const e=t.length;if(e<1||e>4)throw new Error("Invalid number of components: "+e);let n,r;return e>1?(n=`vec${e}`,r=`${n}(${t.map(S0).join(", ")})`):(n="float",r=S0(t[0])),Object.assign(r,{type:n,numComponents:e})}function lk(t){const e=Xr(t).rgb();return os([e.r,e.g,e.b].map(n=>n/255))}function Xw(t){return os([t[0],Ba(t)])}function ck(t,...e){const n=[];for(const r of e)Nt(r)?n.push(S0(r)):Xt(r)?n.push(os(r)):n.push(r);return`${t}(${n.join(", ")})`}function $l(t){return t=="index"||t=="locus"}const Kw=2**11,hk=Kw-1;function Jw(t,e=[]){const n=t&hk,r=t-n;return e[0]=r,e[1]=n,e}function dk(t){const e=t%Kw;return[t-e,e]}function pk(t){return[...dk(t[0]),t[1]-t[0]]}class gk{constructor(e){this.size=e,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}addConverter(e,n){const r=this.createUpdater(E0+e,n.numComponents||1,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?s=>r(i(s)):s=>r(i(s)))}createUpdater(e,n,r){if(!Nt(this.size))throw new Error("The number of vertices must be defined!");let i,s,o=0;const a=new Float32Array(this.size*n);if(this.arrays[e]={data:a,numComponents:n},n==1){let u=0;const f=l=>{u=+l};i=()=>{a[o++]=u},s=f}else{let u=r??[0];const f=r?l=>{}:l=>{u=l};switch(n){case 1:break;case 2:i=()=>{a[o++]=u[0],a[o++]=u[1]},s=f;break;case 3:i=()=>{a[o++]=u[0],a[o++]=u[1],a[o++]=u[2]},s=f;break;case 4:i=()=>{a[o++]=u[0],a[o++]=u[1],a[o++]=u[2],a[o++]=u[3]},s=f;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(i),s}_unrollPushAll(){let e="",n="";for(let i=0;i<this.pushers.length;i++)e+=`const p${i} = that.pushers[${i}];
`,n+=`p${i}();
`;const r=new Function("that",`${e}

            return function unrolledPushAll() {
                ${n}
                that.vertexCount++;
            };
        `);this.pushAll=r(this)}pushAll(){this.size>1e5?this._unrollPushAll():this.pushAll=()=>{for(let n=0;n<this.pushers.length;n++)this.pushers[n]();this.vertexCount++},this.pushAll()}updateFromDatum(e){for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](e)}pushFromDatum(e){this.updateFromDatum(e),this.pushAll()}}const fo=5,C0=127;function T0(t){const e=[];for(let p=0;p<=C0;p++)e.push(void 0);const n=new Map;for(const p of t.chars)p.id<=C0?e[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,e["-".charCodeAt(0)]);function i(p){return(p<=C0?e[p]:n.get(p))||e[63]}function s(p){return i(p.charCodeAt(0))}const o=t.common.base,a=s("x"),u=s("X"),f=s("q"),l=a.height-fo*2,c=u.height-fo*2,h=f.height-a.height+f.yoffset-a.yoffset;function d(p,b=1){let y=0;for(let w=0;w<p.length;w++)y+=i(p.charCodeAt(w)).xadvance;return y/o*b}return{measureWidth:d,getCharByCode:i,getChar:s,xHeight:l,capHeight:c,descent:h,common:t.common}}function mk(t,e=0,n=1){return Math.max(e,Math.min(n,t))}const ex=2**31-1,bk=-(2**31);function yk(t,e,n,r=n){const i=new Int32Array(t);i.fill(ex);let s=bk,o=!1;const a=new Int32Array(t),u=e[0],l=(e[1]-e[0])/t,c=(y,w)=>{const E=(y-u)/l,S=Math.floor(E);return mk(w&&S==E?S-1:S,0,t-1)};function h(y,w,E){w>s?s=w:o||(o=!0,console.debug("Items are not ordered properly. Disabling binned index."));const S=n(y),T=c(S,!1);i[T]>w&&(i[T]=w),a[T]<E&&(a[T]=E)}function d(y,w,E){w>s?s=w:o||(o=!0,console.debug("Items are not ordered properly. Disabling binned index."));const S=n(y),T=r(y),D=c(S,!1),B=c(T,!0);for(let I=D;I<=B;I++)i[I]>w&&(i[I]=w),a[I]<E&&(a[I]=E)}const p=(y,w,E=[0,0])=>{const S=c(y,!1),T=c(w,!0),D=i[S],B=Math.max(a[T],D);return E[0]=D,E[1]=B,E},b=()=>{for(let w=1;w<a.length;w++)a[w]<a[w-1]&&(a[w]=a[w-1]);let y=!0;for(let w=i.length-1;w>0;w--)y&&i[w]==ex?(i[w]=a[w],y=!1):i[w-1]>i[w]&&(i[w-1]=i[w]);return p};if(h.getIndex=b,d.getIndex=b,!o)return n==r?h:d}class af{constructor({encoders:e,numVertices:n=void 0,attributes:r=[]}){this.encoders=e,this.variableEncoders=Object.fromEntries(Object.entries(e).filter(([i,s])=>r.includes(i)&&s&&s.scale&&!s.constant)),this.allocatedVertices=n,this.variableBuilder=new gk(n);for(const[i,s]of Object.entries(this.variableEncoders)){const o=s.accessor,a=[0,0],u=$l(s.scale.type),f=s.indexer,l=f?c=>f(o(c)):u?c=>Jw(o(c),a):o;this.variableBuilder.addConverter(i,{f:l,numComponents:u?2:1,arrayReference:u?a:void 0})}this.lastOffset=0,this.rangeMap=new Ni([],JSON.stringify)}registerBatch(e){var s;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(e,{offset:n,count:i,xIndex:(s=this.xIndexer)==null?void 0:s.getIndex()}),this.lastOffset=r}addBatches(e){for(const[n,r]of e)this.addBatch(n,r)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let s=r;s<i;s++){const o=n[s];this.variableBuilder.pushFromDatum(o),this.addToXIndex(o)}this.registerBatch(e)}prepareXIndexer(e,n=0,r=n+e.length){const i=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0};if(!e.length||r-n<0){i();return}const s=u=>{var f;return u&&_t((f=u.scale)==null?void 0:f.type)&&u},o=s(this.variableEncoders.x),a=s(this.variableEncoders.x2);if(o){const u=o.accessor,f=a?a.accessor:u,l=[u(e[n]),f(e[r-1])];if(l[1]>l[0]){this.xIndexer=yk(50,l,u,f);let c=this.variableBuilder.vertexCount;this.addToXIndex=h=>{let d=this.variableBuilder.vertexCount;this.xIndexer(h,c,d),c=d}}else i()}else i()}addToXIndex(e){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class wk extends af{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:s}){super({encoders:e,attributes:n,numVertices:r==1/0?s*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateFrac=this.variableBuilder.createUpdater("frac",2)}addBatch(e,n,r=0,i=n.length){if(i<=r)return;const s=this.encoders,[o,a]=this.visibleRange,u=h=>h.accessor||(d=>0),f=u(s.x),l=u(s.x2);this.prepareXIndexer(n,r,i);const c=[0,0];this.updateFrac(c);for(let h=r;h<i;h++){const d=n[h];let p=f(d),b=l(d);if(p>b&&([p,b]=[b,p]),b<o||p>a)continue;p<o&&(p=o),b>a&&(b=a),this.variableBuilder.updateFromDatum(d),c[0]=0,c[1]=0;const y=1;this.variableBuilder.pushAll();for(let w=0;w<=y;w++)c[0]=w/y,c[1]=0,this.variableBuilder.pushAll(),c[1]=1,this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(d)}this.registerBatch(e)}}class xk extends af{constructor({encoders:e,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:s}){super({encoders:e,attributes:n,numVertices:r==1/0?s*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1)}addBatch(e,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let s=r;s<i;s++){const o=n[s];this.variableBuilder.updateFromDatum(o),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const a=1;for(let u=0;u<=a;u++)this.updatePos(u/a),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(o)}this.registerBatch(e)}}class vk extends af{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}}class Ak extends af{constructor({encoders:e,attributes:n,numItems:r=void 0}){super({encoders:e,attributes:n,numVertices:r})}toArrays(){const e=this.variableBuilder.arrays;for(let n of Object.values(e))n.divisor=1;return super.toArrays()}}class Ek extends af{constructor({encoders:e,attributes:n,fontMetrics:r,properties:i,numCharacters:s=void 0}){super({encoders:e,attributes:n,numVertices:s*6}),this.metadata=r,this.metrics=r,this.properties=i;const a=e.text.channelDef;this.numberFormat=!Rn(a)&&"format"in a&&a.format?mt(a.format):u=>u,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1)}addBatch(e,n,r=0,i=n.length){const s=this.properties.align||"left",o=this.properties.logoLetters??!1,a=this.metadata.common.base,u=this.metadata.common.scaleH;let f=-fo;switch(this.properties.baseline){case"top":f+=this.metrics.capHeight;break;case"middle":f+=this.metrics.capHeight/2;break;case"bottom":f-=this.metrics.descent;break}const l=this.encoders.text.accessor||this.encoders.text,c=[0,0];this.updateVertexCoord(c);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],b=this.numberFormat(l(p)),y=Ke(b)?b:b===null?"":""+b;if(y.length==0)continue;this.variableBuilder.updateFromDatum(p);const w=o?y.length:this.metrics.measureWidth(y);this.updateWidth(w);let E=s=="right"?-w:s=="center"?-w/2:0;if(!o){const B=this.metrics.getCharByCode(y.charCodeAt(0));E-=(B.width-B.xadvance)/a/2}let S=-.5,T=1,D=1;for(let B=0;B<y.length;B++){const I=this.metrics.getCharByCode(y.charCodeAt(B)),N=o?1:I.xadvance/a;if(I.id==32){E+=N;continue}o?(D=(I.width+fo*2)/I.width,E=-D/2,T=(I.height+fo*2)/I.height,S=-.5-fo/I.height):(T=I.height/a,S=-(I.height+I.yoffset+f)/a,D=I.width/a);const C=I.x,M=I.y;c[0]=E,c[1]=S+T,h[0]=C/u,h[1]=M/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S+T,h[0]=(C+I.width)/u,h[1]=M/u,this.variableBuilder.pushAll(),c[0]=E,c[1]=S,h[0]=C/u,h[1]=(M+I.height)/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S+T,h[0]=(C+I.width)/u,h[1]=M/u,this.variableBuilder.pushAll(),c[0]=E,c[1]=S,h[0]=C/u,h[1]=(M+I.height)/u,this.variableBuilder.pushAll(),c[0]=E+D,c[1]=S,h[0]=(C+I.width)/u,h[1]=(M+I.height)/u,this.variableBuilder.pushAll(),E+=N}this.addToXIndex(p)}this.registerBatch(e)}}const tx=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,_k=`const float inf = 1.0 / 0.0;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

float scaleBand(float value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (value - domainExtent[0]) * step + bandwidth * band;
}

// High precision variant of scaleBand for index/locus scales
float scaleBandHp(vec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float hi = max(value[0] - domainStart[0], -inf);
    float lo = max(value[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,Sk=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,Ck=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        int id = int(getScaled_uniqueId());
        // TODO: Take the sign bit into account
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, 0xFF) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,Tk=`in highp vec4 vPickingColor;
`,Vl=Symbol("cacheMap");function uo(t,e,n){let r=ff(t).get(e);return r===void 0&&(r=n(e),ff(t).set(e,r)),r}function nx(t,e){ff(t).delete(e)}function ql(t,e){const n=ff(t);for(const r of n.keys())r.startsWith(e)&&n.delete(r);ff(t).delete(e)}function rx(t){t[Vl]=new Map}function ff(t){return t[Vl]||rx(t),t[Vl]}function Fk(t,e,n,r){const i=Ke(t)?t:t.name,s=!Ke(t)&&t.extent||[0,1];if(n===void 0&&!Ke(t)&&(n=t.count),i){const o=Vd(i);if(Pt(o)){const a=ix(o,{extent:s,count:n});return jl(e,{minMag:e.LINEAR,format:e.RGB,height:1,wrap:e.CLAMP_TO_EDGE},a,r)}else{if(Xt(o))return F0(o,e);throw new Error("Unknown scheme: "+i)}}}function Ik(t,e="rgb",n,r){const i=wl(t,Ke(e)?e:e.type,Ke(e)?void 0:e.gamma),s=ix(i);return jl(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},s,r)}function Dk(t,e,n,r){const i=Math.max(t.length,n||0),s=new Float32Array(i);for(let o=0;o<i;o++)s[o]=t[o%t.length];return jl(e,{minMag:e.NEAREST,format:e.RED,internalFormat:e.R32F,height:1},s,r)}function F0(t,e,n,r){const i=sx(t,n);return jl(e,{minMag:e.NEAREST,format:e.RGB,height:1},i,r)}function ix(t,{extent:e=[0,1],reverse:n=!1,count:r=256}={}){const i=e[0],s=Ba(e)-i,o=ca(r).map(a=>a/(r-1)).map(a=>i+a/s).map(t);return n&&o.reverse(),sx(o)}function sx(t,e){const n=Math.max(t.length,e||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const s=Xr(t[i%t.length]).rgb();r[i*3+0]=s.r,r[i*3+1]=s.g,r[i*3+2]=s.b}return r}class Bk{constructor(e,n,r){this._container=e,this._sizeSource=n,this._shaderCache=new Map,this._listeners=[],this.rangeTextures=new WeakMap;const i=document.createElement("canvas");e.appendChild(i);const s=rk(i,{antialias:!0,depth:!1,premultipliedAlpha:!0});if(!s)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Js(s))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(jw(s),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.canvas=i,this.gl=s,this._pickingAttachmentOptions=[{format:s.RGBA,type:s.UNSIGNED_BYTE,minMag:s.LINEAR,wrap:s.CLAMP_TO_EDGE}],this._pickingBufferInfo=XB(s,this._pickingAttachmentOptions),s.bindFramebuffer(s.FRAMEBUFFER,null),this.adjustGl(),this._resizeObserver=new ResizeObserver(o=>{this.invalidateSize(),this._emit("resize")}),this._resizeObserver.observe(this._container),this._updateDpr(),this._clearColor=[0,0,0,0],r){const o=Xr(r).rgb();this._clearColor=[o.r/255,o.g/255,o.b/255,o.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(e,n){const r="#version 300 es",i="precision mediump float;";Xt(n)&&(n=n.join(`

`));const s=this.gl,o=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let a=this._shaderCache.get(o);if(!a){const u=[r,i,n].join(`

`);a=s.createShader(e),s.shaderSource(a,u),s.compileShader(a),this._shaderCache.set(o,a)}return a}adjustGl(){const e=this.getLogicalCanvasSize();this.canvas.style.width=`${e.width}px`,this.canvas.style.height=`${e.height}px`;const n=this.getPhysicalCanvasSize(e);this.canvas.width=n.width,this.canvas.height=n.height,KB(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this._resizeObserver.unobserve(this._container),this.canvas.remove()}getPhysicalCanvasSize(e){return e=e||this.getLogicalCanvasSize(),{width:e.width*this.dpr,height:e.height*this.dpr}}getLogicalCanvasSize(){var s;if(this._logicalCanvasSize)return this._logicalCanvasSize;const e=((s=this._sizeSource)==null?void 0:s.call(this))??{width:void 0,height:void 0},n=window.getComputedStyle(this._container,null),r=e.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=e.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}addEventListener(e,n){this._listeners.push({type:e,listener:n})}_emit(e){for(const n of this._listeners)n.type===e&&n.listener()}readPickingPixel(e,n){const r=this.gl;e*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,s=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(e,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,s),r.bindFramebuffer(r.FRAMEBUFFER,null),s}clearAll(){const e=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();e.viewport(0,0,n,r),e.disable(e.SCISSOR_TEST),e.clearColor(...this._clearColor),e.clear(e.COLOR_BUFFER_BIT)}createRangeTexture(e,n=!1){const r=this.rangeTextures.get(e);if(!n&&r)return;function i(o,a){return ti(a.type)?a.domain().length:a.type=="threshold"?a.domain().length+1:a.type=="quantize"||a.type=="quantile"?o??4:o}const s=e.channel;if(ts(s)){const o=e.getScaleProps(),a=e.getScale(),u=a.range();let f;if(o.scheme)if(a.type=="threshold"&&u)f=F0(u,this.gl,a.domain().length,r);else{let l=Ke(o.scheme)?void 0:o.scheme.count;l=i(l,a),f=Fk(o.scheme,this.gl,l,r)}else yl(a.type)||_t(a.type)&&u.length>2?f=Ik(u,o.interpolate,this.gl,r):f=F0(u,this.gl,a.domain().length,r);this.rangeTextures.set(e,f)}else{const o=e.getScale();if(o.type==="ordinal"||Xs(o.type)){const a=vl(s)?ky(s):f=>f,u=e.getScale().range();this.rangeTextures.set(e,Dk(u.map(a),this.gl,o.domain().length,r))}}}}function kk(t,e="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...e.matchAll(r)],s=new Map(i.map((o,a)=>{const u=parseInt(o[1]),f=i[a+1],l=f?f.index:e.length,c=e.substring(o.index,l);return[u-1,c]}));return t.split(`
`).map((o,a)=>{const u=s.get(a);return`${a+1+n}: ${o}${u?`

^^^ ${u}`:""}`}).join(`
`)}function Rk(t,e,n){const r=t.createProgram();t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r);function i(){let s,o;if(!t.getProgramParameter(r,t.LINK_STATUS)){s=t.getProgramInfoLog(r);for(const u of[e,n])t.getShaderParameter(u,t.COMPILE_STATUS)||(s=t.getShaderInfoLog(u),o=kk(t.getShaderSource(u),s,0)+`
Error compiling: ${s}`,t.deleteShader(u));t.deleteProgram(r)}if(s)return{message:s,detail:o}}return{program:r,getProgramErrors:i}}function jl(t,e,n,r){return r?fw(t,r,n,e):r=sf(t,{...e,src:n}),r}function Mk(...t){const e={get(n,r,i){for(const s of t){const a=s()[r];if(a!==void 0)return a}},has(n,r,i){for(const s of t){const o=s();if(r in o)return!0}return!1}};return new Proxy({},e)}function Pk(t){return Ke(t)||Nt(t)||Du(t)}const Nk="SAMPLE_FACET_UNIFORM",ox="SAMPLE_FACET_TEXTURE";class uf{constructor(e){this.unitView=e,this.encoders=void 0,this.bufferInfo=void 0,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.domainUniformInfo=void 0,this.viewUniformInfo=void 0,this.rangeMap=new Lk,this.defaultProperties={get clip(){return["x","y"].map(n=>e.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=Mk(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const e={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(e.uniqueId={field:"_uniqueId"}),e}fixEncoding(e){return e}get encoding(){return uo(this,"encoding",()=>{const e=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=o=>{const a=this.properties[o];return Pk(a)&&{value:a}},i=Object.fromEntries(this.getSupportedChannels().map(o=>[o,r(o)]).filter(o=>o[1].value!==void 0)),s=this.fixEncoding({...e,...i,...n});for(const o of Object.keys(s))this.getSupportedChannels().includes(o)||delete s[o];return s})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=uF(this)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return ox;if(this.unitView.getLayoutAncestors().find(e=>"samples"in e.spec))return Nk}createAndLinkShaders(e,n,r=[]){const i=this.getAttributes();r.push("// view: "+this.unitView.getPathString()),this.domainUniforms=[];let s=[];const o=this.getSampleFacetMode();o&&r.push(`#define ${o}`);for(const h of i){let d;if(h in this.encoding)d=h;else continue;const p=this.encoding[d];if(p)if(Rn(p))s.push(fk(d,p.value));else{const b=un(p)&&p.resolutionChannel||d,y=ns(b)?this.unitView.getScaleResolution(b).getScale():xl(),w=uk(d,y,p);s.push(w.glsl),w.domainUniform&&this.domainUniforms.push(w.domainUniform)}}const a=this.domainUniforms.length?`layout(std140) uniform Domains {
`+this.domainUniforms.map(h=>`    ${h}
`).join("")+`};

`:"",f=[`precision highp float;
`,...r,tx,_k,a,...s,Sk,Ck,e],l=[...r,tx,Tk,n],c=this.gl;this.programStatus=Rk(c,this.glHelper.compileShader(c.VERTEX_SHADER,f),this.glHelper.compileShader(c.FRAGMENT_SHADER,l))}finalizeGraphicsInitialization(){const e=this.programStatus.getProgramErrors();if(e){e.detail&&console.warn(e.detail);const n=new Error("Cannot create shader program: "+e.message);throw n.view=this.unitView,n}this.programInfo=MB(this.gl,this.programStatus.program),delete this.programStatus,this.domainUniforms.length&&(this.domainUniformInfo=Pw(this.gl,this.programInfo,"Domains")),this.viewUniformInfo=Pw(this.gl,this.programInfo,"View"),this.gl.useProgram(this.programInfo.program),this._setDatums(),Jt(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0})}_setDatums(){for(const[e,n]of Object.entries(this.encoding))if(Qa(n)){const r=this.encoders[e],i=r.indexer?r.indexer(n.datum):$l(r.scale.type)?Jw(+n.datum):+n.datum;Jt(this.programInfo,{[E0+e]:i})}}deleteGraphicsData(){if(this.bufferInfo){const e=this.gl;for(let n=0;n<8;n++)e.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(e){if(this.gl.bindVertexArray(null),this.bufferInfo&&e.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(e.arrays))r.data&&jF(this.gl,this.bufferInfo.attribs[n],r.data,0);else this.deleteGraphicsData(),this.bufferInfo=YF(this.gl,e.arrays,{numElements:e.vertexCount}),this.bufferInfo.allocatedVertices=e.allocatedVertices,this.vertexArrayInfo=void 0}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null)return!1;for(const e of this.unitView.getLayoutAncestors())if(!e.isPickingSupported())return!1;return!0}prepareRender(e){const n=this.glHelper,r=this.gl,i=[];if(i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=JB(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)}),this.domainUniformInfo){for(const[o,a]of Object.entries(this.domainUniformInfo.setters)){const u=o.substring(Zw.length),f=this.encoding[u],l=un(f)&&f.resolutionChannel||u;if(ns(l)){const c=this.unitView.getScaleResolution(l).getScale();i.push(()=>{const h=ti(c.type)?[0,c.domain().length]:c.domain();a($l(c.type)?pk(h):h)})}}i.push(()=>Nw(r,this.programInfo,this.domainUniformInfo))}for(const[o,a]of Object.entries(this.encoding))if(un(a)){const u=un(a)&&a.resolutionChannel||o;if(ns(u)){const f=this.unitView.getScaleResolution(u),l=n.rangeTextures.get(f);l&&i.push(()=>Jt(this.programInfo,{[_0+o]:l}))}}this.getSampleFacetMode()==ox&&i.push(()=>{let o;for(const a of this.unitView.getLayoutAncestors())if(o=a.getSampleFacetTexture(),o)break;if(!o)throw new Error("No facet texture available. This is bug.");Jt(this.programInfo,{uSampleFacetTexture:o})});const s=(e.picking??!1)&&this.isPickingParticipant();return i.push(()=>Lw(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:s})),this.opaque||e.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(e){const n=e.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,s=n.locSize?n.locSize.size:1;if(i>1||i+s<0)return!1;const o=n.targetLocSize?n.targetLocSize.location:i,a=n.targetLocSize?n.targetLocSize.size:s;this.gl.uniform4f(r.location,i,s,o,a)}return!0}render(e){}createRenderCallback(e,n){var c;if(!this.bufferInfo){const h=new Error(`${this.getType()} mark has no data. This is bug.`);throw h.view=this.unitView,h}const r=this;let i;const s=(c=this.unitView.getScaleResolution("x"))==null?void 0:c.getScale(),o=s&&_t(s.type),a=["index","locus"].includes(s==null?void 0:s.type)?-1:0,u=[0,0];i=h=>{if(o&&h.xIndex){const d=s.domain(),p=h.xIndex(d[0]+a,d[1],u),b=p[0],y=p[1]-b;y>0&&e(b,y)}else e(h.offset,h.count)};const f=this.rangeMap.get(void 0).count==0?n.facetId:void 0,l=this.rangeMap.get(f);return n.sampleFacetRenderingOptions?function(){l.count&&r.prepareSampleFacetRendering(n)&&i(l)}:function(){l.count&&i(l)}}setViewport(e,n){e=e.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,s=this.properties,o=this.glHelper.getLogicalCanvasSize(),a=.5,u=(s.xOffset??0)+a,f=(s.yOffset??0)+a;let l,c=e;if(s.clip!=="never"&&(s.clip||n)){let h=0,d=0,p;if(n){if(c=e.intersect(n).flatten(),!c.isDefined())return!1;p=[e.width/c.width,e.height/c.height],d=Math.max(0,e.y2-n.y2),h=Math.max(0,e.x2-n.x2)}else p=[1,1];const b=[c.x,o.height-c.y2,c.width,c.height].map(S=>S*r),y=b.map(S=>Math.round(S)),[w,E]=b.map((S,T)=>S-y[T]);i.viewport(...y),i.scissor(...y),i.enable(i.SCISSOR_TEST),l={uViewOffset:[(u+h+w/r)/c.width,-(f+d-E/r)/c.height],uViewScale:p}}else{if(!e.isDefined())return!1;i.viewport(0,0,o.width*r,o.height*r),i.disable(i.SCISSOR_TEST),l={uViewOffset:[(e.x+u)/o.width,(o.height-e.y-f-e.height)/o.height],uViewScale:[e.width/o.width,e.height/o.height]}}return Lw(this.viewUniformInfo,{...l,uViewportSize:[e.width,e.height],uDevicePixelRatio:r}),Nw(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(e,n){}}class Lk extends Ni{constructor(){super([],JSON.stringify)}get(e){let n=super.get(e);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(e,n)),n}migrateEntries(e){for(const[n,r]of e.entries())Object.assign(this.get(n),r)}}function I0(t,e){const n=dF(e);let r=t[e]&&{...t[e]},i=t[n]&&{...t[n]};if(!(Rn(r)||Rn(i))){if(r){if(!un(t[e]))return;if(i){if(r.type!="quantitative"){const s=(1-(r.band||1))/2;r.band=s,i.band=-s}}else if(r.type=="quantitative")i={datum:0};else{i={...r};const s=(1-(r.band??1))/2;r.band=0+s,i.band=1-s}}else r={value:0},i={value:1};t[e]=r,t[n]=i}}function ax(t,e){t.stroke||(e?t.stroke={value:null}:t.stroke={resolutionChannel:"color",...t.color}),Rn(t.stroke)&&t.stroke.value===null&&(t.strokeWidth={value:0}),t.strokeOpacity||(t.strokeOpacity={resolutionChannel:"opacity",...t.opacity})}function fx(t,e){Rn(t.fill)&&t.fill.value===null?t.fillOpacity={value:0}:t.fill||(t.fill={resolutionChannel:"color",...t.color},!e&&!t.fillOpacity&&(t.fillOpacity={value:0})),t.fillOpacity||(e?t.fillOpacity={resolutionChannel:"opacity",...t.opacity}:t.fillOpacity={value:0})}class Ok extends uf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1,tessellationZoomThreshold:10,tessellationTiles:35}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return uo(this,"opaque",()=>!this._isRoundedCorners()&&!this._isStroked()&&Rn(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(e){return I0(e,"x"),I0(e,"y"),ax(e,this.properties.filled),fx(e,this.properties.filled),delete e.color,delete e.opacity,e}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}_isRoundedCorners(){const e=this.properties;return e.cornerRadius||e.cornerRadiusBottomLeft||e.cornerRadiusBottomRight||e.cornerRadiusTopLeft||e.cornerRadiusTopRight}_isStroked(){const e=this.encoding.strokeWidth;return!(Rn(e)&&!e.value)}async initializeGraphics(){await super.initializeGraphics();const e=[];this._isRoundedCorners()&&e.push("ROUNDED_CORNERS"),this._isStroked()&&e.push("STROKED"),this.createAndLinkShaders(ik,sk,e.map(n=>"#define "+n))}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Jt(this.programInfo,{uMinSize:[e.minWidth,e.minHeight],uMinOpacity:e.minOpacity,uCornerRadii:[e.cornerRadiusTopRight??e.cornerRadius,e.cornerRadiusBottomRight??e.cornerRadius,e.cornerRadiusTopLeft??e.cornerRadius,e.cornerRadiusBottomLeft??e.cornerRadius]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new wk({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>ao(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{of(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r)},e)}findDatumAt(e,n){e=Kt(e);const r=this.unitView.getCollector().facetBatches.get(e);if(!r)return;const i=this.encoders,s=i.x.scale.type;if(ti(s)){const o=i.x.accessor;return r.find(a=>n==o(a))}else{const o=i.x.accessor,a=i.x2.accessor;return r.find(u=>n>=o(u)&&n<a(u))}}}const zk=`/**
 * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
 * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
 * geometric zoom, etc.
 */
uniform bool uInwardStroke;

/** Maximum size of the largest point as the fraction of the height of the (faceted) view */
uniform lowp float uMaxRelativePointDiameter;

/** Scale factor for geometric zoom */
uniform float uScaleFactor;

/** The size of the largest point in the data */
uniform float uMaxPointSize;

uniform float uZoomLevel;
uniform float uSemanticThreshold;

out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;


float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

/**
 * Computes a scaling factor for the points in a sample-faceted view.
 */
float getDownscaleFactor(vec2 pos) {
    if (!isFacetedSamples()) {
        return 1.0;
    }

    float sampleFacetHeight = getSampleFacetHeight(pos);
    float maxPointDiameter = sqrt(uMaxPointSize);

    float factor = sampleFacetHeight *
        uViewportSize.y *
        uMaxRelativePointDiameter;

    return clamp(0.0, maxPointDiameter, factor) / maxPointDiameter;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor *
        getDownscaleFactor(pos);

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;
    gl_PointSize = (diameter + padding) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,Uk=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

uniform bool uInwardStroke;
uniform float uGradientStrength;

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float TRIANGLE_UP = 2.0;
const float CROSS = 3.0;
const float DIAMOND = 4.0;
const float TRIANGLE_DOWN = 5.0;
const float TRIANGLE_RIGHT = 6.0;
const float TRIANGLE_LEFT = 7.0;


// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float equilateralTriangle(vec2 p, float r, bool flip, bool swap) {
    if (swap) {
        p.xy = p.yx;
    }
    if (flip) {
        p.y = -p.y;
    }

    float k = sqrt(3.0);
    float kr = k * r;
    //p.y -= kr * 2.0 / 3.0;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r, true, false);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_DOWN) {
        d = equilateralTriangle(p, r, false, false);

    } else if (vShape == TRIANGLE_RIGHT) {
        d = equilateralTriangle(p, r, false, true);

    } else if (vShape == TRIANGLE_LEFT) {
        d = equilateralTriangle(p, r, true, true);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,tr=1,fi=2,D0=4,Gk={};class tt{get behavior(){return 0}constructor(){this.children=[],this.parent=void 0,this.completed=!1}reset(){this.completed=!1;for(const e of this.children)e.reset()}initialize(){}_updatePropagator(){this._propagate=Function("children",ca(this.children.length).map(e=>`const child${e} = children[${e}];`).join(`
`)+`return function propagate(datum) {${ca(this.children.length).map(e=>`child${e}.handle(datum);`).join(`
`)}}`)(this.children)}setParent(e){this.parent=e}addChild(e){if(e.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(e),e.setParent(this),this._updatePropagator(),this}adopt(e){e.parent&&e.parent.removeChild(e),this.addChild(e)}adoptChildrenOf(e){for(const n of e.children)this.adopt(n)}insertAsParent(e){if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");e.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.parent=void 0,e.addChild(this)}removeChild(e){const n=this.children.indexOf(e);if(n>-1)this.children.splice(n,1),e.parent=void 0,this._updatePropagator();else throw new Error("Trying to remove an unknown child node!")}excise(){if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const e=this.children[0];e.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=e,this.parent._updatePropagator(),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(e){e(this);for(const n of this.children)n.visit(e);e.afterChildren&&e.afterChildren(this)}subtreeToString(e=0){const n=this.children.map(r=>r.subtreeToString(e+1)).join("");return`${" ".repeat(e*2)}* ${this.constructor.name}${("identifier"in this&&this.identifier?": "+this.identifier:"")??""} 
${n}`}getGlobalObject(){return this.parent?this.parent.getGlobalObject():Gk}handle(e){this._propagate(e)}complete(){this.completed=!0;for(const e of this.children)e.complete()}beginBatch(e){for(const n of this.children)n.beginBatch(e)}_propagate(e){}}function ux(t){return t.type=="file"}function Hk(t){return t.type=="facet"}class lx extends tt{constructor(e){super(),this.k=e.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(e){this.reservoir.push(e),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(e){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=e,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(e){this.ingester(e)}complete(){for(const e of this.reservoir)this._propagate(e);super.complete()}}function $k(t,e,n){const r=new lx({type:"sample",size:t});for(const i of e)r.handle(n(i));return r.complete(),r.reservoir}const Vk={};class qk extends uf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02}))}getAttributes(){return["inwardStroke","uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","gradientStrength","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...Vk}}fixEncoding(e){return ax(e,this.properties.filled),fx(e,this.properties.filled),delete e.color,delete e.opacity,e}initializeData(){super.initializeData();const e=this.unitView.getAccessor("semanticScore");e&&(this.sampledSemanticScores=Float32Array.from($k(1e4,this.unitView.getCollector().getData(),e)),this.sampledSemanticScores.sort((n,r)=>n-r))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(zk,Uk)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Jt(this.programInfo,{uInwardStroke:e.inwardStroke,uGradientStrength:e.fillGradientStrength,uMaxRelativePointDiameter:1-2*e.sampleFacetPadding})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new vk({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}_getGeometricScaleFactor(){const e=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/e),1/3)}_getMaxPointSize(){const e=this.encoders.size;return e.constant?e(null):e.scale.range().reduce((n,r)=>Math.max(n,r))}getSemanticThreshold(){if(this.sampledSemanticScores){const e=Math.max(0,1-this.properties.semanticZoomFraction*this.unitView.getZoomLevel());if(e<=0)return-1/0;if(e>=1)return 1/0;{const n=this.sampledSemanticScores;return qm(n,e)}}else return-1}prepareRender(e){const n=super.prepareRender(e);return n.push(()=>Jt(this.programInfo,{uMaxPointSize:this._getMaxPointSize(),uScaleFactor:this._getGeometricScaleFactor(),uSemanticThreshold:this.getSemanticThreshold()})),n.push(()=>ao(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{i&&of(n,this.vertexArrayInfo,n.POINTS,i,r)},e)}}const jk=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

/** Minimum rule length in pixels */
uniform float uMinLength;

uniform mediump float uDashTextureSize;
uniform lowp int uStrokeCap;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,Zk=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;
uniform float uDashTextureSize;
uniform float uStrokeDashOffset;
uniform lowp int uStrokeCap;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`;class Wk extends uf{constructor(e){super(e),this.dashTextureSize=0,Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){if(!(e.x&&e.y&&e.x2&&e.y2))if(e.x&&e.x2&&!e.y)e.y={value:.5},e.y2=e.y;else if(e.y&&e.y2&&!e.x)e.x={value:.5},e.x2=e.x;else if(e.x&&!e.y)e.y={value:0},e.y2={value:1},e.x2=e.x;else if(e.y&&!e.x)e.x={value:0},e.x2={value:1},e.y2=e.y;else if(e.x&&e.y&&e.y2)e.x2=e.x;else if(e.y&&e.x&&e.x2)e.y2=e.y;else if(e.y&&e.x)if(!e.x2&&un(e.y)&&e.y.type=="quantitative")e.x2=e.x,e.y2={datum:0};else if(!e.y2&&un(e.x)&&e.x.type=="quantitative")e.y2=e.y,e.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(e));return e}async initializeGraphics(){if(await super.initializeGraphics(),this.properties.strokeDash){const e=this.gl,n=Yk(this.properties.strokeDash);this.dashTexture=sf(e,{mag:e.NEAREST,min:e.NEAREST,internalFormat:e.R8,format:e.RED,src:n,height:1}),this.dashTextureSize=n.length}this.createAndLinkShaders(jk,Zk)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Jt(this.programInfo,{uMinLength:e.minLength,uDashTextureSize:this.dashTextureSize,uStrokeCap:["butt","square","round"].indexOf(e.strokeCap)})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new xk({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(e.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(e){const n=super.prepareRender(e);return this.dashTexture&&n.push(()=>Jt(this.programInfo,{uDashTexture:this.dashTexture,uStrokeDashOffset:this.properties.strokeDashOffset})),n.push(()=>ao(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>of(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),e)}}function Yk(t){if(t.length==0||t.length%2||t.findIndex(s=>Math.round(s)!=s||s<1||s>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(t));const e=t.reduce((s,o)=>s+o),n=new Uint8Array(e);let r=!0,i=0;for(let s of t){for(;s;)n[i++]=r&&255||0,s--;r=!r}return n}const Qk=`uniform float uSagittaScaleFactor;

/** Make very small arcs visible */
uniform float uMinSagittaLength;

in vec2 strip;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    vec2 a = vec2(getScaled_x(), getScaled_y()) * uViewportSize;
    vec2 b = vec2(getScaled_x2(), getScaled_y2()) * uViewportSize;
    
    vec2 chordVector = b - a;
    vec2 unitChordVector = normalize(chordVector);
    vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);

    float sagitta = max(
        length(chordVector) / 2.0 * uSagittaScaleFactor,
        uMinSagittaLength
    );

    bool compress = false;
    if (compress) {
        // Work in progres...
        float maxSagittaLen = length(chordNormal * uViewportSize);
        float maxChordLen = length(unitChordVector * uViewportSize);

        float threshold = maxSagittaLen * 0.5;
        if (sagitta > threshold) {
            float m = (maxSagittaLen - threshold) / (maxChordLen - threshold);
            sagitta = (sagitta - threshold) * m + threshold;
        }
    }

    vec2 controlOffset = chordNormal * sagitta / 0.75;

    vec2 p1 = a;
    vec2 p2 = a + controlOffset;
    vec2 p3 = b + controlOffset;
    vec2 p4 = b;

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    //p = applySampleFacet(p);

#ifdef size2_DEFINED
    float mixedSize = mix(getScaled_size(), getScaled_size2(), t);
#else
    float mixedSize = getScaled_size();
#endif

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (mixedSize < pixelSize) {
        opacity *= mixedSize / pixelSize;
        mixedSize = pixelSize;
    }

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float paddedSize = mixedSize + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

#ifdef color2_DEFINED
    // Yuck, RGB interpolation in gamma space!
    // TODO: linear space: https://unlimited3d.wordpress.com/2020/01/08/srgb-color-space-in-opengl/
    vec3 color = mix(getScaled_color(), getScaled_color2(), t);
#else 
    vec3 color = getScaled_color();
#endif

    vColor = vec4(color * opacity, opacity);

    vSize = paddedSize;

    setupPicking();
}
`,Xk=`in lowp vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`;class Kk extends uf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,sagittaScaleFactor:1,minSagittaLength:1.5}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","height","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(e){return e.x||(e.x2=e.x),e.y2||(e.y2=e.y),e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(Qk,Xk)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Jt(this.programInfo,{uSagittaScaleFactor:e.sagittaScaleFactor,uMinSagittaLength:e.minSagittaLength})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getItemCount(),r=new Ak({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(e.facetBatches);const i=r.toArrays();i.arrays.strip={data:Jk(this.properties.segments),numComponents:2},this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([s,o])=>[s,{...o,data:void 0}])),this.updateBufferInfo(i)}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>{this.gl.bindVertexArray(this.vertexArrayInfo.vertexArrayObject);for(const s of Object.entries(this.bufferInfo.attribs)){const[o,a]=s;a.buffer&&a.numComponents&&a.divisor&&(a.offset=r*this.arrays[o].numComponents*4)}ao(n,this.programInfo,this.bufferInfo),of(n,this.bufferInfo,n.TRIANGLE_STRIP,(this.properties.segments+1)*2,0,i)},e)}}function Jk(t){let e=0;const n=[];for(;e<=t;e++)n.push(e/t,.5),n.push(e/t,-.5);return n}const eR=`uniform float uSdfNumerator;

uniform vec2 uD; // dx & dy

in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

uniform vec4 uViewportEdgeFadeWidth;
uniform vec4 uViewportEdgeFadeDistance;
    
uniform bool uSqueeze;
uniform bool uLogoLetter;

// Width of the text (all letters)
in float width;

// x: -1, 0, 1 = left, center, right
// y: -1, 0, 1 = top, middle, bottom 
uniform ivec2 uAlign;

#ifdef x2_DEFINED
uniform float uPaddingX;
uniform bool uFlushX;
#endif

#ifdef y2_DEFINED
uniform float uPaddingY;
uniform bool uFlushY;
#endif

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vColor = vec4(getScaled_color() * opacity, opacity);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,tR=`uniform sampler2D uTexture;
uniform bool uLogoLetter;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    // Raise to the power of 2.2 to do some cheap gamma correction
    opa *= pow(clamp(vEdgeFadeOpacity, 0.0, 1.0), 2.2);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,nR={left:-1,center:0,right:1},rR={top:-1,middle:0,bottom:1,alphabetic:1};class iR extends uf{constructor(e){super(e),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0})),this.font=this.properties.font?e.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):e.context.fontManager.getDefaultFont()}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(e){for(const n of Ks)this.properties.fitToBand&&I0(e,n);return e}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(eR,tR)}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const e=this.properties;Jt(this.programInfo,{uPaddingX:e.paddingX,uPaddingY:e.paddingY,uFlushX:!!e.flushX,uFlushY:!!e.flushY,uAlign:[nR[e.align],rR[e.baseline]],uD:[e.dx,-e.dy],uLogoLetter:!!e.logoLetters,uSqueeze:!!e.squeeze,uViewportEdgeFadeWidth:[e.viewportEdgeFadeWidthTop,e.viewportEdgeFadeWidthRight,e.viewportEdgeFadeWidthBottom,e.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[e.viewportEdgeFadeDistanceTop,e.viewportEdgeFadeDistanceRight,e.viewportEdgeFadeDistanceBottom,e.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const e=this.unitView.getCollector(),n=e.getData(),r=this.encoding,i=this.encoders.text.accessor||this.encoders.text;let s=0;const o="format"in r.text?mt(r.text.format):f=>f;for(const f of n){const l=o(i(f)),c=Ke(l)?l:l===null?"":""+l;s+=c&&c.length||0}const a=new Ek({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(s,this.properties.minBufferSize||0)});a.addBatches(e.facetBatches);const u=a.toArrays();this.rangeMap.migrateEntries(u.rangeMap),this.updateBufferInfo(u)}prepareRender(e){const n=super.prepareRender(e);let r=.35;this.properties.logoLetters&&(r/=2);const i=this.font.metrics.common.base/(this.unitView.context.devicePixelRatio/r);return n.push(()=>Jt(this.programInfo,{uTexture:this.font.texture,uSdfNumerator:i})),n.push(()=>ao(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(e){const n=this.gl;return this.createRenderCallback((r,i)=>of(n,this.vertexArrayInfo,n.TRIANGLES,i,r),e)}}function cx(t,e,{spacing:n,devicePixelRatio:r,offset:i,reverse:s}={}){n=n||0,i=i||0;let o=0,a=0;for(const p of t)o+=Zl(p.px)+(B0(p)?0:n),a+=Zl(p.grow);o-=n;const u=Math.max(0,e-o),f=r!==void 0?p=>Math.round(p*r)/r:p=>p,l=[],c=[],h=p=>{const b=l.length;if(!b)return;const y=(p?n:0)*(s?-1:1);d-=y;for(let w=0;w<b;w++)c.push({location:d+(w+1)/(b+1)*y,size:0});d+=y,l.length=0};let d=s?Math.max(e,o):0+i;if(t.length==1&&B0(t[0]))return[{location:d,size:0}];for(let p=0;p<t.length;p++){const b=t[p];if(B0(b))l.push(b);else{h(c.length>0);const y=Zl(b.px)+(a?Zl(b.grow)/a*u:0);s&&(d-=y),c.push({location:f(d),size:f(y)}),s?d-=n:d+=y+n}}return d+=s?n:-n,h(!1),c}function sR(t){let e=0,n=0;for(const r of t)e=Math.max(e,r.px??0),n=Math.max(n,r.grow??0);return{px:e,grow:n}}const gm=class gm{constructor(e,n){be(this,pu);this.width=e,this.height=n}addPadding(e){return ue(this,pu,vm).call(this,e.width,e.height)}subtractPadding(e){return ue(this,pu,vm).call(this,-e.width,-e.height)}};pu=new WeakSet,vm=function(e,n){return new gm({px:(this.width.px??0)+e,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};let as=gm;const lf=Object.freeze({px:0,grow:0}),oR=new as(lf,lf);function B0(t){return!t.px&&!t.grow}function Zl(t){return t||0}function aR(t){return t&&(Nt(t.px)||Nt(t.grow))}function hx(t){if(mx(t))throw new Error("parseSizeDef does not accept step-based sizes.");if(aR(t))return t;if(Nt(t))return{px:t,grow:0};if(t==="container")return{px:0,grow:1};if(!t)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${t}`)}class Ct{constructor(e,n,r,i){this.top=e||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(e){return e<=0?this:new Ct(this.top+e,this.right+e,this.bottom+e,this.left+e)}add(e){return new Ct(this.top+e.top,this.right+e.right,this.bottom+e.bottom,this.left+e.left)}subtract(e){return new Ct(this.top-e.top,this.right-e.right,this.bottom-e.bottom,this.left-e.left)}union(e){return new Ct(Math.max(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom),Math.max(this.left,e.left))}getHorizontal(){return new Ct(0,this.right,0,this.left)}getVertical(){return new Ct(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(e){return typeof e=="number"?this.createUniformPadding(e):e?this.createFromRecord(e):k0}static createFromRecord(e){return new Ct(e.top,e.right,e.bottom,e.left)}static zero(){return k0}static createUniformPadding(e){return new Ct(e,e,e,e)}}const k0=Ct.createUniformPadding(0);Object.freeze(k0);const fR=/^([A-Za-z]+:)?\/\//;function uR(t,e){if(e&&fR.test(e))return e;const n=t();return n&&e?n.endsWith("/")?n+e:n+"/"+e:n??e}const dx="VISIT_SKIP",cf="VISIT_STOP",px=t=>t;class gx{constructor(e,n,r,i,s){be(this,th);be(this,bu);be(this,ta,{});be(this,gu,{});be(this,mu,{});on(this,"opacityFunction",px);if(!e)throw new Error("View spec must be defined!");this.context=n,this.layoutParent=r,this.dataParent=i,this.name=e.name||s,this.spec=e,this.resolutions={scale:{},axis:{}},rx(this),this.blockEncodingInheritance=!1,this.contributesToScaleDomain=!0,this.needsAxes={x:!1,y:!1}}getPadding(){return this._cache("size/padding",()=>Ct.createFromConfig(this.spec.padding))}getOverhang(){return Ct.zero()}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?ue(this,th,SS).call(this):oR)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(e=>e.isConfiguredVisible())}getEffectiveOpacity(){var e;return this.opacityFunction(((e=this.layoutParent)==null?void 0:e.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(e=>e.name).reverse().join("/")}getLayoutAncestors(){return ue(this,bu,Am).call(this,"layoutParent")}getDataAncestors(){return ue(this,bu,Am).call(this,"dataParent")}handleBroadcast(e){for(const n of ie(this,ta)[e.type]||[])n(e)}_addBroadcastHandler(e,n){let r=ie(this,ta)[e];r||(r=[],ie(this,ta)[e]=r),r.push(n)}handleInteractionEvent(e,n,r){const i=r?ie(this,gu):ie(this,mu);for(const s of i[n.type]||[])s(e,n)}addInteractionEventListener(e,n,r){const i=r?ie(this,gu):ie(this,mu);let s=i[e];s||(s=[],i[e]=s),s.push(n)}visit(e){try{const n=e(this);if(e.postOrder&&e.postOrder(this),n!==cf)return n}catch(n){throw n.view=this,n}}getDescendants(){const e=[];return this.visit(n=>{e.push(n)}),e}onScalesResolved(){(!this.opacityFunction||this.opacityFunction===px)&&(this.opacityFunction=cR(this))}onBeforeRender(){}render(e,n,r={}){}getEncoding(){const e=this.dataParent&&!this.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...e,...n};for(const[i,s]of Object.entries(r))s===null&&delete r[i];return r}getFacetAccessor(e){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(e){var r;const n=this.getEncoding().sample;return Ya(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(e){const n=es(e);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(e){const n=es(e);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(e,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[e]}getConfiguredOrDefaultResolution(e,n){return this.getConfiguredResolution(e,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(e,n)}getDefaultResolution(e,n){return"independent"}getBaseUrl(){return uR(()=>{var e;return(e=this.dataParent)==null?void 0:e.getBaseUrl()},this.spec.baseUrl)}isPickingSupported(){return!0}getTitleText(){const e=this.spec.title;if(e)return Ke(e)?e:e.text}_cache(e,n){return uo(this,e,n)}_invalidateCacheByPrefix(e,n="self"){switch(n){case"self":ql(this,e);break;case"ancestors":for(const r of this.getLayoutAncestors())ql(r,e);break;case"progeny":this.visit(r=>ql(r,e));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(e){}}ta=new WeakMap,gu=new WeakMap,mu=new WeakMap,th=new WeakSet,SS=function(){const e=n=>{var i;let r=this.spec[n];if(mx(r)){const s=r.step,o=(i=this.getScaleResolution(n=="width"?"x":"y"))==null?void 0:i.getScale();if(o){let a=0;if(ti(o.type))a=o.domain().length;else if(["locus","index"].includes(o.type)){const f=o.domain();a=Ba(f)-f[0]}else throw new Error(`Cannot use step-based size with "${o.type}" scale!`);const u=o;return a=Od(a,u.paddingInner(),u.paddingOuter()),{px:a*s,grow:0}}else throw new Error("Cannot use 'step' size with missing scale!")}else return(r&&hx(r))??{px:0,grow:1}};return this._cache("size/sizeFromSpec",()=>new as(e("width"),e("height")))},bu=new WeakSet,Am=function(e){const n=[];let r=this;do n.push(r),r=r[e];while(r);return n};function lR(t){return"unitsPerPixel"in t}function cR(t){const e=t.spec.opacity;if(e!==void 0){if(Nt(e))return n=>n*e;if(lR(e)){const n=s=>{var a;const o=(a=t.getScaleResolution(s))==null?void 0:a.getScale();if(["linear","index","locus"].includes(o==null?void 0:o.type))return o},r=e.channel?n(e.channel):n("x")||n("y");if(!r)throw new Error("Cannot find a resolved quantitative scale for dynamic opacity!");const i=Dd().domain(e.unitsPerPixel).range(e.values).clamp(!0);return s=>{const a=Bu(r.domain())/1e3;return i(a)*s}}}return n=>n}const mx=t=>!!(t!=null&&t.step);class lo extends gx{constructor(e,n,r,i,s){super(e,n,r,i,s),this.spec=e}*[Symbol.iterator](){}replaceChild(e,n){throw new Error("Not implemented")}visit(e){let n;try{n=e(this)}catch(r){throw r.view=this,r}if(n===cf)return n;if(n!==dx){e.beforeChildren&&e.beforeChildren(this);for(const r of this){const i=r.visit(e);if(i===cf)return i}e.afterChildren&&e.afterChildren(this),e.postOrder&&e.postOrder(this)}}findDescendantByPath(e){for(const n of this)if(n.name===e[0]){if(e.length==1)return n;if(n instanceof lo)return n.findDescendantByPath(e.slice(1))}}findChildByName(e){for(const n of this)if(n.name===e)return n}findDescendantByName(e){let n;return this.visit(r=>{if(r.name==e)return n=r,cf}),n}getDefaultResolution(e,n){return"shared"}}const bx=1;function R0(){let t=[0,1],e=[0,1],n=1,r=1,i=0,s=0,o=.5,a=0;const f=l=>(l+o-t[0])/n*r+e[0];return f.invert=l=>(l-e[0])/r*n+t[0]-o,f.domain=function(l){if(arguments.length){t=mC(l),n=t[1]-t[0];const c=t[0]===0&&t[0]===0;if(n<bx&&!c){n=bx;const h=(t[0]+t[1])/2;t[0]=h-n/2,t[1]=h+n/2}return f}else return t.slice()},f.range=function(l){return arguments.length?(e=[...l],r=e[1]-e[0],f):e},f.numberingOffset=function(l){return arguments.length?(a=l,f):a},f.padding=function(l){return arguments.length?(s=l,i=Math.min(1,l),f):i},f.paddingInner=function(l){return arguments.length?(i=Math.min(1,l),f):i},f.paddingOuter=function(l){return arguments.length?(s=l,f):s},f.align=function(l){return arguments.length?(o=Math.max(0,Math.min(1,l)),f):o},f.step=()=>r/n,f.bandwidth=()=>f.step(),f.ticks=l=>{const c=f.align(),h=f.numberingOffset();return Nu(t[0]-c+h,t[1]-c+h,Math.min(l,Math.ceil(n))).filter(Number.isInteger).map(d=>d-a)},f.tickFormat=(l,c)=>{if(c)throw new Error("Index scale's tickFormat does not support a specifier!");const d=Li(t[0],t[1],Math.min(l,Math.ceil(n)))<1e5?mt(","):mt(".3s");return p=>d(p+a)},f.copy=()=>R0().domain(t).range(e).paddingInner(i).paddingOuter(s).numberingOffset(a),f}function hR(){const t=R0().numberingOffset(1);let e;t.genome=function(r){return arguments.length?(e=r,t):e},t.ticks=r=>{if(!e)return[];const i=t.domain(),s=t.numberingOffset(),[o,a]=[Math.max(i[0],0),Math.min(i[1],e.totalSize-1)].map(l=>e.toChromosome(l)),u=Math.max(1,Li(i[0],i[1],r)),f=[];for(let l=o.index;l<=a.index;l++){const c=e.chromosomes[l],h=Math.max(c.continuousStart+u,i[0]-(i[0]-c.continuousStart)%u),d=Math.min(c.continuousEnd-u/4,i[1]+1);for(let p=h;p<=d;p+=u){const b=p-s;b>=i[0]&&b<i[1]&&f.push(b)}}return f},t.tickFormat=(r,i)=>{if(!e)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const s=t.domain(),o=s[1]-s[0],a=t.numberingOffset(),f=Li(s[0],s[1],Math.min(r,Math.ceil(o)))<1e6?mt(","):mt(".3s"),l=c=>c-e.toChromosome(c).continuousStart;return c=>f(l(c)+a)};const n=t.copy;return t.copy=()=>n().genome(e),t}function dR(t){return t.type=="locus"}function Wl(t,e,n){if(n=n||[],t.some(o=>o===null)){if(t.every(o=>o===null))return null;throw console.warn(t),new Error("Cannot merge objects with nulls!")}const r={},i=(o,a)=>o===a||co(o)&&co(a)||co(o)&&a===!0||o===!0&&Fn(a),s=o=>{for(let a in o){const u=o[a];if(!n.includes(a)&&u!==void 0)if(r[a]!==void 0&&!i(r[a],u))console.warn(`Conflicting property ${a} of ${e}: (${JSON.stringify(r[a])} and ${JSON.stringify(o[a])}). Using ${JSON.stringify(r[a])}.`);else{const f=r[a];if(co(f))co(u)&&(r[a]=Wl([f,u],a));else if(co(u)){if(!(f===!0||f===void 0))throw new Error("Bug in merge! Target is: "+f);r[a]=Wl([{},u],a)}else r[a]=u}}};for(const o of t)s(o);return r}function co(t){return Fn(t)&&!Array.isArray(t)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function yx(t,e,n){return Nt(e)&&n!=null&&(e=Math.min(e,~~(Bu(t.domain())/n)||1)),Fn(e)&&(e.step,e=e.interval),e}function wx(t,e,n){var r=t.range(),i=Math.floor(r[0]),s=Math.ceil(In(r));if(i>s&&(r=s,s=i,i=r),e=e.filter(function(a){return a=t(a),i<=a&&a<=s}),n>0&&e.length>1){for(var o=[e[0],In(e)];e.length>n&&e.length>=3;)e=e.filter(function(a,u){return!(u%2)});e.length<3&&(e=o)}return e}function pR(t,e){return t.bins?wx(t,gR(t.bins,e)):t.ticks?t.ticks(e):t.domain()}function gR(t,e){var n=t.length,r=~~(n/(e||n));return r<2?t.slice():t.filter(function(i,s){return!(s%r)})}function mR(t,e,n){var r=t.tickFormat?t.tickFormat(e,n):n?mt(n):String;if(Ey(t.type)){var i=yR(n);r=t.bins?i:bR(r,i)}return r}function bR(t,e){return function(n){return t(n)?e(n):""}}function yR(t){var e=$r(t||",");if(e.precision==null){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1;break}return wR(mt(e),mt(".1f")(1)[1])}else return mt(e)}function wR(t,e){return function(n){var r=t(n),i=r.indexOf(e),s,o;if(i<0)return r;for(s=xR(r,i),o=s<r.length?r.slice(s):"";--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function xR(t,e){var n=t.lastIndexOf("e"),r;if(n>0)return n;for(n=t.length;--n>e;)if(r=t.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const vR="locus",AR="index";var ER=5;function _R(t){const e=t.type;return!t.bins&&(e===Ys||e===Va||e===qa)}function xx(t){return _t(t)&&![Kn,AR,vR].includes(t)}function vx(t){return t||{warn:(e,...n)=>console.warn(e,...n)}}var SR=Ru(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function Ax(t,e,n){n=vx(n);for(const r in t)if(!SR[r]){if(r==="padding"&&xx(e.type))continue;Pt(e[r])?e[r](t[r]):n.warn("Unsupported scale property: "+r)}RR(e,t,kR(e,t,IR(e,t,n)))}function CR(t,e){const n=TR(t),r=Ce(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!t.domain&&_t(i.type)&&(t.domain=[0,0]),Ax(t,i,e),i}function TR(t){var e=t.type,n="",r;return e===Kn?Kn+"-"+Ys:(FR(t)&&(r=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(t.domainMid!=null):0,n=r===2?Kn+"-":r===3?Qs+"-":""),(n+e||Ys).toLowerCase())}function FR(t){const e=t.type;return _t(e)&&e!==gy&&e!==my&&(t.scheme||t.range&&t.range.length&&t.range.every(Ke))}function IR(t,e,n){if(!t.domain)return 0;n=vx(n);var r=DR(t,e.domainRaw,n);if(r>-1)return r;var i=e.domain,s=t.type,o=e.zero||e.zero===void 0&&_R(t),a,u;return i?(xx(s)&&e.padding&&i[0]!==In(i)&&(i=BR(s,i,e.range,e.padding,e.exponent,e.constant)),(o||e.domainMin!=null||e.domainMax!=null||e.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),e.domainMin!=null&&(i[0]=e.domainMin),e.domainMax!=null&&(i[a]=e.domainMax),e.domainMid!=null&&(u=e.domainMid,(u<i[0]||u>i[a])&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(a,0,u))),t.domain(Ex(s,i,n)),s===Ud&&t.unknown(e.domainImplicit?ad:void 0),e.nice&&t.nice&&t.nice(e.nice!==!0&&yx(t,e.nice)||null),i.length):0}function DR(t,e,n){return e?(t.domain(Ex(t.type,e,n)),e.length):-1}function BR(t,e,n,r,i,s){var o=Math.abs(In(n)-n[0]),a=o/(o-2*r),u=t===ei?Bm(e,null,a):t===qa?gh(e,null,a,.5):t===Va?gh(e,null,a,i||1):t===ml?US(e,null,a,s||1):Dm(e,null,a);return e=e.slice(),e[0]=u[0],e[e.length-1]=u[1],e}function Ex(t,e,n){if(Ey(t)){var r=Math.abs(e.reduce(function(i,s){return i+(s<0?-1:s>0?1:0)},0));r!==e.length&&n.warn("Log scale domain includes zero: "+ku(e))}return e}function kR(t,e,n){let r=e.bins;if(r&&!Xt(r)){const i=(r.start==null||r.stop==null)&&t.domain(),s=r.start==null?i[0]:r.start,o=r.stop==null?In(i):r.stop,a=r.step;a||Xe("Scale bins parameter missing step property."),r=ca(s,o+a,a)}return r?t.bins=r:t.bins&&delete t.bins,t.type===Hd&&(r?!e.domain&&!e.domainRaw&&(t.domain(r),n=r.length):t.bins=t.domain()),n}function RR(t,e,n){var r=t.type,i=e.round||!1,s=e.range;if(e.rangeStep!=null)s=MR(r,e,n);else if(e.scheme&&(s=PR(r,e,n),Pt(s))){if(t.interpolator)return t.interpolator(s);Xe(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&yl(r))return t.interpolator(wl(M0(s,e.reverse),e.interpolate,e.interpolateGamma));s&&e.interpolate&&t.interpolate?t.interpolate(_y(e.interpolate,e.interpolateGamma)):Pt(t.round)?t.round(i):Pt(t.rangeRound)&&t.interpolate(i?Ha:Kr),s&&t.range(M0(s,e.reverse))}function MR(t,e,n){t!==wy&&t!==Gd&&Xe("Only band and point scales support rangeStep.");var r=(e.paddingOuter!=null?e.paddingOuter:e.padding)||0,i=t===Gd?1:(e.paddingInner!=null?e.paddingInner:e.padding)||0;return[0,e.rangeStep*Od(n,i,r)]}function PR(t,e,n){var r=e.schemeExtent,i,s;return Xt(e.scheme)?s=wl(e.scheme,e.interpolate,e.interpolateGamma):(i=e.scheme.toLowerCase(),s=Vd(i),s||Xe(`Unrecognized scheme name: ${e.scheme}`)),n=t===yy?n+1:t===Hd?n-1:t===zd||t===by?+e.schemeCount||ER:n,yl(t)?_x(s,r,e.reverse):Pt(s)?iF(_x(s,r),n):t===Ud?s:s.slice(0,n)}function _x(t,e,n){return Pt(t)&&(e||n)?rF(t,M0(e||[0,1],n)):t}function M0(t,e){return e?t.slice().reverse():t}const Sx=mt(",d");function NR(t,e){return t.chrom+":"+Sx(Math.floor(t.pos+1))+"-"+(t.chrom!=e.chrom?e.chrom+":":"")+Sx(Math.ceil(e.pos))}const LR="https://genomespy.app/data/genomes/";class OR{constructor(e){if(this.config=e,!this.config.contigs&&typeof this.config.name!="string")throw new Error("No name has been defined for the genome assembly!");this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,this.config.contigs&&this.setChromSizes(this.config.contigs)}get name(){return this.config.name}async load(e){if(!this.config.contigs){this.config.baseUrl?this.baseUrl=/^http(s)?/.test(this.config.baseUrl)?this.config.baseUrl:e+"/"+this.config.baseUrl:this.baseUrl=LR;try{this.setChromSizes(zR(await Wu({baseURL:this.baseUrl}).load(`${this.config.name}/${this.name}.chrom.sizes`)))}catch(n){throw new Error(`Could not load chrom sizes: ${n.message}`)}}}hasChrPrefix(){return this.chromosomes.some(e=>e.name.startsWith("chr"))}setChromSizes(e){let n=0;this.startByIndex=[0];for(let r=0;r<e.length;r++){this.startByIndex.push(n);const i=e[r].size,s={...e[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(s);const o=s.name.replace(/^chr/i,"");for(const a of["chr"+o,"CHR"+o,"Chr"+o,s.number,""+s.number,o,s.name])this.cumulativeChromPositions.set(a,n),this.chromosomesByName.set(a,s);n+=s.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(e,n){let r=this.cumulativeChromPositions.get(e);if(r===void 0)throw new Error("Unknown chromosome/contig: "+e);return r+ +n}toChromosome(e){if(e>this.totalSize)return;e=Math.floor(e);const n=zs(this.startByIndex,e)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(e){const n=this.toChromosome(e);if(n)return{chrom:n.name,pos:Math.floor(e)-n.continuousStart}}getChromosome(e){return this.chromosomesByName.get(e)}formatInterval(e){return NR(...this.toChromosomalInterval(e))}toChromosomalInterval(e){const n=this.toChromosomal(e[0]+.5),r=this.toChromosomal(e[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(e){var i;let[n,r]=e;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(e){const n=e[0],r=e[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const s=this.chromosomes.findIndex(a=>a.name===n.chrom),o=this.chromosomes.findIndex(a=>a.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[s].size});for(let a=s+1;a<o;a++)i.push({chrom:this.chromosomes[a].name,startPos:0,endPos:this.chromosomes[a].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(e){return this.toDiscreteChromosomeIntervals([this.toChromosomal(e[0]),this.toChromosomal(e[1])])}parseInterval(e){const n=e.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(a=>a===void 0)){const a=this.getChromosome(r);return a?[a.continuousStart,a.continuousEnd]:void 0}const i=n[3]||r,s=parseInt(n[2].replace(/,/g,"")),o=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):s;return[this.toContinuous(r,s-1),this.toContinuous(i,o)]}}}function zR(t){return sC(t).filter(e=>/^chr[0-9A-Z]+$/.test(e[0])).map(([e,n])=>({name:e,size:parseInt(n)}))}function Cx(t){return Fn(t)&&"chrom"in t}function UR(t){return t.every(Cx)}class hf extends Array{constructor(){super(),this.type=void 0}extend(e){return this}extendAll(e){if(e instanceof hf&&e.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${e.type}`);for(const n of e)this.extend(n);return this}extendAllWithAccessor(e,n){for(const r of e)this.extend(n(r));return this}}class P0 extends hf{constructor(){super(),this.type="quantitative"}extend(e){return e==null||Number.isNaN(e)?this:(e=+e,this.length?e<this[0]?this[0]=e:e>this[1]&&(this[1]=e):(this.push(e),this.push(e)),this)}}class Tx extends hf{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(e){return e==null||Number.isNaN(e)?this:(this.uniqueValues.has(e)||(this.uniqueValues.add(e),this.push(e)),this)}}class Fx extends Tx{constructor(){super(),this.type="nominal"}}class GR extends hf{constructor(e){super();let n=0;for(let r=1;r<e.length;r++)n+=Math.sign(e[r]-e[r-1]);if(Math.abs(n)!=e.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(e));e.forEach(r=>this.push(r))}extend(e){if(this.includes(e))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const Ix={quantitative:P0,index:P0,locus:P0,nominal:Fx,ordinal:Tx};function Dx(t,e){if(t=="quantitative"&&HR(e)){const n=new GR(e);return n.type=t,n}else if(Ix[t]){const n=new Ix[t];return n.type=t,e&&n.extendAll(e),n}throw new Error("Unknown type: "+t)}function HR(t){return t&&t.length>0&&t.length!=2&&t.every(e=>typeof e=="number")}function $R(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function VR(t,e,n){return t*Math.pow(e/t,n)}Ce("index",R0,["continuous"]),Ce("locus",hR,["continuous"]),Ce("null",xl,[]);const Bx="quantitative",kx="ordinal",Rx="nominal",Mx="locus",qR="index";class jR{constructor(e){be(this,dr);be(this,nh);be(this,ra);be(this,Lr);be(this,yu);be(this,rh);be(this,mm);be(this,wu);be(this,Nr,void 0);be(this,na,new Set);be(this,vt,void 0);this.channel=e,this.members=[],this.type=null,this.name=void 0}addEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);ie(this,na).add(n)}removeEventListener(e,n){if(e!="domain")throw new Error("Unsupported event type: "+e);ie(this,na).delete(n)}pushUnitView(e,n){var o;const r=qd(e,n),i=r.type,s=(o=r==null?void 0:r.scale)==null?void 0:o.name;if(s){if(this.name!==void 0&&s!=this.name)throw new Error(`Shared scales have conflicting names: "${s}" vs. "${this.name}"!`);this.name=s}if(!this.type)this.type=i;else if(i!==this.type&&!Ka(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push({view:e,channel:n})}isExplicitDomain(){return!!this.getConfiguredDomain()}isDomainInitialized(){const e=ie(this,vt);if(!e)return!1;const n=e.domain();return _t(e.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0}getScaleProps(){return uo(this,"scaleProps",()=>{const e=ue(this,nh,CS).call(this);if(e===null||e.type=="null")return{type:"null"};const n={...ue(this,rh,TS).call(this,this.type),...e};n.type||(n.type=ZR(this.channel,this.type));const r=ue(this,ra,ch).call(this);return r&&r.length>0?n.domain=r:ti(n.type)&&(n.domain=new Fx),!n.domain&&n.domainMid!==void 0&&(n.domain=[n.domainMin??0,n.domainMax??1]),this.channel=="y"&&ti(n.type)&&n.reverse==null&&(n.reverse=!0),n.range&&n.scheme&&delete n.scheme,!("zoom"in n)&&["index","locus"].includes(n.type)&&(n.zoom=!0),WR(n,this.channel),n})}getConfiguredDomain(){return ue(this,wu,_m).call(this,e=>Ka(e.channel)?void 0:e.view.getConfiguredDomain(e.channel))}getDataDomain(){return ue(this,wu,_m).call(this,e=>Ka(e.channel)?void 0:e.view.extractDataDomain(e.channel))}reconfigure(){if(ie(this,vt)&&ie(this,vt).type!="null"){const e=this.isDomainInitialized(),n=ie(this,vt).domain();nx(this,"scaleProps");const r=this.getScaleProps();if(Ax(r,ie(this,vt)),_t(ie(this,vt).type)&&wr(this,Nr,ue(this,yu,Em).call(this)),!e){ue(this,dr,Ri).call(this);return}const i=ie(this,vt).domain();Xu(i,n)||(this.isZoomable()?ie(this,vt).domain(n):ue(this,Lr,Ls).call(this)?(ie(this,vt).domain(n),this.zoomTo(i,500)):ue(this,dr,Ri).call(this))}}getScale(){if(ie(this,vt))return ie(this,vt);const e=this.getScaleProps(),n=CR(e);return wr(this,vt,n),dR(n)&&n.genome(this.getGenome()),_t(n.type)&&wr(this,Nr,ue(this,yu,Em).call(this)),n}getDomain(){return this.getScale().domain()}getComplexDomain(){var e;return((e=this.getGenome())==null?void 0:e.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return ue(this,Lr,Ls).call(this)&&Xu(ue(this,ra,ch).call(this),this.getDomain())}isZoomable(){return ue(this,Lr,Ls).call(this)&&!!this.getScaleProps().zoom}zoom(e,n,r){if(!ue(this,Lr,Ls).call(this))return!1;const i=this.getScale(),s=i.domain();let o=[...s],a=i.invert(n);switch(this.getScaleProps().reverse&&(r=-r),"align"in i&&(a+=i.align()),i.type){case"linear":case"index":case"locus":o=LS(o,r||0),o=Dm(o,a,e);break;case"log":o=OS(o,r||0),o=Bm(o,a,e);break;case"pow":case"sqrt":{const u=i;o=zS(o,r||0,u.exponent()),o=gh(o,a,e,u.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return ie(this,Nr)&&(o=GS(o,ie(this,Nr)[0],ie(this,Nr)[1])),[0,1].some(u=>o[u]!=s[u])?(i.domain(o),ue(this,dr,Ri).call(this),!0):!1}async zoomTo(e,n=!1){var a;if(Du(n)&&(n=n?700:0),!ue(this,Lr,Ls).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(e),i=(a=this.members[0])==null?void 0:a.view.context.animator,s=this.getScale(),o=s.domain();if(n>0&&o.length==2){const u=o[1]-o[0],f=o[0]+u/2,l=r[1]-r[0],c=r[0]+l/2;await i.transition({duration:n,easingFunction:$R,onUpdate:h=>{const d=VR(u,l,h),p=(u-d)/(u-l),b=p*c+(1-p)*f;s.domain([b-d/2,b+d/2]),ue(this,dr,Ri).call(this)}}),s.domain(r),ue(this,dr,Ri).call(this)}else s.domain(r),i==null||i.requestRender(),ue(this,dr,Ri).call(this)}resetZoom(){if(!ue(this,Lr,Ls).call(this))throw new Error("Not a zoomable scale!");const e=this.getDomain(),n=ue(this,ra,ch).call(this);return[0,1].some(r=>n[r]!=e[r])?(ie(this,vt).domain(n),ue(this,dr,Ri).call(this),!0):!1}getZoomLevel(){return this.isZoomable()?Bu(ie(this,Nr))/Bu(this.getScale().domain()):1}getGenome(){var n;if(this.type!=="locus")return;const e=(n=this.members[0].view.context.genomeStore)==null?void 0:n.getGenome();if(!e)throw new Error("No genome has been defined!");return e}invertToComplex(e){const n=this.getScale();if("invert"in n){const r=n.invert(e);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(e){const n=this.getGenome();return n?n.toChromosomal(e):e}fromComplex(e){return Cx(e)?this.getGenome().toContinuous(e.chrom,e.pos):e}fromComplexInterval(e){return this.type==="locus"&&UR(e)?this.getGenome().toContinuousInterval(e):e}}Nr=new WeakMap,na=new WeakMap,vt=new WeakMap,dr=new WeakSet,Ri=function(){for(const e of ie(this,na).values())e({type:"domain",scaleResolution:this})},nh=new WeakSet,CS=function(){return uo(this,"mergedScaleProps",()=>{const e=this.members.map(n=>qd(n.view,n.channel).scale).filter(n=>n!==void 0);return Wl(e,"scale",["domain"])})},ra=new WeakSet,ch=function(){return this.getConfiguredDomain()??(this.type==Mx?this.getGenome().getExtent():this.getDataDomain())},Lr=new WeakSet,Ls=function(){const e=this.getScale().type;return _t(e)},yu=new WeakSet,Em=function(){const e=this.getScaleProps(),n=e.zoom;if(YR(n)&&Xt(n.extent))return this.fromComplexInterval(n.extent);if(n)return e.type=="locus"?this.getGenome().getExtent():ie(this,vt).domain()},rh=new WeakSet,TS=function(e){const n=this.channel,r={};return this.isExplicitDomain()&&(r.zero=!1),Xa(n)?r.nice=!this.isExplicitDomain():ts(n)?r.scheme=e==Rx?"tableau10":e==kx?"blues":"viridis":vl(n)?r.range=By(n):n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r},mm=new WeakSet,fG=function(){return this.members.map(e=>e.view.getPathString()).join(", ")},wu=new WeakSet,_m=function(e){const n=this.members.filter(r=>!r.view.getLayoutAncestors().some(i=>!i.contributesToScaleDomain)).map(e).filter(r=>!!r);if(n.length)return n.reduce((r,i)=>r.extendAll(i))};function ZR(t,e){if(e==qR||e==Mx){if(Iy(t))return e;throw new Error(`${t} does not support ${e} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"]},i=["sample"].includes(t)?"null":n[t]?n[t][[Rx,kx,Bx].indexOf(e)]:e==Bx?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${t}" is not compatible with "${e}" data type. Use of a proper scale may be needed.`);return i}function WR(t,e){Xa(e)&&t.type!=="ordinal"&&(t.range=[0,1]),e=="opacity"&&_t(t.type)&&(t.clamp=!0)}function YR(t){return Fn(t)}function N0(t){const e=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))e.add(i)}for(const r of Kt(t)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.contributesToScaleDomain)break;n(i)}}e.forEach(r=>r.reconfigure())}function L0(...t){for(const e of t)if(e!==void 0)return e}class QR{constructor(e){this.channel=e,this.members=[]}get scaleResolution(){var e;return(e=Ba(this.members))==null?void 0:e.view.getScaleResolution(this.channel)}pushUnitView(e,n){const r=e.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error("Shared axes must have a shared scale!");this.members.push({view:e,channel:n})}getAxisProps(){return uo(this,"axisProps",()=>{const e=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return e.length>0&&e.some(n=>n===null)?null:Wl(e.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const e=s=>{var a;const o=qd(s.view,s.channel);if(!Rn(o))return{member:s,explicitTitle:L0("axis"in o?(a=o.axis)==null?void 0:a.title:void 0,o.title),implicitTitle:L0(Ya(o)?o.field:void 0,jd(o)?o.expr:void 0)}},n=this.members.map(e),r=n.filter(s=>{var o;if(Ka(s.member.channel)&&!s.explicitTitle){const a=es(s.member.channel);return((o=n.find(u=>u.member.view==s.member.view&&u.member.channel==a))==null?void 0:o.explicitTitle)===void 0}return!0}),i=new Set(r.map(s=>L0(s.explicitTitle,s.implicitTitle)).filter(Ke));return i.size?[...i].join(", "):null}}const XR={point:qk,rect:Ok,rule:Wk,link:Kk,text:iR};class Bt extends lo{constructor(e,n,r,i,s){super(e,n,r,i,s),this.spec=e;const o=XR[this.getMarkType()];if(o)this.mark=new o(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.coords=void 0,this.needsAxes={x:!0,y:!0}}render(e,n,r={}){this.isConfiguredVisible()&&(this.coords=n,e.pushView(this,n),e.renderMark(this.mark,r),e.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}resolve(e){const n=this.mark.encoding;for(const[r,i]of Object.entries(n)){if(!un(i))continue;const s=es(i.resolutionChannel??r);if(!ns(s)||e=="axis"&&!Xa(s))continue;let o=this;for(;(o.getConfiguredOrDefaultResolution(s,e)=="forced"||o.dataParent instanceof lo&&["shared","excluded","forced"].includes(o.dataParent.getConfiguredOrDefaultResolution(s,e)))&&o.getConfiguredOrDefaultResolution(s,e)!="excluded";)o=o.dataParent;e=="axis"&&Xa(r)&&Iy(s)?(o.resolutions[e][s]||(o.resolutions[e][s]=new QR(s)),o.resolutions[e][s].pushUnitView(this,r)):e=="scale"&&ns(r)&&(o.resolutions[e][s]||(o.resolutions[e][s]=new jR(s)),o.resolutions[e][s].pushUnitView(this,r))}}getAccessor(e){return this._cache("accessor/"+e,()=>{const n=this.mark.encoding;if(n&&n[e])return this.context.accessorFactory.createAccessor(n[e])})}getFacetAccessor(e){const n=this.getAccessor("sample");return n||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}_validateDomainQuery(e){if(Ka(e))throw new Error(`getDomain(${e}), must only be called for primary channels!`);const n=this.mark.encoding[e];if(!un(n))throw new Error("The channel has no scale, cannot get domain!");return n}getConfiguredDomain(e){const n=this._validateDomainQuery(e),r=n&&n.scale&&n.scale.domain;if(r){const i=this.getScaleResolution(n.resolutionChannel??e);return Dx(n.type??"nominal",i.fromComplexInterval(r))}}extractDataDomain(e){const r=this._validateDomainQuery(e).type??"nominal",i=a=>{let u;const f=this.mark.encoding[a];if(f){const l=this.context.accessorFactory.createAccessor(f);if(l)if(u=Dx(r),l.constant)u.extend(l({}));else{const c=this.getCollector();c!=null&&c.completed&&c.visitData(h=>u.extend(l(h)))}}return u};let s=i(e);const o=Zd[e];if(o){const a=i(o);a&&s.extendAll(a)}return s}getZoomLevel(){const e=n=>{var r;return((r=this.getScaleResolution(n))==null?void 0:r.getZoomLevel())??1};return Ks.map(e).reduce((n,r)=>n*r,1)}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0),e.target=this,!e.stopped&&this.handleInteractionEvent(void 0,e,!1)}getDefaultResolution(e,n){return e=="x"?"shared":"independent"}}class Px extends gx{constructor(e,n,r,i,s){super(e,n,r,i,s),this.spec=e}}function*O0(t,e=[]){for(const[n,r]of t.entries())if(r instanceof Map)for(const i of O0(r,[...e,n]))yield i;else yield[[...e,n],r]}class Nx extends tt{get behavior(){return D0}constructor(e){super(),this.params=e??{type:"collect"},this.observers=[],this.facetBatches=void 0,this._init()}_init(){this._data=[],this.facetBatches=new Ni([],JSON.stringify),this.facetBatches.set(void 0,this._data)}reset(){super.reset(),this._init()}handle(e){this._data.push(e)}beginBatch(e){Hk(e)&&(this._data=[],this.facetBatches.set(Kt(e.facetId),this._data))}complete(){var i,s;const e=(i=this.params)==null?void 0:i.sort,n=e?km(e.field,e.order):void 0,r=o=>{n&&o.sort(n)};if((s=this.params.groupby)!=null&&s.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const o=this.params.groupby.map(u=>Re(u)),a=Pu(this._data,...o);this.facetBatches.clear();for(const[u,f]of O0(a))this.facetBatches.set(u,f)}for(const o of this.facetBatches.values())r(o);if(this.children.length)for(const[o,a]of this.facetBatches.entries()){if(o){const u={type:"facet",facetId:o};for(const f of this.children)f.beginBatch(u)}for(const u of a)this._propagate(u)}super.complete();for(const o of this.observers)o(this)}getData(){switch(this._checkStatus(),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const e=this.facetBatches;return{[Symbol.iterator]:function*(){for(const r of e.values())for(let i=0;i<r.length;i++)yield r[i]}}}}}visitData(e){this._checkStatus();for(const n of this.facetBatches.values())for(let r=0;r<n.length;r++)e(n[r])}getItemCount(){let e=0;for(const n of this.facetBatches.values())e+=n.length;return e}_checkStatus(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")}}class Yl{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(e,n){let r=this.length++;for(;r>0;){const i=r-1>>1,s=this.values[i];if(n>=s)break;this.ids[r]=this.ids[i],this.values[r]=s,r=i}this.ids[r]=e,this.values[r]=n}pop(){if(this.length===0)return;const e=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let s=0;for(;s<i;){let o=(s<<1)+1;const a=o+1;let u=this.ids[o],f=this.values[o];const l=this.values[a];if(a<this.length&&l<f&&(o=a,u=this.ids[a],f=l),f>=r)break;this.ids[s]=u,this.values[s]=f,s=o}this.ids[s]=n,this.values[s]=r}return e}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class KR extends tt{get behavior(){return tr}constructor(e){super(),this.params=e,this.startAccessor=Re(e.start),this.endAccessor=Re(e.end),this.chromAccessor=e.chrom?Re(e.chrom):n=>{},this.weightAccessor=e.weight?Re(e.weight):n=>1,this.as={coverage:e.as||"coverage",start:e.asStart||e.start,end:e.asEnd||e.end,chrom:e.asChrom||e.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new Yl}reset(){super.reset(),this.initialize()}initialize(){const e=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,s=this.endAccessor,o=this.chromAccessor,a=this.weightAccessor;let u,f,l,c=0,h;const d=this.ends;d.clear();const p=(y,w,E)=>{if(y==w)return;let S=!1;u&&(u[e]===E?(u[n]=w,S=!0):u[e]!=0&&this._propagate(u)),S||(u=this.createSegment(y,w,E,l))},b=()=>{let y;for(;(y=d.peekValue())!==void 0;)p(h,y,c),h=y,c-=d.pop();h=void 0,u&&(this._propagate(u),u=void 0)};this.handle=y=>{const w=i(y);let E;for(;(E=d.peekValue())!==void 0&&E<w;)p(h,E,c),h=E,c-=d.pop();if(r){let T=o(y);T!==f&&(b(),l=T,f=l)}h!==void 0&&p(h,w,c),h=w;const S=a(y);c+=S,d.push(S,s(y))},this.complete=()=>{b(),super.complete()}}}function JR(t,e,n=0,r=t.length){const i=new Yl,s=r-n;let o;for(o=0;o<e&&o<s;o++)i.push(o,t[n+o]);for(;o<s;o++){const f=t[n+o];f>=i.peekValue()&&(i.push(o,f),i.pop())}const a=[];let u;for(;(u=i.pop())!==void 0;)a.push(n+u);return a.reverse()}class e5{constructor(e,n=-1/0,r=1/0){this.maxSize=e,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(e,n,r=0){if(e>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const s=this._findSlot(e,n,i);return s>=0?s:this._findSlot(e,n,this.upperChildren[r])}else return r}else return-1}reserve(e,n){if(n-e<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(e,n);if(r<0)return!1;const i=this.n++,s=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=e,this.lowerLimits[s]=n,this.upperLimits[s]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=s,!0}}class t5 extends tt{get behavior(){return D0}constructor(e,n){if(super(),this.params=e,this._data=[],this.channel=e.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Re(this.params.pos),this.posBisector=Mu(this.posAccessor),this.scoreAccessor=Re(this.params.score),this.widthAccessor=Re(this.params.width),this.laneAccessor=this.params.lane?Re(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const e=this.posAccessor;this._data.sort((n,r)=>e(n)-e(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new e5(200));this.schedule(),super.complete()}_filterAndPropagate(){var o;super.reset();const e=this.resolution.getScale(),n=(o=this.resolution.members[0].view.coords)==null?void 0:o[this.channel=="x"?"width":"height"];if(!n)return;for(const a of this.reservationMaps.values())a.reset();const r=e.domain(),i=70,s=JR(this._scores,i,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const a of s){const u=this._data[a],f=e(this.posAccessor(u))*n,l=this.widthAccessor(u)/2+this.padding;this.reservationMaps.get(this.laneAccessor(u)).reserve(f-l,f+l)&&this._propagate(u)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(e){this._data.push(e)}}class n5 extends tt{constructor(e){super(),this.params=e,this.predicate=void 0}initialize(){this.predicate=od(this.params.expr,this.getGlobalObject())}handle(e){this.predicate(e)&&this._propagate(e)}}class r5 extends tt{get behavior(){return tr}constructor(e){super();const n=e.index;if(e.fields){const r=Kt(e.fields).map(s=>Re(s)),i=Kt(e.as||e.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=s=>{const o=r.map((u,f)=>u(s)??[]),a=o[0].length;for(let u=0;u<a;u++){const f=Object.assign({},s);for(let l=0;l<r.length;l++)f[i[l]]=u<o[l].length?o[l][u]:null;n&&(f[n]=u),this._propagate(f)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const s=Object.assign({},r[i]);n&&(s[n]=i),this._propagate(s)}}}}const i5="0".charCodeAt(0);function*s5(t,e=","){const n=e.charCodeAt(0);let r=0;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);s==n?(yield r,r=0):r=r*10+s-i5}yield r}class o5 extends tt{get behavior(){return tr}constructor(e){super();const n=Re(e.exons??"exons"),r=Re(e.start??"start"),[i,s]=e.as||["exonStart","exonEnd"];this.handle=o=>{let a=r(o),u=a,f=!0;const l=n(o);for(const c of s5(l)){if(f)u=a+c;else{a=u+c;const h=Object.assign({},o);h[i]=u,h[s]=a,this._propagate(h)}f=!f}}}}class a5 extends tt{get behavior(){return tr}constructor(e){super();const n=Kt(e.field).map(s=>Re(s)),r=Kt(e.separator),i=Kt(e.as||e.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=s=>{if(n.some(u=>!u(s)))return;const o=n.map((u,f)=>u(s).split(r[f]));f5(o,s);const a=o[0].length;for(let u=0;u<a;u++){const f=Object.assign({},s);for(let l=0;l<n.length;l++)f[i[l]]=o[l][u];this._propagate(f)}}}}function f5(t,e){const n=t.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(e))}class u5 extends tt{get behavior(){return fi}constructor(e){super(),this.params=e,this.as=e.as,this.fn=void 0}initialize(){this.fn=od(this.params.expr,this.getGlobalObject())}handle(e){e[this.as]=this.fn(e),this._propagate(e)}}class Lx extends tt{get behavior(){return fi}constructor(e,n){super();const r=e.channel??"x";if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const s=Re(e.chrom),o=Kt(e.pos).map(p=>Re(p)),a=Kt(e.as);if(o.length!=a.length)throw new Error('The number of "pos" and "as" elements must be equal!');const u=Kt(e.offset);let f;if(u.length==0)f=new Array(o.length).fill(0);else if(u.length==1)f=new Array(o.length).fill(u[0]);else if(u.length==o.length)f=u;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(e.offset)}!`);const l=new Function("datum","chromOffset","posAccessors",a.map((p,b)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${b}](datum) - ${f[b]};`).join(`
`));let c,h=0;const d=p=>{if(p!==c){if(h=i.cumulativeChromPositions.get(p),h===void 0)throw new Error("Unknown chromosome/contig: "+p);c=p}return h};this.handle=p=>{l(p,d(s(p)),o),this._propagate(p)}}}const Ox={pages:["Lato-Regular.png"],chars:[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class l5 extends tt{get behavior(){return fi}constructor(e){super();const n=T0(Ox),r=Re(e.field),i=e.as,s=e.fontSize;this.handle=o=>{const a=r(o);a!==void 0?o[i]=n.measureWidth(a,s):o[i]=0,this._propagate(o)}}}const c5=65536;class h5 extends tt{get behavior(){return fi}constructor(e){super(),this.params=e}reset(){super.reset(),this.initialize()}initialize(){const e=this.params,n=e.as||"lane",r=Nt(e.spacing)?e.spacing:1,i=Re(e.start),s=Re(e.end);if(!e.preference!=!e.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(e.preference){const o=new Float64Array(c5),a=Re(e.preference),u=e.preferredOrder;let f=1/0;this.handle=l=>{const c=i(l);c<f&&o.fill(-1/0),f=c;const h=u.indexOf(a(l));let d=-1;if(h>=0&&o[h]<c)d=h;else{const p=i(l);for(d=0;d<o.length&&!(o[d]<p);d++);if(d>=o.length)throw new Error("Out of lanes!")}o[d]=s(l)+r,l[n]=d,this._propagate(l)}}else{const o=new Yl,a=new Yl;let u=-1/0,f=0;this.handle=l=>{const c=i(l);for(;o.length&&(o.peekValue()<=c||c<u);){const d=o.pop();a.push(d,d)}u=c;let h=a.pop();h===void 0&&(h=f++),l[n]=h,this._propagate(l),o.push(h,s(l)+r)}}}}class d5 extends tt{get behavior(){return tr}constructor(e){if(super(),e.as&&e.as.length!=e.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=e.fields.map(i=>Re(i)),r=e.as?e.as:n.map(Je);this.handle=i=>{const s={};for(let o=0;o<n.length;o++)s[r[o]]=n[o](i);this._propagate(s)}}}class p5 extends tt{get behavior(){return fi}constructor(e){super();const n=new RegExp(e.regex),r=typeof e.as=="string"?[e.as]:e.as,i=Re(e.field);this.handle=s=>{const o=i(s);if(Ke(o)){const a=o.match(n);if(a){if(a.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let u=0;u<r.length;u++)s[r[u]]=a[u+1]}else if(e.skipInvalidInput)for(let u=0;u<r.length;u++)s[r[u]]=void 0;else throw new Error(`"${o}" does not match the given regex: ${n.toString()}`)}else if(!e.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof o}, field content: "${o}".`);this._propagate(s)}}}class g5 extends tt{get behavior(){return tr}constructor(e){super();const n=Kt(e.columnRegex).map(h=>new RegExp(h)),r=Kt(e.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=e.skipRegex?new RegExp(e.skipRegex):void 0,s=e.asKey||"sample";let o,a,u;const f=h=>{var y;const d=Object.keys(h),p=new Map;for(const[w,E]of n.entries())for(const S of d){const T=(y=E.exec(S))==null?void 0:y[1];if(T!==void 0){let D=p.get(T);D||(D=[],p.set(T,D)),D[w]=S}}o=[...p.entries()],a=d.filter(w=>!n.some(E=>E.test(w))&&!(i&&i.test(w)));const b=[...a.map(w=>JSON.stringify(w)+": datum["+JSON.stringify(w)+"]"),JSON.stringify(s)+": sampleId",...r.map(w=>JSON.stringify(w)+": null")];u=new Function("datum","sampleId",`return {
`+b.join(`,
`)+`
};`)},l=h=>{o||f(h);for(const[d,p]of o){const b=u(h,d);for(let y=0;y<p.length;y++)b[r[y]]=h[p[y]];this._propagate(b)}},c=h=>{f(h),l(h),this.handle=l};this.handle=c,this.beginBatch=h=>{ux(h)&&(this.handle=c),super.beginBatch(h)}}}class m5 extends tt{get behavior(){return fi}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const e=this.params,n=e.as||["y0","y1"],r=e.sort?km(e.sort.field,e.sort.order):void 0,i=e.field?Re(e.field):()=>1,s=e.groupby.map(l=>Re(l)),o=xC(this.buffer,l=>s.map(c=>c(l)).join()).map(l=>l[1]);let a=l=>!0;if(e.baseField){const l=Re(e.baseField);a=c=>l(c)!==null}let u,f;switch(e.offset){case"normalize":u=(l,c)=>l/c,f=(l,c)=>Lu(l,c);break;case"center":u=(l,c)=>l-c/2,f=(l,c)=>Lu(l,c);break;case"information":{const l=Math.log2(e.cardinality??4);u=(c,h)=>c/h,f=(c,h)=>{const p=Lu(c,E=>+!a(E)),b=Lu(c,h),y=b-p;let w=0;for(let E=0;E<c.length;E++){const S=c[E];if(a(S)){const T=h(S)/y;w-=T*Math.log2(T)}}return y/(l-(w+0))*(y/b)}}break;default:u=(l,c)=>l,f=(l,c)=>1}for(const l of o){r&&l.sort(r);const c=f(l,i);let h=0;for(const d of l){const p=h+i(d);a(d)&&(d[n[0]]=u(h,c),d[n[1]]=u(p,c),this._propagate(d),h=p)}}super.complete()}}class b5 extends tt{get behavior(){return tr}constructor(e){super();const n=Re(e.field??"sequence"),[r,i]=e.as??["pos","sequence"];this.handle=s=>{const o=Object.assign({},s,{[i]:"",[r]:0}),a=n(s);for(let u=0;u<a.length;u++){const f=Object.assign({},o);f[r]=u,f[i]=a.charAt(u),this._propagate(f)}}}}class y5 extends tt{get behavior(){return tr}constructor(e){super(),this.params=e,this.buffer=[]}reset(){this.buffer=[]}handle(e){this.buffer.push(e)}complete(){const n=this.params.groupby,r=n.map(s=>Re(s)),i=Pu(this.buffer,...r);for(const[s,o]of O0(i)){const a={count:o.length};for(let u=0;u<n.length;u++)a[n[u]]=s[u];this._propagate(a)}super.complete()}}const w5="_uniqueId",zx=1e4,Ux=[null];class Gx extends tt{get behavior(){return fi}constructor(e){super(),this.params=e,this.as=e.as??w5,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(e){e[this.as]=this._nextId(),this._propagate(e)}_nextId(){return++this._id%zx==0&&(this._id=this._getBlock()*zx),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const e=Ux.length;return Ux[e]=this,this._blocks.push(e),this._usedBlocks++,e}}const x5={aggregate:y5,collect:Nx,coverage:KR,filterScoredLabels:t5,filter:n5,flatten:r5,flattenCompressedExons:o5,flattenDelimited:a5,flattenSequence:b5,formula:u5,identifier:Gx,linearizeGenomicCoordinate:Lx,measureText:l5,pileup:h5,project:d5,regexExtract:p5,regexFold:g5,sample:lx,stack:m5};function v5(t,e){const n=x5[t.type];if(n)return new n(t,e);throw new Error("Unknown transform: "+t.type)}function Hx(t){if(!qx(t)&&!Vx(t))return;const e={...t.format};if(e.type??(e.type=Vx(t)&&A5(t.url)),e.parse??(e.parse="auto"),!e.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(t));return e}function A5(t){var e;if(Array.isArray(t)&&(t=t[0]),t)return(e=t.match(/\.(csv|tsv|json)/))==null?void 0:e[1]}const $x=t=>typeof t!="object"?E5:_5,E5=t=>({data:t}),_5=t=>t;function Vx(t){return"url"in t}class df extends tt{get identifier(){}handle(e){throw new Error("Source does not handle incoming data!")}async load(){}}function qx(t){return"values"in t}class S5 extends df{constructor(e,n){var r;if(super(),this.params=e,typeof e.values=="string"&&!((r=e==null?void 0:e.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}loadSynchronously(){const e=this.params.values;let n=[],r=i=>i;if(Array.isArray(e))e.length>0&&(n=e,r=$x(e[0]));else if(typeof e=="object")n=[e];else if(typeof e=="string")n=L1(e,Hx(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function C5(t){return"url"in t}class T5 extends df{constructor(e,n){super(),this.params=e,this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}async load(){const e=this.params.url,n=Array.isArray(e)?e:[e],r=async s=>Wu({baseURL:this.baseUrl}).load(s).catch(o=>{throw new Error(`Cannot fetch: ${this.baseUrl}${s}: ${o.message}`)}),i=(s,o)=>{try{const a=L1(s,Hx(this.params));this.beginBatch({type:"file",url:o});for(const u of a)this._propagate(u)}catch(a){throw new Error(`Cannot parse: ${o}: ${a.message}`)}};this.reset(),await Promise.all(n.map(s=>r(s).then(i))),this.complete()}}function F5(t){return"sequence"in t}class I5 extends df{constructor(e,n){if(super(),this.sequence=e.sequence,!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}loadSynchronously(){const e=this.sequence.as||"data",n=this.sequence.step||1,r=this.sequence.stop;this.reset(),this.beginBatch({type:"file"});for(let i=this.sequence.start;i<r;i+=n)this._propagate({[e]:i});this.complete()}async load(){this.loadSynchronously()}}function D5(t,e,n){return n=(n-t)/(e-t),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}class fs extends df{constructor(e,n){if(super(),this.view=e,n){if(n!=="x"&&n!=="y")throw new Error(`Invalid channel specified for the dynamic data source: ${n}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the dynamic data source. Must be either "x" or "y".');if(this.channel=n,this.scaleResolution=this.view.getScaleResolution(n),!this.scaleResolution){const i=[`The dynamic data source cannot find a resolved scale for channel "${n}".`];throw this.view instanceof Bt||i.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(i.join(" "))}const r=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",r),this.view.context.addBroadcastListener("layoutComputed",r)}getAxisLength(){const e=this.scaleResolution.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return e.length?e.reduce((n,r)=>Math.min(n,r),1e4):0}get genome(){return this.scaleResolution.getGenome()}async onDomainChanged(e,n){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(e){this.reset(),this.beginBatch({type:"file"});for(const n of e)this._propagate(n);this.complete(),N0(this.view),this.requestRender()}}class B5 extends fs{constructor(n,r){const i={axis:{},...n};super(r,i.channel);on(this,"ticks",[]);this.params=n}async onDomainChanged(){const n=this.scaleResolution.getScale(),r=this.params.axis,i=this.getAxisLength(),s=f=>25+60*D5(100,700,f),o=Nt(r.tickCount)?r.tickCount:Math.round(i/s(i)),a=yx(n,o,r.tickMinStep),u=r.values?wx(n,r.values,a):pR(n,a);if(!Xu(u,this.ticks)){this.ticks=u;const f=mR(n,o,r.format);this.publishData(u.map(l=>({value:l,label:f(l)})))}}}class k5 extends fs{constructor(e,n){super(n,e.channel)}async load(){this.publishData(this.genome.chromosomes)}}var Nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function R5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yt={},Ql={};Ql.byteLength=N5,Ql.toByteArray=O5,Ql.fromByteArray=G5;for(var nr=[],ln=[],M5=typeof Uint8Array<"u"?Uint8Array:Array,z0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ho=0,P5=z0.length;ho<P5;++ho)nr[ho]=z0[ho],ln[z0.charCodeAt(ho)]=ho;ln["-".charCodeAt(0)]=62,ln["_".charCodeAt(0)]=63;function jx(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function N5(t){var e=jx(t),n=e[0],r=e[1];return(n+r)*3/4-r}function L5(t,e,n){return(e+n)*3/4-n}function O5(t){var e,n=jx(t),r=n[0],i=n[1],s=new M5(L5(t,r,i)),o=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=ln[t.charCodeAt(u)]<<18|ln[t.charCodeAt(u+1)]<<12|ln[t.charCodeAt(u+2)]<<6|ln[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ln[t.charCodeAt(u)]<<2|ln[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=ln[t.charCodeAt(u)]<<10|ln[t.charCodeAt(u+1)]<<4|ln[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function z5(t){return nr[t>>18&63]+nr[t>>12&63]+nr[t>>6&63]+nr[t&63]}function U5(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(z5(r));return i.join("")}function G5(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(U5(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(nr[e>>2]+nr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(nr[e>>10]+nr[e>>4&63]+nr[e<<2&63]+"=")),i.join("")}var U0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U0.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,f=u>>1,l=-7,c=n?i-1:0,h=n?-1:1,d=t[e+c];for(c+=h,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=s*256+t[e+c],c+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+t[e+c],c+=h,l-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-f}return(d?-1:1)*o*Math.pow(2,s-r)},U0.write=function(t,e,n,r,i,s){var o,a,u,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+c>=1?e+=h/u:e+=h*Math.pow(2,1-c),e*u>=2&&(o++,u/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*u-1)*Math.pow(2,i),o=o+c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;t[n+d]=o&255,d+=p,o/=256,f-=8);t[n+d-p]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ql,n=U0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const x=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(x,g),x.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const g=new Uint8Array(x);return Object.setPrototypeOf(g,a.prototype),g}function a(x,g,m){if(typeof x=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(x)}return u(x,g,m)}a.poolSize=8192;function u(x,g,m){if(typeof x=="string")return h(x,g);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(Ft(x,ArrayBuffer)||x&&Ft(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ft(x,SharedArrayBuffer)||x&&Ft(x.buffer,SharedArrayBuffer)))return b(x,g,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=x.valueOf&&x.valueOf();if(F!=null&&F!==x)return a.from(F,g,m);const R=y(x);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return a.from(x[Symbol.toPrimitive]("string"),g,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}a.from=function(x,g,m){return u(x,g,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function l(x,g,m){return f(x),x<=0?o(x):g!==void 0?typeof m=="string"?o(x).fill(g,m):o(x).fill(g):o(x)}a.alloc=function(x,g,m){return l(x,g,m)};function c(x){return f(x),o(x<0?0:w(x)|0)}a.allocUnsafe=function(x){return c(x)},a.allocUnsafeSlow=function(x){return c(x)};function h(x,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const m=S(x,g)|0;let F=o(m);const R=F.write(x,g);return R!==m&&(F=F.slice(0,R)),F}function d(x){const g=x.length<0?0:w(x.length)|0,m=o(g);for(let F=0;F<g;F+=1)m[F]=x[F]&255;return m}function p(x){if(Ft(x,Uint8Array)){const g=new Uint8Array(x);return b(g.buffer,g.byteOffset,g.byteLength)}return d(x)}function b(x,g,m){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return g===void 0&&m===void 0?F=new Uint8Array(x):m===void 0?F=new Uint8Array(x,g):F=new Uint8Array(x,g,m),Object.setPrototypeOf(F,a.prototype),F}function y(x){if(a.isBuffer(x)){const g=w(x.length)|0,m=o(g);return m.length===0||x.copy(m,0,0,g),m}if(x.length!==void 0)return typeof x.length!="number"||zr(x.length)?o(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function E(x){return+x!=x&&(x=0),a.alloc(+x)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,m){if(Ft(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),Ft(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(g)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===m)return 0;let F=g.length,R=m.length;for(let z=0,$=Math.min(F,R);z<$;++z)if(g[z]!==m[z]){F=g[z],R=m[z];break}return F<R?-1:R<F?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let F;if(m===void 0)for(m=0,F=0;F<g.length;++F)m+=g[F].length;const R=a.allocUnsafe(m);let z=0;for(F=0;F<g.length;++F){let $=g[F];if(Ft($,Uint8Array))z+$.length>R.length?(a.isBuffer($)||($=a.from($)),$.copy(R,z)):Uint8Array.prototype.set.call(R,$,z);else if(a.isBuffer($))$.copy(R,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=$.length}return R};function S(x,g){if(a.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||Ft(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const m=x.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&m===0)return 0;let R=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ce(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Ti(x).length;default:if(R)return F?-1:ce(x).length;g=(""+g).toLowerCase(),R=!0}}a.byteLength=S;function T(x,g,m){let F=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(x||(x="utf8");;)switch(x){case"hex":return et(this,g,m);case"utf8":case"utf-8":return J(this,g,m);case"ascii":return De(this,g,m);case"latin1":case"binary":return st(this,g,m);case"base64":return ne(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gr(this,g,m);default:if(F)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),F=!0}}a.prototype._isBuffer=!0;function D(x,g,m){const F=x[g];x[g]=x[m],x[m]=F}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<g;m+=2)D(this,m,m+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<g;m+=4)D(this,m,m+3),D(this,m+1,m+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<g;m+=8)D(this,m,m+7),D(this,m+1,m+6),D(this,m+2,m+5),D(this,m+3,m+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?J(this,0,g):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const m=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(g+=" ... "),"<Buffer "+g+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(g,m,F,R,z){if(Ft(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(m===void 0&&(m=0),F===void 0&&(F=g?g.length:0),R===void 0&&(R=0),z===void 0&&(z=this.length),m<0||F>g.length||R<0||z>this.length)throw new RangeError("out of range index");if(R>=z&&m>=F)return 0;if(R>=z)return-1;if(m>=F)return 1;if(m>>>=0,F>>>=0,R>>>=0,z>>>=0,this===g)return 0;let $=z-R,he=F-m;const $e=Math.min($,he),Pe=this.slice(R,z),Ye=g.slice(m,F);for(let Te=0;Te<$e;++Te)if(Pe[Te]!==Ye[Te]){$=Pe[Te],he=Ye[Te];break}return $<he?-1:he<$?1:0};function B(x,g,m,F,R){if(x.length===0)return-1;if(typeof m=="string"?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,zr(m)&&(m=R?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(R)return-1;m=x.length-1}else if(m<0)if(R)m=0;else return-1;if(typeof g=="string"&&(g=a.from(g,F)),a.isBuffer(g))return g.length===0?-1:I(x,g,m,F,R);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(x,g,m):Uint8Array.prototype.lastIndexOf.call(x,g,m):I(x,[g],m,F,R);throw new TypeError("val must be string, number or Buffer")}function I(x,g,m,F,R){let z=1,$=x.length,he=g.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(x.length<2||g.length<2)return-1;z=2,$/=2,he/=2,m/=2}function $e(Ye,Te){return z===1?Ye[Te]:Ye.readUInt16BE(Te*z)}let Pe;if(R){let Ye=-1;for(Pe=m;Pe<$;Pe++)if($e(x,Pe)===$e(g,Ye===-1?0:Pe-Ye)){if(Ye===-1&&(Ye=Pe),Pe-Ye+1===he)return Ye*z}else Ye!==-1&&(Pe-=Pe-Ye),Ye=-1}else for(m+he>$&&(m=$-he),Pe=m;Pe>=0;Pe--){let Ye=!0;for(let Te=0;Te<he;Te++)if($e(x,Pe+Te)!==$e(g,Te)){Ye=!1;break}if(Ye)return Pe}return-1}a.prototype.includes=function(g,m,F){return this.indexOf(g,m,F)!==-1},a.prototype.indexOf=function(g,m,F){return B(this,g,m,F,!0)},a.prototype.lastIndexOf=function(g,m,F){return B(this,g,m,F,!1)};function N(x,g,m,F){m=Number(m)||0;const R=x.length-m;F?(F=Number(F),F>R&&(F=R)):F=R;const z=g.length;F>z/2&&(F=z/2);let $;for($=0;$<F;++$){const he=parseInt(g.substr($*2,2),16);if(zr(he))return $;x[m+$]=he}return $}function C(x,g,m,F){return Fi(ce(g,x.length-m),x,m,F)}function M(x,g,m,F){return Fi(Yt(g),x,m,F)}function P(x,g,m,F){return Fi(Ti(g),x,m,F)}function ee(x,g,m,F){return Fi(Ci(g,x.length-m),x,m,F)}a.prototype.write=function(g,m,F,R){if(m===void 0)R="utf8",F=this.length,m=0;else if(F===void 0&&typeof m=="string")R=m,F=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(F)?(F=F>>>0,R===void 0&&(R="utf8")):(R=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-m;if((F===void 0||F>z)&&(F=z),g.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let $=!1;for(;;)switch(R){case"hex":return N(this,g,m,F);case"utf8":case"utf-8":return C(this,g,m,F);case"ascii":case"latin1":case"binary":return M(this,g,m,F);case"base64":return P(this,g,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,g,m,F);default:if($)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(x,g,m){return g===0&&m===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(g,m))}function J(x,g,m){m=Math.min(x.length,m);const F=[];let R=g;for(;R<m;){const z=x[R];let $=null,he=z>239?4:z>223?3:z>191?2:1;if(R+he<=m){let $e,Pe,Ye,Te;switch(he){case 1:z<128&&($=z);break;case 2:$e=x[R+1],($e&192)===128&&(Te=(z&31)<<6|$e&63,Te>127&&($=Te));break;case 3:$e=x[R+1],Pe=x[R+2],($e&192)===128&&(Pe&192)===128&&(Te=(z&15)<<12|($e&63)<<6|Pe&63,Te>2047&&(Te<55296||Te>57343)&&($=Te));break;case 4:$e=x[R+1],Pe=x[R+2],Ye=x[R+3],($e&192)===128&&(Pe&192)===128&&(Ye&192)===128&&(Te=(z&15)<<18|($e&63)<<12|(Pe&63)<<6|Ye&63,Te>65535&&Te<1114112&&($=Te))}}$===null?($=65533,he=1):$>65535&&($-=65536,F.push($>>>10&1023|55296),$=56320|$&1023),F.push($),R+=he}return Ee(F)}const me=4096;function Ee(x){const g=x.length;if(g<=me)return String.fromCharCode.apply(String,x);let m="",F=0;for(;F<g;)m+=String.fromCharCode.apply(String,x.slice(F,F+=me));return m}function De(x,g,m){let F="";m=Math.min(x.length,m);for(let R=g;R<m;++R)F+=String.fromCharCode(x[R]&127);return F}function st(x,g,m){let F="";m=Math.min(x.length,m);for(let R=g;R<m;++R)F+=String.fromCharCode(x[R]);return F}function et(x,g,m){const F=x.length;(!g||g<0)&&(g=0),(!m||m<0||m>F)&&(m=F);let R="";for(let z=g;z<m;++z)R+=Ii[x[z]];return R}function gr(x,g,m){const F=x.slice(g,m);let R="";for(let z=0;z<F.length-1;z+=2)R+=String.fromCharCode(F[z]+F[z+1]*256);return R}a.prototype.slice=function(g,m){const F=this.length;g=~~g,m=m===void 0?F:~~m,g<0?(g+=F,g<0&&(g=0)):g>F&&(g=F),m<0?(m+=F,m<0&&(m=0)):m>F&&(m=F),m<g&&(m=g);const R=this.subarray(g,m);return Object.setPrototypeOf(R,a.prototype),R};function Me(x,g,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,m,F){g=g>>>0,m=m>>>0,F||Me(g,m,this.length);let R=this[g],z=1,$=0;for(;++$<m&&(z*=256);)R+=this[g+$]*z;return R},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,m,F){g=g>>>0,m=m>>>0,F||Me(g,m,this.length);let R=this[g+--m],z=1;for(;m>0&&(z*=256);)R+=this[g+--m]*z;return R},a.prototype.readUint8=a.prototype.readUInt8=function(g,m){return g=g>>>0,m||Me(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,m){return g=g>>>0,m||Me(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,m){return g=g>>>0,m||Me(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=Qt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&q(g,this.length-8);const R=m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,z=this[++g]+this[++g]*2**8+this[++g]*2**16+F*2**24;return BigInt(R)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=Qt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&q(g,this.length-8);const R=m*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],z=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+F;return(BigInt(R)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(g,m,F){g=g>>>0,m=m>>>0,F||Me(g,m,this.length);let R=this[g],z=1,$=0;for(;++$<m&&(z*=256);)R+=this[g+$]*z;return z*=128,R>=z&&(R-=Math.pow(2,8*m)),R},a.prototype.readIntBE=function(g,m,F){g=g>>>0,m=m>>>0,F||Me(g,m,this.length);let R=m,z=1,$=this[g+--R];for(;R>0&&(z*=256);)$+=this[g+--R]*z;return z*=128,$>=z&&($-=Math.pow(2,8*m)),$},a.prototype.readInt8=function(g,m){return g=g>>>0,m||Me(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,m){g=g>>>0,m||Me(g,2,this.length);const F=this[g]|this[g+1]<<8;return F&32768?F|4294901760:F},a.prototype.readInt16BE=function(g,m){g=g>>>0,m||Me(g,2,this.length);const F=this[g+1]|this[g]<<8;return F&32768?F|4294901760:F},a.prototype.readInt32LE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=Qt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&q(g,this.length-8);const R=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(F<<24);return(BigInt(R)<<BigInt(32))+BigInt(m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=Qt(function(g){g=g>>>0,H(g,"offset");const m=this[g],F=this[g+7];(m===void 0||F===void 0)&&q(g,this.length-8);const R=(m<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(R)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+F)}),a.prototype.readFloatLE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),n.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,m){return g=g>>>0,m||Me(g,4,this.length),n.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,m){return g=g>>>0,m||Me(g,8,this.length),n.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,m){return g=g>>>0,m||Me(g,8,this.length),n.read(this,g,!1,52,8)};function We(x,g,m,F,R,z){if(!a.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>R||g<z)throw new RangeError('"value" argument is out of bounds');if(m+F>x.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,m,F,R){if(g=+g,m=m>>>0,F=F>>>0,!R){const he=Math.pow(2,8*F)-1;We(this,g,m,F,he,0)}let z=1,$=0;for(this[m]=g&255;++$<F&&(z*=256);)this[m+$]=g/z&255;return m+F},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,m,F,R){if(g=+g,m=m>>>0,F=F>>>0,!R){const he=Math.pow(2,8*F)-1;We(this,g,m,F,he,0)}let z=F-1,$=1;for(this[m+z]=g&255;--z>=0&&($*=256);)this[m+z]=g/$&255;return m+F},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,1,255,0),this[m]=g&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4};function Wt(x,g,m,F,R){v(g,F,R,x,m,7);let z=Number(g&BigInt(4294967295));x[m++]=z,z=z>>8,x[m++]=z,z=z>>8,x[m++]=z,z=z>>8,x[m++]=z;let $=Number(g>>BigInt(32)&BigInt(4294967295));return x[m++]=$,$=$>>8,x[m++]=$,$=$>>8,x[m++]=$,$=$>>8,x[m++]=$,m}function qn(x,g,m,F,R){v(g,F,R,x,m,7);let z=Number(g&BigInt(4294967295));x[m+7]=z,z=z>>8,x[m+6]=z,z=z>>8,x[m+5]=z,z=z>>8,x[m+4]=z;let $=Number(g>>BigInt(32)&BigInt(4294967295));return x[m+3]=$,$=$>>8,x[m+2]=$,$=$>>8,x[m+1]=$,$=$>>8,x[m]=$,m+8}a.prototype.writeBigUInt64LE=Qt(function(g,m=0){return Wt(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Qt(function(g,m=0){return qn(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,m,F,R){if(g=+g,m=m>>>0,!R){const $e=Math.pow(2,8*F-1);We(this,g,m,F,$e-1,-$e)}let z=0,$=1,he=0;for(this[m]=g&255;++z<F&&($*=256);)g<0&&he===0&&this[m+z-1]!==0&&(he=1),this[m+z]=(g/$>>0)-he&255;return m+F},a.prototype.writeIntBE=function(g,m,F,R){if(g=+g,m=m>>>0,!R){const $e=Math.pow(2,8*F-1);We(this,g,m,F,$e-1,-$e)}let z=F-1,$=1,he=0;for(this[m+z]=g&255;--z>=0&&($*=256);)g<0&&he===0&&this[m+z+1]!==0&&(he=1),this[m+z]=(g/$>>0)-he&255;return m+F},a.prototype.writeInt8=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},a.prototype.writeInt16LE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeInt16BE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeInt32LE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},a.prototype.writeInt32BE=function(g,m,F){return g=+g,m=m>>>0,F||We(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},a.prototype.writeBigInt64LE=Qt(function(g,m=0){return Wt(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Qt(function(g,m=0){return qn(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function mr(x,g,m,F,R,z){if(m+F>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function O(x,g,m,F,R){return g=+g,m=m>>>0,R||mr(x,g,m,4),n.write(x,g,m,F,23,4),m+4}a.prototype.writeFloatLE=function(g,m,F){return O(this,g,m,!0,F)},a.prototype.writeFloatBE=function(g,m,F){return O(this,g,m,!1,F)};function L(x,g,m,F,R){return g=+g,m=m>>>0,R||mr(x,g,m,8),n.write(x,g,m,F,52,8),m+8}a.prototype.writeDoubleLE=function(g,m,F){return L(this,g,m,!0,F)},a.prototype.writeDoubleBE=function(g,m,F){return L(this,g,m,!1,F)},a.prototype.copy=function(g,m,F,R){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(F||(F=0),!R&&R!==0&&(R=this.length),m>=g.length&&(m=g.length),m||(m=0),R>0&&R<F&&(R=F),R===F||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),g.length-m<R-F&&(R=g.length-m+F);const z=R-F;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,F,R):Uint8Array.prototype.set.call(g,this.subarray(F,R),m),z},a.prototype.fill=function(g,m,F,R){if(typeof g=="string"){if(typeof m=="string"?(R=m,m=0,F=this.length):typeof F=="string"&&(R=F,F=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(g.length===1){const $=g.charCodeAt(0);(R==="utf8"&&$<128||R==="latin1")&&(g=$)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;m=m>>>0,F=F===void 0?this.length:F>>>0,g||(g=0);let z;if(typeof g=="number")for(z=m;z<F;++z)this[z]=g;else{const $=a.isBuffer(g)?g:a.from(g,R),he=$.length;if(he===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(z=0;z<F-m;++z)this[z+m]=$[z%he]}return this};const j={};function V(x,g,m){j[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),V("ERR_OUT_OF_RANGE",function(x,g,m){let F=`The value of "${x}" is out of range.`,R=m;return Number.isInteger(m)&&Math.abs(m)>2**32?R=Q(String(m)):typeof m=="bigint"&&(R=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(R=Q(R)),R+="n"),F+=` It must be ${g}. Received ${R}`,F},RangeError);function Q(x){let g="",m=x.length;const F=x[0]==="-"?1:0;for(;m>=F+4;m-=3)g=`_${x.slice(m-3,m)}${g}`;return`${x.slice(0,m)}${g}`}function _(x,g,m){H(g,"offset"),(x[g]===void 0||x[g+m]===void 0)&&q(g,x.length-(m+1))}function v(x,g,m,F,R,z){if(x>m||x<g){const $=typeof g=="bigint"?"n":"";let he;throw z>3?g===0||g===BigInt(0)?he=`>= 0${$} and < 2${$} ** ${(z+1)*8}${$}`:he=`>= -(2${$} ** ${(z+1)*8-1}${$}) and < 2 ** ${(z+1)*8-1}${$}`:he=`>= ${g}${$} and <= ${m}${$}`,new j.ERR_OUT_OF_RANGE("value",he,x)}_(F,R,z)}function H(x,g){if(typeof x!="number")throw new j.ERR_INVALID_ARG_TYPE(g,"number",x)}function q(x,g,m){throw Math.floor(x)!==x?(H(x,m),new j.ERR_OUT_OF_RANGE(m||"offset","an integer",x)):g<0?new j.ERR_BUFFER_OUT_OF_BOUNDS:new j.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${g}`,x)}const le=/[^+/0-9A-Za-z-_]/g;function re(x){if(x=x.split("=")[0],x=x.trim().replace(le,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function ce(x,g){g=g||1/0;let m;const F=x.length;let R=null;const z=[];for(let $=0;$<F;++$){if(m=x.charCodeAt($),m>55295&&m<57344){if(!R){if(m>56319){(g-=3)>-1&&z.push(239,191,189);continue}else if($+1===F){(g-=3)>-1&&z.push(239,191,189);continue}R=m;continue}if(m<56320){(g-=3)>-1&&z.push(239,191,189),R=m;continue}m=(R-55296<<10|m-56320)+65536}else R&&(g-=3)>-1&&z.push(239,191,189);if(R=null,m<128){if((g-=1)<0)break;z.push(m)}else if(m<2048){if((g-=2)<0)break;z.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;z.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;z.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return z}function Yt(x){const g=[];for(let m=0;m<x.length;++m)g.push(x.charCodeAt(m)&255);return g}function Ci(x,g){let m,F,R;const z=[];for(let $=0;$<x.length&&!((g-=2)<0);++$)m=x.charCodeAt($),F=m>>8,R=m%256,z.push(R),z.push(F);return z}function Ti(x){return e.toByteArray(re(x))}function Fi(x,g,m,F){let R;for(R=0;R<F&&!(R+m>=g.length||R>=x.length);++R)g[R+m]=x[R];return R}function Ft(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function zr(x){return x!==x}const Ii=function(){const x="0123456789abcdef",g=new Array(256);for(let m=0;m<16;++m){const F=m*16;for(let R=0;R<16;++R)g[F+R]=x[m]+x[R]}return g}();function Qt(x){return typeof BigInt>"u"?br:x}function br(){throw new Error("BigInt not supported")}})(yt);const en={},H5=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"})),G0=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class rr{async getBufferFromResponse(e){if(typeof e.buffer=="function")return e.buffer();if(typeof e.arrayBuffer=="function"){const n=await e.arrayBuffer();return yt.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(e,n={}){this.baseOverrides={},this.url=e;const r=n.fetch||G0.fetch&&G0.fetch.bind(G0);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(e,n){let r;try{r=await this.fetchImplementation(e,n)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(e,{...n,cache:"reload"});else throw i}return r}async read(e,n=0,r,i=0,s={}){const{headers:o={},signal:a,overrides:u={}}=s;r<1/0?o.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(o.range=`bytes=${i}-`);const f={...this.baseOverrides,...u,headers:{...o,...u.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},l=await this.fetch(this.url,f);if(!l.ok)throw new Error(`HTTP ${l.status} ${l.statusText} ${this.url}`);if(l.status===200&&i===0||l.status===206){const c=await this.getBufferFromResponse(l),h=c.copy(e,n,0,Math.min(r,c.length)),d=l.headers.get("content-range"),p=/\/(\d+)$/.exec(d||"");return p&&p[1]&&(this._stat={size:parseInt(p[1],10)}),{bytesRead:h,buffer:e}}throw l.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(e={}){let n,r;typeof e=="string"?(n=e,r={}):(n=e.encoding,r=e,delete r.encoding);const{headers:i={},signal:s,overrides:o={}}=r,a={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:s,...this.baseOverrides,...o},u=await this.fetch(this.url,a);if(!u)throw new Error("generic-filehandle failed to fetch");if(u.status!==200)throw Object.assign(new Error(`HTTP ${u.status} fetching ${this.url}`),{status:u.status});if(n==="utf8")return u.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(u)}async stat(){if(!this._stat){const e=yt.Buffer.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}var Tr={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(s,o){return Object.prototype.hasOwnProperty.call(s,o)}t.assign=function(s){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var a=o.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var u in a)n(a,u)&&(s[u]=a[u])}}return s},t.shrinkBuf=function(s,o){return s.length===o?s:s.subarray?s.subarray(0,o):(s.length=o,s)};var r={arraySet:function(s,o,a,u,f){if(o.subarray&&s.subarray){s.set(o.subarray(a,a+u),f);return}for(var l=0;l<u;l++)s[f+l]=o[a+l]},flattenChunks:function(s){var o,a,u,f,l,c;for(u=0,o=0,a=s.length;o<a;o++)u+=s[o].length;for(c=new Uint8Array(u),f=0,o=0,a=s.length;o<a;o++)l=s[o],c.set(l,f),f+=l.length;return c}},i={arraySet:function(s,o,a,u,f){for(var l=0;l<u;l++)s[f+l]=o[a+l]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(Tr);var pf={},ir={},po={},$5=Tr,V5=4,Zx=0,Wx=1,q5=2;function go(t){for(var e=t.length;--e>=0;)t[e]=0}var j5=0,Yx=1,Z5=2,W5=3,Y5=258,H0=29,gf=256,mf=gf+1+H0,mo=30,$0=19,Qx=2*mf+1,ls=15,V0=16,Q5=7,q0=256,Xx=16,Kx=17,Jx=18,j0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Xl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ev=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K5=512,Fr=new Array((mf+2)*2);go(Fr);var bf=new Array(mo*2);go(bf);var yf=new Array(K5);go(yf);var wf=new Array(Y5-W5+1);go(wf);var Z0=new Array(H0);go(Z0);var Kl=new Array(mo);go(Kl);function W0(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var tv,nv,rv;function Y0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function iv(t){return t<256?yf[t]:yf[256+(t>>>7)]}function xf(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Gt(t,e,n){t.bi_valid>V0-n?(t.bi_buf|=e<<t.bi_valid&65535,xf(t,t.bi_buf),t.bi_buf=e>>V0-t.bi_valid,t.bi_valid+=n-V0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function sr(t,e,n){Gt(t,n[e*2],n[e*2+1])}function sv(t,e){var n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1}function J5(t){t.bi_valid===16?(xf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function eM(t,e){var n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length,f,l,c,h,d,p,b=0;for(h=0;h<=ls;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<Qx;f++)l=t.heap[f],h=n[n[l*2+1]*2+1]+1,h>u&&(h=u,b++),n[l*2+1]=h,!(l>r)&&(t.bl_count[h]++,d=0,l>=a&&(d=o[l-a]),p=n[l*2],t.opt_len+=p*(h+d),s&&(t.static_len+=p*(i[l*2+1]+d)));if(b!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(h=u;h!==0;h--)for(l=t.bl_count[h];l!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),l--)}}function ov(t,e,n){var r=new Array(ls+1),i=0,s,o;for(s=1;s<=ls;s++)r[s]=i=i+n[s-1]<<1;for(o=0;o<=e;o++){var a=t[o*2+1];a!==0&&(t[o*2]=sv(r[a]++,a))}}function tM(){var t,e,n,r,i,s=new Array(ls+1);for(n=0,r=0;r<H0-1;r++)for(Z0[r]=n,t=0;t<1<<j0[r];t++)wf[n++]=r;for(wf[n-1]=r,i=0,r=0;r<16;r++)for(Kl[r]=i,t=0;t<1<<Xl[r];t++)yf[i++]=r;for(i>>=7;r<mo;r++)for(Kl[r]=i<<7,t=0;t<1<<Xl[r]-7;t++)yf[256+i++]=r;for(e=0;e<=ls;e++)s[e]=0;for(t=0;t<=143;)Fr[t*2+1]=8,t++,s[8]++;for(;t<=255;)Fr[t*2+1]=9,t++,s[9]++;for(;t<=279;)Fr[t*2+1]=7,t++,s[7]++;for(;t<=287;)Fr[t*2+1]=8,t++,s[8]++;for(ov(Fr,mf+1,s),t=0;t<mo;t++)bf[t*2+1]=5,bf[t*2]=sv(t,5);tv=new W0(Fr,j0,gf+1,mf,ls),nv=new W0(bf,Xl,0,mo,ls),rv=new W0(new Array(0),X5,0,$0,Q5)}function av(t){var e;for(e=0;e<mf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<mo;e++)t.dyn_dtree[e*2]=0;for(e=0;e<$0;e++)t.bl_tree[e*2]=0;t.dyn_ltree[q0*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function fv(t){t.bi_valid>8?xf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function nM(t,e,n,r){fv(t),r&&(xf(t,n),xf(t,~n)),$5.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function uv(t,e,n,r){var i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]}function Q0(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&uv(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!uv(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function lv(t,e,n){var r,i,s=0,o,a;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],i=t.pending_buf[t.l_buf+s],s++,r===0?sr(t,i,e):(o=wf[i],sr(t,o+gf+1,e),a=j0[o],a!==0&&(i-=Z0[o],Gt(t,i,a)),r--,o=iv(r),sr(t,o,n),a=Xl[o],a!==0&&(r-=Kl[o],Gt(t,r,a)));while(s<t.last_lit);sr(t,q0,e)}function X0(t,e){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems,o,a,u=-1,f;for(t.heap_len=0,t.heap_max=Qx,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=u<2?++u:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)Q0(t,n,o);f=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Q0(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[f*2]=n[o*2]+n[a*2],t.depth[f]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=f,t.heap[1]=f++,Q0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],eM(t,e),ov(n,u,t.bl_count)}function cv(t,e,n){var r,i=-1,s,o=e[0*2+1],a=0,u=7,f=4;for(o===0&&(u=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<u&&s===o)&&(a<f?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[Xx*2]++):a<=10?t.bl_tree[Kx*2]++:t.bl_tree[Jx*2]++,a=0,i=s,o===0?(u=138,f=3):s===o?(u=6,f=3):(u=7,f=4))}function hv(t,e,n){var r,i=-1,s,o=e[0*2+1],a=0,u=7,f=4;for(o===0&&(u=138,f=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<u&&s===o)){if(a<f)do sr(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(sr(t,s,t.bl_tree),a--),sr(t,Xx,t.bl_tree),Gt(t,a-3,2)):a<=10?(sr(t,Kx,t.bl_tree),Gt(t,a-3,3)):(sr(t,Jx,t.bl_tree),Gt(t,a-11,7));a=0,i=s,o===0?(u=138,f=3):s===o?(u=6,f=3):(u=7,f=4)}}function rM(t){var e;for(cv(t,t.dyn_ltree,t.l_desc.max_code),cv(t,t.dyn_dtree,t.d_desc.max_code),X0(t,t.bl_desc),e=$0-1;e>=3&&t.bl_tree[ev[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function iM(t,e,n,r){var i;for(Gt(t,e-257,5),Gt(t,n-1,5),Gt(t,r-4,4),i=0;i<r;i++)Gt(t,t.bl_tree[ev[i]*2+1],3);hv(t,t.dyn_ltree,e-1),hv(t,t.dyn_dtree,n-1)}function sM(t){var e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Zx;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Wx;for(n=32;n<gf;n++)if(t.dyn_ltree[n*2]!==0)return Wx;return Zx}var dv=!1;function oM(t){dv||(tM(),dv=!0),t.l_desc=new Y0(t.dyn_ltree,tv),t.d_desc=new Y0(t.dyn_dtree,nv),t.bl_desc=new Y0(t.bl_tree,rv),t.bi_buf=0,t.bi_valid=0,av(t)}function pv(t,e,n,r){Gt(t,(j5<<1)+(r?1:0),3),nM(t,e,n,!0)}function aM(t){Gt(t,Yx<<1,3),sr(t,q0,Fr),J5(t)}function fM(t,e,n,r){var i,s,o=0;t.level>0?(t.strm.data_type===q5&&(t.strm.data_type=sM(t)),X0(t,t.l_desc),X0(t,t.d_desc),o=rM(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?pv(t,e,n,r):t.strategy===V5||s===i?(Gt(t,(Yx<<1)+(r?1:0),3),lv(t,Fr,bf)):(Gt(t,(Z5<<1)+(r?1:0),3),iM(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),lv(t,t.dyn_ltree,t.dyn_dtree)),av(t),r&&fv(t)}function uM(t,e,n){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(wf[n]+gf+1)*2]++,t.dyn_dtree[iv(e)*2]++),t.last_lit===t.lit_bufsize-1}po._tr_init=oM,po._tr_stored_block=pv,po._tr_flush_block=fM,po._tr_tally=uM,po._tr_align=aM;function lM(t,e,n,r){for(var i=t&65535|0,s=t>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}var gv=lM;function cM(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e}var hM=cM();function dM(t,e,n,r){var i=hM,s=r+n;t^=-1;for(var o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1}var mv=dM,K0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kt=Tr,cn=po,bv=gv,ui=mv,pM=K0,cs=0,gM=1,mM=3,li=4,yv=5,or=0,wv=1,hn=-2,bM=-3,J0=-5,yM=-1,wM=1,Jl=2,xM=3,vM=4,AM=0,EM=2,ec=8,_M=9,SM=15,CM=8,TM=29,FM=256,ep=FM+1+TM,IM=30,DM=19,BM=2*ep+1,kM=15,pe=3,ci=258,Ln=ci+pe+1,RM=32,tc=42,tp=69,nc=73,rc=91,ic=103,hs=113,vf=666,ft=1,Af=2,ds=3,bo=4,MM=3;function hi(t,e){return t.msg=pM[e],e}function xv(t){return(t<<1)-(t>4?9:0)}function di(t){for(var e=t.length;--e>=0;)t[e]=0}function pi(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(kt.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))}function wt(t,e){cn._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,pi(t.strm)}function ve(t,e){t.pending_buf[t.pending++]=e}function Ef(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function PM(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,kt.arraySet(e,t.input,t.next_in,i,n),t.state.wrap===1?t.adler=bv(t.adler,e,i,n):t.state.wrap===2&&(t.adler=ui(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function vv(t,e){var n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-Ln?t.strstart-(t.w_size-Ln):0,f=t.window,l=t.w_mask,c=t.prev,h=t.strstart+ci,d=f[r+o-1],p=f[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(f[i+o]!==p||f[i+o-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(s=ci-(h-r),r=h-ci,s>o){if(t.match_start=e,o=s,s>=a)break;d=f[r+o-1],p=f[r+o]}}while((e=c[e&l])>u&&--n!==0);return o<=t.lookahead?o:t.lookahead}function ps(t){var e=t.w_size,n,r,i,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ln)){kt.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);s+=e}if(t.strm.avail_in===0)break;if(r=PM(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=r,t.lookahead+t.insert>=pe)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+pe-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<pe)););}while(t.lookahead<Ln&&t.strm.avail_in!==0)}function NM(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ps(t),t.lookahead===0&&e===cs)return ft;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,wt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ln&&(wt(t,!1),t.strm.avail_out===0))return ft}return t.insert=0,e===li?(wt(t,!0),t.strm.avail_out===0?ds:bo):(t.strstart>t.block_start&&(wt(t,!1),t.strm.avail_out===0),ft)}function np(t,e){for(var n,r;;){if(t.lookahead<Ln){if(ps(t),t.lookahead<Ln&&e===cs)return ft;if(t.lookahead===0)break}if(n=0,t.lookahead>=pe&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ln&&(t.match_length=vv(t,n)),t.match_length>=pe)if(r=cn._tr_tally(t,t.strstart-t.match_start,t.match_length-pe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=pe){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=cn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(wt(t,!1),t.strm.avail_out===0))return ft}return t.insert=t.strstart<pe-1?t.strstart:pe-1,e===li?(wt(t,!0),t.strm.avail_out===0?ds:bo):t.last_lit&&(wt(t,!1),t.strm.avail_out===0)?ft:Af}function yo(t,e){for(var n,r,i;;){if(t.lookahead<Ln){if(ps(t),t.lookahead<Ln&&e===cs)return ft;if(t.lookahead===0)break}if(n=0,t.lookahead>=pe&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=pe-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ln&&(t.match_length=vv(t,n),t.match_length<=5&&(t.strategy===wM||t.match_length===pe&&t.strstart-t.match_start>4096)&&(t.match_length=pe-1)),t.prev_length>=pe&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-pe,r=cn._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-pe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pe-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=pe-1,t.strstart++,r&&(wt(t,!1),t.strm.avail_out===0))return ft}else if(t.match_available){if(r=cn._tr_tally(t,0,t.window[t.strstart-1]),r&&wt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ft}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=cn._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<pe-1?t.strstart:pe-1,e===li?(wt(t,!0),t.strm.avail_out===0?ds:bo):t.last_lit&&(wt(t,!1),t.strm.avail_out===0)?ft:Af}function LM(t,e){for(var n,r,i,s,o=t.window;;){if(t.lookahead<=ci){if(ps(t),t.lookahead<=ci&&e===cs)return ft;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=pe&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+ci;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=ci-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=pe?(n=cn._tr_tally(t,1,t.match_length-pe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=cn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(wt(t,!1),t.strm.avail_out===0))return ft}return t.insert=0,e===li?(wt(t,!0),t.strm.avail_out===0?ds:bo):t.last_lit&&(wt(t,!1),t.strm.avail_out===0)?ft:Af}function OM(t,e){for(var n;;){if(t.lookahead===0&&(ps(t),t.lookahead===0)){if(e===cs)return ft;break}if(t.match_length=0,n=cn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(wt(t,!1),t.strm.avail_out===0))return ft}return t.insert=0,e===li?(wt(t,!0),t.strm.avail_out===0?ds:bo):t.last_lit&&(wt(t,!1),t.strm.avail_out===0)?ft:Af}function ar(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var wo;wo=[new ar(0,0,0,0,NM),new ar(4,4,8,4,np),new ar(4,5,16,8,np),new ar(4,6,32,32,np),new ar(4,4,16,16,yo),new ar(8,16,32,32,yo),new ar(8,16,128,128,yo),new ar(8,32,128,256,yo),new ar(32,128,258,1024,yo),new ar(32,258,258,4096,yo)];function zM(t){t.window_size=2*t.w_size,di(t.head),t.max_lazy_match=wo[t.level].max_lazy,t.good_match=wo[t.level].good_length,t.nice_match=wo[t.level].nice_length,t.max_chain_length=wo[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=pe-1,t.match_available=0,t.ins_h=0}function UM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ec,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new kt.Buf16(BM*2),this.dyn_dtree=new kt.Buf16((2*IM+1)*2),this.bl_tree=new kt.Buf16((2*DM+1)*2),di(this.dyn_ltree),di(this.dyn_dtree),di(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new kt.Buf16(kM+1),this.heap=new kt.Buf16(2*ep+1),di(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new kt.Buf16(2*ep+1),di(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Av(t){var e;return!t||!t.state?hi(t,hn):(t.total_in=t.total_out=0,t.data_type=EM,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?tc:hs,t.adler=e.wrap===2?0:1,e.last_flush=cs,cn._tr_init(e),or)}function Ev(t){var e=Av(t);return e===or&&zM(t.state),e}function GM(t,e){return!t||!t.state||t.state.wrap!==2?hn:(t.state.gzhead=e,or)}function _v(t,e,n,r,i,s){if(!t)return hn;var o=1;if(e===yM&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>_M||n!==ec||r<8||r>15||e<0||e>9||s<0||s>vM)return hi(t,hn);r===8&&(r=9);var a=new UM;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+pe-1)/pe),a.window=new kt.Buf8(a.w_size*2),a.head=new kt.Buf16(a.hash_size),a.prev=new kt.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new kt.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=s,a.method=n,Ev(t)}function HM(t,e){return _v(t,e,ec,SM,CM,AM)}function $M(t,e){var n,r,i,s;if(!t||!t.state||e>yv||e<0)return t?hi(t,hn):hn;if(r=t.state,!t.output||!t.input&&t.avail_in!==0||r.status===vf&&e!==li)return hi(t,t.avail_out===0?J0:hn);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===tc)if(r.wrap===2)t.adler=0,ve(r,31),ve(r,139),ve(r,8),r.gzhead?(ve(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ve(r,r.gzhead.time&255),ve(r,r.gzhead.time>>8&255),ve(r,r.gzhead.time>>16&255),ve(r,r.gzhead.time>>24&255),ve(r,r.level===9?2:r.strategy>=Jl||r.level<2?4:0),ve(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ve(r,r.gzhead.extra.length&255),ve(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=ui(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=tp):(ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,r.level===9?2:r.strategy>=Jl||r.level<2?4:0),ve(r,MM),r.status=hs);else{var o=ec+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=Jl||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,o|=a<<6,r.strstart!==0&&(o|=RM),o+=31-o%31,r.status=hs,Ef(r,o),r.strstart!==0&&(Ef(r,t.adler>>>16),Ef(r,t.adler&65535)),t.adler=1}if(r.status===tp)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),pi(t),i=r.pending,r.pending===r.pending_buf_size));)ve(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=nc)}else r.status=nc;if(r.status===nc)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),pi(t),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,ve(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.gzindex=0,r.status=rc)}else r.status=rc;if(r.status===rc)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),pi(t),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,ve(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=ui(t.adler,r.pending_buf,r.pending-i,i)),s===0&&(r.status=ic)}else r.status=ic;if(r.status===ic&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&pi(t),r.pending+2<=r.pending_buf_size&&(ve(r,t.adler&255),ve(r,t.adler>>8&255),t.adler=0,r.status=hs)):r.status=hs),r.pending!==0){if(pi(t),t.avail_out===0)return r.last_flush=-1,or}else if(t.avail_in===0&&xv(e)<=xv(n)&&e!==li)return hi(t,J0);if(r.status===vf&&t.avail_in!==0)return hi(t,J0);if(t.avail_in!==0||r.lookahead!==0||e!==cs&&r.status!==vf){var u=r.strategy===Jl?OM(r,e):r.strategy===xM?LM(r,e):wo[r.level].func(r,e);if((u===ds||u===bo)&&(r.status=vf),u===ft||u===ds)return t.avail_out===0&&(r.last_flush=-1),or;if(u===Af&&(e===gM?cn._tr_align(r):e!==yv&&(cn._tr_stored_block(r,0,0,!1),e===mM&&(di(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),pi(t),t.avail_out===0))return r.last_flush=-1,or}return e!==li?or:r.wrap<=0?wv:(r.wrap===2?(ve(r,t.adler&255),ve(r,t.adler>>8&255),ve(r,t.adler>>16&255),ve(r,t.adler>>24&255),ve(r,t.total_in&255),ve(r,t.total_in>>8&255),ve(r,t.total_in>>16&255),ve(r,t.total_in>>24&255)):(Ef(r,t.adler>>>16),Ef(r,t.adler&65535)),pi(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?or:wv)}function VM(t){var e;return!t||!t.state?hn:(e=t.state.status,e!==tc&&e!==tp&&e!==nc&&e!==rc&&e!==ic&&e!==hs&&e!==vf?hi(t,hn):(t.state=null,e===hs?hi(t,bM):or))}function qM(t,e){var n=e.length,r,i,s,o,a,u,f,l;if(!t||!t.state||(r=t.state,o=r.wrap,o===2||o===1&&r.status!==tc||r.lookahead))return hn;for(o===1&&(t.adler=bv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size&&(o===0&&(di(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new kt.Buf8(r.w_size),kt.arraySet(l,e,n-r.w_size,r.w_size,0),e=l,n=r.w_size),a=t.avail_in,u=t.next_in,f=t.input,t.avail_in=n,t.next_in=0,t.input=e,ps(r);r.lookahead>=pe;){i=r.strstart,s=r.lookahead-(pe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+pe-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--s);r.strstart=i,r.lookahead=pe-1,ps(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pe-1,r.match_available=0,t.next_in=u,t.input=f,t.avail_in=a,r.wrap=o,or}ir.deflateInit=HM,ir.deflateInit2=_v,ir.deflateReset=Ev,ir.deflateResetKeep=Av,ir.deflateSetHeader=GM,ir.deflate=$M,ir.deflateEnd=VM,ir.deflateSetDictionary=qM,ir.deflateInfo="pako deflate (from Nodeca project)";var gs={},sc=Tr,Sv=!0,Cv=!0;try{String.fromCharCode.apply(null,[0])}catch{Sv=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Cv=!1}for(var _f=new sc.Buf8(256),gi=0;gi<256;gi++)_f[gi]=gi>=252?6:gi>=248?5:gi>=240?4:gi>=224?3:gi>=192?2:1;_f[254]=_f[254]=1,gs.string2buf=function(t){var e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new sc.Buf8(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};function Tv(t,e){if(e<65534&&(t.subarray&&Cv||!t.subarray&&Sv))return String.fromCharCode.apply(null,sc.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}gs.buf2binstring=function(t){return Tv(t,t.length)},gs.binstring2buf=function(t){for(var e=new sc.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},gs.buf2string=function(t,e){var n,r,i,s,o=e||t.length,a=new Array(o*2);for(r=0,n=0;n<o;){if(i=t[n++],i<128){a[r++]=i;continue}if(s=_f[i],s>4){a[r++]=65533,n+=s-1;continue}for(i&=s===2?31:s===3?15:7;s>1&&n<o;)i=i<<6|t[n++]&63,s--;if(s>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return Tv(a,r)},gs.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+_f[t[n]]>e?n:e};function jM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fv=jM,Sf=ir,Cf=Tr,rp=gs,ip=K0,ZM=Fv,Iv=Object.prototype.toString,WM=0,sp=4,xo=0,Dv=1,Bv=2,YM=-1,QM=0,XM=8;function ms(t){if(!(this instanceof ms))return new ms(t);this.options=Cf.assign({level:YM,method:XM,chunkSize:16384,windowBits:15,memLevel:8,strategy:QM,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZM,this.strm.avail_out=0;var n=Sf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==xo)throw new Error(ip[n]);if(e.header&&Sf.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(typeof e.dictionary=="string"?r=rp.string2buf(e.dictionary):Iv.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Sf.deflateSetDictionary(this.strm,r),n!==xo)throw new Error(ip[n]);this._dict_set=!0}}ms.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;s=e===~~e?e:e===!0?sp:WM,typeof t=="string"?n.input=rp.string2buf(t):Iv.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Cf.Buf8(r),n.next_out=0,n.avail_out=r),i=Sf.deflate(n,s),i!==Dv&&i!==xo)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(s===sp||s===Bv))&&(this.options.to==="string"?this.onData(rp.buf2binstring(Cf.shrinkBuf(n.output,n.next_out))):this.onData(Cf.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==Dv);return s===sp?(i=Sf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===xo):(s===Bv&&(this.onEnd(xo),n.avail_out=0),!0)},ms.prototype.onData=function(t){this.chunks.push(t)},ms.prototype.onEnd=function(t){t===xo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cf.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function op(t,e){var n=new ms(e);if(n.push(t,!0),n.err)throw n.msg||ip[n.err];return n.result}function KM(t,e){return e=e||{},e.raw=!0,op(t,e)}function JM(t,e){return e=e||{},e.gzip=!0,op(t,e)}pf.Deflate=ms,pf.deflate=op,pf.deflateRaw=KM,pf.gzip=JM;var Tf={},On={},oc=30,eP=12,tP=function(e,n){var r,i,s,o,a,u,f,l,c,h,d,p,b,y,w,E,S,T,D,B,I,N,C,M,P;r=e.state,i=e.next_in,M=e.input,s=i+(e.avail_in-5),o=e.next_out,P=e.output,a=o-(n-e.avail_out),u=o+(e.avail_out-257),f=r.dmax,l=r.wsize,c=r.whave,h=r.wnext,d=r.window,p=r.hold,b=r.bits,y=r.lencode,w=r.distcode,E=(1<<r.lenbits)-1,S=(1<<r.distbits)-1;e:do{b<15&&(p+=M[i++]<<b,b+=8,p+=M[i++]<<b,b+=8),T=y[p&E];t:for(;;){if(D=T>>>24,p>>>=D,b-=D,D=T>>>16&255,D===0)P[o++]=T&65535;else if(D&16){B=T&65535,D&=15,D&&(b<D&&(p+=M[i++]<<b,b+=8),B+=p&(1<<D)-1,p>>>=D,b-=D),b<15&&(p+=M[i++]<<b,b+=8,p+=M[i++]<<b,b+=8),T=w[p&S];n:for(;;){if(D=T>>>24,p>>>=D,b-=D,D=T>>>16&255,D&16){if(I=T&65535,D&=15,b<D&&(p+=M[i++]<<b,b+=8,b<D&&(p+=M[i++]<<b,b+=8)),I+=p&(1<<D)-1,I>f){e.msg="invalid distance too far back",r.mode=oc;break e}if(p>>>=D,b-=D,D=o-a,I>D){if(D=I-D,D>c&&r.sane){e.msg="invalid distance too far back",r.mode=oc;break e}if(N=0,C=d,h===0){if(N+=l-D,D<B){B-=D;do P[o++]=d[N++];while(--D);N=o-I,C=P}}else if(h<D){if(N+=l+h-D,D-=h,D<B){B-=D;do P[o++]=d[N++];while(--D);if(N=0,h<B){D=h,B-=D;do P[o++]=d[N++];while(--D);N=o-I,C=P}}}else if(N+=h-D,D<B){B-=D;do P[o++]=d[N++];while(--D);N=o-I,C=P}for(;B>2;)P[o++]=C[N++],P[o++]=C[N++],P[o++]=C[N++],B-=3;B&&(P[o++]=C[N++],B>1&&(P[o++]=C[N++]))}else{N=o-I;do P[o++]=P[N++],P[o++]=P[N++],P[o++]=P[N++],B-=3;while(B>2);B&&(P[o++]=P[N++],B>1&&(P[o++]=P[N++]))}}else if(D&64){e.msg="invalid distance code",r.mode=oc;break e}else{T=w[(T&65535)+(p&(1<<D)-1)];continue n}break}}else if(D&64)if(D&32){r.mode=eP;break e}else{e.msg="invalid literal/length code",r.mode=oc;break e}else{T=y[(T&65535)+(p&(1<<D)-1)];continue t}break}}while(i<s&&o<u);B=b>>3,i-=B,b-=B<<3,p&=(1<<b)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<u?257+(u-o):257-(o-u),r.hold=p,r.bits=b},kv=Tr,vo=15,Rv=852,Mv=592,Pv=0,ap=1,Nv=2,nP=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rP=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],iP=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],sP=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],oP=function(e,n,r,i,s,o,a,u){var f=u.bits,l=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,E=0,S=0,T,D,B,I,N,C=null,M=0,P,ee=new kv.Buf16(vo+1),ne=new kv.Buf16(vo+1),J=null,me=0,Ee,De,st;for(l=0;l<=vo;l++)ee[l]=0;for(c=0;c<i;c++)ee[n[r+c]]++;for(p=f,d=vo;d>=1&&ee[d]===0;d--);if(p>d&&(p=d),d===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<d&&ee[h]===0;h++);for(p<h&&(p=h),w=1,l=1;l<=vo;l++)if(w<<=1,w-=ee[l],w<0)return-1;if(w>0&&(e===Pv||d!==1))return-1;for(ne[1]=0,l=1;l<vo;l++)ne[l+1]=ne[l]+ee[l];for(c=0;c<i;c++)n[r+c]!==0&&(a[ne[n[r+c]]++]=c);if(e===Pv?(C=J=a,P=19):e===ap?(C=nP,M-=257,J=rP,me-=257,P=256):(C=iP,J=sP,P=-1),S=0,c=0,l=h,N=o,b=p,y=0,B=-1,E=1<<p,I=E-1,e===ap&&E>Rv||e===Nv&&E>Mv)return 1;for(;;){Ee=l-y,a[c]<P?(De=0,st=a[c]):a[c]>P?(De=J[me+a[c]],st=C[M+a[c]]):(De=32+64,st=0),T=1<<l-y,D=1<<b,h=D;do D-=T,s[N+(S>>y)+D]=Ee<<24|De<<16|st|0;while(D!==0);for(T=1<<l-1;S&T;)T>>=1;if(T!==0?(S&=T-1,S+=T):S=0,c++,--ee[l]===0){if(l===d)break;l=n[r+a[c]]}if(l>p&&(S&I)!==B){for(y===0&&(y=p),N+=h,b=l-y,w=1<<b;b+y<d&&(w-=ee[b+y],!(w<=0));)b++,w<<=1;if(E+=1<<b,e===ap&&E>Rv||e===Nv&&E>Mv)return 1;B=S&I,s[B]=p<<24|b<<16|N-o|0}}return S!==0&&(s[N+S]=l-y<<24|64<<16|0),u.bits=p,0},tn=Tr,fp=gv,fr=mv,aP=tP,Ff=oP,fP=0,Lv=1,Ov=2,zv=4,uP=5,ac=6,bs=0,lP=1,cP=2,dn=-2,Uv=-3,Gv=-4,hP=-5,Hv=8,$v=1,Vv=2,qv=3,jv=4,Zv=5,Wv=6,Yv=7,Qv=8,Xv=9,Kv=10,fc=11,Ir=12,up=13,Jv=14,lp=15,e2=16,t2=17,n2=18,r2=19,uc=20,lc=21,i2=22,s2=23,o2=24,a2=25,f2=26,cp=27,u2=28,l2=29,je=30,c2=31,dP=32,pP=852,gP=592,mP=15,bP=mP;function h2(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function yP(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new tn.Buf16(320),this.work=new tn.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d2(t){var e;return!t||!t.state?dn:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=$v,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new tn.Buf32(pP),e.distcode=e.distdyn=new tn.Buf32(gP),e.sane=1,e.back=-1,bs)}function p2(t){var e;return!t||!t.state?dn:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,d2(t))}function g2(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?dn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p2(t))}function m2(t,e){var n,r;return t?(r=new yP,t.state=r,r.window=null,n=g2(t,e),n!==bs&&(t.state=null),n):dn}function wP(t){return m2(t,bP)}var b2=!0,hp,dp;function xP(t){if(b2){var e;for(hp=new tn.Buf32(512),dp=new tn.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ff(Lv,t.lens,0,288,hp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ff(Ov,t.lens,0,32,dp,0,t.work,{bits:5}),b2=!1}t.lencode=hp,t.lenbits=9,t.distcode=dp,t.distbits=5}function y2(t,e,n,r){var i,s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new tn.Buf8(s.wsize)),r>=s.wsize?(tn.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),tn.arraySet(s.window,e,n-r,i,s.wnext),r-=i,r?(tn.arraySet(s.window,e,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function vP(t,e){var n,r,i,s,o,a,u,f,l,c,h,d,p,b,y=0,w,E,S,T,D,B,I,N,C=new tn.Buf8(4),M,P,ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return dn;n=t.state,n.mode===Ir&&(n.mode=up),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,c=a,h=u,N=bs;e:for(;;)switch(n.mode){case $v:if(n.wrap===0){n.mode=up;break}for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.wrap&2&&f===35615){n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0),f=0,l=0,n.mode=Vv;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=je;break}if((f&15)!==Hv){t.msg="unknown compression method",n.mode=je;break}if(f>>>=4,l-=4,I=(f&15)+8,n.wbits===0)n.wbits=I;else if(I>n.wbits){t.msg="invalid window size",n.mode=je;break}n.dmax=1<<I,t.adler=n.check=1,n.mode=f&512?Kv:Ir,f=0,l=0;break;case Vv:for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.flags=f,(n.flags&255)!==Hv){t.msg="unknown compression method",n.mode=je;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=je;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0,n.mode=qv;case qv:for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.head&&(n.head.time=f),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=fr(n.check,C,4,0)),f=0,l=0,n.mode=jv;case jv:for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0,n.mode=Zv;case Zv:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&(C[0]=f&255,C[1]=f>>>8&255,n.check=fr(n.check,C,2,0)),f=0,l=0}else n.head&&(n.head.extra=null);n.mode=Wv;case Wv:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),tn.arraySet(n.head.extra,r,s,d,I)),n.flags&512&&(n.check=fr(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Yv;case Yv:if(n.flags&2048){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=fr(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Qv;case Qv:if(n.flags&4096){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&(n.check=fr(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=Xv;case Xv:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=je;break}f=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ir;break;case Kv:for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}t.adler=n.check=h2(f),f=0,l=0,n.mode=fc;case fc:if(n.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,cP;t.adler=n.check=1,n.mode=Ir;case Ir:if(e===uP||e===ac)break e;case up:if(n.last){f>>>=l&7,l-=l&7,n.mode=cp;break}for(;l<3;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}switch(n.last=f&1,f>>>=1,l-=1,f&3){case 0:n.mode=Jv;break;case 1:if(xP(n),n.mode=uc,e===ac){f>>>=2,l-=2;break e}break;case 2:n.mode=t2;break;case 3:t.msg="invalid block type",n.mode=je}f>>>=2,l-=2;break;case Jv:for(f>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=je;break}if(n.length=f&65535,f=0,l=0,n.mode=lp,e===ac)break e;case lp:n.mode=e2;case e2:if(d=n.length,d){if(d>a&&(d=a),d>u&&(d=u),d===0)break e;tn.arraySet(i,r,s,d,o),a-=d,s+=d,u-=d,o+=d,n.length-=d;break}n.mode=Ir;break;case t2:for(;l<14;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.nlen=(f&31)+257,f>>>=5,l-=5,n.ndist=(f&31)+1,f>>>=5,l-=5,n.ncode=(f&15)+4,f>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=je;break}n.have=0,n.mode=n2;case n2:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.lens[ee[n.have++]]=f&7,f>>>=3,l-=3}for(;n.have<19;)n.lens[ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},N=Ff(fP,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid code lengths set",n.mode=je;break}n.have=0,n.mode=r2;case r2:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(S<16)f>>>=w,l-=w,n.lens[n.have++]=S;else{if(S===16){for(P=w+2;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(f>>>=w,l-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=je;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,l-=2}else if(S===17){for(P=w+3;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=w,l-=w,I=0,d=3+(f&7),f>>>=3,l-=3}else{for(P=w+7;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=w,l-=w,I=0,d=11+(f&127),f>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=je;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===je)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=je;break}if(n.lenbits=9,M={bits:n.lenbits},N=Ff(Lv,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid literal/lengths set",n.mode=je;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},N=Ff(Ov,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,N){t.msg="invalid distances set",n.mode=je;break}if(n.mode=uc,e===ac)break e;case uc:n.mode=lc;case lc:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,aP(t,h),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,n.mode===Ir&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(E&&!(E&240)){for(T=w,D=E,B=S;y=n.lencode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,n.length=S,E===0){n.mode=f2;break}if(E&32){n.back=-1,n.mode=Ir;break}if(E&64){t.msg="invalid literal/length code",n.mode=je;break}n.extra=E&15,n.mode=i2;case i2:if(n.extra){for(P=n.extra;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=s2;case s2:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(!(E&240)){for(T=w,D=E,B=S;y=n.distcode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,E&64){t.msg="invalid distance code",n.mode=je;break}n.offset=S,n.extra=E&15,n.mode=o2;case o2:if(n.extra){for(P=n.extra;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=je;break}n.mode=a2;case a2:if(u===0)break e;if(d=h-u,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=je;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=o-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do i[o++]=b[p++];while(--d);n.length===0&&(n.mode=lc);break;case f2:if(u===0)break e;i[o++]=n.length,u--,n.mode=lc;break;case cp:if(n.wrap){for(;l<32;){if(a===0)break e;a--,f|=r[s++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?fr(n.check,i,h,o-h):fp(n.check,i,h,o-h)),h=u,(n.flags?f:h2(f))!==n.check){t.msg="incorrect data check",n.mode=je;break}f=0,l=0}n.mode=u2;case u2:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=je;break}f=0,l=0}n.mode=l2;case l2:N=lP;break e;case je:N=Uv;break e;case c2:return Gv;case dP:default:return dn}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<je&&(n.mode<cp||e!==zv))&&y2(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?fr(n.check,i,h,t.next_out-h):fp(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ir?128:0)+(n.mode===uc||n.mode===lp?256:0),(c===0&&h===0||e===zv)&&N===bs&&(N=hP),N}function AP(t){if(!t||!t.state)return dn;var e=t.state;return e.window&&(e.window=null),t.state=null,bs}function EP(t,e){var n;return!t||!t.state||(n=t.state,!(n.wrap&2))?dn:(n.head=e,e.done=!1,bs)}function _P(t,e){var n=e.length,r,i,s;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==fc)?dn:r.mode===fc&&(i=1,i=fp(i,e,n,0),i!==r.check)?Uv:(s=y2(t,e,n,n),s?(r.mode=c2,Gv):(r.havedict=1,bs))}On.inflateReset=p2,On.inflateReset2=g2,On.inflateResetKeep=d2,On.inflateInit=wP,On.inflateInit2=m2,On.inflate=vP,On.inflateEnd=AP,On.inflateGetHeader=EP,On.inflateSetDictionary=_P,On.inflateInfo="pako inflate (from Nodeca project)";var w2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function SP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CP=SP,Ao=On,If=Tr,cc=gs,nt=w2,pp=K0,TP=Fv,FP=CP,x2=Object.prototype.toString;function ys(t){if(!(this instanceof ys))return new ys(t);this.options=If.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TP,this.strm.avail_out=0;var n=Ao.inflateInit2(this.strm,e.windowBits);if(n!==nt.Z_OK)throw new Error(pp[n]);if(this.header=new FP,Ao.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=cc.string2buf(e.dictionary):x2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ao.inflateSetDictionary(this.strm,e.dictionary),n!==nt.Z_OK)))throw new Error(pp[n])}ys.prototype.push=function(t,e){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a,u,f,l=!1;if(this.ended)return!1;o=e===~~e?e:e===!0?nt.Z_FINISH:nt.Z_NO_FLUSH,typeof t=="string"?n.input=cc.binstring2buf(t):x2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new If.Buf8(r),n.next_out=0,n.avail_out=r),s=Ao.inflate(n,nt.Z_NO_FLUSH),s===nt.Z_NEED_DICT&&i&&(s=Ao.inflateSetDictionary(this.strm,i)),s===nt.Z_BUF_ERROR&&l===!0&&(s=nt.Z_OK,l=!1),s!==nt.Z_STREAM_END&&s!==nt.Z_OK)return this.onEnd(s),this.ended=!0,!1;n.next_out&&(n.avail_out===0||s===nt.Z_STREAM_END||n.avail_in===0&&(o===nt.Z_FINISH||o===nt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=cc.utf8border(n.output,n.next_out),u=n.next_out-a,f=cc.buf2string(n.output,a),n.next_out=u,n.avail_out=r-u,u&&If.arraySet(n.output,n.output,a,u,0),this.onData(f)):this.onData(If.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(l=!0)}while((n.avail_in>0||n.avail_out===0)&&s!==nt.Z_STREAM_END);return s===nt.Z_STREAM_END&&(o=nt.Z_FINISH),o===nt.Z_FINISH?(s=Ao.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===nt.Z_OK):(o===nt.Z_SYNC_FLUSH&&(this.onEnd(nt.Z_OK),n.avail_out=0),!0)},ys.prototype.onData=function(t){this.chunks.push(t)},ys.prototype.onEnd=function(t){t===nt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=If.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function gp(t,e){var n=new ys(e);if(n.push(t,!0),n.err)throw n.msg||pp[n.err];return n.result}function IP(t,e){return e=e||{},e.raw=!0,gp(t,e)}Tf.Inflate=ys,Tf.inflate=gp,Tf.inflateRaw=IP,Tf.ungzip=gp;var DP=Tr.assign,BP=pf,kP=Tf,RP=w2,v2={};DP(v2,BP,kP,RP);var hc=v2;async function Eo(t){try{let e,n=0,r=0;const i=[];let s=0,o;do{const u=t.subarray(n);if(o=new hc.Inflate,{strm:e}=o,o.push(u,hc.Z_SYNC_FLUSH),o.err)throw new Error(o.msg);n+=e.next_in,i[r]=o.result,s+=i[r].length,r+=1}while(e.avail_in);const a=new Uint8Array(s);for(let u=0,f=0;u<i.length;u++)a.set(i[u],f),f+=i[u].length;return Buffer.from(a)}catch(e){throw`${e}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):e}}async function A2(t,e){try{let n;const{minv:r,maxv:i}=e;let s=r.blockPosition,o=r.dataPosition;const a=[],u=[],f=[];let l=0,c=0;do{const p=t.subarray(s-r.blockPosition),b=new hc.Inflate;if({strm:n}=b,b.push(p,hc.Z_SYNC_FLUSH),b.err)throw new Error(b.msg);const y=b.result;a.push(y);let w=y.length;u.push(s),f.push(o),a.length===1&&r.dataPosition&&(a[0]=a[0].subarray(r.dataPosition),w=a[0].length);const E=s;if(s+=n.next_in,o+=w,E>=i.blockPosition){a[c]=a[c].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),u.push(s),f.push(o),l+=a[c].length;break}l+=a[c].length,c++}while(n.avail_in);const h=new Uint8Array(l);for(let p=0,b=0;p<a.length;p++)h.set(a[p],b),b+=a[p].length;return{buffer:Buffer.from(h),cpositions:u,dpositions:f}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var pn=null;try{pn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function He(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}He.prototype.__isLong__,Object.defineProperty(He.prototype,"__isLong__",{value:!0});function Tt(t){return(t&&t.__isLong__)===!0}function E2(t){var e=Math.clz32(t&-t);return t?31-e:e}He.isLong=Tt;var _2={},S2={};function ws(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=S2[t],r)?r:(n=Ae(t,0,!0),i&&(S2[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=_2[t],r)?r:(n=Ae(t,t<0?-1:0,!1),i&&(_2[t]=n),n))}He.fromInt=ws;function gn(t,e){if(isNaN(t))return e?Dr:Un;if(e){if(t<0)return Dr;if(t>=T2)return k2}else{if(t<=-F2)return Ht;if(t+1>=F2)return B2}return t<0?gn(-t,e).neg():Ae(t%_o|0,t/_o|0,e)}He.fromNumber=gn;function Ae(t,e,n){return new He(t,e,n)}He.fromBits=Ae;var dc=Math.pow;function mp(t,e,n){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Dr:Un;if(n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return mp(t.substring(1),e,n).neg();for(var i=gn(dc(n,8)),s=Un,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+a),n);if(a<8){var f=gn(dc(n,a));s=s.mul(f).add(gn(u))}else s=s.mul(i),s=s.add(gn(u))}return s.unsigned=e,s}He.fromString=mp;function zn(t,e){return typeof t=="number"?gn(t,e):typeof t=="string"?mp(t,e):Ae(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}He.fromValue=zn;var C2=65536,MP=1<<24,_o=C2*C2,T2=_o*_o,F2=T2/2,I2=ws(MP),Un=ws(0);He.ZERO=Un;var Dr=ws(0,!0);He.UZERO=Dr;var So=ws(1);He.ONE=So;var D2=ws(1,!0);He.UONE=D2;var bp=ws(-1);He.NEG_ONE=bp;var B2=Ae(-1,2147483647,!1);He.MAX_VALUE=B2;var k2=Ae(-1,-1,!0);He.MAX_UNSIGNED_VALUE=k2;var Ht=Ae(0,-2147483648,!1);He.MIN_VALUE=Ht;var Z=He.prototype;Z.toInt=function(){return this.unsigned?this.low>>>0:this.low},Z.toNumber=function(){return this.unsigned?(this.high>>>0)*_o+(this.low>>>0):this.high*_o+(this.low>>>0)},Z.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ht)){var n=gn(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=gn(dc(e,6),this.unsigned),o=this,a="";;){var u=o.div(s),f=o.sub(u.mul(s)).toInt()>>>0,l=f.toString(e);if(o=u,o.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Z.getHighBits=function(){return this.high},Z.getHighBitsUnsigned=function(){return this.high>>>0},Z.getLowBits=function(){return this.low},Z.getLowBitsUnsigned=function(){return this.low>>>0},Z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ht)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},Z.isZero=function(){return this.high===0&&this.low===0},Z.eqz=Z.isZero,Z.isNegative=function(){return!this.unsigned&&this.high<0},Z.isPositive=function(){return this.unsigned||this.high>=0},Z.isOdd=function(){return(this.low&1)===1},Z.isEven=function(){return(this.low&1)===0},Z.equals=function(e){return Tt(e)||(e=zn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},Z.eq=Z.equals,Z.notEquals=function(e){return!this.eq(e)},Z.neq=Z.notEquals,Z.ne=Z.notEquals,Z.lessThan=function(e){return this.comp(e)<0},Z.lt=Z.lessThan,Z.lessThanOrEqual=function(e){return this.comp(e)<=0},Z.lte=Z.lessThanOrEqual,Z.le=Z.lessThanOrEqual,Z.greaterThan=function(e){return this.comp(e)>0},Z.gt=Z.greaterThan,Z.greaterThanOrEqual=function(e){return this.comp(e)>=0},Z.gte=Z.greaterThanOrEqual,Z.ge=Z.greaterThanOrEqual,Z.compare=function(e){if(Tt(e)||(e=zn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Z.comp=Z.compare,Z.negate=function(){return!this.unsigned&&this.eq(Ht)?Ht:this.not().add(So)},Z.neg=Z.negate,Z.add=function(e){Tt(e)||(e=zn(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=s+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+o,l&=65535,Ae(h<<16|d,l<<16|c,this.unsigned)},Z.subtract=function(e){return Tt(e)||(e=zn(e)),this.add(e.neg())},Z.sub=Z.subtract,Z.multiply=function(e){if(this.isZero())return this;if(Tt(e)||(e=zn(e)),pn){var n=pn.mul(this.low,this.high,e.low,e.high);return Ae(n,pn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Dr:Un;if(this.eq(Ht))return e.isOdd()?Ht:Un;if(e.eq(Ht))return this.isOdd()?Ht:Un;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(I2)&&e.lt(I2))return gn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=o*l,d+=p>>>16,p&=65535,d+=s*l,h+=d>>>16,d&=65535,d+=o*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=s*f,c+=h>>>16,h&=65535,h+=o*u,c+=h>>>16,h&=65535,c+=r*l+i*f+s*u+o*a,c&=65535,Ae(d<<16|p,c<<16|h,this.unsigned)},Z.mul=Z.multiply,Z.divide=function(e){if(Tt(e)||(e=zn(e)),e.isZero())throw Error("division by zero");if(pn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?pn.div_u:pn.div_s)(this.low,this.high,e.low,e.high);return Ae(n,pn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Dr:Un;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Dr;if(e.gt(this.shru(1)))return D2;s=Dr}else{if(this.eq(Ht)){if(e.eq(So)||e.eq(bp))return Ht;if(e.eq(Ht))return So;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Un)?e.isNegative()?So:bp:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(Ht))return this.unsigned?Dr:Un;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Un}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:dc(2,a-48),f=gn(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=gn(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=So),s=s.add(f),i=i.sub(l)}return s},Z.div=Z.divide,Z.modulo=function(e){if(Tt(e)||(e=zn(e)),pn){var n=(this.unsigned?pn.rem_u:pn.rem_s)(this.low,this.high,e.low,e.high);return Ae(n,pn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},Z.mod=Z.modulo,Z.rem=Z.modulo,Z.not=function(){return Ae(~this.low,~this.high,this.unsigned)},Z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Z.clz=Z.countLeadingZeros,Z.countTrailingZeros=function(){return this.low?E2(this.low):E2(this.high)+32},Z.ctz=Z.countTrailingZeros,Z.and=function(e){return Tt(e)||(e=zn(e)),Ae(this.low&e.low,this.high&e.high,this.unsigned)},Z.or=function(e){return Tt(e)||(e=zn(e)),Ae(this.low|e.low,this.high|e.high,this.unsigned)},Z.xor=function(e){return Tt(e)||(e=zn(e)),Ae(this.low^e.low,this.high^e.high,this.unsigned)},Z.shiftLeft=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ae(0,this.low<<e-32,this.unsigned)},Z.shl=Z.shiftLeft,Z.shiftRight=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ae(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Z.shr=Z.shiftRight,Z.shiftRightUnsigned=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ae(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ae(this.high,0,this.unsigned):Ae(this.high>>>e-32,0,this.unsigned)},Z.shru=Z.shiftRightUnsigned,Z.shr_u=Z.shiftRightUnsigned,Z.rotateLeft=function(e){var n;return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ae(this.high,this.low,this.unsigned):e<32?(n=32-e,Ae(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,Ae(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},Z.rotl=Z.rotateLeft,Z.rotateRight=function(e){var n;return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ae(this.high,this.low,this.unsigned):e<32?(n=32-e,Ae(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,Ae(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},Z.rotr=Z.rotateRight,Z.toSigned=function(){return this.unsigned?Ae(this.low,this.high,!1):this},Z.toUnsigned=function(){return this.unsigned?this:Ae(this.low,this.high,!0)},Z.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Z.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},Z.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},He.fromBytes=function(e,n,r){return r?He.fromBytesLE(e,n):He.fromBytesBE(e,n)},He.fromBytesLE=function(e,n){return new He(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},He.fromBytesBE=function(e,n){return new He(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};function R2(t,e){return t.offset+t.lineBytes*Math.floor(e/t.lineLength)+e%t.lineLength}async function PP(t,e){const n=await t.readFile(e);if(!(n&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const s=n.toString("utf8").split(/\r?\n/).filter(o=>/\S/.test(o)).map(o=>o.split("	")).filter(o=>o[0]!=="").map(o=>((!i||i.name!==o[0])&&(i={name:o[0],id:r},r+=1),{id:i.id,name:o[0],length:+o[1],start:0,end:+o[1],offset:+o[2],lineLength:+o[3],lineBytes:+o[4]}));return{name:Object.fromEntries(s.map(o=>[o.name,o])),id:Object.fromEntries(s.map(o=>[o.id,o]))}}class NP{constructor({fasta:e,fai:n,path:r,faiPath:i,chunkSizeLimit:s=1e6}){if(e)this.fasta=e;else if(r)this.fasta=new en(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new en(i);else if(r)this.fai=new en(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile");this.chunkSizeLimit=s}async _getIndexes(e){return this.indexes||(this.indexes=PP(this.fai,e)),this.indexes}async getSequenceNames(e){return Object.keys((await this._getIndexes(e)).name)}async getSequenceSizes(e){const n={},r=await this._getIndexes(e),i=Object.values(r.id);for(let s=0;s<i.length;s+=1)n[i[s].name]=i[s].length;return n}async getSequenceSize(e,n){var r;return(r=(await this._getIndexes(n)).name[e])===null||r===void 0?void 0:r.length}async hasReferenceSequence(e,n){return!!(await this._getIndexes(n)).name[e]}async getResiduesById(e,n,r,i){const s=(await this._getIndexes(i)).id[e];if(s)return this._fetchFromIndexEntry(s,n,r,i)}async getResiduesByName(e,n,r,i){const s=(await this._getIndexes(i)).name[e];if(s)return this._fetchFromIndexEntry(s,n,r,i)}async getSequence(e,n,r,i){return this.getResiduesByName(e,n,r,i)}async _fetchFromIndexEntry(e,n=0,r,i){let s=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((s===void 0||s>e.length)&&(s=e.length),n>=s)return"";const o=R2(e,n),a=R2(e,s)-o;if(a>this.chunkSizeLimit)throw new Error(`data size of ${a.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`);const u=Buffer.allocUnsafe(a);return await this.fasta.read(u,0,a,o,i),u.toString("utf8").replace(/\s+/g,"")}}function Df(t){return class extends t{constructor(){super(...arguments);on(this,"lastQuantizedInterval",[0,0])}quantizeInterval(r,i){return[Math.max(Math.floor(r[0]/i-1)*i,0),Math.min(Math.ceil(r[1]/i+1)*i,this.genome.totalSize)]}checkAndUpdateLastInterval(r){return Xu(this.lastQuantizedInterval,r)?!1:(this.lastQuantizedInterval=r,!0)}}}function Bf(t,e){return!e||/^(data:|([A-Za-z]+:)?\/\/)/.test(t)||t.startsWith("/")?t:(e.endsWith("/")||(e+="/"),e+t)}typeof window<"u"&&(window.Buffer=yt.Buffer);class LP extends Df(fs){constructor(e,n){const r={channel:"x",windowSize:7e3,...e};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");const i=s=>new rr(Bf(s,this.view.getBaseUrl()));this.fasta=new NP({fasta:i(this.params.url),fai:i(this.params.indexUrl??this.params.url+".fai")})}async onDomainChanged(e){const n=this.params.windowSize;if(e[1]-e[0]>n)return;const r=this.quantizeInterval(e,n);if(this.checkAndUpdateLastInterval(r)){const i=this.genome.continuousToDiscreteChromosomeIntervals(r),s=await Promise.all(i.map(o=>this.fasta.getSequence(o.chrom,o.startPos,o.endPos).then(a=>({chrom:o.chrom,start:o.startPos,sequence:a}))));this.publishData(s)}}}const pc=BigInt(32);function OP(t,e,n){const r=+!!n,i=+!n;return BigInt(t.getInt32(e,n)*i+t.getInt32(e+4,n)*r)<<pc|BigInt(t.getUint32(e,n)*r+t.getUint32(e+4,n)*i)}function zP(t,e,n){const r=t.getUint32(e,n),i=t.getUint32(e+4,n),s=+!!n,o=+!n;return BigInt(r*o+i*s)<<pc|BigInt(r*s+i*o)}function UP(t,e,n,r){const i=Number(n>>pc),s=Number(n&BigInt(4294967295));r?(t.setInt32(e+4,i,r),t.setUint32(e,s,r)):(t.setInt32(e,i,r),t.setUint32(e+4,s,r))}function GP(t,e,n,r){const i=Number(n>>pc),s=Number(n&BigInt(4294967295));r?(t.setUint32(e+4,i,r),t.setUint32(e,s,r)):(t.setUint32(e,i,r),t.setUint32(e+4,s,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(t,e){return OP(this,t,e)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(t,e){return zP(this,t,e)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(t,e,n){UP(this,t,e,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(t,e,n){GP(this,t,e,n)});class HP{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){const n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}}const Gn=new Map,xs="___parser_",Hn={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},gc={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},mc={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};let Ie=class Zn{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Zn}primitiveGenerateN(e,n){const r=gc[e],i=mc[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Hn[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return Gn.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Gn.has(n.type)&&!(n.type in Hn))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),s=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof s=="string"&&!Gn.has(s)&&!(s in Hn))throw new Error(`Choice type "${s}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof Zn)&&!Gn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof Zn)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Hn)&&!Gn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const n=new HP(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${xs+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){const e="imports";return this.getContext(e).code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${xs+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=Gn.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){const e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Hn).indexOf(this.type)>=0)e=Hn[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Hn[this.options.type]:this.options.type instanceof Zn&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){const i=new Zn;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}const n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);const i=(l=0)=>{let c=0;for(let h=l;h<e.bitFields.length;h++){const d=e.bitFields[h].options.length;if(c+d>32)break;c+=d}return c},s=l=>(l<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),l=8):l<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),l=16):l<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),l=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),l=32),e.pushCode(`offset += ${l/8};`),l);let o=0;const a=this.endian==="be";let u=0,f=0;e.bitFields.forEach((l,c)=>{let h=l.options.length;if(h>f){if(f){const b=-1>>>32-f;e.pushCode(`${l.varName} = (${r} & 0x${b.toString(16)}) << ${h-f};`),h-=f}o=0,f=u=s(i(c)-f)}const d=a?u-o-h:o,p=-1>>>32-h;e.pushCode(`${l.varName} ${h<l.options.length?"|=":"="} ${r} >> ${d} & 0x${p.toString(16)};`),l.options.length===32&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),o+=h,f-=h}),e.bitFields=[]}}generateSeek(e){const n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,s=i.toLowerCase()==="hex",o='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);const u=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, ${u}), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${u}));`)}else if(this.options.length){const a=e.generateOption(this.options.length);e.pushCode(s?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(s?`${n} = Array.from(buffer.subarray(${r}, offset), ${o}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=e.generateTmpVariable(),s=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${s} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${s} = dataView.getUint8(offset);`);const o=e.addImport(r);e.pushCode(`if (${o}.call(${e.generateVariable()}, ${s}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{const r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){const n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,s=e.generateTmpVariable(),o=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,f=typeof u=="string";if(f?e.pushCode(`${o} = {};`):e.pushCode(`${o} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${s} = 0; offset < buffer.length; ${s}++) {`):r!==void 0?e.pushCode(`for (var ${s} = offset + ${r}; offset < ${s}; ) {`):e.pushCode(`for (var ${s} = ${n}; ${s} > 0; ${s}--) {`),typeof i=="string")if(Gn.get(i)){const l=e.generateTmpVariable();if(e.pushCode(`var ${l} = ${xs+i}(offset, {`),e.useContextVariables){const c=e.generateVariable();e.pushCode(`$parent: ${c},`),e.pushCode(`$root: ${c}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${s},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${l}.result; offset = ${l}.offset;`),i!==this.alias&&e.addReference(i)}else{const l=gc[i],c=mc[i];e.pushCode(`var ${a} = dataView.get${l}(offset, ${c});`),e.pushCode(`offset += ${Hn[i]};`)}else if(i instanceof Zn){e.pushCode(`var ${a} = {};`);const l=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${l};`),e.pushCode(`${a}.$root = ${l}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${s};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(f?e.pushCode(`${o}[${a}.${u}] = ${a};`):e.pushCode(`${o}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){const l=this.options.readUntil,c=e.addImport(l);e.pushCode(`while (!${c}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){const i=e.generateVariable(this.varName);if(Gn.has(r)){const s=e.generateTmpVariable();e.pushCode(`var ${s} = ${xs+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${s}.result; offset = ${s}.offset;`),r!==this.alias&&e.addReference(r)}else{const s=gc[r],o=mc[r];e.pushCode(`${i} = dataView.get${s}(offset, ${o});`),e.pushCode(`offset += ${Hn[r]}`)}}else r instanceof Zn&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){const n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){const i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const s=parseInt(i,10),o=this.options.choices[s];e.pushCode(`case ${s}:`),this.generateChoiceCase(e,this.varName,o),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){const n=e.generateVariable(this.varName);if(this.options.type instanceof Zn){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){const r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(Gn.has(this.options.type)){const r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${xs+this.options.type}(offset, {`),e.useContextVariables){const i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){const u=this.options.readUntil,f=e.generateTmpVariable(),l=e.generateTmpVariable();e.pushCode(`var ${f} = offset;`),e.pushCode(`var ${l} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${l} = dataView.getUint8(offset);`);const c=e.addImport(u);e.pushCode(`if (${c}.call(${e.generateVariable()}, ${l}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{const u=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${u});`),e.pushCode(`offset += ${u};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);const i=e.generateTmpVariable(),s=e.generateTmpVariable(),o=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${s} = offset;`),e.pushCode(`var ${o} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Zn)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(Gn.has(this.options.type)){const u=e.generateTmpVariable();e.pushCode(`var ${u} = ${xs+this.options.type}(0);`),e.pushCode(`${n} = ${u}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${o};`),e.pushCode(`offset = ${s};`)}generateFormatter(e,n,r){if(typeof r=="function"){const i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){const n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),s=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof Zn){if(e.pushCode(`${s} = {};`),e.useContextVariables){const o=e.generateVariable();e.pushCode(`${s}.$parent = ${o};`),e.pushCode(`${s}.$root = ${o}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${s}.$parent;`),e.pushCode(`delete ${s}.$root;`))}else if(Gn.has(this.options.type)){const o=e.generateTmpVariable();if(e.pushCode(`var ${o} = ${xs+this.options.type}(offset, {`),e.useContextVariables){const a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${s} = ${o}.result; offset = ${o}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Hn).indexOf(this.options.type)>=0){const o=gc[n],a=mc[n];e.pushCode(`${s} = dataView.get${o}(offset, ${a});`),e.pushCode(`offset += ${Hn[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){const n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var M2={},yp={},vs={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});function wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xp(t,e,n){return e&&P2(t.prototype,e),n&&P2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $P(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}function Co(t){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Co(t)}function vp(t,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vp(t,e)}function VP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qP(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rf(t)}function jP(t){var e=VP();return function(){var r=Co(t),i;if(e){var s=Co(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return qP(this,i)}}function ZP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Co(t),t!==null););return t}function bc(){return typeof Reflect<"u"&&Reflect.get?bc=Reflect.get.bind():bc=function(e,n,r){var i=ZP(e,n);if(i){var s=Object.getOwnPropertyDescriptor(i,n);return s.get?s.get.call(arguments.length<3?e:r):s.value}},bc.apply(this,arguments)}var N2=function(){function t(){wp(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return xp(t,[{key:"addEventListener",value:function(n,r,i){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push({callback:r,options:i})}},{key:"removeEventListener",value:function(n,r){if(n in this.listeners){for(var i=this.listeners[n],s=0,o=i.length;s<o;s++)if(i[s].callback===r){i.splice(s,1);return}}}},{key:"dispatchEvent",value:function(n){if(n.type in this.listeners){for(var r=this.listeners[n.type],i=r.slice(),s=0,o=i.length;s<o;s++){var a=i[s];try{a.callback.call(this,n)}catch(u){Promise.resolve().then(function(){throw u})}a.options&&a.options.once&&this.removeEventListener(n.type,a.callback)}return!n.defaultPrevented}}}]),t}(),Ap=function(t){$P(n,t);var e=jP(n);function n(){var r;return wp(this,n),r=e.call(this),r.listeners||N2.call(Rf(r)),Object.defineProperty(Rf(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(Rf(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(Rf(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return xp(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),bc(Co(n.prototype),"dispatchEvent",this).call(this,i)}}]),n}(N2),L2=function(){function t(){wp(this,t),Object.defineProperty(this,"signal",{value:new Ap,writable:!0,configurable:!0})}return xp(t,[{key:"abort",value:function(n){var r;try{r=new Event("abort")}catch{typeof document<"u"?document.createEvent?(r=document.createEvent("Event"),r.initEvent("abort",!1,!1)):(r=document.createEventObject(),r.type="abort"):r={type:"abort",bubbles:!1,cancelable:!1}}var i=n;if(i===void 0)if(typeof document>"u")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch{i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();typeof Symbol<"u"&&Symbol.toStringTag&&(L2.prototype[Symbol.toStringTag]="AbortController",Ap.prototype[Symbol.toStringTag]="AbortSignal");function WP(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof t.Request=="function"&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function YP(t){typeof t=="function"&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,i=r===void 0?n.Request:r,s=e.AbortController,o=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=o===void 0?!1:o;if(!WP({fetch:n,Request:i,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:u};var u=i;(u&&!u.prototype.hasOwnProperty("signal")||a)&&(u=function(h,d){var p;d&&d.signal&&(p=d.signal,delete d.signal);var b=new i(h,d);return p&&Object.defineProperty(b,"signal",{writable:!1,enumerable:!1,configurable:!0,value:p}),b},u.prototype=i.prototype);var f=n,l=function(h,d){var p=u&&u.prototype.isPrototypeOf(h)?h.signal:d?d.signal:void 0;if(p){var b;try{b=new DOMException("Aborted","AbortError")}catch{b=new Error("Aborted"),b.name="AbortError"}if(p.aborted)return Promise.reject(b);var y=new Promise(function(w,E){p.addEventListener("abort",function(){return E(b)},{once:!0})});return d&&d.signal&&delete d.signal,Promise.race([y,f(h,d)])}return f(h,d)};return{fetch:l,Request:u}}kf.AbortController=L2,kf.AbortSignal=Ap,kf.abortableFetch=YP,Object.defineProperty(vs,"__esModule",{value:!0}),vs.AbortSignal=vs.AbortController=void 0;const O2=kf;var yc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Nn<"u")return Nn;throw new Error("unable to locate global object")};let QP=typeof yc().AbortController>"u"?O2.AbortController:yc().AbortController;vs.AbortController=QP;let XP=typeof yc().AbortController>"u"?O2.AbortSignal:yc().AbortSignal;vs.AbortSignal=XP;var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});const KP=vs;class JP{}class eN{constructor(){this.signals=new Set,this.abortController=new KP.AbortController}addSignal(e=new JP){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):typeof e.addEventListener=="function"&&e.addEventListener("abort",()=>{this.handleAborted(e)})}handleAborted(e){this.signals.delete(e),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}Ep.default=eN;var _p={};Object.defineProperty(_p,"__esModule",{value:!0});class tN{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach(n=>{n(e)})}}_p.default=tN;var z2=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yp,"__esModule",{value:!0});const nN=vs,rN=z2(Ep),iN=z2(_p);class wc{constructor({fill:e,cache:n}){if(typeof e!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=e}static isAbortException(e){return e.name==="AbortError"||e.code==="ERR_ABORTED"||e.message==="AbortError: aborted"||e.message==="Error: aborted"}evict(e,n){this.cache.get(e)===n&&this.cache.delete(e)}fill(e,n,r,i){const s=new rN.default,o=new iN.default;o.addCallback(i);const a={aborter:s,promise:this.fillCallback(n,s.signal,u=>{o.callback(u)}),settled:!1,statusReporter:o,get aborted(){return this.aborter.signal.aborted}};a.aborter.addSignal(r),a.aborter.signal.addEventListener("abort",()=>{a.settled||this.evict(e,a)}),a.promise.then(()=>{a.settled=!0},()=>{a.settled=!0,this.evict(e,a)}).catch(u=>{throw console.error(u),u}),this.cache.set(e,a)}static checkSinglePromise(e,n){function r(){if(n&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then(i=>(r(),i),i=>{throw r(),i})}has(e){return this.cache.has(e)}get(e,n,r,i){if(!r&&n instanceof nN.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const s=this.cache.get(e);return s?s.aborted&&!s.settled?(this.evict(e,s),this.get(e,n,r,i)):s.settled?s.promise:(s.aborter.addSignal(r),s.statusReporter.addCallback(i),wc.checkSinglePromise(s.promise,r)):(this.fill(e,n,r,i),wc.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const n=this.cache.get(e);n&&(n.settled||n.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let n=0;for(let r=e.next();!r.done;r=e.next())this.delete(r.value),n+=1;return n}}yp.default=wc;var sN=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M2,"__esModule",{value:!0});const oN=sN(yp);var xc=M2.default=oN.default,aN=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}};const Sp=us(aN);class mi{constructor(e,n){this.ranges=arguments.length===2?[{min:e,max:n}]:0 in e?Object.assign({},e):[e]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(e){for(let n=0;n<this.ranges.length;n+=1){const r=this.ranges[n];if(r.min<=e&&r.max>=e)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(e=>new mi(e.min,e.max))}toString(){return this.ranges.map(e=>`[${e.min}-${e.max}]`).join(",")}union(e){const n=this.getRanges().concat(e.getRanges()).sort(this.rangeOrder),r=[];let i=n[0];for(let s=1;s<n.length;s+=1){const o=n[s];o.min()>i.max()+1?(r.push(i),i=o):o.max()>i.max()&&(i=new mi(i.min(),o.max()))}return r.push(i),r.length===1?r[0]:new mi(r)}intersection(e){let n=this,r=e;const i=this.ranges(),s=r.ranges(),o=i.length,a=s.length;let u=0,f=0;const l=[];for(;u<o&&f<a;){n=i[u],r=s[f];const c=Math.max(n.min(),r.min()),h=Math.min(n.max(),r.max());h>=c&&l.push(new mi(c,h)),n.max()>r.max()?f+=1:u+=1}if(l.length===0)throw new Error("found range of length 0");return l.length===1?l[0]:new mi(l)}coverage(){let e=0;const n=this.ranges();for(const r of n)e+=r.max()-r.min()+1;return e}rangeOrder(e,n){let r=e,i=n;return arguments.length<2&&(i=r,r=this),r.min()<i.min()?-1:r.min()>i.min()?1:r.max()<i.max()?-1:i.max()>r.max()?1:0}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const fN=4,U2=0,G2=1,uN=2;function To(t){let e=t.length;for(;--e>=0;)t[e]=0}const lN=0,H2=1,cN=2,hN=3,dN=258,Cp=29,Mf=256,Pf=Mf+1+Cp,Fo=30,Tp=19,$2=2*Pf+1,As=15,Fp=16,pN=7,Ip=256,V2=16,q2=17,j2=18,Dp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),gN=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Z2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mN=512,Br=new Array((Pf+2)*2);To(Br);const Nf=new Array(Fo*2);To(Nf);const Lf=new Array(mN);To(Lf);const Of=new Array(dN-hN+1);To(Of);const Bp=new Array(Cp);To(Bp);const Ac=new Array(Fo);To(Ac);function kp(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let W2,Y2,Q2;function Rp(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const X2=t=>t<256?Lf[t]:Lf[256+(t>>>7)],zf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},$t=(t,e,n)=>{t.bi_valid>Fp-n?(t.bi_buf|=e<<t.bi_valid&65535,zf(t,t.bi_buf),t.bi_buf=e>>Fp-t.bi_valid,t.bi_valid+=n-Fp):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},ur=(t,e,n)=>{$t(t,n[e*2],n[e*2+1])},K2=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},bN=t=>{t.bi_valid===16?(zf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},yN=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let f,l,c,h,d,p,b=0;for(h=0;h<=As;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<$2;f++)l=t.heap[f],h=n[n[l*2+1]*2+1]+1,h>u&&(h=u,b++),n[l*2+1]=h,!(l>r)&&(t.bl_count[h]++,d=0,l>=a&&(d=o[l-a]),p=n[l*2],t.opt_len+=p*(h+d),s&&(t.static_len+=p*(i[l*2+1]+d)));if(b!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(h=u;h!==0;h--)for(l=t.bl_count[h];l!==0;)c=t.heap[--f],!(c>r)&&(n[c*2+1]!==h&&(t.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),l--)}},J2=(t,e,n)=>{const r=new Array(As+1);let i=0,s,o;for(s=1;s<=As;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=K2(r[a]++,a))}},wN=()=>{let t,e,n,r,i;const s=new Array(As+1);for(n=0,r=0;r<Cp-1;r++)for(Bp[r]=n,t=0;t<1<<Dp[r];t++)Of[n++]=r;for(Of[n-1]=r,i=0,r=0;r<16;r++)for(Ac[r]=i,t=0;t<1<<vc[r];t++)Lf[i++]=r;for(i>>=7;r<Fo;r++)for(Ac[r]=i<<7,t=0;t<1<<vc[r]-7;t++)Lf[256+i++]=r;for(e=0;e<=As;e++)s[e]=0;for(t=0;t<=143;)Br[t*2+1]=8,t++,s[8]++;for(;t<=255;)Br[t*2+1]=9,t++,s[9]++;for(;t<=279;)Br[t*2+1]=7,t++,s[7]++;for(;t<=287;)Br[t*2+1]=8,t++,s[8]++;for(J2(Br,Pf+1,s),t=0;t<Fo;t++)Nf[t*2+1]=5,Nf[t*2]=K2(t,5);W2=new kp(Br,Dp,Mf+1,Pf,As),Y2=new kp(Nf,vc,0,Fo,As),Q2=new kp(new Array(0),gN,0,Tp,pN)},eA=t=>{let e;for(e=0;e<Pf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Fo;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Tp;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Ip*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},tA=t=>{t.bi_valid>8?zf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},nA=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},Mp=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&nA(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!nA(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},rA=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?ur(t,i,e):(o=Of[i],ur(t,o+Mf+1,e),a=Dp[o],a!==0&&(i-=Bp[o],$t(t,i,a)),r--,o=X2(r),ur(t,o,n),a=vc[o],a!==0&&(r-=Ac[o],$t(t,r,a)));while(s<t.sym_next);ur(t,Ip,e)},Pp=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u=-1,f;for(t.heap_len=0,t.heap_max=$2,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=u<2?++u:0,n[f*2]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=r[f*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)Mp(t,n,o);f=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Mp(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[f*2]=n[o*2]+n[a*2],t.depth[f]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=f,t.heap[1]=f++,Mp(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],yN(t,e),J2(n,u,t.bl_count)},iA=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,u=7,f=4;for(o===0&&(u=138,f=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<u&&s===o)&&(a<f?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[V2*2]++):a<=10?t.bl_tree[q2*2]++:t.bl_tree[j2*2]++,a=0,i=s,o===0?(u=138,f=3):s===o?(u=6,f=3):(u=7,f=4))},sA=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,u=7,f=4;for(o===0&&(u=138,f=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<u&&s===o)){if(a<f)do ur(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(ur(t,s,t.bl_tree),a--),ur(t,V2,t.bl_tree),$t(t,a-3,2)):a<=10?(ur(t,q2,t.bl_tree),$t(t,a-3,3)):(ur(t,j2,t.bl_tree),$t(t,a-11,7));a=0,i=s,o===0?(u=138,f=3):s===o?(u=6,f=3):(u=7,f=4)}},xN=t=>{let e;for(iA(t,t.dyn_ltree,t.l_desc.max_code),iA(t,t.dyn_dtree,t.d_desc.max_code),Pp(t,t.bl_desc),e=Tp-1;e>=3&&t.bl_tree[Z2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},vN=(t,e,n,r)=>{let i;for($t(t,e-257,5),$t(t,n-1,5),$t(t,r-4,4),i=0;i<r;i++)$t(t,t.bl_tree[Z2[i]*2+1],3);sA(t,t.dyn_ltree,e-1),sA(t,t.dyn_dtree,n-1)},AN=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return U2;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return G2;for(n=32;n<Mf;n++)if(t.dyn_ltree[n*2]!==0)return G2;return U2};let oA=!1;const EN=t=>{oA||(wN(),oA=!0),t.l_desc=new Rp(t.dyn_ltree,W2),t.d_desc=new Rp(t.dyn_dtree,Y2),t.bl_desc=new Rp(t.bl_tree,Q2),t.bi_buf=0,t.bi_valid=0,eA(t)},aA=(t,e,n,r)=>{$t(t,(lN<<1)+(r?1:0),3),tA(t),zf(t,n),zf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},_N=t=>{$t(t,H2<<1,3),ur(t,Ip,Br),bN(t)},SN=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===uN&&(t.strm.data_type=AN(t)),Pp(t,t.l_desc),Pp(t,t.d_desc),o=xN(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?aA(t,e,n,r):t.strategy===fN||s===i?($t(t,(H2<<1)+(r?1:0),3),rA(t,Br,Nf)):($t(t,(cN<<1)+(r?1:0),3),vN(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),rA(t,t.dyn_ltree,t.dyn_dtree)),eA(t),r&&tA(t)},CN=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Of[n]+Mf+1)*2]++,t.dyn_dtree[X2(e)*2]++),t.sym_next===t.sym_end);var TN=EN,FN=aA,IN=SN,DN=CN,BN=_N,kN={_tr_init:TN,_tr_stored_block:FN,_tr_flush_block:IN,_tr_tally:DN,_tr_align:BN},Uf=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};const RN=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},MN=new Uint32Array(RN());var gt=(t,e,n,r)=>{const i=MN,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1},Io={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:PN,_tr_stored_block:Np,_tr_flush_block:NN,_tr_tally:bi,_tr_align:LN}=kN,{Z_NO_FLUSH:yi,Z_PARTIAL_FLUSH:ON,Z_FULL_FLUSH:zN,Z_FINISH:mn,Z_BLOCK:fA,Z_OK:xt,Z_STREAM_END:uA,Z_STREAM_ERROR:lr,Z_DATA_ERROR:UN,Z_BUF_ERROR:Lp,Z_DEFAULT_COMPRESSION:GN,Z_FILTERED:HN,Z_HUFFMAN_ONLY:Ec,Z_RLE:$N,Z_FIXED:VN,Z_DEFAULT_STRATEGY:qN,Z_UNKNOWN:jN,Z_DEFLATED:_c}=Gf,ZN=9,WN=15,YN=8,QN=29,Op=256+1+QN,XN=30,KN=19,JN=2*Op+1,eL=15,ge=3,wi=258,cr=wi+ge+1,tL=32,Do=42,zp=57,Up=69,Gp=73,Hp=91,$p=103,Es=113,Hf=666,Rt=1,Bo=2,_s=3,ko=4,nL=3,Ss=(t,e)=>(t.msg=Io[e],e),lA=t=>t*2-(t>4?9:0),xi=t=>{let e=t.length;for(;--e>=0;)t[e]=0},rL=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let vi=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const nn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},rn=(t,e)=>{NN(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,nn(t.strm)},Se=(t,e)=>{t.pending_buf[t.pending++]=e},$f=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Vp=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Uf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=gt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},cA=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-cr?t.strstart-(t.w_size-cr):0,f=t.window,l=t.w_mask,c=t.prev,h=t.strstart+wi;let d=f[r+o-1],p=f[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(f[i+o]!==p||f[i+o-1]!==d||f[i]!==f[r]||f[++i]!==f[r+1])){r+=2,i++;do;while(f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&f[++r]===f[++i]&&r<h);if(s=wi-(h-r),r=h-wi,s>o){if(t.match_start=e,o=s,s>=a)break;d=f[r+o-1],p=f[r+o]}}while((e=c[e&l])>u&&--n!==0);return o<=t.lookahead?o:t.lookahead},Ro=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-cr)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),rL(t),r+=e),t.strm.avail_in===0)break;if(n=Vp(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=ge)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=vi(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=vi(t,t.ins_h,t.window[i+ge-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ge)););}while(t.lookahead<cr&&t.strm.avail_in!==0)},hA=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==mn||e===yi||r!==i+t.strm.avail_in)))break;o=e===mn&&r===i+t.strm.avail_in?1:0,Np(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,nn(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Vp(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?ko:e!==yi&&e!==mn&&t.strm.avail_in===0&&t.strstart===t.block_start?Bo:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(Vp(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===mn)&&e!==yi&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===mn&&t.strm.avail_in===0&&r===i?1:0,Np(t,t.block_start,r,o),t.block_start+=r,nn(t.strm)),o?_s:Rt)},qp=(t,e)=>{let n,r;for(;;){if(t.lookahead<cr){if(Ro(t),t.lookahead<cr&&e===yi)return Rt;if(t.lookahead===0)break}if(n=0,t.lookahead>=ge&&(t.ins_h=vi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-cr&&(t.match_length=cA(t,n)),t.match_length>=ge)if(r=bi(t,t.strstart-t.match_start,t.match_length-ge),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ge){t.match_length--;do t.strstart++,t.ins_h=vi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=vi(t,t.ins_h,t.window[t.strstart+1]);else r=bi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(rn(t,!1),t.strm.avail_out===0))return Rt}return t.insert=t.strstart<ge-1?t.strstart:ge-1,e===mn?(rn(t,!0),t.strm.avail_out===0?_s:ko):t.sym_next&&(rn(t,!1),t.strm.avail_out===0)?Rt:Bo},Mo=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<cr){if(Ro(t),t.lookahead<cr&&e===yi)return Rt;if(t.lookahead===0)break}if(n=0,t.lookahead>=ge&&(t.ins_h=vi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ge-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-cr&&(t.match_length=cA(t,n),t.match_length<=5&&(t.strategy===HN||t.match_length===ge&&t.strstart-t.match_start>4096)&&(t.match_length=ge-1)),t.prev_length>=ge&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ge,r=bi(t,t.strstart-1-t.prev_match,t.prev_length-ge),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=vi(t,t.ins_h,t.window[t.strstart+ge-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ge-1,t.strstart++,r&&(rn(t,!1),t.strm.avail_out===0))return Rt}else if(t.match_available){if(r=bi(t,0,t.window[t.strstart-1]),r&&rn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Rt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=bi(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ge-1?t.strstart:ge-1,e===mn?(rn(t,!0),t.strm.avail_out===0?_s:ko):t.sym_next&&(rn(t,!1),t.strm.avail_out===0)?Rt:Bo},iL=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=wi){if(Ro(t),t.lookahead<=wi&&e===yi)return Rt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ge&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+wi;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=wi-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ge?(n=bi(t,1,t.match_length-ge),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=bi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(rn(t,!1),t.strm.avail_out===0))return Rt}return t.insert=0,e===mn?(rn(t,!0),t.strm.avail_out===0?_s:ko):t.sym_next&&(rn(t,!1),t.strm.avail_out===0)?Rt:Bo},sL=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Ro(t),t.lookahead===0)){if(e===yi)return Rt;break}if(t.match_length=0,n=bi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(rn(t,!1),t.strm.avail_out===0))return Rt}return t.insert=0,e===mn?(rn(t,!0),t.strm.avail_out===0?_s:ko):t.sym_next&&(rn(t,!1),t.strm.avail_out===0)?Rt:Bo};function hr(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Vf=[new hr(0,0,0,0,hA),new hr(4,4,8,4,qp),new hr(4,5,16,8,qp),new hr(4,6,32,32,qp),new hr(4,4,16,16,Mo),new hr(8,16,32,32,Mo),new hr(8,16,128,128,Mo),new hr(8,32,128,256,Mo),new hr(32,128,258,1024,Mo),new hr(32,258,258,4096,Mo)],oL=t=>{t.window_size=2*t.w_size,xi(t.head),t.max_lazy_match=Vf[t.level].max_lazy,t.good_match=Vf[t.level].good_length,t.nice_match=Vf[t.level].nice_length,t.max_chain_length=Vf[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ge-1,t.match_available=0,t.ins_h=0};function aL(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_c,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(JN*2),this.dyn_dtree=new Uint16Array((2*XN+1)*2),this.bl_tree=new Uint16Array((2*KN+1)*2),xi(this.dyn_ltree),xi(this.dyn_dtree),xi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(eL+1),this.heap=new Uint16Array(2*Op+1),xi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Op+1),xi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const qf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Do&&e.status!==zp&&e.status!==Up&&e.status!==Gp&&e.status!==Hp&&e.status!==$p&&e.status!==Es&&e.status!==Hf?1:0},dA=t=>{if(qf(t))return Ss(t,lr);t.total_in=t.total_out=0,t.data_type=jN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?zp:e.wrap?Do:Es,t.adler=e.wrap===2?0:1,e.last_flush=-2,PN(e),xt},pA=t=>{const e=dA(t);return e===xt&&oL(t.state),e},fL=(t,e)=>qf(t)||t.state.wrap!==2?lr:(t.state.gzhead=e,xt),gA=(t,e,n,r,i,s)=>{if(!t)return lr;let o=1;if(e===GN&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>ZN||n!==_c||r<8||r>15||e<0||e>9||s<0||s>VN||r===8&&o!==1)return Ss(t,lr);r===8&&(r=9);const a=new aL;return t.state=a,a.strm=t,a.status=Do,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ge-1)/ge),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,pA(t)},uL=(t,e)=>gA(t,e,_c,WN,YN,qN),lL=(t,e)=>{if(qf(t)||e>fA||e<0)return t?Ss(t,lr):lr;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Hf&&e!==mn)return Ss(t,t.avail_out===0?Lp:lr);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(nn(t),t.avail_out===0)return n.last_flush=-1,xt}else if(t.avail_in===0&&lA(e)<=lA(r)&&e!==mn)return Ss(t,Lp);if(n.status===Hf&&t.avail_in!==0)return Ss(t,Lp);if(n.status===Do&&n.wrap===0&&(n.status=Es),n.status===Do){let i=_c+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Ec||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=tL),i+=31-i%31,$f(n,i),n.strstart!==0&&($f(n,t.adler>>>16),$f(n,t.adler&65535)),t.adler=1,n.status=Es,nn(t),n.pending!==0)return n.last_flush=-1,xt}if(n.status===zp){if(t.adler=0,Se(n,31),Se(n,139),Se(n,8),n.gzhead)Se(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Se(n,n.gzhead.time&255),Se(n,n.gzhead.time>>8&255),Se(n,n.gzhead.time>>16&255),Se(n,n.gzhead.time>>24&255),Se(n,n.level===9?2:n.strategy>=Ec||n.level<2?4:0),Se(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Se(n,n.gzhead.extra.length&255),Se(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=gt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Up;else if(Se(n,0),Se(n,0),Se(n,0),Se(n,0),Se(n,0),Se(n,n.level===9?2:n.strategy>=Ec||n.level<2?4:0),Se(n,nL),n.status=Es,nn(t),n.pending!==0)return n.last_flush=-1,xt}if(n.status===Up){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,nn(t),n.pending!==0)return n.last_flush=-1,xt;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Gp}if(n.status===Gp){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i)),nn(t),n.pending!==0)return n.last_flush=-1,xt;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Se(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Hp}if(n.status===Hp){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i)),nn(t),n.pending!==0)return n.last_flush=-1,xt;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Se(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=gt(t.adler,n.pending_buf,n.pending-i,i))}n.status=$p}if(n.status===$p){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nn(t),n.pending!==0))return n.last_flush=-1,xt;Se(n,t.adler&255),Se(n,t.adler>>8&255),t.adler=0}if(n.status=Es,nn(t),n.pending!==0)return n.last_flush=-1,xt}if(t.avail_in!==0||n.lookahead!==0||e!==yi&&n.status!==Hf){let i=n.level===0?hA(n,e):n.strategy===Ec?sL(n,e):n.strategy===$N?iL(n,e):Vf[n.level].func(n,e);if((i===_s||i===ko)&&(n.status=Hf),i===Rt||i===_s)return t.avail_out===0&&(n.last_flush=-1),xt;if(i===Bo&&(e===ON?LN(n):e!==fA&&(Np(n,0,0,!1),e===zN&&(xi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),nn(t),t.avail_out===0))return n.last_flush=-1,xt}return e!==mn?xt:n.wrap<=0?uA:(n.wrap===2?(Se(n,t.adler&255),Se(n,t.adler>>8&255),Se(n,t.adler>>16&255),Se(n,t.adler>>24&255),Se(n,t.total_in&255),Se(n,t.total_in>>8&255),Se(n,t.total_in>>16&255),Se(n,t.total_in>>24&255)):($f(n,t.adler>>>16),$f(n,t.adler&65535)),nn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xt:uA)},cL=t=>{if(qf(t))return lr;const e=t.state.status;return t.state=null,e===Es?Ss(t,UN):xt},hL=(t,e)=>{let n=e.length;if(qf(t))return lr;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Do||r.lookahead)return lr;if(i===1&&(t.adler=Uf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(xi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(e.subarray(n-r.w_size,n),0),e=u,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ro(r);r.lookahead>=ge;){let u=r.strstart,f=r.lookahead-(ge-1);do r.ins_h=vi(r,r.ins_h,r.window[u+ge-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--f);r.strstart=u,r.lookahead=ge-1,Ro(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ge-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,xt};var dL=uL,pL=gA,gL=pA,mL=dA,bL=fL,yL=lL,wL=cL,xL=hL,vL="pako deflate (from Nodeca project)",jf={deflateInit:dL,deflateInit2:pL,deflateReset:gL,deflateResetKeep:mL,deflateSetHeader:bL,deflate:yL,deflateEnd:wL,deflateSetDictionary:xL,deflateInfo:vL};const AL=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var EL=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)AL(n,r)&&(t[r]=n[r])}}return t},_L=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},Sc={assign:EL,flattenChunks:_L};let mA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mA=!1}const Zf=new Uint8Array(256);for(let t=0;t<256;t++)Zf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Zf[254]=Zf[254]=1;var SL=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const CL=(t,e)=>{if(e<65534&&t.subarray&&mA)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var TL=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Zf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return CL(s,i)},FL=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Zf[t[n]]>e?n:e},Wf={string2buf:SL,buf2string:TL,utf8border:FL};function IL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bA=IL;const yA=Object.prototype.toString,{Z_NO_FLUSH:DL,Z_SYNC_FLUSH:BL,Z_FULL_FLUSH:kL,Z_FINISH:RL,Z_OK:Cc,Z_STREAM_END:ML,Z_DEFAULT_COMPRESSION:PL,Z_DEFAULT_STRATEGY:NL,Z_DEFLATED:LL}=Gf;function jp(t){this.options=Sc.assign({level:PL,method:LL,chunkSize:16384,windowBits:15,memLevel:8,strategy:NL},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bA,this.strm.avail_out=0;let n=jf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Cc)throw new Error(Io[n]);if(e.header&&jf.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Wf.string2buf(e.dictionary):yA.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=jf.deflateSetDictionary(this.strm,r),n!==Cc)throw new Error(Io[n]);this._dict_set=!0}}jp.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?RL:DL,typeof t=="string"?n.input=Wf.string2buf(t):yA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===BL||s===kL)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=jf.deflate(n,s),i===ML)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=jf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Cc;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},jp.prototype.onData=function(t){this.chunks.push(t)},jp.prototype.onEnd=function(t){t===Cc&&(this.result=Sc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Tc=16209,OL=16191;var zL=function(e,n){let r,i,s,o,a,u,f,l,c,h,d,p,b,y,w,E,S,T,D,B,I,N,C,M;const P=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),s=e.next_out,M=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),u=P.dmax,f=P.wsize,l=P.whave,c=P.wnext,h=P.window,d=P.hold,p=P.bits,b=P.lencode,y=P.distcode,w=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),S=b[d&w];t:for(;;){if(T=S>>>24,d>>>=T,p-=T,T=S>>>16&255,T===0)M[s++]=S&65535;else if(T&16){D=S&65535,T&=15,T&&(p<T&&(d+=C[r++]<<p,p+=8),D+=d&(1<<T)-1,d>>>=T,p-=T),p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),S=y[d&E];n:for(;;){if(T=S>>>24,d>>>=T,p-=T,T=S>>>16&255,T&16){if(B=S&65535,T&=15,p<T&&(d+=C[r++]<<p,p+=8,p<T&&(d+=C[r++]<<p,p+=8)),B+=d&(1<<T)-1,B>u){e.msg="invalid distance too far back",P.mode=Tc;break e}if(d>>>=T,p-=T,T=s-o,B>T){if(T=B-T,T>l&&P.sane){e.msg="invalid distance too far back",P.mode=Tc;break e}if(I=0,N=h,c===0){if(I+=f-T,T<D){D-=T;do M[s++]=h[I++];while(--T);I=s-B,N=M}}else if(c<T){if(I+=f+c-T,T-=c,T<D){D-=T;do M[s++]=h[I++];while(--T);if(I=0,c<D){T=c,D-=T;do M[s++]=h[I++];while(--T);I=s-B,N=M}}}else if(I+=c-T,T<D){D-=T;do M[s++]=h[I++];while(--T);I=s-B,N=M}for(;D>2;)M[s++]=N[I++],M[s++]=N[I++],M[s++]=N[I++],D-=3;D&&(M[s++]=N[I++],D>1&&(M[s++]=N[I++]))}else{I=s-B;do M[s++]=M[I++],M[s++]=M[I++],M[s++]=M[I++],D-=3;while(D>2);D&&(M[s++]=M[I++],D>1&&(M[s++]=M[I++]))}}else if(T&64){e.msg="invalid distance code",P.mode=Tc;break e}else{S=y[(S&65535)+(d&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){P.mode=OL;break e}else{e.msg="invalid literal/length code",P.mode=Tc;break e}else{S=b[(S&65535)+(d&(1<<T)-1)];continue t}break}}while(r<i&&s<a);D=p>>3,r-=D,p-=D<<3,d&=(1<<p)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),P.hold=d,P.bits=p};const Po=15,wA=852,xA=592,vA=0,Zp=1,AA=2,UL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),GL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),HL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$L=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Yf=(t,e,n,r,i,s,o,a)=>{const u=a.bits;let f=0,l=0,c=0,h=0,d=0,p=0,b=0,y=0,w=0,E=0,S,T,D,B,I,N=null,C;const M=new Uint16Array(Po+1),P=new Uint16Array(Po+1);let ee=null,ne,J,me;for(f=0;f<=Po;f++)M[f]=0;for(l=0;l<r;l++)M[e[n+l]]++;for(d=u,h=Po;h>=1&&M[h]===0;h--);if(d>h&&(d=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(c=1;c<h&&M[c]===0;c++);for(d<c&&(d=c),y=1,f=1;f<=Po;f++)if(y<<=1,y-=M[f],y<0)return-1;if(y>0&&(t===vA||h!==1))return-1;for(P[1]=0,f=1;f<Po;f++)P[f+1]=P[f]+M[f];for(l=0;l<r;l++)e[n+l]!==0&&(o[P[e[n+l]]++]=l);if(t===vA?(N=ee=o,C=20):t===Zp?(N=UL,ee=GL,C=257):(N=HL,ee=$L,C=0),E=0,l=0,f=c,I=s,p=d,b=0,D=-1,w=1<<d,B=w-1,t===Zp&&w>wA||t===AA&&w>xA)return 1;for(;;){ne=f-b,o[l]+1<C?(J=0,me=o[l]):o[l]>=C?(J=ee[o[l]-C],me=N[o[l]-C]):(J=32+64,me=0),S=1<<f-b,T=1<<p,c=T;do T-=S,i[I+(E>>b)+T]=ne<<24|J<<16|me|0;while(T!==0);for(S=1<<f-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,l++,--M[f]===0){if(f===h)break;f=e[n+o[l]]}if(f>d&&(E&B)!==D){for(b===0&&(b=d),I+=c,p=f-b,y=1<<p;p+b<h&&(y-=M[p+b],!(y<=0));)p++,y<<=1;if(w+=1<<p,t===Zp&&w>wA||t===AA&&w>xA)return 1;D=E&B,i[D]=d<<24|p<<16|I-s|0}}return E!==0&&(i[I+E]=f-b<<24|64<<16|0),a.bits=d,0};const VL=0,EA=1,_A=2,{Z_FINISH:SA,Z_BLOCK:qL,Z_TREES:Fc,Z_OK:Cs,Z_STREAM_END:jL,Z_NEED_DICT:ZL,Z_STREAM_ERROR:bn,Z_DATA_ERROR:CA,Z_MEM_ERROR:TA,Z_BUF_ERROR:WL,Z_DEFLATED:FA}=Gf,Ic=16180,IA=16181,DA=16182,BA=16183,kA=16184,RA=16185,MA=16186,PA=16187,NA=16188,LA=16189,Dc=16190,kr=16191,Wp=16192,OA=16193,Yp=16194,zA=16195,UA=16196,GA=16197,HA=16198,Bc=16199,kc=16200,$A=16201,VA=16202,qA=16203,jA=16204,ZA=16205,Qp=16206,WA=16207,YA=16208,Ze=16209,QA=16210,XA=16211,YL=852,QL=592,XL=15,KA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function KL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ts=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ic||e.mode>XA?1:0},JA=t=>{if(Ts(t))return bn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ic,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(YL),e.distcode=e.distdyn=new Int32Array(QL),e.sane=1,e.back=-1,Cs},eE=t=>{if(Ts(t))return bn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,JA(t)},tE=(t,e)=>{let n;if(Ts(t))return bn;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?bn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,eE(t))},nE=(t,e)=>{if(!t)return bn;const n=new KL;t.state=n,n.strm=t,n.window=null,n.mode=Ic;const r=tE(t,e);return r!==Cs&&(t.state=null),r},JL=t=>nE(t,XL);let rE=!0,Xp,Kp;const e9=t=>{if(rE){Xp=new Int32Array(512),Kp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yf(EA,t.lens,0,288,Xp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yf(_A,t.lens,0,32,Kp,0,t.work,{bits:5}),rE=!1}t.lencode=Xp,t.lenbits=9,t.distcode=Kp,t.distbits=5},iE=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},t9=(t,e)=>{let n,r,i,s,o,a,u,f,l,c,h,d,p,b,y=0,w,E,S,T,D,B,I,N;const C=new Uint8Array(4);let M,P;const ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ts(t)||!t.output||!t.input&&t.avail_in!==0)return bn;n=t.state,n.mode===kr&&(n.mode=Wp),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,c=a,h=u,N=Cs;e:for(;;)switch(n.mode){case Ic:if(n.wrap===0){n.mode=Wp;break}for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=gt(n.check,C,2,0),f=0,l=0,n.mode=IA;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=Ze;break}if((f&15)!==FA){t.msg="unknown compression method",n.mode=Ze;break}if(f>>>=4,l-=4,I=(f&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=Ze;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?LA:kr,f=0,l=0;break;case IA:for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.flags=f,(n.flags&255)!==FA){t.msg="unknown compression method",n.mode=Ze;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ze;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=gt(n.check,C,2,0)),f=0,l=0,n.mode=DA;case DA:for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=gt(n.check,C,4,0)),f=0,l=0,n.mode=BA;case BA:for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=gt(n.check,C,2,0)),f=0,l=0,n.mode=kA;case kA:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=gt(n.check,C,2,0)),f=0,l=0}else n.head&&(n.head.extra=null);n.mode=RA;case RA:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+d),I)),n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=MA;case MA:if(n.flags&2048){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=PA;case PA:if(n.flags&4096){if(a===0)break e;d=0;do I=r[s+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,d,s)),a-=d,s+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=NA;case NA:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ze;break}f=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=kr;break;case LA:for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}t.adler=n.check=KA(f),f=0,l=0,n.mode=Dc;case Dc:if(n.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,ZL;t.adler=n.check=1,n.mode=kr;case kr:if(e===qL||e===Fc)break e;case Wp:if(n.last){f>>>=l&7,l-=l&7,n.mode=Qp;break}for(;l<3;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}switch(n.last=f&1,f>>>=1,l-=1,f&3){case 0:n.mode=OA;break;case 1:if(e9(n),n.mode=Bc,e===Fc){f>>>=2,l-=2;break e}break;case 2:n.mode=UA;break;case 3:t.msg="invalid block type",n.mode=Ze}f>>>=2,l-=2;break;case OA:for(f>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ze;break}if(n.length=f&65535,f=0,l=0,n.mode=Yp,e===Fc)break e;case Yp:n.mode=zA;case zA:if(d=n.length,d){if(d>a&&(d=a),d>u&&(d=u),d===0)break e;i.set(r.subarray(s,s+d),o),a-=d,s+=d,u-=d,o+=d,n.length-=d;break}n.mode=kr;break;case UA:for(;l<14;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.nlen=(f&31)+257,f>>>=5,l-=5,n.ndist=(f&31)+1,f>>>=5,l-=5,n.ncode=(f&15)+4,f>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ze;break}n.have=0,n.mode=GA;case GA:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.lens[ee[n.have++]]=f&7,f>>>=3,l-=3}for(;n.have<19;)n.lens[ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},N=Yf(VL,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid code lengths set",n.mode=Ze;break}n.have=0,n.mode=HA;case HA:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(S<16)f>>>=w,l-=w,n.lens[n.have++]=S;else{if(S===16){for(P=w+2;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(f>>>=w,l-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Ze;break}I=n.lens[n.have-1],d=3+(f&3),f>>>=2,l-=2}else if(S===17){for(P=w+3;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=w,l-=w,I=0,d=3+(f&7),f>>>=3,l-=3}else{for(P=w+7;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=w,l-=w,I=0,d=11+(f&127),f>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ze;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===Ze)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ze;break}if(n.lenbits=9,M={bits:n.lenbits},N=Yf(EA,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid literal/lengths set",n.mode=Ze;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},N=Yf(_A,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,N){t.msg="invalid distances set",n.mode=Ze;break}if(n.mode=Bc,e===Fc)break e;case Bc:n.mode=kc;case kc:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,zL(t,h),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,f=n.hold,l=n.bits,n.mode===kr&&(n.back=-1);break}for(n.back=0;y=n.lencode[f&(1<<n.lenbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(E&&!(E&240)){for(T=w,D=E,B=S;y=n.lencode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,n.length=S,E===0){n.mode=ZA;break}if(E&32){n.back=-1,n.mode=kr;break}if(E&64){t.msg="invalid literal/length code",n.mode=Ze;break}n.extra=E&15,n.mode=$A;case $A:if(n.extra){for(P=n.extra;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=VA;case VA:for(;y=n.distcode[f&(1<<n.distbits)-1],w=y>>>24,E=y>>>16&255,S=y&65535,!(w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(!(E&240)){for(T=w,D=E,B=S;y=n.distcode[B+((f&(1<<T+D)-1)>>T)],w=y>>>24,E=y>>>16&255,S=y&65535,!(T+w<=l);){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}f>>>=T,l-=T,n.back+=T}if(f>>>=w,l-=w,n.back+=w,E&64){t.msg="invalid distance code",n.mode=Ze;break}n.offset=S,n.extra=E&15,n.mode=qA;case qA:if(n.extra){for(P=n.extra;l<P;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ze;break}n.mode=jA;case jA:if(u===0)break e;if(d=h-u,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ze;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=o-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do i[o++]=b[p++];while(--d);n.length===0&&(n.mode=kc);break;case ZA:if(u===0)break e;i[o++]=n.length,u--,n.mode=kc;break;case Qp:if(n.wrap){for(;l<32;){if(a===0)break e;a--,f|=r[s++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?gt(n.check,i,h,o-h):Uf(n.check,i,h,o-h)),h=u,n.wrap&4&&(n.flags?f:KA(f))!==n.check){t.msg="incorrect data check",n.mode=Ze;break}f=0,l=0}n.mode=WA;case WA:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,f+=r[s++]<<l,l+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ze;break}f=0,l=0}n.mode=YA;case YA:N=jL;break e;case Ze:N=CA;break e;case QA:return TA;case XA:default:return bn}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=f,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<Ze&&(n.mode<Qp||e!==SA))&&iE(t,t.output,t.next_out,h-t.avail_out),c-=t.avail_in,h-=t.avail_out,t.total_in+=c,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?gt(n.check,i,h,t.next_out-h):Uf(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===kr?128:0)+(n.mode===Bc||n.mode===Yp?256:0),(c===0&&h===0||e===SA)&&N===Cs&&(N=WL),N},n9=t=>{if(Ts(t))return bn;let e=t.state;return e.window&&(e.window=null),t.state=null,Cs},r9=(t,e)=>{if(Ts(t))return bn;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Cs):bn},i9=(t,e)=>{const n=e.length;let r,i,s;return Ts(t)||(r=t.state,r.wrap!==0&&r.mode!==Dc)?bn:r.mode===Dc&&(i=1,i=Uf(i,e,n,0),i!==r.check)?CA:(s=iE(t,e,n,n),s?(r.mode=QA,TA):(r.havedict=1,Cs))};var s9=eE,o9=tE,a9=JA,f9=JL,u9=nE,l9=t9,c9=n9,h9=r9,d9=i9,p9="pako inflate (from Nodeca project)",Rr={inflateReset:s9,inflateReset2:o9,inflateResetKeep:a9,inflateInit:f9,inflateInit2:u9,inflate:l9,inflateEnd:c9,inflateGetHeader:h9,inflateSetDictionary:d9,inflateInfo:p9};function g9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var m9=g9;const sE=Object.prototype.toString,{Z_NO_FLUSH:b9,Z_FINISH:y9,Z_OK:Qf,Z_STREAM_END:Jp,Z_NEED_DICT:eg,Z_STREAM_ERROR:w9,Z_DATA_ERROR:oE,Z_MEM_ERROR:x9}=Gf;function Xf(t){this.options=Sc.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bA,this.strm.avail_out=0;let n=Rr.inflateInit2(this.strm,e.windowBits);if(n!==Qf)throw new Error(Io[n]);if(this.header=new m9,Rr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Wf.string2buf(e.dictionary):sE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Rr.inflateSetDictionary(this.strm,e.dictionary),n!==Qf)))throw new Error(Io[n])}Xf.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?y9:b9,sE.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Rr.inflate(n,o),s===eg&&i&&(s=Rr.inflateSetDictionary(n,i),s===Qf?s=Rr.inflate(n,o):s===oE&&(s=eg));n.avail_in>0&&s===Jp&&n.state.wrap>0&&t[n.next_in]!==0;)Rr.inflateReset(n),s=Rr.inflate(n,o);switch(s){case w9:case oE:case eg:case x9:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Jp))if(this.options.to==="string"){let u=Wf.utf8border(n.output,n.next_out),f=n.next_out-u,l=Wf.buf2string(n.output,u);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(u,u+f),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Qf&&a===0)){if(s===Jp)return s=Rr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},Xf.prototype.onData=function(t){this.chunks.push(t)},Xf.prototype.onEnd=function(t){t===Qf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sc.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tg(t,e){const n=new Xf(e);if(n.push(t),n.err)throw n.msg||Io[n.err];return n.result}function v9(t,e){return e=e||{},e.raw=!0,tg(t,e)}var A9=Xf,E9=tg,_9=v9,S9=tg,C9=Gf,T9={Inflate:A9,inflate:E9,inflateRaw:_9,ungzip:S9,constants:C9};const{Inflate:AG,inflate:EG,inflateRaw:F9,ungzip:_G}=T9;var I9=F9;function D9(t){return I9(t.subarray(2))}let B9=class extends Error{constructor(e){super(e),this.code="ERR_ABORTED"}};function k9(t){t.sort((i,s)=>Number(i.offset)-Number(s.offset));const e=[];let n,r;for(const i of t)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):e.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return e}function Rc(t){if(t&&t.aborted)if(typeof DOMException>"u"){const e=new B9("aborted");throw e.code="ERR_ABORTED",e}else throw new DOMException("aborted","AbortError")}const R9=1,M9=2,P9=3;function ng(t,e,n,r){return t<r&&e>=n}function N9(t){const e=t?"big":"little",n=new Ie().endianess(e).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new Ie().endianess(e).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Ie().endianess(e).array("blocksToFetch",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Ie().array("recurOffsets",{length:"cnt",type:new Ie().endianess(e).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new Ie().endianess(e).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Ie().endianess(e).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[P9]:new Ie().array("items",{length:"itemCount",type:new Ie().floatle("score")}),[M9]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").floatle("score")}),[R9]:new Ie().array("items",{length:"itemCount",type:new Ie().endianess(e).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class aE{constructor(e,n,r,i,s,o){if(this.bbi=e,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=s,this.blockType=o,this.featureCache=new xc({cache:new Sp({maxSize:1e3}),fill:async(u,f)=>{const l=Number(u.length),c=Number(u.offset),{buffer:h}=await this.bbi.read(yt.Buffer.alloc(l),0,l,c,{signal:f});return h}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const a=N9(i);this.leafParser=a.leafParser,this.bigBedParser=a.bigBedParser}async readWigData(e,n,r,i,s){try{const{refsByName:o,bbi:a,cirTreeOffset:u,isBigEndian:f}=this,l=o[e];l===void 0&&i.complete();const c={chrId:l,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=a.read(yt.Buffer.alloc(48),0,48,Number(u),s));const{buffer:h}=await this.cirTreePromise,d=f?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],b=0;const y=(T,D,B)=>{try{const I=T.subarray(D),N=this.leafParser.parse(I);if(N.blocksToFetch&&(p=p.concat(N.blocksToFetch.filter(C=>w(C)).map(C=>({offset:C.blockOffset,length:C.blockSize})))),N.recurOffsets){const C=N.recurOffsets.filter(M=>w(M)).map(M=>Number(M.blockOffset));C.length>0&&S(C,B+1)}}catch(I){i.error(I)}},w=T=>{const{startChrom:D,startBase:B,endChrom:I,endBase:N}=T;return(D<l||D===l&&B<=r)&&(I>l||I===l&&N>=n)},E=async(T,D,B)=>{try{const I=D.max()-D.min(),N=D.min(),C=await this.featureCache.get(`${I}_${N}`,{length:I,offset:N},s==null?void 0:s.signal);for(const M of T)D.contains(M)&&(y(C,M-N,B),b-=1,b===0&&this.readFeatures(i,p,{...s,request:c}))}catch(I){i.error(I)}},S=(T,D)=>{try{b+=T.length;const B=4+Number(d)*32;let I=new mi(T[0],T[0]+B);for(let N=1;N<T.length;N+=1){const C=new mi(T[N],T[N]+B);I=I.union(C)}I.getRanges().map(N=>E(T,N,D))}catch(B){i.error(B)}};return S([Number(u)+48],1)}catch(o){i.error(o)}}parseSummaryBlock(e,n,r){const i=[];let s=n;const o=new DataView(e.buffer,e.byteOffset,e.length);for(;s<e.byteLength;){const a=o.getUint32(s,!0);s+=4;const u=o.getUint32(s,!0);s+=4;const f=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);s+=4;const c=o.getFloat32(s,!0);s+=4;const h=o.getFloat32(s,!0);s+=4;const d=o.getFloat32(s,!0);s+=4,s+=4,(!r||a===r.chrId&&ng(u,f,r.start,r.end))&&i.push({start:u,end:f,maxScore:h,minScore:c,summary:!0,score:d/(l||1)})}return i}parseBigBedBlock(e,n,r,i){const s=[];let o=n;for(;o<e.byteLength;){const a=this.bigBedParser.parse(e.subarray(o));s.push({...a,uniqueId:`bb-${r+o}`}),o+=a.offset}return i?s.filter(a=>ng(a.start,a.end,i.start,i.end)):s}parseBigWigBlock(e,n,r){const i=e.subarray(n),s=new DataView(i.buffer,i.byteOffset,i.length);let o=0;o+=4;const a=s.getInt32(o,!0);o+=8;const u=s.getUint32(o,!0);o+=4;const f=s.getUint32(o,!0);o+=4;const l=s.getUint8(o);o+=2;const c=s.getUint16(o,!0);o+=2;const h=new Array(c);switch(l){case 1:{for(let d=0;d<c;d++){const p=s.getInt32(o,!0);o+=4;const b=s.getInt32(o,!0);o+=4;const y=s.getFloat32(o,!0);o+=4,h[d]={start:p,end:b,score:y}}break}case 2:{for(let d=0;d<c;d++){const p=s.getInt32(o,!0);o+=4;const b=s.getFloat32(o,!0);o+=4,h[d]={score:b,start:p,end:p+f}}break}case 3:{for(let d=0;d<c;d++){const p=s.getFloat32(o,!0);o+=4;const b=a+d*u;h[d]={score:p,start:b,end:b+f}}break}}return r?h.filter(d=>ng(d.start,d.end,r.start,r.end)):h}async readFeatures(e,n,r={}){try{const{blockType:i,isCompressed:s}=this,{signal:o,request:a}=r,u=k9(n);Rc(o),await Promise.all(u.map(async f=>{Rc(o);const{length:l,offset:c}=f,h=await this.featureCache.get(`${l}_${c}`,f,o);for(const d of f.blocks){Rc(o);let p=Number(d.offset)-Number(f.offset),b=h;switch(s&&(b=D9(h.subarray(p)),p=0),Rc(o),i){case"summary":{e.next(this.parseSummaryBlock(b,p,a));break}case"bigwig":{e.next(this.parseBigWigBlock(b,p,a));break}case"bigbed":{e.next(this.parseBigBedBlock(b,p,Number(d.offset)*256,a));break}default:console.warn(`Don't know what to do with ${i}`)}}})),e.complete()}catch(i){e.error(i)}}}var rg=function(t,e){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rg(t,e)};function ig(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function L9(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{f(r.next(l))}catch(c){o(c)}}function u(l){try{f(r.throw(l))}catch(c){o(c)}}function f(l){l.done?s(l.value):i(l.value).then(a,u)}f((r=r.apply(t,e||[])).next())})}function fE(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(l){return u([f,l])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(l){f=[6,l],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Kf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Pc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function O9(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(p,b){s.push([h,d,p,b])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){c(s[0][3],p)}}function u(h){h.value instanceof No?Promise.resolve(h.value.v).then(f,l):c(s[0][2],h)}function f(h){a("next",h)}function l(h){a("throw",h)}function c(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kf=="function"?Kf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(f){s({value:f,done:a})},o)}}function ut(t){return typeof t=="function"}function uE(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sg=uE(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function lE(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var og=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Kf(o),u=a.next();!u.done;u=a.next()){var f=u.value;f.remove(this)}}catch(b){e={error:b}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(ut(l))try{l()}catch(b){s=b instanceof sg?b.errors:[b]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=Kf(c),d=h.next();!d.done;d=h.next()){var p=d.value;try{hE(p)}catch(b){s=s??[],b instanceof sg?s=Pc(Pc([],Mc(s)),Mc(b.errors)):s.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new sg(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)hE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&lE(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&lE(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();og.EMPTY;function cE(t){return t instanceof og||t&&"closed"in t&&ut(t.remove)&&ut(t.add)&&ut(t.unsubscribe)}function hE(t){ut(t)?t():t.unsubscribe()}var dE={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ag={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ag.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Pc([t,e],Mc(n))):setTimeout.apply(void 0,Pc([t,e],Mc(n)))},clearTimeout:function(t){var e=ag.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function pE(t){ag.setTimeout(function(){throw t})}function gE(){}function U9(t){t()}var fg=function(t){ig(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,cE(n)&&n.add(r)):r.destination=V9,r}return e.create=function(n,r,i){return new Nc(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(og),G9=Function.prototype.bind;function ug(t,e){return G9.call(t,e)}var H9=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Lc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Lc(n)}},t}(),Nc=function(t){ig(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(ut(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&dE.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&ug(n.next,a),error:n.error&&ug(n.error,a),complete:n.complete&&ug(n.complete,a)}):o=n}return s.destination=new H9(o),s}return e}(fg);function Lc(t){pE(t)}function $9(t){throw t}var V9={closed:!0,next:gE,error:$9,complete:gE},lg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function mE(t){return t}function q9(t){return t.length===0?mE:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var yn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=Z9(e)?e:new Nc(e,n,r);return U9(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=bE(n),new n(function(i,s){var o=new Nc({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[lg]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return q9(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=bE(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function bE(t){var e;return(e=t??dE.Promise)!==null&&e!==void 0?e:Promise}function j9(t){return t&&ut(t.next)&&ut(t.error)&&ut(t.complete)}function Z9(t){return t&&t instanceof fg||j9(t)&&cE(t)}function W9(t){return ut(t==null?void 0:t.lift)}function Lo(t){return function(e){if(W9(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jf(t,e,n,r,i){return new Y9(t,e,n,r,i)}var Y9=function(t){ig(e,t);function e(n,r,i,s,o,a){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=r?function(f){try{r(f)}catch(l){n.error(l)}}:t.prototype._next,u._error=s?function(f){try{s(f)}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(fg),Q9=new yn(function(t){return t.complete()});function X9(t){return t&&ut(t.schedule)}function yE(t){return t[t.length-1]}function K9(t){return X9(yE(t))?t.pop():void 0}function J9(t,e){return typeof yE(t)=="number"?t.pop():e}var wE=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function xE(t){return ut(t==null?void 0:t.then)}function vE(t){return ut(t[lg])}function AE(t){return Symbol.asyncIterator&&ut(t==null?void 0:t[Symbol.asyncIterator])}function EE(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function eO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _E=eO();function SE(t){return ut(t==null?void 0:t[_E])}function CE(t){return O9(this,arguments,function(){var n,r,i,s;return fE(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,No(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,No(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,No(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function TE(t){return ut(t==null?void 0:t.getReader)}function Oo(t){if(t instanceof yn)return t;if(t!=null){if(vE(t))return tO(t);if(wE(t))return nO(t);if(xE(t))return rO(t);if(AE(t))return FE(t);if(SE(t))return iO(t);if(TE(t))return sO(t)}throw EE(t)}function tO(t){return new yn(function(e){var n=t[lg]();if(ut(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nO(t){return new yn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rO(t){return new yn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,pE)})}function iO(t){return new yn(function(e){var n,r;try{for(var i=Kf(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function FE(t){return new yn(function(e){oO(t,e).catch(function(n){return e.error(n)})})}function sO(t){return FE(CE(t))}function oO(t,e){var n,r,i,s;return L9(this,void 0,void 0,function(){var o,a;return fE(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=z9(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Ai(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function IE(t,e){return e===void 0&&(e=0),Lo(function(n,r){n.subscribe(Jf(r,function(i){return Ai(r,t,function(){return r.next(i)},e)},function(){return Ai(r,t,function(){return r.complete()},e)},function(i){return Ai(r,t,function(){return r.error(i)},e)}))})}function DE(t,e){return e===void 0&&(e=0),Lo(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function aO(t,e){return Oo(t).pipe(DE(e),IE(e))}function fO(t,e){return Oo(t).pipe(DE(e),IE(e))}function uO(t,e){return new yn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lO(t,e){return new yn(function(n){var r;return Ai(n,e,function(){r=t[_E](),Ai(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ut(r==null?void 0:r.return)&&r.return()}})}function BE(t,e){if(!t)throw new Error("Iterable cannot be null");return new yn(function(n){Ai(n,e,function(){var r=t[Symbol.asyncIterator]();Ai(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function cO(t,e){return BE(CE(t),e)}function hO(t,e){if(t!=null){if(vE(t))return aO(t,e);if(wE(t))return uO(t,e);if(xE(t))return fO(t,e);if(AE(t))return BE(t,e);if(SE(t))return lO(t,e);if(TE(t))return cO(t,e)}throw EE(t)}function dO(t,e){return e?hO(t,e):Oo(t)}var pO=uE(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function kE(t,e){var n=typeof e=="object";return new Promise(function(r,i){var s=new Nc({next:function(o){r(o),s.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new pO)}});t.subscribe(s)})}function RE(t,e){return Lo(function(n,r){var i=0;n.subscribe(Jf(r,function(s){r.next(t.call(e,s,i++))}))})}function gO(t,e,n,r,i,s,o,a){var u=[],f=0,l=0,c=!1,h=function(){c&&!u.length&&!f&&e.complete()},d=function(b){return f<r?p(b):u.push(b)},p=function(b){s&&e.next(b),f++;var y=!1;Oo(n(b,l++)).subscribe(Jf(e,function(w){i==null||i(w),s?d(w):e.next(w)},function(){y=!0},void 0,function(){if(y)try{f--;for(var w=function(){var E=u.shift();o?Ai(e,o,function(){return p(E)}):p(E)};u.length&&f<r;)w();h()}catch(E){e.error(E)}}))};return t.subscribe(Jf(e,d,function(){c=!0,h()})),function(){a==null||a()}}function ME(t,e,n){return n===void 0&&(n=1/0),ut(e)?ME(function(r,i){return RE(function(s,o){return e(r,s,i,o)})(Oo(t(r,i)))},n):(typeof e=="number"&&(n=e),Lo(function(r,i){return gO(r,i,t,n)}))}function mO(t){return t===void 0&&(t=1/0),ME(mE,t)}function bO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=K9(t),r=J9(t,1/0),i=t;return i.length?i.length===1?Oo(i[0]):mO(r)(dO(i,n)):Q9}function yO(t,e,n,r,i){return function(s,o){var a=n,u=e,f=0;s.subscribe(Jf(o,function(l){var c=f++;u=a?t(u,l,c):(a=!0,l),r&&o.next(u)},i&&function(){a&&o.next(u),o.complete()}))}}function PE(t,e){return Lo(yO(t,e,arguments.length>=2,!1,!0))}var wO=function(t,e){return t.push(e),t};function xO(){return Lo(function(t,e){PE(wO,[])(t).subscribe(e)})}const NE=-2003829722,cg=-2021002517;function vO(t){return new TextDecoder().decode(t)}function LE(t){const e=t?"big":"little",n=new Ie().endianess(e).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Ie().endianess(e).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new Ie().endianess(e).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new Ie().endianess(e).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),s=new Ie().endianess(e).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:s}}class OE{getHeader(e){return this.headerP||(this.headerP=this._getHeader(e).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(e){const{filehandle:n,renameRefSeqs:r=o=>o,path:i,url:s}=e;if(this.renameRefSeqs=r,n)this.bbi=n;else if(s)this.bbi=new rr(s);else if(i)this.bbi=new en(i);else throw new Error("no file given")}async _getHeader(e){const n=await this._getMainHeader(e),r=await this._readChromTree(n,e);return{...n,...r}}async _getMainHeader(e,n=2e3){const{buffer:r}=await this.bbi.read(yt.Buffer.alloc(n),0,n,0,e),i=this._isBigEndian(r),s=LE(i),o=s.headerParser.parse(r),{magic:a,asOffset:u,totalSummaryOffset:f}=o;if(o.fileType=a===cg?"bigbed":"bigwig",u>n||f>n)return this._getMainHeader(e,n*2);if(u){const l=Number(o.asOffset);o.autoSql=vO(r.subarray(l,r.indexOf(0,l)))}if(o.totalSummaryOffset>n)return this._getMainHeader(e,n*2);if(o.totalSummaryOffset){const l=r.subarray(Number(o.totalSummaryOffset)),c=s.totalSummaryParser.parse(l);o.totalSummary={...c,basesCovered:Number(c.basesCovered)}}return{...o,isBigEndian:i}}_isBigEndian(e){let n=e.readInt32LE(0);if(n===NE||n===cg)return!1;if(n=e.readInt32BE(0),n===NE||n===cg)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(e,n){const r=e.isBigEndian,i=r?"big":"little",s=[],o={};let a=Number(e.unzoomedDataOffset);const u=Number(e.chromTreeOffset);for(;a%4!==0;)a+=1;const f=a-u,{buffer:l}=await this.bbi.read(yt.Buffer.alloc(f),0,f,Number(u),n),c=LE(r),{keySize:h}=c.chromTreeParser.parse(l),d=new Ie().endianess(i).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=new Ie().endianess(i).skip(h).uint64("childOffset").saveOffset("offset"),b=32,y=async w=>{let E=w;if(E>=l.length)throw new Error("reading beyond end of buffer");const S=c.isLeafNode.parse(l.subarray(E)),{isLeafNode:T,cnt:D}=S;if(E+=S.offset,T)for(let B=0;B<D;B+=1){const I=d.parse(l.subarray(E));E+=I.offset;const{key:N,refId:C,refSize:M}=I,P={name:N,id:C,length:M};o[this.renameRefSeqs(N)]=C,s[C]=P}else{const B=[];for(let I=0;I<D;I+=1){const N=p.parse(l.subarray(E)),{childOffset:C}=N;E+=N.offset,B.push(y(Number(C)-Number(u)))}await Promise.all(B)}};return await y(b),{refsByName:o,refsByNumber:s}}async getUnzoomedView(e){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:s,fileType:o}=await this.getHeader(e);return new aE(this.bbi,r,n,s,i>0,o)}async getFeatureStream(e,n,r,i){await this.getHeader(i);const s=this.renameRefSeqs(e);let o;const{basesPerSpan:a,scale:u}=i||{};return a?o=await this.getView(1/a,i):u?o=await this.getView(u,i):o=await this.getView(1,i),new yn(f=>{o.readWigData(s,n,r,f,i)})}async getFeatures(e,n,r,i){const s=await this.getFeatureStream(e,n,r,i);return(await kE(s.pipe(xO()))).flat()}}class AO extends OE{async getView(e,n){const{zoomLevels:r,refsByName:i,fileSize:s,isBigEndian:o,uncompressBufSize:a}=await this.getHeader(n),u=1/e;let f=r.length;s||(f-=1);for(let l=f;l>=0;l-=1){const c=r[l];if(c&&c.reductionLevel<=2*u){const h=Number(c.indexOffset);return new aE(this.bbi,i,h,o,a>0,"summary")}}return this.getUnzoomedView(n)}}function EO(t){return t.filter(e=>!!e)}class _O extends OE{constructor(){super(...arguments),this.readIndicesCache=new xc({cache:new Sp({maxSize:1}),fill:(e,n)=>this._readIndices({...e,signal:n})})}readIndices(e={}){const{signal:n,...r}=e;return this.readIndicesCache.get(JSON.stringify(r),e,n)}async getView(e,n){return this.getUnzoomedView(n)}async _readIndices(e){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(e),{buffer:i}=await this.bbi.read(yt.Buffer.alloc(64),0,64,Number(n)),s=r?"big":"little",o=new Ie().endianess(s).uint16("size").uint16("count").uint64("offset").parse(i),{count:a,offset:u}=o;if(a===0)return[];const f=20,l=f*a,{buffer:c}=await this.bbi.read(yt.Buffer.alloc(l),0,l,Number(u)),h=new Ie().endianess(s).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let p=0;p<a;p+=1)d.push(h.parse(c.subarray(p*f)));return d}async searchExtraIndexBlocks(e,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const s=i.map(async o=>{const{offset:a,field:u}=o,{buffer:f}=await this.bbi.read(yt.Buffer.alloc(32),0,32,Number(a),n),l=r?"big":"little",c=new Ie().endianess(l).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:h,keySize:d,valSize:p}=c.parse(f),b=new Ie().endianess(l).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new Ie().array("leafkeys",{length:"cnt",type:new Ie().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new Ie().array("keys",{length:"cnt",type:new Ie().endianess(l).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),y=async E=>{const S=Number(E),T=4+h*(d+p),{buffer:D}=await this.bbi.read(yt.Buffer.alloc(T),0,T,S,n),B=b.parse(D);if(B.leafkeys){let I;for(let N=0;N<B.leafkeys.length;N+=1){const{key:C}=B.leafkeys[N];if(e.localeCompare(C)<0&&I)return y(I);I=B.leafkeys[N].offset}return y(I)}for(let I=0;I<B.keys.length;I+=1)if(B.keys[I].key===e)return{...B.keys[I],field:u}},w=32;return y(Number(a)+w)});return EO(await Promise.all(s))}async searchExtraIndex(e,n={}){const r=await this.searchExtraIndexBlocks(e,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),s=r.map(a=>new yn(u=>{i.readFeatures(u,[a],n)}).pipe(PE((u,f)=>u.concat(f)),RE(u=>{for(const f of u)f.field=a.field;return u})));return(await kE(bO(...s))).filter(a=>{var u;return((u=a.rest)===null||u===void 0?void 0:u.split("	")[(a.field||0)-3])===e})}}function Oc(t,e,n=!0){let r,i=o=>{};return function(...a){return new Promise((u,f)=>{const l=()=>{clearTimeout(r),i=c=>{},u(t(...a))};n&&i("debounced"),clearTimeout(r),i=f,r=window.setTimeout(l,e)})}}class SO extends Df(fs){constructor(n,r){const i={pixelsPerBin:2,channel:"x",...n};super(r,i.channel);on(this,"reductionLevels",[]);on(this,"lastRequestId",0);if(this.params=i,!this.params.url)throw new Error("No URL provided for BigWigSource");this.bbi=new AO({filehandle:new rr(Bf(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=Oc(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(s=>{this.reductionLevels=s.zoomLevels.map(o=>o.reductionLevel).reverse(),this.reductionLevels.push(1)})}async onDomainChanged(n){await this.headerPromise;const r=this.getAxisLength()||700,i=CO(n,r,this.reductionLevels),s=Math.max(i*r,5e3),o=this.quantizeInterval(n,s);this.checkAndUpdateLastInterval(o)&&this.doDebouncedRequest(o,i)}async doRequest(n,r){const i=await this.getFeatures(n,.5/r/this.params.pixelsPerBin);i.requestId<this.lastRequestId||this.publishData(i.features)}async getFeatures(n,r){let i=++this.lastRequestId;const s=new AbortController,o=this.genome.continuousToDiscreteChromosomeIntervals(n),a=await Promise.all(o.map(u=>this.bbi.getFeatures(u.chrom,u.startPos,u.endPos,{scale:r,signal:s.signal}).then(f=>f.map(l=>({chrom:u.chrom,start:l.start,end:l.end,score:l.score})))));return{requestId:i,abort:()=>s.abort(),features:a.flat()}}}function CO(t,e,n){const r=(t[1]-t[0])/e;return n.find(i=>i<r)??n.at(-1)}function TO(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function zo(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zo)}TO(zo,Error),zo.buildMessage=function(t,e){var n={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var l="",c;for(c=0;c<f.parts.length;c++)l+=f.parts[c]instanceof Array?s(f.parts[c][0])+"-"+s(f.parts[c][1]):s(f.parts[c]);return"["+(f.inverted?"^":"")+l+"]"},any:function(f){return"any character"},end:function(f){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function s(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+r(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+r(l)})}function o(f){return n[f.type](f)}function a(f){var l=new Array(f.length),c,h;for(c=0;c<f.length;c++)l[c]=o(f[c]);if(l.sort(),l.length>0){for(c=1,h=1;c<l.length;c++)l[c-1]!==l[c]&&(l[h]=l[c],h++);l.length=h}switch(l.length){case 1:return l[0];case 2:return l[0]+" or "+l[1];default:return l.slice(0,-1).join(", ")+", or "+l[l.length-1]}}function u(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+a(t)+" but "+u(e)+" found."};function FO(t,e){e=e!==void 0?e:{};var n={},r={declaration:bS},i=bS,s="(",o=ke("(",!1),a=")",u=ke(")",!1),f=function(A,U,X,K){return{type:A,name:U,comment:X,fields:K}},l="simple",c=ke("simple",!1),h="object",d=ke("object",!1),p="table",b=ke("table",!1),y="auto",w=ke("auto",!1),E="primary",S=ke("primary",!1),T="index",D=ke("index",!1),B="unique",I=ke("unique",!1),N=function(A,U){return U},C=function(A,U){return A.name&&U.unshift(A),U},M="#",P=ke("#",!1),ee=";",ne=ke(";",!1),J=function(A,U,X){return{type:A,name:U,comment:X}},me="[",Ee=ke("[",!1),De="]",st=ke("]",!1),et=function(A,U,X,K){return{type:A,size:U,name:X,comment:K}},gr=function(A,U,X,K){return{type:A,vals:U,name:X,comment:K}},Me=",",We=ke(",",!1),Wt=function(A,U){return U.unshift(A),U},qn="int",mr=ke("int",!1),O="uint",L=ke("uint",!1),j="short",V=ke("short",!1),Q="ushort",_=ke("ushort",!1),v="byte",H=ke("byte",!1),q="ubyte",le=ke("ubyte",!1),re="float",ce=ke("float",!1),Yt="char",Ci=ke("char",!1),Ti="string",Fi=ke("string",!1),Ft="lstring",zr=ke("lstring",!1),Ii="enum",Qt=ke("enum",!1),br="double",x=ke("double",!1),g="bigint",m=ke("bigint",!1),F="set",R=ke("set",!1),z=function(A,U){return A+" "+U},$=/^[a-zA-Z_]/,he=_u([["a","z"],["A","Z"],"_"],!1,!1),$e=/^[a-zA-Z0-9_]/,Pe=_u([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ye=function(A){return dS()},Te=/^[^\n\r]/,fS=_u([`
`,"\r"],!0,!1),WU=function(A){return A.join("").replace(/^"/,"").replace(/"$/,"")},YU=pS("integer"),uS=/^[0-9]/,lS=_u([["0","9"]],!1,!1),QU=function(){return parseInt(dS(),10)},XU=pS("whitespace"),cS=/^[ \t\n\r]/,hS=_u([" ","	",`
`,"\r"],!1,!1),k=0,Mt=0,fh=[{line:1,column:1}],yr=0,bm=[],oe=0,uh;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function dS(){return t.substring(Mt,k)}function ke(A,U){return{type:"literal",text:A,ignoreCase:U}}function _u(A,U,X){return{type:"class",parts:A,inverted:U,ignoreCase:X}}function KU(){return{type:"end"}}function pS(A){return{type:"other",description:A}}function gS(A){var U=fh[A],X;if(U)return U;for(X=A-1;!fh[X];)X--;for(U=fh[X],U={line:U.line,column:U.column};X<A;)t.charCodeAt(X)===10?(U.line++,U.column=1):U.column++,X++;return fh[A]=U,U}function mS(A,U){var X=gS(A),K=gS(U);return{start:{offset:A,line:X.line,column:X.column},end:{offset:U,line:K.line,column:K.column}}}function ae(A){k<yr||(k>yr&&(yr=k,bm=[]),bm.push(A))}function JU(A,U,X){return new zo(zo.buildMessage(A,U),A,U,X)}function bS(){var A,U,X,K,se,Ue,Qe,Tn,Di,Ur,Bi,Gr,ki,Hr;return A=k,U=ye(),U!==n?(X=yS(),X!==n?(K=ye(),K!==n?(se=wS(),se!==n?(Ue=ye(),Ue!==n?(Qe=lh(),Qe!==n?(Tn=ye(),Tn!==n?(t.charCodeAt(k)===40?(Di=s,k++):(Di=n,oe===0&&ae(o)),Di!==n?(Ur=ye(),Ur!==n?(Bi=eG(),Bi!==n?(Gr=ye(),Gr!==n?(t.charCodeAt(k)===41?(ki=a,k++):(ki=n,oe===0&&ae(u)),ki!==n?(Hr=ye(),Hr!==n?(Mt=A,U=f(X,se,Qe,Bi),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A}function yS(){var A;return t.substr(k,6)===l?(A=l,k+=6):(A=n,oe===0&&ae(c)),A===n&&(t.substr(k,6)===h?(A=h,k+=6):(A=n,oe===0&&ae(d)),A===n&&(t.substr(k,5)===p?(A=p,k+=5):(A=n,oe===0&&ae(b)))),A}function wS(){var A,U,X,K;return A=jn(),A===n&&(A=k,U=jn(),U!==n?(X=xS(),X!==n?(U=[U,X],A=U):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=jn(),U!==n?(t.substr(k,4)===y?(X=y,k+=4):(X=n,oe===0&&ae(w)),X!==n?(U=[U,X],A=U):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=jn(),U!==n?(X=xS(),X!==n?(t.substr(k,4)===y?(K=y,k+=4):(K=n,oe===0&&ae(w)),K!==n?(U=[U,X,K],A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)))),A}function xS(){var A;return t.substr(k,7)===E?(A=E,k+=7):(A=n,oe===0&&ae(S)),A===n&&(t.substr(k,5)===T?(A=T,k+=5):(A=n,oe===0&&ae(D)),A===n&&(t.substr(k,6)===B?(A=B,k+=6):(A=n,oe===0&&ae(I)))),A}function lh(){var A;return A=vS(),A===n&&(A=ye()),A}function eG(){var A,U,X,K,se,Ue,Qe;if(A=k,U=ym(),U!==n)if(X=ye(),X!==n){for(K=[],se=k,Ue=ye(),Ue!==n?(Qe=ym(),Qe!==n?(Mt=se,Ue=N(U,Qe),se=Ue):(k=se,se=n)):(k=se,se=n);se!==n;)K.push(se),se=k,Ue=ye(),Ue!==n?(Qe=ym(),Qe!==n?(Mt=se,Ue=N(U,Qe),se=Ue):(k=se,se=n)):(k=se,se=n);K!==n?(se=ye(),se!==n?(Mt=A,U=C(U,K),A=U):(k=A,A=n)):(k=A,A=n)}else k=A,A=n;else k=A,A=n;return A}function tG(){var A;return t.charCodeAt(k)===35?(A=M,k++):(A=n,oe===0&&ae(P)),A}function nG(){var A,U,X,K,se;return A=k,U=ye(),U!==n?(X=tG(),X!==n?(K=vS(),K!==n?(se=ye(),se!==n?(U=[U,X,K,se],A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A}function ym(){var A,U,X,K,se,Ue,Qe,Tn,Di,Ur,Bi,Gr,ki,Hr;return A=k,U=wm(),U!==n?(X=ye(),X!==n?(K=jn(),K!==n?(se=ye(),se!==n?(t.charCodeAt(k)===59?(Ue=ee,k++):(Ue=n,oe===0&&ae(ne)),Ue!==n?(Qe=ye(),Qe!==n?(Tn=lh(),Tn!==n?(Mt=A,U=J(U,K,Tn),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=wm(),U!==n?(X=ye(),X!==n?(t.charCodeAt(k)===91?(K=me,k++):(K=n,oe===0&&ae(Ee)),K!==n?(se=ye(),se!==n?(Ue=iG(),Ue!==n?(Qe=ye(),Qe!==n?(t.charCodeAt(k)===93?(Tn=De,k++):(Tn=n,oe===0&&ae(st)),Tn!==n?(Di=ye(),Di!==n?(Ur=jn(),Ur!==n?(Bi=ye(),Bi!==n?(t.charCodeAt(k)===59?(Gr=ee,k++):(Gr=n,oe===0&&ae(ne)),Gr!==n?(ki=ye(),ki!==n?(Hr=lh(),Hr!==n?(Mt=A,U=et(U,Ue,Ur,Hr),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=k,U=wm(),U!==n?(X=ye(),X!==n?(t.charCodeAt(k)===40?(K=s,k++):(K=n,oe===0&&ae(o)),K!==n?(se=ye(),se!==n?(Ue=rG(),Ue!==n?(Qe=ye(),Qe!==n?(t.charCodeAt(k)===41?(Tn=a,k++):(Tn=n,oe===0&&ae(u)),Tn!==n?(Di=ye(),Di!==n?(Ur=jn(),Ur!==n?(Bi=ye(),Bi!==n?(t.charCodeAt(k)===59?(Gr=ee,k++):(Gr=n,oe===0&&ae(ne)),Gr!==n?(ki=ye(),ki!==n?(Hr=lh(),Hr!==n?(Mt=A,U=gr(U,Ue,Ur,Hr),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n)):(k=A,A=n),A===n&&(A=nG()))),A}function rG(){var A,U,X,K,se,Ue,Qe;if(A=k,U=jn(),U!==n){for(X=[],K=k,t.charCodeAt(k)===44?(se=Me,k++):(se=n,oe===0&&ae(We)),se!==n?(Ue=ye(),Ue!==n?(Qe=jn(),Qe!==n?(Mt=K,se=N(U,Qe),K=se):(k=K,K=n)):(k=K,K=n)):(k=K,K=n);K!==n;)X.push(K),K=k,t.charCodeAt(k)===44?(se=Me,k++):(se=n,oe===0&&ae(We)),se!==n?(Ue=ye(),Ue!==n?(Qe=jn(),Qe!==n?(Mt=K,se=N(U,Qe),K=se):(k=K,K=n)):(k=K,K=n)):(k=K,K=n);X!==n?(Mt=A,U=Wt(U,X),A=U):(k=A,A=n)}else k=A,A=n;return A}function wm(){var A,U,X,K;return t.substr(k,3)===qn?(A=qn,k+=3):(A=n,oe===0&&ae(mr)),A===n&&(t.substr(k,4)===O?(A=O,k+=4):(A=n,oe===0&&ae(L)),A===n&&(t.substr(k,5)===j?(A=j,k+=5):(A=n,oe===0&&ae(V)),A===n&&(t.substr(k,6)===Q?(A=Q,k+=6):(A=n,oe===0&&ae(_)),A===n&&(t.substr(k,4)===v?(A=v,k+=4):(A=n,oe===0&&ae(H)),A===n&&(t.substr(k,5)===q?(A=q,k+=5):(A=n,oe===0&&ae(le)),A===n&&(t.substr(k,5)===re?(A=re,k+=5):(A=n,oe===0&&ae(ce)),A===n&&(t.substr(k,4)===Yt?(A=Yt,k+=4):(A=n,oe===0&&ae(Ci)),A===n&&(t.substr(k,6)===Ti?(A=Ti,k+=6):(A=n,oe===0&&ae(Fi)),A===n&&(t.substr(k,7)===Ft?(A=Ft,k+=7):(A=n,oe===0&&ae(zr)),A===n&&(t.substr(k,4)===Ii?(A=Ii,k+=4):(A=n,oe===0&&ae(Qt)),A===n&&(t.substr(k,6)===br?(A=br,k+=6):(A=n,oe===0&&ae(x)),A===n&&(t.substr(k,6)===g?(A=g,k+=6):(A=n,oe===0&&ae(m)),A===n&&(t.substr(k,3)===F?(A=F,k+=3):(A=n,oe===0&&ae(R)),A===n&&(A=k,U=yS(),U!==n?(X=ye(),X!==n?(K=wS(),K!==n?(Mt=A,U=z(U,K),A=U):(k=A,A=n)):(k=A,A=n)):(k=A,A=n))))))))))))))),A}function iG(){var A;return A=sG(),A===n&&(A=jn()),A}function jn(){var A,U,X,K,se;if(A=k,U=k,$.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,oe===0&&ae(he)),X!==n){for(K=[],$e.test(t.charAt(k))?(se=t.charAt(k),k++):(se=n,oe===0&&ae(Pe));se!==n;)K.push(se),$e.test(t.charAt(k))?(se=t.charAt(k),k++):(se=n,oe===0&&ae(Pe));K!==n?(X=[X,K],U=X):(k=U,U=n)}else k=U,U=n;return U!==n&&(Mt=A,U=Ye()),A=U,A}function vS(){var A,U,X;for(A=k,U=[],Te.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,oe===0&&ae(fS));X!==n;)U.push(X),Te.test(t.charAt(k))?(X=t.charAt(k),k++):(X=n,oe===0&&ae(fS));return U!==n&&(Mt=A,U=WU(U)),A=U,A}function sG(){var A,U,X,K;if(oe++,A=k,U=ye(),U!==n){if(X=[],uS.test(t.charAt(k))?(K=t.charAt(k),k++):(K=n,oe===0&&ae(lS)),K!==n)for(;K!==n;)X.push(K),uS.test(t.charAt(k))?(K=t.charAt(k),k++):(K=n,oe===0&&ae(lS));else X=n;X!==n?(Mt=A,U=QU(),A=U):(k=A,A=n)}else k=A,A=n;return oe--,A===n&&(U=n,oe===0&&ae(YU)),A}function ye(){var A,U;for(oe++,A=[],cS.test(t.charAt(k))?(U=t.charAt(k),k++):(U=n,oe===0&&ae(hS));U!==n;)A.push(U),cS.test(t.charAt(k))?(U=t.charAt(k),k++):(U=n,oe===0&&ae(hS));return oe--,A===n&&(U=n,oe===0&&ae(XU)),A}if(uh=i(),uh!==n&&k===t.length)return uh;throw uh!==n&&k<t.length&&ae(KU()),JU(bm,yr<t.length?t.charAt(yr):null,yr<t.length?mS(yr,yr+1):mS(yr,yr))}var zE={SyntaxError:zo,parse:FO};const IO=us(zE),hg=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([t,e])=>[t,zE.parse(e.trim())]));function dg(t){const e=["uint","int","float","long"];return{...t,fields:t.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&e.includes(n.type),isNumeric:!n.size&&e.includes(n.type)}))}}const DO={".":0,"-":-1,"+":1};function BO(t){var e;return t.length>=12&&!Number.isNaN(parseInt(t[9],10))&&((e=t[10])===null||e===void 0?void 0:e.split(",").filter(n=>!!n).length)===parseInt(t[9],10)}class kO{constructor(e={}){if(e.autoSql)this.autoSql=dg(IO.parse(e.autoSql));else if(e.type){if(!hg[e.type])throw new Error("Type not found");this.autoSql=dg(hg[e.type])}else this.autoSql=dg(hg.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(e,n={}){const{autoSql:r}=this,{uniqueId:i}=n,s=Array.isArray(e)?e:e.split("	");let o={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&BO(s))for(let a=0;a<r.fields.length;a++){const u=r.fields[a];let f=s[a];const{isNumeric:l,isArray:c,arrayIsNumeric:h,name:d}=u;if(f==null)break;if(f!=="."){if(l){const p=Number(f);f=Number.isNaN(p)?f:p}else c&&(f=f.split(","),f[f.length-1]===""&&f.pop(),h&&(f=f.map(p=>Number(p))));o[d]=f}}else{const a=["chrom","chromStart","chromEnd","name"];o=Object.fromEntries(s.map((u,f)=>[a[f]||"field"+f,u])),o.chromStart=+o.chromStart,o.chromEnd=+o.chromEnd,Number.isNaN(Number.parseFloat(o.field4))||(o.score=+o.field4,delete o.field4),(o.field5==="+"||o.field5==="-")&&(o.strand=o.field5,delete o.field5)}return i&&(o.uniqueId=i),o.strand=DO[o.strand]||0,o.chrom=decodeURIComponent(o.chrom),o}}class RO extends Df(fs){constructor(n,r){const i={channel:"x",windowSize:1e6,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"parser");if(this.params=i,!this.params.url)throw new Error("No URL provided for BigBedSource");this.bbi=new _O({filehandle:new rr(Bf(this.params.url,this.view.getBaseUrl()))}),this.doDebouncedRequest=Oc(this.doRequest.bind(this),200,!1),this.headerPromise=this.bbi.getHeader(),this.headerPromise.then(s=>{this.parser=new kO({autoSql:s.autoSql})})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doDebouncedRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){let r=++this.lastRequestId;const i=new AbortController,s=this.genome.continuousToDiscreteChromosomeIntervals(n),o=await Promise.all(s.map(a=>this.bbi.getFeatures(a.chrom,a.startPos,a.endPos,{signal:i.signal}).then(u=>u.map(f=>this.parser.parseLine(`${a.chrom}	${f.start}	${f.end}	${f.rest}`,{uniqueId:f.uniqueId})))));return{requestId:r,abort:()=>i.abort(),features:o.flat()}}}var MO=Ne,wn=null;try{wn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ne(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Ne.prototype.__isLong__,Object.defineProperty(Ne.prototype,"__isLong__",{value:!0});function Vt(t){return(t&&t.__isLong__)===!0}Ne.isLong=Vt;var UE={},GE={};function Fs(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=GE[t],r)?r:(n=Le(t,(t|0)<0?-1:0,!0),i&&(GE[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=UE[t],r)?r:(n=Le(t,t<0?-1:0,!1),i&&(UE[t]=n),n))}Ne.fromInt=Fs;function xn(t,e){if(isNaN(t))return e?Is:vn;if(e){if(t<0)return Is;if(t>=$E)return WE}else{if(t<=-VE)return qt;if(t+1>=VE)return ZE}return t<0?xn(-t,e).neg():Le(t%Uo|0,t/Uo|0,e)}Ne.fromNumber=xn;function Le(t,e,n){return new Ne(t,e,n)}Ne.fromBits=Le;var zc=Math.pow;function pg(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return vn;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return pg(t.substring(1),e,n).neg();for(var i=xn(zc(n,8)),s=vn,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+a),n);if(a<8){var f=xn(zc(n,a));s=s.mul(f).add(xn(u))}else s=s.mul(i),s=s.add(xn(u))}return s.unsigned=e,s}Ne.fromString=pg;function $n(t,e){return typeof t=="number"?xn(t,e):typeof t=="string"?pg(t,e):Le(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Ne.fromValue=$n;var HE=65536,PO=1<<24,Uo=HE*HE,$E=Uo*Uo,VE=$E/2,qE=Fs(PO),vn=Fs(0);Ne.ZERO=vn;var Is=Fs(0,!0);Ne.UZERO=Is;var Go=Fs(1);Ne.ONE=Go;var jE=Fs(1,!0);Ne.UONE=jE;var gg=Fs(-1);Ne.NEG_ONE=gg;var ZE=Le(-1,2147483647,!1);Ne.MAX_VALUE=ZE;var WE=Le(-1,-1,!0);Ne.MAX_UNSIGNED_VALUE=WE;var qt=Le(0,-2147483648,!1);Ne.MIN_VALUE=qt;var W=Ne.prototype;W.toInt=function(){return this.unsigned?this.low>>>0:this.low},W.toNumber=function(){return this.unsigned?(this.high>>>0)*Uo+(this.low>>>0):this.high*Uo+(this.low>>>0)},W.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(qt)){var n=xn(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=xn(zc(e,6),this.unsigned),o=this,a="";;){var u=o.div(s),f=o.sub(u.mul(s)).toInt()>>>0,l=f.toString(e);if(o=u,o.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},W.getHighBits=function(){return this.high},W.getHighBitsUnsigned=function(){return this.high>>>0},W.getLowBits=function(){return this.low},W.getLowBitsUnsigned=function(){return this.low>>>0},W.getNumBitsAbs=function(){if(this.isNegative())return this.eq(qt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},W.isZero=function(){return this.high===0&&this.low===0},W.eqz=W.isZero,W.isNegative=function(){return!this.unsigned&&this.high<0},W.isPositive=function(){return this.unsigned||this.high>=0},W.isOdd=function(){return(this.low&1)===1},W.isEven=function(){return(this.low&1)===0},W.equals=function(e){return Vt(e)||(e=$n(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},W.eq=W.equals,W.notEquals=function(e){return!this.eq(e)},W.neq=W.notEquals,W.ne=W.notEquals,W.lessThan=function(e){return this.comp(e)<0},W.lt=W.lessThan,W.lessThanOrEqual=function(e){return this.comp(e)<=0},W.lte=W.lessThanOrEqual,W.le=W.lessThanOrEqual,W.greaterThan=function(e){return this.comp(e)>0},W.gt=W.greaterThan,W.greaterThanOrEqual=function(e){return this.comp(e)>=0},W.gte=W.greaterThanOrEqual,W.ge=W.greaterThanOrEqual,W.compare=function(e){if(Vt(e)||(e=$n(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},W.comp=W.compare,W.negate=function(){return!this.unsigned&&this.eq(qt)?qt:this.not().add(Go)},W.neg=W.negate,W.add=function(e){Vt(e)||(e=$n(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=s+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+o,l&=65535,Le(h<<16|d,l<<16|c,this.unsigned)},W.subtract=function(e){return Vt(e)||(e=$n(e)),this.add(e.neg())},W.sub=W.subtract,W.multiply=function(e){if(this.isZero())return vn;if(Vt(e)||(e=$n(e)),wn){var n=wn.mul(this.low,this.high,e.low,e.high);return Le(n,wn.get_high(),this.unsigned)}if(e.isZero())return vn;if(this.eq(qt))return e.isOdd()?qt:vn;if(e.eq(qt))return this.isOdd()?qt:vn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(qE)&&e.lt(qE))return xn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=o*l,d+=p>>>16,p&=65535,d+=s*l,h+=d>>>16,d&=65535,d+=o*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=s*f,c+=h>>>16,h&=65535,h+=o*u,c+=h>>>16,h&=65535,c+=r*l+i*f+s*u+o*a,c&=65535,Le(d<<16|p,c<<16|h,this.unsigned)},W.mul=W.multiply,W.divide=function(e){if(Vt(e)||(e=$n(e)),e.isZero())throw Error("division by zero");if(wn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?wn.div_u:wn.div_s)(this.low,this.high,e.low,e.high);return Le(n,wn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Is:vn;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Is;if(e.gt(this.shru(1)))return jE;s=Is}else{if(this.eq(qt)){if(e.eq(Go)||e.eq(gg))return qt;if(e.eq(qt))return Go;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(vn)?e.isNegative()?Go:gg:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(qt))return this.unsigned?Is:vn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=vn}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:zc(2,a-48),f=xn(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=xn(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=Go),s=s.add(f),i=i.sub(l)}return s},W.div=W.divide,W.modulo=function(e){if(Vt(e)||(e=$n(e)),wn){var n=(this.unsigned?wn.rem_u:wn.rem_s)(this.low,this.high,e.low,e.high);return Le(n,wn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},W.mod=W.modulo,W.rem=W.modulo,W.not=function(){return Le(~this.low,~this.high,this.unsigned)},W.and=function(e){return Vt(e)||(e=$n(e)),Le(this.low&e.low,this.high&e.high,this.unsigned)},W.or=function(e){return Vt(e)||(e=$n(e)),Le(this.low|e.low,this.high|e.high,this.unsigned)},W.xor=function(e){return Vt(e)||(e=$n(e)),Le(this.low^e.low,this.high^e.high,this.unsigned)},W.shiftLeft=function(e){return Vt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Le(0,this.low<<e-32,this.unsigned)},W.shl=W.shiftLeft,W.shiftRight=function(e){return Vt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Le(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Le(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},W.shr=W.shiftRight,W.shiftRightUnsigned=function(e){if(Vt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Le(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Le(n,0,this.unsigned):Le(n>>>e-32,0,this.unsigned)},W.shru=W.shiftRightUnsigned,W.shr_u=W.shiftRightUnsigned,W.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this},W.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)},W.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},W.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},W.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Ne.fromBytes=function(e,n,r){return r?Ne.fromBytesLE(e,n):Ne.fromBytesBE(e,n)},Ne.fromBytesLE=function(e,n){return new Ne(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Ne.fromBytesBE=function(e,n){return new Ne(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const YE=us(MO);let QE=class{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}};function Ho(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new QE(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}let Uc=class{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}},XE=class{constructor({filehandle:e,renameRefSeq:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}_findFirstData(e,n){const r=e.firstDataLine;r?e.firstDataLine=r.compareTo(n)>0?n:r:e.firstDataLine=n}async parse(e={}){return this.setupP||(this.setupP=this._parse(e).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}};function NO(t){return new Promise(e=>setTimeout(e,t))}function KE(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}function JE(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new Error("aborted");throw e.code="ERR_ABORTED",e}}}async function e_(t){await Promise.resolve(),JE(t)}function LO(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function OO(t={}){return"aborted"in t?{signal:t}:t}function t_(t,e){const n=[];let r=null;return t.length===0?t:(t.sort((i,s)=>{const o=i.minv.blockPosition-s.minv.blockPosition;return o!==0?o:i.minv.dataPosition-s.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):LO(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}const zO=21578050;function UO(t,e){return t-t%e}function GO(t,e){return t-t%e+e}class eu extends XE{parsePseudoBin(e,n){return{lineCount:KE(YE.fromBytesLE(Array.prototype.slice.call(e,n+16,n+24),!0))}}async lineCount(e,n={}){const i=(await this.parse(n)).indices[e];if(!i)return-1;const s=i.stats||{};return s.lineCount===void 0?-1:s.lineCount}fetchBai(e={}){return this.baiP||(this.baiP=this.filehandle.readFile(e).catch(n=>{throw this.baiP=void 0,n})),this.baiP}async _parse(){const e={bai:!0,maxBlockSize:65536},n=await this.fetchBai();if(n.readUInt32LE(0)!==zO)throw new Error("Not a BAI file");e.refCount=n.readInt32LE(4);const i=((1<<(5+1)*3)-1)/7;e.indices=new Array(e.refCount);let s=8;for(let o=0;o<e.refCount;o+=1){const a=n.readInt32LE(s);let u;s+=4;const f={};for(let h=0;h<a;h+=1){const d=n.readUInt32LE(s);if(s+=4,d===i+1)s+=4,u=this.parsePseudoBin(n,s),s+=32;else{if(d>i+1)throw new Error("bai index contains too many bins, please use CSI");{const p=n.readInt32LE(s);s+=4;const b=new Array(p);for(let y=0;y<p;y+=1){const w=Ho(n,s),E=Ho(n,s+8);s+=16,this._findFirstData(e,w),b[y]=new Uc(w,E,d)}f[d]=b}}}const l=n.readInt32LE(s);s+=4;const c=new Array(l);for(let h=0;h<l;h+=1)c[h]=Ho(n,s),s+=8,this._findFirstData(e,c[h]);e.indices[o]={binIndex:f,linearIndex:c,stats:u}}return e}async indexCov(e,n,r,i={}){const o=n!==void 0,u=(await this.parse(i)).indices[e];if(!u)return[];const{linearIndex:f=[],stats:l}=u;if(!f.length)return[];const c=r!==void 0?GO(r,16384):(f.length-1)*16384,h=n!==void 0?UO(n,16384):0;let d;o?d=new Array((c-h)/16384):d=new Array(f.length-1);const p=f[f.length-1].blockPosition;if(c>(f.length-1)*16384)throw new Error("query outside of range of linear index");let b=f[h/16384].blockPosition;for(let y=h/16384,w=0;y<c/16384;y++,w++)d[w]={score:f[y+1].blockPosition-b,start:y*16384,end:y*16384+16384},b=f[y+1].blockPosition;return d.map(y=>({...y,score:y.score*l.lineCount/p}))}reg2bins(e,n){return n-=1,[[0,0],[1+(e>>26),1+(n>>26)],[9+(e>>23),9+(n>>23)],[73+(e>>20),73+(n>>20)],[585+(e>>17),585+(n>>17)],[4681+(e>>14),4681+(n>>14)]]}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const s=await this.parse(i);if(!s)return[];const o=s.indices[e];if(!o)return[];const a=this.reg2bins(n,r),u=[];for(const[d,p]of a)for(let b=d;b<=p;b++)if(o.binIndex[b]){const y=o.binIndex[b];for(let w=0;w<y.length;++w)u.push(new Uc(y[w].minv,y[w].maxv,b))}const f=o.linearIndex.length;let l=null;const c=Math.min(n>>14,f-1),h=Math.min(r>>14,f-1);for(let d=c;d<=h;++d){const p=o.linearIndex[d];p&&(!l||p.compareTo(l)<0)&&(l=p)}return t_(u,l)}}const HO=21582659,$O=38359875;function VO(t,e){return t*2**e}function n_(t,e){return Math.floor(t/2**e)}let mg=class extends XE{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e){const n=await this.parse();if(!n||!n.indices[e])return-1;const{stats:i}=n.indices[e];return i?i.lineCount:-1}async indexCov(){return[]}parseAuxData(e,n,r){if(r<30)return{};const i={};if(i.formatFlags=e.readInt32LE(n),i.coordinateType=i.formatFlags&65536?"zero-based-half-open":"1-based-closed",i.format={0:"generic",1:"SAM",2:"VCF"}[i.formatFlags&15],!i.format)throw new Error(`invalid Tabix preset format flags ${i.formatFlags}`);i.columnNumbers={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},i.metaValue=e.readInt32LE(n+16),i.metaChar=i.metaValue?String.fromCharCode(i.metaValue):"",i.skipLines=e.readInt32LE(n+20);const s=e.readInt32LE(n+24);return Object.assign(i,this._parseNameBytes(e.subarray(n+28,n+28+s))),i}_parseNameBytes(e){let n=0,r=0;const i=[],s={};for(let o=0;o<e.length;o+=1)if(!e[o]){if(r<o){let a=e.toString("utf8",r,o);a=this.renameRefSeq(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}async _parse(e){const n={csi:!0,maxBlockSize:65536},r=await this.filehandle.readFile(e),i=await Eo(r);if(i.readUInt32LE(0)===HO)n.csiVersion=1;else if(i.readUInt32LE(0)===$O)n.csiVersion=2;else throw new Error("Not a CSI file");this.minShift=i.readInt32LE(4),this.depth=i.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const s=i.readInt32LE(12);s&&Object.assign(n,this.parseAuxData(i,16,s)),n.refCount=i.readInt32LE(16+s),n.indices=new Array(n.refCount);let o=16+s+4;for(let a=0;a<n.refCount;a+=1){await e_(e.signal);const u=i.readInt32LE(o);o+=4;const f={};let l;for(let c=0;c<u;c+=1){const h=i.readUInt32LE(o);if(h>this.maxBinNumber)l=this.parsePseudoBin(i,o+4),o+=4+8+4+16+16;else{const d=Ho(i,o+4);this._findFirstData(n,d);const p=i.readInt32LE(o+12);o+=16;const b=new Array(p);for(let y=0;y<p;y+=1){const w=Ho(i,o),E=Ho(i,o+8);o+=16,b[y]=new Uc(w,E,h)}f[h]=b}}n.indices[a]={binIndex:f,stats:l}}return n}parsePseudoBin(e,n){return{lineCount:KE(YE.fromBytesLE(Array.prototype.slice.call(e,n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const s=await this.parse(i),o=s==null?void 0:s.indices[e];if(!o)return[];const a=this.reg2bins(n,r),u=[];for(const[f,l]of a)for(let c=f;c<=l;c++)if(o.binIndex[c]){const h=o.binIndex[c];for(let d=0;d<h.length;++d)u.push(new Uc(h[d].minv,h[d].maxv,c))}return t_(u,new QE(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,s=this.minShift+this.depth*3;const o=[];for(;r<=this.depth;s-=3,i+=VO(1,r*3),r+=1){const a=i+n_(e,s),u=i+n_(n,s);if(u-a+o.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,u])}return o}};var Ei=yt.Buffer,bg=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(bg=new Int32Array(bg));function r_(t){if(Ei.isBuffer(t))return t;var e=typeof Ei.alloc=="function"&&typeof Ei.from=="function";if(typeof t=="number")return e?Ei.alloc(t):new Ei(t);if(typeof t=="string")return e?Ei.from(t):new Ei(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function qO(t){var e=r_(4);return e.writeInt32BE(t,0),e}function yg(t,e){t=r_(t),Ei.isBuffer(e)&&(e=e.readUInt32BE(0));for(var n=~~e^-1,r=0;r<t.length;r++)n=bg[(n^t[r])&255]^n>>>8;return n^-1}function wg(){return qO(yg.apply(null,arguments))}wg.signed=function(){return yg.apply(null,arguments)},wg.unsigned=function(){return yg.apply(null,arguments)>>>0};var jO=wg;const ZO=us(jO);var xg,i_;function WO(){if(i_)return xg;i_=1;var t=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},e=function(r,i){return Object.prototype.propertyIsEnumerable.call(r,i)};function n(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");var i=[];for(var s in r)t(r,s)&&e(r,s)&&i.push([s,r[s]]);return i}return xg=n,xg}var YO=typeof Object.entries=="function"?Object.entries:WO();const QO=us(YO);class XO{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const n=this.oldCache.get(e);return this._set(e,n),n}}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this._set(e,n),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[n]=e;this.cache.has(n)||(yield e)}}get size(){let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return this._size+e}}var KO=XO;const JO=us(KO),An={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},s_="=ACMGRSVTWYHKDBN".split(""),tu="MIDNSHP=X???????".split("");class e7{constructor(e){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=e,{byteArray:i,start:s}=n;this.data={},this.bytes=n,this._id=r,this._refID=i.readInt32LE(s+4),this.data.start=i.readInt32LE(s+8),this.flags=(i.readInt32LE(s+16)&4294901760)>>16}get(e){return this[e]?this.data[e]?this.data[e]:(this.data[e]=this[e](),this.data[e]):this._get(e.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(e){return e in this.data?this.data[e]:(this.data[e]=this._parseTag(e),this.data[e])}_tags(){this._parseAllTags();let e=["seq"];this.isSegmentUnmapped()||e.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&e.push("next_segment_position","pair_orientation"),e=e.concat(this._tagList||[]),Object.keys(this.data).forEach(r=>{r[0]!=="_"&&r!=="next_seq_id"&&e.push(r)});const n={};return e.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),s=n[i];return n[i]=!0,!s})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const e=(this.get("_bin_mq_nl")&65280)>>8;return e===255?void 0:e}score(){return this.get("mq")}qual(){var e;return(e=this.qualRaw())===null||e===void 0?void 0:e.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:e,byteArray:n}=this.bytes,r=e+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const e=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+e-1)}_parseTag(e){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const s=this.bytes.end;let o;for(;i<s&&o!==e;){const a=String.fromCharCode(n[i],n[i+1]);o=a.toLowerCase();const u=String.fromCharCode(n[i+2]);i+=3;let f;switch(u){case"A":f=String.fromCharCode(n[i]),i+=1;break;case"i":f=n.readInt32LE(i),i+=4;break;case"I":f=n.readUInt32LE(i),i+=4;break;case"c":f=n.readInt8(i),i+=1;break;case"C":f=n.readUInt8(i),i+=1;break;case"s":f=n.readInt16LE(i),i+=2;break;case"S":f=n.readUInt16LE(i),i+=2;break;case"f":f=n.readFloatLE(i),i+=4;break;case"Z":case"H":for(f="";i<=s;){const l=n[i++];if(l===0)break;f+=String.fromCharCode(l)}break;case"B":{f="";const l=n[i++],c=String.fromCharCode(l),h=n.readInt32LE(i);if(i+=4,c==="i")if(a==="CG")for(let d=0;d<h;d++){const p=n.readInt32LE(i),b=p>>4,y=tu[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="I")if(a==="CG")for(let d=0;d<h;d++){const p=n.readUInt32LE(i),b=p>>4,y=tu[p&15];f+=b+y,i+=4}else for(let d=0;d<h;d++)f+=n.readUInt32LE(i),d+1<h&&(f+=","),i+=4;if(c==="s")for(let d=0;d<h;d++)f+=n.readInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="S")for(let d=0;d<h;d++)f+=n.readUInt16LE(i),d+1<h&&(f+=","),i+=2;if(c==="c")for(let d=0;d<h;d++)f+=n.readInt8(i),d+1<h&&(f+=","),i+=1;if(c==="C")for(let d=0;d<h;d++)f+=n.readUInt8(i),d+1<h&&(f+=","),i+=1;if(c==="f")for(let d=0;d<h;d++)f+=n.readFloatLE(i),d+1<h&&(f+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${u}', tags may be incomplete`),f=void 0,i=s}if(this._tagOffset=i,this._tagList.push(a),o===e)return f;this.data[o]=f}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(e){return e.match(/\d+\D/g).map(n=>[n.match(/\D/)[0].toUpperCase(),parseInt(n,10)])}isPaired(){return!!(this.flags&An.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&An.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&An.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&An.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&An.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&An.BAM_FMREVERSE)}isRead1(){return!!(this.flags&An.BAM_FREAD1)}isRead2(){return!!(this.flags&An.BAM_FREAD2)}isSecondary(){return!!(this.flags&An.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&An.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&An.BAM_FDUP)}isSupplementary(){return!!(this.flags&An.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:e,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const s=this.get("seq_length");let o="",a=0,u=e.readInt32LE(i),f=u>>4,l=tu[u&15];if(l==="S"&&f===s)return i+=4,u=e.readInt32LE(i),f=u>>4,l=tu[u&15],l!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=f,this.get("CG");for(let c=0;c<r;++c)u=e.readInt32LE(i),f=u>>4,l=tu[u&15],o+=f+l,l!=="H"&&l!=="S"&&l!=="I"&&(a+=f),i+=4;return this.data.length_on_ref=a,o}_flags(){}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:e,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),s=this.get("seq_length");let o="",a=0;for(let u=0;u<i;++u){const f=e[r+u];o+=s_[(f&240)>>4],a++,a<s&&(o+=s_[f&15],a++)}return o}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const e=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const s=[];return this.template_length()>0?(s[0]=e,s[1]=r,s[2]=n,s[3]=i):(s[2]=e,s[3]=r,s[0]=n,s[1]=i),s.join("")}return null}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const e={};return Object.keys(this).forEach(n=>{n.charAt(0)==="_"||n==="bytes"||(e[n]=this[n])}),e}}function t7(t){const e=t.split(/\r?\n/),n=[];return e.forEach(r=>{const[i,...s]=r.split(/\t/),o=s.map(a=>{const[u,f]=a.split(":",2);return{tag:u,value:f}});i&&n.push({tag:i.substr(1),data:o})}),n}const n7=21840194,vg=65536;function Ag(t){return[].concat(...t)}async function r7(t){const e=[];for await(const n of t)e.push(n);return e}class i7{constructor({bamFilehandle:e,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:s,baiUrl:o,csiPath:a,csiFilehandle:u,csiUrl:f,fetchSizeLimit:l,chunkSizeLimit:c,yieldThreadTime:h=100,renameRefSeqs:d=p=>p}){if(this.featureCache=new xc({cache:new JO({maxSize:50}),fill:async({chunk:p,opts:b},y)=>{const{data:w,cpositions:E,dpositions:S}=await this._readChunk({chunk:p,opts:{...b,signal:y}});return await this.readBamFeatures(w,E,S,p)}}),this.renameRefSeq=d,e)this.bam=e;else if(n)this.bam=new en(n);else if(r)this.bam=new rr(r);else throw new Error("unable to initialize bam");if(u)this.index=new mg({filehandle:u});else if(a)this.index=new mg({filehandle:new en(a)});else if(f)this.index=new mg({filehandle:new rr(f)});else if(s)this.index=new eu({filehandle:s});else if(i)this.index=new eu({filehandle:new en(i)});else if(o)this.index=new eu({filehandle:new rr(o)});else if(n)this.index=new eu({filehandle:new en(`${n}.bai`)});else if(r)this.index=new eu({filehandle:new rr(`${r}.bai`)});else throw new Error("unable to infer index format");this.fetchSizeLimit=l||5e8,this.chunkSizeLimit=c||3e8,this.yieldThreadTime=h}async getHeader(e={}){const n=OO(e),r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let s;if(i){const l=await this.bam.read(Buffer.alloc(i+vg),0,i+vg,0,n),{bytesRead:c}=l;if({buffer:s}=l,!c)throw new Error("Error reading header");c<i?s=s.subarray(0,c):s=s.subarray(0,i)}else s=await this.bam.readFile(n);const o=await Eo(s);if(o.readInt32LE(0)!==n7)throw new Error("Not a BAM file");const a=o.readInt32LE(4);this.header=o.toString("utf8",8,8+a);const{chrToIndex:u,indexToChr:f}=await this._readRefSeqs(a+8,65535,n);return this.chrToIndex=u,this.indexToChr=f,t7(this.header)}async getHeaderText(e={}){return await this.getHeader(e),this.header}async _readRefSeqs(e,n,r={}){if(e>n)return this._readRefSeqs(e,n*2,r);const i=n+vg,{bytesRead:s,buffer:o}=await this.bam.read(Buffer.alloc(i),0,n,0,r);if(!s)throw new Error("Error reading refseqs from header");const a=await Eo(o.subarray(0,Math.min(s,n))),u=a.readInt32LE(e);let f=e+4;const l={},c=[];for(let h=0;h<u;h+=1){const d=a.readInt32LE(f),p=this.renameRefSeq(a.toString("utf8",f+4,f+4+d-1)),b=a.readInt32LE(f+d+4);if(l[p]=h,c.push({refName:p,length:b}),f=f+8+d,f>a.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(e,n*2,r)}return{chrToIndex:l,indexToChr:c}}async getRecordsForRange(e,n,r,i={viewAsPairs:!1,pairAcrossChr:!1,maxInsertSize:2e5}){return Ag(await r7(this.streamRecordsForRange(e,n,r,i)))}async*streamRecordsForRange(e,n,r,i={}){const{signal:s}=i,o=this.chrToIndex&&this.chrToIndex[e];let a;if(!(o>=0))a=[];else if(a=await this.index.blocksForRange(o,n-1,r,i),!a)throw new Error("Error in index fetch");for(let f=0;f<a.length;f+=1){await e_(s);const l=a[f].fetchedSize();if(l>this.chunkSizeLimit)throw new Error(`Too many BAM features. BAM chunk size ${l} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit}`)}const u=a.map(f=>f.fetchedSize()).reduce((f,l)=>f+l,0);if(u>this.fetchSizeLimit)throw new Error(`data size of ${u.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);yield*this._fetchChunkFeatures(a,o,n,r,i)}async*_fetchChunkFeatures(e,n,r,i,s){const{viewAsPairs:o=!1}=s,a=[];let u=!1;for(let f=0;f<e.length;f++){const l=e[f],c=await this.featureCache.get(l.toString(),{chunk:l,opts:s},s.signal),h=[];for(let d=0;d<c.length;d+=1){const p=c[d];if(p.seq_id()===n)if(p.get("start")>=i){u=!0;break}else p.get("end")>=r&&h.push(p)}if(a.push(h),yield h,u)break}JE(s.signal),o&&(yield this.fetchPairs(n,a,s))}async fetchPairs(e,n,r){const{pairAcrossChr:i=!1,maxInsertSize:s=2e5}=r,o={},a={};n.map(h=>{const d={};for(let p=0;p<h.length;p++){const b=h[p].name(),y=h[p].id();d[b]||(d[b]=0),d[b]++,a[y]=1}QO(d).forEach(([p,b])=>{b===1&&(o[p]=!0)})});const u=[];n.map(h=>{for(let d=0;d<h.length;d++){const p=h[d],b=p.name(),y=p.get("start"),w=p._next_pos(),E=p._next_refid();o[b]&&(i||E===e&&Math.abs(y-w)<s)&&u.push(this.index.blocksForRange(E,w,w+1,r))}});const f=Ag(await Promise.all(u)).sort().filter((h,d,p)=>!d||h.toString()!==p[d-1].toString()),l=f.map(h=>h.fetchedSize()).reduce((h,d)=>h+d,0);if(l>this.fetchSizeLimit)throw new Error(`data size of ${l.toLocaleString()} bytes exceeded fetch size limit of ${this.fetchSizeLimit.toLocaleString()} bytes`);const c=f.map(async h=>{const{data:d,cpositions:p,dpositions:b,chunk:y}=await this._readChunk({chunk:h,opts:r}),w=await this.readBamFeatures(d,p,b,y),E=[];for(let S=0;S<w.length;S+=1){const T=w[S];o[T.get("name")]&&!a[T.id()]&&E.push(T)}return E});return Ag(await Promise.all(c))}async _readChunk({chunk:e,opts:n}){const r=e.fetchedSize(),{buffer:i,bytesRead:s}=await this.bam.read(Buffer.alloc(r),0,r,e.minv.blockPosition,n),{buffer:o,cpositions:a,dpositions:u}=await A2(i.subarray(0,Math.min(s,r)),e);return{data:o,cpositions:a,dpositions:u,chunk:e}}async readBamFeatures(e,n,r,i){let s=0;const o=[];let a=0,u=+Date.now();for(;s+4<e.length;){const f=e.readInt32LE(s),l=s+4+f-1;if(r){for(;s+i.minv.dataPosition>=r[a++];);a--}if(l<e.length){const c=new e7({bytes:{byteArray:e,start:s,end:l},fileOffset:n?n[a]*256+(s-r[a])+i.minv.dataPosition+1:ZO.signed(e.slice(s,l))});o.push(c),this.yieldThreadTime&&+Date.now()-u>this.yieldThreadTime&&(await NO(1),u=+Date.now())}s=l+1}return o}async hasRefSeq(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.hasRefSeq(n)}async lineCount(e){const n=this.chrToIndex&&this.chrToIndex[e];return this.index.lineCount(n)}async indexCov(e,n,r){await this.index.parse();const i=this.chrToIndex&&this.chrToIndex[e];return this.index.indexCov(i,n,r)}async blocksForRange(e,n,r,i){await this.index.parse();const s=this.chrToIndex&&this.chrToIndex[e];return this.index.blocksForRange(s,n,r,i)}}(function(){(function(t){(function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function r(C){return C&&DataView.prototype.isPrototypeOf(C)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(C){return C&&i.indexOf(Object.prototype.toString.call(C))>-1};function o(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function a(C){return typeof C!="string"&&(C=String(C)),C}function u(C){var M={next:function(){var P=C.shift();return{done:P===void 0,value:P}}};return n.iterable&&(M[Symbol.iterator]=function(){return M}),M}function f(C){this.map={},C instanceof f?C.forEach(function(M,P){this.append(P,M)},this):Array.isArray(C)?C.forEach(function(M){this.append(M[0],M[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(M){this.append(M,C[M])},this)}f.prototype.append=function(C,M){C=o(C),M=a(M);var P=this.map[C];this.map[C]=P?P+", "+M:M},f.prototype.delete=function(C){delete this.map[o(C)]},f.prototype.get=function(C){return C=o(C),this.has(C)?this.map[C]:null},f.prototype.has=function(C){return this.map.hasOwnProperty(o(C))},f.prototype.set=function(C,M){this.map[o(C)]=a(M)},f.prototype.forEach=function(C,M){for(var P in this.map)this.map.hasOwnProperty(P)&&C.call(M,this.map[P],P,this)},f.prototype.keys=function(){var C=[];return this.forEach(function(M,P){C.push(P)}),u(C)},f.prototype.values=function(){var C=[];return this.forEach(function(M){C.push(M)}),u(C)},f.prototype.entries=function(){var C=[];return this.forEach(function(M,P){C.push([P,M])}),u(C)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function l(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function c(C){return new Promise(function(M,P){C.onload=function(){M(C.result)},C.onerror=function(){P(C.error)}})}function h(C){var M=new FileReader,P=c(M);return M.readAsArrayBuffer(C),P}function d(C){var M=new FileReader,P=c(M);return M.readAsText(C),P}function p(C){for(var M=new Uint8Array(C),P=new Array(M.length),ee=0;ee<M.length;ee++)P[ee]=String.fromCharCode(M[ee]);return P.join("")}function b(C){if(C.slice)return C.slice(0);var M=new Uint8Array(C.byteLength);return M.set(new Uint8Array(C)),M.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:n.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:n.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():n.arrayBuffer&&n.blob&&r(C)?(this._bodyArrayBuffer=b(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||s(C))?this._bodyArrayBuffer=b(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var C=l(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var C=l(this);if(C)return C;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(C){var M=C.toUpperCase();return w.indexOf(M)>-1?M:C}function S(C,M){M=M||{};var P=M.body;if(C instanceof S){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,M.headers||(this.headers=new f(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!P&&C._bodyInit!=null&&(P=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new f(M.headers)),this.method=E(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(P)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function T(C){var M=new FormData;return C.trim().split("&").forEach(function(P){if(P){var ee=P.split("="),ne=ee.shift().replace(/\+/g," "),J=ee.join("=").replace(/\+/g," ");M.append(decodeURIComponent(ne),decodeURIComponent(J))}}),M}function D(C){var M=new f,P=C.replace(/\r?\n[\t ]+/g," ");return P.split(/\r?\n/).forEach(function(ee){var ne=ee.split(":"),J=ne.shift().trim();if(J){var me=ne.join(":").trim();M.append(J,me)}}),M}y.call(S.prototype);function B(C,M){M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in M?M.statusText:"OK",this.headers=new f(M.headers),this.url=M.url||"",this._initBody(C)}y.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},B.error=function(){var C=new B(null,{status:0,statusText:""});return C.type="error",C};var I=[301,302,303,307,308];B.redirect=function(C,M){if(I.indexOf(M)===-1)throw new RangeError("Invalid status code");return new B(null,{status:M,headers:{location:C}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(M,P){this.message=M,this.name=P;var ee=Error(M);this.stack=ee.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function N(C,M){return new Promise(function(P,ee){var ne=new S(C,M);if(ne.signal&&ne.signal.aborted)return ee(new e.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function me(){J.abort()}J.onload=function(){var Ee={status:J.status,statusText:J.statusText,headers:D(J.getAllResponseHeaders()||"")};Ee.url="responseURL"in J?J.responseURL:Ee.headers.get("X-Request-URL");var De="response"in J?J.response:J.responseText;P(new B(De,Ee))},J.onerror=function(){ee(new TypeError("Network request failed"))},J.ontimeout=function(){ee(new TypeError("Network request failed"))},J.onabort=function(){ee(new e.DOMException("Aborted","AbortError"))},J.open(ne.method,ne.url,!0),ne.credentials==="include"?J.withCredentials=!0:ne.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&n.blob&&(J.responseType="blob"),ne.headers.forEach(function(Ee,De){J.setRequestHeader(De,Ee)}),ne.signal&&(ne.signal.addEventListener("abort",me),J.onreadystatechange=function(){J.readyState===4&&ne.signal.removeEventListener("abort",me)}),J.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return N.polyfill=!0,t.fetch||(t.fetch=N,t.Headers=f,t.Request=S,t.Response=B),e.Headers=f,e.Request=S,e.Response=B,e.fetch=N,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:Nn)})();class s7 extends Df(fs){constructor(n,r){const i={channel:"x",windowSize:2e4,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");const s=o=>new rr(Bf(o,this.view.getBaseUrl()));this.bam=new i7({bamFilehandle:s(this.params.url),baiFilehandle:s(this.params.indexUrl??this.params.url+".bai")}),this.headerPromise=this.bam.getHeader(),this.headerPromise.then(o=>{var f,l;const a=this.genome.hasChrPrefix(),u=(l=(f=this.bam.indexToChr)==null?void 0:f[0])==null?void 0:l.refName.startsWith("chr");a&&!u?this.chrPrefixFixer=c=>c.replace("chr",""):!a&&u&&(this.chrPrefixFixer=c=>"chr"+c)})}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;await this.headerPromise;const i=this.quantizeInterval(n,r);if(this.checkAndUpdateLastInterval(i)){const s=this.genome.continuousToDiscreteChromosomeIntervals(i),o=await Promise.all(s.map(a=>this.bam.getRecordsForRange(this.chrPrefixFixer(a.chrom),a.startPos,a.endPos).then(u=>u.map(f=>({chrom:a.chrom,start:f.get("start"),end:f.get("end"),name:f.get("name"),MD:f.get("MD"),cigar:f.get("cigar"),mapq:f.get("mq"),strand:f.get("strand")===1?"+":"-"})))));this.publishData(o.flat())}}}var Eg={exports:{}},$o=typeof Reflect=="object"?Reflect:null,o_=$o&&typeof $o.apply=="function"?$o.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Gc;$o&&typeof $o.ownKeys=="function"?Gc=$o.ownKeys:Object.getOwnPropertySymbols?Gc=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Gc=function(e){return Object.getOwnPropertyNames(e)};function o7(t){console&&console.warn&&console.warn(t)}var a_=Number.isNaN||function(e){return e!==e};function Be(){Be.init.call(this)}Eg.exports=Be,Eg.exports.once=l7,Be.EventEmitter=Be,Be.prototype._events=void 0,Be.prototype._eventsCount=0,Be.prototype._maxListeners=void 0;var f_=10;function Hc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Be,"defaultMaxListeners",{enumerable:!0,get:function(){return f_},set:function(t){if(typeof t!="number"||t<0||a_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f_=t}}),Be.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||a_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function u_(t){return t._maxListeners===void 0?Be.defaultMaxListeners:t._maxListeners}Be.prototype.getMaxListeners=function(){return u_(this)},Be.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")o_(u,this,n);else for(var f=u.length,l=p_(u,f),r=0;r<f;++r)o_(l[r],this,n);return!0};function l_(t,e,n,r){var i,s,o;if(Hc(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=u_(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,o7(a)}return t}Be.prototype.addListener=function(e,n){return l_(this,e,n,!1)},Be.prototype.on=Be.prototype.addListener,Be.prototype.prependListener=function(e,n){return l_(this,e,n,!0)};function a7(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c_(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=a7.bind(r);return i.listener=n,r.wrapFn=i,i}Be.prototype.once=function(e,n){return Hc(n),this.on(e,c_(this,e,n)),this},Be.prototype.prependOnceListener=function(e,n){return Hc(n),this.prependListener(e,c_(this,e,n)),this},Be.prototype.removeListener=function(e,n){var r,i,s,o,a;if(Hc(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():f7(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this},Be.prototype.off=Be.prototype.removeListener,Be.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function h_(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?u7(i):p_(i,i.length)}Be.prototype.listeners=function(e){return h_(this,e,!0)},Be.prototype.rawListeners=function(e){return h_(this,e,!1)},Be.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):d_.call(t,e)},Be.prototype.listenerCount=d_;function d_(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Be.prototype.eventNames=function(){return this._eventsCount>0?Gc(this._events):[]};function p_(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function f7(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function u7(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function l7(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}g_(t,e,s,{once:!0}),e!=="error"&&c7(t,i,{once:!0})})}function c7(t,e,n){typeof t.on=="function"&&g_(t,"error",e,n)}function g_(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var _g=Eg.exports,Sg={exports:{}};typeof Object.create=="function"?Sg.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Sg.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Vo=Sg.exports,Cg,m_;function b_(){return m_||(m_=1,Cg=_g.EventEmitter),Cg}const y_=R5(H5);var Tg,w_;function h7(){if(w_)return Tg;w_=1;function t(h,d){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),p.push.apply(p,b)}return p}function e(h){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?t(Object(p),!0).forEach(function(b){n(h,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(p,b))})}return h}function n(h,d,p){return d in h?Object.defineProperty(h,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[d]=p,h}function r(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function i(h,d){for(var p=0;p<d.length;p++){var b=d[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}function s(h,d,p){return d&&i(h.prototype,d),p&&i(h,p),h}var o=yt,a=o.Buffer,u=y_,f=u.inspect,l=f&&f.custom||"inspect";function c(h,d,p){a.prototype.copy.call(h,d,p)}return Tg=function(){function h(){r(this,h),this.head=null,this.tail=null,this.length=0}return s(h,[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,y=""+b.data;b=b.next;)y+=p+b.data;return y}},{key:"concat",value:function(p){if(this.length===0)return a.alloc(0);for(var b=a.allocUnsafe(p>>>0),y=this.head,w=0;y;)c(y.data,b,w),w+=y.data.length,y=y.next;return b}},{key:"consume",value:function(p,b){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?y=this.shift():y=b?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,y=1,w=b.data;for(p-=w.length;b=b.next;){var E=b.data,S=p>E.length?E.length:p;if(S===E.length?w+=E:w+=E.slice(0,p),p-=S,p===0){S===E.length?(++y,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(S));break}++y}return this.length-=y,w}},{key:"_getBuffer",value:function(p){var b=a.allocUnsafe(p),y=this.head,w=1;for(y.data.copy(b),p-=y.data.length;y=y.next;){var E=y.data,S=p>E.length?E.length:p;if(E.copy(b,b.length-p,0,S),p-=S,p===0){S===E.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(S));break}++w}return this.length-=w,b}},{key:l,value:function(p,b){return f(this,e({},b,{depth:0,customInspect:!1}))}}]),h}(),Tg}var Fg,x_;function v_(){if(x_)return Fg;x_=1;function t(o,a){var u=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(c){!a&&c?u._writableState?u._writableState.errorEmitted?process.nextTick(n,u):(u._writableState.errorEmitted=!0,process.nextTick(e,u,c)):process.nextTick(e,u,c):a?(process.nextTick(n,u),a(c)):process.nextTick(n,u)}),this)}function e(o,a){i(o,a),n(o)}function n(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var u=o._readableState,f=o._writableState;u&&u.autoDestroy||f&&f.autoDestroy?o.destroy(a):o.emit("error",a)}return Fg={destroy:t,undestroy:r,errorOrDestroy:s},Fg}var Ig={},A_;function qo(){if(A_)return Ig;A_=1;function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var e={};function n(a,u,f){f||(f=Error);function l(h,d,p){return typeof u=="string"?u:u(h,d,p)}var c=function(h){t(d,h);function d(p,b,y){return h.call(this,l(p,b,y))||this}return d}(f);c.prototype.name=f.name,c.prototype.code=a,e[a]=c}function r(a,u){if(Array.isArray(a)){var f=a.length;return a=a.map(function(l){return String(l)}),f>2?"one of ".concat(u," ").concat(a.slice(0,f-1).join(", "),", or ")+a[f-1]:f===2?"one of ".concat(u," ").concat(a[0]," or ").concat(a[1]):"of ".concat(u," ").concat(a[0])}else return"of ".concat(u," ").concat(String(a))}function i(a,u,f){return a.substr(!f||f<0?0:+f,u.length)===u}function s(a,u,f){return(f===void 0||f>a.length)&&(f=a.length),a.substring(f-u.length,f)===u}function o(a,u,f){return typeof f!="number"&&(f=0),f+u.length>a.length?!1:a.indexOf(u,f)!==-1}return n("ERR_INVALID_OPT_VALUE",function(a,u){return'The value "'+u+'" is invalid for option "'+a+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(a,u,f){var l;typeof u=="string"&&i(u,"not ")?(l="must not be",u=u.replace(/^not /,"")):l="must be";var c;if(s(a," argument"))c="The ".concat(a," ").concat(l," ").concat(r(u,"type"));else{var h=o(a,".")?"property":"argument";c='The "'.concat(a,'" ').concat(h," ").concat(l," ").concat(r(u,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ig.codes=e,Ig}var Dg,E_;function __(){if(E_)return Dg;E_=1;var t=qo().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function n(r,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=o?s:"highWaterMark";throw new t(u,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return Dg={getHighWaterMark:n},Dg}var Bg,S_;function d7(){if(S_)return Bg;S_=1,Bg=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function e(n){try{if(!Nn.localStorage)return!1}catch{return!1}var r=Nn.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return Bg}var kg,C_;function T_(){if(C_)return kg;C_=1,kg=N;function t(O){var L=this;this.next=null,this.entry=null,this.finish=function(){mr(L,O)}}var e;N.WritableState=B;var n={deprecate:d7()},r=b_(),i=yt.Buffer,s=Nn.Uint8Array||function(){};function o(O){return i.from(O)}function a(O){return i.isBuffer(O)||O instanceof s}var u=v_(),f=__(),l=f.getHighWaterMark,c=qo().codes,h=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,w=c.ERR_STREAM_NULL_VALUES,E=c.ERR_STREAM_WRITE_AFTER_END,S=c.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;Vo(N,r);function D(){}function B(O,L,j){e=e||jo(),O=O||{},typeof j!="boolean"&&(j=L instanceof e),this.objectMode=!!O.objectMode,j&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=l(this,O,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=O.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){Ee(L,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var L=this.bufferedRequest,j=[];L;)j.push(L),L=L.next;return j},function(){try{Object.defineProperty(B.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(L){return I.call(this,L)?!0:this!==N?!1:L&&L._writableState instanceof B}})):I=function(L){return L instanceof this};function N(O){e=e||jo();var L=this instanceof e;if(!L&&!I.call(N,this))return new N(O);this._writableState=new B(O,this,L),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),r.call(this)}N.prototype.pipe=function(){T(this,new b)};function C(O,L){var j=new E;T(O,j),process.nextTick(L,j)}function M(O,L,j,V){var Q;return j===null?Q=new w:typeof j!="string"&&!L.objectMode&&(Q=new h("chunk",["string","Buffer"],j)),Q?(T(O,Q),process.nextTick(V,Q),!1):!0}N.prototype.write=function(O,L,j){var V=this._writableState,Q=!1,_=!V.objectMode&&a(O);return _&&!i.isBuffer(O)&&(O=o(O)),typeof L=="function"&&(j=L,L=null),_?L="buffer":L||(L=V.defaultEncoding),typeof j!="function"&&(j=D),V.ending?C(this,j):(_||M(this,V,O,j))&&(V.pendingcb++,Q=ee(this,V,_,O,L,j)),Q},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&et(this,O))},N.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new S(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function P(O,L,j){return!O.objectMode&&O.decodeStrings!==!1&&typeof L=="string"&&(L=i.from(L,j)),L}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ee(O,L,j,V,Q,_){if(!j){var v=P(L,V,Q);V!==v&&(j=!0,Q="buffer",V=v)}var H=L.objectMode?1:V.length;L.length+=H;var q=L.length<L.highWaterMark;if(q||(L.needDrain=!0),L.writing||L.corked){var le=L.lastBufferedRequest;L.lastBufferedRequest={chunk:V,encoding:Q,isBuf:j,callback:_,next:null},le?le.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else ne(O,L,!1,H,V,Q,_);return q}function ne(O,L,j,V,Q,_,v){L.writelen=V,L.writecb=v,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new y("write")):j?O._writev(Q,L.onwrite):O._write(Q,_,L.onwrite),L.sync=!1}function J(O,L,j,V,Q){--L.pendingcb,j?(process.nextTick(Q,V),process.nextTick(Wt,O,L),O._writableState.errorEmitted=!0,T(O,V)):(Q(V),O._writableState.errorEmitted=!0,T(O,V),Wt(O,L))}function me(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function Ee(O,L){var j=O._writableState,V=j.sync,Q=j.writecb;if(typeof Q!="function")throw new p;if(me(j),L)J(O,j,V,L,Q);else{var _=gr(j)||O.destroyed;!_&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&et(O,j),V?process.nextTick(De,O,j,_,Q):De(O,j,_,Q)}}function De(O,L,j,V){j||st(O,L),L.pendingcb--,V(),Wt(O,L)}function st(O,L){L.length===0&&L.needDrain&&(L.needDrain=!1,O.emit("drain"))}function et(O,L){L.bufferProcessing=!0;var j=L.bufferedRequest;if(O._writev&&j&&j.next){var V=L.bufferedRequestCount,Q=new Array(V),_=L.corkedRequestsFree;_.entry=j;for(var v=0,H=!0;j;)Q[v]=j,j.isBuf||(H=!1),j=j.next,v+=1;Q.allBuffers=H,ne(O,L,!0,L.length,Q,"",_.finish),L.pendingcb++,L.lastBufferedRequest=null,_.next?(L.corkedRequestsFree=_.next,_.next=null):L.corkedRequestsFree=new t(L),L.bufferedRequestCount=0}else{for(;j;){var q=j.chunk,le=j.encoding,re=j.callback,ce=L.objectMode?1:q.length;if(ne(O,L,!1,ce,q,le,re),j=j.next,L.bufferedRequestCount--,L.writing)break}j===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=j,L.bufferProcessing=!1}N.prototype._write=function(O,L,j){j(new d("_write()"))},N.prototype._writev=null,N.prototype.end=function(O,L,j){var V=this._writableState;return typeof O=="function"?(j=O,O=null,L=null):typeof L=="function"&&(j=L,L=null),O!=null&&this.write(O,L),V.corked&&(V.corked=1,this.uncork()),V.ending||qn(this,V,j),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function gr(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function Me(O,L){O._final(function(j){L.pendingcb--,j&&T(O,j),L.prefinished=!0,O.emit("prefinish"),Wt(O,L)})}function We(O,L){!L.prefinished&&!L.finalCalled&&(typeof O._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,process.nextTick(Me,O,L)):(L.prefinished=!0,O.emit("prefinish")))}function Wt(O,L){var j=gr(L);if(j&&(We(O,L),L.pendingcb===0&&(L.finished=!0,O.emit("finish"),L.autoDestroy))){var V=O._readableState;(!V||V.autoDestroy&&V.endEmitted)&&O.destroy()}return j}function qn(O,L,j){L.ending=!0,Wt(O,L),j&&(L.finished?process.nextTick(j):O.once("finish",j)),L.ended=!0,O.writable=!1}function mr(O,L,j){var V=O.entry;for(O.entry=null;V;){var Q=V.callback;L.pendingcb--,Q(j),V=V.next}L.corkedRequestsFree.next=O}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),N.prototype.destroy=u.destroy,N.prototype._undestroy=u.undestroy,N.prototype._destroy=function(O,L){L(O)},kg}var Rg,F_;function jo(){if(F_)return Rg;F_=1;var t=Object.keys||function(f){var l=[];for(var c in f)l.push(c);return l};Rg=o;var e=M_(),n=T_();Vo(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Rg}var Mg={},Pg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=yt,r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=r(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Pg,Pg.exports);var p7=Pg.exports,Ng=p7.Buffer,I_=Ng.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g7(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function m7(t){var e=g7(t);if(typeof e!="string"&&(Ng.isEncoding===I_||!I_(t)))throw new Error("Unknown encoding: "+t);return e||t}var b7=Mg.StringDecoder=nu;function nu(t){this.encoding=m7(t);var e;switch(this.encoding){case"utf16le":this.text=E7,this.end=_7,e=4;break;case"utf8":this.fillLast=x7,e=4;break;case"base64":this.text=S7,this.end=C7,e=3;break;default:this.write=T7,this.end=F7;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ng.allocUnsafe(e)}nu.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},nu.prototype.end=A7,nu.prototype.text=v7,nu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Lg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function y7(t,e,n){var r=e.length-1;if(r<n)return 0;var i=Lg(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=Lg(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=Lg(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function w7(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function x7(t){var e=this.lastTotal-this.lastNeed,n=w7(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function v7(t,e){var n=y7(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function A7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function E7(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function _7(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function S7(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function C7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function T7(t){return t.toString(this.encoding)}function F7(t){return t&&t.length?this.write(t):""}var Og,D_;function zg(){if(D_)return Og;D_=1;var t=qo().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];s.apply(this,u)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||n);var u=o.readable||o.readable!==!1&&s.readable,f=o.writable||o.writable!==!1&&s.writable,l=function(){s.writable||h()},c=s._writableState&&s._writableState.finished,h=function(){f=!1,c=!0,u||a.call(s)},d=s._readableState&&s._readableState.endEmitted,p=function(){u=!1,d=!0,f||a.call(s)},b=function(S){a.call(s,S)},y=function(){var S;if(u&&!d)return(!s._readableState||!s._readableState.ended)&&(S=new t),a.call(s,S);if(f&&!c)return(!s._writableState||!s._writableState.ended)&&(S=new t),a.call(s,S)},w=function(){s.req.on("finish",h)};return r(s)?(s.on("complete",h),s.on("abort",y),s.req?w():s.on("request",w)):f&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",p),s.on("finish",h),o.error!==!1&&s.on("error",b),s.on("close",y),function(){s.removeListener("complete",h),s.removeListener("abort",y),s.removeListener("request",w),s.req&&s.req.removeListener("finish",h),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",h),s.removeListener("end",p),s.removeListener("error",b),s.removeListener("close",y)}}return Og=i,Og}var Ug,B_;function I7(){if(B_)return Ug;B_=1;var t;function e(w,E,S){return E in w?Object.defineProperty(w,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[E]=S,w}var n=zg(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function l(w,E){return{value:w,done:E}}function c(w){var E=w[r];if(E!==null){var S=w[f].read();S!==null&&(w[a]=null,w[r]=null,w[i]=null,E(l(S,!1)))}}function h(w){process.nextTick(c,w)}function d(w,E){return function(S,T){w.then(function(){if(E[o]){S(l(void 0,!0));return}E[u](S,T)},T)}}var p=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var E=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[o])return Promise.resolve(l(void 0,!0));if(this[f].destroyed)return new Promise(function(I,N){process.nextTick(function(){E[s]?N(E[s]):I(l(void 0,!0))})});var T=this[a],D;if(T)D=new Promise(d(T,this));else{var B=this[f].read();if(B!==null)return Promise.resolve(l(B,!1));D=new Promise(this[u])}return this[a]=D,D}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var E=this;return new Promise(function(S,T){E[f].destroy(null,function(D){if(D){T(D);return}S(l(void 0,!0))})})}),t),p),y=function(E){var S,T=Object.create(b,(S={},e(S,f,{value:E,writable:!0}),e(S,r,{value:null,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:E._readableState.endEmitted,writable:!0}),e(S,u,{value:function(B,I){var N=T[f].read();N?(T[a]=null,T[r]=null,T[i]=null,B(l(N,!1))):(T[r]=B,T[i]=I)},writable:!0}),S));return T[a]=null,n(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=T[i];B!==null&&(T[a]=null,T[r]=null,T[i]=null,B(D)),T[s]=D;return}var I=T[r];I!==null&&(T[a]=null,T[r]=null,T[i]=null,I(l(void 0,!0))),T[o]=!0}),E.on("readable",h.bind(null,T)),T};return Ug=y,Ug}var Gg,k_;function D7(){return k_||(k_=1,Gg=function(){throw new Error("Readable.from is not available in the browser")}),Gg}var Hg,R_;function M_(){if(R_)return Hg;R_=1,Hg=C;var t;C.ReadableState=N,_g.EventEmitter;var e=function(v,H){return v.listeners(H).length},n=b_(),r=yt.Buffer,i=Nn.Uint8Array||function(){};function s(_){return r.from(_)}function o(_){return r.isBuffer(_)||_ instanceof i}var a=y_,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var f=h7(),l=v_(),c=__(),h=c.getHighWaterMark,d=qo().codes,p=d.ERR_INVALID_ARG_TYPE,b=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,S,T;Vo(C,n);var D=l.errorOrDestroy,B=["error","close","destroy","pause","resume"];function I(_,v,H){if(typeof _.prependListener=="function")return _.prependListener(v,H);!_._events||!_._events[v]?_.on(v,H):Array.isArray(_._events[v])?_._events[v].unshift(H):_._events[v]=[H,_._events[v]]}function N(_,v,H){t=t||jo(),_=_||{},typeof H!="boolean"&&(H=v instanceof t),this.objectMode=!!_.objectMode,H&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=h(this,_,"readableHighWaterMark",H),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(E||(E=Mg.StringDecoder),this.decoder=new E(_.encoding),this.encoding=_.encoding)}function C(_){if(t=t||jo(),!(this instanceof C))return new C(_);var v=this instanceof t;this._readableState=new N(_,this,v),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),n.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(_,v){v(_)},C.prototype.push=function(_,v){var H=this._readableState,q;return H.objectMode?q=!0:typeof _=="string"&&(v=v||H.defaultEncoding,v!==H.encoding&&(_=r.from(_,v),v=""),q=!0),M(this,_,v,!1,q)},C.prototype.unshift=function(_){return M(this,_,null,!0,!1)};function M(_,v,H,q,le){u("readableAddChunk",v);var re=_._readableState;if(v===null)re.reading=!1,Ee(_,re);else{var ce;if(le||(ce=ee(re,v)),ce)D(_,ce);else if(re.objectMode||v&&v.length>0)if(typeof v!="string"&&!re.objectMode&&Object.getPrototypeOf(v)!==r.prototype&&(v=s(v)),q)re.endEmitted?D(_,new w):P(_,re,v,!0);else if(re.ended)D(_,new b);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!H?(v=re.decoder.write(v),re.objectMode||v.length!==0?P(_,re,v,!1):et(_,re)):P(_,re,v,!1)}else q||(re.reading=!1,et(_,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function P(_,v,H,q){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,_.emit("data",H)):(v.length+=v.objectMode?1:H.length,q?v.buffer.unshift(H):v.buffer.push(H),v.needReadable&&De(_)),et(_,v)}function ee(_,v){var H;return!o(v)&&typeof v!="string"&&v!==void 0&&!_.objectMode&&(H=new p("chunk",["string","Buffer","Uint8Array"],v)),H}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(_){E||(E=Mg.StringDecoder);var v=new E(_);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,q="";H!==null;)q+=v.write(H.data),H=H.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var ne=1073741824;function J(_){return _>=ne?_=ne:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}function me(_,v){return _<=0||v.length===0&&v.ended?0:v.objectMode?1:_!==_?v.flowing&&v.length?v.buffer.head.data.length:v.length:(_>v.highWaterMark&&(v.highWaterMark=J(_)),_<=v.length?_:v.ended?v.length:(v.needReadable=!0,0))}C.prototype.read=function(_){u("read",_),_=parseInt(_,10);var v=this._readableState,H=_;if(_!==0&&(v.emittedReadable=!1),_===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return u("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?j(this):De(this),null;if(_=me(_,v),_===0&&v.ended)return v.length===0&&j(this),null;var q=v.needReadable;u("need readable",q),(v.length===0||v.length-_<v.highWaterMark)&&(q=!0,u("length less than watermark",q)),v.ended||v.reading?(q=!1,u("reading or ended",q)):q&&(u("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(_=me(H,v)));var le;return _>0?le=L(_,v):le=null,le===null?(v.needReadable=v.length<=v.highWaterMark,_=0):(v.length-=_,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),H!==_&&v.ended&&j(this)),le!==null&&this.emit("data",le),le};function Ee(_,v){if(u("onEofChunk"),!v.ended){if(v.decoder){var H=v.decoder.end();H&&H.length&&(v.buffer.push(H),v.length+=v.objectMode?1:H.length)}v.ended=!0,v.sync?De(_):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,st(_)))}}function De(_){var v=_._readableState;u("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(u("emitReadable",v.flowing),v.emittedReadable=!0,process.nextTick(st,_))}function st(_){var v=_._readableState;u("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(_.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,O(_)}function et(_,v){v.readingMore||(v.readingMore=!0,process.nextTick(gr,_,v))}function gr(_,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var H=v.length;if(u("maybeReadMore read 0"),_.read(0),H===v.length)break}v.readingMore=!1}C.prototype._read=function(_){D(this,new y("_read()"))},C.prototype.pipe=function(_,v){var H=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=_;break;case 1:q.pipes=[q.pipes,_];break;default:q.pipes.push(_);break}q.pipesCount+=1,u("pipe count=%d opts=%j",q.pipesCount,v);var le=(!v||v.end!==!1)&&_!==process.stdout&&_!==process.stderr,re=le?Yt:br;q.endEmitted?process.nextTick(re):H.once("end",re),_.on("unpipe",ce);function ce(x,g){u("onunpipe"),x===H&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,Fi())}function Yt(){u("onend"),_.end()}var Ci=Me(H);_.on("drain",Ci);var Ti=!1;function Fi(){u("cleanup"),_.removeListener("close",Ii),_.removeListener("finish",Qt),_.removeListener("drain",Ci),_.removeListener("error",zr),_.removeListener("unpipe",ce),H.removeListener("end",Yt),H.removeListener("end",br),H.removeListener("data",Ft),Ti=!0,q.awaitDrain&&(!_._writableState||_._writableState.needDrain)&&Ci()}H.on("data",Ft);function Ft(x){u("ondata");var g=_.write(x);u("dest.write",g),g===!1&&((q.pipesCount===1&&q.pipes===_||q.pipesCount>1&&Q(q.pipes,_)!==-1)&&!Ti&&(u("false write response, pause",q.awaitDrain),q.awaitDrain++),H.pause())}function zr(x){u("onerror",x),br(),_.removeListener("error",zr),e(_,"error")===0&&D(_,x)}I(_,"error",zr);function Ii(){_.removeListener("finish",Qt),br()}_.once("close",Ii);function Qt(){u("onfinish"),_.removeListener("close",Ii),br()}_.once("finish",Qt);function br(){u("unpipe"),H.unpipe(_)}return _.emit("pipe",H),q.flowing||(u("pipe resume"),H.resume()),_};function Me(_){return function(){var H=_._readableState;u("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&e(_,"data")&&(H.flowing=!0,O(_))}}C.prototype.unpipe=function(_){var v=this._readableState,H={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return _&&_!==v.pipes?this:(_||(_=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,_&&_.emit("unpipe",this,H),this);if(!_){var q=v.pipes,le=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var re=0;re<le;re++)q[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=Q(v.pipes,_);return ce===-1?this:(v.pipes.splice(ce,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),_.emit("unpipe",this,H),this)},C.prototype.on=function(_,v){var H=n.prototype.on.call(this,_,v),q=this._readableState;return _==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):_==="readable"&&!q.endEmitted&&!q.readableListening&&(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,u("on readable",q.length,q.reading),q.length?De(this):q.reading||process.nextTick(Wt,this)),H},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(_,v){var H=n.prototype.removeListener.call(this,_,v);return _==="readable"&&process.nextTick(We,this),H},C.prototype.removeAllListeners=function(_){var v=n.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&process.nextTick(We,this),v};function We(_){var v=_._readableState;v.readableListening=_.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:_.listenerCount("data")>0&&_.resume()}function Wt(_){u("readable nexttick read 0"),_.read(0)}C.prototype.resume=function(){var _=this._readableState;return _.flowing||(u("resume"),_.flowing=!_.readableListening,qn(this,_)),_.paused=!1,this};function qn(_,v){v.resumeScheduled||(v.resumeScheduled=!0,process.nextTick(mr,_,v))}function mr(_,v){u("resume",v.reading),v.reading||_.read(0),v.resumeScheduled=!1,_.emit("resume"),O(_),v.flowing&&!v.reading&&_.read(0)}C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(_){var v=_._readableState;for(u("flow",v.flowing);v.flowing&&_.read()!==null;);}C.prototype.wrap=function(_){var v=this,H=this._readableState,q=!1;_.on("end",function(){if(u("wrapped end"),H.decoder&&!H.ended){var ce=H.decoder.end();ce&&ce.length&&v.push(ce)}v.push(null)}),_.on("data",function(ce){if(u("wrapped data"),H.decoder&&(ce=H.decoder.write(ce)),!(H.objectMode&&ce==null)&&!(!H.objectMode&&(!ce||!ce.length))){var Yt=v.push(ce);Yt||(q=!0,_.pause())}});for(var le in _)this[le]===void 0&&typeof _[le]=="function"&&(this[le]=function(Yt){return function(){return _[Yt].apply(_,arguments)}}(le));for(var re=0;re<B.length;re++)_.on(B[re],this.emit.bind(this,B[re]));return this._read=function(ce){u("wrapped _read",ce),q&&(q=!1,_.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=I7()),S(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),C._fromList=L,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(_,v){if(v.length===0)return null;var H;return v.objectMode?H=v.buffer.shift():!_||_>=v.length?(v.decoder?H=v.buffer.join(""):v.buffer.length===1?H=v.buffer.first():H=v.buffer.concat(v.length),v.buffer.clear()):H=v.buffer.consume(_,v.decoder),H}function j(_){var v=_._readableState;u("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,process.nextTick(V,v,_))}function V(_,v){if(u("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,v.readable=!1,v.emit("end"),_.autoDestroy)){var H=v._writableState;(!H||H.autoDestroy&&H.finished)&&v.destroy()}}typeof Symbol=="function"&&(C.from=function(_,v){return T===void 0&&(T=D7()),T(C,_,v)});function Q(_,v){for(var H=0,q=_.length;H<q;H++)if(_[H]===v)return H;return-1}return Hg}var $g,P_;function N_(){if(P_)return $g;P_=1,$g=a;var t=qo().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=jo();Vo(a,s);function o(l,c){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),d(l);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);s.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function u(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){f(l,c,h)}):f(this,null,null)}a.prototype.push=function(l,c){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,c)},a.prototype._transform=function(l,c,h){h(new e("_transform()"))},a.prototype._write=function(l,c,h){var d=this._transformState;if(d.writecb=h,d.writechunk=l,d.writeencoding=c,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(l){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(l,c){s.prototype._destroy.call(this,l,function(h){c(h)})};function f(l,c,h){if(c)return l.emit("error",c);if(h!=null&&l.push(h),l._writableState.length)throw new i;if(l._transformState.transforming)throw new r;return l.push(null)}return $g}var Vg,L_;function B7(){if(L_)return Vg;L_=1,Vg=e;var t=N_();Vo(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},Vg}var qg,O_;function k7(){if(O_)return qg;O_=1;var t;function e(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=qo().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,d,p,b){b=e(b);var y=!1;h.on("close",function(){y=!0}),t===void 0&&(t=zg()),t(h,{readable:d,writable:p},function(E){if(E)return b(E);y=!0,b()});var w=!1;return function(E){if(!y&&!w){if(w=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();b(E||new i("pipe"))}}}function u(h){h()}function f(h,d){return h.pipe(d)}function l(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function c(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var b=l(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var y,w=d.map(function(E,S){var T=S<d.length-1,D=S>0;return a(E,T,D,function(B){y||(y=B),B&&w.forEach(u),!T&&(w.forEach(u),b(y))})});return d.reduce(f)}return qg=c,qg}var z_=En,jg=_g.EventEmitter,R7=Vo;R7(En,jg),En.Readable=M_(),En.Writable=T_(),En.Duplex=jo(),En.Transform=N_(),En.PassThrough=B7(),En.finished=zg(),En.pipeline=k7(),En.Stream=En;function En(){jg.call(this)}En.prototype.pipe=function(t,e){var n=this;function r(l){t.writable&&t.write(l)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",o),n.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function u(l){if(f(),jg.listenerCount(this,"error")===0)throw l}n.on("error",u),t.on("error",u);function f(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",a),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t};function ru(t){return t.replace(/%([0-9A-Fa-f]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}function U_(t,e){return String(e).replace(t,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function iu(t){return U_(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,t)}function Mr(t){return U_(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,t)}function G_(t){if(!(t&&t.length)||t===".")return{};const e={};return t.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=e[r[0].trim()];i||(i=[],e[r[0]]=i),i.push(...r[1].split(",").map(s=>s.trim()).map(ru))}),e}function H_(t){const e=t.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:e[0]&&ru(e[0]),source:e[1]&&ru(e[1]),type:e[2]&&ru(e[2]),start:e[3]===null?null:parseInt(e[3],10),end:e[4]===null?null:parseInt(e[4],10),score:e[5]===null?null:parseFloat(e[5]),strand:e[6],phase:e[7],attributes:e[8]===null?null:G_(e[8])}}function $_(t){const e=/^\s*##\s*(\S+)\s*(.*)/.exec(t);if(!e)return null;const[,n]=e;let[,,r]=e;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const s=r.split(/\s+/,3);return{...i,seq_id:s[0],start:s[1]&&s[1].replace(/\D/g,""),end:s[2]&&s[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[s,o]=r.split(/\s+/,2);return{...i,source:s,buildName:o}}return i}function V_(t){const e=[];return Object.entries(t).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=iu(r.toString()):Array.isArray(r)?i=r.map(iu).join(","):i=iu(r),e.push(`${iu(n)}=${i}`)}),e.length?e.join(";"):"."}function M7(t,e){const n=t.attributes===null||t.attributes===void 0?".":V_(t.attributes),i=`${[t.seq_id===null?".":Mr(t.seq_id),t.source===null?".":Mr(t.source),t.type===null?".":Mr(t.type),t.start===null?".":Mr(t.start),t.end===null?".":Mr(t.end),t.score===null?".":Mr(t.score),t.strand===null?".":Mr(t.strand),t.phase===null?".":Mr(t.phase),n].join("	")}
`;return e[i]?"":(e[i]=!0,i)}function $c(t,e){if(Array.isArray(t))return t.map(r=>$c(r,e)).join("");const n=[M7(t,e)];return P7(t)&&n.push(...t.child_features.map(r=>$c(r,e)),...t.derived_features.map(r=>$c(r,e))),n.join("")}function q_(t){return $c(t,{})}function j_(t){let e=`##${t.directive}`;return t.value&&(e+=` ${t.value}`),e+=`
`,e}function Z_(t){return`# ${t.comment}
`}function Zg(t){return`>${t.id}${t.description?` ${t.description}`:""}
${t.sequence}
`}function Vc(t){function e(n){return"attributes"in n?q_(n):"directive"in n?j_(n):"sequence"in n?Zg(n):"comment"in n?Z_(n):`# (invalid item found during format)
`}return Array.isArray(t)?t.map(e):e(t)}function P7(t){return t.child_features!==void 0&&t.derived_features!==void 0}const N7=Object.freeze(Object.defineProperty({__proto__:null,escape:iu,escapeColumn:Mr,formatAttributes:V_,formatComment:Z_,formatDirective:j_,formatFeature:q_,formatItem:Vc,formatSequence:Zg,parseAttributes:G_,parseDirective:$_,parseFeature:H_,unescape:ru},Symbol.toStringTag,{value:"Module"})),W_={Parent:"child_features",Derives_from:"derived_features"};class Y_{constructor(e){this.seqCallback=e,this.currentSequence=void 0}addLine(e){const n=/^>\s*(\S+)\s*(.*)/.exec(e);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(e)&&(this.currentSequence.sequence+=e.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class Q_{constructor(e){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=e.featureCallback||n,this.endCallback=e.endCallback||n,this.commentCallback=e.commentCallback||n,this.errorCallback=e.errorCallback||n,this.directiveCallback=e.directiveCallback||n,this.sequenceCallback=e.sequenceCallback||n,this.disableDerivesFromReferences=e.disableDerivesFromReferences||!1,this.bufferSize=e.bufferSize===void 0?1e3:e.bufferSize}addLine(e){if(this.fastaParser){this.fastaParser.addLine(e);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(e)){this._bufferLine(e);return}const n=/^\s*(#+)(.*)/.exec(e);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const s=$_(e);s&&(s.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new Y_(this.sequenceCallback)):this._emitItem(s))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(e))if(/^\s*>/.test(e))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new Y_(this.sequenceCallback),this.fastaParser.addLine(e);else{const r=e.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(e){Array.isArray(e)?this.featureCallback(e):"directive"in e?this.directiveCallback(e):"comment"in e&&this.commentCallback(e)}_enforceBufferSizeLimit(e=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(s=>{delete this._underConstructionById[s],delete this._completedReferences[s]}),r.forEach(s=>{s.child_features&&s.child_features.forEach(o=>n(o)),s.derived_features&&s.derived_features.forEach(o=>n(o))}))};for(;this._underConstructionTopLevel.length+e>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(e){var n,r,i;const o={...H_(e),child_features:[],derived_features:[]},a=((n=o.attributes)===null||n===void 0?void 0:n.ID)||[],u=((r=o.attributes)===null||r===void 0?void 0:r.Parent)||[],f=this.disableDerivesFromReferences?[]:((i=o.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!a.length&&!u.length&&!f.length){this._emitItem([o]);return}let l;a.forEach(c=>{const h=this._underConstructionById[c];h?(h[h.length-1].type!==o.type&&this._parseError(`multi-line feature "${c}" has inconsistent types: "${o.type}", "${h[h.length-1].type}"`),h.push(o),l=h):(l=[o],this._enforceBufferSizeLimit(1),!u.length&&!f.length&&this._underConstructionTopLevel.push(l),this._underConstructionById[c]=l,this._resolveReferencesTo(l,c))}),this._resolveReferencesFrom(l||[o],{Parent:u,Derives_from:f},a)}_resolveReferencesTo(e,n){const r=this._underConstructionOrphans[n];r&&(e.forEach(i=>{i.child_features.push(...r.Parent)}),e.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(e){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${e}`)}_resolveReferencesFrom(e,n,r){function i(s,o,a){let u=s[o];u||(u={},s[o]=u);const f=u[a]||!1;return u[a]=!0,f}n.Parent.forEach(s=>{const o=this._underConstructionById[s];if(o){const a=W_.Parent;r.filter(u=>i(this._completedReferences,u,`Parent,${s}`)).length||o.forEach(u=>{u[a].push(e)})}else{let a=this._underConstructionOrphans[s];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[s]=a),a.Parent.push(e)}}),n.Derives_from.forEach(s=>{const o=this._underConstructionById[s];if(o){const a=W_.Derives_from;r.filter(u=>i(this._completedReferences,u,`Derives_from,${s}`)).length||o.forEach(u=>{u[a].push(e)})}else{let a=this._underConstructionOrphans[s];a||(a={Parent:[],Derives_from:[]},this._underConstructionOrphans[s]=a),a.Derives_from.push(e)}})}}function Wg(t){process&&process.nextTick?process.nextTick(t):t()}function X_(t){const e={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...t};return t.parseAll&&(e.parseFeatures=!0,e.parseDirectives=!0,e.parseComments=!0,e.parseSequences=!0),e}class L7 extends z_.Transform{constructor(e={}){super({objectMode:!0}),this.textBuffer="";const n=X_(e);this.encoding=e.encoding||"utf8",this.decoder=new b7;const r=this.push.bind(this);this.parser=new Q_({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(e){e&&this.parser.addLine(e)}_nextText(e){const n=(this.textBuffer+e).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(e,n,r){this._nextText(this.decoder.write(e)),Wg(r)}_flush(e){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),Wg(e)}}function O7(t={}){return new L7(t)}function z7(t,e={}){if(!t)return[];const n=X_(e),r=[],i=r.push.bind(r),s=new Q_({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:o=>{throw o}});return t.split(/\r?\n/).forEach(s.addLine.bind(s)),s.finish(),r}function U7(t){const e=[],n=[];t.forEach(i=>{"sequence"in i?n.push(i):e.push(i)});let r=e.map(Vc).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(Zg).join("")),r}class K_ extends z_.Transform{constructor(e={}){super(Object.assign(e,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=e.minSyncLines||100,this.insertVersionDirective=e.insertVersionDirective||!1}_transform(e,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const s=Array.isArray(e)?e[0]:e;"directive"in s&&s.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in e&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(e)?i=e.map(Vc).join(""):i=Vc(e),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let s=0;for(let o=0;o<i.length;o+=1)i[o]===`
`&&(s+=1);this.linesSinceLastSyncMark+=s}this.haveWeEmittedData=!0,Wg(r)}}function G7(t={}){return new K_(t)}function H7(t,e,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,s)=>{t.pipe(new K_(r)).on("end",()=>i(null)).on("error",s).pipe(e)})}const $7={parseStream:O7,parseStringSync:z7,formatSync:U7,formatStream:G7,formatFile:H7,util:N7};function J_(t){if(t.greaterThan(Number.MAX_SAFE_INTEGER)||t.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return t.toNumber()}class V7 extends Error{}function Ds(t){if(t&&t.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const e=new V7("aborted");throw e.code="ERR_ABORTED",e}}}function q7(t,e){return e.minv.blockPosition-t.maxv.blockPosition<65e3&&e.maxv.blockPosition-t.minv.blockPosition<5e6}function e3(t,e){const n=[];let r=null;return t.length===0?t:(t.sort(function(i,s){const o=i.minv.blockPosition-s.minv.blockPosition;return o!==0?o:i.minv.dataPosition-s.minv.dataPosition}),t.forEach(i=>{(!e||i.maxv.compareTo(e)>0)&&(r===null?(n.push(i),r=i):q7(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}var j7=Oe,_n=null;try{_n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Oe(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Oe.prototype.__isLong__,Object.defineProperty(Oe.prototype,"__isLong__",{value:!0});function jt(t){return(t&&t.__isLong__)===!0}Oe.isLong=jt;var t3={},n3={};function Bs(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=n3[t],r)?r:(n=ze(t,(t|0)<0?-1:0,!0),i&&(n3[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=t3[t],r)?r:(n=ze(t,t<0?-1:0,!1),i&&(t3[t]=n),n))}Oe.fromInt=Bs;function Sn(t,e){if(isNaN(t))return e?ks:Cn;if(e){if(t<0)return ks;if(t>=i3)return u3}else{if(t<=-s3)return Zt;if(t+1>=s3)return f3}return t<0?Sn(-t,e).neg():ze(t%Zo|0,t/Zo|0,e)}Oe.fromNumber=Sn;function ze(t,e,n){return new Oe(t,e,n)}Oe.fromBits=ze;var qc=Math.pow;function Yg(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Cn;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Yg(t.substring(1),e,n).neg();for(var i=Sn(qc(n,8)),s=Cn,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+a),n);if(a<8){var f=Sn(qc(n,a));s=s.mul(f).add(Sn(u))}else s=s.mul(i),s=s.add(Sn(u))}return s.unsigned=e,s}Oe.fromString=Yg;function Vn(t,e){return typeof t=="number"?Sn(t,e):typeof t=="string"?Yg(t,e):ze(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Oe.fromValue=Vn;var r3=65536,Z7=1<<24,Zo=r3*r3,i3=Zo*Zo,s3=i3/2,o3=Bs(Z7),Cn=Bs(0);Oe.ZERO=Cn;var ks=Bs(0,!0);Oe.UZERO=ks;var Wo=Bs(1);Oe.ONE=Wo;var a3=Bs(1,!0);Oe.UONE=a3;var Qg=Bs(-1);Oe.NEG_ONE=Qg;var f3=ze(-1,2147483647,!1);Oe.MAX_VALUE=f3;var u3=ze(-1,-1,!0);Oe.MAX_UNSIGNED_VALUE=u3;var Zt=ze(0,-2147483648,!1);Oe.MIN_VALUE=Zt;var Y=Oe.prototype;Y.toInt=function(){return this.unsigned?this.low>>>0:this.low},Y.toNumber=function(){return this.unsigned?(this.high>>>0)*Zo+(this.low>>>0):this.high*Zo+(this.low>>>0)},Y.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Zt)){var n=Sn(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Sn(qc(e,6),this.unsigned),o=this,a="";;){var u=o.div(s),f=o.sub(u.mul(s)).toInt()>>>0,l=f.toString(e);if(o=u,o.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Y.getHighBits=function(){return this.high},Y.getHighBitsUnsigned=function(){return this.high>>>0},Y.getLowBits=function(){return this.low},Y.getLowBitsUnsigned=function(){return this.low>>>0},Y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Zt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},Y.isZero=function(){return this.high===0&&this.low===0},Y.eqz=Y.isZero,Y.isNegative=function(){return!this.unsigned&&this.high<0},Y.isPositive=function(){return this.unsigned||this.high>=0},Y.isOdd=function(){return(this.low&1)===1},Y.isEven=function(){return(this.low&1)===0},Y.equals=function(e){return jt(e)||(e=Vn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},Y.eq=Y.equals,Y.notEquals=function(e){return!this.eq(e)},Y.neq=Y.notEquals,Y.ne=Y.notEquals,Y.lessThan=function(e){return this.comp(e)<0},Y.lt=Y.lessThan,Y.lessThanOrEqual=function(e){return this.comp(e)<=0},Y.lte=Y.lessThanOrEqual,Y.le=Y.lessThanOrEqual,Y.greaterThan=function(e){return this.comp(e)>0},Y.gt=Y.greaterThan,Y.greaterThanOrEqual=function(e){return this.comp(e)>=0},Y.gte=Y.greaterThanOrEqual,Y.ge=Y.greaterThanOrEqual,Y.compare=function(e){if(jt(e)||(e=Vn(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Y.comp=Y.compare,Y.negate=function(){return!this.unsigned&&this.eq(Zt)?Zt:this.not().add(Wo)},Y.neg=Y.negate,Y.add=function(e){jt(e)||(e=Vn(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,u=e.low>>>16,f=e.low&65535,l=0,c=0,h=0,d=0;return d+=s+f,h+=d>>>16,d&=65535,h+=i+u,c+=h>>>16,h&=65535,c+=r+a,l+=c>>>16,c&=65535,l+=n+o,l&=65535,ze(h<<16|d,l<<16|c,this.unsigned)},Y.subtract=function(e){return jt(e)||(e=Vn(e)),this.add(e.neg())},Y.sub=Y.subtract,Y.multiply=function(e){if(this.isZero())return Cn;if(jt(e)||(e=Vn(e)),_n){var n=_n.mul(this.low,this.high,e.low,e.high);return ze(n,_n.get_high(),this.unsigned)}if(e.isZero())return Cn;if(this.eq(Zt))return e.isOdd()?Zt:Cn;if(e.eq(Zt))return this.isOdd()?Zt:Cn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(o3)&&e.lt(o3))return Sn(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,u=e.high&65535,f=e.low>>>16,l=e.low&65535,c=0,h=0,d=0,p=0;return p+=o*l,d+=p>>>16,p&=65535,d+=s*l,h+=d>>>16,d&=65535,d+=o*f,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=s*f,c+=h>>>16,h&=65535,h+=o*u,c+=h>>>16,h&=65535,c+=r*l+i*f+s*u+o*a,c&=65535,ze(d<<16|p,c<<16|h,this.unsigned)},Y.mul=Y.multiply,Y.divide=function(e){if(jt(e)||(e=Vn(e)),e.isZero())throw Error("division by zero");if(_n){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?_n.div_u:_n.div_s)(this.low,this.high,e.low,e.high);return ze(n,_n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ks:Cn;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ks;if(e.gt(this.shru(1)))return a3;s=ks}else{if(this.eq(Zt)){if(e.eq(Wo)||e.eq(Qg))return Zt;if(e.eq(Zt))return Wo;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Cn)?e.isNegative()?Wo:Qg:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(Zt))return this.unsigned?ks:Cn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Cn}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:qc(2,a-48),f=Sn(r),l=f.mul(e);l.isNegative()||l.gt(i);)r-=u,f=Sn(r,this.unsigned),l=f.mul(e);f.isZero()&&(f=Wo),s=s.add(f),i=i.sub(l)}return s},Y.div=Y.divide,Y.modulo=function(e){if(jt(e)||(e=Vn(e)),_n){var n=(this.unsigned?_n.rem_u:_n.rem_s)(this.low,this.high,e.low,e.high);return ze(n,_n.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},Y.mod=Y.modulo,Y.rem=Y.modulo,Y.not=function(){return ze(~this.low,~this.high,this.unsigned)},Y.and=function(e){return jt(e)||(e=Vn(e)),ze(this.low&e.low,this.high&e.high,this.unsigned)},Y.or=function(e){return jt(e)||(e=Vn(e)),ze(this.low|e.low,this.high|e.high,this.unsigned)},Y.xor=function(e){return jt(e)||(e=Vn(e)),ze(this.low^e.low,this.high^e.high,this.unsigned)},Y.shiftLeft=function(e){return jt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ze(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ze(0,this.low<<e-32,this.unsigned)},Y.shl=Y.shiftLeft,Y.shiftRight=function(e){return jt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ze(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ze(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Y.shr=Y.shiftRight,Y.shiftRightUnsigned=function(e){if(jt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return ze(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?ze(n,0,this.unsigned):ze(n>>>e-32,0,this.unsigned)},Y.shru=Y.shiftRightUnsigned,Y.shr_u=Y.shiftRightUnsigned,Y.toSigned=function(){return this.unsigned?ze(this.low,this.high,!1):this},Y.toUnsigned=function(){return this.unsigned?this:ze(this.low,this.high,!0)},Y.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Y.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},Y.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Oe.fromBytes=function(e,n,r){return r?Oe.fromBytesLE(e,n):Oe.fromBytesBE(e,n)},Oe.fromBytesLE=function(e,n){return new Oe(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Oe.fromBytesBE=function(e,n){return new Oe(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const l3=us(j7);class Xg{constructor(e,n){this.blockPosition=e,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}static min(...e){let n,r=0;for(;!n;r+=1)n=e[r];for(;r<e.length;r+=1)n.compareTo(e[r])>0&&(n=e[r]);return n}}function Yo(t,e=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new Xg(t[e+7]*1099511627776+t[e+6]*4294967296+t[e+5]*16777216+t[e+4]*65536+t[e+3]*256+t[e+2],t[e+1]<<8|t[e])}class jc{constructor(e,n,r,i=void 0){this.minv=e,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class c3{constructor({filehandle:e,renameRefSeqs:n=r=>r}){this.filehandle=e,this.renameRefSeq=n}async getMetadata(e={}){const{indices:n,...r}=await this.parse(e);return r}_findFirstData(e,n){return e?e.compareTo(n)>0?n:e:n}async parse(e={}){return this.parseP||(this.parseP=this._parse(e).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(e,n={}){return!!((await this.parse(n)).indices[e]||{}).binIndex}}const W7=21578324,h3=14;function Y7(t,e){return t+=1,e-=1,[[0,0],[1+(t>>26),1+(e>>26)],[9+(t>>23),9+(e>>23)],[73+(t>>20),73+(e>>20)],[585+(t>>17),585+(e>>17)],[4681+(t>>14),4681+(e>>14)]]}class Kg extends c3{async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:o}=r.indices[i];return o?o.lineCount:-1}async _parse(e={}){const n=await this.filehandle.readFile(e),r=await Eo(n);if(Ds(e.signal),r.readUInt32LE(0)!==W7)throw new Error("Not a TBI file");const i=r.readInt32LE(4),s=r.readInt32LE(8),o=s&65536?"zero-based-half-open":"1-based-closed",u={0:"generic",1:"SAM",2:"VCF"}[s&15];if(!u)throw new Error(`invalid Tabix preset format flags ${s}`);const f={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},l=r.readInt32LE(24),c=5,h=((1<<(c+1)*3)-1)/7,d=2**(14+c*3),p=l?String.fromCharCode(l):null,b=r.readInt32LE(28),y=r.readInt32LE(32),{refNameToId:w,refIdToName:E}=this._parseNameBytes(r.slice(36,36+y));let S=36+y,T;return{indices:new Array(i).fill(0).map(()=>{const B=r.readInt32LE(S);S+=4;const I={};let N;for(let P=0;P<B;P+=1){const ee=r.readUInt32LE(S);if(S+=4,ee>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(ee===h+1){const ne=r.readInt32LE(S);S+=4,ne===2&&(N=this.parsePseudoBin(r,S)),S+=16*ne}else{const ne=r.readInt32LE(S);S+=4;const J=new Array(ne);for(let me=0;me<ne;me+=1){const Ee=Yo(r,S),De=Yo(r,S+8);S+=16,T=this._findFirstData(T,Ee),J[me]=new jc(Ee,De,ee)}I[ee]=J}}const C=r.readInt32LE(S);S+=4;const M=new Array(C);for(let P=0;P<C;P+=1)M[P]=Yo(r,S),S+=8,T=this._findFirstData(T,M[P]);return{binIndex:I,linearIndex:M,stats:N}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:b,firstDataLine:T,columnNumbers:f,coordinateType:o,format:u,refIdToName:E,refNameToId:w,maxBlockSize:65536}}parsePseudoBin(e,n){return{lineCount:J_(l3.fromBytesLE(e.slice(n+16,n+24),!0))}}_parseNameBytes(e){let n=0,r=0;const i=[],s={};for(let o=0;o<e.length;o+=1)if(!e[o]){if(r<o){let a=e.toString("utf8",r,o);a=this.renameRefSeq(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const s=await this.parse(i);if(!s)return[];const o=s.refNameToId[e],a=s.indices[o];if(!a)return[];(a.linearIndex.length?a.linearIndex[n>>h3>=a.linearIndex.length?a.linearIndex.length-1:n>>h3]:new Xg(0,0))||console.warn("querying outside of possible tabix range");const f=Y7(n,r),l=[];for(const[b,y]of f)for(let w=b;w<=y;w++)if(a.binIndex[w]){const E=a.binIndex[w];for(let S=0;S<E.length;++S)l.push(new jc(E[S].minv,E[S].maxv,w))}const c=a.linearIndex.length;let h=null;const d=Math.min(n>>14,c-1),p=Math.min(r>>14,c-1);for(let b=d;b<=p;++b){const y=a.linearIndex[b];y&&(!h||y.compareTo(h)<0)&&(h=y)}return e3(l,h)}}const Q7=21582659,X7=38359875;function K7(t,e){return t*2**e}function d3(t,e){return Math.floor(t/2**e)}class p3 extends c3{constructor(e){super(e),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(e,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[e];if(!r.indices[i])return-1;const{stats:o}=r.indices[i];return o?o.lineCount:-1}async indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(e,n){const r=e.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",s={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!s)throw new Error(`invalid Tabix preset format flags ${r}`);const o={ref:e.readInt32LE(n+4),start:e.readInt32LE(n+8),end:e.readInt32LE(n+12)},a=e.readInt32LE(n+16),u=a?String.fromCharCode(a):null,f=e.readInt32LE(n+20),l=e.readInt32LE(n+24),{refIdToName:c,refNameToId:h}=this._parseNameBytes(e.slice(n+28,n+28+l));return{refIdToName:c,refNameToId:h,skipLines:f,metaChar:u,columnNumbers:o,format:s,coordinateType:i}}_parseNameBytes(e){let n=0,r=0;const i=[],s={};for(let o=0;o<e.length;o+=1)if(!e[o]){if(r<o){let a=e.toString("utf8",r,o);a=this.renameRefSeq(a),i[n]=a,s[a]=n}r=o+1,n+=1}return{refNameToId:s,refIdToName:i}}async _parse(e={}){const n=await Eo(await this.filehandle.readFile(e));let r;if(n.readUInt32LE(0)===Q7)r=1;else if(n.readUInt32LE(0)===X7)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),s=n.readInt32LE(12),o=s&&s>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},a=n.readInt32LE(16+s);let u,f=16+s+4;const l=new Array(a).fill(0).map(()=>{const c=n.readInt32LE(f);f+=4;const h={};let d;for(let p=0;p<c;p+=1){const b=n.readUInt32LE(f);if(b>this.maxBinNumber)d=this.parsePseudoBin(n,f+4),f+=4+8+4+16+16;else{const y=Yo(n,f+4);u=this._findFirstData(u,y);const w=n.readInt32LE(f+12);f+=16;const E=new Array(w);for(let S=0;S<w;S+=1){const T=Yo(n,f),D=Yo(n,f+8);f+=16,E[S]=new jc(T,D,b)}h[b]=E}}return{binIndex:h,stats:d}});return{...o,csi:!0,refCount:a,maxBlockSize:65536,firstDataLine:u,csiVersion:r,indices:l,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(e,n){return{lineCount:J_(l3.fromBytesLE(e.slice(n+28,n+36),!0))}}async blocksForRange(e,n,r,i={}){n<0&&(n=0);const s=await this.parse(i);if(!s)return[];const o=s.refNameToId[e],a=s.indices[o];if(!a)return[];const u=this.reg2bins(n,r),f=[];for(const[l,c]of u)for(let h=l;h<=c;h++)if(a.binIndex[h]){const d=a.binIndex[h];for(let p=0;p<d.length;++p)f.push(new jc(d[p].minv,d[p].maxv,h))}return e3(f,new Xg(0,0))}reg2bins(e,n){e-=1,e<1&&(e=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,s=this.minShift+this.depth*3;const o=[];for(;r<=this.depth;s-=3,i+=K7(1,r*3),r+=1){const a=i+d3(e,s),u=i+d3(n,s);if(u-a+o.length>this.maxBinNumber)throw new Error(`query ${e}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);o.push([a,u])}return o}}const Jg=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function J7(t){return new Promise(e=>setTimeout(e,t))}class ez{constructor({path:e,filehandle:n,tbiPath:r,tbiFilehandle:i,csiPath:s,csiFilehandle:o,yieldTime:a=500,chunkSizeLimit:u=5e7,renameRefSeqs:f=c=>c,chunkCacheSize:l=5*2**20}){if(n)this.filehandle=n;else if(e)this.filehandle=new en(e);else throw new TypeError("must provide either filehandle or path");if(i)this.index=new Kg({filehandle:i,renameRefSeqs:f});else if(o)this.index=new p3({filehandle:o,renameRefSeqs:f});else if(r)this.index=new Kg({filehandle:new en(r),renameRefSeqs:f});else if(s)this.index=new p3({filehandle:new en(s),renameRefSeqs:f});else if(e)this.index=new Kg({filehandle:new en(`${e}.tbi`),renameRefSeqs:f});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.chunkSizeLimit=u,this.renameRefSeq=f,this.yieldTime=a,this.chunkCache=new xc({cache:new Sp({maxSize:Math.floor(l/65536)}),fill:(c,h)=>this.readChunk(c,{signal:h})})}async getLines(e,n,r,i){let s,o={},a;if(typeof i>"u")throw new TypeError("line callback must be provided");if(typeof i=="function"?a=i:(o=i,a=i.lineCallback),e===void 0)throw new TypeError("must provide a reference sequence name");if(!a)throw new TypeError("line callback must be provided");const u=await this.index.getMetadata(o);if(Ds(s),n||(n=0),r||(r=u.maxRefLength),!(n<=r))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(n===r)return;const f=await this.index.blocksForRange(e,n,r,o);Ds(s);for(let c=0;c<f.length;c+=1){const h=f[c].fetchedSize();if(h>this.chunkSizeLimit)throw new Error(`Too much data. Chunk size ${h.toLocaleString()} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit.toLocaleString()}.`)}let l=Date.now();for(let c=0;c<f.length;c+=1){let h;const d=f[c],{buffer:p,cpositions:b,dpositions:y}=await this.chunkCache.get(d.toString(),d);Ds(s);let w=0,E=0;for(;w<p.length;){const S=p.indexOf(`
`,w);if(S===-1)break;const T=p.slice(w,S),D=(Jg==null?void 0:Jg.decode(T))||T.toString();if(y){for(;w+d.minv.dataPosition>=y[E++];);E--}const{startCoordinate:B,overlaps:I}=this.checkLine(u,e,n,r,D);if(h!==void 0&&B!==void 0&&h>B)throw new Error(`Lines not sorted by start coordinate (${h} > ${B}), this file is not usable with Tabix.`);if(h=B,I)a(D.trim(),b[E]*256+(w-y[E])+d.minv.dataPosition+1);else if(B!==void 0&&B>=r)return;this.yieldTime&&l-Date.now()>this.yieldTime&&(l=Date.now(),Ds(s),await J7(1)),w=S+1}}}async getMetadata(e={}){return this.index.getMetadata(e)}async getHeaderBuffer(e={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(e);Ds(e.signal);const s=((n==null?void 0:n.blockPosition)||0)+i;let o=await this._readRegion(0,s,e);Ds(e.signal);try{o=await Eo(o)}catch(a){throw console.error(a),new Error(`error decompressing block ${a.code} at 0 (length ${s}) ${a}`)}if(r){let a=-1;const u=`
`.charCodeAt(0),f=r.charCodeAt(0);for(let l=0;l<o.length&&!(l===a+1&&o[l]!==f);l+=1)o[l]===u&&(a=l);o=o.slice(0,a+1)}return o}async getHeader(e={}){return(await this.getHeaderBuffer(e)).toString("utf8")}async getReferenceSequenceNames(e={}){return(await this.getMetadata(e)).refIdToName}checkLine(e,n,r,i,s){const{columnNumbers:o,metaChar:a,coordinateType:u,format:f}=e;if(s.charAt(0)===a)return{overlaps:!1};let{ref:l,start:c,end:h}=o;l||(l=0),c||(c=0),h||(h=0),f==="VCF"&&(h=8);const d=Math.max(l,c,h);let p=1,b=0,y="",w=-1/0;for(let E=0;E<s.length+1;E+=1)if(s[E]==="	"||E===s.length){if(p===l){if(this.renameRefSeq(s.slice(b,E))!==n)return{overlaps:!1}}else if(p===c){if(w=parseInt(s.slice(b,E),10),u==="1-based-closed"&&(w-=1),w>=i)return{startCoordinate:w,overlaps:!1};if((h===0||h===c)&&w+1<=r)return{startCoordinate:w,overlaps:!1}}else if(f==="VCF"&&p===4)y=s.slice(b,E);else if(p===h){let S;if(f==="VCF"?S=this._getVcfEnd(w,y,s.slice(b,E)):S=parseInt(s.slice(b,E),10),S<=r)return{overlaps:!1}}if(b=E+1,p+=1,p>d)break}return{startCoordinate:w,overlaps:!0}}_getVcfEnd(e,n,r){let i=e+n.length;const s=r.indexOf("SVTYPE=TRA")!==-1;if(r[0]!=="."&&!s){let o=";";for(let a=0;a<r.length;a+=1){if(o===";"&&r.slice(a,a+4)==="END="){let u=r.indexOf(";",a);u===-1&&(u=r.length),i=parseInt(r.slice(a+4,u),10);break}o=r[a]}}else if(s)return e+1;return i}async lineCount(e,n={}){return this.index.lineCount(e,n)}async _readRegion(e,n,r={}){const i=Buffer.alloc(n),{bytesRead:s,buffer:o}=await this.filehandle.read(i,0,n,e,r);return o.slice(0,s)}async readChunk(e,n={}){const r=await this._readRegion(e.minv.blockPosition,e.fetchedSize(),n);try{return A2(r,e)}catch(i){throw new Error(`error decompressing c ${e.toString()} ${i}`)}}}class tz extends Df(fs){constructor(n,r){const i={channel:"x",windowSize:3e6,debounceDomainChange:200,...n};super(r,i.channel);on(this,"lastRequestId",0);on(this,"tbiIndex");if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");const s=o=>new rr(Bf(o,this.view.getBaseUrl()));this.tbiIndex=new ez({filehandle:s(this.params.url),tbiFilehandle:s(this.params.indexUrl??this.params.url+".tbi")}),this.params.debounceDomainChange>0&&(this.onDomainChanged=Oc(this.onDomainChanged.bind(this),this.params.debounceDomainChange,!1))}async onDomainChanged(n){const r=this.params.windowSize;if(n[1]-n[0]>r)return;const i=this.quantizeInterval(n,r);this.checkAndUpdateLastInterval(i)&&this.doRequest(i)}async doRequest(n){const r=await this.getFeatures(n);r.requestId<this.lastRequestId||this.publishData(r.features)}async getFeatures(n){let r=++this.lastRequestId;const i=new AbortController,s=this.genome.continuousToDiscreteChromosomeIntervals(n),o=await Promise.all(s.map(async a=>{const u=[];return await this.tbiIndex.getLines(a.chrom,a.startPos,a.endPos,{lineCallback:f=>{u.push(f)},signal:i.signal}),this._parseFeatures(u)}));return{requestId:r,abort:()=>i.abort(),features:o.flat()}}_parseFeatures(n){return[]}}class nz extends tz{_parseFeatures(e){return $7.parseStringSync(e.join(`
`),{parseSequences:!1})}}function rz(t,e){if(qx(t))return new S5(t,e);if(C5(t))return new T5(t,e);if(F5(t))return new I5(t,e);if(iz(t))return hz(t.lazy,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function iz(t){return"lazy"in t}function sz(t){return(t==null?void 0:t.type)=="axisTicks"}function oz(t){return(t==null?void 0:t.type)=="axisGenome"}function az(t){return(t==null?void 0:t.type)=="indexedFasta"}function fz(t){return(t==null?void 0:t.type)=="bigwig"}function uz(t){return(t==null?void 0:t.type)=="bigbed"}function lz(t){return(t==null?void 0:t.type)=="bam"}function cz(t){return(t==null?void 0:t.type)=="gff3"}function hz(t,e){if(sz(t))return new B5(t,e);if(oz(t))return new k5(t,e);if(az(t))return new LP(t,e);if(fz(t))return new SO(t,e);if(uz(t))return new RO(t,e);if(lz(t))return new s7(t,e);if(cz(t))return new nz(t,e);throw new Error("Cannot figure out the data source type: "+JSON.stringify(t))}function dz(t){const e=Object.keys(t).filter(r=>typeof r=="string"),n=new Function("source","return { "+e.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=e,n}class Zc extends tt{get behavior(){return tr}constructor(){super();const e=n=>{const r=dz(n);this.handle=i=>this._propagate(r(i)),this.handle(n)};this.handle=e,this.beginBatch=n=>{ux(n)&&(this.handle=e),super.beginBatch(n)}}}function pz(t){return"name"in t}class g3 extends df{constructor(n,r,i){super();be(this,xu,void 0);this.provider=i,this.params=n}get identifier(){return this.params.name}updateDynamicData(n){wr(this,xu,n),this.loadSynchronously()}loadSynchronously(){const n=ie(this,xu)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=$x(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}xu=new WeakMap;class m3{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(e,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(e)}_relayObserverCallback(e,n){const r=this._observers.get(n);if(r)for(const i of r)i(e)}addDataSource(e,n){this._dataSourcesByHost.set(n,e)}findDataSourceByKey(e){return this._dataSourcesByHost.get(e)}findNamedDataSource(e){let n,r=[];for(const[i,s]of this._dataSourcesByHost.entries())if(s instanceof g3&&e==s.identifier){if(n&&n!==s)throw new Error(`Found multiple instances of named data: ${e}. Data flow optimization is broken (it's a bug).`);n=s,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(e,n){this._collectorsByHost.set(n,e),e.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(e){return this._collectorsByHost.get(e)}initialize(){for(const e of this.dataSources)e.visit(n=>n.initialize())}}function gz(t,e){const n=new Map,r=[];for(const i of t)n.set(i,{ref:i,children:[]});for(const i of n.values()){const s=n.get(e(i.ref));s?s.children.push(i):r.push(i)}return r}function b3(t,e,n){var i,s;const r=(i=e.preOrder)==null?void 0:i.call(e,t);if(r)return r;for(const o of n(t)){const a=b3(o,e,n);if(a==="stop")return a}return(s=e.postOrder)==null?void 0:s.call(e,t)}function mz(t,e){return b3(t,e,n=>n.children)}function bz(t,e){const n=[];let r;const i=e??new m3,s=[];function o(c,h=()=>{}){if(!r)throw h()||new Error("Cannot append data flow node, no parent exist!");return r.addChild(c),r=c,c}function a(c,h){return o(c,()=>new Error(`Cannot append a transform because no (inherited) data are available! ${h?JSON.stringify(h):""}`))}function u(c,h){for(const d of c){let p;try{p=v5(d,h)}catch(b){throw console.warn(b),new Error(`Cannot initialize "${d.type}" transform: ${b}`)}p.behavior&fi&&a(new Zc),a(p)}}const f=c=>{if(n.push(r),c.spec.data){const h=pz(c.spec.data)?new g3(c.spec.data,c,c.context.getNamedDataFromProvider):rz(c.spec.data,c);r=h,i.addDataSource(h,c)}if(c.spec.transform&&u(c.spec.transform,c),c instanceof Bt){if(!r)throw new Error(`A unit view (${c.getPathString()}) has no (inherited) data source`);const h=yz(c);if(h){s.push(h.rewrite);for(const p of h.transforms)a(p)}c.mark.isPickingParticipant()&&(a(new Zc),a(new Gx({type:"identifier"})));const d=new Nx({type:"collect",groupby:c.getFacetFields(),sort:wz(c,h==null?void 0:h.rewrittenEncoding)});o(d),i.addCollector(d,c)}},l=gz(t.getDescendants(),c=>c.dataParent);for(const c of l)mz(c,{preOrder:h=>f(h.ref),postOrder:()=>{r=n.pop()}});return s.forEach(c=>c()),i}function yz(t){var s;const e=[],n={},r=[];for(const[o,a]of Object.entries(t.getEncoding())){const u=o;Xa(u)&&Fy(a)&&r.push({channel:u,chromPosDef:a})}const i=Pu(r,o=>es(o.channel),o=>o.chromPosDef.chrom);for(const[o,a]of i.entries())for(const[u,f]of a.entries()){const l=[],c=[],h=[];for(const{channel:d,chromPosDef:p}of f){const b=E=>E.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",b(p.chrom),"_",b(p.pos)].join(""),w={...((s=t.spec.encoding)==null?void 0:s[d])??t.getEncoding()[d]??{},field:y};delete w.chrom,delete w.pos,!w.type&&p.type&&(w.type=p.type),n[d]=w,l.push(p.pos),h.push(p.offset??0),c.push(y)}e.push(new Zc),e.push(new Lx({type:"linearizeGenomicCoordinate",channel:o,chrom:u,pos:l,offset:h,as:c},t))}return e.length?{transforms:e,rewrittenEncoding:n,rewrite:()=>{t.spec.encoding={...t.spec.encoding,...n},nx(t.mark,"encoding")}}:void 0}function wz(t,e){var r;const n={...t.getEncoding(),...e}.x;if(un(n)&&(r=t.getScaleResolution("x"))!=null&&r.isZoomable()){if(Ya(n))return{field:n.field};if(!Qa(n))throw new Error("A zoomable x channel must be mapped to a field.")}}function y3(t,e=void 0){if(t.parent!==e)return!1;for(const n of t.children)if(!y3(n,t))return!1;return!0}function em(t,e=!1){if(t.behavior&D0&&(e=!0),t instanceof Zc)if(e)e=!1;else{const n=t.children[0];t.excise(),n&&em(n,e);return}t.behavior&tr&&(e=!1);for(let n=0,r=t.children.length;n<r;n++)em(t.children[n],e||r>1)}function xz(t){const e=[...t._dataSourcesByHost.entries()],n=new Map;for(const r of e){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}t._dataSourcesByHost.clear();for(let[r,i]of e){const s=n.get(i.identifier);s&&(s.adoptChildrenOf(i),i=s),t.addDataSource(i,r)}}function vz(t){if(em(t),!y3(t))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function Az(t){for(const e of t.dataSources)vz(e);xz(t)}function Ez(t){t.visit(n=>{n instanceof Bt&&n.resolve("scale")});const e=new Set;t.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&e.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);e.add(i)}}),t.visit(n=>{n instanceof Bt&&n.resolve("axis")}),t.visit(n=>n.onScalesResolved())}function _z(t){for(const e of Ks){const n=t.getScaleResolution(e);n&&!n.name&&n.isZoomable()&&(n.name=`${e}_at_root`)}}async function Sz(t,e,n){var o;if(!t.import.url)throw new Error("Cannot import, not an import spec: "+JSON.stringify(t));const r=Wu({baseURL:e}),i=t.import.url,s=JSON.parse(await r.load(i).catch(a=>{throw new Error(`Could not load imported view spec: ${i} 
Reason: ${a.message}`)}));if(n.isViewSpec(s))return s.baseUrl=(o=i.match(/^[^?#]*\//))==null?void 0:o[0],s;throw new Error(`The imported spec "${i}" is not a view spec: ${JSON.stringify(t)}`)}async function w3(t){const e=[];t.visit(n=>{if(n instanceof Px)return e.push(n),dx});for(const n of e){const r=n.context,i=await Sz(n.spec,n.getBaseUrl(),r),s=r.createView(i,n.layoutParent,n.dataParent,n.name);n.layoutParent.replaceChild(n,s),await w3(s)}}function Cz(t){const e=t.getSize().addPadding(t.getOverhang()),n=r=>r.grow>0?void 0:r.px;return{width:n(e.width),height:n(e.height)}}function Pr(t){return()=>t}const pr=class pr{static create(e,n,r,i){return new pr(Pr(e),Pr(n),Pr(r),Pr(i))}_offset(e,n){const r=this["_"+e];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(e){return this._offset(e,0)}constructor(e,n,r,i){this._x=e,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(e){return e?this===e||this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height:!1}modify(e){if(!Object.keys(e).length)return this;const n=r=>{const i=e[r];return typeof i=="number"?Pr(i):typeof i=="function"?i:this._passThrough(r)};return new pr(n("x"),n("y"),n("width"),n("height"))}translate(e,n){return e===0&&n===0?this:new pr(this._offset("x",e),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(e){return this.translate(e.x,e.y)}expand(e,n=1){return e.left==0&&e.top==0&&e.right==0&&e.bottom==0?this:new pr(e.left?this._offset("x",-e.left*n):this._passThrough("x"),e.top?this._offset("y",-e.top*n):this._passThrough("y"),e.width?this._offset("width",e.width*n):this._passThrough("width"),e.height?this._offset("height",e.height*n):this._passThrough("height"))}shrink(e){return this.expand(e,-1)}intersect(e){return this===e?this:new pr(()=>Math.max(this.x,e.x),()=>Math.max(this.y,e.y),()=>Math.min(this.x2,e.x2)-Math.max(this.x,e.x),()=>Math.min(this.y2,e.y2)-Math.max(this.y,e.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new pr(Pr(this.x),Pr(this.y),Pr(this.width),Pr(this.height))}containsPoint(e,n){return e>=this.x&&e<this.x2&&n>=this.y&&n<this.y2}normalizePoint(e,n){return{x:(e-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};on(pr,"ZERO",pr.create(0,0,0,0));let su=pr;class x3{constructor(e){this.globalOptions=e}pushView(e,n){}popView(e){}renderMark(e,n){}}class v3 extends x3{constructor(e,n){super(e),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(e,n){this.views.add(e),this.coords=n}renderMark(e,n){if(this.globalOptions.picking&&!e.isPickingParticipant())return;const r=e.render(n);r&&this.buffer.push({mark:e,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const e=this.webGLHelper.gl,n=this.globalOptions.picking;e.bindFramebuffer(e.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&e.bindFramebuffer(e.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let e=!0,n=!0;const r=o=>()=>{e&&o()},i=o=>()=>{e&&n&&o()},s=Pu(this.buffer.reverse(),o=>o.mark);for(const[o,a]of[...s.entries()].reverse()){if(!o.isReady())continue;this.batch.push(()=>{e=o.unitView.getEffectiveOpacity()>0}),this.batch.push(...o.prepareRender(this.globalOptions).map(f=>r(f)));let u;for(const f of a){const l=f.coords;l.equals(u)||this.batch.push(r(()=>{n=o.setViewport(l,f.clipRect)})),this.batch.push(i(f.callback)),u=f.coords}}}}class Tz extends x3{constructor(...e){super({}),this.contexts=e}pushView(e,n){for(const r of this.contexts)r.pushView(e,n)}popView(e){for(const n of this.contexts)n.popView(e)}renderMark(e,n){for(const r of this.contexts)r.renderMark(e,n)}}class Fz{constructor(e,n){this.point=e,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class Iz{constructor(e,n){this.x=e,this.y=n}equals(e){return e?e===this||e.x===this.x&&e.y===this.y:!1}}const Dz=t=>new Promise(e=>setTimeout(e,t));function Bz(t){const e=t.requestAnimationFrame||window.requestAnimationFrame,n=t.signal,r=()=>new Promise((i,s)=>{if(n!=null&&n.aborted)return s("aborted");const o=performance.now(),a=o+(t.duration||1e3),u=typeof t.from=="number"?t.from:0,f=typeof t.to=="number"?t.to:1,l=t.easingFunction||(b=>b),c=b=>(b-o)/(a-o),h=b=>b*(f-u)+u,d=b=>Math.max(0,Math.min(1,b)),p=b=>{n!=null&&n.aborted?s("aborted"):(t.onUpdate(h(l(d(c(b))))),b<a?e(p):(t.onUpdate(h(l(1))),i()))};e(p)});return t.delay?n!=null&&n.aborted?Promise.reject("aborted"):Dz(t.delay).then(r):r()}class kz{constructor(e){this._renderCallback=e,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(e){this.cancelTransition(e),this.transitions.push(e),this.requestRender()}cancelTransition(e){const n=this.transitions.indexOf(e);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(e=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(e);this._renderCallback(e)}))}transition(e){return Bz({requestAnimationFrame:n=>this.requestTransition(n),...e})}}class Rz{constructor(e){this.genomes=new Map,this.baseUrl=e}async initialize(e){const n=new OR(e);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(e){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(e){const n=this.genomes.get(e);if(!n)throw new Error(`No genome with the name ${e} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const Mz="data:image/png;base64,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",Pz={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class Nz{constructor(e){this._webGLHelper=e,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new Ni([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:T0(Ox),texture:e?this._createTextureNow(Mz):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(e,n="normal",r="regular"){if(Ke(r)&&(r=Pz[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:e,style:n,weight:r};let s=this._fonts.get(i);return s||(s={metrics:void 0,texture:void 0},this._fonts.set(i,s),this._promises.push(this._loadFontEntry(s,i))),s}async _loadFontEntry(e,n){try{const r=await this._loadMetadata(n.family),i=Oz(r,n),s=this.fontRepository+A3(n.family)+"/"+i.replace(/\.\w+/,""),o=this._createTexture(s+".png"),a=this._loadFont(s+".json");e.texture=await o,e.metrics=await a}catch(r){console.log("Cannot load font. Using default.",r),e.metrics=this._defaultFontEntry.metrics,e.texture=this._defaultFontEntry.texture}}_loadFont(e){let n=this._fontPromises.get(e);return n||(n=fetch(e).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>T0(r)),this._fontPromises.set(e,n)),n}_loadMetadata(e){const n=A3(e);let r=this._metadataPromises.get(n);return r||(r=fetch(this.fontRepository+n+"/METADATA.pb").then(i=>{if(!i.ok)throw new Error("Could not load font metadata: "+i.status);return i}).then(i=>i.text()).then(i=>Lz(i)).catch(i=>{console.warn(i)}),this._metadataPromises.set(n,r)),r}getDefaultFont(){return this._defaultFontEntry}_createTexture(e){const n=this._webGLHelper.gl;return new Promise((r,i)=>{sf(n,{src:e,min:n.LINEAR},(s,o,a)=>{s?i(s):r(o)})})}_createTextureNow(e){const n=this._webGLHelper.gl;let r;const i=new Promise((s,o)=>{r=sf(n,{src:e,min:n.LINEAR},(a,u,f)=>{a?o(a):s(u)})});return this._promises.push(i),r}}function A3(t){return t.toLowerCase().replaceAll(/[^\w]/g,"")}function Lz(t){const e=t.split(`
`),n=[];let r;for(const i of e)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let s=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(s){const o=s[1];r[o]=s[2]}if(s=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),s){const o=s[1];r[o]=+s[2]}}return n}function Oz(t,e){let n,r=Number.POSITIVE_INFINITY;for(const i of t)if(e.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&e.style==i.style){const s=Math.abs(e.weight-i.weight);s<r&&(r=s,n=i)}return n==null?void 0:n.filename}function zz(t,e){const n=[];let r;for(const i of t.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class Uz{constructor(e,n){this.animator=e,this.disabled=!!n,this.damping=.015,this.acceleration=.3,this.accelerationThreshold=100,this.lowerLimit=.5,this.loop=!1,this.momentum=0,this.timestamp=0,this.callback=null,this._transitionCallback=this.animate.bind(this),this.clear()}clear(){this.momentum=0,this.timestamp=null,this.loop=null,this.callback=null}cancel(){this.loop&&(this.animator.cancelTransition(this._transitionCallback),this.clear())}setMomentum(e,n){if(this.disabled){n(e);return}e*this.momentum<0?this.momentum=0:Math.abs(e)>this.accelerationThreshold?this.momentum=QS([this.momentum,e],this.acceleration):this.momentum=e,this.callback=n,this.loop||this.animate()}animate(e){this.callback(this.momentum);const n=e-this.timestamp||0;this.timestamp=e;const r=Math.abs(this.momentum);this.momentum=Math.sign(this.momentum)*Math.max(0,r-((r*this.damping)**1.5+.04)*n),Math.abs(this.momentum)>this.lowerLimit?(this.loop=!0,this.animator.requestTransition(this._transitionCallback)):this.clear()}}function Gz(t){const e={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in t){const s=i;!r.includes(i)&&n.includes(typeof t[s])&&(e[s]=t[s])}return e}const E3=new Map;async function Hz(t,e,n){const r=t.symbol;let i=E3.get(r)??await qz(t.symbol);return i?(E3.set(r,i),Ar`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function $z(t){console.log("Searching: "+t);const e={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${t}[GENE]&sort=relevance&retmode=json`,e).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,e).then(o=>o.json())).result[r]:null}const Vz=Oc($z,500);function qz(t){return Vz(t)}const jz=mt(".4~r"),Zz=mt(".4~e");function _3(t){return t==null?Ar` <span class="na">NA</span> `:Ke(t)?t.substring(0,30):Number.isInteger(t)?""+t:Nt(t)?Math.abs(t)>Math.pow(10,8)||Math.abs(t)<Math.pow(10,-8)?Zz(t):jz(t):Du(t)?t?"True":"False":Xt(t)?Ar`${t.map((e,n)=>[_3(e),n<t.length-1?", ":ot])}`:"?"+typeof t+" "+t}async function Wz(t,e,n){const r=(u,f)=>{var l;for(const[c,h]of Object.entries(e.encoders))if((l=h==null?void 0:h.accessor)!=null&&l.fields.includes(u))switch(c){case"color":case"fill":case"stroke":return Ar`
                            <span
                                class="color-legend"
                                style=${`background-color: ${h(f)}`}
                            ></span>
                        `}return""},i=Object.entries(t).filter(([u,f])=>!u.startsWith("_"));if(i.length===0)return;const s=Ar`
        <table class="attributes">
            ${i.map(([u,f])=>Ar`
                    <tr>
                        <th>${u}</th>
                        <td>${_3(f)} ${r(u,t)}</td>
                    </tr>
                `)}
        </table>
    `,o=e.unitView.getTitleText(),a=o?Ar`
              <div class="title">
                  <strong>${o}</strong>
              </div>
          `:"";return Ar`${a}${s}`}class ou extends lo{constructor(e,n,r,i,s){super(e,n,r,i,s),this.spec=e,this.children=(e.layer||[]).map((o,a)=>{if(P3(o)||M3(o))return n.createView(o,this,this,"layer"+a);throw new Error("LayerView accepts only unit or layer specs as children!")}),this.needsAxes={x:!0,y:!0}}*[Symbol.iterator](){for(const e of this.children)yield e}render(e,n,r={}){if(this.isConfiguredVisible()){e.pushView(this,n);for(const i of this.children)i.render(e,n,r);e.popView(this)}}propagateInteractionEvent(e){this.handleInteractionEvent(void 0,e,!0);for(let n=this.children.length-1;n>=0;n--)if(this.children[n].propagateInteractionEvent(e),e.stopped)return;this.handleInteractionEvent(void 0,e,!1)}}class S3{constructor(e,n){this.n=e,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const s=[];e.push(s);for(let o=0;o<n;o++){const a=i*n+o;a<this.n&&s.push(a)}}return e}get colIndices(){const e=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const s=[];e.push(s);for(let o=0;o<r;o++){const a=o*n+i;a<this.n&&s.push(a)}}return e}getCellIndex(e,n){let r=0;if(this.maxCols==1/0)r=n==0?e:void 0;else{if(e>=this.maxCols)return;r=n*this.nCols+e}return r<this.n?r:void 0}getCellCoords(e){if(!(e<0||e>=this.n))return[e%this.nCols,Math.floor(e/this.nCols)]}}const Yz="chromosome_ticks_and_labels",Qz={x:"width",y:"height"};function tm(t){return t=="x"?"y":"x"}const Wc={x:["bottom","top"],y:["left","right"]},nm=Object.fromEntries(Object.entries(Wc).map(([t,e])=>e.map(n=>[n,t])).flat(1));function _i(t){return nm[t]}class C3 extends ou{constructor(e,n,r,i,s){const o=n=="locus",a={...o?Kz:T3,...Xz(n,e),...e};super(o?Jz(a,n):F3(a,n),r,i,s,`axis_${e.orient}`),this.axisProps=a,this.blockEncodingInheritance=!0,this.contributesToScaleDomain=!1}getSize(){const e={px:this.getPerpendicularSize()},n={grow:1};return nm[this.axisProps.orient]=="x"?new as(n,e):new as(e,n)}getPerpendicularSize(){return rm(this.axisProps)}isPickingSupported(){return!1}}function rm(t){const e=_i(t.orient);let n=t.ticks&&t.tickSize||0;return t.labels&&(n+=t.labelPadding,e=="x"?n+=t.labelFontSize:n+=30),t.title&&(n+=t.titlePadding+t.titleFontSize),n=Math.min(t.maxExtent||1/0,Math.max(t.minExtent||0,n)),n}const T3={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function Xz(t,e){const n=e.orient,r=t=="nominal"||t=="ordinal";let i="center",s="middle",o=e.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(o)>30?(i=o>0==(n=="bottom")?"left":"right",s="middle"):s=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:o,labelBaseline:s}}function F3(t,e){const n={...t,extent:rm(t)},r=_i(n.orient),i=tm(r),s=n.orient=="bottom"||n.orient=="right"?1:-1,o=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"domain",data:{values:[0]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:o,size:n.domainWidth}}),u=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*s,[i]:o,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:e},text:{field:"label"}}}),f=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:o},[i+"2"]:{value:o-n.tickSize/n.extent*(o?1:-1)}}}),l=()=>({name:"title",data:{values:[0]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-o}}),c=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:e}},layer:[]};return n.ticks&&d.layer.push(f()),n.labels&&d.layer.push(u()),d},h={resolve:{scale:{[r]:"forced"}},[Qz[tm(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:t}},layer:[]};return n.domain&&h.layer.push(a()),(n.ticks||n.labels)&&h.layer.push(c()),n.title&&h.layer.push(l()),h}const Kz={...T3,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function Jz(t,e){const n={...t,extent:rm(t)},r=_i(n.orient),i=tm(r),s=n.orient=="bottom"||n.orient=="left"?1:0,o=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:t.chromTickDash,strokeDashOffset:t.chromTickDashOffset,[i]:s,[i+"2"]:s-n.chromTickSize/n.extent*(s?1:-1),color:t.chromTickColor,size:n.chromTickWidth}}),a=()=>{let l;switch(n.orient){case"top":l={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":l={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":l={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":l={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:l={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:t.chromLabelAlign,baseline:"alphabetic",clip:!1,...l},encoding:{[r+"2"]:{field:"continuousEnd",type:e},text:{field:"name"}}}};let u;switch(n.orient){case"bottom":case"top":u={};break;case"left":u={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":u={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:u={}}const f=F3({...t,...u},e);if(t.chromTicks||t.chromLabels){const l={name:Yz,data:{lazy:{type:"axisGenome",channel:_i(n.orient)}},encoding:{[r]:{field:"continuousStart",type:e,band:0}},layer:[]};if(t.chromTicks&&l.layer.push(o()),t.chromLabels){l.layer.push(a());let c;f.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{c=d.mark})),c&&(n.orient=="top"||n.orient=="bottom"?(c.viewportEdgeFadeWidthLeft=30,c.viewportEdgeFadeDistanceLeft=40):(c.viewportEdgeFadeWidthBottom=30,c.viewportEdgeFadeDistanceBottom=40))}f.layer.push(l)}return f}class eU extends ou{constructor(e,n,r,i,s){const a={...n=="locus"?tU:I3,...e};super(sU(a,n),r,i,s,`axisGrid_${e.orient}`),this.axisProps=a,this.blockEncodingInheritance=!0,this.contributesToScaleDomain=!1}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const I3={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},tU={...I3,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function nU(t,e){const n=t,r=_i(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:t}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:e}}}}function rU(t,e){const n=t,r=_i(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:e,band:0}}}}function iU(t,e){const n=t,r=_i(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:e,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function sU(t,e){const n={...t},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(iU(n,e)),n.chromGrid&&n.chromGridOpacity>0&&r.push(rU(n,e)),n.grid&&n.gridOpacity>0&&r.push(nU(n,e)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[_i(t.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const D3={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},oU={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},aU={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},fU={start:0,middle:.5,end:1},uU={start:"left",middle:"center",end:"right"};function lU(t){if(!t)return;const e=Ke(t)?{text:t}:t;if(!e.text||e.orient=="none")return;const n={"track-title":oU,overlay:aU}[e.style]??{},r={...D3,...n,...e};let i={},s={x:0,y:0};const o=fU[r.anchor??"middle"];switch(r.orient){case"top":s={x:o,y:1},i={baseline:"alphabetic",angle:0};break;case"right":s={x:1,y:1-o},i={baseline:"alphabetic",angle:90};break;case"bottom":s={x:o,y:0},i={baseline:"top",angle:0};break;case"left":s={x:0,y:o},i={baseline:"alphabetic",angle:-90};break}const a={...D3,...i,...n,...e},u={xOffset:0,yOffset:0};switch(r.orient){case"top":u.yOffset=-a.offset;break;case"right":u.xOffset=a.offset;break;case"bottom":u.yOffset=a.offset;break;case"left":u.xOffset=-a.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...s,...u,text:a.text,align:a.align??uU[a.anchor],angle:a.angle,baseline:a.baseline,dx:a.dx,dy:a.dy,color:a.color,font:a.font,size:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight}}}function cU(t,e,n,r){if(t.type=="wheel"){t.uiEvent.preventDefault();const i=t.uiEvent,s=i.deltaMode?120:1;let{x:o,y:a}=t.point;if(r){const u=r.mark.encoders;u.x&&!u.x2&&!u.x.constantValue&&(o=+u.x(r.datum)*e.width+e.x),u.y&&!u.y2&&!u.y.constantValue&&(a=(1-+u.y(r.datum))*e.height+e.y)}Math.abs(i.deltaX)<Math.abs(i.deltaY)?n({x:o,y:a,xDelta:0,yDelta:0,zDelta:i.deltaY*s/300}):n({x:o,y:a,xDelta:-i.deltaX*s,yDelta:0,zDelta:0})}else if(t.type=="mousedown"&&t.uiEvent.button===0){const i=t.uiEvent;i.preventDefault();let s=i;const o=u=>{n({x:s.clientX,y:s.clientY,xDelta:u.clientX-s.clientX,yDelta:u.clientY-s.clientY,zDelta:0}),s=u},a=u=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a,!1),document.addEventListener("mousemove",o,!1)}}class B3 extends lo{constructor(n,r,i,s,o,a){super(n,r,i,s,o);be(this,Or);be(this,ih);be(this,sh);be(this,Ns);be(this,vu);be(this,Au);be(this,Eu);be(this,oh);be(this,aa);be(this,ah);be(this,ia,1/0);be(this,sa,10);be(this,sn,[]);be(this,Ps,{});be(this,oa,0);this.spec=n,wr(this,sa,n.spacing??10),wr(this,ia,a),wr(this,sn,[]),this.wrappingFacet=!1,this._createChildren()}_createChildren(){}appendChild(n){n.layoutParent??(n.layoutParent=this),ie(this,sn).push(new R3(n,this,ie(this,oa))),AS(this,oa)._++}setChildren(n){wr(this,sn,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=ie(this,sn).findIndex(s=>s.view==n);if(i>=0)ie(this,sn)[i]=new R3(r,this,ie(this,oa));else throw new Error("Not my child view!")}get children(){return ie(this,sn).map(n=>n.view)}get childCount(){return ie(this,sn).length}onScalesResolved(){super.onScalesResolved(),ue(this,sh,IS).call(this)}*[Symbol.iterator](){for(const n of ie(this,sn))yield*n.getChildren();for(const n of Object.values(ie(this,Ps)))yield n}getOverhang(){return ue(this,oh,DS).call(this).union(ue(this,aa,hh).call(this))}getSize(){return this._cache("size",()=>new as(ue(this,Au,Cm).call(this,"column"),ue(this,Au,Cm).call(this,"row")).addPadding(ue(this,aa,hh).call(this)))}render(n,r,i={}){if(!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(ue(this,aa,hh).call(this)),n.pushView(this,r);const s={devicePixelRatio:this.context.devicePixelRatio},o=cx(ue(this,vu,Sm).call(this,"column"),r.width,s),a=cx(ue(this,vu,Sm).call(this,"row"),r.height,s),u=new S3(ie(this,Or,Os).length,ie(this,ia)??1/0);for(const[f,l]of ie(this,Or,Os).entries()){const{view:c,axes:h,gridLines:d,background:p,backgroundStroke:b,title:y}=l,[w,E]=u.getCellCoords(f),S=o[ue(this,Eu,Tm).call(this,"column",w)],T=a[ue(this,Eu,Tm).call(this,"row",E)],D=c.getSize(),B=c.getOverhang(),I=S.location-B.left,N=T.location-B.top,C=(D.width.grow?S.size:D.width.px)+B.width,M=(D.height.grow?T.size:D.height.px)+B.height,P=new su(()=>r.x+I,()=>r.y+N,()=>C,()=>M);l.coords=P;const ee=i.clipRect?P.intersect(i.clipRect):P;p==null||p.render(n,ee,{...i,clipRect:void 0});for(const J of Object.values(d))J.render(n,P,i);const ne=gU(c);ne&&c.render(n,P,i),b==null||b.render(n,ee,{...i,clipRect:void 0});for(const[J,me]of Object.entries(h))me.render(n,k3(P,J,me),i);for(const J of Object.values(ie(this,Ps))){const Ee=J.axisProps.orient;(Ee=="left"&&w==0||Ee=="right"&&w==u.nCols-1||Ee=="top"&&E==0||Ee=="bottom"&&E==u.nRows-1)&&J.render(n,k3(P.shrink(l.view.getOverhang()),Ee,J),i)}ne||c.render(n,P,i),y==null||y.render(n,P,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=ie(this,Or,Os).find(s=>s.coords.containsPoint(n.point.x,n.point.y)),i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof Bt||i instanceof ou)&&cU(n,r.coords,s=>ue(this,ah,BS).call(this,r.coords,r.view,s),this.context.getCurrentHover())),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}ia=new WeakMap,sa=new WeakMap,sn=new WeakMap,Ps=new WeakMap,oa=new WeakMap,Or=new WeakSet,Os=function(){return ie(this,sn).filter(n=>n.view.isConfiguredVisible())},ih=new WeakSet,FS=function(){return new S3(ie(this,Or,Os).length,ie(this,ia)??1/0)},sh=new WeakSet,IS=function(){for(const n of Ks){const r=this.resolutions.axis[n];if(r){const i=r.getAxisProps();if(i){const s={title:r.getTitle(),orient:Wc[n][0],...i},o=new C3(s,r.scaleResolution.type,this.context,this,this);ie(this,Ps)[n]=o,o.visit(a=>{a instanceof Bt&&a.resolve("scale")})}}}for(const n of ie(this,sn))n.createAxes()},Ns=new WeakSet,Su=function(n){const r=n=="column"?"width":"height",i=(s,o)=>s.map(a=>{const f=ie(this,Or,Os)[a].getOverhangAndPadding();return n=="column"?o?f.right:f.left:o?f.bottom:f.top}).reduce((a,u)=>Math.max(a,u),0);return this._cache(`size/directionSizes/${n}`,()=>ie(this,ih,FS)[n=="column"?"colIndices":"rowIndices"].map(s=>({axisBefore:i(s,0),axisAfter:i(s,1),view:sR(s.map(o=>ie(this,Or,Os)[o].view.getSize()[r]))})))},vu=new WeakSet,Sm=function(n){const r=ue(this,Ns,Su).call(this,n),i=[];i.push(lf);for(const[s,o]of r.entries())s>0&&i.push({px:ie(this,sa),grow:0}),(s==0||this.wrappingFacet)&&i.push(lf),i.push({px:o.axisBefore,grow:0}),i.push(o.view),i.push({px:o.axisAfter,grow:0}),(s==r.length-1||this.wrappingFacet)&&i.push(lf);return i},Au=new WeakSet,Cm=function(n){let r=0,i=0;const s=(n=="row"&&this.spec.height)??(n=="column"&&this.spec.width);if(s||s===0)return hx(s);const o=ue(this,Ns,Su).call(this,n);for(const[a,u]of o.entries())a>0&&(i+=ie(this,sa)),(a==0||this.wrappingFacet)&&(i+=0),i+=u.axisBefore,i+=u.view.px??0,r+=u.view.grow??0,i+=u.axisAfter,(a==o.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},Eu=new WeakSet,Tm=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},oh=new WeakSet,DS=function(){const n=ue(this,Ns,Su).call(this,"column"),r=ue(this,Ns,Su).call(this,"row");return!n.length||!r.length?Ct.zero():new Ct(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},aa=new WeakSet,hh=function(){const n=r=>{const i=nm[r],s=ie(this,Ps)[i];return(s==null?void 0:s.axisProps.orient)!==r?0:Math.max(s.getPerpendicularSize()+s.axisProps.offset,0)};return new Ct(n("top"),n("right"),n("bottom"),n("left"))},ah=new WeakSet,BS=function(n,r,i){for(const[s,o]of Object.entries(pU(r))){if(o.size<=0)continue;const a=n.normalizePoint(i.x,i.y),u=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),f={x:u.x-a.x,y:u.y-a.y};for(const l of o)l.zoom(2**i.zDelta,s=="y"?1-a[s]:a[s],s=="x"?f.x:-f.y)}this.context.animator.requestRender()};function hU(t){if(!(!t||!t.fill||t.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:t.fill,opacity:t.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function dU(t){if(!(!t||!t.stroke||t.strokeWidth===0||t.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:t.strokeWidth??1,color:t.stroke??"lightgray",strokeCap:"square",strokeOpacity:t.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function pU(t){const e={x:new Set,y:new Set};return t.visit(n=>{for(const[r,i]of Object.entries(e)){const s=n.getScaleResolution(r);s&&s.isZoomable()&&i.add(s)}}),e}function gU(t){let e=!0;return t.visit(n=>{n instanceof Bt&&e&&(e=n.mark.properties.clip===!0)}),e}function k3(t,e,n){const r=n.axisProps,i=n.getPerpendicularSize();if(e=="bottom")return t.translate(0,t.height+r.offset).modify({height:i});if(e=="top")return t.translate(0,-i-r.offset).modify({height:i});if(e=="left")return t.translate(-i-r.offset,0).modify({width:i});if(e=="right")return t.translate(t.width+r.offset,0).modify({width:i})}class R3{constructor(e,n,r){if(this.layoutParent=n,this.view=e,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.title=void 0,this.coords=su.ZERO,e.needsAxes.x||e.needsAxes.y){const i=e.spec,s="view"in i?i==null?void 0:i.view:void 0,o=hU(s);o&&(this.background=new Bt(o,n.context,n,e,"background"+r),this.background.blockEncodingInheritance=!0);const a=dU(s);a&&(this.backgroundStroke=new Bt(a,n.context,n,e,"backgroundStroke"+r),this.backgroundStroke.blockEncodingInheritance=!0);const u=lU(e.spec.title);if(u){const f=new Bt(u,n.context,n,e,"title"+r);f.blockEncodingInheritance=!0,this.title=f}}}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view}createAxes(){const{view:e,axes:n,gridLines:r}=this,i=(a,u)=>{const f=a.getAxisProps();if(f===null)return;const l=f?{...f}:{};if(!l.orient){for(const c of Wc[u])if(!n[c]){l.orient=c;break}if(!l.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(l.title??(l.title=a.getTitle()),!Wc[u].includes(l.orient))throw new Error(`Invalid axis orientation "${l.orient}" on channel "${u}"!`);return l},s=(a,u,f)=>{const l=i(a,u);if(l){if(n[l.orient])throw new Error(`An axis with the orient "${l.orient}" already exists!`);n[l.orient]=new C3(l,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,f)}},o=(a,u,f)=>{const l=i(a,u);l&&(l.grid||l.chromGrid)&&(r[l.orient]=new eU(l,a.scaleResolution.type,this.layoutParent.context,this.layoutParent,f))};for(const a of["x","y"])if(e.needsAxes[a]){const u=e.resolutions.axis[a];if(!u)continue;s(u,a,e)}for(const a of["x","y"])if(e.needsAxes[a]){const u=e.getAxisResolution(a);if(!u)continue;o(u,a,e)}if(e instanceof ou){for(const a of e.children)for(const[u,f]of Object.entries(a.resolutions.axis)){const l=f.getAxisProps();l&&l.orient&&s(f,u,a)}for(const a of e.children)for(const[u,f]of Object.entries(a.resolutions.axis)){const l=f.getAxisProps();l&&!l.orient&&s(f,u,a)}}[...Object.values(n),...Object.values(r)].forEach(a=>a.visit(u=>{u instanceof Bt&&u.resolve("scale")}))}getOverhang(){const e=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+r.axisProps.offset,0):0};return new Ct(e("top"),e("right"),e("bottom"),e("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class im extends B3{constructor(e,n,r,i,s){super(e,n,r,i,s,sm(e)?e.columns:Yc(e)?1:1/0),this.spec=e}_createChildren(){const e=this.spec,n=sm(e)?e.concat:Yc(e)?e.vconcat:e.hconcat;this.setChildren(n.map((r,i)=>this.context.createView(r,this,this,"grid"+i)))}getDefaultResolution(e,n){if(n=="axis")return"independent";if(Yc(this.spec)&&e==="x"||N3(this.spec)&&e==="y"){const r=new Set(this.children.map(i=>i.getEncoding()[e]).filter(i=>i).map(i=>"type"in i&&i.type).filter(i=>i));return r.size===1&&(r.has("index")||r.has("locus"))?"shared":"independent"}else return"independent"}}class mU{constructor(){this.types=[];const e=n=>(r,i,s,o,a)=>new n(r,i,s,o,r.name??a);this.addViewType(bU,e(Px)),this.addViewType(P3,e(ou)),this.addViewType(M3,e(Bt)),this.addViewType(Yc,e(im)),this.addViewType(N3,e(im)),this.addViewType(sm,e(im))}addViewType(e,n){this.types.push({specGuard:e,factory:n})}createView(e,n,r,i,s){const o=this.types.find(a=>a.specGuard(e));if(o)return o.factory(e,n,r,i,s??"unnamed");throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(e)]))}isViewSpec(e){const n=this.types.filter(r=>r.specGuard(e));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}}function M3(t){return"mark"in t&&(Ke(t.mark)||Fn(t.mark))}function P3(t){return"layer"in t&&Fn(t.layer)}function bU(t){return"import"in t}function Yc(t){return"vconcat"in t&&Xt(t.vconcat)}function N3(t){return"hconcat"in t&&Xt(t.hconcat)}function sm(t){return"concat"in t&&Xt(t.concat)}class yU extends B3{constructor(e,n){super({vconcat:[]},e,void 0,void 0,"implicitRoot",1),n.layoutParent=this,n.dataParent=this,this.appendChild(n)}}N1("fasta",zz);class wU{constructor(e,n,r={}){this.container=e;const i=document.createElement("style");i.innerHTML=F6,e.appendChild(i),this.spec=n,this.accessorFactory=new pF,this.viewFactory=new mU,this.namedDataProviders=[],this.animator=new kz(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=s=>s.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new Uz(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:Wz,refseqgene:Hz,...r.tooltipHandlers??{}},this.viewRoot=void 0}registerNamedDataProvider(e){this.namedDataProviders.unshift(e)}getNamedDataFromProvider(e){for(const n of this.namedDataProviders){const r=n(e);if(r)return r}}updateNamedData(e,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(e);if(!r)throw new Error("No such named data source: "+e);r.dataSource.updateDynamicData(n),N0(r.hosts),this.animator.requestRender()}broadcast(e,n){var i;const r={type:e,payload:n};this.viewRoot.visit(s=>s.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(e))==null||i.forEach(s=>s(r))}_prepareContainer(){this.container.classList.add("genome-spy"),this.container.classList.add("loading"),this._glHelper=new Bk(this.container,()=>this.viewRoot?Cz(this.viewRoot):{width:void 0,height:void 0},this.spec.background),this.loadingMessageElement=document.createElement("div"),this.loadingMessageElement.className="loading-message",this.loadingMessageElement.innerHTML='<div class="message">Loading<span class="ellipsis">...</span></div>',this.container.appendChild(this.loadingMessageElement),this.tooltip=new D6(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})}destroy(){this.container.classList.remove("genome-spy"),this.container.classList.remove("loading");for(const[e,n]of this._keyboardListeners)for(const r of n)document.removeEventListener(e,r);for(this._glHelper.finalize();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new Rz(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const e=this,n={dataFlow:new m3,accessorFactory:this.accessorFactory,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new Nz(this._glHelper),get devicePixelRatio(){return e._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,addKeyboardListener:(a,u)=>{document.addEventListener(a,u);let f=this._keyboardListeners.get(a);f||(f=[],this._keyboardListeners.set(a,f)),f.push(u)},addBroadcastListener(a,u){const f=e._extraBroadcastListeners;let l=f.get(a);l||(l=new Set,f.set(a,l)),l.add(u)},removeBroadcastListener(a,u){var l;(l=e._extraBroadcastListeners.get(a))==null||l.delete(u)},isViewConfiguredVisible:e.viewVisibilityPredicate,isViewSpec:a=>e.viewFactory.isViewSpec(a),createView:function(a,u,f,l){return e.viewFactory.createView(a,n,u,f,l)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(a=>r.datasets[a]),this.viewRoot=n.createView(r,null,null,"viewRoot"),await w3(this.viewRoot),(this.viewRoot.needsAxes.x||this.viewRoot.needsAxes.y)&&(this.viewRoot=new yU(n,this.viewRoot)),Ez(this.viewRoot),_z(this.viewRoot),this._glHelper.invalidateSize();const i=[];this.viewRoot.visit(a=>{a instanceof Bt&&i.push(a)});const s=bz(this.viewRoot,n.dataFlow);Az(s),this.broadcast("dataFlowBuilt",s),i.forEach(a=>a.mark.initializeEncoders());const o=Promise.all(i.map(a=>a.mark.initializeGraphics()));for(const a of i)s.addObserver(u=>{a.mark.initializeData(),a.mark.updateGraphicsData()},a);await n.fontManager.waitUntilReady(),s.initialize(),await Promise.all(s.dataSources.map(a=>a.load())),N0(this.viewRoot),this.broadcast("dataLoaded"),await o,this.viewRoot.visit(a=>{for(const u of Object.values(a.resolutions.scale))this._glHelper.createRangeTexture(u)});for(const a of i)a.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(a=>ql(a,"size")),this._glHelper.invalidateSize()}async launch(){try{return this._prepareContainer(),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),this._glHelper.addEventListener("resize",()=>{this.computeLayout(),this.renderAll()}),!0}catch(e){const n=`${e.view?`At "${e.view.getPathString()}": `:""}${e.toString()}`;return console.error(e.stack),xU(this.container,n),!1}finally{this.container.classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const e=this._glHelper.canvas,n=r=>{var i;if(r instanceof MouseEvent){r.type=="mousemove"&&(this.tooltip.handleMouseMove(r),this._tooltipUpdateRequested=!1,r.buttons==0&&this.renderPickingFramebuffer());const s=e.getBoundingClientRect(),o=new Iz(r.clientX-s.left-e.clientLeft,r.clientY-s.top-e.clientTop),a=u=>{this.viewRoot.propagateInteractionEvent(new Fz(o,u)),this._tooltipUpdateRequested||this.tooltip.clear()};if(r.type!="wheel"&&this._wheelInertia.cancel(),r.type=="mousemove")this._handlePicking(o.x,o.y);else if(r.type=="mousedown"||r.type=="mouseup")this.renderPickingFramebuffer();else if(r.type=="wheel"){this._tooltipUpdateRequested=!1;const u=r;if(Math.abs(u.deltaX)>Math.abs(u.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const f=Gz(u);this._wheelInertia.setMomentum(u.deltaY*(u.deltaMode?80:1),l=>{const c=new WheelEvent("wheel",{...f,deltaMode:0,deltaX:0,deltaY:l});a(c)}),u.preventDefault();return}}if(r.type=="click"){const u=this._currentHover?{type:r.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(f=>f.name).reverse(),datum:this._currentHover.datum}:{type:r.type,viewPath:null,datum:null};(i=this._eventListeners.get("click"))==null||i.forEach(f=>f(u))}a(r)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(r=>e.addEventListener(r,n)),e.addEventListener("mousedown",()=>{document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),e.addEventListener("dragstart",r=>r.stopPropagation())}_handlePicking(e,n){var s;const r=this._glHelper.readPickingPixel(e,n),i=r[0]|r[1]<<8|r[2]<<16;if(i==0){this._currentHover=null;return}if(i!==((s=this._currentHover)==null?void 0:s.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(o=>{if(o instanceof Bt){if(o.mark.isPickingParticipant()){const a=o.mark.encoders.uniqueId.accessor;o.getCollector().visitData(u=>{a(u)==i&&(this._currentHover={mark:o.mark,datum:u,uniqueId:i})})}if(this._currentHover)return cf}}),this._currentHover){const o=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async a=>{if(!o.isPickingParticipant())return;const u=o.properties.tooltip;if(u!==null){const f=(u==null?void 0:u.handler)??"default",l=this.tooltipHandlers[f];if(!l)throw new Error("No such tooltip handler: "+f);return l(a,o,u==null?void 0:u.params)}})}}updateTooltip(e,n){if(!this._tooltipUpdateRequested||!e)this.tooltip.updateWithDatum(e,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const e=this.viewRoot;if(!e)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new v3({picking:!1},this._glHelper),this._pickingContext=new v3({picking:!0},this._glHelper),e.render(new Tz(this._renderingContext,this._pickingContext),su.create(0,0,n.width,n.height)),this.broadcast("layoutComputed")}renderAll(){var e;(e=this._renderingContext)==null||e.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const e=[];return this.viewRoot.visit(n=>{n instanceof Bt&&n.getAccessor("search")&&e.push(n)}),e}getNamedScaleResolutions(){const e=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&e.set(r.name,r)}),e}}function xU(t,e){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=e,n.appendChild(r),t.appendChild(n)}async function vU(t,e,n={}){let r;if(Ke(t)){if(r=document.querySelector(t),!r)throw new Error(`No such element: ${t}`)}else if(t instanceof HTMLElement)r=t;else throw new Error(`Invalid element: ${t}`);let i;try{const s=Fn(e)?e:await EU(e);if(s.baseUrl??(s.baseUrl=""),s.width??(s.width="container"),s.padding??(s.padding=10),r==document.body){const o=document.createElement("div");o.style.position="fixed",o.style.inset="0",o.style.overflow="hidden",r.appendChild(o),r=o}i=new wU(r,s,n),AU(i,n),await i.launch()}catch(s){r.innerText=s.toString(),console.error(s)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(s,o){const a=i._eventListeners;let u=a.get(s);u||(u=new Set,a.set(s,u)),u.add(o)},removeEventListener(s,o){var u;(u=i._eventListeners.get(s))==null||u.delete(o)},getScaleResolutionByName(s){return i.getNamedScaleResolutions().get(s)},updateNamedData:i.updateNamedData.bind(i)}}function AU(t,e){e.namedDataProvider&&t.registerNamedDataProvider(e.namedDataProvider)}async function EU(t){let e;try{e=JSON.parse(await Wu().load(t))}catch(n){throw new Error(`Could not load or parse configuration: ${t}, reason: ${n.message}`)}if(!e.baseUrl){const n=t.match(/^[^?#]*\//);e.baseUrl=n&&n[0]||"./"}return e}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qc=window,om=Qc.ShadowRoot&&(Qc.ShadyCSS===void 0||Qc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,am=Symbol(),L3=new WeakMap;let O3=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==am)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(om&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=L3.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&L3.set(n,e))}return e}toString(){return this.cssText}};const _U=t=>new O3(typeof t=="string"?t:t+"",void 0,am),SU=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new O3(n,t,am)},CU=(t,e)=>{om?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{const r=document.createElement("style"),i=Qc.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},z3=om?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return _U(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var fm;const Xc=window,U3=Xc.trustedTypes,TU=U3?U3.emptyScript:"",G3=Xc.reactiveElementPolyfillSupport,um={toAttribute(t,e){switch(e){case Boolean:t=t?TU:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},H3=(t,e)=>e!==t&&(e==e||t==t),lm={attribute:!0,type:String,converter:um,reflect:!1,hasChanged:H3};let Qo=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var n;(n=this.h)!==null&&n!==void 0||(this.h=[]),this.h.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((n,r)=>{const i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=lm){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){const s=this[e];this[n]=i,this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||lm}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(z3(i))}else e!==void 0&&n.push(z3(e));return n}static _$Ep(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;const n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return CU(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=lm){var i;const s=this.constructor._$Ep(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:um).toAttribute(n,r.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,n){var r;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:um;this._$El=s,this[s]=a.fromAttribute(n,o.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||H3)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let n=!1;const r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Qo.finalized=!0,Qo.elementProperties=new Map,Qo.elementStyles=[],Qo.shadowRootOptions={mode:"open"},G3==null||G3({ReactiveElement:Qo}),((fm=Xc.reactiveElementVersions)!==null&&fm!==void 0?fm:Xc.reactiveElementVersions=[]).push("1.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var cm;const Kc=window,Xo=Kc.trustedTypes,$3=Xo?Xo.createPolicy("lit-html",{createHTML:t=>t}):void 0,Si=`lit$${(Math.random()+"").slice(9)}$`,V3="?"+Si,FU=`<${V3}>`,Ko=document,au=(t="")=>Ko.createComment(t),fu=t=>t===null||typeof t!="object"&&typeof t!="function",q3=Array.isArray,IU=t=>q3(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",uu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,j3=/-->/g,Z3=/>/g,Rs=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),W3=/'/g,Y3=/"/g,Q3=/^(?:script|style|textarea|title)$/i,DU=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),X3=DU(1),Ms=Symbol.for("lit-noChange"),rt=Symbol.for("lit-nothing"),K3=new WeakMap,Jo=Ko.createTreeWalker(Ko,129,null,!1),BU=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":"",o=uu;for(let u=0;u<n;u++){const f=t[u];let l,c,h=-1,d=0;for(;d<f.length&&(o.lastIndex=d,c=o.exec(f),c!==null);)d=o.lastIndex,o===uu?c[1]==="!--"?o=j3:c[1]!==void 0?o=Z3:c[2]!==void 0?(Q3.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=Rs):c[3]!==void 0&&(o=Rs):o===Rs?c[0]===">"?(o=i??uu,h=-1):c[1]===void 0?h=-2:(h=o.lastIndex-c[2].length,l=c[1],o=c[3]===void 0?Rs:c[3]==='"'?Y3:W3):o===Y3||o===W3?o=Rs:o===j3||o===Z3?o=uu:(o=Rs,i=void 0);const p=o===Rs&&t[u+1].startsWith("/>")?" ":"";s+=o===uu?f+FU:h>=0?(r.push(l),f.slice(0,h)+"$lit$"+f.slice(h)+Si+p):f+Si+(h===-2?(r.push(void 0),u):p)}const a=s+(t[n]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[$3!==void 0?$3.createHTML(a):a,r]};class lu{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[f,l]=BU(e,n);if(this.el=lu.createElement(f,r),Jo.currentNode=this.el.content,n===2){const c=this.el.content,h=c.firstChild;h.remove(),c.append(...h.childNodes)}for(;(i=Jo.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const c=[];for(const h of i.getAttributeNames())if(h.endsWith("$lit$")||h.startsWith(Si)){const d=l[o++];if(c.push(h),d!==void 0){const p=i.getAttribute(d.toLowerCase()+"$lit$").split(Si),b=/([.?@])?(.*)/.exec(d);u.push({type:1,index:s,name:b[2],strings:p,ctor:b[1]==="."?RU:b[1]==="?"?PU:b[1]==="@"?NU:Jc})}else u.push({type:6,index:s})}for(const h of c)i.removeAttribute(h)}if(Q3.test(i.tagName)){const c=i.textContent.split(Si),h=c.length-1;if(h>0){i.textContent=Xo?Xo.emptyScript:"";for(let d=0;d<h;d++)i.append(c[d],au()),Jo.nextNode(),u.push({type:2,index:++s});i.append(c[h],au())}}}else if(i.nodeType===8)if(i.data===V3)u.push({type:2,index:s});else{let c=-1;for(;(c=i.data.indexOf(Si,c+1))!==-1;)u.push({type:7,index:s}),c+=Si.length-1}s++}}static createElement(e,n){const r=Ko.createElement("template");return r.innerHTML=e,r}}function ea(t,e,n=t,r){var i,s,o,a;if(e===Ms)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl;const f=fu(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==f&&((s=u==null?void 0:u._$AO)===null||s===void 0||s.call(u,!1),f===void 0?u=void 0:(u=new f(t),u._$AT(t,n,r)),r!==void 0?((o=(a=n)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=ea(t,u._$AS(t,e.values),u,r)),e}class kU{constructor(e,n){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var n;const{el:{content:r},parts:i}=this._$AD,s=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ko).importNode(r,!0);Jo.currentNode=s;let o=Jo.nextNode(),a=0,u=0,f=i[0];for(;f!==void 0;){if(a===f.index){let l;f.type===2?l=new cu(o,o.nextSibling,this,e):f.type===1?l=new f.ctor(o,f.name,f.strings,this,e):f.type===6&&(l=new LU(o,this,e)),this.u.push(l),f=i[++u]}a!==(f==null?void 0:f.index)&&(o=Jo.nextNode(),a++)}return s}p(e){let n=0;for(const r of this.u)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class cu{constructor(e,n,r,i){var s;this.type=2,this._$AH=rt,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ea(this,e,n),fu(e)?e===rt||e==null||e===""?(this._$AH!==rt&&this._$AR(),this._$AH=rt):e!==this._$AH&&e!==Ms&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):IU(e)?this.k(e):this.g(e)}O(e,n=this._$AB){return this._$AA.parentNode.insertBefore(e,n)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==rt&&fu(this._$AH)?this._$AA.nextSibling.data=e:this.T(Ko.createTextNode(e)),this._$AH=e}$(e){var n;const{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=lu.createElement(i.h,this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.p(r);else{const o=new kU(s,this),a=o.v(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let n=K3.get(e.strings);return n===void 0&&K3.set(e.strings,n=new lu(e)),n}k(e){q3(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new cu(this.O(au()),this.O(au()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class Jc{constructor(e,n,r,i,s){this.type=1,this._$AH=rt,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=rt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=ea(this,e,n,0),o=!fu(e)||e!==this._$AH&&e!==Ms,o&&(this._$AH=e);else{const a=e;let u,f;for(e=s[0],u=0;u<s.length-1;u++)f=ea(this,a[r+u],n,u),f===Ms&&(f=this._$AH[u]),o||(o=!fu(f)||f!==this._$AH[u]),f===rt?e=rt:e!==rt&&(e+=(f??"")+s[u+1]),this._$AH[u]=f}o&&!i&&this.j(e)}j(e){e===rt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class RU extends Jc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===rt?void 0:e}}const MU=Xo?Xo.emptyScript:"";class PU extends Jc{constructor(){super(...arguments),this.type=4}j(e){e&&e!==rt?this.element.setAttribute(this.name,MU):this.element.removeAttribute(this.name)}}class NU extends Jc{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){var r;if((e=(r=ea(this,e,n,0))!==null&&r!==void 0?r:rt)===Ms)return;const i=this._$AH,s=e===rt&&i!==rt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==rt&&(i===rt||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class LU{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ea(this,e)}}const J3=Kc.litHtmlPolyfillSupport;J3==null||J3(lu,cu),((cm=Kc.litHtmlVersions)!==null&&cm!==void 0?cm:Kc.litHtmlVersions=[]).push("2.4.0");const OU=(t,e,n)=>{var r,i;const s=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e;let o=s._$litPart$;if(o===void 0){const a=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new cu(e.insertBefore(au(),a),a,void 0,n??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var hm,dm;let hu=class extends Qo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,n;const r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=OU(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return Ms}};hu.finalized=!0,hu._$litElement$=!0,(hm=globalThis.litElementHydrateSupport)===null||hm===void 0||hm.call(globalThis,{LitElement:hu});const eS=globalThis.litElementPolyfillSupport;eS==null||eS({LitElement:hu}),((dm=globalThis.litElementVersions)!==null&&dm!==void 0?dm:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},nS=t=>(...e)=>({_$litDirective$:t,values:e});let rS=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iS=nS(class extends rS{constructor(t){var e;if(super(t),t.type!==tS.ATTRIBUTE||t.name!=="style"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r==null?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:n}=t.element;if(this.vt===void 0){this.vt=new Set;for(const r in e)this.vt.add(r);return this.render(e)}this.vt.forEach(r=>{e[r]==null&&(this.vt.delete(r),r.includes("-")?n.removeProperty(r):n[r]="")});for(const r in e){const i=e[r];i!=null&&(this.vt.add(r),r.includes("-")?n.setProperty(r,i):n[r]=i)}return Ms}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zU=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const du=(t,e)=>{var n,r;const i=t._$AN;if(i===void 0)return!1;for(const s of i)(r=(n=s)._$AO)===null||r===void 0||r.call(n,e,!1),du(s,e);return!0},eh=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},sS=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),HU(e)}};function UU(t){this._$AN!==void 0?(eh(this),this._$AM=t,sS(this)):this._$AM=t}function GU(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)du(r[s],!1),eh(r[s]);else r!=null&&(du(r,!1),eh(r));else du(this,t)}const HU=t=>{var e,n,r,i;t.type==tS.CHILD&&((e=(r=t)._$AP)!==null&&e!==void 0||(r._$AP=GU),(n=(i=t)._$AQ)!==null&&n!==void 0||(i._$AQ=UU))};class $U extends rS{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),sS(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)===null||r===void 0||r.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),n&&(du(this,e),eh(this))}setValue(e){if(zU(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const VU=()=>new qU;class qU{}const pm=new WeakMap,jU=nS(class extends $U{render(t){return rt}update(t,[e]){var n;const r=e!==this.Y;return r&&this.Y!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.Y=e,this.dt=(n=t.options)===null||n===void 0?void 0:n.host,this.rt(this.ct=t.element)),rt}rt(t){var e;if(typeof this.Y=="function"){const n=(e=this.dt)!==null&&e!==void 0?e:globalThis;let r=pm.get(n);r===void 0&&(r=new WeakMap,pm.set(n,r)),r.get(this.Y)!==void 0&&this.Y.call(this.dt,void 0),r.set(this.Y,t),t!==void 0&&this.Y.call(this.dt,t)}else this.Y.value=t}get lt(){var t,e,n;return typeof this.Y=="function"?(e=pm.get((t=this.dt)!==null&&t!==void 0?t:globalThis))===null||e===void 0?void 0:e.get(this.Y):(n=this.Y)===null||n===void 0?void 0:n.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function oS(){const t=document.querySelector("meta[name='base_url']").getAttribute("content");return t||console.error('No <meta name="base_url" ...> found!'),t}async function ZU(t,e){const r=`${oS()}/data/`;try{e.baseUrl=e.baseUrl||r,await vU(t,e,{bare:!0})}catch(i){const s=document.createElement("pre");s.innerText=i.toString(),t.appendChild(s)}}class aS extends hu{static get styles(){return SU`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=VU()}render(){return X3`
            <link rel="stylesheet" href=${oS()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${iS({height:this.height+"px"})}
                ${jU(this.embedRef)}
            ></div>
            ${this.specHidden?X3`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${e=>{this.specHidden=!1,e.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:rt}

            <div
                class="embed-spec"
                style=${iS({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const e=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(e){const r=new IntersectionObserver(i=>{i.forEach(s=>{if(s.isIntersecting){const o=s.target;ZU(o,JSON.parse(e)),r.unobserve(o)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",aS),_e.GenomeSpyDocEmbed=aS,Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"})});
