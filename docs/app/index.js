(function(Ve,Ye){typeof exports=="object"&&typeof module<"u"?Ye(exports):typeof define=="function"&&define.amd?define(["exports"],Ye):(Ve=typeof globalThis<"u"?globalThis:Ve||self,Ye(Ve.genomeSpyDocEmbed={}))})(this,function(Ve){"use strict";var JL=Object.defineProperty;var q2=Ve=>{throw TypeError(Ve)};var $L=(Ve,Ye,et)=>Ye in Ve?JL(Ve,Ye,{enumerable:!0,configurable:!0,writable:!0,value:et}):Ve[Ye]=et;var qt=(Ve,Ye,et)=>$L(Ve,typeof Ye!="symbol"?Ye+"":Ye,et),Ep=(Ve,Ye,et)=>Ye.has(Ve)||q2("Cannot "+et);var X=(Ve,Ye,et)=>(Ep(Ve,Ye,"read from private field"),et?et.call(Ve):Ye.get(Ve)),ve=(Ve,Ye,et)=>Ye.has(Ve)?q2("Cannot add the same private member more than once"):Ye instanceof WeakSet?Ye.add(Ve):Ye.set(Ve,et),Pe=(Ve,Ye,et,io)=>(Ep(Ve,Ye,"write to private field"),io?io.call(Ve,et):Ye.set(Ve,et),et),he=(Ve,Ye,et)=>(Ep(Ve,Ye,"access private method"),et);var j2=(Ve,Ye,et,io)=>({set _($u){Pe(Ve,Ye,$u,et)},get _(){return X(Ve,Ye,io)}});var O2,Yi,Lc,mc,ti,Qi,ia,oa,bc,yc,aa,W2,Z2,$n,ni,Sp,_p,sa,Zu,Y2,mr,ca,ln,xc,Re,Cp,Tp,Er,Dp,Q2,X2,Ip,kp,Xu,Bp,no,Fp,K2,wc,Rp,la,vc,Ac,Ec,Sc,er,Oc,Mp,_c,Yu,J2,br,Cc,Xi,Ki,un,Pp,Lp,Op,$2,ua,fa,ha,Tc,da,pa,Dc,Np,Ic,zp,Ji,ga,kc,Bc,ma,Fc,Rc,yr,$i,ri,ii,ba,ya,fn,eo,xa,qe,ro,eE,Nc,Up,Gp,Hp,tE,Ku,nE,wa,Mc,oi,to,va,Sn,Ju,rE,iE,oE;function Ye(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function et(e,t,n){return e.fields=t||[],e.fname=n,e}function io(e){return e==null?null:e.fname}function $u(e){return e==null?null:e.fields}function aE(e){return e.length===1?sE(e[0]):cE(e)}const sE=e=>function(t){return t[e]},cE=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function yt(e){throw Error(e)}function lE(e){const t=[],n=e.length;let r=null,i=0,o="",a,s,c;e=e+"";function l(){t.push(o+e.substring(a,s)),o="",a=s+1}for(a=s=0;s<n;++s)if(c=e[s],c==="\\")o+=e.substring(a,s++),a=s;else if(c===r)l(),r=null,i=-1;else{if(r)continue;a===i&&c==='"'||a===i&&c==="'"?(a=s+1,r=c):c==="."&&!i?s>a?l():a=s+1:c==="["?(s>a&&l(),i=a=s+1):c==="]"&&(i||yt("Access path missing open bracket: "+e),i>0&&l(),i=0,a=s+1)}return i&&yt("Access path missing closing bracket: "+e),r&&yt("Access path missing closing quote: "+e),s>a&&(s++,l()),t}function zc(e,t,n){const r=lE(e);return e=r.length===1?r[0]:e,et((n&&n.get||aE)(r),[e],t||e)}zc("id");const Uc=et(e=>e,[],"identity");et(()=>0,[],"zero"),et(()=>1,[],"one"),et(()=>!0,[],"true"),et(()=>!1,[],"false");var Bt=Array.isArray;function Lt(e){return e===Object(e)}function Tn(e){return e[e.length-1]}function Aa(e){return e==null||e===""?null:+e}const Vp=e=>t=>e*Math.exp(t),qp=e=>t=>Math.log(e*t),uE=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),fE=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Gc=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function ef(e,t,n,r){const i=n(e[0]),o=n(Tn(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function hE(e,t){return ef(e,t,Aa,Uc)}function dE(e,t){var n=Math.sign(e[0]);return ef(e,t,qp(n),Vp(n))}function pE(e,t,n){return ef(e,t,Gc(n),Gc(1/n))}function Hc(e,t,n,r,i){const o=r(e[0]),a=r(Tn(e)),s=t!=null?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function jp(e,t,n){return Hc(e,t,n,Aa,Uc)}function Wp(e,t,n){const r=Math.sign(e[0]);return Hc(e,t,n,qp(r),Vp(r))}function tf(e,t,n,r){return Hc(e,t,n,Gc(r),Gc(1/r))}function gE(e,t,n,r){return Hc(e,t,n,uE(r),fE(r))}function nf(e){return e!=null?Bt(e)?e:[e]:[]}function mE(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function dn(e){return typeof e=="function"}const bE="descending";function Zp(e,t,n){n=n||{},t=nf(t)||[];const r=[],i=[],o={},a=n.comparator||yE;return nf(e).forEach((s,c)=>{s!=null&&(r.push(t[c]===bE?-1:1),i.push(s=dn(s)?s:zc(s,null,n)),($u(s)||[]).forEach(l=>o[l]=1))}),i.length===0?null:et(a(i,r),Object.keys(o))}const Yp=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),yE=(e,t)=>e.length===1?xE(e[0],t[0]):wE(e,t,e.length),xE=(e,t)=>function(n,r){return Yp(e(n),e(r))*t},wE=(e,t,n)=>(t.push(0),function(r,i){let o,a=0,s=-1;for(;a===0&&++s<n;)o=e[s],a=Yp(o(r),o(i));return a*t[s]});function vE(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}const AE=Object.prototype.hasOwnProperty;function oo(e,t){return AE.call(e,t)}function Ea(e){return typeof e=="boolean"}function EE(e){return Object.prototype.toString.call(e)==="[object Date]"}function SE(e){return e&&dn(e[Symbol.iterator])}function jt(e){return typeof e=="number"}function _E(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function it(e){return typeof e=="string"}function Qp(e,t){const n=e[0],r=Tn(e),i=+t;return i?i===1?r:n+i*(r-n):n}function Vc(e){return e&&Tn(e)-e[0]||0}function rf(e){return Bt(e)?"["+e.map(rf)+"]":Lt(e)||it(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function CE(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const TE=e=>jt(e)||EE(e)?e:Date.parse(e);function DE(e,t){return t=t||TE,e==null||e===""?null:t(e)}function IE(e){return e==null||e===""?null:e+""}function qc(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jc=globalThis,of=jc.ShadowRoot&&(jc.ShadyCSS===void 0||jc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,af=Symbol(),Xp=new WeakMap;let Kp=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==af)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(of&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=Xp.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Xp.set(n,t))}return t}toString(){return this.cssText}};const kE=e=>new Kp(typeof e=="string"?e:e+"",void 0,af),BE=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,o)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[o+1],e[0]);return new Kp(n,e,af)},FE=(e,t)=>{if(of)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=jc.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},Jp=of?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return kE(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:RE,defineProperty:ME,getOwnPropertyDescriptor:PE,getOwnPropertyNames:LE,getOwnPropertySymbols:OE,getPrototypeOf:NE}=Object,Sr=globalThis,$p=Sr.trustedTypes,zE=$p?$p.emptyScript:"",sf=Sr.reactiveElementPolyfillSupport,Sa=(e,t)=>e,cf={toAttribute(e,t){switch(t){case Boolean:e=e?zE:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},eg=(e,t)=>!RE(e,t),tg={attribute:!0,type:String,converter:cf,reflect:!1,hasChanged:eg};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Sr.litPropertyMetadata??(Sr.litPropertyMetadata=new WeakMap);class ao extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=tg){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&ME(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:o}=PE(this.prototype,t)??{get(){return this[n]},set(a){this[n]=a}};return{get(){return i==null?void 0:i.call(this)},set(a){const s=i==null?void 0:i.call(this);o.call(this,a),this.requestUpdate(t,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??tg}static _$Ei(){if(this.hasOwnProperty(Sa("elementProperties")))return;const t=NE(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Sa("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Sa("properties"))){const n=this.properties,r=[...LE(n),...OE(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(Jp(i))}else t!==void 0&&n.push(Jp(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return FE(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var o;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const a=(((o=r.converter)==null?void 0:o.toAttribute)!==void 0?r.converter:cf).toAttribute(n,r.type);this._$Em=t,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(t,n){var o;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),s=typeof a.converter=="function"?{fromAttribute:a.converter}:((o=a.converter)==null?void 0:o.fromAttribute)!==void 0?a.converter:cf;this._$Em=i,this[i]=s.fromAttribute(n,a.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??eg)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,a]of this._$Ep)this[o]=a;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[o,a]of i)a.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],a)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}ao.elementStyles=[],ao.shadowRootOptions={mode:"open"},ao[Sa("elementProperties")]=new Map,ao[Sa("finalized")]=new Map,sf==null||sf({ReactiveElement:ao}),(Sr.reactiveElementVersions??(Sr.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _a=globalThis,Wc=_a.trustedTypes,ng=Wc?Wc.createPolicy("lit-html",{createHTML:e=>e}):void 0,rg="$lit$",_r=`lit$${Math.random().toFixed(9).slice(2)}$`,ig="?"+_r,UE=`<${ig}>`,li=document,Ca=()=>li.createComment(""),Ta=e=>e===null||typeof e!="object"&&typeof e!="function",lf=Array.isArray,GE=e=>lf(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",uf=`[ 	
\f\r]`,Da=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,og=/-->/g,ag=/>/g,ui=RegExp(`>|${uf}(?:([^\\s"'>=/]+)(${uf}*=${uf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),sg=/'/g,cg=/"/g,lg=/^(?:script|style|textarea|title)$/i,HE=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),st=HE(1),fi=Symbol.for("lit-noChange"),dt=Symbol.for("lit-nothing"),ug=new WeakMap,hi=li.createTreeWalker(li,129);function fg(e,t){if(!lf(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return ng!==void 0?ng.createHTML(t):t}const VE=(e,t)=>{const n=e.length-1,r=[];let i,o=t===2?"<svg>":t===3?"<math>":"",a=Da;for(let s=0;s<n;s++){const c=e[s];let l,u,f=-1,h=0;for(;h<c.length&&(a.lastIndex=h,u=a.exec(c),u!==null);)h=a.lastIndex,a===Da?u[1]==="!--"?a=og:u[1]!==void 0?a=ag:u[2]!==void 0?(lg.test(u[2])&&(i=RegExp("</"+u[2],"g")),a=ui):u[3]!==void 0&&(a=ui):a===ui?u[0]===">"?(a=i??Da,f=-1):u[1]===void 0?f=-2:(f=a.lastIndex-u[2].length,l=u[1],a=u[3]===void 0?ui:u[3]==='"'?cg:sg):a===cg||a===sg?a=ui:a===og||a===ag?a=Da:(a=ui,i=void 0);const d=a===ui&&e[s+1].startsWith("/>")?" ":"";o+=a===Da?c+UE:f>=0?(r.push(l),c.slice(0,f)+rg+c.slice(f)+_r+d):c+_r+(f===-2?s:d)}return[fg(e,o+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class Ia{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let o=0,a=0;const s=t.length-1,c=this.parts,[l,u]=VE(t,n);if(this.el=Ia.createElement(l,r),hi.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=hi.nextNode())!==null&&c.length<s;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(rg)){const h=u[a++],d=i.getAttribute(f).split(_r),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:o,name:p[2],strings:d,ctor:p[1]==="."?jE:p[1]==="?"?WE:p[1]==="@"?ZE:Zc}),i.removeAttribute(f)}else f.startsWith(_r)&&(c.push({type:6,index:o}),i.removeAttribute(f));if(lg.test(i.tagName)){const f=i.textContent.split(_r),h=f.length-1;if(h>0){i.textContent=Wc?Wc.emptyScript:"";for(let d=0;d<h;d++)i.append(f[d],Ca()),hi.nextNode(),c.push({type:2,index:++o});i.append(f[h],Ca())}}}else if(i.nodeType===8)if(i.data===ig)c.push({type:2,index:o});else{let f=-1;for(;(f=i.data.indexOf(_r,f+1))!==-1;)c.push({type:7,index:o}),f+=_r.length-1}o++}}static createElement(t,n){const r=li.createElement("template");return r.innerHTML=t,r}}function so(e,t,n=e,r){var a,s;if(t===fi)return t;let i=r!==void 0?(a=n._$Co)==null?void 0:a[r]:n._$Cl;const o=Ta(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==o&&((s=i==null?void 0:i._$AO)==null||s.call(i,!1),o===void 0?i=void 0:(i=new o(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=so(e,i._$AS(e,t.values),i,r)),t}class qE{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??li).importNode(n,!0);hi.currentNode=i;let o=hi.nextNode(),a=0,s=0,c=r[0];for(;c!==void 0;){if(a===c.index){let l;c.type===2?l=new ka(o,o.nextSibling,this,t):c.type===1?l=new c.ctor(o,c.name,c.strings,this,t):c.type===6&&(l=new YE(o,this,t)),this._$AV.push(l),c=r[++s]}a!==(c==null?void 0:c.index)&&(o=hi.nextNode(),a++)}return hi.currentNode=li,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class ka{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=dt,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=so(this,t,n),Ta(t)?t===dt||t==null||t===""?(this._$AH!==dt&&this._$AR(),this._$AH=dt):t!==this._$AH&&t!==fi&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):GE(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==dt&&Ta(this._$AH)?this._$AA.nextSibling.data=t:this.T(li.createTextNode(t)),this._$AH=t}$(t){var o;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Ia.createElement(fg(r.h,r.h[0]),this.options)),r);if(((o=this._$AH)==null?void 0:o._$AD)===i)this._$AH.p(n);else{const a=new qE(i,this),s=a.u(this.options);a.p(n),this.T(s),this._$AH=a}}_$AC(t){let n=ug.get(t.strings);return n===void 0&&ug.set(t.strings,n=new Ia(t)),n}k(t){lf(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const o of t)i===n.length?n.push(r=new ka(this.O(Ca()),this.O(Ca()),this,this.options)):r=n[i],r._$AI(o),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class Zc{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,o){this.type=1,this._$AH=dt,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=dt}_$AI(t,n=this,r,i){const o=this.strings;let a=!1;if(o===void 0)t=so(this,t,n,0),a=!Ta(t)||t!==this._$AH&&t!==fi,a&&(this._$AH=t);else{const s=t;let c,l;for(t=o[0],c=0;c<o.length-1;c++)l=so(this,s[r+c],n,c),l===fi&&(l=this._$AH[c]),a||(a=!Ta(l)||l!==this._$AH[c]),l===dt?t=dt:t!==dt&&(t+=(l??"")+o[c+1]),this._$AH[c]=l}a&&!i&&this.j(t)}j(t){t===dt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class jE extends Zc{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===dt?void 0:t}}class WE extends Zc{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==dt)}}class ZE extends Zc{constructor(t,n,r,i,o){super(t,n,r,i,o),this.type=5}_$AI(t,n=this){if((t=so(this,t,n,0)??dt)===fi)return;const r=this._$AH,i=t===dt&&r!==dt||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==dt&&(r===dt||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}let YE=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){so(this,t)}};const ff=_a.litHtmlPolyfillSupport;ff==null||ff(Ia,ka),(_a.litHtmlVersions??(_a.litHtmlVersions=[])).push("3.2.1");const Ba=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const o=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new ka(t.insertBefore(Ca(),o),o,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Fa=class extends ao{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ba(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return fi}};Fa._$litElement$=!0,Fa.finalized=!0,(O2=globalThis.litElementHydrateSupport)==null||O2.call(globalThis,{LitElement:Fa});const hf=globalThis.litElementPolyfillSupport;hf==null||hf({LitElement:Fa}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");var hg={},df={},pf=34,Ra=10,gf=13;function dg(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function QE(e,t){var n=dg(e);return function(r,i){return t(n(r),i,e)}}function pg(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Xt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function XE(e){return e<0?"-"+Xt(-e,6):e>9999?"+"+Xt(e,6):Xt(e,4)}function KE(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":XE(e.getUTCFullYear())+"-"+Xt(e.getUTCMonth()+1,2)+"-"+Xt(e.getUTCDate(),2)+(i?"T"+Xt(t,2)+":"+Xt(n,2)+":"+Xt(r,2)+"."+Xt(i,3)+"Z":r?"T"+Xt(t,2)+":"+Xt(n,2)+":"+Xt(r,2)+"Z":n||t?"T"+Xt(t,2)+":"+Xt(n,2)+"Z":"")}function gg(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var d,p,b=i(f,function(v,y){if(d)return d(v,y-1);p=v,d=h?QE(v,h):dg(v)});return b.columns=p||[],b}function i(f,h){var d=[],p=f.length,b=0,v=0,y,A=p<=0,_=!1;f.charCodeAt(p-1)===Ra&&--p,f.charCodeAt(p-1)===gf&&--p;function E(){if(A)return df;if(_)return _=!1,hg;var F,I=b,N;if(f.charCodeAt(I)===pf){for(;b++<p&&f.charCodeAt(b)!==pf||f.charCodeAt(++b)===pf;);return(F=b)>=p?A=!0:(N=f.charCodeAt(b++))===Ra?_=!0:N===gf&&(_=!0,f.charCodeAt(b)===Ra&&++b),f.slice(I+1,F-1).replace(/""/g,'"')}for(;b<p;){if((N=f.charCodeAt(F=b++))===Ra)_=!0;else if(N===gf)_=!0,f.charCodeAt(b)===Ra&&++b;else if(N!==n)continue;return f.slice(I,F)}return A=!0,f.slice(I,p)}for(;(y=E())!==df;){for(var C=[];y!==hg&&y!==df;)C.push(y),y=E();h&&(C=h(C,v++))==null||d.push(C)}return d}function o(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(e)})}function a(f,h){return h==null&&(h=pg(f)),[h.map(u).join(e)].concat(o(f,h)).join(`
`)}function s(f,h){return h==null&&(h=pg(f)),o(f,h).join(`
`)}function c(f){return f.map(l).join(`
`)}function l(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?KE(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:l,formatValue:u}}var JE=gg("	"),$E=JE.parseRows;function eS(e){return e}function tS(e){if(e==null)return eS;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,c){c||(t=n=0);var l=2,u=s.length,f=new Array(u);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;l<u;)f[l]=s[l],++l;return f}}function nS(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function rS(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return mg(e,n)})}:mg(e,t)}function mg(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=bg(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function bg(e,t){var n=tS(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var h=r[u<0?~u:u],d=0,p=h.length;d<p;++d)f.push(n(h[d],d));u<0&&nS(f,p)}function o(u){return n(u)}function a(u){for(var f=[],h=0,d=u.length;h<d;++h)i(u[h],f);return f.length<2&&f.push(f[0]),f}function s(u){for(var f=a(u);f.length<4;)f.push(f[0]);return f}function c(u){return u.map(s)}function l(u){var f=u.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(l)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=c(u.arcs);break;case"MultiPolygon":h=u.arcs.map(c);break;default:return null}return{type:f,coordinates:h}}return l(t)}function iS(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(l,u){var f=e.arcs[l<0?~l:l],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++a],t[a]=l,t[u]=h)}),t.forEach(function(l){var u=s(l),f=u[0],h=u[1],d,p;if(d=i[f])if(delete i[d.end],d.push(l),d.end=h,p=r[h]){delete r[p.start];var b=p===d?d:d.concat(p);r[b.start=d.start]=i[b.end=p.end]=b}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(l),d.start=f,p=i[f]){delete i[p.end];var v=p===d?d:p.concat(d);r[v.start=p.start]=i[v.end=d.end]=v}else r[d.start]=i[d.end]=d;else d=[l],r[d.start=f]=i[d.end=h]=d});function s(l){var u=e.arcs[l<0?~l:l],f=u[0],h;return e.transform?(h=[0,0],u.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=u[u.length-1],l<0?[h,f]:[f,h]}function c(l,u){for(var f in l){var h=l[f];delete u[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),o.push(h)}}return c(i,r),c(r,i),t.forEach(function(l){n[l<0?~l:l]||o.push([l])}),o}function oS(e){return bg(e,aS.apply(this,arguments))}function aS(e,t,n){var r,i,o;if(arguments.length>1)r=sS(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:iS(e,r)}}function sS(e,t,n){var r=[],i=[],o;function a(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:o})}function s(f){f.forEach(a)}function c(f){f.forEach(s)}function l(f){f.forEach(c)}function u(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":c(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function di(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function co(e){let t,n,r;e.length!==2?(t=di,n=(s,c)=>di(e(s),c),r=(s,c)=>e(s)-c):(t=e===di||e===cS?e:lS,n=e,r=e);function i(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;n(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const f=l+u>>>1;n(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function a(s,c,l=0,u=s.length){const f=i(s,c,l,u-1);return f>l&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function lS(){return 0}function yg(e){return e===null?NaN:+e}function*uS(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const xg=co(di),Cr=xg.right;xg.left,co(yg).center;function fS(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function hS(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function dS(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class tr extends Map{constructor(t,n=mS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wg(this,t))}has(t){return super.has(wg(this,t))}set(t,n){return super.set(pS(this,t),n)}delete(t){return super.delete(gS(this,t))}}function wg({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gS({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mf(e){return e}function Yc(e,...t){return vg(e,mf,mf,t)}function bS(e,...t){return vg(e,Array.from,mf,t)}function vg(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new tr,c=r[a++];let l=-1;for(const u of o){const f=c(u,++l,o),h=s.get(f);h?h.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,i(f,a));return t(s)}(e,0)}function yS(e=di){if(e===di)return Ag;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Ag(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xS=Math.sqrt(50),wS=Math.sqrt(10),vS=Math.sqrt(2);function Qc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=xS?10:o>=wS?5:o>=vS?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Qc(e,t,n*2):[s,c,l]}function Xc(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Qc(t,e,n):Qc(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function bf(e,t,n){return t=+t,e=+e,n=+n,Qc(e,t,n)[2]}function pi(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bf(t,e,n):bf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function xf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Eg(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Ag:yS(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(l-c/2<0?-1:1),d=Math.max(n,Math.floor(t-l*f/c+h)),p=Math.min(r,Math.floor(t+(c-l)*f/c+h));Eg(e,t,d,p,i)}const o=e[t];let a=n,s=r;for(Ma(e,n,t),i(e[r],o)>0&&Ma(e,n,r);a<s;){for(Ma(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Ma(e,n,s):(++s,Ma(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ma(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function AS(e,t,n){if(e=Float64Array.from(uS(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return xf(e);if(t>=1)return yf(e);var r,i=(r-1)*t,o=Math.floor(i),a=yf(Eg(e,o).subarray(0,o+1)),s=xf(e.subarray(o+1));return a+(s-a)*(i-o)}}function Sg(e,t,n=yg){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function ES(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function SS(e,t){return AS(e,.5,t)}function Pa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function La(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function _S(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lo(e){return e=Kc(Math.abs(e)),e?e[1]:NaN}function CS(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function TS(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var DS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uo(e){if(!(t=DS.exec(e)))throw new Error("invalid format: "+e);var t;return new wf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uo.prototype=wf.prototype;function wf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IS(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _g;function kS(e,t){var n=Kc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(_g=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kc(e,Math.max(0,t+o-1))[0]}function Cg(e,t){var n=Kc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_S,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cg(e*100,t),r:Cg,s:kS,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dg(e){return e}var Ig=Array.prototype.map,kg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function BS(e){var t=e.grouping===void 0||e.thousands===void 0?Dg:CS(Ig.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Dg:TS(Ig.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(f){f=uo(f);var h=f.fill,d=f.align,p=f.sign,b=f.symbol,v=f.zero,y=f.width,A=f.comma,_=f.precision,E=f.trim,C=f.type;C==="n"?(A=!0,C="g"):Tg[C]||(_===void 0&&(_=12),E=!0,C="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var F=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=b==="$"?r:/[%p]/.test(C)?a:"",N=Tg[C],R=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(S){var Z=F,Q=I,se,ce,fe;if(C==="c")Q=N(S)+Q,S="";else{S=+S;var le=S<0||1/S<0;if(S=isNaN(S)?c:N(Math.abs(S),_),E&&(S=IS(S)),le&&+S==0&&p!=="+"&&(le=!1),Z=(le?p==="("?p:s:p==="-"||p==="("?"":p)+Z,Q=(C==="s"?kg[8+_g/3]:"")+Q+(le&&p==="("?")":""),R){for(se=-1,ce=S.length;++se<ce;)if(fe=S.charCodeAt(se),48>fe||fe>57){Q=(fe===46?i+S.slice(se+1):S.slice(se))+Q,S=S.slice(0,se);break}}}A&&!v&&(S=t(S,1/0));var Ee=Z.length+S.length+Q.length,pe=Ee<y?new Array(y-Ee+1).join(h):"";switch(A&&v&&(S=t(pe+S,pe.length?y-Q.length:1/0),pe=""),d){case"<":S=Z+S+Q+pe;break;case"=":S=Z+pe+S+Q;break;case"^":S=pe.slice(0,Ee=pe.length>>1)+Z+S+Q+pe.slice(Ee);break;default:S=pe+Z+S+Q;break}return o(S)}return P.toString=function(){return f+""},P}function u(f,h){var d=l((f=uo(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(lo(h)/3)))*3,b=Math.pow(10,-p),v=kg[8+p/3];return function(y){return d(b*y)+v}}return{format:l,formatPrefix:u}}var Jc,Ot,Bg;FS({thousands:",",grouping:[3],currency:["$",""]});function FS(e){return Jc=BS(e),Ot=Jc.format,Bg=Jc.formatPrefix,Jc}function RS(e){return Math.max(0,-lo(Math.abs(e)))}function MS(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lo(t)/3)))*3-lo(Math.abs(e)))}function PS(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lo(t)-lo(e))+1}const vf=new Date,Af=new Date;function xt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return c},i.filter=o=>xt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(vf.setTime(+o),Af.setTime(+a),e(vf),e(Af),Math.floor(n(vf,Af))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const fo=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fo),fo.range;const nr=1e3,pn=nr*60,rr=pn*60,ir=rr*24,Ef=ir*7,Fg=ir*30,Sf=ir*365,or=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nr)},(e,t)=>(t-e)/nr,e=>e.getUTCSeconds());or.range;const $c=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nr)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getMinutes());$c.range;const el=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getUTCMinutes());el.range;const tl=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nr-e.getMinutes()*pn)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getHours());tl.range;const nl=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCHours());nl.range;const Tr=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/ir,e=>e.getDate()-1);Tr.range;const gi=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ir,e=>e.getUTCDate()-1);gi.range;const Rg=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ir,e=>Math.floor(e/ir));Rg.range;function mi(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pn)/Ef)}const Oa=mi(0),rl=mi(1),LS=mi(2),OS=mi(3),ho=mi(4),NS=mi(5),zS=mi(6);Oa.range,rl.range,LS.range,OS.range,ho.range,NS.range,zS.range;function bi(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ef)}const Na=bi(0),il=bi(1),US=bi(2),GS=bi(3),po=bi(4),HS=bi(5),VS=bi(6);Na.range,il.range,US.range,GS.range,po.range,HS.range,VS.range;const za=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());za.range;const Ua=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ua.range;const Nn=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),Nn.range;const zn=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),zn.range;function Mg(e,t,n,r,i,o){const a=[[or,1,nr],[or,5,5*nr],[or,15,15*nr],[or,30,30*nr],[o,1,pn],[o,5,5*pn],[o,15,15*pn],[o,30,30*pn],[i,1,rr],[i,3,3*rr],[i,6,6*rr],[i,12,12*rr],[r,1,ir],[r,2,2*ir],[n,1,Ef],[t,1,Fg],[t,3,3*Fg],[e,1,Sf]];function s(l,u,f){const h=u<l;h&&([l,u]=[u,l]);const d=f&&typeof f.range=="function"?f:c(l,u,f),p=d?d.range(l,+u+1):[];return h?p.reverse():p}function c(l,u,f){const h=Math.abs(u-l)/f,d=co(([,,v])=>v).right(a,h);if(d===a.length)return e.every(pi(l/Sf,u/Sf,f));if(d===0)return fo.every(Math.max(pi(l,u,f),1));const[p,b]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(b)}return[s,c]}const[qS,jS]=Mg(zn,Ua,Na,Rg,nl,el),[WS,ZS]=Mg(Nn,za,Oa,Tr,tl,$c),Ga="year",Ha="quarter",Va="month",qa="week",ja="date",ol="day",_f="dayofyear",Wa="hours",Za="minutes",Ya="seconds",al="milliseconds";[Ga,Ha,Va,qa,ja,ol,_f,Wa,Za,Ya,al].reduce((e,t,n)=>(e[t]=1+n,e),{});const YS={[Ga]:Nn,[Ha]:za.every(3),[Va]:za,[qa]:Oa,[ja]:Tr,[ol]:Tr,[_f]:Tr,[Wa]:tl,[Za]:$c,[Ya]:or,[al]:fo},QS={[Ga]:zn,[Ha]:Ua.every(3),[Va]:Ua,[qa]:Na,[ja]:gi,[ol]:gi,[_f]:gi,[Wa]:nl,[Za]:el,[Ya]:or,[al]:fo};function XS(e){return YS[e]}function KS(e){return QS[e]}function Cf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qa(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pg(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Xa(i),u=Ka(i),f=Xa(o),h=Ka(o),d=Xa(a),p=Ka(a),b=Xa(s),v=Ka(s),y=Xa(c),A=Ka(c),_={a:le,A:Ee,b:pe,B:_e,c:null,d:Gg,e:Gg,f:w_,g:k_,G:F_,H:b_,I:y_,j:x_,L:Hg,m:v_,M:A_,p:Ce,q:xe,Q:Yg,s:Qg,S:E_,u:S_,U:__,V:C_,w:T_,W:D_,x:null,X:null,y:I_,Y:B_,Z:R_,"%":Zg},E={a:Te,A:He,b:Le,B:j,c:null,d:qg,e:qg,f:O_,g:Z_,G:Q_,H:M_,I:P_,j:L_,L:jg,m:N_,M:z_,p:q,q:re,Q:Yg,s:Qg,S:U_,u:G_,U:H_,V:V_,w:q_,W:j_,x:null,X:null,y:W_,Y:Y_,Z:X_,"%":Zg},C={a:P,A:S,b:Z,B:Q,c:se,d:zg,e:zg,f:d_,g:Ng,G:Og,H:Ug,I:Ug,j:l_,L:h_,m:c_,M:u_,p:R,q:s_,Q:g_,s:m_,S:f_,u:n_,U:r_,V:i_,w:t_,W:o_,x:ce,X:fe,y:Ng,Y:Og,Z:a_,"%":p_};_.x=F(n,_),_.X=F(r,_),_.c=F(t,_),E.x=F(n,E),E.X=F(r,E),E.c=F(t,E);function F($,ue){return function(L){var D=[],ee=-1,oe=0,De=$.length,ye,we,Be;for(L instanceof Date||(L=new Date(+L));++ee<De;)$.charCodeAt(ee)===37&&(D.push($.slice(oe,ee)),(we=Lg[ye=$.charAt(++ee)])!=null?ye=$.charAt(++ee):we=ye==="e"?" ":"0",(Be=ue[ye])&&(ye=Be(L,we)),D.push(ye),oe=ee+1);return D.push($.slice(oe,ee)),D.join("")}}function I($,ue){return function(L){var D=Qa(1900,void 0,1),ee=N(D,$,L+="",0),oe,De;if(ee!=L.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(ue&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(oe=Tf(Qa(D.y,0,1)),De=oe.getUTCDay(),oe=De>4||De===0?il.ceil(oe):il(oe),oe=gi.offset(oe,(D.V-1)*7),D.y=oe.getUTCFullYear(),D.m=oe.getUTCMonth(),D.d=oe.getUTCDate()+(D.w+6)%7):(oe=Cf(Qa(D.y,0,1)),De=oe.getDay(),oe=De>4||De===0?rl.ceil(oe):rl(oe),oe=Tr.offset(oe,(D.V-1)*7),D.y=oe.getFullYear(),D.m=oe.getMonth(),D.d=oe.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),De="Z"in D?Tf(Qa(D.y,0,1)).getUTCDay():Cf(Qa(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(De+5)%7:D.w+D.U*7-(De+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Tf(D)):Cf(D)}}function N($,ue,L,D){for(var ee=0,oe=ue.length,De=L.length,ye,we;ee<oe;){if(D>=De)return-1;if(ye=ue.charCodeAt(ee++),ye===37){if(ye=ue.charAt(ee++),we=C[ye in Lg?ue.charAt(ee++):ye],!we||(D=we($,L,D))<0)return-1}else if(ye!=L.charCodeAt(D++))return-1}return D}function R($,ue,L){var D=l.exec(ue.slice(L));return D?($.p=u.get(D[0].toLowerCase()),L+D[0].length):-1}function P($,ue,L){var D=d.exec(ue.slice(L));return D?($.w=p.get(D[0].toLowerCase()),L+D[0].length):-1}function S($,ue,L){var D=f.exec(ue.slice(L));return D?($.w=h.get(D[0].toLowerCase()),L+D[0].length):-1}function Z($,ue,L){var D=y.exec(ue.slice(L));return D?($.m=A.get(D[0].toLowerCase()),L+D[0].length):-1}function Q($,ue,L){var D=b.exec(ue.slice(L));return D?($.m=v.get(D[0].toLowerCase()),L+D[0].length):-1}function se($,ue,L){return N($,t,ue,L)}function ce($,ue,L){return N($,n,ue,L)}function fe($,ue,L){return N($,r,ue,L)}function le($){return a[$.getDay()]}function Ee($){return o[$.getDay()]}function pe($){return c[$.getMonth()]}function _e($){return s[$.getMonth()]}function Ce($){return i[+($.getHours()>=12)]}function xe($){return 1+~~($.getMonth()/3)}function Te($){return a[$.getUTCDay()]}function He($){return o[$.getUTCDay()]}function Le($){return c[$.getUTCMonth()]}function j($){return s[$.getUTCMonth()]}function q($){return i[+($.getUTCHours()>=12)]}function re($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var ue=F($+="",_);return ue.toString=function(){return $},ue},parse:function($){var ue=I($+="",!1);return ue.toString=function(){return $},ue},utcFormat:function($){var ue=F($+="",E);return ue.toString=function(){return $},ue},utcParse:function($){var ue=I($+="",!0);return ue.toString=function(){return $},ue}}}var Lg={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,JS=/^%/,$S=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function e_(e){return e.replace($S,"\\$&")}function Xa(e){return new RegExp("^(?:"+e.map(e_).join("|")+")","i")}function Ka(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function t_(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function n_(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function r_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function i_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function o_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Og(e,t,n){var r=Et.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function a_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function s_(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function c_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zg(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function l_(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ug(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function u_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function f_(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function h_(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function d_(e,t,n){var r=Et.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function p_(e,t,n){var r=JS.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function g_(e,t,n){var r=Et.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function m_(e,t,n){var r=Et.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Gg(e,t){return We(e.getDate(),t,2)}function b_(e,t){return We(e.getHours(),t,2)}function y_(e,t){return We(e.getHours()%12||12,t,2)}function x_(e,t){return We(1+Tr.count(Nn(e),e),t,3)}function Hg(e,t){return We(e.getMilliseconds(),t,3)}function w_(e,t){return Hg(e,t)+"000"}function v_(e,t){return We(e.getMonth()+1,t,2)}function A_(e,t){return We(e.getMinutes(),t,2)}function E_(e,t){return We(e.getSeconds(),t,2)}function S_(e){var t=e.getDay();return t===0?7:t}function __(e,t){return We(Oa.count(Nn(e)-1,e),t,2)}function Vg(e){var t=e.getDay();return t>=4||t===0?ho(e):ho.ceil(e)}function C_(e,t){return e=Vg(e),We(ho.count(Nn(e),e)+(Nn(e).getDay()===4),t,2)}function T_(e){return e.getDay()}function D_(e,t){return We(rl.count(Nn(e)-1,e),t,2)}function I_(e,t){return We(e.getFullYear()%100,t,2)}function k_(e,t){return e=Vg(e),We(e.getFullYear()%100,t,2)}function B_(e,t){return We(e.getFullYear()%1e4,t,4)}function F_(e,t){var n=e.getDay();return e=n>=4||n===0?ho(e):ho.ceil(e),We(e.getFullYear()%1e4,t,4)}function R_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function qg(e,t){return We(e.getUTCDate(),t,2)}function M_(e,t){return We(e.getUTCHours(),t,2)}function P_(e,t){return We(e.getUTCHours()%12||12,t,2)}function L_(e,t){return We(1+gi.count(zn(e),e),t,3)}function jg(e,t){return We(e.getUTCMilliseconds(),t,3)}function O_(e,t){return jg(e,t)+"000"}function N_(e,t){return We(e.getUTCMonth()+1,t,2)}function z_(e,t){return We(e.getUTCMinutes(),t,2)}function U_(e,t){return We(e.getUTCSeconds(),t,2)}function G_(e){var t=e.getUTCDay();return t===0?7:t}function H_(e,t){return We(Na.count(zn(e)-1,e),t,2)}function Wg(e){var t=e.getUTCDay();return t>=4||t===0?po(e):po.ceil(e)}function V_(e,t){return e=Wg(e),We(po.count(zn(e),e)+(zn(e).getUTCDay()===4),t,2)}function q_(e){return e.getUTCDay()}function j_(e,t){return We(il.count(zn(e)-1,e),t,2)}function W_(e,t){return We(e.getUTCFullYear()%100,t,2)}function Z_(e,t){return e=Wg(e),We(e.getUTCFullYear()%100,t,2)}function Y_(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function Q_(e,t){var n=e.getUTCDay();return e=n>=4||n===0?po(e):po.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function X_(){return"+0000"}function Zg(){return"%"}function Yg(e){return+e}function Qg(e){return Math.floor(+e/1e3)}var go,Df,Xg,If,Kg;K_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K_(e){return go=Pg(e),Df=go.format,Xg=go.parse,If=go.utcFormat,Kg=go.utcParse,go}function sl(e){const t={};return n=>t[n]||(t[n]=e(n))}function Jg(e,t,n){n=n||{},Lt(n)||yt(`Invalid time multi-format specifier: ${n}`);const r=t(Ya),i=t(Za),o=t(Wa),a=t(ja),s=t(qa),c=t(Va),l=t(Ha),u=t(Ga),f=e(n[al]||".%L"),h=e(n[Ya]||":%S"),d=e(n[Za]||"%I:%M"),p=e(n[Wa]||"%I %p"),b=e(n[ja]||n[ol]||"%a %d"),v=e(n[qa]||"%b %d"),y=e(n[Va]||"%B"),A=e(n[Ha]||"%B"),_=e(n[Ga]||"%Y");return E=>(r(E)<E?f:i(E)<E?h:o(E)<E?d:a(E)<E?p:c(E)<E?s(E)<E?b:v:u(E)<E?l(E)<E?y:A:_)(E)}function $g(e){const t=sl(e.format),n=sl(e.utcFormat);return{timeFormat:r=>it(r)?t(r):Jg(t,XS,r),utcFormat:r=>it(r)?n(r):Jg(n,KS,r),timeParse:sl(e.parse),utcParse:sl(e.utcParse)}}let kf;J_();function J_(){return kf=$g({format:Df,parse:Xg,utcFormat:If,utcParse:Kg})}function $_(e){return $g(Pg(e))}function e3(e){return arguments.length?kf=$_(e):kf}const t3=e=>e!=null&&e===e,n3=e=>e==="true"||e==="false"||e===!0||e===!1,r3=e=>!Number.isNaN(Date.parse(e)),em=e=>!Number.isNaN(+e)&&!(e instanceof Date),i3=e=>em(e)&&Number.isInteger(+e),tm={boolean:CE,integer:Aa,number:Aa,date:DE,string:IE,unknown:Uc},cl=[n3,i3,em,r3],o3=["boolean","integer","number","date"];function a3(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=cl.length,i=cl.map((o,a)=>a+1);for(let o=0,a=0,s,c;o<n;++o)for(c=t?e[o][t]:e[o],s=0;s<r;++s)if(i[s]&&t3(c)&&!cl[s](c)&&(i[s]=0,++a,a===cl.length))return"string";return o3[i.reduce((o,a)=>o===0?a:o,0)-1]}function s3(e,t){return t.reduce((n,r)=>(n[r]=a3(e,r),n),{})}function nm(e){const t=function(n,r){const i={delimiter:e};return Bf(n,r?vE(r,i):i)};return t.responseType="text",t}function Bf(e,t){return t.header&&(e=t.header.map(rf).join(t.delimiter)+`
`+e),gg(t.delimiter).parse(e+"")}Bf.responseType="text";function c3(e){return typeof Buffer=="function"&&dn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function Ff(e,t){const n=t&&t.property?zc(t.property):Uc;return Lt(e)&&!c3(e)?l3(n(e),t):n(JSON.parse(e))}Ff.responseType="json";function l3(e,t){return!Bt(e)&&SE(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const u3={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function rm(e,t){let n,r,i,o;return e=Ff(e,t),t&&t.feature?(n=rS,i=t.feature):t&&t.mesh?(n=oS,i=t.mesh,o=u3[t.filter]):yt("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):yt("Invalid TopoJSON object: "+i),r&&r.features||[r]}rm.responseType="json";const Rf={dsv:Bf,csv:nm(","),tsv:nm("	"),json:Ff,topojson:rm};function Mf(e,t){return arguments.length>1?(Rf[e]=t,this):oo(Rf,e)?Rf[e]:null}function im(e,t,n,r){t=t||{};const i=Mf(t.type||"json");return i||yt("Unknown data format type: "+t.type),e=i(e,t),t.parse&&f3(e,t.parse,n,r),oo(e,"columns")&&delete e.columns,e}function f3(e,t,n,r){if(!e.length)return;const i=e3();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),a,s,c,l,u,f;t==="auto"&&(t=s3(e,o)),o=Object.keys(t);const h=o.map(d=>{const p=t[d];let b,v;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return b=p.split(/:(.+)?/,2),v=b[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(b[0]==="utc"?r:n)(v);if(!tm[p])throw Error("Illegal format pattern: "+d+":"+p);return tm[p]});for(c=0,u=e.length,f=o.length;c<u;++c)for(a=e[c],l=0;l<f;++l)s=o[l],a[s]=h[l](a[s])}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const om={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},am=e=>(...t)=>({_$litDirective$:e,values:t});let sm=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cm="important",h3=" !"+cm,Pf=am(class extends sm{constructor(e){var t;if(super(e),e.type!==om.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const o=typeof i=="string"&&i.endsWith(h3);r.includes("-")||o?n.setProperty(r,o?i.slice(0,-11):i,o?cm:""):n[r]=i}}return fi}}),d3="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.spinner_ajPY{transform-origin:center;animation:spinner_AtaB%20.75s%20infinite%20linear}@keyframes%20spinner_AtaB{100%25{transform:rotate(360deg)}}%3c/style%3e%3cpath%20d='M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z'%20opacity='.25'/%3e%3cpath%20d='M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z'%20class='spinner_ajPY'/%3e%3c/svg%3e",p3=`
.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
  display: flex;
  flex-direction: column;
}
.genome-spy .canvas-wrapper {
  position: relative;
  flex-grow: 1;
  overflow: hidden;
}
.genome-spy canvas {
  display: block;
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy .loading > canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy .loading > .loading-message .message {
  opacity: 1;
}
.genome-spy .loading > .loading-message .message .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .loading-indicators {
  position: absolute;
  inset: 0;
  user-select: none;
  pointer-events: none;
}
.genome-spy .loading-indicators div {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-indicators div > div {
  font-size: 11px;
  transition: opacity 0.2s;
  background: white;
  padding: 2px 5px;
  display: flex;
  border-radius: 3px;
  gap: 0.5em;
  opacity: 0;
}
.genome-spy .loading-indicators div > div.loading {
  opacity: 0.5;
}
.genome-spy .loading-indicators div > div.error {
  opacity: 0.8;
  color: firebrick;
}
.genome-spy .loading-indicators div > div > * {
  display: block;
}
.genome-spy .loading-indicators div > div img {
  width: 1.5em;
  height: 1.5em;
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 12px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}

.gs-input-binding {
  display: grid;
  grid-template-columns: max-content max-content;
  column-gap: 1em;
  row-gap: 0.3em;
  justify-items: start;
}
.gs-input-binding > select,
.gs-input-binding > input:not([type=checkbox]) {
  width: 100%;
}
.gs-input-binding input[type=range] + span {
  display: inline-block;
  margin-left: 0.3em;
  min-width: 2.2em;
  font-variant-numeric: tabular-nums;
}
.gs-input-binding input[type=range],
.gs-input-binding input[type=radio] {
  vertical-align: text-bottom;
}
.gs-input-binding .radio-group {
  display: flex;
  align-items: center;
}
.gs-input-binding .description {
  max-width: 26em;
  grid-column: 1/-1;
  color: #777;
  font-size: 90%;
  margin-top: -0.5em;
}

.gs-input-bindings {
  flex-basis: content;
  font-size: 14px;
  padding: 10px;
}
`;function g3(e,t){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}function ll(e,t){return e.length==t.length&&e.every((n,r)=>e[r]===t[r])}function Kt(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function Ja(e){return e[e.length-1]}class m3{constructor(t){this.container=t,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(t){t!=this._visible&&(this.element.style.display=t?null:"none",this._visible=t)}get visible(){return this._visible}get enabled(){return Ja(this.enabledStack)??!0}pushEnabledState(t){this.enabledStack.push(t),t||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(t){this.mouseCoords=g3(this.container,t);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&b3(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(t){if(!t||!this.enabled||this._isPenalty()){this.visible&&(Ba("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}Ba(t,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(t,n){t!==this._previousTooltipDatum&&(this._previousTooltipDatum=t,n||(n=r=>Promise.resolve(st` ${JSON.stringify(r)} `)),n(t).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function b3(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])**2;return Math.sqrt(n)}/* @license twgl.js 4.24.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const Lf=5120,$a=5121,Of=5122,Nf=5123,zf=5124,Uf=5125,Gf=5126,y3=32819,x3=32820,w3=33635,v3=5131,A3=33640,E3=35899,S3=35902,_3=36269,C3=34042,lm={};{const e=lm;e[Lf]=Int8Array,e[$a]=Uint8Array,e[Of]=Int16Array,e[Nf]=Uint16Array,e[zf]=Int32Array,e[Uf]=Uint32Array,e[Gf]=Float32Array,e[y3]=Uint16Array,e[x3]=Uint16Array,e[w3]=Uint16Array,e[v3]=Uint16Array,e[A3]=Uint32Array,e[E3]=Uint32Array,e[S3]=Uint32Array,e[_3]=Uint32Array,e[C3]=Uint32Array}function Hf(e){if(e instanceof Int8Array)return Lf;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return $a;if(e instanceof Int16Array)return Of;if(e instanceof Uint16Array)return Nf;if(e instanceof Int32Array)return zf;if(e instanceof Uint32Array)return Uf;if(e instanceof Float32Array)return Gf;throw new Error("unsupported typed array type")}function T3(e){if(e===Int8Array)return Lf;if(e===Uint8Array||e===Uint8ClampedArray)return $a;if(e===Int16Array)return Of;if(e===Uint16Array)return Nf;if(e===Int32Array)return zf;if(e===Uint32Array)return Uf;if(e===Float32Array)return Gf;throw new Error("unsupported typed array type")}function D3(e){const t=lm[e];if(!t)throw new Error("unknown gl type");return t}const ul=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function I3(...e){console.error(...e)}function um(...e){console.warn(...e)}function k3(e,t){return typeof WebGLBuffer<"u"&&t instanceof WebGLBuffer}function fm(e,t){return typeof WebGLRenderbuffer<"u"&&t instanceof WebGLRenderbuffer}function fl(e,t){return typeof WebGLTexture<"u"&&t instanceof WebGLTexture}function B3(e,t){return typeof WebGLSampler<"u"&&t instanceof WebGLSampler}const hm=35044,Un=34962,F3=34963,R3=34660,M3=5120,P3=5121,L3=5122,O3=5123,N3=5124,z3=5125,U3=5126,dm={attribPrefix:""};function pm(e,t,n,r,i){e.bindBuffer(t,n),e.bufferData(t,r,i||hm)}function gm(e,t,n,r){if(k3(e,t))return t;n=n||Un;const i=e.createBuffer();return pm(e,n,i,t,r),i}function mm(e){return e==="indices"}function G3(e){return e instanceof Int8Array||e instanceof Uint8Array}function H3(e){return e===Int8Array||e===Uint8Array}function V3(e){return e.length?e:e.data}const q3=/coord|texture/i,j3=/color|colour/i;function bm(e,t){let n;if(q3.test(e)?n=2:j3.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function W3(e,t){return e.numComponents||e.size||bm(t,V3(e).length)}function Vf(e,t){if(ul(e))return e;if(ul(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type;return n||(mm(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function Z3(e,t){const n={};return Object.keys(t).forEach(function(r){if(!mm(r)){const i=t[r],o=i.attrib||i.name||i.attribName||dm.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!ul(i.value))throw new Error("array.value is not array or typedarray");n[o]={value:i.value}}else{let a,s,c,l;if(i.buffer&&i.buffer instanceof WebGLBuffer)a=i.buffer,l=i.numComponents||i.size,s=i.type,c=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const u=i.data||i,f=i.type||Float32Array,h=u*f.BYTES_PER_ELEMENT;s=T3(f),c=i.normalize!==void 0?i.normalize:H3(f),l=i.numComponents||i.size||bm(r,u),a=e.createBuffer(),e.bindBuffer(Un,a),e.bufferData(Un,h,i.drawType||hm)}else{const u=Vf(i,r);a=gm(e,u,void 0,i.drawType),s=Hf(u),c=i.normalize!==void 0?i.normalize:G3(u),l=W3(i,r)}n[o]={buffer:a,numComponents:l,type:s,normalize:c,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),e.bindBuffer(Un,null),n}function Y3(e,t,n,r){n=Vf(n),r!==void 0?(e.bindBuffer(Un,t.buffer),e.bufferSubData(Un,r,n)):pm(e,Un,t.buffer,n,t.drawType)}function Q3(e,t){return t===M3||t===P3?1:t===L3||t===O3?2:t===N3||t===z3||t===U3?4:0}const qf=["position","positions","a_position"];function X3(e,t){let n,r;for(r=0;r<qf.length&&(n=qf[r],!(n in t||(n=dm.attribPrefix+n,n in t)));++r);r===qf.length&&(n=Object.keys(t)[0]);const i=t[n];if(!i.buffer)return 1;e.bindBuffer(Un,i.buffer);const o=e.getBufferParameter(Un,R3);e.bindBuffer(Un,null);const a=Q3(e,i.type),s=o/a,c=i.numComponents||i.size,l=s/c;if(l%1!==0)throw new Error(`numComponents ${c} not correct for length ${length}`);return l}function K3(e,t,n){const r=Z3(e,t),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const o=t.indices;if(o){const a=Vf(o,"indices");i.indices=gm(e,a,F3),i.numElements=a.length,i.elementType=Hf(a)}else i.numElements||(i.numElements=X3(e,i.attribs));return i}function mo(e){return!!e.texStorage2D}const jf=function(){const e={},t={};function n(r){const i=r.constructor.name;if(!e[i]){for(const o in r)if(typeof r[o]=="number"){const a=t[r[o]];t[r[o]]=a?`${a} | ${o}`:o}e[i]=!0}}return function(i,o){return n(i),t[o]||(typeof o=="number"?`0x${o.toString(16)}`:o)}}(),Dr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},bo=ul,ym=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),Wf=6406,gn=6407,ot=6408,Zf=6409,Yf=6410,yo=6402,Qf=34041,hl=33071,J3=9728,$3=9729,ar=3553,sr=34067,Ir=32879,kr=35866,dl=34069,eC=34070,tC=34071,nC=34072,rC=34073,iC=34074,Xf=10241,Kf=10240,pl=10242,gl=10243,xm=32882,oC=33082,aC=33083,sC=33084,cC=33085,Jf=3317,wm=3314,vm=32878,Am=3316,Em=3315,Sm=32877,lC=37443,uC=37441,fC=37440,hC=33321,dC=36756,pC=33325,gC=33326,mC=33330,bC=33329,yC=33338,xC=33337,wC=33340,vC=33339,AC=33323,EC=36757,SC=33327,_C=33328,CC=33336,TC=33335,DC=33332,IC=33331,kC=33334,BC=33333,FC=32849,RC=35905,MC=36194,PC=36758,LC=35898,OC=35901,NC=34843,zC=34837,UC=36221,GC=36239,HC=36215,VC=36233,qC=36209,jC=36227,WC=32856,ZC=35907,YC=36759,QC=32855,XC=32854,KC=32857,JC=34842,$C=34836,e8=36220,t8=36238,n8=36975,r8=36214,i8=36232,o8=36226,a8=36208,s8=33189,c8=33190,l8=36012,u8=36013,f8=35056,Br=5120,lt=5121,ml=5122,xo=5123,bl=5124,yi=5125,Nt=5126,_m=32819,Cm=32820,Tm=33635,Dn=5131,es=36193,$f=33640,h8=35899,d8=35902,p8=36269,g8=34042,ts=33319,xi=33320,ns=6403,wi=36244,vi=36248,Fr=36249,m8={};{const e=m8;e[Wf]={numColorComponents:1},e[Zf]={numColorComponents:1},e[Yf]={numColorComponents:2},e[gn]={numColorComponents:3},e[ot]={numColorComponents:4},e[ns]={numColorComponents:1},e[wi]={numColorComponents:1},e[ts]={numColorComponents:2},e[xi]={numColorComponents:2},e[gn]={numColorComponents:3},e[vi]={numColorComponents:3},e[ot]={numColorComponents:4},e[Fr]={numColorComponents:4},e[yo]={numColorComponents:1},e[Qf]={numColorComponents:2}}let eh;function yl(e){if(!eh){const t={};t[Wf]={textureFormat:Wf,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[lt,Dn,es,Nt]},t[Zf]={textureFormat:Zf,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[lt,Dn,es,Nt]},t[Yf]={textureFormat:Yf,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[lt,Dn,es,Nt]},t[gn]={textureFormat:gn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[lt,Dn,es,Nt,Tm]},t[ot]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[lt,Dn,es,Nt,_m,Cm]},t[yo]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[yi,xo]},t[hC]={textureFormat:ns,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[lt]},t[dC]={textureFormat:ns,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Br]},t[pC]={textureFormat:ns,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Nt,Dn]},t[gC]={textureFormat:ns,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Nt]},t[mC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[lt]},t[bC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Br]},t[DC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xo]},t[IC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[ml]},t[kC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yi]},t[BC]={textureFormat:wi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bl]},t[AC]={textureFormat:ts,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[lt]},t[EC]={textureFormat:ts,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Br]},t[SC]={textureFormat:ts,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Nt,Dn]},t[_C]={textureFormat:ts,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Nt]},t[CC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[lt]},t[TC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Br]},t[yC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xo]},t[xC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ml]},t[wC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[yi]},t[vC]={textureFormat:xi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[bl]},t[FC]={textureFormat:gn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[lt]},t[RC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[lt]},t[MC]={textureFormat:gn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[lt,Tm]},t[PC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Br]},t[LC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Nt,Dn,h8]},t[OC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Nt,Dn,d8]},t[NC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Nt,Dn]},t[zC]={textureFormat:gn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Nt]},t[UC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[lt]},t[GC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Br]},t[HC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[xo]},t[VC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[ml]},t[qC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[yi]},t[jC]={textureFormat:vi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[bl]},t[WC]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[lt]},t[ZC]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[lt]},t[YC]={textureFormat:ot,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Br]},t[QC]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[lt,Cm,$f]},t[XC]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[lt,_m]},t[KC]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[$f]},t[JC]={textureFormat:ot,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Nt,Dn]},t[$C]={textureFormat:ot,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Nt]},t[e8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[lt]},t[t8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Br]},t[n8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$f]},t[r8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xo]},t[i8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ml]},t[o8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[bl]},t[a8]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[yi]},t[s8]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[xo,yi]},t[c8]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yi]},t[l8]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Nt]},t[f8]={textureFormat:Qf,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[g8]},t[u8]={textureFormat:Qf,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[p8]},Object.keys(t).forEach(function(n){const r=t[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,o){const a=r.type[o];r.bytesPerElementMap[a]=i})}),eh=t}return eh[e]}function b8(e,t){const n=yl(e);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[t];if(r===void 0)throw"unknown internal format";return r}function wo(e){const t=yl(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Dm(e){return(e&e-1)===0}function y8(e,t,n,r){if(!mo(e))return Dm(t)&&Dm(n);const i=yl(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function x8(e){const t=yl(e);if(!t)throw"unknown internal format";return t.textureFilterable}function Im(e,t,n){return bo(t)?Hf(t):n||lt}function xl(e,t,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const o=Math.sqrt(i/(t===sr?6:1));o%1===0?(n=o,r=o):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function vo(e,t){t.colorspaceConversion!==void 0&&e.pixelStorei(lC,t.colorspaceConversion),t.premultiplyAlpha!==void 0&&e.pixelStorei(uC,t.premultiplyAlpha),t.flipY!==void 0&&e.pixelStorei(fC,t.flipY)}function km(e){e.pixelStorei(Jf,4),mo(e)&&(e.pixelStorei(wm,0),e.pixelStorei(vm,0),e.pixelStorei(Am,0),e.pixelStorei(Em,0),e.pixelStorei(Sm,0))}function w8(e,t,n,r){r.minMag&&(n.call(e,t,Xf,r.minMag),n.call(e,t,Kf,r.minMag)),r.min&&n.call(e,t,Xf,r.min),r.mag&&n.call(e,t,Kf,r.mag),r.wrap&&(n.call(e,t,pl,r.wrap),n.call(e,t,gl,r.wrap),(t===Ir||B3(e,t))&&n.call(e,t,xm,r.wrap)),r.wrapR&&n.call(e,t,xm,r.wrapR),r.wrapS&&n.call(e,t,pl,r.wrapS),r.wrapT&&n.call(e,t,gl,r.wrapT),r.minLod&&n.call(e,t,oC,r.minLod),r.maxLod&&n.call(e,t,aC,r.maxLod),r.baseLevel&&n.call(e,t,sC,r.baseLevel),r.maxLevel&&n.call(e,t,cC,r.maxLevel)}function Bm(e,t,n){const r=n.target||ar;e.bindTexture(r,t),w8(e,r,e.texParameteri,n)}function v8(e){return e=e||Dr.textureColor,bo(e)?e:new Uint8Array([e[0]*255,e[1]*255,e[2]*255,e[3]*255])}function th(e,t,n,r,i,o){n=n||Dr.textureOptions,o=o||ot;const a=n.target||ar;if(r=r||n.width,i=i||n.height,e.bindTexture(a,t),y8(e,r,i,o))e.generateMipmap(a);else{const s=x8(o)?$3:J3;e.texParameteri(a,Xf,s),e.texParameteri(a,Kf,s),e.texParameteri(a,pl,hl),e.texParameteri(a,gl,hl)}}function rs(e){return e.auto===!0||e.auto===void 0&&e.level===void 0}function nh(e,t){return t=t||{},t.cubeFaceOrder||[dl,eC,tC,nC,rC,iC]}function rh(e,t){const r=nh(e,t).map(function(i,o){return{face:i,ndx:o}});return r.sort(function(i,o){return i.face-o.face}),r}function Fm(e,t,n,r){r=r||Dr.textureOptions;const i=r.target||ar,o=r.level||0;let a=n.width,s=n.height;const c=r.internalFormat||r.format||ot,l=wo(c),u=r.format||l.format,f=r.type||l.type;if(vo(e,r),e.bindTexture(i,t),i===sr){const h=n.width,d=n.height;let p,b;if(h/6===d)p=d,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,b=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const v=ym();v?(v.canvas.width=p,v.canvas.height=p,a=p,s=p,rh(e,r).forEach(function(y){const A=b[y.ndx*2+0]*p,_=b[y.ndx*2+1]*p;v.drawImage(n,A,_,p,p,0,0,p,p),e.texImage2D(y.face,o,c,u,f,v.canvas)}),v.canvas.width=1,v.canvas.height=1):typeof createImageBitmap<"u"&&(a=p,s=p,rh(e,r).forEach(function(y){const A=b[y.ndx*2+0]*p,_=b[y.ndx*2+1]*p;e.texImage2D(y.face,o,c,p,p,0,u,f,null),createImageBitmap(n,A,_,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(E){vo(e,r),e.bindTexture(i,t),e.texImage2D(y.face,o,c,u,f,E),rs(r)&&th(e,t,r,a,s,c)})}))}else if(i===Ir||i===kr){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const b=n.width===d?1:0,v=n.height===d?1:0;e.pixelStorei(Jf,1),e.pixelStorei(wm,n.width),e.pixelStorei(vm,0),e.pixelStorei(Sm,0),e.texImage3D(i,o,c,h,h,h,0,u,f,null);for(let y=0;y<p;++y){const A=y*h*b,_=y*h*v;e.pixelStorei(Am,A),e.pixelStorei(Em,_),e.texSubImage3D(i,o,0,0,y,h,h,1,u,f,n)}km(e)}else e.texImage2D(i,o,c,u,f,n);rs(r)&&th(e,t,r,a,s,c),Bm(e,t,r)}function is(){}function A8(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function E8(e,t){return t===void 0&&!A8(e)?"anonymous":t}function S8(e,t,n){n=n||is;let r;if(t=t!==void 0?t:Dr.crossOrigin,t=E8(e,t),typeof Image<"u"){r=new Image,t!==void 0&&(r.crossOrigin=t);const i=function(){r.removeEventListener("error",o),r.removeEventListener("load",a),r=null},o=function(){const c="couldn't load image: "+e;I3(c),n(c,r),i()},a=function(){n(null,r),i()};return r.addEventListener("error",o),r.addEventListener("load",a),r.src=e,r}else if(typeof ImageBitmap<"u"){let i,o;const a=function(){n(i,o)},s={};t&&(s.mode="cors"),fetch(e,s).then(function(c){if(!c.ok)throw c;return c.blob()}).then(function(c){return createImageBitmap(c,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(c){o=c,setTimeout(a)}).catch(function(c){i=c,setTimeout(a)}),r=null}return r}function Rm(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function ih(e,t,n){return Rm(e)?(setTimeout(function(){n(null,e)}),e):S8(e,t,n)}function oh(e,t,n){n=n||Dr.textureOptions;const r=n.target||ar;if(e.bindTexture(r,t),n.color===!1)return;const i=v8(n.color);if(r===sr)for(let o=0;o<6;++o)e.texImage2D(dl+o,0,ot,1,1,0,ot,lt,i);else r===Ir||r===kr?e.texImage3D(r,0,ot,1,1,1,0,ot,lt,i):e.texImage2D(r,0,ot,1,1,0,ot,lt,i)}function _8(e,t,n,r){return r=r||is,n=n||Dr.textureOptions,oh(e,t,n),n=Object.assign({},n),ih(n.src,n.crossOrigin,function(o,a){o?r(o,t,a):(Fm(e,t,a,n),r(null,t,a))})}function C8(e,t,n,r){r=r||is;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const o=n.level||0,a=n.internalFormat||n.format||ot,s=wo(a),c=n.format||s.format,l=n.type||lt,u=n.target||ar;if(u!==sr)throw"target must be TEXTURE_CUBE_MAP";oh(e,t,n),n=Object.assign({},n);let f=6;const h=[],d=nh(e,n);let p;function b(v){return function(y,A){--f,y?h.push(y):A.width!==A.height?h.push("cubemap face img is not a square: "+A.src):(vo(e,n),e.bindTexture(u,t),f===5?nh().forEach(function(_){e.texImage2D(_,o,a,c,l,A)}):e.texImage2D(v,o,a,c,l,A),rs(n)&&e.generateMipmap(u)),f===0&&r(h.length?h:void 0,t,p)}}p=i.map(function(v,y){return ih(v,n.crossOrigin,b(d[y]))})}function T8(e,t,n,r){r=r||is;const i=n.src,o=n.internalFormat||n.format||ot,a=wo(o),s=n.format||a.format,c=n.type||lt,l=n.target||kr;if(l!==Ir&&l!==kr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";oh(e,t,n),n=Object.assign({},n);let u=i.length;const f=[];let h;const d=n.level||0;let p=n.width,b=n.height;const v=i.length;let y=!0;function A(_){return function(E,C){if(--u,E)f.push(E);else{if(vo(e,n),e.bindTexture(l,t),y){y=!1,p=n.width||C.width,b=n.height||C.height,e.texImage3D(l,d,o,p,b,v,0,s,c,null);for(let F=0;F<v;++F)e.texSubImage3D(l,d,0,0,F,p,b,1,s,c,C)}else{let F=C,I;(C.width!==p||C.height!==b)&&(I=ym(),F=I.canvas,I.canvas.width=p,I.canvas.height=b,I.drawImage(C,0,0,p,b)),e.texSubImage3D(l,d,0,0,_,p,b,1,s,c,F),I&&F===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}rs(n)&&e.generateMipmap(l)}u===0&&r(f.length?f:void 0,t,h)}}h=i.map(function(_,E){return ih(_,n.crossOrigin,A(E))})}function Mm(e,t,n,r){r=r||Dr.textureOptions;const i=r.target||ar;e.bindTexture(i,t);let o=r.width,a=r.height,s=r.depth;const c=r.level||0,l=r.internalFormat||r.format||ot,u=wo(l),f=r.format||u.format,h=r.type||Im(e,n,u.type);if(bo(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const v=D3(h);n=new v(n)}const d=b8(l,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+jf(e,f);let b;if(i===Ir||i===kr)if(!o&&!a&&!s){const v=Math.cbrt(p);if(v%1!==0)throw"can't guess cube size of array of numElements: "+p;o=v,a=v,s=v}else o&&(!a||!s)?(b=xl(e,i,a,s,p/o),a=b.width,s=b.height):a&&(!o||!s)?(b=xl(e,i,o,s,p/a),o=b.width,s=b.height):(b=xl(e,i,o,a,p/s),o=b.width,a=b.height);else b=xl(e,i,o,a,p),o=b.width,a=b.height;if(km(e),e.pixelStorei(Jf,r.unpackAlignment||1),vo(e,r),i===sr){const v=d/n.BYTES_PER_ELEMENT,y=p/6*v;rh(e,r).forEach(A=>{const _=y*A.ndx,E=n.subarray(_,_+y);e.texImage2D(A.face,c,l,o,a,0,f,h,E)})}else i===Ir||i===kr?e.texImage3D(i,c,l,o,a,s,0,f,h,n):e.texImage2D(i,c,l,o,a,0,f,h,n);return{width:o,height:a,depth:s,type:h}}function D8(e,t,n){const r=n.target||ar;e.bindTexture(r,t);const i=n.level||0,o=n.internalFormat||n.format||ot,a=wo(o),s=n.format||a.format,c=n.type||a.type;if(vo(e,n),r===sr)for(let l=0;l<6;++l)e.texImage2D(dl+l,i,o,n.width,n.height,0,s,c,null);else r===Ir||r===kr?e.texImage3D(r,i,o,n.width,n.height,n.depth,0,s,c,null):e.texImage2D(r,i,o,n.width,n.height,0,s,c,null)}function os(e,t,n){n=n||is,t=t||Dr.textureOptions;const r=e.createTexture(),i=t.target||ar;let o=t.width||1,a=t.height||1;const s=t.internalFormat||ot;e.bindTexture(i,r),i===sr&&(e.texParameteri(i,pl,hl),e.texParameteri(i,gl,hl));let c=t.src;if(c)if(typeof c=="function"&&(c=c(e,t)),typeof c=="string")_8(e,r,t,n);else if(bo(c)||Array.isArray(c)&&(typeof c[0]=="number"||Array.isArray(c[0])||bo(c[0]))){const l=Mm(e,r,c,t);o=l.width,a=l.height}else Array.isArray(c)&&(typeof c[0]=="string"||Rm(c[0]))?i===sr?C8(e,r,t,n):T8(e,r,t,n):(Fm(e,r,c,t),o=c.width,a=c.height);else D8(e,r,t);return rs(t)&&th(e,r,t,o,a,s),Bm(e,r,t),r}function I8(e,t,n,r,i,o){r=r||n.width,i=i||n.height,o=o||n.depth;const a=n.target||ar;e.bindTexture(a,t);const s=n.level||0,c=n.internalFormat||n.format||ot,l=wo(c),u=n.format||l.format;let f;const h=n.src;if(h&&(bo(h)||Array.isArray(h)&&typeof h[0]=="number")?f=n.type||Im(e,h,l.type):f=n.type||l.type,a===sr)for(let d=0;d<6;++d)e.texImage2D(dl+d,s,c,r,i,0,u,f,null);else a===Ir||a===kr?e.texImage3D(a,s,c,r,i,o,0,u,f,null):e.texImage2D(a,s,c,r,i,0,u,f,null)}const k8=um,wl=33984,B8=35048,vl=34962,F8=34963,ah=35345,Pm=35718,R8=35721,M8=35971,P8=35382,L8=35396,O8=35398,N8=35392,z8=35395,Al=5126,Lm=35664,Om=35665,Nm=35666,sh=5124,zm=35667,Um=35668,Gm=35669,Hm=35670,Vm=35671,qm=35672,jm=35673,Wm=35674,Zm=35675,Ym=35676,U8=35678,G8=35680,H8=35679,V8=35682,q8=35685,j8=35686,W8=35687,Z8=35688,Y8=35689,Q8=35690,X8=36289,K8=36292,J8=36293,ch=5125,Qm=36294,Xm=36295,Km=36296,$8=36298,e4=36299,t4=36300,n4=36303,r4=36306,i4=36307,o4=36308,a4=36311,El=3553,Sl=34067,lh=32879,_l=35866,Ne={};function Jm(e,t){return Ne[t].bindPoint}function s4(e,t){return function(n){e.uniform1f(t,n)}}function c4(e,t){return function(n){e.uniform1fv(t,n)}}function l4(e,t){return function(n){e.uniform2fv(t,n)}}function u4(e,t){return function(n){e.uniform3fv(t,n)}}function f4(e,t){return function(n){e.uniform4fv(t,n)}}function $m(e,t){return function(n){e.uniform1i(t,n)}}function e1(e,t){return function(n){e.uniform1iv(t,n)}}function t1(e,t){return function(n){e.uniform2iv(t,n)}}function n1(e,t){return function(n){e.uniform3iv(t,n)}}function r1(e,t){return function(n){e.uniform4iv(t,n)}}function h4(e,t){return function(n){e.uniform1ui(t,n)}}function d4(e,t){return function(n){e.uniform1uiv(t,n)}}function p4(e,t){return function(n){e.uniform2uiv(t,n)}}function g4(e,t){return function(n){e.uniform3uiv(t,n)}}function m4(e,t){return function(n){e.uniform4uiv(t,n)}}function b4(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function y4(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function x4(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function w4(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function v4(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function A4(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function E4(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function S4(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function _4(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function Wt(e,t,n,r){const i=Jm(e,t);return mo(e)?function(o){let a,s;fl(e,o)?(a=o,s=null):(a=o.texture,s=o.sampler),e.uniform1i(r,n),e.activeTexture(wl+n),e.bindTexture(i,a),e.bindSampler(n,s)}:function(o){e.uniform1i(r,n),e.activeTexture(wl+n),e.bindTexture(i,o)}}function Zt(e,t,n,r,i){const o=Jm(e,t),a=new Int32Array(i);for(let s=0;s<i;++s)a[s]=n+s;return mo(e)?function(s){e.uniform1iv(r,a),s.forEach(function(c,l){e.activeTexture(wl+a[l]);let u,f;fl(e,c)?(u=c,f=null):(u=c.texture,f=c.sampler),e.bindSampler(n,f),e.bindTexture(o,u)})}:function(s){e.uniform1iv(r,a),s.forEach(function(c,l){e.activeTexture(wl+a[l]),e.bindTexture(o,c)})}}Ne[Al]={Type:Float32Array,size:4,setter:s4,arraySetter:c4},Ne[Lm]={Type:Float32Array,size:8,setter:l4,cols:2},Ne[Om]={Type:Float32Array,size:12,setter:u4,cols:3},Ne[Nm]={Type:Float32Array,size:16,setter:f4,cols:4},Ne[sh]={Type:Int32Array,size:4,setter:$m,arraySetter:e1},Ne[zm]={Type:Int32Array,size:8,setter:t1,cols:2},Ne[Um]={Type:Int32Array,size:12,setter:n1,cols:3},Ne[Gm]={Type:Int32Array,size:16,setter:r1,cols:4},Ne[ch]={Type:Uint32Array,size:4,setter:h4,arraySetter:d4},Ne[Qm]={Type:Uint32Array,size:8,setter:p4,cols:2},Ne[Xm]={Type:Uint32Array,size:12,setter:g4,cols:3},Ne[Km]={Type:Uint32Array,size:16,setter:m4,cols:4},Ne[Hm]={Type:Uint32Array,size:4,setter:$m,arraySetter:e1},Ne[Vm]={Type:Uint32Array,size:8,setter:t1,cols:2},Ne[qm]={Type:Uint32Array,size:12,setter:n1,cols:3},Ne[jm]={Type:Uint32Array,size:16,setter:r1,cols:4},Ne[Wm]={Type:Float32Array,size:32,setter:b4,rows:2,cols:2},Ne[Zm]={Type:Float32Array,size:48,setter:y4,rows:3,cols:3},Ne[Ym]={Type:Float32Array,size:64,setter:x4,rows:4,cols:4},Ne[q8]={Type:Float32Array,size:32,setter:w4,rows:2,cols:3},Ne[j8]={Type:Float32Array,size:32,setter:A4,rows:2,cols:4},Ne[W8]={Type:Float32Array,size:48,setter:v4,rows:3,cols:2},Ne[Z8]={Type:Float32Array,size:48,setter:S4,rows:3,cols:4},Ne[Y8]={Type:Float32Array,size:64,setter:E4,rows:4,cols:2},Ne[Q8]={Type:Float32Array,size:64,setter:_4,rows:4,cols:3},Ne[U8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:El},Ne[G8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:Sl},Ne[H8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:lh},Ne[V8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:El},Ne[X8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:_l},Ne[K8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:_l},Ne[J8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:Sl},Ne[$8]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:El},Ne[e4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:lh},Ne[t4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:Sl},Ne[n4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:_l},Ne[r4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:El},Ne[i4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:lh},Ne[o4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:Sl},Ne[a4]={Type:null,size:0,setter:Wt,arraySetter:Zt,bindPoint:_l};function Cl(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(vl,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||Al,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Rr(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(vl,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||sh,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Tl(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(vl,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||ch,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function uh(e,t,n){const r=n.size,i=n.count;return function(o){e.bindBuffer(vl,o.buffer);const a=o.size||o.numComponents||r,s=a/i,c=o.type||Al,u=Ne[c].size*a,f=o.normalize||!1,h=o.offset||0,d=u/i;for(let p=0;p<i;++p)e.enableVertexAttribArray(t+p),e.vertexAttribPointer(t+p,s,c,f,u,h+d*p),o.divisor!==void 0&&e.vertexAttribDivisor(t+p,o.divisor)}}const bt={};bt[Al]={size:4,setter:Cl},bt[Lm]={size:8,setter:Cl},bt[Om]={size:12,setter:Cl},bt[Nm]={size:16,setter:Cl},bt[sh]={size:4,setter:Rr},bt[zm]={size:8,setter:Rr},bt[Um]={size:12,setter:Rr},bt[Gm]={size:16,setter:Rr},bt[ch]={size:4,setter:Tl},bt[Qm]={size:8,setter:Tl},bt[Xm]={size:12,setter:Tl},bt[Km]={size:16,setter:Tl},bt[Hm]={size:4,setter:Rr},bt[Vm]={size:8,setter:Rr},bt[qm]={size:12,setter:Rr},bt[jm]={size:16,setter:Rr},bt[Wm]={size:4,setter:uh,count:2},bt[Zm]={size:9,setter:uh,count:3},bt[Ym]={size:16,setter:uh,count:4};function i1(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const C4=/(\.|\[|]|\w+)/g,T4=e=>e>="0"&&e<="9";function o1(e,t,n,r){const i=e.split(C4).filter(s=>s!=="");let o=0,a="";for(;;){const s=i[o++];a+=s;const c=T4(s[0]),l=c?parseInt(s):s;if(c&&(a+=i[o++]),o===i.length){n[l]=t;break}else{const f=i[o++],h=f==="[",d=n[l]||(h?[]:{});n[l]=d,n=d,r[a]=r[a]||function(p){return function(b){u1(p,b)}}(d),a+=f}}}function D4(e,t){let n=0;function r(s,c,l){const u=c.name.endsWith("[0]"),f=c.type,h=Ne[f];if(!h)throw new Error(`unknown type: 0x${f.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=c.size,u?d=h.arraySetter(e,f,p,l,c.size):d=h.setter(e,f,p,l,c.size)}else h.arraySetter&&u?d=h.arraySetter(e,l):d=h.setter(e,l);return d.location=l,d}const i={},o={},a=e.getProgramParameter(t,Pm);for(let s=0;s<a;++s){const c=e.getActiveUniform(t,s);if(i1(c))continue;let l=c.name;l.endsWith("[0]")&&(l=l.substr(0,l.length-3));const u=e.getUniformLocation(t,c.name);if(u){const f=r(t,c,u);i[l]=f,o1(l,f,o,i)}}return i}function I4(e,t){const n={},r=e.getProgramParameter(t,M8);for(let i=0;i<r;++i){const o=e.getTransformFeedbackVarying(t,i);n[o.name]={index:i,type:o.type,size:o.size}}return n}function k4(e,t){const n=e.getProgramParameter(t,Pm),r=[],i=[];for(let s=0;s<n;++s){i.push(s),r.push({});const c=e.getActiveUniform(t,s);r[s].name=c.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(s){const c=s[0],l=s[1];e.getActiveUniforms(t,i,e[c]).forEach(function(u,f){r[f][l]=u})});const o={},a=e.getProgramParameter(t,P8);for(let s=0;s<a;++s){const c=e.getActiveUniformBlockName(t,s),l={index:e.getUniformBlockIndex(t,c),usedByVertexShader:e.getActiveUniformBlockParameter(t,s,L8),usedByFragmentShader:e.getActiveUniformBlockParameter(t,s,O8),size:e.getActiveUniformBlockParameter(t,s,N8),uniformIndices:e.getActiveUniformBlockParameter(t,s,z8)};l.used=l.usedByVertexShader||l.usedByFragmentShader,o[c]=l}return{blockSpecs:o,uniformData:r}}const a1=/\[\d+\]\.$/,B4=(e,t)=>((e+(t-1))/t|0)*t;function F4(e,t,n,r){if(t||n){r=r||1;const o=e.length/4;return function(a){let s=0,c=0;for(let l=0;l<o;++l){for(let u=0;u<r;++u)e[s++]=a[c++];s+=4-r}}}else return function(i){i.length?e.set(i):e[0]=i}}function R4(e,t,n,r){const i=n.blockSpecs,o=n.uniformData,a=i[r];if(!a)return k8("no uniform block object named:",r),{name:r,uniforms:{}};const s=new ArrayBuffer(a.size),c=e.createBuffer(),l=a.index;e.bindBuffer(ah,c),e.uniformBlockBinding(t,a.index,l);let u=r+".";a1.test(u)&&(u=u.replace(a1,"."));const f={},h={},d={};return a.uniformIndices.forEach(function(p){const b=o[p];let v=b.name;v.startsWith(u)&&(v=v.substr(u.length));const y=v.endsWith("[0]");y&&(v=v.substr(0,v.length-3));const A=Ne[b.type],_=A.Type,E=y?B4(A.size,16)*b.size:A.size*b.size,C=new _(s,b.offset,E/_.BYTES_PER_ELEMENT);f[v]=C;const F=F4(C,y,A.rows,A.cols);h[v]=F,o1(v,F,d,h)}),{name:r,array:s,asFloat:new Float32Array(s),buffer:c,uniforms:f,setters:h}}function s1(e,t,n){return R4(e,t.program,t.uniformBlockSpec,n)}function c1(e,t,n){const i=(t.uniformBlockSpec||t).blockSpecs[n.name];if(i){const o=i.index;return e.bindBufferRange(ah,o,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function l1(e,t,n){c1(e,t,n)&&e.bufferData(ah,n.array,B8)}function as(e,t){const n=e.setters;for(const r in t){const i=n[r];if(i){const o=t[r];i(o)}}}function u1(e,t){for(const n in t){const r=e[n];typeof r=="function"?r(t[n]):u1(e[n],t[n])}}function Ai(e,...t){const n=e.uniformSetters||e,r=t.length;for(let i=0;i<r;++i){const o=t[i];if(Array.isArray(o)){const a=o.length;for(let s=0;s<a;++s)Ai(n,o[s])}else for(const a in o){const s=n[a];s&&s(o[a])}}}function M4(e,t){const n={},r=e.getProgramParameter(t,R8);for(let i=0;i<r;++i){const o=e.getActiveAttrib(t,i);if(i1(o))continue;const a=e.getAttribLocation(t,o.name),s=bt[o.type],c=s.setter(e,a,s);c.location=a,n[o.name]=c}return n}function P4(e,t){for(const n in t){const r=e[n];r&&r(t[n])}}function Ei(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(P4(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(F8,n.indices))}function L4(e,t){const n=D4(e,t),r=M4(e,t),i={program:t,uniformSetters:n,attribSetters:r};return mo(e)&&(i.uniformBlockSpec=k4(e,t),i.transformFeedbackInfo=I4(e,t)),i}const O4=4,f1=5123;function Dl(e,t,n,r,i,o){n=n===void 0?O4:n;const a=t.indices,s=t.elementType,c=r===void 0?t.numElements:r;i=i===void 0?0:i,s||a?o!==void 0?e.drawElementsInstanced(n,c,s===void 0?f1:t.elementType,i,o):e.drawElements(n,c,s===void 0?f1:t.elementType,i):o!==void 0?e.drawArraysInstanced(n,i,c,o):e.drawArrays(n,i,c)}const N4=36160,Si=36161,z4=3553,U4=5121,G4=6402,H4=6408,V4=33190,q4=36012,j4=35056,W4=36013,Z4=32854,Y4=32855,Q4=36194,h1=33189,d1=6401,p1=36168,fh=34041,hh=36064,Il=36096,g1=36128,dh=33306,ph=33071,gh=9729,m1=[{format:H4,type:U4,min:gh,wrap:ph},{format:fh}],In={};In[fh]=dh,In[d1]=g1,In[p1]=g1,In[G4]=Il,In[h1]=Il,In[V4]=Il,In[q4]=Il,In[j4]=dh,In[W4]=dh;function X4(e,t){return In[e]||In[t]}const Mr={};Mr[Z4]=!0,Mr[Y4]=!0,Mr[Q4]=!0,Mr[fh]=!0,Mr[h1]=!0,Mr[d1]=!0,Mr[p1]=!0;function K4(e){return Mr[e]}const J4=32;function $4(e){return e>=hh&&e<hh+J4}function eT(e,t,n,r){const i=N4,o=e.createFramebuffer();e.bindFramebuffer(i,o),n=n||e.drawingBufferWidth,r=r||e.drawingBufferHeight,t=t||m1;const a=[],s={framebuffer:o,attachments:[],width:n,height:r};return t.forEach(function(c,l){let u=c.attachment;const f=c.samples,h=c.format;let d=c.attachmentPoint||X4(h,c.internalFormat);if(d||(d=hh+l),$4(d)&&a.push(d),!u)if(f!==void 0||K4(h))u=e.createRenderbuffer(),e.bindRenderbuffer(Si,u),f>1?e.renderbufferStorageMultisample(Si,f,h,n,r):e.renderbufferStorage(Si,h,n,r);else{const p=Object.assign({},c);p.width=n,p.height=r,p.auto===void 0&&(p.auto=!1,p.min=p.min||p.minMag||gh,p.mag=p.mag||p.minMag||gh,p.wrapS=p.wrapS||p.wrap||ph,p.wrapT=p.wrapT||p.wrap||ph),u=os(e,p)}if(fm(e,u))e.framebufferRenderbuffer(i,d,Si,u);else if(fl(e,u))c.layer!==void 0?e.framebufferTextureLayer(i,d,u,c.level||0,c.layer):e.framebufferTexture2D(i,d,c.target||z4,u,c.level||0);else throw new Error("unknown attachment type");s.attachments.push(u)}),e.drawBuffers&&e.drawBuffers(a),s}function tT(e,t,n,r,i){r=r||e.drawingBufferWidth,i=i||e.drawingBufferHeight,t.width=r,t.height=i,n=n||m1,n.forEach(function(o,a){const s=t.attachments[a],c=o.format,l=o.samples;if(l!==void 0||fm(e,s))e.bindRenderbuffer(Si,s),l>1?e.renderbufferStorageMultisample(Si,l,c,r,i):e.renderbufferStorage(Si,c,r,i);else if(fl(e,s))I8(e,s,o,r,i);else throw new Error("unknown attachment type")})}function nT(e,t,n){const r=e.createVertexArray();return e.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(i){Ei(e,i,n)}),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const rT=/^(.*?)_/;function iT(e,t){jf(e,0);const n=e.getExtension(t);if(n){const r={},i=rT.exec(t)[1],o="_"+i;for(const a in n){const s=n[a],c=typeof s=="function",l=c?i:o;let u=a;a.endsWith(l)&&(u=a.substring(0,a.length-l.length)),e[u]!==void 0?!c&&e[u]!==s&&um(u,e[u],s,a):c?e[u]=function(f){return function(){return f.apply(n,arguments)}}(s):(e[u]=s,r[u]=s)}r.constructor={name:n.constructor.name},jf(r,0)}return n}const b1=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function y1(e){for(let t=0;t<b1.length;++t)iT(e,b1[t])}function oT(e,t){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=e.getContext(n[i],t),r){y1(r);break}return r}function aT(e,t){return oT(e,t)}const sT=`out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;

#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
vec2 getVertexPos() {
    int index = gl_VertexID % 6;
    return vec2(
        index == 0 || index == 1 || index == 3 ? 0.0 : 1.0,
        index == 0 || index == 1 || index == 2 ? 0.0 : 1.0
    );
    
}

void main(void) {
    vec2 frac = getVertexPos();

    vec2 normalizedMinSize = vec2(uMinWidth, uMinHeight) / uViewportSize;
    vec4 cornerRadii = vec4(
        uCornerRadiusTopRight,
        uCornerRadiusBottomRight,
        uCornerRadiusTopLeft,
        uCornerRadiusBottomLeft
    );

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(cornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,cT=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,lT=`layout(std140) uniform Mark {
    /** Minimum size (width, height) of the displayed rectangle in pixels */
    uniform float uMinWidth;
    uniform float uMinHeight;

    /** Minimum opacity for the size clamping */
    uniform float uMinOpacity;

    uniform float uCornerRadiusTopRight;
    uniform float uCornerRadiusBottomRight;
    uniform float uCornerRadiusTopLeft;
    uniform float uCornerRadiusBottomLeft;

#pragma markUniforms
};
`;function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mh=Symbol("implicit");function bh(){var e=new tr,t=[],n=[],r=mh;function i(o){let a=e.get(o);if(a===void 0){if(r!==mh)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new tr;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bh(t,n).unknown(r)},Gn.apply(i,arguments),i}function Ao(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ss(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lr(){}var _i=.7,Eo=1/_i,So="\\s*([+-]?\\d+)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uT=/^#([0-9a-f]{3,8})$/,fT=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),hT=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),dT=new RegExp(`^rgba\\(${So},${So},${So},${cs}\\)$`),pT=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${cs}\\)$`),gT=new RegExp(`^hsl\\(${cs},${Hn},${Hn}\\)$`),mT=new RegExp(`^hsla\\(${cs},${Hn},${Hn},${cs}\\)$`),x1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ao(Lr,Or,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w1,formatHex:w1,formatHex8:bT,formatHsl:yT,formatRgb:v1,toString:v1});function w1(){return this.rgb().formatHex()}function bT(){return this.rgb().formatHex8()}function yT(){return C1(this).formatHsl()}function v1(){return this.rgb().formatRgb()}function Or(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?A1(t):n===3?new St(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fT.exec(e))?new St(t[1],t[2],t[3],1):(t=hT.exec(e))?new St(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dT.exec(e))?kl(t[1],t[2],t[3],t[4]):(t=pT.exec(e))?kl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gT.exec(e))?_1(t[1],t[2]/100,t[3]/100,1):(t=mT.exec(e))?_1(t[1],t[2]/100,t[3]/100,t[4]):x1.hasOwnProperty(e)?A1(x1[e]):e==="transparent"?new St(NaN,NaN,NaN,0):null}function A1(e){return new St(e>>16&255,e>>8&255,e&255,1)}function kl(e,t,n,r){return r<=0&&(e=t=n=NaN),new St(e,t,n,r)}function yh(e){return e instanceof Lr||(e=Or(e)),e?(e=e.rgb(),new St(e.r,e.g,e.b,e.opacity)):new St}function Bl(e,t,n,r){return arguments.length===1?yh(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ao(St,Bl,ss(Lr,{brighter(e){return e=e==null?Eo:Math.pow(Eo,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_i:Math.pow(_i,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new St(Ci(this.r),Ci(this.g),Ci(this.b),Fl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E1,formatHex:E1,formatHex8:xT,formatRgb:S1,toString:S1}));function E1(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}`}function xT(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}${Ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function S1(){const e=Fl(this.opacity);return`${e===1?"rgb(":"rgba("}${Ci(this.r)}, ${Ci(this.g)}, ${Ci(this.b)}${e===1?")":`, ${e})`}`}function Fl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ti(e){return e=Ci(e),(e<16?"0":"")+e.toString(16)}function _1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,n,r)}function C1(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof Lr||(e=Or(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new kn(a,s,c,e.opacity)}function xh(e,t,n,r){return arguments.length===1?C1(e):new kn(e,t,n,r??1)}function kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ao(kn,xh,ss(Lr,{brighter(e){return e=e==null?Eo:Math.pow(Eo,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_i:Math.pow(_i,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new St(wh(e>=240?e-240:e+120,i,r),wh(e,i,r),wh(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new kn(T1(this.h),Rl(this.s),Rl(this.l),Fl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fl(this.opacity);return`${e===1?"hsl(":"hsla("}${T1(this.h)}, ${Rl(this.s)*100}%, ${Rl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T1(e){return e=(e||0)%360,e<0?e+360:e}function Rl(e){return Math.max(0,Math.min(1,e||0))}function wh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const D1=Math.PI/180,I1=180/Math.PI,Ml=18,k1=.96422,B1=1,F1=.82521,R1=4/29,_o=6/29,M1=3*_o*_o,wT=_o*_o*_o;function P1(e){if(e instanceof Vn)return new Vn(e.l,e.a,e.b,e.opacity);if(e instanceof cr)return L1(e);e instanceof St||(e=yh(e));var t=_h(e.r),n=_h(e.g),r=_h(e.b),i=Ah((.2225045*t+.7168786*n+.0606169*r)/B1),o,a;return t===n&&n===r?o=a=i:(o=Ah((.4360747*t+.3850649*n+.1430804*r)/k1),a=Ah((.0139322*t+.0971045*n+.7141733*r)/F1)),new Vn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function vh(e,t,n,r){return arguments.length===1?P1(e):new Vn(e,t,n,r??1)}function Vn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Ao(Vn,vh,ss(Lr,{brighter(e){return new Vn(this.l+Ml*(e??1),this.a,this.b,this.opacity)},darker(e){return new Vn(this.l-Ml*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=k1*Eh(t),e=B1*Eh(e),n=F1*Eh(n),new St(Sh(3.1338561*t-1.6168667*e-.4906146*n),Sh(-.9787684*t+1.9161415*e+.033454*n),Sh(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Ah(e){return e>wT?Math.pow(e,1/3):e/M1+R1}function Eh(e){return e>_o?e*e*e:M1*(e-R1)}function Sh(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _h(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vT(e){if(e instanceof cr)return new cr(e.h,e.c,e.l,e.opacity);if(e instanceof Vn||(e=P1(e)),e.a===0&&e.b===0)return new cr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*I1;return new cr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ch(e,t,n,r){return arguments.length===1?vT(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function L1(e){if(isNaN(e.h))return new Vn(e.l,0,0,e.opacity);var t=e.h*D1;return new Vn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ao(cr,Ch,ss(Lr,{brighter(e){return new cr(this.h,this.c,this.l+Ml*(e??1),this.opacity)},darker(e){return new cr(this.h,this.c,this.l-Ml*(e??1),this.opacity)},rgb(){return L1(this).rgb()}}));var O1=-.14861,Th=1.78277,Dh=-.29227,Pl=-.90649,ls=1.97294,N1=ls*Pl,z1=ls*Th,U1=Th*Dh-Pl*O1;function AT(e){if(e instanceof Di)return new Di(e.h,e.s,e.l,e.opacity);e instanceof St||(e=yh(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(U1*r+N1*t-z1*n)/(U1+N1-z1),o=r-i,a=(ls*(n-i)-Dh*o)/Pl,s=Math.sqrt(a*a+o*o)/(ls*i*(1-i)),c=s?Math.atan2(a,o)*I1-120:NaN;return new Di(c<0?c+360:c,s,i,e.opacity)}function Ih(e,t,n,r){return arguments.length===1?AT(e):new Di(e,t,n,r??1)}function Di(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ao(Di,Ih,ss(Lr,{brighter(e){return e=e==null?Eo:Math.pow(Eo,e),new Di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_i:Math.pow(_i,e),new Di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*D1,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new St(255*(t+n*(O1*r+Th*i)),255*(t+n*(Dh*r+Pl*i)),255*(t+n*(ls*r)),this.opacity)}}));function G1(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function H1(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return G1((n-r/t)*t,a,i,o,s)}}function V1(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return G1((n-r/t)*t,i,o,a,s)}}const Ll=e=>()=>e;function q1(e,t){return function(n){return e+n*t}}function ET(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ol(e,t){var n=t-e;return n?q1(e,n>180||n<-180?n-360*Math.round(n/360):n):Ll(isNaN(e)?t:e)}function ST(e){return(e=+e)==1?_t:function(t,n){return n-t?ET(t,n,e):Ll(isNaN(t)?n:t)}}function _t(e,t){var n=t-e;return n?q1(e,n):Ll(isNaN(e)?t:e)}const kh=function e(t){var n=ST(t);function r(i,o){var a=n((i=Bl(i)).r,(o=Bl(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),l=_t(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function j1(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Bl(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var _T=j1(H1),CT=j1(V1);function Bh(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function W1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TT(e,t){return(W1(t)?Bh:Z1)(e,t)}function Z1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Nr(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Y1(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Q1(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Nr(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Fh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rh=new RegExp(Fh.source,"g");function DT(e){return function(){return e}}function IT(e){return function(t){return e(t)+""}}function X1(e,t){var n=Fh.lastIndex=Rh.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Fh.exec(e))&&(i=Rh.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:Bn(r,i)})),n=Rh.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?IT(c[0].x):DT(t):(t=c.length,function(l){for(var u=0,f;u<t;++u)s[(f=c[u]).i]=f.x(l);return s.join("")})}function Nr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ll(t):(n==="number"?Bn:n==="string"?(r=Or(t))?(t=r,kh):X1:t instanceof Or?kh:t instanceof Date?Y1:W1(t)?Bh:Array.isArray(t)?Z1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Q1:Bn)(e,t)}function kT(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function BT(e,t){var n=Ol(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function us(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var K1=180/Math.PI,Mh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function J1(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*K1,skewX:Math.atan(c)*K1,scaleX:a,scaleY:s}}var Nl;function FT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mh:J1(t.a,t.b,t.c,t.d,t.e,t.f)}function RT(e){return e==null||(Nl||(Nl=document.createElementNS("http://www.w3.org/2000/svg","g")),Nl.setAttribute("transform",e),!(e=Nl.transform.baseVal.consolidate()))?Mh:(e=e.matrix,J1(e.a,e.b,e.c,e.d,e.e,e.f))}function $1(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,f,h,d,p){if(l!==f||u!==h){var b=d.push("translate(",null,t,null,n);p.push({i:b-4,x:Bn(l,f)},{i:b-2,x:Bn(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function a(l,u,f,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Bn(l,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(l,u,f,h){l!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Bn(l,u)}):u&&f.push(i(f)+"skewX("+u+r)}function c(l,u,f,h,d,p){if(l!==f||u!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:Bn(l,f)},{i:b-2,x:Bn(u,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,u){var f=[],h=[];return l=e(l),u=e(u),o(l.translateX,l.translateY,u.translateX,u.translateY,f,h),a(l.rotate,u.rotate,f,h),s(l.skewX,u.skewX,f,h),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,h),l=u=null,function(d){for(var p=-1,b=h.length,v;++p<b;)f[(v=h[p]).i]=v.x(d);return f.join("")}}}var MT=$1(FT,"px, ","px)","deg)"),PT=$1(RT,", ",")",")"),LT=1e-12;function eb(e){return((e=Math.exp(e))+1/e)/2}function OT(e){return((e=Math.exp(e))-1/e)/2}function NT(e){return((e=Math.exp(2*e))-1)/(e+1)}const zT=function e(t,n,r){function i(o,a){var s=o[0],c=o[1],l=o[2],u=a[0],f=a[1],h=a[2],d=u-s,p=f-c,b=d*d+p*p,v,y;if(b<LT)y=Math.log(h/l)/t,v=function(I){return[s+I*d,c+I*p,l*Math.exp(t*I*y)]};else{var A=Math.sqrt(b),_=(h*h-l*l+r*b)/(2*l*n*A),E=(h*h-l*l-r*b)/(2*h*n*A),C=Math.log(Math.sqrt(_*_+1)-_),F=Math.log(Math.sqrt(E*E+1)-E);y=(F-C)/t,v=function(I){var N=I*y,R=eb(C),P=l/(n*A)*(R*NT(t*N+C)-OT(C));return[s+P*d,c+P*p,l*R/eb(t*N+C)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,c=s*s;return e(a,s,c)},i}(Math.SQRT2,2,4);function tb(e){return function(t,n){var r=e((t=xh(t)).h,(n=xh(n)).h),i=_t(t.s,n.s),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const UT=tb(Ol);var GT=tb(_t);function HT(e,t){var n=_t((e=vh(e)).l,(t=vh(t)).l),r=_t(e.a,t.a),i=_t(e.b,t.b),o=_t(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function nb(e){return function(t,n){var r=e((t=Ch(t)).h,(n=Ch(n)).h),i=_t(t.c,n.c),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const VT=nb(Ol);var qT=nb(_t);function rb(e){return function t(n){n=+n;function r(i,o){var a=e((i=Ih(i)).h,(o=Ih(o)).h),s=_t(i.s,o.s),c=_t(i.l,o.l),l=_t(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}const jT=rb(Ol);var WT=rb(_t);function Ph(e,t){t===void 0&&(t=e,e=Nr);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function ZT(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const YT=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Nr,interpolateArray:TT,interpolateBasis:H1,interpolateBasisClosed:V1,interpolateCubehelix:jT,interpolateCubehelixLong:WT,interpolateDate:Y1,interpolateDiscrete:kT,interpolateHcl:VT,interpolateHclLong:qT,interpolateHsl:UT,interpolateHslLong:GT,interpolateHue:BT,interpolateLab:HT,interpolateNumber:Bn,interpolateNumberArray:Bh,interpolateObject:Q1,interpolateRgb:kh,interpolateRgbBasis:_T,interpolateRgbBasisClosed:CT,interpolateRound:us,interpolateString:X1,interpolateTransformCss:MT,interpolateTransformSvg:PT,interpolateZoom:zT,piecewise:Ph,quantize:ZT},Symbol.toStringTag,{value:"Module"}));function QT(e){return function(){return e}}function Lh(e){return+e}var ib=[0,1];function Jt(e){return e}function Oh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:QT(isNaN(t)?NaN:.5)}function XT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function KT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Oh(i,r),o=n(a,o)):(r=Oh(r,i),o=n(o,a)),function(s){return o(r(s))}}function JT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Oh(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=Cr(e,s,1,r)-1;return o[c](i[c](s))}}function fs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zl(){var e=ib,t=ib,n=Nr,r,i,o,a=Jt,s,c,l;function u(){var h=Math.min(e.length,t.length);return a!==Jt&&(a=XT(e[0],e[h-1])),s=h>2?JT:KT,c=l=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=s(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((l||(l=s(t,e.map(r),Bn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Lh),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=us,u()},f.clamp=function(h){return arguments.length?(a=h?!0:Jt,u()):a!==Jt},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,u()}}function ob(){return zl()(Jt,Jt)}function ab(e,t,n,r){var i=pi(e,t,n),o;switch(r=uo(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=MS(i,a))&&(r.precision=o),Bg(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=PS(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=RS(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ot(r)}function Ii(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xc(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ab(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],c,l,u=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);u-- >0;){if(l=bf(a,s,n),l===c)return r[i]=a,r[o]=s,t(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function sb(){var e=ob();return e.copy=function(){return fs(e,sb())},Gn.apply(e,arguments),Ii(e)}function cb(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Lh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return cb(e).unknown(t)},e=arguments.length?Array.from(e,Lh):[0,1],Ii(n)}function lb(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function ub(e){return Math.log(e)}function fb(e){return Math.exp(e)}function $T(e){return-Math.log(-e)}function eD(e){return-Math.exp(-e)}function tD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nD(e){return e===10?tD:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rD(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hb(e){return(t,n)=>-e(-t,n)}function Nh(e){const t=e(ub,fb),n=t.domain;let r=10,i,o;function a(){return i=rD(r),o=nD(r),n()[0]<0?(i=hb(i),o=hb(o),e($T,eD)):e(ub,fb),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const c=n();let l=c[0],u=c[c.length-1];const f=u<l;f&&([l,u]=[u,l]);let h=i(l),d=i(u),p,b;const v=s==null?10:+s;let y=[];if(!(r%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),l>0){for(;h<=d;++h)for(p=1;p<r;++p)if(b=h<0?p/o(-h):p*o(h),!(b<l)){if(b>u)break;y.push(b)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(b=h>0?p/o(-h):p*o(h),!(b<l)){if(b>u)break;y.push(b)}y.length*2<v&&(y=Xc(l,u,v))}else y=Xc(h,d,Math.min(d-h,v)).map(o);return f?y.reverse():y},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=uo(c)).precision==null&&(c.trim=!0),c=Ot(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=l?c(u):""}},t.nice=()=>n(lb(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function zh(){const e=Nh(zl()).domain([1,10]);return e.copy=()=>fs(e,zh()).base(e.base()),Gn.apply(e,arguments),e}function db(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Uh(e){var t=1,n=e(db(t),pb(t));return n.constant=function(r){return arguments.length?e(db(t=+r),pb(t)):t},Ii(n)}function gb(){var e=Uh(zl());return e.copy=function(){return fs(e,gb()).constant(e.constant())},Gn.apply(e,arguments)}function mb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oD(e){return e<0?-e*e:e*e}function Gh(e){var t=e(Jt,Jt),n=1;function r(){return n===1?e(Jt,Jt):n===.5?e(iD,oD):e(mb(n),mb(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ii(t)}function Hh(){var e=Gh(zl());return e.copy=function(){return fs(e,Hh()).exponent(e.exponent())},Gn.apply(e,arguments),e}function aD(){return Hh.apply(null,arguments).exponent(.5)}function bb(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=Sg(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Cr(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(di),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bb().domain(e).range(t).unknown(r)},Gn.apply(o,arguments)}function yb(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Cr(r,c,0,n)]:o}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},a.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return yb().domain([e,t]).range(i).unknown(o)},Gn.apply(Ii(a),arguments)}function xb(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Cr(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xb().domain(e).range(t).unknown(n)},Gn.apply(i,arguments)}function sD(e){return new Date(e)}function cD(e){return e instanceof Date?+e:+new Date(+e)}function Vh(e,t,n,r,i,o,a,s,c,l){var u=ob(),f=u.invert,h=u.domain,d=l(".%L"),p=l(":%S"),b=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),A=l("%b %d"),_=l("%B"),E=l("%Y");function C(F){return(c(F)<F?d:s(F)<F?p:a(F)<F?b:o(F)<F?v:r(F)<F?i(F)<F?y:A:n(F)<F?_:E)(F)}return u.invert=function(F){return new Date(f(F))},u.domain=function(F){return arguments.length?h(Array.from(F,cD)):h().map(sD)},u.ticks=function(F){var I=h();return e(I[0],I[I.length-1],F??10)},u.tickFormat=function(F,I){return I==null?C:l(I)},u.nice=function(F){var I=h();return(!F||typeof F.range!="function")&&(F=t(I[0],I[I.length-1],F??10)),F?h(lb(I,F)):u},u.copy=function(){return fs(u,Vh(e,t,n,r,i,o,a,s,c,l))},u}function lD(){return Gn.apply(Vh(WS,ZS,Nn,za,Oa,Tr,tl,$c,or,Df).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uD(){return Gn.apply(Vh(qS,jS,zn,Ua,Na,gi,nl,el,or,If).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ul(){var e=0,t=1,n,r,i,o,a=Jt,s=!1,c;function l(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(a=f,l):a};function u(f){return function(h){var d,p;return arguments.length?([d,p]=h,a=f(d,p),l):[a(0),a(1)]}}return l.range=u(Nr),l.rangeRound=u(us),l.unknown=function(f){return arguments.length?(c=f,l):c},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function zr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qh(){var e=Ii(Ul()(Jt));return e.copy=function(){return zr(e,qh())},Pr.apply(e,arguments)}function wb(){var e=Nh(Ul()).domain([1,10]);return e.copy=function(){return zr(e,wb()).base(e.base())},Pr.apply(e,arguments)}function vb(){var e=Uh(Ul());return e.copy=function(){return zr(e,vb()).constant(e.constant())},Pr.apply(e,arguments)}function jh(){var e=Gh(Ul());return e.copy=function(){return zr(e,jh()).exponent(e.exponent())},Pr.apply(e,arguments)}function fD(){return jh.apply(null,arguments).exponent(.5)}function Gl(){var e=0,t=.5,n=1,r=1,i,o,a,s,c,l=Jt,u,f=!1,h;function d(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-o)*(r*b<r*o?s:c),l(f?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([e,t,n]=b,i=u(e=+e),o=u(t=+t),a=u(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[e,t,n]},d.clamp=function(b){return arguments.length?(f=!!b,d):f},d.interpolator=function(b){return arguments.length?(l=b,d):l};function p(b){return function(v){var y,A,_;return arguments.length?([y,A,_]=v,l=Ph(b,[y,A,_]),d):[l(0),l(.5),l(1)]}}return d.range=p(Nr),d.rangeRound=p(us),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return u=b,i=b(e),o=b(t),a=b(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Ab(){var e=Ii(Gl()(Jt));return e.copy=function(){return zr(e,Ab())},Pr.apply(e,arguments)}function Eb(){var e=Nh(Gl()).domain([.1,1,10]);return e.copy=function(){return zr(e,Eb()).base(e.base())},Pr.apply(e,arguments)}function Sb(){var e=Uh(Gl());return e.copy=function(){return zr(e,Sb()).constant(e.constant())},Pr.apply(e,arguments)}function Wh(){var e=Gh(Gl());return e.copy=function(){return zr(e,Wh()).exponent(e.exponent())},Pr.apply(e,arguments)}function hD(){return Wh.apply(null,arguments).exponent(.5)}function qn(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const dD=qn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),pD=qn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gD=qn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),mD=qn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),bD=qn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),yD=qn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xD=qn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wD=qn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),vD=qn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),AD=qn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Zh(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const ED="identity",Co="linear",Ur="log",hs="pow",ds="sqrt",Hl="symlog",_b="time",Cb="utc",jn="sequential",To="diverging",Yh="quantile",Tb="quantize",Db="threshold",Qh="ordinal",Xh="point",Ib="band",Kh="bin-ordinal",wt="continuous",ps="discrete",gs="discretizing",mn="interpolating",kb="temporal";function SD(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function _D(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,a,s,c,l;for(i<r&&(s=r,r=i,i=s),c=0,l=n.length;c<l;++c)n[c]>=r&&n[c]<=i&&(o<0&&(o=c),a=c);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function Jh(){const e=bh().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,a=!1,s=0,c=0,l=.5;delete e.unknown;function u(){const f=t().length,h=r[1]<r[0],d=r[1-h],p=Zh(f,s,c);let b=r[h-0];i=(d-b)/(p||1),a&&(i=Math.floor(i)),b+=(d-b-i*(f-s))*l,o=i*(1-s),a&&(b=Math.round(b),o=Math.round(o));const v=Pa(f).map(y=>b+i*y);return n(h?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],a=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,u()):a},e.padding=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),s=c,u()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),u()):s},e.paddingOuter=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let b=+f[0],v=+f[1],y,A,_;if(!(b!==b||v!==v)&&(v<b&&(_=b,b=v,v=_),!(v<d[0]||b>r[1-h])))return y=Math.max(0,Cr(d,b)-1),A=b===v?y:Cr(d,v)-1,b-d[y]>o+1e-10&&++y,h&&(_=y,y=p-A,A=p-_),y>A?void 0:t().slice(y,A+1)},e.invert=function(f){const h=e.invertRange([f,f]);return h&&h[0]},e.copy=function(){return Jh().domain(t()).range(r).round(a).paddingInner(s).paddingOuter(c).align(l)},u()}function Bb(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Bb(t())},e}function CD(){return Bb(Jh().paddingInner(1))}var TD=Array.prototype.map;function DD(e){return TD.call(e,Aa)}const ID=Array.prototype.slice;function Fb(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Cr(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=DD(r),n):e.slice()},n.range=function(r){return arguments.length?(t=ID.call(r),n):t.slice()},n.tickFormat=function(r,i){return ab(e[0],Tn(e),r??10,i)},n.copy=function(){return Fb().domain(n.domain()).range(n.range())},n}const Vl=new Map,kD=Symbol("vega_scale");function BD(e){return e[kD]=!0,e}function FD(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?SD(o):o.invertExtent?_D(o):void 0),o.type=e,BD(o)};return r.metadata=qc(nf(n)),r}function Xe(e,t,n){return arguments.length>1?(Vl.set(e,FD(e,t,n)),this):RD(e)?Vl.get(e):void 0}Xe(ED,cb),Xe(Co,sb,wt),Xe(Ur,zh,[wt,Ur]),Xe(hs,Hh,wt),Xe(ds,aD,wt),Xe(Hl,gb,wt),Xe(_b,lD,[wt,kb]),Xe(Cb,uD,[wt,kb]),Xe(jn,qh,[wt,mn]),Xe(`${jn}-${Co}`,qh,[wt,mn]),Xe(`${jn}-${Ur}`,wb,[wt,mn,Ur]),Xe(`${jn}-${hs}`,jh,[wt,mn]),Xe(`${jn}-${ds}`,fD,[wt,mn]),Xe(`${jn}-${Hl}`,vb,[wt,mn]),Xe(`${To}-${Co}`,Ab,[wt,mn]),Xe(`${To}-${Ur}`,Eb,[wt,mn,Ur]),Xe(`${To}-${hs}`,Wh,[wt,mn]),Xe(`${To}-${ds}`,hD,[wt,mn]),Xe(`${To}-${Hl}`,Sb,[wt,mn]),Xe(Yh,bb,[gs,Yh]),Xe(Tb,yb,gs),Xe(Db,xb,gs),Xe(Kh,Fb,[ps,gs]),Xe(Qh,bh,ps),Xe(Ib,Jh,ps),Xe(Xh,CD,ps);function RD(e){return Vl.has(e)}function ms(e,t){const n=Vl.get(e);return n&&n.metadata[t]}function Ft(e){return ms(e,wt)}function Gr(e){return ms(e,ps)}function ki(e){return ms(e,gs)}function Rb(e){return ms(e,Ur)}function ql(e){return ms(e,mn)}function MD(e,t){const n=t[0],r=Tn(t)-n;return function(i){return e(n+i*r)}}function jl(e,t,n){return Ph(Mb(t||"rgb",n),e)}function PD(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Mb(e,t){const n=YT[LD(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function LD(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const OD={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ND={accent:pD,category10:dD,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:gD,observable10:mD,paired:bD,pastel1:yD,pastel2:xD,set1:wD,set2:vD,set3:AD,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Pb(e){if(Bt(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Lb(e,t){for(const n in e)$h(n,t(e[n]))}const Ob={};Lb(ND,Pb),Lb(OD,e=>jl(Pb(e)));function $h(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ob[e]=t,this):Ob[e]}function Ke(e,t=e){if(/^[A-Za-z0-9_]+$/.test(e)){const n=function(i){e in i||zD(i,e)},r=new Function("validator",`
                let validated = !validator;
                return function accessField(datum) {
                    if (!validated) {
                        validator(datum);
                        validated = true;
                    }
                    return datum[${JSON.stringify(e)}];
                }`)(n);return et(r,[e],t)}else return zc(e)}function zD(e,t){throw new Error(`Invalid field "${t}". Available fields or properties: ${Object.keys(e).join(", ")}`)}const UD="RawCode",GD="Literal",HD="Property",VD="Identifier",qD="ArrayExpression",jD="BinaryExpression",WD="CallExpression",ZD="ConditionalExpression",YD="LogicalExpression",QD="MemberExpression",XD="ObjectExpression",KD="UnaryExpression";function Fn(e){this.type=e}Fn.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=JD(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function JD(e){switch(e.type){case qD:return e.elements;case jD:case YD:return[e.left,e.right];case WD:return[e.callee].concat(e.arguments);case ZD:return[e.test,e.consequent,e.alternate];case QD:return[e.object,e.property];case XD:return e.properties;case HD:return[e.key,e.value];case KD:return[e.argument];case VD:case GD:case UD:default:return[]}}var Wn,Ae,ie,zt,Je,Wl=1,bs=2,Bi=3,Hr=4,Zl=5,Fi=6,$t=7,ys=8,$D=9;Wn={},Wn[Wl]="Boolean",Wn[bs]="<end>",Wn[Bi]="Identifier",Wn[Hr]="Keyword",Wn[Zl]="Null",Wn[Fi]="Numeric",Wn[$t]="Punctuator",Wn[ys]="String",Wn[$D]="RegularExpression";var eI="ArrayExpression",tI="BinaryExpression",nI="CallExpression",rI="ConditionalExpression",Nb="Identifier",iI="Literal",oI="LogicalExpression",aI="MemberExpression",sI="ObjectExpression",cI="Property",lI="UnaryExpression",Ct="Unexpected token %0",uI="Unexpected number",fI="Unexpected string",hI="Unexpected identifier",dI="Unexpected reserved word",pI="Unexpected end of input",ed="Invalid regular expression",td="Invalid regular expression: missing /",zb="Octal literals are not allowed in strict mode.",gI="Duplicate data property in object literal not allowed in strict mode",Rt="ILLEGAL",xs="Disabled.",mI=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),bI=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Yl(e,t){if(!e)throw new Error("ASSERT: "+t)}function lr(e){return e>=48&&e<=57}function nd(e){return"0123456789abcdefABCDEF".includes(e)}function ws(e){return"01234567".includes(e)}function yI(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function vs(e){return e===10||e===13||e===8232||e===8233}function As(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&mI.test(String.fromCharCode(e))}function Ql(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&bI.test(String.fromCharCode(e))}const xI={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Ub(){for(;ie<zt;){const e=Ae.charCodeAt(ie);if(yI(e)||vs(e))++ie;else break}}function rd(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ie<zt&&nd(Ae[ie])?(r=Ae[ie++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ze({},Ct,Rt);return String.fromCharCode(i)}function wI(){var e,t,n,r;for(e=Ae[ie],t=0,e==="}"&&Ze({},Ct,Rt);ie<zt&&(e=Ae[ie++],!!nd(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ze({},Ct,Rt),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Gb(){var e,t;for(e=Ae.charCodeAt(ie++),t=String.fromCharCode(e),e===92&&(Ae.charCodeAt(ie)!==117&&Ze({},Ct,Rt),++ie,e=rd("u"),(!e||e==="\\"||!As(e.charCodeAt(0)))&&Ze({},Ct,Rt),t=e);ie<zt&&(e=Ae.charCodeAt(ie),!!Ql(e));)++ie,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Ae.charCodeAt(ie)!==117&&Ze({},Ct,Rt),++ie,e=rd("u"),(!e||e==="\\"||!Ql(e.charCodeAt(0)))&&Ze({},Ct,Rt),t+=e);return t}function vI(){var e,t;for(e=ie++;ie<zt;){if(t=Ae.charCodeAt(ie),t===92)return ie=e,Gb();if(Ql(t))++ie;else break}return Ae.slice(e,ie)}function AI(){var e,t,n;return e=ie,t=Ae.charCodeAt(ie)===92?Gb():vI(),t.length===1?n=Bi:xI.hasOwnProperty(t)?n=Hr:t==="null"?n=Zl:t==="true"||t==="false"?n=Wl:n=Bi,{type:n,value:t,start:e,end:ie}}function id(){var e=ie,t=Ae.charCodeAt(ie),n,r=Ae[ie],i,o,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ie,{type:$t,value:String.fromCharCode(t),start:e,end:ie};default:if(n=Ae.charCodeAt(ie+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ie+=2,{type:$t,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ie};case 33:case 61:return ie+=2,Ae.charCodeAt(ie)===61&&++ie,{type:$t,value:Ae.slice(e,ie),start:e,end:ie}}}if(a=Ae.substr(ie,4),a===">>>=")return ie+=4,{type:$t,value:a,start:e,end:ie};if(o=a.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ie+=3,{type:$t,value:o,start:e,end:ie};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ie+=2,{type:$t,value:i,start:e,end:ie};if(i==="//"&&Ze({},Ct,Rt),"<>=!+-*%&|^/".includes(r))return++ie,{type:$t,value:r,start:e,end:ie};Ze({},Ct,Rt)}function EI(e){let t="";for(;ie<zt&&nd(Ae[ie]);)t+=Ae[ie++];return t.length===0&&Ze({},Ct,Rt),As(Ae.charCodeAt(ie))&&Ze({},Ct,Rt),{type:Fi,value:parseInt("0x"+t,16),start:e,end:ie}}function SI(e){let t="0"+Ae[ie++];for(;ie<zt&&ws(Ae[ie]);)t+=Ae[ie++];return(As(Ae.charCodeAt(ie))||lr(Ae.charCodeAt(ie)))&&Ze({},Ct,Rt),{type:Fi,value:parseInt(t,8),octal:!0,start:e,end:ie}}function Hb(){var e,t,n;if(n=Ae[ie],Yl(lr(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ie,e="",n!=="."){if(e=Ae[ie++],n=Ae[ie],e==="0"){if(n==="x"||n==="X")return++ie,EI(t);if(ws(n))return SI(t);n&&lr(n.charCodeAt(0))&&Ze({},Ct,Rt)}for(;lr(Ae.charCodeAt(ie));)e+=Ae[ie++];n=Ae[ie]}if(n==="."){for(e+=Ae[ie++];lr(Ae.charCodeAt(ie));)e+=Ae[ie++];n=Ae[ie]}if(n==="e"||n==="E")if(e+=Ae[ie++],n=Ae[ie],(n==="+"||n==="-")&&(e+=Ae[ie++]),lr(Ae.charCodeAt(ie)))for(;lr(Ae.charCodeAt(ie));)e+=Ae[ie++];else Ze({},Ct,Rt);return As(Ae.charCodeAt(ie))&&Ze({},Ct,Rt),{type:Fi,value:parseFloat(e),start:t,end:ie}}function _I(){var e="",t,n,r,i,o=!1;for(t=Ae[ie],Yl(t==="'"||t==='"',"String literal must starts with a quote"),n=ie,++ie;ie<zt;)if(r=Ae[ie++],r===t){t="";break}else if(r==="\\")if(r=Ae[ie++],!r||!vs(r.charCodeAt(0)))switch(r){case"u":case"x":Ae[ie]==="{"?(++ie,e+=wI()):e+=rd(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:ws(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ie<zt&&ws(Ae[ie])&&(o=!0,i=i*8+"01234567".indexOf(Ae[ie++]),"0123".includes(r)&&ie<zt&&ws(Ae[ie])&&(i=i*8+"01234567".indexOf(Ae[ie++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Ae[ie]===`
`&&++ie;else{if(vs(r.charCodeAt(0)))break;e+=r}return t!==""&&Ze({},Ct,Rt),{type:ys,value:e,octal:o,start:n,end:ie}}function CI(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ze({},ed)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ze({},ed)}try{return new RegExp(e,t)}catch{return null}}function TI(){var e,t,n,r,i;for(e=Ae[ie],Yl(e==="/","Regular expression literal must start with a slash"),t=Ae[ie++],n=!1,r=!1;ie<zt;)if(e=Ae[ie++],t+=e,e==="\\")e=Ae[ie++],vs(e.charCodeAt(0))&&Ze({},td),t+=e;else if(vs(e.charCodeAt(0)))Ze({},td);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ze({},td),i=t.substr(1,t.length-2),{value:i,literal:t}}function DI(){var e,t,n;for(t="",n="";ie<zt&&(e=Ae[ie],!!Ql(e.charCodeAt(0)));)++ie,e==="\\"&&ie<zt?Ze({},Ct,Rt):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ze({},ed,n),{value:n,literal:t}}function II(){var e,t,n,r;return Je=null,Ub(),e=ie,t=TI(),n=DI(),r=CI(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ie}}function kI(e){return e.type===Bi||e.type===Hr||e.type===Wl||e.type===Zl}function Vb(){if(Ub(),ie>=zt)return{type:bs,start:ie,end:ie};const e=Ae.charCodeAt(ie);return As(e)?AI():e===40||e===41||e===59?id():e===39||e===34?_I():e===46?lr(Ae.charCodeAt(ie+1))?Hb():id():lr(e)?Hb():id()}function en(){const e=Je;return ie=e.end,Je=Vb(),ie=e.end,e}function qb(){const e=ie;Je=Vb(),ie=e}function BI(e){const t=new Fn(eI);return t.elements=e,t}function jb(e,t,n){const r=new Fn(e==="||"||e==="&&"?oI:tI);return r.operator=e,r.left=t,r.right=n,r}function FI(e,t){const n=new Fn(nI);return n.callee=e,n.arguments=t,n}function RI(e,t,n){const r=new Fn(rI);return r.test=e,r.consequent=t,r.alternate=n,r}function od(e){const t=new Fn(Nb);return t.name=e,t}function Es(e){const t=new Fn(iI);return t.value=e.value,t.raw=Ae.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Wb(e,t,n){const r=new Fn(aI);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function MI(e){const t=new Fn(sI);return t.properties=e,t}function Zb(e,t,n){const r=new Fn(cI);return r.key=t,r.value=n,r.kind=e,r}function PI(e,t){const n=new Fn(lI);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ze(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,a)=>(Yl(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=ie,n.description=i,n}function Xl(e){e.type===bs&&Ze(e,pI),e.type===Fi&&Ze(e,uI),e.type===ys&&Ze(e,fI),e.type===Bi&&Ze(e,hI),e.type===Hr&&Ze(e,dI),Ze(e,Ct,e.value)}function Ut(e){const t=en();(t.type!==$t||t.value!==e)&&Xl(t)}function ct(e){return Je.type===$t&&Je.value===e}function ad(e){return Je.type===Hr&&Je.value===e}function LI(){const e=[];for(ie=Je.start,Ut("[");!ct("]");)ct(",")?(en(),e.push(null)):(e.push(Ri()),ct("]")||Ut(","));return en(),BI(e)}function Yb(){ie=Je.start;const e=en();return e.type===ys||e.type===Fi?(e.octal&&Ze(e,zb),Es(e)):od(e.value)}function OI(){var e,t,n,r;if(ie=Je.start,e=Je,e.type===Bi)return n=Yb(),Ut(":"),r=Ri(),Zb("init",n,r);if(e.type===bs||e.type===$t)Xl(e);else return t=Yb(),Ut(":"),r=Ri(),Zb("init",t,r)}function NI(){var e=[],t,n,r,i={},o=String;for(ie=Je.start,Ut("{");!ct("}");)t=OI(),t.key.type===Nb?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ze({},gI):i[r]=!0,e.push(t),ct("}")||Ut(",");return Ut("}"),MI(e)}function zI(){Ut("(");const e=sd();return Ut(")"),e}const UI={if:1};function GI(){var e,t,n;if(ct("("))return zI();if(ct("["))return LI();if(ct("{"))return NI();if(e=Je.type,ie=Je.start,e===Bi||UI[Je.value])n=od(en().value);else if(e===ys||e===Fi)Je.octal&&Ze(Je,zb),n=Es(en());else{if(e===Hr)throw new Error(xs);e===Wl?(t=en(),t.value=t.value==="true",n=Es(t)):e===Zl?(t=en(),t.value=null,n=Es(t)):ct("/")||ct("/=")?(n=Es(II()),qb()):Xl(en())}return n}function HI(){const e=[];if(Ut("("),!ct(")"))for(;ie<zt&&(e.push(Ri()),!ct(")"));)Ut(",");return Ut(")"),e}function VI(){ie=Je.start;const e=en();return kI(e)||Xl(e),od(e.value)}function qI(){return Ut("."),VI()}function jI(){Ut("[");const e=sd();return Ut("]"),e}function WI(){var e,t,n;for(e=GI();;)if(ct("."))n=qI(),e=Wb(".",e,n);else if(ct("("))t=HI(),e=FI(e,t);else if(ct("["))n=jI(),e=Wb("[",e,n);else break;return e}function Qb(){const e=WI();if(Je.type===$t&&(ct("++")||ct("--")))throw new Error(xs);return e}function Kl(){var e,t;if(Je.type!==$t&&Je.type!==Hr)t=Qb();else{if(ct("++")||ct("--"))throw new Error(xs);if(ct("+")||ct("-")||ct("~")||ct("!"))e=en(),t=Kl(),t=PI(e.value,t);else{if(ad("delete")||ad("void")||ad("typeof"))throw new Error(xs);t=Qb()}}return t}function Xb(e){let t=0;if(e.type!==$t&&e.type!==Hr)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function ZI(){var e,t,n,r,i,o,a,s,c,l;if(e=Je,c=Kl(),r=Je,i=Xb(r),i===0)return c;for(r.prec=i,en(),t=[e,Je],a=Kl(),o=[c,r,a];(i=Xb(Je))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,c=o.pop(),t.pop(),n=jb(s,c,a),o.push(n);r=en(),r.prec=i,o.push(r),t.push(Je),n=Kl(),o.push(n)}for(l=o.length-1,n=o[l],t.pop();l>1;)t.pop(),n=jb(o[l-1].value,o[l-2],n),l-=2;return n}function Ri(){var e,t,n;return e=ZI(),ct("?")&&(en(),t=Ri(),Ut(":"),n=Ri(),e=RI(e,t,n)),e}function sd(){const e=Ri();if(ct(","))throw new Error(xs);return e}function YI(e){Ae=e,ie=0,zt=Ae.length,Je=null,qb();const t=sd();if(Je.type!==bs)throw new Error("Unexpect token after expression.");return t}var QI={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Kb(e){function t(a,s,c,l){let u=e(s[0]);return c&&(u=c+"("+u+")",c.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+a+(l<0?"":l===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(a,s,c){return l=>t(a,l,s,c)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&yt("Missing arguments to clamp function."),a.length>3&&yt("Too many arguments to clamp function.");const s=a.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(a){a.length<3&&yt("Missing arguments to if function."),a.length>3&&yt("Too many arguments to if function.");const s=a.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function XI(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function KI(e){e=e||{};const t=e.allowed?qc(e.allowed):{},n=e.forbidden?qc(e.forbidden):{},r=e.constants||QI,i=(e.functions||Kb)(f),o=e.globalvar,a=e.fieldvar,s=dn(o)?o:p=>`${o}["${p}"]`;let c={},l={},u=0;function f(p){if(it(p))return p;const b=h[p.type];return b==null&&yt("Unsupported type: "+p.type),b(p)}const h={Literal:p=>p.raw,Identifier:p=>{const b=p.name;return u>0?b:oo(n,b)?yt("Illegal identifier: "+b):oo(r,b)?r[b]:oo(t,b)?b:(c[b]=1,s(b))},MemberExpression:p=>{const b=!p.computed,v=f(p.object);b&&(u+=1);const y=f(p.property);return v===a&&(l[XI(y)]=1),b&&(u-=1),v+(b?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&yt("Illegal callee type: "+p.callee.type);const b=p.callee.name,v=p.arguments,y=oo(i,b)&&i[b];return y||yt("Unrecognized function: "+b),dn(y)?y(v):y+"("+v.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{u+=1;const b=f(p.key);return u-=1,b+":"+f(p.value)}};function d(p){const b={code:f(p),globals:Object.keys(c),fields:Object.keys(l)};return c={},l={},b}return d.functions=i,d.constants=r,d}function Jb(e,t,n){return n=(n-e)/(t-e),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}function Do(e,t=0,n=1){return Math.max(t,Math.min(n,e))}function JI(e,t,n){return Do((n-e)/(t-e),0,1)}const Zn=1,Vr=2,cd=4;class ld{constructor(t){ve(this,Yi);qt(this,"stats",{count:0,first:null});qt(this,"paramMediatorProvider",null);this.paramMediatorProvider=t,this.children=[],this.parent=void 0,this.completed=!1}get behavior(){return 0}get label(){return`(${this.constructor.name})`}reset(){this.completed=!1;for(const t of this.children)t.reset();this.stats.count=0,this.stats.first=null}initialize(){}setParent(t){this.parent=t}addChild(t){if(t.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(t),t.setParent(this),he(this,Yi,Lc).call(this),this}adopt(t){t.parent&&t.parent.removeChild(t),this.addChild(t)}adoptChildrenOf(t){for(const n of t.children)this.adopt(n)}insertAsParent(t){var n;if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");t.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=t,he(n=this.parent,Yi,Lc).call(n),this.parent=void 0,t.addChild(this)}removeChild(t){const n=this.children.indexOf(t);if(n>-1)this.children.splice(n,1),t.parent=void 0,he(this,Yi,Lc).call(this);else throw new Error("Trying to remove an unknown child node!")}excise(){var t;if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const n=this.children[0];n.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=n,he(t=this.parent,Yi,Lc).call(t),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(t){t(this);for(const n of this.children)n.visit(t);t.afterChildren&&t.afterChildren(this)}subtreeToString(t=0){const n=this.children.map(r=>r.subtreeToString(t+1)).join("");return`${" ".repeat(t*2)}* ${this.label}${"identifier"in this&&this.identifier?": "+this.identifier:""} 
${n}`}handle(t){this._propagate(t)}complete(){this.completed=!0;for(const t of this.children)t.complete()}beginBatch(t){for(const n of this.children)n.beginBatch(t)}get paramMediator(){if(this.paramMediatorProvider)return this.paramMediatorProvider.paramMediator;if(!this.parent)throw new Error("Cannot find paramMediator!");return this.parent.paramMediator}repropagate(){if(this.parent)this.parent.repropagate();else throw new Error("Cannot repropagate data, no FlowNode with stored data found!")}_propagate(t){}}Yi=new WeakSet,Lc=function(){this._propagate=Function("children","stats",Pa(this.children.length).map(t=>`const child${t} = children[${t}];`).join(`
`)+`return function propagate(datum) {
                    if (stats.count === 0) {
                        stats.first = structuredClone(datum);
                    }
                    stats.count++;
                ${Pa(this.children.length).map(t=>`child${t}.handle(datum);`).join(`
`)}
                };`)(this.children,this.stats)};function $b(e){return e.type=="file"}function $I(e){return e.type=="facet"}class vt extends ld{constructor(n,r){super(r);ve(this,mc);Pe(this,mc,n.type)}get label(){return X(this,mc)}}mc=new WeakMap;const bn="_uniqueId",ey=1e4,ty=[null];class ud extends vt{get behavior(){return Vr}constructor(t){super(t),this.params=t,this.as=t.as??bn,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(t){t[this.as]=this._nextId(),this._propagate(t)}_nextId(){return++this._id%ey==0&&(this._id=this._getBlock()*ey),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const t=ty.length;return ty[t]=this,this._blocks.push(t),this._usedBlocks++,t}}function ny(e){return{type:"single",datum:e,uniqueId:e==null?void 0:e[bn]}}function ry(e){return e??(e=[]),{type:"multi",data:new Map(e.map(t=>[t[bn],t]))}}function e6(e,{add:t,remove:n,toggle:r}){const i=e.data;for(const o of t??[])i.set(o[bn],o);for(const o of n??[])i.delete(o[bn]);for(const o of r??[]){const a=o[bn];i.has(a)?i.delete(a):i.set(a,o)}return{type:"multi",data:i}}function t6(e,t,n=!0){if(!e||!t)return!1;if(oy(e))return e.uniqueId==null?n:e.uniqueId===t[bn];if(fd(e))return e.data.size==0?n:e.data.has(t[bn]);throw new Error("Not a selection: "+JSON.stringify(e))}function iy(e){return`selectionTest(${$l(e.param)}, datum, ${!!(e.empty??!0)})`}function oy(e){return e.type==="single"}function fd(e){return e.type==="multi"}function ay(e){const t=typeof e=="string"?{type:e}:e;return hd(t)&&(t.on??(t.on="click"),t.on==="click"&&(t.toggle=!0)),t}function hd(e){return e&&e.type=="point"}const sy={clamp:Do,isArray:Bt,isBoolean:Ea,isDefined(e){return e!==void 0},isNumber:jt,isObject:Lt,isRegExp:_E,isString:it,isValid(e){return e!=null&&e===e},lerp:Qp,linearstep:JI,replace(e,t,n){return String(e).replace(t,n)},smoothstep:Jb,selectionTest:t6};function n6(e){const t=Kb(e);for(const n in sy)t[n]=`this.${n}`;return t}const r6=KI({forbidden:[],allowed:["datum","undefined"],globalvar:"globalObject",fieldvar:"datum",functions:n6});function i6(e,t={}){try{const n=YI(e),r=r6(n),i=Function("datum","globalObject",`"use strict";
            try {
                return (${r.code});
            } catch (e) {
                throw new Error("Error evaluating expression: " + ${JSON.stringify(e)} + ", " + e.message, e);
            }`).bind(sy),o=a=>i(a,t);return o.fields=r.fields,o.globals=r.globals,o.code=r.code,o}catch(n){throw new Error(`Invalid expression: ${e}, ${n.message}`)}}class o6{constructor(t){ve(this,ti);qt(this,"paramListeners");ve(this,Qi,new Map);ve(this,ia,new Map);ve(this,oa,new Map);ve(this,bc);Pe(this,bc,t??(()=>{})),Pe(this,ti,new Map),this.paramListeners=new Map}registerParam(t){const n=t.name;if("value"in t&&"expr"in t)throw new Error(`The parameter "${n}" must not have both value and expr properties!`);let r;if(t.push=="outer"){const i=this.findMediatorForParam(n);if(!i)throw new Error(`Parameter "${n}" not found in outer scope!`);const o=i.paramConfigs.get(n);if("expr"in o||"select"in o)throw new Error(`The outer parameter "${n}" must not have expr or select properties!`);r=i.getSetter(n),X(this,Qi).set(n,r)}else if("value"in t)r=this.allocateSetter(n,t.value);else if("expr"in t){const i=this.createExpression(t.expr),o=this.allocateSetter(n,i(null));i.addListener(()=>o(i(null))),r=a=>{}}else r=this.allocateSetter(n,null);if("select"in t){const i=ay(t.select);hd(i)&&r(i.toggle?ry():ny(null))}return X(this,oa).set(n,t),r}allocateSetter(t,n,r=!1){if($l(t),X(this,Qi).has(t))throw new Error("Setter already allocated for parameter: "+t);const i=o=>{const a=X(this,ti).get(t);if(o!==a){X(this,ti).set(t,o);const s=this.paramListeners.get(t);if(s&&!r)for(const c of s)c()}};return i(n),X(this,Qi).set(t,i),i}getSetter(t){const n=X(this,Qi).get(t);if(!n)throw new Error("Setter not found for parameter: "+t);return n}getValue(t){return X(this,ti).get(t)}findValue(t){const n=this.findMediatorForParam(t);return n==null?void 0:n.getValue(t)}get paramConfigs(){return X(this,oa)}findMediatorForParam(t){var n;return X(this,ti).has(t)?this:(n=X(this,bc).call(this))==null?void 0:n.findMediatorForParam(t)}createExpression(t){if(X(this,ia).has(t))return X(this,ia).get(t);const n={},r=i6(t,n),i=new Map;for(const a of r.globals){const s=this.findMediatorForParam(a);if(!s)throw new Error(`Unknown variable "${a}" in expression: ${t}`);i.set(a,s),Object.defineProperty(n,a,{enumerable:!0,get(){return s.getValue(a)}})}const o=new Set;return r.addListener=a=>{for(const[s,c]of i){const l=c.paramListeners.get(s)??new Set;c.paramListeners.set(s,l),l.add(a),o.add(a)}},r.invalidate=()=>{var a;for(const[s,c]of i)for(const l of o)(a=c.paramListeners.get(s))==null||a.delete(l)},r.identifier=()=>r.code,X(this,ia).set(t,r),r}evaluateAndGet(t){return this.createExpression(t)()}hasPointSelections(){for(const t of X(this,oa).values())if(s6(t)){const n=t.select;if(it(n)){if(n=="point")return!0}else if(n.type=="point")return!0}return!1}}ti=new WeakMap,Qi=new WeakMap,ia=new WeakMap,oa=new WeakMap,bc=new WeakMap;function Yt(e){return typeof e=="object"&&e!=null&&"expr"in e&&it(e.expr)}function rn(e){if(Yt(e))throw new Error(`ExprRef ${JSON.stringify(e)} not allowed here. Expected a scalar value.`);return e}function a6(e){return("expr"in e||"bind"in e)&&!("select"in e)}function s6(e){return!("expr"in e||"bind"in e)&&"select"in e}function Jl(e,t,n){const r={...t},i=[],o=a=>{i.push(a),i.length===1&&queueMicrotask(()=>{n(i.slice()),i.length=0})};for(const[a,s]of Object.entries(t))if(Yt(s)){const c=e.createExpression(s.expr);n&&c.addListener(()=>o(a)),Object.defineProperty(r,a,{enumerable:!0,get(){return c()}})}else r[a]=s;return r}function $l(e){if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw new Error(`Invalid parameter name: ${e}. Must be a valid JavaScript identifier.`);return e}function c6(e){return Object.assign(()=>e,{addListener:()=>{},invalidate:()=>{},identifier:()=>"constant",fields:[],globals:[],code:JSON.stringify(e)})}function cy(e,t,n){if(!e)return;function r(o){const a=o;return a.fields??(a.fields=[]),a.constant=a.fields.length===0,a.channelDef=t,a.channel=e,a.scaleChannel=((on(t)&&t.resolutionChannel)??(Ts(e)&&e))||void 0,"param"in t?(a.predicate=n.createExpression(iy(t)),a.predicate.param=t.param,a.predicate.empty=t.empty??!0):(a.predicate=c6(!0),a.predicate.empty=!1),a.asNumberAccessor=()=>a,a}function i(o){if(Yt(o)){const a=r(n.createExpression(o.expr));if(a.fields.length>0)throw new Error("Expression in DatumDef/ValueDef cannot access data fields: "+o.expr);return a}else{const a=o;return r(()=>a)}}if(qr(t))try{return r(Ke(t.field))}catch(o){throw new Error(`Invalid field definition: ${o.message}`)}else{if(_s(t))return r(n.createExpression(t.expr));if(Ss(t))return i(t.datum);if(yn(t))return i(t.value);throw new Error(`Invalid channel definition: "${e}": ${JSON.stringify(t)}! The channel definition must contain one of the following properties: "field", "datum", "value" or "expr".`)}}function l6(e,t,n){const r=[];if(d6(t)||p6(t)){const i=Array.isArray(t.condition)?t.condition:[t.condition];for(const o of i)r.push(cy(e,o,n))}if(r.push(cy(e,t,n)),r.filter(i=>!i.constant).length>1)throw new Error("Only one accessor can be non-constant. Channel: "+e);return r}function u6(e,t){const n={},r=i=>{var o;return(o=e.getScaleResolution(i))==null?void 0:o.scale};for(const[i,o]of Object.entries(t))o&&(n[i]=f6(l6(i,o,e.paramMediator),r));return n}function f6(e,t){if(e.length===1)return ly(e[0],t);const n=e.map(o=>o.predicate),r=e.map(o=>ly(o,t));return Object.assign(o=>{for(let a=0;a<r.length;a++)if(n[a](o))return r[a](o)},{constant:!1,accessors:r.map(o=>o.accessors[0]),dataAccessor:r.map(o=>o.dataAccessor).find(o=>o),scale:r.map(o=>o.scale).find(o=>o),channelDef:e.at(-1).channelDef})}function ly(e,t){const{channel:n,scaleChannel:r,channelDef:i}=e,o=e.scaleChannel?t(r):void 0;if(r&&!o)throw new Error(`Missing scale! "${n}": ${JSON.stringify(i)}`);return Object.assign(o?a=>o(e(a)):a=>e(a),{scale:o,constant:e.constant,accessors:[e],dataAccessor:e.constant?void 0:e,channelDef:i})}function yn(e){return e&&"value"in e}function qr(e){return e&&"field"in e}function Ss(e){return e&&"datum"in e}function on(e){return qr(e)||Ss(e)||_s(e)||uy(e)}function h6(e,t){const n=e.mark.encoding[t];if(on(n))return n;throw new Error("Not a channel def with scale!")}function uy(e){return e&&"chrom"in e}function _s(e){return e&&"expr"in e}function d6(e){return(qr(e)||Ss(e))&&"condition"in e}function p6(e){return yn(e)&&"condition"in e}const Io=["x","y"],g6=["x2","y2"],m6=[...Io,...g6];function fy(e){return Io.includes(e)}function Cs(e){return m6.includes(e)}const hy={x:"x2",y:"y2"},dy=Object.fromEntries(Object.entries(hy).map(e=>[e[1],e[0]]));function dd(e){return e in dy}function b6(e){const t=hy[e];if(t)return t;throw new Error(`${e} has no secondary channel!`)}function Mi(e){return dy[e]??e}function jr(e){return["color","fill","stroke"].includes(Mi(e))}function eu(e){return["shape"].includes(e)}function Ts(e){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(e)}function y6(e){switch(e){case"shape":return["circle","square","cross","diamond","triangle-up","triangle-right","triangle-down","triangle-left","tick-up","tick-right","tick-down","tick-left"]}}function py(e){if(!eu(e))throw new Error("Not a discrete channel: "+e);const t=new Map(y6(e).map((n,r)=>[n,r]));return n=>{const r=t.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${e}" channel: ${n}`)}}function pd(){const e=t=>t;return e.invert=t=>t,e.copy=pd,e.invertRange=()=>{},e.type="null",e}const tu="attr_",x6="uDomain_",w6="range_",v6="accessor_",gy="scale_",A6="getScaled_",gd="uRangeTexture_",md="uParam_",nu="checkSelection_",my=3402823466e29;function E6(e){const t=e.match(/^(?:(\w+)-)?(\w+)$/);if(!t)throw new Error("Not a scale type: "+e);return{family:t[1]||"continuous",transform:t[2]}}function Ds(e,t){return`${v6}${e}_${t}`}function S6(e,t,n){let r;if(eu(e))r=Pi(py(e)(n));else if(it(n))if(jr(e))r=I6(n);else throw new Error(`String values are not supported on the "${e}" channel: ${n}`);else if(Ea(n))r=Pi(n?1:0);else if(n===null)if(jr(e))r=Pi([0,0,0]);else throw new Error(`null value is not supported on the "${e}" chanel.`);else r=Pi(n);const i=Ds(e,t),o=`
${r.type} ${i}() {
    // Constant value
    return ${r};
}`;return{channel:e,accessorGlsl:o,accessorFunctionName:i}}function _6(e,t){let n="float",r=c=>c;jr(e)&&(n="vec3",r=c=>vy(c));const i=`u${M6(e)}_${t}`,o=`    // Dynamic value
    uniform ${n} ${i};`,a=Ds(e,t);let s=`
${n} ${a}() {
    // Dynamic value
    return ${i};
}`;return{channel:e,uniformName:i,uniformGlsl:o,accessorGlsl:s,accessorFunctionName:a,adjuster:r}}function by(e,t,n,r=[e]){const{attributeType:i}=Is(t,e),o=tu+yd(r),a=`in highp ${i} ${o};`,s=Ds(e,n),c=`
${i} ${s}() {
    return ${o};
}`;return{channel:e,attributeName:o,attributeGlsl:a,accessorGlsl:c,accessorFunctionName:s}}function C6(e,t,n){const{attributeType:r}=Is(t,e),i=tu+yd(e),o=`    uniform highp ${r} ${i};`,a=Ds(e,n),s=`
${r} ${a}() {
    return ${i};
}`;return{channel:e,uniformName:i,uniformGlsl:o,accessorGlsl:s,accessorFunctionName:a}}function T6(e,t,n){t??(t=pd());const r=Mi(e),i=x6+r,o=w6+r,{hp:a,attributeType:s}=Is(t,e),c=t.domain?t.domain().length:void 0;let l;const u=[];u.push(""),u.push("/".repeat(70)),u.push(`// Channel: ${e}`),u.push("");const{transform:f}=E6(t.type),h=(I,...N)=>k6.apply(null,[I,"value",...N]);let d;switch(f){case"linear":d=h("scaleLinear","domain",o);break;case"log":d=h("scaleLog","domain",o,t.base());break;case"symlog":d=h("scaleSymlog","domain",o,t.constant());break;case"pow":case"sqrt":d=h("scalePow","domain",o,t.exponent());break;case"index":case"locus":d=h("scaleBandHp","domain",o,t.paddingInner(),t.paddingOuter(),t.align(),n.band??.5);break;case"point":case"band":d=h("scaleBand","domain",o,t.paddingInner(),t.paddingOuter(),t.align(),n.band??.5);break;case"ordinal":case"null":case"identity":d=h("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${t.type}! ${e}: ${JSON.stringify(n)}`)}const p=Cy(t,e);let b;if(p&&e==r){const I=t.props.range??[];if(Yt(I)||I.some(Yt)){if(p.length<1||p.length>4)throw new Error(`A range with ExprRefs must have 1-4 elements, not ${p.length}! Range: ${JSON.stringify(p)}`);b=`    uniform ${xy(p.length)} ${o};`}else if(p.length&&p.every(jt)){const N=Ay(p);u.push(`const ${N.type} ${o} = ${N};`)}}const v=wy(e);let y;if(jr(e)){const I=gd+r;if(e==r&&u.push(`uniform sampler2D ${I};`),Ft(t.type))y=`getInterpolatedColor(${I}, transformed)`;else if(Gr(t.type)||ki(t.type))y=`getDiscreteColor(${I}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(t.type==="ordinal"||ki(t.type)){const I=gd+r;e==r&&u.push(`uniform sampler2D ${I};`),y=`getDiscreteColor(${I}, int(transformed)).r`}const A=[],_=Ft(t.type)&&c>2,E=ki(t.type)||_;if(A.push("int slot = 0;"),E){const I=i;A.push(_?`while (slot < ${I}.length() - 2 && value >= ${I}[slot + 1]) { slot++; }`:`while (slot < ${I}.length() && value >= ${I}[slot]) { slot++; }`)}const C=Ft(t.type)||ki(t.type)||["band","point"].includes(t.type);if(d){const I=i;C&&(a?A.push(`vec3 domain = ${I};`):A.push(`vec2 domain = vec2(${I}[slot], ${I}[slot + 1]);`)),A.push(`float transformed = ${d};`),_&&A.push(`transformed = (float(slot) + transformed) / (float(${I}.length() - 1));`)}else A.push("float transformed = float(slot);");"clamp"in t&&t.clamp()&&A.push(`transformed = clampToRange(transformed, ${Ay(p)});`),A.push(`return ${y??"transformed"};`),u.push(`
${v} ${gy}${e}(${s} value) {
${A.map(I=>`    ${I}
`).join("")}
}`);const F=u.join(`
`);if(C&&e==r){const I=Ft(t.type)||ki(t.type)?c:2;l=a?`    highp vec3 ${i};`:`    mediump float ${i}[${I}];`}return{glsl:F,domainUniformName:i,domainUniform:l,rangeUniformName:o,rangeUniform:b}}function D6(e,t){const n=wy(e),r=[],i=[];for(let o=0;o<t.length;o++){const a=t[o],s=Ds(e,o),{param:c,empty:l}=a.predicate;r.push(c?`${nu}${c}(${!!l})`:null),i.push(a.scaleChannel?`return ${gy}${e}(${s}());`:`return ${s}();`)}return`${n} ${A6}${e}() {
${P6(r,i)}
}

#define ${e}_DEFINED`}function yy(e){if(!jt(e))throw new Error(`Not a number: ${e}`);if(e==1/0)return""+my;if(e==-1/0)return""+-my;{let t=`${e}`;return/^(-)?\d+$/.test(t)&&(t+=".0"),t}}function Pi(e){typeof e=="number"&&(e=[e]);const t=e.length;if(t<1||t>4)throw new Error("Invalid number of components: "+t);const n=xy(t),r=`${n}(${e.map(yy).join(", ")})`;return Object.assign(r,{type:n,numComponents:t})}function xy(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error("Invalid number of components: "+e)}}function wy(e){return jr(e)?"vec3":e=="uniqueId"?"uint":"float"}function vy(e){const t=Or(e).rgb();return[t.r,t.g,t.b].map(n=>n/255)}function I6(e){return Pi(vy(e))}function Ay(e){return Pi([e[0],Ja(e)])}function k6(e,...t){const n=[];for(const r of t)jt(r)?n.push(yy(r)):Bt(r)?n.push(Pi(r)):n.push(r);return`${e}(${n.join(", ")})`}function Is(e,t){var a;const n=e&&Gr(e.type),r=e&&Ey(e.type),i=r&&B6(e.domain()),o=i?{attributeType:"uvec2",arrayConstructor:Uint32Array}:r?{attributeType:"uint",arrayConstructor:Uint32Array}:n?{attributeType:"uint",arrayConstructor:Uint16Array}:t=="uniqueId"?{attributeType:"uint",arrayConstructor:Uint32Array}:{attributeType:"float",arrayConstructor:Float32Array};return Object.assign(o,{numComponents:+(((a=o.attributeType.match(/^vec([234])$/))==null?void 0:a[1])??1),discrete:n,hp:r,largeHp:i})}function Ey(e){return e=="index"||e=="locus"}function B6(e){return e[1]>2**32}const bd=2**12;function Sy(e,t=[]){const n=e%bd,r=(e-n)/bd;return t[0]=r,t[1]=n,t}function F6(e){const t=e%bd;return[e-t,t]}function R6(e){return[...F6(e[0]),e[1]-e[0]]}function _y(e){const t=new tr([],JSON.stringify);for(const[n,r]of Object.entries(e)){const i=r.channelDef;if(qr(i)){const a=[i.field,r.scale?(Ft(r.scale.type)||ki(r.scale.type))??!1:!1];t.set(a,[...t.get(a)??[],n])}}return t}function yd(e){return Kt(e).join("_")}function M6(e){return e[0].toUpperCase()+e.slice(1)}const Cy=(e,t)=>ql(e.type)||Ft(e.type)&&jr(t)?[0,1]:e.range?e.range():void 0;function P6(e,t){if(e.length!=t.length)throw new Error("Unequal array lengths");const n=e.length;if(n==0)return"";if(n==1&&e[0]==null)return t[0];const r=[];for(let i=0;i<n;i++){const o=e[i],a=i==0?`if (${o})`:o==null&&i==n-1?"else":`else if (${o})`;r.push(`    ${a} {
        ${t[i]}
    }`)}return r.join(`
`)}const Ty=1e4;class L6{constructor(t){ve(this,aa);ve(this,yc,!1);this.size=t,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}configure(){if(X(this,yc))throw new Error("Already configured!");he(this,aa,W2).call(this),he(this,aa,Z2).call(this),Pe(this,yc,!0)}addConverter(t,n){const r=this.createUpdater(tu+t,n.numComponents||1,n.targetArrayType??Float32Array,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?o=>r(i(o)):o=>r(i(o)))}createUpdater(t,n,r=Float32Array,i=void 0){if(!jt(this.size))throw new Error("The number of vertices must be defined!");let o,a,s=0;const c=new r(this.size*n);if(this.arrays[t]={data:c,numComponents:n},n==1){let l=0;const u=f=>{l=+f};o=()=>{c[s++]=l},a=u}else{let l=i??[0];const u=i?f=>{}:f=>{l=f};switch(n){case 1:break;case 2:o=()=>{c[s++]=l[0],c[s++]=l[1]},a=u;break;case 3:o=()=>{c[s++]=l[0],c[s++]=l[1],c[s++]=l[2]},a=u;break;case 4:o=()=>{c[s++]=l[0],c[s++]=l[1],c[s++]=l[2],c[s++]=l[3]},a=u;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(o),a}pushAll(){throw new Error("Call configure() first!")}updateFromDatum(t){throw new Error("Call configure() first!")}pushFromDatum(t){this.updateFromDatum(t),this.pushAll()}}yc=new WeakMap,aa=new WeakSet,W2=function(){if(this.size>Ty){const t=this.pushers.map((r,i)=>`const p${i} = that.pushers[${i}];`).join(`
`),n=this.pushers.map((r,i)=>`  p${i}();`).join(`
`);this.pushAll=new Function("that",`${t}
return function unrolledPushAll() {
${n}
  that.vertexCount++;
};`)(this)}else this.pushAll=()=>{for(let t=0;t<this.pushers.length;t++)this.pushers[t]();this.vertexCount++}},Z2=function(){if(this.size>Ty){const t=this.dataUpdaters.map((r,i)=>`const u${i} = that.dataUpdaters[${i}];`).join(`
`),n=this.dataUpdaters.map((r,i)=>`  u${i}(datum);`).join(`
`);this.updateFromDatum=new Function("that","datum",`${t}
return function unrolledUpdateFromDatum(datum) {
${n}
};`)(this)}else this.updateFromDatum=t=>{for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](t)}};const ko=5,xd=127;function wd(e){const t=[];for(let p=0;p<=xd;p++)t.push(void 0);const n=new Map;for(const p of e.chars)p.id<=xd?t[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,t[45]);function i(p){return(p<=xd?t[p]:n.get(p))||t[63]}function o(p){return i(p.charCodeAt(0))}const a=e.common.base,s=o("x"),c=o("X"),l=o("q"),u=s.height-ko*2,f=c.height-ko*2,h=l.height-s.height+l.yoffset-s.yoffset;function d(p,b=1){let v=0;for(let y=0;y<p.length;y++)v+=i(p.charCodeAt(y)).xadvance;return v/a*b}return{measureWidth:d,getCharByCode:i,getChar:o,xHeight:u,capHeight:f,descent:h,common:e.common}}const Dy=2**31-1,O6=-(2**31);function N6(e,t,n,r=n){const i=new Array(e);i.fill(Dy);let o=O6,a=-1/0,s=!1;const c=new Array(e);c.fill(0);const l=t[0],f=(t[1]-t[0])/e,h=(y,A)=>{const _=(y-l)/f,E=Math.floor(_);return Do(A&&E==_?E-1:E,0,e-1)};function d(y,A,_){if(s)return;if(A>o)o=A;else{s=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}const E=n(y);if(E<a){s=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}a=E;const C=h(E,!1);i[C]>A&&(i[C]=A),c[C]<_&&(c[C]=_)}function p(y,A,_){if(s)return;if(A>o)o=A;else{s=!0,console.debug("Items (vertices) are not ordered properly. Disabling binned index.");return}const E=n(y),C=r(y);if(E<a){s=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}else if(C<E){s=!0,console.debug("End index is less than start index. Disabling binned index. Datum: ",y);return}a=E;const F=h(E,!1),I=h(C,!0);for(let N=F;N<=I;N++)i[N]>A&&(i[N]=A),c[N]<_&&(c[N]=_)}const b=(y,A,_=[0,0])=>{const E=h(y,!1),C=h(A,!0),F=i[E],I=Math.max(c[C],F);return _[0]=F,_[1]=I,_},v=()=>{if(s)return;for(let A=1;A<c.length;A++)c[A]<c[A-1]&&(c[A]=c[A-1]);let y=!0;for(let A=i.length-1;A>0;A--)y&&i[A]==Dy?(i[A]=c[A],y=!1):i[A-1]>i[A]&&(i[A-1]=i[A]);return b};return d.getIndex=v,p.getIndex=v,n==r?d:p}function z6(){let e=0,t,n=0;const r=new Map,i=o=>(o===t||(n=r.get(o),n===void 0&&(n=e++,r.set(o,n)),t=o),n);return i.addAll=o=>{for(const a of o)i(a)},i.invert=o=>{for(const a of r.entries())if(a[1]==o)return a[0]},i.domain=()=>[...r.keys()],i}class ks{constructor({encoders:t,numVertices:n=void 0,attributes:r=[]}){this.encoders=t,this.variableEncoders=Object.fromEntries(Object.entries(t).filter(([o,a])=>r.includes(o)&&a&&!a.constant));const i=[..._y(t).entries()].filter(([o,a])=>o[1]&&a.length>1).map(([o,a])=>a);this.allocatedVertices=n,this.variableBuilder=new L6(n);for(const[o,a]of Object.entries(this.variableEncoders)){const s=a.dataAccessor;if(!s)continue;const c=i.find(_=>_.find(E=>E==o));if(c&&o!=c[0])continue;const l=s.asNumberAccessor(),u=a.scale,{largeHp:f,arrayConstructor:h,discrete:d,numComponents:p}=Is(u,o),b=[0,0];let v;u&&d&&"domain"in u&&(v=z6(),v.addAll(u.domain()));const y=v?_=>v(s(_)):f?_=>Sy(l(_),b):l,A=c?yd(c):o;this.variableBuilder.addConverter(A,{f:y,numComponents:p,arrayReference:f?b:void 0,targetArrayType:h})}this.lastOffset=0,this.rangeMap=new tr([],JSON.stringify)}registerBatch(t){var o;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(t,{offset:n,count:i,xIndex:(o=this.xIndexer)==null?void 0:o.getIndex()}),this.lastOffset=r}addBatches(t){for(const[n,r]of t)this.addBatch(n,r)}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const a=n[o];this.variableBuilder.pushFromDatum(a),this.addToXIndex(a)}this.registerBatch(t)}prepareXIndexer(t,n=0,r=n+t.length){var l;const i=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0},o=(l=this.encoders.x)==null?void 0:l.channelDef;if(!("buildIndex"in o)||!o.buildIndex||!t.length||r-n<0){i();return}const a=u=>{var f;return u&&Ft((f=u.scale)==null?void 0:f.type)&&u},s=a(this.variableEncoders.x),c=a(this.variableEncoders.x2);if(s&&!s.constant&&(!c||!c.constant)){const u=s.dataAccessor.asNumberAccessor(),f=c?c.dataAccessor.asNumberAccessor():u,h=[u(t[n]),f(t[r-1])];if(h[1]>h[0]){this.xIndexer=N6(50,h,u,f);let d=this.variableBuilder.vertexCount;this.addToXIndex=p=>{let b=this.variableBuilder.vertexCount;this.xIndexer(p,d,b),d=b}}else i()}else i()}addToXIndex(t){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class U6 extends ks{constructor({encoders:t,attributes:n,numItems:r}){super({encoders:t,attributes:n,numVertices:r*6}),this.variableBuilder.configure();const i=this.variableBuilder.pushAll;this.pushAllSixTimes=r>500?new Function("pushAll",`return function unrolledPushAllSixTimes() {
  pushAll(); pushAll(); pushAll(); pushAll(); pushAll(); pushAll();
};`)(i):function(){i(),i(),i(),i(),i(),i()}}addBatch(t,n,r=0,i=n.length){if(!(i<=r)){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const a=n[o];this.variableBuilder.updateFromDatum(a),this.pushAllSixTimes(),this.addToXIndex(a)}this.registerBatch(t)}}}class G6 extends ks{constructor({encoders:t,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:o}){super({encoders:t,attributes:n,numVertices:r==1/0?o*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let o=r;o<i;o++){const a=n[o];this.variableBuilder.updateFromDatum(a),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const s=1;for(let c=0;c<=s;c++)this.updatePos(c/s),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(a)}this.registerBatch(t)}}class H6 extends ks{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}}class V6 extends ks{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}toArrays(){const t=this.variableBuilder.arrays;for(let n of Object.values(t))n.divisor=1;return super.toArrays()}}class q6 extends ks{constructor({encoders:t,attributes:n,fontMetrics:r,properties:i,numCharacters:o=void 0}){super({encoders:t,attributes:n,numVertices:o*6}),this.metadata=r,this.metrics=r,this.properties=i;const s=t.text.channelDef;this.numberFormat=!yn(s)&&"format"in s&&s.format?Ot(s.format):c=>c,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){const o=this.properties.align||"left",a=this.properties.logoLetters??!1,s=this.metadata.common.base,c=this.metadata.common.scaleH;let l=-ko;switch(this.properties.baseline){case"top":l+=this.metrics.capHeight;break;case"middle":l+=this.metrics.capHeight/2;break;case"bottom":l-=this.metrics.descent;break}const u=this.encoders.text,f=[0,0];this.updateVertexCoord(f);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],b=this.numberFormat(u(p)),v=it(b)?b:b===null?"":""+b;if(v.length==0)continue;this.variableBuilder.updateFromDatum(p);const y=a?v.length:this.metrics.measureWidth(v);this.updateWidth(y);let A=o=="right"?-y:o=="center"?-y/2:0;if(!a){const F=this.metrics.getCharByCode(v.charCodeAt(0));A-=(F.width-F.xadvance)/s/2}let _=-.5,E=1,C=1;for(let F=0;F<v.length;F++){const I=this.metrics.getCharByCode(v.charCodeAt(F)),N=a?1:I.xadvance/s;if(I.id==32){A+=N;continue}a?(C=(I.width+ko*2)/I.width,A=-C/2,E=(I.height+ko*2)/I.height,_=-.5-ko/I.height):(E=I.height/s,_=-(I.height+I.yoffset+l)/s,C=I.width/s);const R=I.x,P=I.y;f[0]=A,f[1]=_+E,h[0]=R/c,h[1]=P/c,this.variableBuilder.pushAll(),f[0]=A+C,f[1]=_+E,h[0]=(R+I.width)/c,h[1]=P/c,this.variableBuilder.pushAll(),f[0]=A,f[1]=_,h[0]=R/c,h[1]=(P+I.height)/c,this.variableBuilder.pushAll(),f[0]=A+C,f[1]=_+E,h[0]=(R+I.width)/c,h[1]=P/c,this.variableBuilder.pushAll(),f[0]=A,f[1]=_,h[0]=R/c,h[1]=(P+I.height)/c,this.variableBuilder.pushAll(),f[0]=A+C,f[1]=_,h[0]=(R+I.width)/c,h[1]=(P+I.height)/c,this.variableBuilder.pushAll(),A+=N}this.addToXIndex(p)}this.registerBatch(t)}}const Iy=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

bool isEmptyBinarySearchTexture(highp usampler2D s) {
    // The minimum texture size is 1x1. Zero is a special value that indicates
    // an empty selection. Unique ids never start at zero.
    return textureSize(s, 0).x == 1 && texelFetch(s, ivec2(0, 0), 0).r == 0u;
}

bool binarySearchTexture(highp usampler2D s, uint value) {
    int texSize = textureSize(s, 0).x;

    int left = 0;
    int right = texSize - 1;

    while (left <= right) {
        int mid = left + (right - left) / 2;

        uint midValue = texelFetch(s, ivec2(mid, 0), 0).r;

        if (midValue == value) {
            return true;
        }

        if (midValue < value) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }

    return false;
}

/**
 * Calculates a gamma for antialiasing opacity based on the color.
 */
float getGammaForColor(vec3 rgb) {
    return mix(
        1.25,
        0.75,
        // RGB should be linearized but this is good enough for now
        smoothstep(0.0, 1.0, dot(rgb, vec3(0.299, 0.587, 0.114))));
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,j6=`uniform highp float uZero;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleIdentity(uint value) {
    return float(value);
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

// TODO: domainExtent should be uint
float scaleBand(uint value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (float(value) - domainExtent[0]) * step + bandwidth * band;
}

const int lowBits = 12;
const float lowDivisor = pow(2.0, float(lowBits));
const uint lowMask = uint(lowDivisor - 1.0);

vec2 splitUint(uint value) {
    uint valueLo = value & lowMask;
    uint valueHi = value - valueLo;
    return vec2(float(valueHi), float(valueLo));
}

/**
 * High precision variant of scaleBand for index/locus scales
 */
float scaleBandHp(uint value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = splitUint(value);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}

/**
 * High precision variant of scaleBand for index/locus scales for large
 * domains where 32bit uints are not sufficient to represent the domain.
 */
float scaleBandHp(uvec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = vec2(float(value[0]) * lowDivisor, float(value[1]));

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,W6=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,Z6=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        uint id = attr_uniqueId;
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, id >> 24) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,Y6=`in highp vec4 vPickingColor;
`,ru=Symbol("cacheMap");function iu(e,t,n){let r=Bs(e).get(t);return r===void 0&&(r=n(t),Bs(e).set(t,r)),r}function Q6(e,t){Bs(e).delete(t)}function ou(e,t){const n=Bs(e);for(const r of n.keys())r.startsWith(t)&&n.delete(r);Bs(e).delete(t)}function ky(e){e[ru]=new Map}function Bs(e){return e[ru]||ky(e),e[ru]}function X6(e,t,n,r){const i=it(e)?e:e.name,o=!it(e)&&e.extent||[0,1];if(n===void 0&&!it(e)&&(n=e.count),i){const a=$h(i);if(dn(a)){const s=By(a,{extent:o,count:n});return Fs(t,{minMag:t.LINEAR,format:t.RGB,height:1,wrap:t.CLAMP_TO_EDGE},s,r)}else{if(Bt(a))return vd(a,t);throw new Error("Unknown scheme: "+i)}}}function K6(e,t="rgb",n,r){const i=jl(e,it(t)?t:t.type,it(t)?void 0:t.gamma),o=By(i);return Fs(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},o,r)}function J6(e,t,n,r){const i=Math.max(e.length,n||0),o=new Float32Array(i);for(let a=0;a<i;a++)o[a]=e[a%e.length];return Fs(t,{minMag:t.NEAREST,format:t.RED,internalFormat:t.R32F,height:1},o,r)}function vd(e,t,n,r){const i=Fy(e,n);return Fs(t,{minMag:t.NEAREST,format:t.RGB,height:1},i,r)}function By(e,{extent:t=[0,1],reverse:n=!1,count:r=256}={}){const i=t[0],o=Ja(t)-i,a=Pa(r).map(s=>s/(r-1)).map(s=>i+s/o).map(e);return n&&a.reverse(),Fy(a)}function Fy(e,t){const n=Math.max(e.length,t||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const o=e[i%e.length],a=Or(o);if(!a)throw new Error(`Invalid color "${o}" in the scheme ${JSON.stringify(e)}!`);const s=a.rgb();r[i*3+0]=s.r,r[i*3+1]=s.g,r[i*3+2]=s.b}return r}class $6{constructor(t,n,r,i={}){this._container=t,this._sizeSource=n??(()=>({width:void 0,height:void 0})),this._shaderCache=new Map,this.rangeTextures=new WeakMap,this.selectionTextures=new WeakMap;const o=document.createElement("canvas");t.appendChild(o);const a=aT(o,{antialias:!0,depth:!1,premultipliedAlpha:!0,...i});if(!a)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!mo(a))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(y1(a),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),this.canvas=o,this.gl=a,this._pickingAttachmentOptions=[{format:a.RGBA,type:a.UNSIGNED_BYTE,minMag:a.LINEAR,wrap:a.CLAMP_TO_EDGE}],this._pickingBufferInfo=eT(a,this._pickingAttachmentOptions),a.bindFramebuffer(a.FRAMEBUFFER,null),this.adjustGl(),this._updateDpr(),this._clearColor=[0,0,0,0],r){const s=Or(r).rgb();this._clearColor=[s.r/255,s.g/255,s.b/255,s.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(t,n){const r="#version 300 es",i="precision mediump float;";Bt(n)&&(n=n.join(`

`));const o=this.gl,a=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let s=this._shaderCache.get(a);if(!s){const c=[r,i,n].join(`

`);s=o.createShader(t),o.shaderSource(s,c),o.compileShader(s),this._shaderCache.set(a,s)}return s}adjustGl(){const t=this.getLogicalCanvasSize();this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`;const n=this.getPhysicalCanvasSize(t);this.canvas.width=n.width,this.canvas.height=n.height,tT(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this.canvas.remove()}getPhysicalCanvasSize(t){return t=t||this.getLogicalCanvasSize(),{width:t.width*this.dpr,height:t.height*this.dpr}}getLogicalCanvasSize(){if(this._logicalCanvasSize)return this._logicalCanvasSize;const t=this._sizeSource(),n=window.getComputedStyle(this._container,null),r=t.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=t.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}readPickingPixel(t,n){const r=this.gl;t*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,o=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(t,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,o),r.bindFramebuffer(r.FRAMEBUFFER,null),o}clearAll(){const t=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();t.viewport(0,0,n,r),t.disable(t.SCISSOR_TEST),t.clearColor(...this._clearColor),t.clear(t.COLOR_BUFFER_BIT)}createRangeTexture(t,n=!1){const r=this.rangeTextures.get(t);if(!n&&r)return;function i(a,s){return Gr(s.type)?s.domain().length:s.type=="threshold"?s.domain().length+1:s.type=="quantize"||s.type=="quantile"?a??4:a}const o=t.channel;if(jr(o)){const a=t.scale,s=a.props,c=a.range();let l;if(s.scheme)if(a.type=="threshold"&&c)l=vd(c,this.gl,a.domain().length,r);else{let u=it(s.scheme)?void 0:s.scheme.count;u=i(u,a),l=X6(s.scheme,this.gl,u,r)}else ql(a.type)||Ft(a.type)&&c.length>1?l=K6(c,s.interpolate,this.gl,r):l=vd(c,this.gl,a.domain().length,r);this.rangeTextures.set(t,l)}else{const a=t.scale;if(a.type==="ordinal"||ki(a.type)){const s=eu(o)?py(o):l=>l,c=a.range();this.rangeTextures.set(t,J6(c.map(s),this.gl,a.domain().length,r))}}}createSelectionTexture(t,n=!0){if(!fd(t))throw new Error("Not a multi-point selection, cannot create texture");const r=Array.from(t.data.keys()),i=r.length>0?r.sort((c,l)=>c-l):[0],o=this.selectionTextures.get(t),a=this.gl,s=Fs(this.gl,{level:0,minMag:a.NEAREST,format:a.RED_INTEGER,internalFormat:a.R32UI,height:1,width:i.length},new Uint32Array(i),n?o:!1);this.selectionTextures.set(t,s)}}function ek(e,t="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...t.matchAll(r)],o=new Map(i.map((a,s)=>{const c=parseInt(a[1]),l=i[s+1],u=l?l.index:t.length,f=t.substring(a.index,u);return[c-1,f]}));return e.split(`
`).map((a,s)=>{const c=o.get(s);return`${s+1+n}: ${a}${c?`

^^^ ${c}`:""}`}).join(`
`)}function tk(e,t,n){const r=e.createProgram();e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r);function i(){let o,a;if(!e.getProgramParameter(r,e.LINK_STATUS)){o=e.getProgramInfoLog(r);for(const c of[t,n])e.getShaderParameter(c,e.COMPILE_STATUS)||(o=e.getShaderInfoLog(c),a=ek(e.getShaderSource(c),o,0)+`
Error compiling: ${o}`,e.deleteShader(c));e.deleteProgram(r)}if(o)return{message:o,detail:a}}return{program:r,getProgramErrors:i}}function Fs(e,t,n,r){return r?Mm(e,r,n,t):r=os(e,{...t,src:n}),r}function Ry(...e){const t={get(n,r,i){for(const o of e){const s=o()[r];if(s!==void 0)return s}},has(n,r,i){for(const o of e){const a=o();if(r in a)return!0}return!1}};return new Proxy({},t)}function nk(e){return it(e)||jt(e)||Ea(e)}class Li extends Error{constructor(t,n){super(t),this.name="ViewError",this.view=n}}const rk="SAMPLE_FACET_UNIFORM",My="SAMPLE_FACET_TEXTURE",Py="uSelectionTexture_";class Rs{constructor(t){ve(this,$n,[]);this.unitView=t,this.encoders=void 0,this.bufferInfo=void 0,this.bytesPerElement=new Map,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.viewUniformInfo=void 0,this.markUniformInfo=void 0,this.markUniformsAltered=!0,this.selectionTextureOps=[],this.rangeMap=new ik,this.defaultProperties={get clip(){return["x","y"].map(n=>t.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=Ry(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}augmentDefaultProperties(t){Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors(t))}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const t={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(t.uniqueId={field:bn}),t}fixEncoding(t){return t}setupExprRefsNeedingGraphicsUpdate(t){const n=this.getSupportedChannels(),r={};for(const o of t){const a=this.properties[o];if(a&&Yt(a)){const s=this.unitView.paramMediator.createExpression(a.expr);s.addListener(()=>{this.updateGraphicsData(),this.unitView.context.animator.requestRender()}),n.includes(o)||Object.defineProperty(r,o,{get(){return s()}})}}const i=this.properties;this.properties=Ry(()=>r,()=>i)}get encoding(){return iu(this,"encoding",()=>{var a;const t=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=s=>{const c=this.properties[s];return nk(c)||Yt(c)?{value:c}:void 0},i=Object.fromEntries(this.getSupportedChannels().map(s=>[s,r(s)]).filter(s=>yn(s[1]))),o=this.fixEncoding({...t,...i,...n});for(const s of Object.keys(o))this.getSupportedChannels().includes(s)||delete o[s];return o.x&&((a=o.x).buildIndex??(a.buildIndex=!0)),o})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=u6(this.unitView,this.encoding)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return My;if(this.unitView.getLayoutAncestors().find(t=>"samples"in t.spec))return rk}createAndLinkShaders(t,n,r=[]){const i=this.getAttributes(),o=this.encoders,a=this.getSampleFacetMode();a&&r.push(`#define ${a}`);const s="// view: "+this.unitView.getPathString();let c=[];const l=new Set,u=_y(o),f=[],h=Object.values(o).flatMap(C=>C.accessors).map(C=>C.predicate).filter(C=>C.param),d=new Map;for(const C of h){const F=C.param,I=this.unitView.paramMediator,N=I.getValue(F);if(!N)throw new Error(`Cannot infer selection type as the parameter "${F}" has no value. Please ensure that the parameter is properly defined!`);const R=tu+"uniqueId";if(oy(N)){if(!d.has(F)){const P=md+$l(F);d.set(F,"single"),f.push("    // Selection parameter"),f.push(`    uniform highp uint ${P};`),X(this,$n).push(()=>{this.registerMarkUniformValue(P,{expr:F},S=>S.uniqueId??0)}),c.push(`bool ${nu}${F}(bool empty) {
    return ${md}${F} == ${R} || (empty && ${md}${F} == 0u);
}`)}}else if(fd(N)&&!d.has(F)){d.set(F,"multi");const P=Py+$l(F);c.push(`// Selection texture
uniform highp usampler2D ${P};`);const S=this.getContext().glHelper,Z=S.selectionTextures;this.selectionTextureOps.push(()=>{const ce=I.getValue(F),fe=Z.get(ce);if(!fe)throw new Error(`Bug: no selection texture found for "${F}"!`);Ai(this.programInfo,{[P]:fe})});const Q=Py+F;c.push(`bool ${nu}${F}(bool empty) {
   return binarySearchTexture(${Q}, ${R}) || (empty && isEmptyBinarySearchTexture(${Q}));
}`),S.createSelectionTexture(N);const se=I.createExpression(F);se.addListener(()=>{const ce=se(null);S.createSelectionTexture(ce),this.getContext().animator.requestRender()})}}const p=(C,F,I,N)=>{const R=F.channelDef;if(yn(R))if(Yt(R.value)){const{uniformName:P,uniformGlsl:S,accessorGlsl:Z,adjuster:Q}=_6(C,I);c.push(Z),f.push(S),X(this,$n).push(()=>{this.registerMarkUniformValue(P,R.value,Q)})}else c.push(S6(C,I,R.value).accessorGlsl);else if(Ss(R)){const{uniformName:P,uniformGlsl:S,accessorGlsl:Z}=C6(C,N,I);f.push(S),c.push(Z);const{largeHp:Q,discrete:se}=Is(N,C),ce=se&&"domain"in N?fe=>N.domain().indexOf(fe):Q?Sy:fe=>+fe;X(this,$n).push(()=>{this.registerMarkUniformValue(P,R.datum,ce)})}else if(qr(R)){const P=u.get([R.field,!0]),{attributeGlsl:S,accessorGlsl:Z}=by(C,N,I,P!=null&&P.includes(C)?P:void 0);l.add(S),c.push(Z)}else if(_s(R)){const{attributeGlsl:P,accessorGlsl:S}=by(C,N,I);l.add(P),c.push(S)}else throw new Li(`Unsupported channel definition: ${JSON.stringify(R)}`,this.unitView)};for(const[C,F]of Object.entries(o)){if(!i.includes(C))continue;const{channelDef:I,accessors:N,scale:R}=F;for(let P=0;P<N.length;P++)p(C,N[P],P,R);if(R){const P=on(I)&&I.resolutionChannel||C,S=Ts(P)?this.unitView.getScaleResolution(P):null,{glsl:Z,domainUniform:Q,domainUniformName:se,rangeUniform:ce,rangeUniformName:fe}=T6(C,R,I);c.push(Z),f.push(Q),f.push(ce),ce&&X(this,$n).push(()=>{const le=this.createMarkUniformSetter(fe),Ee=()=>le(Cy(R,C));S.addEventListener("range",Ee),Ee()}),Q&&X(this,$n).push(()=>{const le=this.createMarkUniformSetter(se),Ee=()=>{const pe=Gr(R.type)?[0,R.domain().length]:R.domain();le(Ey(R.type)?R6(pe):pe)};S.addEventListener("domain",Ee),Ee()})}c.push(D6(C,N))}const b=[...d.keys()].map(C=>`${nu}${C}(false)`);c.push(`bool isPointSelected() {
`+(this.encoders.uniqueId&&b.length>0?`    return ${b.join(" || ")};`:"    return false;")+`
}`);const v=`precision highp float;
precision highp int;`,y=C=>C.replace("#pragma markUniforms",f.join(`
`));r=r.map(y),t=y(t),n=y(n);const A=[v,s,...r,Iy,j6,[...l].join(`
`),...c,W6,Z6,t],_=[v,s,...r,Iy,Y6,n],E=this.gl;this.programStatus=tk(E,this.glHelper.compileShader(E.VERTEX_SHADER,A),this.glHelper.compileShader(E.FRAGMENT_SHADER,_))}finalizeGraphicsInitialization(){const t=this.programStatus.getProgramErrors();if(t){t.detail&&console.warn(t.detail);const n=new Error("Cannot create shader program: "+t.message);throw n.view=this.unitView,n}this.programInfo=L4(this.gl,this.programStatus.program),delete this.programStatus,this.viewUniformInfo=s1(this.gl,this.programInfo,"View"),this.markUniformInfo=s1(this.gl,this.programInfo,"Mark"),this.gl.useProgram(this.programInfo.program),Ai(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0,uZero:0});for(const n of X(this,$n))n();Pe(this,$n,void 0)}createMarkUniformSetter(t){const n=this.markUniformInfo.setters[t];if(!n)throw new Error(`Uniform "${t}" not found int the Mark block!`);return r=>{n(r),this.markUniformsAltered=!0,this.unitView.context.animator.requestRender()}}registerMarkUniformValue(t,n,r=i=>i){const i=this.createMarkUniformSetter(t),o=a=>{if(a==null)throw new Error(`Trying to set null/undefined value for uniform: ${t}${Yt(n)?`Expr: ${n.expr}`:""}`);i(a)};if(Yt(n)){const a=this.unitView.paramMediator.createExpression(n.expr),s=()=>o(r(a(null)));a.addListener(s),s()}else o(r(n))}deleteGraphicsData(){const t=this.gl;if(this.vertexArrayInfo&&(this.gl.bindVertexArray(null),t.deleteVertexArray(this.vertexArrayInfo.vertexArrayObject),this.vertexArrayInfo=void 0),this.bufferInfo){for(let n=0;n<8;n++)t.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(t){if(this.gl.bindVertexArray(null),this.bufferInfo&&t.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(t.arrays))r.data&&Y3(this.gl,this.bufferInfo.attribs[n],r.data,0);else{this.deleteGraphicsData(),this.bufferInfo=K3(this.gl,t.arrays,{numElements:t.vertexCount}),this.bufferInfo.allocatedVertices=t.allocatedVertices;for(const[n,r]of Object.entries(t.arrays))this.bytesPerElement.set(n,r.data.BYTES_PER_ELEMENT)}}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null&&!this.unitView.paramMediator.hasPointSelections())return!1;for(const t of this.unitView.getLayoutAncestors())if(!t.isPickingSupported())return!1;return!0}bindOrSetMarkUniformBlock(){this.markUniformsAltered?(l1(this.gl,this.programInfo,this.markUniformInfo),this.markUniformsAltered=!1):c1(this.gl,this.programInfo,this.markUniformInfo)}prepareRender(t){const n=this.glHelper,r=this.gl,i=[];i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=nT(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)});for(const[a,s]of Object.entries(this.encoding))if(on(s)){const c=on(s)&&s.resolutionChannel||a;if(Ts(c)){const l=this.unitView.getScaleResolution(c),u=n.rangeTextures.get(l);u&&i.push(()=>Ai(this.programInfo,{[gd+a]:u}))}}i.push(...this.selectionTextureOps),this.getSampleFacetMode()==My&&i.push(()=>{let a;for(const s of this.unitView.getLayoutAncestors())if(a=s.getSampleFacetTexture(),a)break;if(!a)throw new Error("No facet texture available. This is bug.");Ai(this.programInfo,{uSampleFacetTexture:a})});const o=(t.picking??!1)&&this.isPickingParticipant();return i.push(()=>as(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:o})),this.opaque||t.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(t){const n=t.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,o=n.locSize?n.locSize.size:1;if(i>1||i+o<0)return!1;const a=n.targetLocSize?n.targetLocSize.location:i,s=n.targetLocSize?n.targetLocSize.size:o;this.gl.uniform4f(r.location,i,o,a,s)}return!0}render(t){}createRenderCallback(t,n){var f;if(!this.bufferInfo)return()=>{};const r=this;let i;const o=(f=this.unitView.getScaleResolution("x"))==null?void 0:f.scale,a=o&&Ft(o.type),s=["index","locus"].includes(o==null?void 0:o.type)?-1:0,c=[0,0];i=h=>{if(a&&h.xIndex){const d=o.domain(),p=h.xIndex(d[0]+s,d[1],c),b=p[0],v=p[1]-b;v>0&&t(b,v)}else t(h.offset,h.count)};const l=this.rangeMap.get(void 0).count==0?n.facetId:void 0,u=this.rangeMap.get(l);return n.sampleFacetRenderingOptions?function(){u.count&&r.prepareSampleFacetRendering(n)&&i(u)}:function(){u.count&&i(u)}}setViewport(t,n){t=t.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,o=this.properties,a=this.glHelper.getLogicalCanvasSize(),s=.5,c=(o.xOffset??0)+s,l=(o.yOffset??0)+s;let u,f=t;if(o.clip!=="never"&&(o.clip||n)){let h=0,d=0,p;if(n){if(f=t.intersect(n).flatten(),!f.isDefined())return!1;p=[t.width/f.width,t.height/f.height],d=Math.max(0,t.y2-n.y2),h=Math.min(0,t.x-n.x)}else p=[1,1];const b=[f.x,a.height-f.y2,f.width,f.height].map(_=>_*r),v=b.map(_=>Math.floor(_)),y=b[0]-v[0],A=b[1]-v[1];i.viewport(...v),i.scissor(...v),i.enable(i.SCISSOR_TEST),u={uViewOffset:[(c+h+y/r)/f.width,-(l+d-A/r)/f.height],uViewScale:p}}else{if(!t.isDefined())return!1;i.viewport(0,0,a.width*r,a.height*r),i.disable(i.SCISSOR_TEST),u={uViewOffset:[(t.x+c)/a.width,(a.height-t.y-l-t.height)/a.height],uViewScale:[t.width/a.width,t.height/a.height]}}return as(this.viewUniformInfo,{...u,uViewportSize:[t.width,t.height],uDevicePixelRatio:r}),l1(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(t,n){}}$n=new WeakMap;class ik extends tr{constructor(){super([],JSON.stringify)}get(t){let n=super.get(t);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(t,n)),n}migrateEntries(t){for(const[n,r]of this.entries())t.has(n)||(r.offset=0,r.count=0,r.xIndex=void 0);for(const[n,r]of t.entries())Object.assign(this.get(n),r)}}function Ad(e,t){const n=b6(t);let r=e[t]&&{...e[t]},i=e[n]&&{...e[n]};if(!(yn(r)||yn(i))){if(r){if(!on(e[t]))return;if(i){if(r.type!="quantitative"){const o=(1-(r.band||1))/2;r.band=o,i.band=-o}}else if(r.type=="quantitative")i={datum:0,contributesToScaleDomain:!1};else{i={...r};const o=(1-(r.band??1))/2;r.band=0+o,i.band=1-o}}else r={value:0},i={value:1};e[t]=r,e[n]=i}}function Ly(e,t){e.stroke||(t?e.stroke={value:null}:e.stroke={resolutionChannel:"color",...e.color}),yn(e.stroke)&&e.stroke.value===null&&(e.strokeWidth={value:0}),e.strokeOpacity||(e.strokeOpacity={resolutionChannel:"opacity",...e.opacity})}function Oy(e,t){yn(e.fill)&&e.fill.value===null?e.fillOpacity={value:0}:e.fill||(e.fill={resolutionChannel:"color",...e.color},!t&&!e.fillOpacity&&(e.fillOpacity={value:0})),e.fillOpacity||(t?e.fillOpacity={resolutionChannel:"opacity",...e.opacity}:e.fillOpacity={value:0})}class ok extends Rs{constructor(n){super(n);ve(this,ni);this.augmentDefaultProperties({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return iu(this,"opaque",()=>!he(this,ni,Sp).call(this)&&!he(this,ni,_p).call(this)&&yn(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(n){return Ad(n,"x"),Ad(n,"y"),Ly(n,this.properties.filled),Oy(n,this.properties.filled),delete n.color,delete n.opacity,n}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}async initializeGraphics(){await super.initializeGraphics();const n=[];he(this,ni,Sp).call(this)&&n.push("ROUNDED_CORNERS"),he(this,ni,_p).call(this)&&n.push("STROKED"),this.createAndLinkShaders(sT,cT,[lT,...n.map(r=>"#define "+r)])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uMinWidth",n.minWidth),this.registerMarkUniformValue("uMinHeight",n.minHeight),this.registerMarkUniformValue("uMinOpacity",n.minOpacity),this.registerMarkUniformValue("uCornerRadiusTopRight",n.cornerRadiusTopRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomRight",n.cornerRadiusBottomRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusTopLeft",n.cornerRadiusTopLeft??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomLeft",n.cornerRadiusBottomLeft??n.cornerRadius??0)}updateGraphicsData(){const n=this.unitView.getCollector();if(!n){console.debug("No collector");return}const r=n.getItemCount(),i=new U6({encoders:this.encoders,attributes:this.getAttributes(),numItems:r});i.addBatches(n.facetBatches);const o=i.toArrays();this.rangeMap.migrateEntries(o.rangeMap),this.updateBufferInfo(o)}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Ei(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,o)=>{Dl(r,this.vertexArrayInfo,r.TRIANGLE_STRIP,o,i)},n)}findDatumAt(n,r){n=Kt(n);const i=this.unitView.getCollector().facetBatches.get(n);if(!i)return;const o=this.encoders,a=o.x.scale.type;if(Gr(a)){const s=o.x.dataAccessor;return i.find(c=>r==s(c))}else{const s=o.x.dataAccessor,c=o.x2.dataAccessor;return i.find(l=>r>=s(l)&&r<c(l))}}}ni=new WeakSet,Sp=function(){const n=this.properties;return n.cornerRadius||n.cornerRadiusBottomLeft||n.cornerRadiusBottomRight||n.cornerRadiusTopLeft||n.cornerRadiusTopRight},_p=function(){const n=this.encoding.strokeWidth;return!(yn(n)&&!n.value)||"condition"in n};const ak=`out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;

// Copypaste from fragment shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TRIANGLE_RIGHT = 5.0;
const float TRIANGLE_DOWN = 6.0;
const float TRIANGLE_LEFT = 7.0;
const float TICK_UP = 8.0;
const float TICK_RIGHT = 9.0;
const float TICK_DOWN = 10.0;
const float TICK_LEFT = 11.0;

float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {
    float shapeAngle = 0.0;

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor;

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

    if (vShape > TICK_UP && vShape <= TICK_LEFT) {
        shapeAngle = (vShape - TICK_UP) * 90.0;
        vShape = TICK_UP;
    } else if (vShape > TRIANGLE_UP && vShape <= TRIANGLE_LEFT) {
        shapeAngle = (vShape - TRIANGLE_UP) * 90.0;
        vShape = TRIANGLE_UP;
    }

	float angleInDegrees = getScaled_angle();
	float angle = -(shapeAngle + angleInDegrees) * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    // Not needed if we would draw rotated quads instead of gl.POINTS
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;

    gl_PointSize = max(
        (diameter + padding),
        uPickingEnabled ? uMinPickingSize : 0.0
    ) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,sk=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

// Copypaste from vertex shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TICK_UP = 8.0;

// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float tickUp(vec2 p, float r) {
    float halfR = r * 0.5;
    p.y += halfR;
    p = abs(p);
    return max(p.x - r * 0.15, p.y - halfR);
}

float equilateralTriangle(vec2 p, float r) {
    p.y = -p.y;
    float k = sqrt(3.0);
    float kr = k * r;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r);

    } else if (vShape == TICK_UP) {
        d = tickUp(p, r);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,ck=`layout(std140) uniform Mark {
    /**
    * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
    * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
    * geometric zoom, etc.
    */
    uniform bool uInwardStroke;

    /** The minimum point size in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    /** Scale factor for geometric zoom */
    uniform mediump float uScaleFactor;

    uniform mediump float uZoomLevel;
    uniform highp float uSemanticThreshold;

    uniform mediump float uGradientStrength;

#pragma markUniforms
};
`;class Ny extends vt{constructor(t){super(t),this.params=t,this.k=t.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(t){this.reservoir.push(t),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(t){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=t,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(t){this.ingester(t)}complete(){for(const t of this.reservoir)this._propagate(t);super.complete()}}function lk(e,t,n){const r=new Ny({type:"sample",size:e});for(const i of t)r.handle(n(i));return r.complete(),r.reservoir}const uk={};class fk extends Rs{constructor(n){super(n);ve(this,Zu);ve(this,sa,()=>0);this.augmentDefaultProperties({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02,minPickingSize:2});const r=this.properties.semanticZoomFraction;if(r!=null)if(Yt(r)){const i=this.unitView.paramMediator.createExpression(r.expr);i.addListener(()=>this.getContext().animator.requestRender()),Pe(this,sa,i)}else Pe(this,sa,()=>r)}getAttributes(){return["uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...uk}}fixEncoding(n){return Ly(n,this.properties.filled),Oy(n,this.properties.filled),delete n.color,delete n.opacity,n}initializeData(){var r,i;super.initializeData();const n=(i=(r=this.encoders.semanticScore)==null?void 0:r.dataAccessor)==null?void 0:i.asNumberAccessor();n&&(this.sampledSemanticScores=Float32Array.from(lk(1e4,this.unitView.getCollector().getData(),n)),this.sampledSemanticScores.sort((o,a)=>o-a))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(ak,sk,[ck])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uInwardStroke",n.inwardStroke,r=>!!r),this.registerMarkUniformValue("uGradientStrength",n.fillGradientStrength),this.registerMarkUniformValue("uMinPickingSize",n.minPickingSize)}updateGraphicsData(){const n=this.unitView.getCollector();if(!n){console.debug("No collector");return}const r=n.getItemCount(),i=new H6({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(r,this.properties.minBufferSize||0)});i.addBatches(n.facetBatches);const o=i.toArrays();this.rangeMap.migrateEntries(o.rangeMap),this.updateBufferInfo(o)}getSemanticThreshold(){if(this.sampledSemanticScores){const n=Math.max(0,1-X(this,sa).call(this)*this.unitView.getZoomLevel());if(n<=0)return-1/0;if(n>=1)return 1/0;{const r=this.sampledSemanticScores;return Sg(r,n)}}else return-1}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>{as(this.markUniformInfo,{uScaleFactor:he(this,Zu,Y2).call(this),uSemanticThreshold:this.getSemanticThreshold()}),this.markUniformsAltered=!0}),r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Ei(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,o)=>{o&&Dl(r,this.vertexArrayInfo,r.POINTS,o,i)},n)}}sa=new WeakMap,Zu=new WeakSet,Y2=function(){const n=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/n),1/3)};const hk=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,dk=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,pk=`layout(std140) uniform Mark {
    /** Minimum rule length in pixels */
    uniform mediump float uMinLength;

    uniform mediump float uDashTextureSize;
    uniform lowp int uStrokeCap;
    uniform mediump float uStrokeDashOffset;

#pragma markUniforms
};
`;class gk extends Rs{constructor(t){super(t),this.dashTextureSize=0,this.augmentDefaultProperties({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"})}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){if(!(t.x&&t.y&&t.x2&&t.y2))if(t.x&&t.x2&&!t.y)t.y={value:.5},t.y2=t.y;else if(t.y&&t.y2&&!t.x)t.x={value:.5},t.x2=t.x;else if(t.x&&!t.y)t.y={value:0},t.y2={value:1},t.x2=t.x;else if(t.y&&!t.x)t.x={value:0},t.x2={value:1},t.y2=t.y;else if(t.x&&t.y&&t.y2)t.x2=t.x;else if(t.y&&t.x&&t.x2)t.y2=t.y;else if(t.y&&t.x)if(!t.x2&&on(t.y)&&t.y.type=="quantitative")t.x2=t.x,t.y2={datum:0};else if(!t.y2&&on(t.x)&&t.x.type=="quantitative")t.y2=t.y,t.x2={datum:0};else throw new Error("A bug!");else throw new Error("At a minimum, either the x or y channel must be defined in the rule mark's encoding: "+JSON.stringify(t));return t}async initializeGraphics(){await super.initializeGraphics();const t=this.gl,n=mk(this.properties.strokeDash);this.dashTexture=os(t,{level:0,mag:t.NEAREST,min:t.NEAREST,internalFormat:t.R8,format:t.RED,src:n,height:1}),this.dashTextureSize=n.length,this.createAndLinkShaders(hk,dk,[pk])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uMinLength",t.minLength),this.registerMarkUniformValue("uStrokeCap",t.strokeCap??"butt",n=>["butt","square","round"].indexOf(n)),as(this.markUniformInfo,{uDashTextureSize:+this.dashTextureSize}),this.markUniformsAltered=!0}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getItemCount(),r=new G6({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(t.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),n.push(()=>Ai(this.programInfo,{uDashTexture:this.dashTexture})),n.push(()=>Ei(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>Dl(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),t)}}function mk(e){if(!e)return new Uint8Array(0);if(e.length==0||e.length%2||e.findIndex(o=>Math.round(o)!=o||o<1||o>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(e));const t=e.reduce((o,a)=>o+a),n=new Uint8Array(t);let r=!0,i=0;for(let o of e){for(;o;)n[i++]=r&&255||0,o--;r=!r}return n}const bk=`out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

out float vGamma;

const int SHAPE_ARC = 0;
const int SHAPE_DOME = 1;
const int SHAPE_DIAGONAL = 2;
const int SHAPE_LINE = 3;
const int ORIENT_VERTICAL = 0;
const int ORIENT_HORIZONTAL = 1;

float distanceFromLine(vec2 pointOnLine1, vec2 pointOnLine2, vec2 point) {
    vec2 a = point - pointOnLine1;
    vec2 b = pointOnLine2 - pointOnLine1;
    vec2 proj = dot(a, b) / dot(b, b) * b;
    return length(a - proj);
}

bool isInsideViewport(vec2 point, float marginFactor) {
    vec2 margin = uViewportSize * vec2(marginFactor);
    return point.x >= -margin.x
        && point.x <= uViewportSize.x + margin.x
        && point.y >= -margin.y
        && point.y <= uViewportSize.y + margin.y;
}

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    // The bezier's control points
    vec2 p1, p2, p3, p4;

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y())) * uViewportSize;
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2())) * uViewportSize;

    if (uShape <= SHAPE_DOME) {
        if (uShape == SHAPE_DOME) {
            vec2 height = vec2(0.0);
            if (uOrient == ORIENT_VERTICAL) {
                p1 = vec2(min(a.x, b.x), b.y);
                p4 = vec2(max(a.x, b.x), b.y);
                height = vec2(0.0, a.y - b.y);

                if (uClampApex) {
                    if (p4.x > 0.0) {
                        p1.x = max(p1.x, -p4.x);
                    }
                    if (p1.x < uViewportSize.x) {
                        p4.x = min(p4.x, 2.0 * uViewportSize.x - p1.x);
                    }
                }

            } else {
                p1 = vec2(b.x, min(a.y, b.y));
                p4 = vec2(b.x, max(a.y, b.y));
                height = vec2(a.x - b.x, 0.0);

                if (uClampApex) {
                    if (p4.y > 0.0) {
                        p1.y = max(p1.y, -p4.y);
                    }
                    if (p1.y < uViewportSize.y) {
                        p4.y = min(p4.y, 2.0 * uViewportSize.y - p1.y);
                    }
                }
            }

            vec2 controlOffset = height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;

        } if (uShape == SHAPE_ARC) {
            p1 = a;
            p4 = b;

            vec2 chordVector = p4 - p1;
            vec2 unitChordVector = normalize(chordVector);
            vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);
            float chordLength = length(chordVector);

            if (chordLength > uMaxChordLength) {
                if (isInsideViewport(p1, 2.0)) {
                    chordLength = uMaxChordLength;
                    p4 = p1 + unitChordVector * uMaxChordLength;
                } else if (isInsideViewport(p4, 2.0)) {
                    chordLength = uMaxChordLength;
                    p1 = p4 - unitChordVector * uMaxChordLength;
                }
            }

            float height = max(
                chordLength / 2.0 * uArcHeightFactor,
                uMinArcHeight
            );

            // This is a bit poor approximation of a circular arc, but it's probably enough for most purposes.
            // TODO: Consider a more sophisticated approach: https://stackoverflow.com/a/44829356/1547896
            vec2 controlOffset = chordNormal * height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;
        }

    } else if (uShape == SHAPE_DIAGONAL) {
        if (uOrient == ORIENT_VERTICAL) {
            p1 = a;
            p2 = vec2(a.x, (a.y + b.y) / 2.0);
            p3 = vec2(b.x, (a.y + b.y) / 2.0);
            p4 = b;
        } else {
            p1 = a;
            p2 = vec2((a.x + b.x) / 2.0, a.y);
            p3 = vec2((a.x + b.x) / 2.0, b.y);
            p4 = b;
        }
    } else if (uShape == SHAPE_LINE) {
        p1 = a;
        p2 = (a + b) / 2.0;
        p3 = p2;
        p4 = b;
    }

    vec2 strip = vec2(
        float(gl_VertexID / 2) / float(uSegmentBreaks),
        float(gl_VertexID % 2) - 0.5
    );

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    float size = getScaled_size();

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    // Handle minimum picking size or add an extra pixel to the stroke width to accommodate edge antialiasing
    float paddedSize = uPickingEnabled
        ? max(size, uMinPickingSize)
        : size + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    if (uShape == SHAPE_ARC &&
        uArcFadingDistance[0] > 0.0 &&
        uArcFadingDistance[1] > 0.0 &&
        (!uNoFadingOnPointSelection || !isPointSelected()))
    {
        float d = distanceFromLine(p1, p4, p);
        float distanceOpacity = smoothstep(uArcFadingDistance[1], uArcFadingDistance[0], d);    

        // Fade out
        opacity *= distanceOpacity;

        // Collapse fully transparent triangles to skip fragment processing 
        if (distanceOpacity <= 0.0) {
            vNormalLengthInPixels = 0.0;
        }
    }

    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

    vec3 color = getScaled_color();

    vColor = vec4(color * opacity, opacity);

    vGamma = getGammaForColor(color);

    vSize = paddedSize;

    setupPicking();
}
`,yk=`in vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;
in float vGamma;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    opacity = pow(opacity, vGamma);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,xk=`layout(std140) uniform Mark {
    uniform float uArcHeightFactor;

    /** Make very small arcs visible */
    uniform float uMinArcHeight;

    /** The minimum stroke width in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    uniform int uShape;
    uniform int uOrient;
    uniform bool uClampApex;

    // In pixels
    uniform float uMaxChordLength;
    // In pixels
    uniform vec2 uArcFadingDistance;
    uniform bool uNoFadingOnPointSelection;

    uniform int uSegmentBreaks;

#pragma markUniforms
};
`,wk=["arc","dome","diagonal","line"],vk=["vertical","horizontal"];class Ak extends Rs{constructor(t){super(t),this.augmentDefaultProperties({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,arcHeightFactor:1,minArcHeight:1.5,minPickingSize:3,clampApex:!1,maxChordLength:5e4,arcFadingDistance:!1,noFadingOnPointSelection:!0,linkShape:"arc",orient:"vertical"}),this._baseInstanceExt=this.gl.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){return t.x2||(on(t.x)?t.x2={datum:0}:t.x2=t.x),t.y2||(on(t.y)?t.y2={datum:0}:t.y2=t.y),t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(bk,yk,[xk])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uArcFadingDistance",t.arcFadingDistance,n=>n||[0,0]),this.registerMarkUniformValue("uArcHeightFactor",t.arcHeightFactor),this.registerMarkUniformValue("uMinArcHeight",t.minArcHeight),this.registerMarkUniformValue("uMinPickingSize",t.minPickingSize),this.registerMarkUniformValue("uShape",t.linkShape,n=>wk.indexOf(n)),this.registerMarkUniformValue("uOrient",t.orient,n=>vk.indexOf(n)),this.registerMarkUniformValue("uClampApex",t.clampApex,n=>!!n),this.registerMarkUniformValue("uMaxChordLength",t.maxChordLength),this.registerMarkUniformValue("uSegmentBreaks",t.segments,n=>n),this.registerMarkUniformValue("uNoFadingOnPointSelection",t.noFadingOnPointSelection,n=>!!n)}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getItemCount(),r=new V6({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(t.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([o,a])=>[o,{...a,data:void 0}])),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),this._baseInstanceExt?n.push(()=>Ei(this.gl,this.programInfo,this.vertexArrayInfo)):n.push(()=>this.gl.bindVertexArray(null)),n}render(t){const n=this.gl,r=()=>(this.markUniformInfo.uniforms.uSegmentBreaks[0]+1)*2;return this._baseInstanceExt?this.createRenderCallback((i,o)=>{this._baseInstanceExt.drawArraysInstancedBaseInstanceWEBGL(n.TRIANGLE_STRIP,0,r(),o,i)},t):this.createRenderCallback((i,o)=>{for(const a of Object.entries(this.bufferInfo.attribs)){const[s,c]=a;c.buffer&&c.numComponents&&c.divisor&&(c.offset=i*this.arrays[s].numComponents*this.bytesPerElement.get(s))}Ei(n,this.programInfo,this.bufferInfo),n.drawArraysInstanced(n.TRIANGLE_STRIP,0,r(),o)},t)}}const Ek=`in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

// Width of the text (all letters)
in float width;

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;
out float vGamma;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vec3 color = getScaled_color();

    // Premultiply alpha
    vColor = vec4(color * opacity, opacity);

    // Do something like gamma correction for text when the color is close to black or white.
    vGamma = getGammaForColor(color);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,Sk=`uniform sampler2D uTexture;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;
in float vGamma;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    opa *= clamp(vEdgeFadeOpacity, 0.0, 1.0);

    opa = pow(opa, vGamma);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,_k=`layout(std140) uniform Mark {
    uniform mediump float uSdfNumerator;

    uniform mediump vec2 uD; // dx & dy

    uniform mediump vec4 uViewportEdgeFadeWidth;
    uniform mediump vec4 uViewportEdgeFadeDistance;
        
    uniform bool uSqueeze;
    uniform bool uLogoLetter;

    // x: -1, 0, 1 = left, center, right
    // y: -1, 0, 1 = top, middle, bottom 
    uniform lowp ivec2 uAlign;

    uniform mediump float uPaddingX;
    uniform bool uFlushX;
    uniform mediump float uPaddingY;
    uniform bool uFlushY;

#pragma markUniforms
};
`,Ck={left:-1,center:0,right:1},Tk={top:-1,middle:0,bottom:1,alphabetic:1};class Dk extends Rs{constructor(t){super(t),this.augmentDefaultProperties({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0}),this.font=this.properties.font?t.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):t.context.fontManager.getDefaultFont(),this.setupExprRefsNeedingGraphicsUpdate(["text","fitToBand","logoLetters"])}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(t){for(const n of Io)this.properties.fitToBand&&Ad(t,n);return t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(Ek,Sk,[_k])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uSdfNumerator",{expr:"devicePixelRatio"},n=>{let r=.35;return this.properties.logoLetters&&(r/=2),this.font.metrics.common.base/(n/r)}),this.registerMarkUniformValue("uPaddingX",t.paddingX),this.registerMarkUniformValue("uPaddingY",t.paddingY),this.registerMarkUniformValue("uFlushX",t.flushX,n=>!!n),this.registerMarkUniformValue("uFlushY",t.flushY,n=>!!n),this.registerMarkUniformValue("uSqueeze",t.squeeze,n=>!!n),as(this.markUniformInfo,{uAlign:[Ck[t.align],Tk[t.baseline]],uD:[t.dx,-t.dy],uLogoLetter:!!t.logoLetters,uViewportEdgeFadeWidth:[t.viewportEdgeFadeWidthTop,t.viewportEdgeFadeWidthRight,t.viewportEdgeFadeWidthBottom,t.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[t.viewportEdgeFadeDistanceTop,t.viewportEdgeFadeDistanceRight,t.viewportEdgeFadeDistanceBottom,t.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const t=this.unitView.getCollector();if(!t){console.debug("No collector");return}const n=t.getData(),r=this.encoding,i=this.encoders.text;let o=0;const a="format"in r.text?Ot(r.text.format):l=>l;for(const l of n){const u=a(i(l)),f=it(u)?u:u===null?"":""+u;o+=f&&f.length||0}const s=new q6({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(o,this.properties.minBufferSize||1024)});s.addBatches(t.facetBatches);const c=s.toArrays();this.rangeMap.migrateEntries(c.rangeMap),this.updateBufferInfo(c)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>{Ai(this.programInfo,{uTexture:this.font.texture})}),n.push(()=>this.bindOrSetMarkUniformBlock()),n.push(()=>Ei(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>Dl(n,this.vertexArrayInfo,n.TRIANGLES,i,r),t)}}const zy=1;function Ed(){let e=[0,1],t=[0,1],n=1,r=1,i=0,o=0,a=.5,s=0;const l=u=>(u+a-e[0])/n*r+t[0];return l.invert=u=>(u-t[0])/r*n+e[0]-a,l.domain=function(u){if(arguments.length){e=dS(u),n=e[1]-e[0];const f=e[0]===0&&e[0]===0;if(n<zy&&!f){n=zy;const h=(e[0]+e[1])/2;e[0]=h-n/2,e[1]=h+n/2}return l}else return e.slice()},l.range=function(u){return arguments.length?(t=[...u],r=t[1]-t[0],l):t},l.numberingOffset=function(u){return arguments.length?(s=u,l):s},l.padding=function(u){return arguments.length?(o=u,i=Math.min(1,u),l):i},l.paddingInner=function(u){return arguments.length?(i=Math.min(1,u),l):i},l.paddingOuter=function(u){return arguments.length?(o=u,l):o},l.align=function(u){return arguments.length?(a=Math.max(0,Math.min(1,u)),l):a},l.step=()=>r/n,l.bandwidth=()=>l.step(),l.ticks=u=>{const f=l.align(),h=l.numberingOffset();return Xc(e[0]-f+h,e[1]-f+h,Math.min(u,Math.ceil(n))).filter(Number.isInteger).map(d=>d-s)},l.tickFormat=(u,f)=>{if(f)throw new Error("Index scale's tickFormat does not support a specifier!");const d=pi(e[0],e[1],Math.min(u,Math.ceil(n)))<1e5?Ot(","):Ot(".3s");return p=>d(p+s)},l.copy=()=>Ed().domain(e).range(t).paddingInner(i).paddingOuter(o).numberingOffset(s),l}function Ik(){const e=Ed().numberingOffset(1);let t;e.genome=function(r){return arguments.length?(t=r,e):t},e.ticks=r=>{if(!t)return[];const i=e.domain(),o=e.numberingOffset(),[a,s]=[Math.max(i[0],0),Math.min(i[1],t.totalSize-1)].map(u=>t.toChromosome(u)),c=Math.max(1,pi(i[0],i[1],r)),l=[];for(let u=a.index;u<=s.index;u++){const f=t.chromosomes[u],h=Math.max(f.continuousStart+c,i[0]-(i[0]-f.continuousStart)%c),d=Math.min(f.continuousEnd-c/4,i[1]+1);for(let p=h;p<=d;p+=c){const b=p-o;b>=i[0]&&b<i[1]&&l.push(b)}}return l},e.tickFormat=(r,i)=>{if(!t)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const o=e.domain(),a=o[1]-o[0],s=e.numberingOffset(),l=pi(o[0],o[1],Math.min(r,Math.ceil(a)))<1e6?Ot(","):Ot(".3s"),u=f=>f-t.toChromosome(f).continuousStart;return f=>l(u(f)+s)};const n=e.copy;return e.copy=()=>n().genome(t),e}function kk(e){return e.type=="locus"}function au(e,t,n){if(n=n||[],e.some(a=>a===null)){if(e.every(a=>a===null))return null;throw console.warn(e),new Error("Cannot merge objects with nulls!")}const r={},i=(a,s)=>a===s||Bo(a)&&Bo(s)||Bo(a)&&s===!0||a===!0&&Lt(s),o=a=>{for(let s in a){const c=a[s];if(!n.includes(s)&&c!==void 0)if(r[s]!==void 0&&!i(r[s],c))console.warn(`Conflicting property ${s} of ${t}: (${JSON.stringify(r[s])} and ${JSON.stringify(a[s])}). Using ${JSON.stringify(r[s])}.`);else{const l=r[s];if(Bo(l))Bo(c)&&(r[s]=au([l,c],s));else if(Bo(c)){if(!(l===!0||l===void 0))throw new Error("Bug in merge! Target is: "+l);r[s]=au([{},c],s)}else r[s]=c}}};for(const a of e)o(a);return r}function Bo(e){return Lt(e)&&!Array.isArray(e)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function Uy(e,t,n){return jt(t)&&n!=null&&(t=Math.min(t,~~(Vc(e.domain())/n)||1)),Lt(t)&&(t.step,t=t.interval),t}function Gy(e,t,n){var r=e.range(),i=Math.floor(r[0]),o=Math.ceil(Tn(r));if(i>o&&(r=o,o=i,i=r),t=t.filter(function(s){return s=e(s),i<=s&&s<=o}),n>0&&t.length>1){for(var a=[t[0],Tn(t)];t.length>n&&t.length>=3;)t=t.filter(function(s,c){return!(c%2)});t.length<3&&(t=a)}return t}function Bk(e,t){return e.bins?Gy(e,Fk(e.bins,t)):e.ticks?e.ticks(t):e.domain()}function Fk(e,t){var n=e.length,r=~~(n/(t||n));return r<2?e.slice():e.filter(function(i,o){return!(o%r)})}function Rk(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):n?Ot(n):String;if(Rb(e.type)){var i=Pk(n);r=e.bins?i:Mk(r,i)}return r}function Mk(e,t){return function(n){return e(n)?t(n):""}}function Pk(e){var t=uo(e||",");if(t.precision==null){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1;break}return Lk(Ot(t),Ot(".1f")(1)[1])}else return Ot(t)}function Lk(e,t){return function(n){var r=e(n),i=r.indexOf(t),o,a;if(i<0)return r;for(o=Ok(r,i),a=o<r.length?r.slice(o):"";--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+a}}function Ok(e,t){var n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const Nk="locus",zk="index";var Uk=5;function Gk(e){const t=e.type;return!e.bins&&(t===Co||t===hs||t===ds)}function Hy(e){return Ft(e)&&![jn,zk,Nk].includes(e)}function Vy(e){return e||{warn:(t,...n)=>console.warn(t,...n)}}var Hk=qc(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function qy(e,t,n){n=Vy(n);for(const r in e)if(!Hk[r]){if(r==="padding"&&Hy(t.type))continue;dn(t[r])?t[r](e[r]):n.warn("Unsupported scale property: "+r)}Xk(t,e,Qk(t,e,Wk(t,e,n)))}function Vk(e,t){const n=qk(e),r=Xe(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!e.domain&&Ft(i.type)&&(e.domain=[0,0]),qy(e,i,t),i}function qk(e){var t=e.type,n="",r;return t===jn?jn+"-"+Co:(jk(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?jn+"-":r===3?To+"-":""),(n+t||Co).toLowerCase())}function jk(e){const t=e.type;return Ft(t)&&t!==_b&&t!==Cb&&(e.scheme||e.range&&e.range.length&&e.range.every(it))}function Wk(e,t,n){if(!e.domain)return 0;n=Vy(n);var r=Zk(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,a=t.zero||t.zero===void 0&&Gk(e),s,c;return i?(Hy(o)&&t.padding&&i[0]!==Tn(i)&&(i=Yk(o,i,t.range,t.padding,t.exponent,t.constant)),(a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null&&(c=t.domainMid,(c<i[0]||c>i[s])&&n.warn("Scale domainMid exceeds domain min or max.",c),i.splice(s,0,c))),e.domain(jy(o,i,n)),o===Qh&&e.unknown(t.domainImplicit?mh:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Uy(e,t.nice)||null),i.length):0}function Zk(e,t,n){return t?(e.domain(jy(e.type,t,n)),t.length):-1}function Yk(e,t,n,r,i,o){n??(n=[0,1]);var a=Math.abs(Tn(n)-n[0]),s=a/(a-2*r),c=e===Ur?Wp(t,null,s):e===ds?tf(t,null,s,.5):e===hs?tf(t,null,s,i||1):e===Hl?gE(t,null,s,o||1):jp(t,null,s);return t=t.slice(),t[0]=c[0],t[t.length-1]=c[1],t}function jy(e,t,n){if(Rb(e)){var r=Math.abs(t.reduce(function(i,o){return i+(o<0?-1:o>0?1:0)},0));r!==t.length&&n.warn("Log scale domain includes zero: "+rf(t))}return t}function Qk(e,t,n){let r=t.bins;if(r&&!Bt(r)){const i=(r.start==null||r.stop==null)&&e.domain(),o=r.start==null?i[0]:r.start,a=r.stop==null?Tn(i):r.stop,s=r.step;s||yt("Scale bins parameter missing step property."),r=Pa(o,a+s,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===Kh&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Xk(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=Kk(r,t,n);else if(t.scheme&&(o=Jk(r,t,n),dn(o))){if(e.interpolator)return e.interpolator(o);yt(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&ql(r))return e.interpolator(jl(Sd(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(Mb(t.interpolate,t.interpolateGamma)):dn(e.round)?e.round(i):dn(e.rangeRound)&&e.interpolate(i?us:Nr),o&&e.range(Sd(o,t.reverse))}function Kk(e,t,n){e!==Ib&&e!==Xh&&yt("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===Xh?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Zh(n,i,r)]}function Jk(e,t,n){var r=t.schemeExtent,i,o;return Bt(t.scheme)?o=jl(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=$h(i),o||yt(`Unrecognized scheme name: ${t.scheme}`)),n=e===Db?n+1:e===Kh?n-1:e===Yh||e===Tb?+t.schemeCount||Uk:n,ql(e)?Wy(o,r,t.reverse):dn(o)?PD(Wy(o,r),n):e===Qh?o:o.slice(0,n)}function Wy(e,t,n){return dn(e)&&(t||n)?MD(e,Sd(t||[0,1],n)):e}function Sd(e,t){return t?e.slice().reverse():e}const Zy=Ot(",d");function $k(e,t){return e.chrom+":"+Zy(Math.floor(e.pos+1))+"-"+(e.chrom!=t.chrom?t.chrom+":":"")+Zy(Math.ceil(t.pos))}const Yy={dm6:`chr3R	32079331
chr3L	28110227
chr2R	25286936
chrX	23542271
chr2L	23513712
chrY	3667352
chr4	1348131
chrM	19524`,hg18:`chr1	247249719
chr2	242951149
chr3	199501827
chr4	191273063
chr5	180857866
chr6	170899992
chr7	158821424
chr8	146274826
chr9	140273252
chr10	135374737
chr11	134452384
chr12	132349534
chr13	114142980
chr14	106368585
chr15	100338915
chr16	88827254
chr17	78774742
chr18	76117153
chr19	63811651
chr20	62435964
chr21	46944323
chr22	49691432
chrX	154913754
chrY	57772954
chrM	16571`,hg19:`chr1	249250621
chr2	243199373
chr3	198022430
chr4	191154276
chr5	180915260
chr6	171115067
chr7	159138663
chr8	146364022
chr9	141213431
chr10	135534747
chr11	135006516
chr12	133851895
chr13	115169878
chr14	107349540
chr15	102531392
chr16	90354753
chr17	81195210
chr18	78077248
chr19	59128983
chr20	63025520
chr21	48129895
chr22	51304566
chrX	155270560
chrY	59373566
chrM	16571`,hg38:`chr1	248956422
chr2	242193529
chr3	198295559
chr4	190214555
chr5	181538259
chr6	170805979
chr7	159345973
chr8	145138636
chr9	138394717
chr10	133797422
chr11	135086622
chr12	133275309
chr13	114364328
chr14	107043718
chr15	101991189
chr16	90338345
chr17	83257441
chr18	80373285
chr19	58617616
chr20	64444167
chr21	46709983
chr22	50818468
chrX	156040895
chrY	57227415
chrM	16569`,mm9:`chr1	197195432
chr2	181748087
chr3	159599783
chr4	155630120
chr5	152537259
chr6	149517037
chr7	152524553
chr8	131738871
chr9	124076172
chr10	129993255
chr11	121843856
chr12	121257530
chr13	120284312
chr14	125194864
chr15	103494974
chr16	98319150
chr17	95272651
chr18	90772031
chr19	61342430
chrX	166650296
chrY	15902555
chrM	16299`,mm10:`chr1	195471971
chr2	182113224
chr3	160039680
chr4	156508116
chr5	151834684
chr6	149736546
chr7	145441459
chr8	129401213
chr9	124595110
chr10	130694993
chr11	122082543
chr12	120129022
chr13	120421639
chr14	124902244
chr15	104043685
chr16	98207768
chr17	94987271
chr18	90702639
chr19	61431566
chrX	171031299
chrY	91744698
chrM	16299`};function eB(e){if(!(e in Yy))throw new Error(`Unknown assembly: ${e}`);return Yy[e].split(`
`).map(t=>{const n=t.split("	");return{name:n[0],size:parseInt(n[1])}})}const tB=/^([A-Za-z]+:)?\/\//;function Ms(e,t){if(t&&tB.test(t))return t;const n=typeof e=="function"?e():e;if(!n)return t;if(!t)return n;if(/[#?]/.test(n))throw new Error(`Cannot append to a url with query or hash. Append: ${t}, base: ${n}`);return Qy(n)+t}function Qy(e){const t=e.replace(/[^/]*$/,"");return t===""?void 0:t.endsWith("://")?e+"/":t}class nB{constructor(t){if(this.config={name:"custom",...t},"baseUrl"in t)throw new Error("The `baseUrl` property in genome config has been removed in GenomeSpy v0.52.0. Use `url` instead. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.");if(!_d(t))throw new Error("Not a genome configuration: "+JSON.stringify(t));if(this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,Ky(this.config))this.setChromSizes(this.config.contigs);else if(!Cd(this.config)){const n=eB(this.config.name);if(n)this.setChromSizes(n);else throw new Error(`Unknown genome: ${this.config.name}. Please provide contigs or a URL. See https://genomespy.app/docs/genomic-data/genomic-coordinates/.`)}}get name(){return this.config.name}async load(t){if(Cd(this.config))try{const n=Ms(t,this.config.url),r=await fetch(n);if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);this.setChromSizes(rB(await r.text()))}catch(n){throw new Error(`Could not load chrom sizes: ${this.config.url}. Reason: ${n.message}`)}}hasChrPrefix(){return this.chromosomes.some(t=>t.name.startsWith("chr"))}setChromSizes(t){let n=0;this.startByIndex=[0];for(let r=0;r<t.length;r++){this.startByIndex.push(n);const i=t[r].size,o={...t[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(o);const a=o.name.replace(/^chr/i,"");for(const s of["chr"+a,"CHR"+a,"Chr"+a,o.number,""+o.number,a,o.name])this.cumulativeChromPositions.set(s,n),this.chromosomesByName.set(s,o);n+=o.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(t,n){let r=this.cumulativeChromPositions.get(t);if(r===void 0)throw new Error("Unknown chromosome/contig: "+t);return r+ +n}toChromosome(t){if(t>this.totalSize)return;t=Math.floor(t);const n=Cr(this.startByIndex,t)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(t){const n=this.toChromosome(t);if(n)return{chrom:n.name,pos:Math.floor(t)-n.continuousStart}}getChromosome(t){return this.chromosomesByName.get(t)}formatInterval(t){return $k(...this.toChromosomalInterval(t))}toChromosomalInterval(t){const n=this.toChromosomal(t[0]+.5),r=this.toChromosomal(t[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(t){var i;let[n,r]=t;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(t){const n=t[0],r=t[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const o=this.chromosomes.findIndex(s=>s.name===n.chrom),a=this.chromosomes.findIndex(s=>s.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[o].size});for(let s=o+1;s<a;s++)i.push({chrom:this.chromosomes[s].name,startPos:0,endPos:this.chromosomes[s].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(t){return this.toDiscreteChromosomeIntervals([this.toChromosomal(t[0]),this.toChromosomal(t[1])])}parseInterval(t){const n=t.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(s=>s===void 0)){const s=this.getChromosome(r);return s?[s.continuousStart,s.continuousEnd]:void 0}const i=n[3]||r,o=parseInt(n[2].replace(/,/g,"")),a=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):o;return[this.toContinuous(r,o-1),this.toContinuous(i,a)]}}}function rB(e){return $E(e).map(([t,n])=>({name:t,size:parseInt(n)}))}function Xy(e){return Lt(e)&&"chrom"in e}function iB(e){return e.every(Xy)}function _d(e){return Lt(e)&&("name"in e||Cd(e)||Ky(e))}function Cd(e){return _d(e)&&"url"in e}function Ky(e){return _d(e)&&"contigs"in e}class Ps extends Array{constructor(){super(),this.type=void 0}extend(t){return this}extendAll(t){if(t instanceof Ps&&t.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${t.type}`);for(const n of t)this.extend(n);return this}extendAllWithAccessor(t,n){for(const r of t)this.extend(n(r));return this}}class Td extends Ps{constructor(){super(),this.type="quantitative"}extend(t){return t==null||Number.isNaN(t)?this:(t=+t,this.length?t<this[0]?this[0]=t:t>this[1]&&(this[1]=t):(this.push(t),this.push(t)),this)}}class Jy extends Ps{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(t){return t==null||Number.isNaN(t)?this:(this.uniqueValues.has(t)||(this.uniqueValues.add(t),this.push(t)),this)}}class $y extends Jy{constructor(){super(),this.type="nominal"}}class oB extends Ps{constructor(t){super();let n=0;for(let r=1;r<t.length;r++)n+=Math.sign(t[r]-t[r-1]);if(Math.abs(n)!=t.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(t));t.forEach(r=>this.push(r))}extend(t){if(this.includes(t))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const ex={quantitative:Td,index:Td,locus:Td,nominal:$y,ordinal:Jy};function tx(e,t){if(e=="quantitative"&&aB(t)){const n=new oB(t);return n.type=e,n}else if(ex[e]){const n=new ex[e];return n.type=e,t&&n.extendAll(t),n}throw new Error("Unknown type: "+e)}function aB(e){return e&&e.length>0&&e.length!=2&&e.every(t=>typeof t=="number")}function sB(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function cB(e,t,n){return e*Math.pow(t/e,n)}Xe("index",Ed,["continuous"]),Xe("locus",Ik,["continuous"]),Xe("null",pd,[]);const nx="quantitative",rx="ordinal",ix="nominal",ox="locus",lB="index";class uB{constructor(t){ve(this,Re);ve(this,mr);ve(this,ca,{domain:new Set,range:new Set});ve(this,ln);ve(this,xc,new Set);this.channel=t,this.members=[],this.type=null,this.name=void 0}addEventListener(t,n){X(this,ca)[t].add(n)}removeEventListener(t,n){X(this,ca)[t].delete(n)}addMember(t){var a;const{channel:n,channelDef:r}=t;if(n!="sample"&&!r.type&&!dd(n))throw new Error(`The "type" property must be defined in channel definition: "${n}": ${JSON.stringify(r)}. Must be one of: "quantitative", "ordinal", "nominal", "locus", "index"`);const i=n=="sample"?"nominal":r.type,o=(a=r==null?void 0:r.scale)==null?void 0:a.name;if(o){if(this.name!==void 0&&o!=this.name)throw new Error(`Shared scales have conflicting names: "${o}" vs. "${this.name}"!`);this.name=o}if(!this.type)this.type=i;else if(i!==this.type&&!dd(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push(t)}getDataDomain(){return this.members.map(t=>{var n;return(n=t.dataDomainSource)==null?void 0:n.call(t,t.channel,this.type)}).filter(t=>!!t).reduce((t,n)=>t.extendAll(n))}reconfigure(){const t=X(this,ln);if(!t||t.type=="null")return;const n=he(this,Re,Q2).call(this),r=t.domain(),i=he(this,Re,Ip).call(this,!0);if(qy({...i,range:void 0},t),t.props=i,he(this,Re,kp).call(this),Ft(t.type)&&Pe(this,mr,he(this,Re,Fp).call(this)),!n){he(this,Re,Er).call(this,"domain");return}const o=t.domain();ll(o,r)||(this.isZoomable()?t.domain(r):he(this,Re,no).call(this)?(t.domain(r),this.zoomTo(o,500)):he(this,Re,Er).call(this,"domain"))}get scale(){if(X(this,ln))return X(this,ln);const t=he(this,Re,Ip).call(this),n=Vk({...t,range:void 0});n.props=t,"unknown"in n&&n.unknown(null),Pe(this,ln,n),he(this,Re,kp).call(this),kk(n)&&n.genome(this.getGenome()),Ft(n.type)&&Pe(this,mr,he(this,Re,Fp).call(this));const r=n.range;if(r){const i=()=>he(this,Re,Er).call(this,"range");n.range=function(o){if(arguments.length)r(o),i();else return r()},i()}return n}getDomain(){return this.scale.domain()}getComplexDomain(){var t;return((t=this.getGenome())==null?void 0:t.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return he(this,Re,no).call(this)&&ll(he(this,Re,Xu).call(this),this.getDomain())}isZoomable(){return he(this,Re,no).call(this)&&!!this.scale.props.zoom}zoom(t,n,r){if(!he(this,Re,no).call(this))return!1;const i=this.scale,o=i.domain();let a=[...o],s=i.invert(n);switch(i.props.reverse&&(r=-r),"align"in i&&(s+=i.align()),i.type){case"linear":case"index":case"locus":a=hE(a,r||0),a=jp(a,s,t);break;case"log":a=dE(a,r||0),a=Wp(a,s,t);break;case"pow":case"sqrt":{const c=i;a=pE(a,r||0,c.exponent()),a=tf(a,s,t,c.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return X(this,mr)&&(a=mE(a,X(this,mr)[0],X(this,mr)[1])),[0,1].some(c=>a[c]!=o[c])?(i.domain(a),he(this,Re,Er).call(this,"domain"),!0):!1}async zoomTo(t,n=!1){if(Ea(n)&&(n=n?700:0),!he(this,Re,no).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(t),i=X(this,Re,Tp).animator,o=this.scale,a=o.domain();if(n>0&&a.length==2){const s=a[1]-a[0],c=r[1]-r[0],l=a[0]+s/2,u=r[0]+c/2,f=a[0]==r[0],h=a[1]==r[1];await i.transition({duration:n,easingFunction:sB,onUpdate:d=>{const p=cB(s,c,d),b=s==c?d:(s-p)/(s-c),v=b*u+(1-b)*l,y=[f?a[0]:v-p/2,h?a[1]:v+p/2];o.domain(y),he(this,Re,Er).call(this,"domain")}}),o.domain(r),he(this,Re,Er).call(this,"domain")}else o.domain(r),i==null||i.requestRender(),he(this,Re,Er).call(this,"domain")}resetZoom(){if(!he(this,Re,no).call(this))throw new Error("Not a zoomable scale!");const t=this.getDomain(),n=he(this,Re,Xu).call(this);return[0,1].some(r=>n[r]!=t[r])?(X(this,ln).domain(n),he(this,Re,Er).call(this,"domain"),!0):!1}getZoomLevel(){return this.isZoomable()?Vc(X(this,mr))/Vc(this.scale.domain()):1}getAxisLength(){if(this.channel!=="x"&&this.channel!=="y")throw new Error("Axis length is only defined for x and y channels!");const t=this.members.map(n=>{var r;return(r=n.view.coords)==null?void 0:r[this.channel==="x"?"width":"height"]}).filter(n=>n>0);return t.length?t.reduce((n,r)=>Math.min(n,r),1e4):0}getGenome(){var n;if(this.type!=="locus")return;const t=(n=X(this,Re,Tp).genomeStore)==null?void 0:n.getGenome();if(!t)throw new Error("No genome has been defined!");return t}invertToComplex(t){const n=this.scale;if("invert"in n){const r=n.invert(t);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(t){const n=this.getGenome();return n?n.toChromosomal(t):t}fromComplex(t){return Xy(t)?this.getGenome().toContinuous(t.chrom,t.pos):t}fromComplexInterval(t){return this.type==="locus"&&iB(t)?this.getGenome().toContinuousInterval(t):t}}mr=new WeakMap,ca=new WeakMap,ln=new WeakMap,xc=new WeakMap,Re=new WeakSet,Cp=function(){return this.members[0].view},Tp=function(){return X(this,Re,Cp).context},Er=function(t){for(const n of X(this,ca)[t].values())n({type:t,scaleResolution:this})},Dp=function(){return!!he(this,Re,Bp).call(this)},Q2=function(){const t=X(this,ln);if(!t)return!1;const n=t.domain();return Ft(t.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0},X2=function(){const t=this.members.map(n=>n.channelDef.scale).filter(n=>n!==void 0);return au(t,"scale",["domain"])},Ip=function(t=!1){const n=he(this,Re,X2).call(this);if(n===null||n.type=="null")return{type:"null"};const r={...he(this,Re,K2).call(this,this.type),...n};r.type||(r.type=fB(this.channel,this.type));const i=he(this,Re,Xu).call(this,t);return i&&i.length>0?r.domain=i:Gr(r.type)&&(r.domain=new $y),!r.domain&&r.domainMid!==void 0&&(r.domain=[r.domainMin??0,r.domainMax??1]),this.channel=="y"&&Gr(r.type)&&r.reverse==null&&(r.reverse=!0),r.range&&r.scheme&&delete r.scheme,!("zoom"in r)&&["index","locus"].includes(r.type)&&(r.zoom=!0),hB(r,this.channel),r},kp=function(){const t=X(this,ln).props,n=t.range;if(X(this,xc).forEach(i=>i.invalidate()),!n||!Bt(n))return;const r=(i,o)=>o?i.slice().reverse():i;if(n.some(Yt)){let i;const o=()=>{X(this,ln).range(r(i.map(a=>a()),t.reverse))};i=n.map(a=>{if(Yt(a)){const s=X(this,Re,Cp).paramMediator.createExpression(a.expr);return s.addListener(o),X(this,xc).add(s),()=>s(null)}else return()=>a}),o()}else X(this,ln).range(r(n,t.reverse))},Xu=function(t=!1){return he(this,Re,Bp).call(this)??(this.type==ox?this.getGenome().getExtent():t?this.getDataDomain():[])},Bp=function(){const t=this.members.map(n=>n.channelDef).filter(n=>{var r;return(r=n.scale)==null?void 0:r.domain}).map(n=>tx(n.type,this.fromComplexInterval(n.scale.domain)));if(t.length>0)return t.reduce((n,r)=>n.extendAll(r))},no=function(){const t=this.scale.type;return Ft(t)},Fp=function(){const t=this.scale.props,n=t.zoom;if(dB(n)&&Bt(n.extent))return this.fromComplexInterval(n.extent);if(n)return t.type=="locus"?this.getGenome().getExtent():X(this,ln).domain()},K2=function(t){const n=this.channel,r={};return he(this,Re,Dp).call(this)&&(r.zero=!1),Cs(n)?r.nice=!he(this,Re,Dp).call(this):jr(n)?r.scheme=t==ix?"tableau10":t==rx?"blues":"viridis":eu(n)?r.range=n=="shape"?["circle","square","triangle-up","cross","diamond"]:[]:n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r};function fB(e,t){if(t==lB||t==ox){if(fy(e))return t;throw new Error(`${e} does not support ${t} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"],sample:["null",void 0,void 0]},i=["sample"].includes(e)?"null":n[e]?n[e][[ix,rx,nx].indexOf(t)]:t==nx?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${e}" is not compatible with "${t}" data type. Use of a proper scale may be needed.`);return i}function hB(e,t){Cs(t)&&e.type!=="ordinal"&&(e.range=[0,1]),t=="opacity"&&Ft(e.type)&&(e.clamp=!0)}function dB(e){return Lt(e)}function Dd(e){const t=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))t.add(i)}for(const r of Kt(e)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.options.contributesToScaleDomain)break;n(i)}}t.forEach(r=>r.reconfigure())}function Id(...e){for(const t of e)if(t!==void 0)return t}class pB{constructor(t){this.channel=t,this.members=[]}get scaleResolution(){var t;return(t=Ja(this.members))==null?void 0:t.view.getScaleResolution(this.channel)}addMember(t){const{view:n}=t,r=n.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error(`Shared axes must have a shared scale! Channel: ${this.channel}, existing views: [${this.members.map(i=>i.view.getPathString()).join(", ")}], new view: ${n.getPathString()}.`);this.members.push(t)}getAxisProps(){return iu(this,"axisProps",()=>{const t=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return t.length>0&&t.some(n=>n===null)?null:au(t.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const t=o=>{var s;const a=h6(o.view,o.channel);if(!yn(a))return{member:o,explicitTitle:Id("axis"in a?(s=a.axis)==null?void 0:s.title:void 0,a.title),implicitTitle:Id(qr(a)?a.field:void 0,_s(a)?a.expr:void 0)}},n=this.members.map(t),r=n.filter(o=>{var a;if(dd(o.member.channel)&&!o.explicitTitle){const s=Mi(o.member.channel);return((a=n.find(c=>c.member.view==o.member.view&&c.member.channel==s))==null?void 0:a.explicitTitle)===void 0}return!0}),i=new Set(r.map(o=>Id(o.explicitTitle,o.implicitTitle)).filter(it));return i.size?[...i].join(", "):null}}function ax(e,t,{spacing:n,devicePixelRatio:r,offset:i,reverse:o}={}){n=n||0,i=i||0;let a=0,s=0;for(const p of e)a+=su(p.px)+(kd(p)?0:n),s+=su(p.grow);a-=n;const c=Math.max(0,t-a),l=r!==void 0?p=>Math.round(p*r)/r:p=>p,u=[],f=[],h=p=>{const b=u.length;if(!b)return;const v=(p?n:0)*(o?-1:1);d-=v;for(let y=0;y<b;y++)f.push({location:d+(y+1)/(b+1)*v,size:0});d+=v,u.length=0};let d=o?Math.max(t,a):0+i;if(e.length==1&&kd(e[0]))return[{location:d,size:0}];for(let p=0;p<e.length;p++){const b=e[p];if(kd(b))u.push(b);else{h(f.length>0);const v=su(b.px)+(s?su(b.grow)/s*c:0);o&&(d-=v),f.push({location:l(d),size:l(v)}),o?d-=n:d+=v+n}}return d+=o?n:-n,h(!1),f}function gB(e){let t=0,n=0;for(const r of e)t=Math.max(t,r.px??0),n=Math.max(n,r.grow??0);return{px:t,grow:n}}const wp=class wp{constructor(t,n){ve(this,wc);this.width=t,this.height=n}addPadding(t){return he(this,wc,Rp).call(this,t.width,t.height)}subtractPadding(t){return he(this,wc,Rp).call(this,-t.width,-t.height)}isGrowing(){return!!(this.width.grow||this.height.grow)}};wc=new WeakSet,Rp=function(t,n){return new wp({px:(this.width.px??0)+t,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};let Wr=wp;const Ls=Object.freeze({px:0,grow:0}),sx=new Wr(Ls,Ls);function kd(e){return!e.px&&!e.grow}function su(e){return e||0}function mB(e){return e&&(jt(e.px)||jt(e.grow))}function cx(e){if(fx(e))throw new Error("parseSizeDef does not accept step-based sizes.");if(mB(e))return e;if(jt(e))return{px:e,grow:0};if(e==="container")return{px:0,grow:1};if(!e)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${e}`)}class Gt{constructor(t,n,r,i){this.top=t||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(t){return t<=0?this:new Gt(this.top+t,this.right+t,this.bottom+t,this.left+t)}add(t){return new Gt(this.top+t.top,this.right+t.right,this.bottom+t.bottom,this.left+t.left)}subtract(t){return new Gt(this.top-t.top,this.right-t.right,this.bottom-t.bottom,this.left-t.left)}union(t){return new Gt(Math.max(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom),Math.max(this.left,t.left))}getHorizontal(){return new Gt(0,this.right,0,this.left)}getVertical(){return new Gt(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(t){return typeof t=="number"?this.createUniformPadding(t):t?this.createFromRecord(t):Bd}static createFromRecord(t){return new Gt(t.top,t.right,t.bottom,t.left)}static zero(){return Bd}static createUniformPadding(t){return new Gt(t,t,t,t)}}const Bd=Gt.createUniformPadding(0);Object.freeze(Bd);function Os(e,t){return!t||/^(data:|([A-Za-z]+:)?\/\/)/.test(e)||e.startsWith("/")?e:(t.endsWith("/")||(t+="/"),t+e)}function bB(e){if(!e)return e;if(/[?#]/.test(e))throw new Error(`Invalid base URL: ${e} - cannot contain query or hash.`);return e.endsWith("/")?e:e+"/"}const yB="VISIT_SKIP",Ns="VISIT_STOP",lx=e=>e;class ux{constructor(t,n,r,i,o,a={}){ve(this,er);ve(this,la,{});ve(this,vc,{});ve(this,Ac,{});ve(this,Ec);ve(this,Sc);qt(this,"opacityFunction",lx);qt(this,"facetCoords",new tr([],JSON.stringify));var s;if(!t)throw new Error("View spec must be defined!");if(this.context=n,this.layoutParent=r,this.dataParent=i,this.name=t.name||o,this.spec=t,this.resolutions={scale:{},axis:{}},ky(this),this.options={blockEncodingInheritance:!1,contributesToScaleDomain:!0,...a},this.needsAxes={x:!1,y:!1},this.paramMediator=new o6(()=>{var c;return(c=this.dataParent)==null?void 0:c.paramMediator}),t.params)for(const c of t.params)this.paramMediator.registerParam(c);if(!((s=this.layoutParent)!=null&&s.options.layeredChildren)){const c=l=>this.paramMediator.findMediatorForParam(l)?void 0:this.paramMediator.allocateSetter(l,0);Pe(this,Sc,c("height")),Pe(this,Ec,c("width"))}}get coords(){return this.facetCoords.values().next().value}getPadding(){return this._cache("size/padding",()=>Gt.createFromConfig(this.spec.padding))}getOverhang(){return Gt.zero()}isScrollable(){return this.spec.viewportWidth!=null||this.spec.viewportHeight!=null}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?new Wr(he(this,er,Oc).call(this,"width"),he(this,er,Oc).call(this,"height")):sx)}getViewportSize(){if(!this.isScrollable())return this.getSize();if(!this.isConfiguredVisible())return sx;const t=this.getSize();return new Wr(he(this,er,Oc).call(this,"viewportWidth")??t.width,he(this,er,Oc).call(this,"viewportHeight")??t.height)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(t=>t.isConfiguredVisible())}getEffectiveOpacity(){var t;return this.opacityFunction(((t=this.layoutParent)==null?void 0:t.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(t=>t.name).reverse().join("/")}getLayoutAncestors(){return he(this,er,Mp).call(this,"layoutParent")}getDataAncestors(){return he(this,er,Mp).call(this,"dataParent")}handleBroadcast(t){for(const n of X(this,la)[t.type]||[])n(t)}_addBroadcastHandler(t,n){let r=X(this,la)[t];r||(r=[],X(this,la)[t]=r),r.push(n)}handleInteractionEvent(t,n,r){const i=r?X(this,vc):X(this,Ac);for(const o of i[n.type]||[])o(t,n)}addInteractionEventListener(t,n,r){const i=r?X(this,vc):X(this,Ac);let o=i[t];o||(o=[],i[t]=o),o.push(n)}visit(t){try{const n=t(this);if(t.postOrder&&t.postOrder(this),n!==Ns)return n}catch(n){throw n.view=this,n}}getDescendants(){const t=[];return this.visit(n=>{t.push(n)}),t}configureViewOpacity(){(!this.opacityFunction||this.opacityFunction===lx)&&(this.opacityFunction=wB(this))}onBeforeRender(){}render(t,n,r={}){var i,o;r.firstFacet&&this.facetCoords.clear(),this.facetCoords.set(r.facetId,r.clipRect?n.intersect(r.clipRect):n),(i=X(this,Ec))==null||i.call(this,n.width),(o=X(this,Sc))==null||o.call(this,n.height)}getEncoding(){const t=this.dataParent&&!this.options.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...t,...n};for(const[i,o]of Object.entries(r))o===null&&delete r[i];return r}getFacetAccessor(t){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(t){var r;const n=this.getEncoding().sample;return qr(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(t){const n=Mi(t);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(t){const n=Mi(t);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(t,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[t]}getConfiguredOrDefaultResolution(t,n){return this.getConfiguredResolution(t,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(t,n)}getDefaultResolution(t,n){return"independent"}getBaseUrl(){return Ms(()=>{var t;return(t=this.dataParent)==null?void 0:t.getBaseUrl()},bB(this.spec.baseUrl))}isPickingSupported(){return!0}getTitleText(){const t=this.spec.title;if(t)return it(t)?t:Yt(t.text)?this.paramMediator.evaluateAndGet(t.text.expr):t.text}_cache(t,n){return iu(this,t,n)}_invalidateCacheByPrefix(t,n="self"){switch(n){case"self":ou(this,t);break;case"ancestors":for(const r of this.getLayoutAncestors())ou(r,t);break;case"progeny":this.visit(r=>ou(r,t));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(t){}}la=new WeakMap,vc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,er=new WeakSet,Oc=function(t){var i;let n=this.spec[t];const r=t=="viewportWidth"||t=="viewportHeight";if(fx(n)){if(r)throw new Li(`Cannot use step-based size with "${t}"!`,this);const o=n.step,a=(i=this.getScaleResolution(t=="width"?"x":"y"))==null?void 0:i.scale;if(a){let s=0;if(Gr(a.type))s=a.domain().length;else if(["locus","index"].includes(a.type)){const l=a.domain();s=Ja(l)-l[0]}else throw new Li(`Cannot use step-based size with "${a.type}" scale!`,this);const c=a;return s=Zh(s,c.paddingInner(),c.paddingOuter()),{px:s*o,grow:0}}else throw new Li("Cannot use 'step' size with missing scale!",this)}else return(n&&cx(n))??(r?void 0:{px:0,grow:1})},Mp=function(t){const n=[];let r=this;do n.push(r),r=r[t];while(r);return n};function xB(e){return"unitsPerPixel"in e}function wB(e){const t="opacity"in e.spec?e.spec.opacity:void 0;if(t!==void 0){if(jt(t))return n=>n*t;if(xB(t)){const n=o=>{var s;const a=(s=e.getScaleResolution(o))==null?void 0:s.scale;if(["linear","index","locus"].includes(a==null?void 0:a.type))return a},r=t.channel?n(t.channel):n("x")??n("y");if(!r)throw new Li("Cannot find a resolved quantitative scale for dynamic opacity!",e);const i=zh().domain(t.unitsPerPixel).range(t.values).clamp(!0);return o=>{const s=Vc(r.domain())/1e3;return i(s)*o}}else if(Yt(t)){const n=e.paramMediator.createExpression(t.expr);return n.addListener(()=>e.context.animator.requestRender()),r=>n(null)*r}}return n=>n}const fx=e=>!!(e!=null&&e.step),vB={point:fk,rect:ok,rule:gk,link:Ak,text:Dk};class an extends ux{constructor(n,r,i,o,a,s){super(n,r,i,o,a,s);ve(this,Yu);ve(this,_c);this.spec=n;const c=vB[this.getMarkType()];if(c)this.mark=new c(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.resolve(),Pe(this,_c,this.paramMediator.allocateSetter("zoomLevel",1)),["x","y"].forEach(l=>{var u;return(u=this.getScaleResolution(l))==null?void 0:u.addEventListener("domain",()=>X(this,_c).call(this,Math.sqrt(this.getZoomLevel())))}),this.needsAxes={x:!0,y:!0},he(this,Yu,J2).call(this)}render(n,r,i={}){super.render(n,r,i),this.isConfiguredVisible()&&(n.pushView(this,r),n.renderMark(this.mark,i),n.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}getEncoding(){const n=super.getEncoding(),r=this.mark.getSupportedChannels();for(const i of Object.keys(n))r.includes(i)||delete n[i];return n}resolve(n){n||(this.resolve("scale"),this.resolve("axis"));const r=this.mark.encoding;for(const[i,o]of Object.entries(r)){if(!on(o))continue;const a=Mi(o.resolutionChannel??i);if(!Ts(a)||n=="axis"&&!Cs(a))continue;let s=this;for(;(s.getConfiguredOrDefaultResolution(a,n)=="forced"||s.dataParent&&["shared","excluded","forced"].includes(s.dataParent.getConfiguredOrDefaultResolution(a,n)))&&s.getConfiguredOrDefaultResolution(a,n)!="excluded";)s=s.dataParent;if(n=="axis"&&Cs(i)&&fy(a))s.resolutions[n][a]||(s.resolutions[n][a]=new pB(a)),s.resolutions[n][a].addMember({view:this,channel:i,channelDef:o});else if(n=="scale"&&Ts(i)){if(!s.resolutions[n][a]){const l=new uB(a);s.resolutions[n][a]=l,l.addEventListener("range",u=>{var f;(f=this.context.glHelper)==null||f.createRangeTexture(u.scaleResolution,!0)})}const c=this.getLayoutAncestors().some(l=>!l.options.contributesToScaleDomain)||on(o)&&o.contributesToScaleDomain===!1?void 0:this.extractDataDomain.bind(this);s.resolutions[n][a].addMember({view:this,channel:i,channelDef:o,dataDomainSource:c})}}}getDataAccessor(n){var r;return(r=this.mark.encoders[n])==null?void 0:r.dataAccessor}getFacetAccessor(n){const r=this.getDataAccessor("sample");return r||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}extractDataDomain(n,r){var o;let i=tx(r);return(((o=this.mark.encoders[n])==null?void 0:o.accessors)??[]).filter(a=>a.scaleChannel).forEach(a=>{if(a.constant)i.extend(a({}));else{const s=this.getCollector();s!=null&&s.completed&&s.visitData(c=>i.extend(a(c)))}}),i}getZoomLevel(){const n=r=>{var i;return((i=this.getScaleResolution(r))==null?void 0:i.getZoomLevel())??1};return Io.map(n).reduce((r,i)=>r*i,1)}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0),n.target=this,!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return n=="x"?"shared":"independent"}}_c=new WeakMap,Yu=new WeakSet,J2=function(){for(const[n,r]of this.paramMediator.paramConfigs){if(!("select"in r))continue;const i=ay(r.select);if(hd(i)){let a=0;const s=this.paramMediator.getSetter(n),c=()=>{var f;const u=this.context.getCurrentHover();return((f=u==null?void 0:u.mark)==null?void 0:f.unitView)===this?u.datum:null},l=(u,f)=>{const h=f.uiEvent,d=c(),p=d?d[bn]:0;let b;if(i.toggle)if(h.shiftKey){if(d){const y=this.paramMediator.getValue(n);b=e6(y,{toggle:[d]})}}else b=ry(d?[d]:null);else p!=a&&(a=p,b=ny(d));b!==void 0&&s(b)};this.addInteractionEventListener(["mouseover","pointerover"].includes(i.on)?"mousemove":"click",l)}}};function*Fd(e,t=[]){for(const[n,r]of e.entries())if(r instanceof Map)for(const i of Fd(r,[...t,n]))yield i;else yield[[...t,n],r]}const hx=2147483647,AB=dx([hx]);function dx(e){let t=0;for(let n=0,r=e.length;n<r;n++)t=Math.max(t,e[n]);return Math.floor(Math.log2(t)/4)+1}function EB(e){const t=dx(e);let n=Array.from({length:e.length},(o,a)=>a),r=new Array(e.length);const i=new Array(16);for(let o=0;o<t;o++){i.fill(0);const a=o*4,s=Math.pow(16,o),c=l=>{const u=e[n[l]];return o>=AB?u>hx?Math.floor(u/s)%16:0:u>>a&15};for(let l=0;l<e.length;l++)i[c(l)]++;for(let l=1;l<16;l++)i[l]+=i[l-1];for(let l=e.length-1;l>=0;l--)r[--i[c(l)]]=n[l];[n,r]=[r,n]}return n}class px extends ld{constructor(n){super();ve(this,un);ve(this,br,[]);ve(this,Cc,Ke(bn));ve(this,Xi,[]);ve(this,Ki);this.params=n??{type:"collect"},this.observers=[],this.facetBatches=new tr([],JSON.stringify),he(this,un,Pp).call(this)}get behavior(){return cd}get label(){return"collect"}reset(){super.reset(),he(this,un,Pp).call(this)}handle(n){X(this,br).push(n)}beginBatch(n){$I(n)&&(Pe(this,br,[]),this.facetBatches.set(Kt(n.facetId),X(this,br)))}complete(){var o,a;Pe(this,br,[]);const n=(o=this.params)==null?void 0:o.sort,r=n?Zp(n.field,n.order):void 0,i=s=>{r&&s.sort(r)};if((a=this.params.groupby)!=null&&a.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const s=this.facetBatches.get(void 0),c=this.params.groupby.map(u=>Ke(u)),l=c.length>1?Yc(s,...c):SB(s,c[0]);this.facetBatches.clear();for(const[u,f]of Fd(l))this.facetBatches.set(u,f)}for(const s of this.facetBatches.values())i(s);he(this,un,$2).call(this),he(this,un,Lp).call(this),super.complete();for(const s of this.observers)s(this)}repropagate(){for(const n of this.children)n.reset();he(this,un,Lp).call(this);for(const n of this.children)n.complete()}getData(){switch(he(this,un,Op).call(this),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const n=this.facetBatches;return{[Symbol.iterator]:function*(){for(const i of n.values())yield*i}}}}}visitData(n){he(this,un,Op).call(this);for(const r of this.facetBatches.values())for(let i=0;i<r.length;i++)n(r[i])}getItemCount(){let n=0;for(const r of this.facetBatches.values())n+=r.length;return n}findDatumByUniqueId(n){if(!X(this,Xi).length)return;const r=co(c=>c.start).right,i=X(this,Cc),o=co(c=>i(a(c))).left,a=c=>{const l=r(X(this,Ki),c),u=X(this,Ki)[l-1];return!u||c>=u.stop?void 0:this.facetBatches.get(u.facetId)[c-u.start]},s=o(X(this,Xi),n);if(s>=0){const c=a(X(this,Xi)[s]);if(c&&i(c)===n)return c}}}br=new WeakMap,Cc=new WeakMap,Xi=new WeakMap,Ki=new WeakMap,un=new WeakSet,Pp=function(){Pe(this,br,[]),this.facetBatches.clear(),this.facetBatches.set(void 0,X(this,br))},Lp=function(){if(this.children.length)for(const[n,r]of this.facetBatches.entries()){if(n){const i={type:"facet",facetId:n};for(const o of this.children)o.beginBatch(i)}for(let i=0,o=r.length;i<o;i++)this._propagate(r[i])}},Op=function(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")},$2=function(){var a;Pe(this,Ki,[]);const n=(a=this.facetBatches.values().next().value)==null?void 0:a[0];if(n==null||!(bn in n))return;let r=0;const i=[],o=X(this,Cc);for(const[s,c]of this.facetBatches){X(this,Ki).push({start:r,stop:r+c.length,facetId:s}),r+=c.length;for(let l=0,u=c.length;l<u;l++)i.push(o(c[l]))}Pe(this,Xi,EB(i))};function SB(e,t){const n=new Map;for(let r=0,i=e.length;r<i;r++){const o=e[r],a=t(o);let s=n.get(a);s||(s=[],n.set(a,s)),s.push(o)}return n}class cu{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,n){let r=this.length++;for(;r>0;){const i=r-1>>1,o=this.values[i];if(n>=o)break;this.ids[r]=this.ids[i],this.values[r]=o,r=i}this.ids[r]=t,this.values[r]=n}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let o=0;for(;o<i;){let a=(o<<1)+1;const s=a+1;let c=this.ids[a],l=this.values[a];const u=this.values[s];if(s<this.length&&u<l&&(a=s,c=this.ids[s],l=u),l>=r)break;this.ids[o]=c,this.values[o]=l,o=a}this.ids[o]=n,this.values[o]=r}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class _B extends vt{get behavior(){return Zn}constructor(t){super(t),this.params=t,this.startAccessor=Ke(t.start),this.endAccessor=Ke(t.end),this.chromAccessor=t.chrom?Ke(t.chrom):n=>{},this.weightAccessor=t.weight?Ke(t.weight):n=>1,this.as={coverage:t.as??"coverage",start:t.asStart??t.start,end:t.asEnd??t.end,chrom:t.asChrom??t.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new cu}reset(){super.reset(),this.initialize()}initialize(){const t=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,o=this.endAccessor,a=this.chromAccessor,s=this.weightAccessor;let c,l,u,f=0,h=NaN;const d=this.ends;d.clear();const p=y=>{this._propagate(y),c=null},b=(y,A,_)=>{if(y==A)return;let E=!1;c&&(c[t]===_?(c[n]=A,E=!0):c[t]!=0&&p(c)),E||(c=this.createSegment(y,A,_,u))},v=()=>{let y=0;for(;(y=d.peekValue())!==void 0;)b(h,y,f),h=y,f-=d.pop();h=NaN,c&&p(c)};this.handle=y=>{const A=i(y);let _=0;for(;(_=d.peekValue())!==void 0&&_<A;)b(h,_,f),h=_,f-=d.pop();if(r){let C=a(y);C!==l&&(v(),u=C,l=u)}isNaN(h)||b(h,A,f),h=A;const E=s(y);f+=E,d.push(E,o(y))},this.complete=()=>{v(),super.complete()},this.beginBatch=y=>{v(),l=null,super.beginBatch(y)}}}function CB(e,t,n=0,r=e.length){const i=new cu,o=r-n;let a;for(a=0;a<t&&a<o;a++)i.push(a,e[n+a]);for(;a<o;a++){const l=e[n+a];l>=i.peekValue()&&(i.push(a,l),i.pop())}const s=[];let c;for(;(c=i.pop())!==void 0;)s.push(n+c);return s.reverse()}class TB{constructor(t,n=-1/0,r=1/0){this.maxSize=t,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(t,n,r=0){if(t>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const o=this._findSlot(t,n,i);return o>=0?o:this._findSlot(t,n,this.upperChildren[r])}else return r}else return-1}reserve(t,n){if(n-t<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(t,n);if(r<0)return!1;const i=this.n++,o=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=t,this.lowerLimits[o]=n,this.upperLimits[o]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=o,!0}}class DB extends vt{get behavior(){return cd}constructor(t,n){if(super(t),this.params=t,this._data=[],this.channel=t.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Ke(this.params.pos),this.posBisector=co(this.posAccessor),this.scoreAccessor=Ke(this.params.score),this.widthAccessor=Ke(this.params.width),this.laneAccessor=this.params.lane?Ke(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const t=this.posAccessor;this._data.sort((n,r)=>t(n)-t(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new TB(200));this.schedule(),super.complete()}_filterAndPropagate(){super.reset();const t=this.resolution.scale,n=this.resolution.getAxisLength();if(!n)return;for(const a of this.reservationMaps.values())a.reset();const r=t.domain(),o=CB(this._scores,70,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const a of o){const s=this._data[a],c=t(this.posAccessor(s))*n,l=this.widthAccessor(s)/2+this.padding;this.reservationMaps.get(this.laneAccessor(s)).reserve(c-l,c+l)&&this._propagate(s)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(t){this._data.push(t)}}class IB extends vt{constructor(t,n){super(t,n),this.params=t,this.predicate=void 0}initialize(){let t="";if(kB(this.params))t=this.params.expr;else if(BB(this.params))t=iy(this.params);else throw new Error("Invalid filter params: "+JSON.stringify(this.params));this.predicate=this.paramMediator.createExpression(t),this.predicate.addListener(()=>this.repropagate())}handle(t){this.predicate(t)&&this._propagate(t)}}function kB(e){return"expr"in e}function BB(e){return"param"in e}class FB extends vt{get behavior(){return Zn}constructor(t){super(t),this.params=t;const n=t.index;if(t.fields){const r=Kt(t.fields).map(o=>Ke(o)),i=Kt(t.as||t.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{const a=r.map((c,l)=>c(o)??[]),s=a[0].length;for(let c=0;c<s;c++){const l=Object.assign({},o);for(let u=0;u<r.length;u++)l[i[u]]=c<a[u].length?a[u][c]:null;n&&(l[n]=c),this._propagate(l)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const o=Object.assign({},r[i]);n&&(o[n]=i),this._propagate(o)}}}}const RB=48;function*MB(e,t=","){const n=t.charCodeAt(0);let r=0;for(let i=0;i<e.length;i++){const o=e.charCodeAt(i);o==n?(yield r,r=0):r=r*10+o-RB}yield r}class PB extends vt{get behavior(){return Zn}constructor(t){super(t);const n=Ke(t.exons??"exons"),r=Ke(t.start??"start"),[i,o]=t.as||["exonStart","exonEnd"];this.handle=a=>{let s=r(a),c=s,l=!0;const u=n(a);for(const f of MB(u)){if(l)c=s+f;else{s=c+f;const h=Object.assign({},a);h[i]=c,h[o]=s,this._propagate(h)}l=!l}}}}class LB extends vt{get behavior(){return Zn}constructor(t){super(t);const n=Kt(t.field).map(o=>Ke(o)),r=Kt(t.separator),i=Kt(t.as||t.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=o=>{if(n.some(c=>!c(o)))return;const a=n.map((c,l)=>c(o).split(r[l]));OB(a,o);const s=a[0].length;for(let c=0;c<s;c++){const l=Object.assign({},o);for(let u=0;u<n.length;u++)l[i[u]]=a[u][c];this._propagate(l)}}}}function OB(e,t){const n=e.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(t))}class NB extends vt{get behavior(){return Vr}constructor(t,n){super(t,n),this.params=t,this.as=t.as,this.fn=void 0}initialize(){this.fn=this.paramMediator.createExpression(this.params.expr),this.fn.addListener(()=>this.repropagate())}handle(t){t[this.as]=this.fn(t),this._propagate(t)}}class gx extends vt{get behavior(){return Vr}constructor(t,n){t={channel:"x",...t},super(t),this.params=t;const r=t.channel;if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const o=Ke(t.chrom),a=Kt(t.pos).map(p=>Ke(p)),s=Kt(t.as);if(a.length!=s.length)throw new Error('The number of "pos" and "as" elements must be equal!');const c=Kt(t.offset);let l;if(c.length==0)l=new Array(a.length).fill(0);else if(c.length==1)l=new Array(a.length).fill(c[0]);else if(c.length==a.length)l=c;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(t.offset)}!`);const u=new Function("datum","chromOffset","posAccessors",s.map((p,b)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${b}](datum) - ${l[b]};`).join(`
`));let f,h=0;const d=p=>{if(p!==f){if(h=i.cumulativeChromPositions.get(p),h===void 0)return;f=p}return h};this.handle=p=>{const b=o(p),v=d(b);if(v===void 0)throw new Error(`Unknown chromosome/contig "${b}" in datum: ${JSON.stringify(p)}`);u(p,v,a),this._propagate(p)}}}const zB=["Lato-Regular.png"],UB=JSON.parse('[{"id":87,"width":53,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":43.491,"chnl":15,"x":0,"y":0,"page":0},{"id":124,"width":17,"height":50,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":10.521,"chnl":15,"x":0,"y":42,"page":0},{"id":40,"width":20,"height":49,"xoffset":0,"yoffset":-32.571000000000005,"xadvance":11.214,"chnl":15,"x":0,"y":94,"page":0},{"id":41,"width":19,"height":49,"xoffset":0,"yoffset":-32.571000000000005,"xadvance":11.214,"chnl":15,"x":0,"y":145,"page":0},{"id":36,"width":32,"height":49,"xoffset":0,"yoffset":-34.419000000000004,"xadvance":24.360000000000003,"chnl":15,"x":0,"y":196,"page":0},{"id":125,"width":21,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.642000000000001,"chnl":15,"x":0,"y":247,"page":0},{"id":91,"width":22,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.852,"chnl":15,"x":0,"y":297,"page":0},{"id":93,"width":19,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.852,"chnl":15,"x":0,"y":347,"page":0},{"id":123,"width":21,"height":48,"xoffset":0,"yoffset":-32.193000000000005,"xadvance":12.642000000000001,"chnl":15,"x":0,"y":397,"page":0},{"id":106,"width":19,"height":48,"xoffset":0,"yoffset":-30.639000000000003,"xadvance":10.08,"chnl":15,"x":0,"y":447,"page":0},{"id":81,"width":43,"height":47,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":33.621,"chnl":15,"x":21,"y":447,"page":0},{"id":77,"width":45,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":38.997,"chnl":15,"x":66,"y":447,"page":0},{"id":64,"width":43,"height":44,"xoffset":0,"yoffset":-28.539,"xadvance":35.133,"chnl":15,"x":23,"y":397,"page":0},{"id":92,"width":28,"height":43,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":18.984,"chnl":15,"x":68,"y":397,"page":0},{"id":47,"width":28,"height":43,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":18.984,"chnl":15,"x":98,"y":397,"page":0},{"id":109,"width":42,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":34.545,"chnl":15,"x":113,"y":447,"page":0},{"id":119,"width":42,"height":31,"xoffset":0,"yoffset":-21.315,"xadvance":32.991,"chnl":15,"x":157,"y":447,"page":0},{"id":42,"width":25,"height":42,"xoffset":0,"yoffset":-31.626,"xadvance":17.85,"chnl":15,"x":128,"y":397,"page":0},{"id":37,"width":42,"height":41,"xoffset":0,"yoffset":-30.387,"xadvance":33.663000000000004,"chnl":15,"x":155,"y":397,"page":0},{"id":79,"width":42,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":33.621,"chnl":15,"x":199,"y":397,"page":0},{"id":102,"width":24,"height":41,"xoffset":0,"yoffset":-30.534000000000002,"xadvance":14.721,"chnl":15,"x":243,"y":397,"page":0},{"id":100,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.520000000000003,"chnl":15,"x":269,"y":397,"page":0},{"id":98,"width":32,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.520000000000003,"chnl":15,"x":302,"y":397,"page":0},{"id":56,"width":32,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":336,"y":397,"page":0},{"id":38,"width":40,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":29.904000000000003,"chnl":15,"x":370,"y":397,"page":0},{"id":108,"width":17,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":9.912,"chnl":15,"x":412,"y":397,"page":0},{"id":107,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":21.336000000000002,"chnl":15,"x":431,"y":397,"page":0},{"id":48,"width":33,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":464,"y":397,"page":0},{"id":71,"width":38,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":30.681,"chnl":15,"x":21,"y":347,"page":0},{"id":83,"width":31,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":22.785,"chnl":15,"x":61,"y":347,"page":0},{"id":63,"width":27,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":18.795,"chnl":15,"x":94,"y":347,"page":0},{"id":105,"width":18,"height":41,"xoffset":0,"yoffset":-30.639000000000003,"xadvance":10.08,"chnl":15,"x":123,"y":347,"page":0},{"id":51,"width":32,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":143,"y":347,"page":0},{"id":104,"width":31,"height":41,"xoffset":0,"yoffset":-30.933000000000003,"xadvance":23.436,"chnl":15,"x":177,"y":347,"page":0},{"id":67,"width":37,"height":41,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":28.056,"chnl":15,"x":210,"y":347,"page":0},{"id":88,"width":37,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.258000000000003,"chnl":15,"x":249,"y":347,"page":0},{"id":68,"width":40,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":31.941000000000003,"chnl":15,"x":288,"y":347,"page":0},{"id":70,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":23.751,"chnl":15,"x":330,"y":347,"page":0},{"id":34,"width":23,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":15.561000000000002,"chnl":15,"x":364,"y":347,"page":0},{"id":72,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":32.067,"chnl":15,"x":389,"y":347,"page":0},{"id":73,"width":18,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":11.760000000000002,"chnl":15,"x":429,"y":347,"page":0},{"id":74,"width":24,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":17.745,"chnl":15,"x":449,"y":347,"page":0},{"id":75,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.825000000000003,"chnl":15,"x":24,"y":297,"page":0},{"id":76,"width":31,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":21.567,"chnl":15,"x":475,"y":347,"page":0},{"id":66,"width":35,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":27.153000000000002,"chnl":15,"x":64,"y":297,"page":0},{"id":78,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":32.067,"chnl":15,"x":101,"y":297,"page":0},{"id":33,"width":18,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":11.298,"chnl":15,"x":141,"y":297,"page":0},{"id":80,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":25.221,"chnl":15,"x":161,"y":297,"page":0},{"id":65,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":28.434,"chnl":15,"x":197,"y":297,"page":0},{"id":82,"width":36,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":26.313000000000002,"chnl":15,"x":237,"y":297,"page":0},{"id":35,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":275,"y":297,"page":0},{"id":84,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.801000000000002,"chnl":15,"x":310,"y":297,"page":0},{"id":85,"width":37,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":30.891000000000002,"chnl":15,"x":346,"y":297,"page":0},{"id":86,"width":38,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":28.434,"chnl":15,"x":385,"y":297,"page":0},{"id":39,"width":16,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":8.568000000000001,"chnl":15,"x":425,"y":297,"page":0},{"id":69,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.255000000000003,"chnl":15,"x":443,"y":297,"page":0},{"id":89,"width":36,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":26.208000000000002,"chnl":15,"x":23,"y":247,"page":0},{"id":90,"width":34,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":25.284000000000002,"chnl":15,"x":477,"y":297,"page":0},{"id":49,"width":31,"height":40,"xoffset":0,"yoffset":-30.156000000000002,"xadvance":24.360000000000003,"chnl":15,"x":61,"y":247,"page":0},{"id":50,"width":32,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":94,"y":247,"page":0},{"id":57,"width":32,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":24.360000000000003,"chnl":15,"x":128,"y":247,"page":0},{"id":94,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":162,"y":247,"page":0},{"id":96,"width":21,"height":40,"xoffset":0,"yoffset":-30.429000000000002,"xadvance":16.8,"chnl":15,"x":196,"y":247,"page":0},{"id":55,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":219,"y":247,"page":0},{"id":54,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":254,"y":247,"page":0},{"id":53,"width":32,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":289,"y":247,"page":0},{"id":52,"width":33,"height":40,"xoffset":0,"yoffset":-30.093000000000004,"xadvance":24.360000000000003,"chnl":15,"x":323,"y":247,"page":0},{"id":103,"width":31,"height":39,"xoffset":0,"yoffset":-21.630000000000003,"xadvance":21.84,"chnl":15,"x":358,"y":247,"page":0},{"id":112,"width":32,"height":39,"xoffset":0,"yoffset":-21.651,"xadvance":23.541,"chnl":15,"x":391,"y":247,"page":0},{"id":113,"width":31,"height":39,"xoffset":0,"yoffset":-21.651,"xadvance":23.520000000000003,"chnl":15,"x":425,"y":247,"page":0},{"id":116,"width":25,"height":39,"xoffset":0,"yoffset":-28.182000000000002,"xadvance":15.057,"chnl":15,"x":458,"y":247,"page":0},{"id":121,"width":31,"height":38,"xoffset":0,"yoffset":-21.273,"xadvance":21.651,"chnl":15,"x":34,"y":196,"page":0},{"id":59,"width":18,"height":36,"xoffset":0,"yoffset":-20.706,"xadvance":10.983,"chnl":15,"x":485,"y":247,"page":0},{"id":43,"width":32,"height":34,"xoffset":0,"yoffset":-24.486,"xadvance":24.360000000000003,"chnl":15,"x":67,"y":196,"page":0},{"id":60,"width":30,"height":33,"xoffset":0,"yoffset":-23.331000000000003,"xadvance":24.360000000000003,"chnl":15,"x":101,"y":196,"page":0},{"id":62,"width":31,"height":33,"xoffset":0,"yoffset":-23.331000000000003,"xadvance":24.360000000000003,"chnl":15,"x":133,"y":196,"page":0},{"id":117,"width":30,"height":32,"xoffset":0,"yoffset":-21.273,"xadvance":23.415000000000003,"chnl":15,"x":166,"y":196,"page":0},{"id":99,"width":29,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":20.055,"chnl":15,"x":198,"y":196,"page":0},{"id":110,"width":31,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":23.436,"chnl":15,"x":229,"y":196,"page":0},{"id":111,"width":32,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":23.814,"chnl":15,"x":262,"y":196,"page":0},{"id":126,"width":32,"height":26,"xoffset":0,"yoffset":-16.128,"xadvance":24.360000000000003,"chnl":15,"x":201,"y":447,"page":0},{"id":101,"width":31,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":22.176000000000002,"chnl":15,"x":296,"y":196,"page":0},{"id":114,"width":25,"height":32,"xoffset":0,"yoffset":-21.651,"xadvance":15.288,"chnl":15,"x":329,"y":196,"page":0},{"id":115,"width":27,"height":32,"xoffset":0,"yoffset":-21.609,"xadvance":18.186,"chnl":15,"x":356,"y":196,"page":0},{"id":97,"width":28,"height":32,"xoffset":0,"yoffset":-21.651,"xadvance":20.874000000000002,"chnl":15,"x":385,"y":196,"page":0},{"id":118,"width":31,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":21.672,"chnl":15,"x":415,"y":196,"page":0},{"id":61,"width":31,"height":29,"xoffset":0,"yoffset":-19.089000000000002,"xadvance":24.360000000000003,"chnl":15,"x":448,"y":196,"page":0},{"id":120,"width":30,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":20.916,"chnl":15,"x":21,"y":145,"page":0},{"id":58,"width":18,"height":31,"xoffset":0,"yoffset":-20.706,"xadvance":10.5,"chnl":15,"x":53,"y":145,"page":0},{"id":122,"width":28,"height":31,"xoffset":0,"yoffset":-21.273,"xadvance":18.984,"chnl":15,"x":73,"y":145,"page":0},{"id":95,"width":28,"height":16,"xoffset":0,"yoffset":0,"xadvance":19.278000000000002,"chnl":15,"x":235,"y":447,"page":0},{"id":45,"width":23,"height":24,"xoffset":0,"yoffset":-14.175,"xadvance":15.603000000000002,"chnl":15,"x":481,"y":196,"page":0},{"id":44,"width":17,"height":21,"xoffset":0,"yoffset":-4.956,"xadvance":9.534,"chnl":15,"x":103,"y":145,"page":0},{"id":46,"width":18,"height":15,"xoffset":0,"yoffset":-4.956,"xadvance":9.912,"chnl":15,"x":0,"y":497,"page":0},{"id":32,"width":0,"height":0,"xoffset":0,"yoffset":0,"xadvance":10.752,"chnl":15,"x":20,"y":497,"page":0}]'),mx={pages:zB,chars:UB,info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class GB extends vt{get behavior(){return Vr}constructor(t){super(t),this.params=t;const n=wd(mx),r=Ke(t.field),i=t.as,o=t.fontSize;this.handle=a=>{const s=r(a);s!==void 0?a[i]=n.measureWidth(s,o):a[i]=0,this._propagate(a)}}}const HB=65536;class VB extends vt{get behavior(){return Vr}constructor(t){super(t),this.params=t}reset(){super.reset(),this.initialize()}initialize(){const t=this.params,n=t.as||"lane",r=jt(t.spacing)?t.spacing:1,i=Ke(t.start),o=Ke(t.end);if(!t.preference!=!t.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(t.preference){const a=new Float64Array(HB),s=Ke(t.preference),c=t.preferredOrder;let l=1/0;this.handle=u=>{const f=i(u);f<l&&a.fill(-1/0),l=f;const h=c.indexOf(s(u));let d=-1;if(h>=0&&a[h]<f)d=h;else{const p=i(u);for(d=0;d<a.length&&!(a[d]<p);d++);if(d>=a.length)throw new Error("Out of lanes!")}a[d]=o(u)+r,u[n]=d,this._propagate(u)}}else{const a=new cu,s=new cu;let c=-1/0,l=0;this.handle=u=>{const f=i(u);for(;a.length&&(a.peekValue()<=f||f<c);){const d=a.pop();s.push(d,d)}c=f;let h=s.pop();h===void 0&&(h=l++),u[n]=h,this._propagate(u),a.push(h,o(u)+r)}}}}class qB extends vt{get behavior(){return Zn}constructor(t){if(super(t),this.params=t,t.as&&t.as.length!=t.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=t.fields.map(i=>Ke(i)),r=t.as?t.as:n.map(io);this.handle=i=>{const o={};for(let a=0;a<n.length;a++)o[r[a]]=n[a](i);this._propagate(o)}}}class jB extends vt{get behavior(){return Vr}constructor(t){super(t),this.params=t;const n=new RegExp(t.regex),r=typeof t.as=="string"?[t.as]:t.as,i=Ke(t.field);this.handle=o=>{const a=i(o);if(it(a)){const s=a.match(n);if(s){if(s.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let c=0;c<r.length;c++)o[r[c]]=s[c+1]}else if(t.skipInvalidInput)for(let c=0;c<r.length;c++)o[r[c]]=void 0;else throw new Error(`"${a}" does not match the given regex: ${n.toString()}`)}else if(!t.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof a}, field content: "${a}".`);this._propagate(o)}}}class WB extends vt{get behavior(){return Zn}constructor(t){super(t),this.params=t;const n=Kt(t.columnRegex).map(h=>new RegExp(h)),r=Kt(t.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=t.skipRegex?new RegExp(t.skipRegex):void 0,o=t.asKey||"sample";let a,s,c;const l=h=>{var v;const d=Object.keys(h);for(const y of n)if(!d.some(A=>y.test(A)))throw new Error(`No columns matching the regex ${y.toString()} found in the data!`);const p=new Map;for(const[y,A]of n.entries())for(const _ of d){const E=(v=A.exec(_))==null?void 0:v[1];if(E!==void 0){let C=p.get(E);C||(C=[],p.set(E,C)),C[y]=_}}a=[...p.entries()],s=d.filter(y=>!n.some(A=>A.test(y))&&!(i&&i.test(y)));const b=[...s.map(y=>JSON.stringify(y)+": datum["+JSON.stringify(y)+"]"),JSON.stringify(o)+": sampleId",...r.map((y,A)=>JSON.stringify(y)+`: datum[attrs[${A}]]`)];c=new Function("datum","sampleId","attrs",`return {
`+b.join(`,
`)+`
};`)},u=h=>{a||l(h);for(let d=0;d<a.length;d++){const[p,b]=a[d],v=c(h,p,b);this._propagate(v)}},f=h=>{l(h),u(h),this.handle=u};this.handle=f,this.beginBatch=h=>{$b(h)&&(this.handle=f),super.beginBatch(h)}}}class ZB extends vt{get behavior(){return Vr}constructor(t){super(t),this.params=t,this.buffer=[]}reset(){this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,n=t.as||["y0","y1"],r=t.sort?Zp(t.sort.field,t.sort.order):void 0,i=t.field?Ke(t.field):()=>1,o=t.groupby.map(u=>Ke(u)),a=bS(this.buffer,u=>o.map(f=>f(u)).join()).map(u=>u[1]);let s=u=>!0;if(t.baseField){const u=Ke(t.baseField);s=f=>u(f)!==null}let c,l;switch(t.offset){case"normalize":c=(u,f)=>u/f,l=(u,f)=>La(u,f);break;case"center":c=(u,f)=>u-f/2,l=(u,f)=>La(u,f);break;case"information":{const u=Math.log2(t.cardinality??4);c=(f,h)=>f/h,l=(f,h)=>{const p=La(f,A=>+!s(A)),b=La(f,h),v=b-p;let y=0;for(let A=0;A<f.length;A++){const _=f[A];if(s(_)){const E=h(_)/v;y-=E*Math.log2(E)}}return v/(u-(y+0))*(v/b)}}break;default:c=(u,f)=>u,l=(u,f)=>1}for(const u of a){r&&u.sort(r);const f=l(u,i);let h=0;for(const d of u){const p=h+i(d);s(d)&&(d[n[0]]=c(h,f),d[n[1]]=c(p,f),this._propagate(d),h=p)}}super.complete()}}class YB extends vt{get behavior(){return Zn}constructor(t){super(t),this.params=t;const n=Ke(t.field??"sequence"),[r,i]=t.as??["pos","sequence"];this.handle=o=>{const a=Object.assign({},o,{[i]:"",[r]:0}),s=n(o);for(let c=0;c<s.length;c++){const l=Object.assign({},a);l[r]=c,l[i]=s.charAt(c),this._propagate(l)}}}}const bx={count:e=>e.length,valid:fS,sum:La,min:xf,max:yf,mean:ES,median:SS,variance:hS};class QB extends vt{get behavior(){return Zn}constructor(t){if(super(t),this.params=t,this.buffer=[],this.ops=[],this.as=[],t.fields){if(t.fields.length!=t.ops.length)throw new Error("Fields and ops must have the same length!");if(t.as&&t.as.length!=t.ops.length)throw new Error('If "as" is defined, "fields" and "as" must have the same length!');t.fields.forEach((n,r)=>{const i=Ke(n),o=bx[t.ops[r]];this.ops.push(a=>o(a,i)),this.as.push(t.as?t.as[r]:`${t.ops[r]}_${t.fields[r]}`)})}else this.ops.push(n=>bx.count(n)),this.as.push("count")}reset(){super.reset(),this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,n=t==null?void 0:t.groupby;if((n==null?void 0:n.length)>0){const r=n.map(o=>Ke(o)),i=Yc(this.buffer,...r);for(const[o,a]of Fd(i)){const s={};for(let c=0;c<n.length;c++)s[n[c]]=o[c];this.ops.forEach((c,l)=>{s[this.as[l]]=c(a)}),this._propagate(s)}}else{const r={};this.ops.forEach((i,o)=>{r[this.as[o]]=i(this.buffer)}),this._propagate(r)}super.complete()}}const XB={aggregate:QB,collect:px,coverage:_B,filterScoredLabels:DB,filter:IB,flatten:FB,flattenCompressedExons:PB,flattenDelimited:LB,flattenSequence:YB,formula:NB,identifier:ud,linearizeGenomicCoordinate:gx,measureText:GB,pileup:VB,project:qB,regexExtract:jB,regexFold:WB,sample:Ny,stack:ZB};function KB(e,t){const n=XB[e.type];if(n)return new n(e,t);throw new Error("Unknown transform: "+e.type)}function yx(e){if(!vx(e)&&!wx(e))return;const t={...e.format};if(t.type??(t.type=wx(e)&&$B(rn(e.url))),t.parse??(t.parse="auto"),!t.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(e));return t}function JB(e){var t;return((t=Mf(e))==null?void 0:t.responseType)??"text"}function $B(e){var t;if(Array.isArray(e)&&(e=e[0]),e)return(t=e.match(/\.(csv|tsv|json)/))==null?void 0:t[1]}const xx=e=>typeof e!="object"?eF:tF,eF=e=>({data:e}),tF=e=>e;function wx(e){return"url"in e}class Fo extends ld{constructor(n){super();qt(this,"view");this.view=n}get identifier(){}setLoadingStatus(n,r){this.view.context.setDataLoadingStatus(this.view,n,r)}get paramMediator(){return this.view.paramMediator}handle(n){throw new Error("Source does not handle incoming data!")}async load(){}repropagate(){this.load()}}function vx(e){return"values"in e}class nF extends Fo{constructor(t,n){var r;if(super(n),this.params=t,typeof t.values=="string"&&!((r=t==null?void 0:t.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}get label(){return"inlineSource"}isTrivial(){const t=this.params.values,n=Array.isArray(t)?t[0]:t;return!!(n&&Object.keys(n).length==0&&n.constructor===Object)}loadSynchronously(){const t=this.params.values;let n=[],r=i=>i;if(Array.isArray(t))t.length>0&&(n=t,r=xx(t[0]));else if(typeof t=="object")n=[t];else if(typeof t=="string")n=im(t,yx(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function rF(e){return"url"in e}class iF extends Fo{constructor(t,n){super(n),this.params=Jl(n.paramMediator,t,()=>this.load()),this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}get label(){return"urlSource"}async load(){const t=rn(this.params.url),n=Array.isArray(t)?t:[t],r=yx(this.params),i=JB(r.type);if(n.length===0||!n[0]){this.reset(),this.complete();return}const o=async s=>{try{const c=Ms(this.baseUrl,s),l=await fetch(c);if(!l.ok)throw new Error(`${l.status} ${l.statusText}`);return typeof l[i]=="function"?l[i]():l.text()}catch(c){throw new Error(`Could not load data: ${s}. Reason: ${c.message}`)}},a=(s,c)=>{try{const l=im(s,r);this.beginBatch({type:"file",url:c});for(const u of l)this._propagate(u)}catch(l){throw new Error(`Cannot parse: ${c}: ${l.message}`)}};this.setLoadingStatus("loading"),this.reset();try{await Promise.all(n.map(s=>o(s).then(a))),this.setLoadingStatus("complete")}catch(s){this.setLoadingStatus("error",s.message)}this.complete()}}function oF(e){return"sequence"in e}class aF extends Fo{constructor(t,n){if(super(n),this.sequence=Jl(n.paramMediator,t.sequence,()=>this.loadSynchronously()),!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}get label(){return"sequenceSource"}loadSynchronously(){const t=rn(this.sequence.as)??"data",n=rn(this.sequence.start)??0,r=rn(this.sequence.step)??1,i=rn(this.sequence.stop);this.reset(),this.beginBatch({type:"file"});for(let o=n;o<i;o+=r)this._propagate({[t]:o});this.complete()}async load(){this.loadSynchronously()}}class Rd extends Fo{constructor(n,r){super(n);qt(this,"initializedPromise",Promise.resolve());if(r){if(r!=="x"&&r!=="y")throw new Error(`Invalid channel specified for the lazy data source: ${r}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the lazy data source. Must be either "x" or "y".');if(this.channel=r,this.scaleResolution=this.view.getScaleResolution(r),!this.scaleResolution){const o=[`The lazy data source cannot find a resolved scale for channel "${r}".`];throw this.view instanceof an||o.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(o.join(" "))}const i=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",i),this.view.context.addBroadcastListener("layoutComputed",i)}get genome(){return this.scaleResolution.getGenome()}onDomainChanged(n,r){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(n){this.reset(),this.beginBatch({type:"file"});for(const r of n)for(const i of r)this._propagate(i);this.complete(),Dd(this.view)}}class sF extends Rd{constructor(n,r){const i={axis:{},...n};super(r,i.channel);qt(this,"ticks",[]);this.params=n}get label(){return"axisTickSource"}async load(){this.ticks=null,this.onDomainChanged()}onDomainChanged(){const n=this.scaleResolution.scale,r=this.scaleResolution.getAxisLength(),i=this.params.axis,o=l=>25+60*Jb(100,700,l),a=jt(i.tickCount)?i.tickCount:Math.round(r/o(r)),s=Uy(n,a,i.tickMinStep),c=i.values?Gy(n,i.values,s):Bk(n,s);if(this.ticks==null||!ll(c,this.ticks)){this.ticks=c;const l=Rk(n,a,i.format);this.publishData([c.map(u=>({value:u,label:l(u)}))])}}}class cF extends Rd{constructor(t,n){super(n,t.channel)}get label(){return"axisGenomeSource"}async load(){this.publishData([this.genome.chromosomes])}}function lu(e,t,n=!0){let r,i=a=>{};return function(...s){return new Promise((c,l)=>{const u=()=>{clearTimeout(r),i=f=>{},c(e(...s))};n&&i("debounced"),clearTimeout(r),i=l,r=window.setTimeout(u,typeof t=="function"?t():t)})}}class zs extends Rd{constructor(){super(...arguments);ve(this,ua,new AbortController);ve(this,fa,[0,0]);ve(this,ha,[0,0]);ve(this,Tc,0);qt(this,"params")}setupDebouncing(n){const r=()=>rn(n.debounce),i=n.debounceMode;if(i=="domain")this.onDomainChanged=lu(this.onDomainChanged.bind(this),r,!1);else if(i=="window")this.loadInterval=lu(this.loadInterval.bind(this),r,!1);else throw new Error("Invalid debounceMode: "+i)}onDomainChanged(n){var i;Pe(this,ha,n);const r=rn((i=this.params)==null?void 0:i.windowSize)??-1;n[1]-n[0]>r||this.callIfWindowsChanged(n,r,async o=>{await this.initializedPromise,this.loadInterval(o)})}reloadLastDomain(){const n=X(this,ha);Pe(this,ha,[0,0]),Pe(this,fa,[0,0]),this.onDomainChanged(n)}async loadInterval(n){}async discretizeAndLoad(n,r){X(this,ua).abort(),this.setLoadingStatus("loading"),Pe(this,ua,new AbortController);const i=X(this,ua).signal,o=this.genome.continuousToDiscreteChromosomeIntervals(n);try{const a=await Promise.all(o.map(async s=>r(s,i)));if(!i.aborted)return this.setLoadingStatus("complete"),a}catch(a){if(!i.aborted)throw this.setLoadingStatus("error",a.message),a}}callIfWindowsChanged(n,r,i){const o=[Math.max(Math.floor(n[0]/r)*r,0),Math.min(Math.ceil(n[1]/r)*r,this.genome.totalSize)],a=X(this,fa);(r!==X(this,Tc)||o[0]<a[0]||o[1]>a[1])&&(Pe(this,fa,o),Pe(this,Tc,r),i(o))}}ua=new WeakMap,fa=new WeakMap,ha=new WeakMap,Tc=new WeakMap;class lF extends zs{constructor(t,n){const r={channel:"x",windowSize:7e3,debounce:200,debounceMode:"window",...t};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(i=>{Promise.all([Promise.resolve().then(()=>r5),Promise.resolve().then(()=>E5),Promise.resolve().then(()=>js)]).then(([{Buffer:o},{IndexedFasta:a},{RemoteFile:s}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=o));const c=l=>new s(Os(l,this.view.getBaseUrl()));this.fasta=new a({fasta:c(this.params.url),fai:c(this.params.indexUrl??this.params.url+".fai")}),i()})})}get label(){return"bigWigSource"}async loadInterval(t){const n=await this.discretizeAndLoad(t,async(r,i)=>this.fasta.getSequence(r.chrom,r.startPos,r.endPos,{signal:i}).then(o=>({chrom:r.chrom,start:r.startPos,sequence:o})));n&&this.publishData([n])}}class uF extends zs{constructor(n,r){const i={pixelsPerBin:2,channel:"x",debounce:200,debounceMode:"window",...n},o=Jl(r.paramMediator,i,a=>{a.includes("url")?he(this,Dc,Np).call(this).then(()=>this.reloadLastDomain()):a.includes("pixelsPerBin")&&this.reloadLastDomain()});super(r,o.channel);ve(this,Dc);ve(this,da,[]);ve(this,pa);if(this.params=o,!this.params.url)throw new Error("No URL provided for BigWigSource");this.setupDebouncing(this.params),he(this,Dc,Np).call(this)}get label(){return"bigWigSource"}async onDomainChanged(n){await this.initializedPromise;const r=this.scaleResolution.getAxisLength()||700,i=fF(n,r,X(this,da)),o=Math.max(i*r,5e3);this.callIfWindowsChanged(n,o,a=>this.loadInterval(a,i))}async loadInterval(n,r){const i=.5/r/rn(this.params.pixelsPerBin),o=await this.discretizeAndLoad(n,(a,s)=>X(this,pa).getFeatures(a.chrom,a.startPos,a.endPos,{scale:i,signal:s}).then(c=>c.map(l=>({chrom:a.chrom,start:l.start,end:l.end,score:l.score}))));o&&this.publishData(o)}}da=new WeakMap,pa=new WeakMap,Dc=new WeakSet,Np=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>kA),Promise.resolve().then(()=>js)]).then(([{BigWig:i},{RemoteFile:o}])=>{Pe(this,pa,new i({filehandle:new o(Os(rn(this.params.url),this.view.getBaseUrl()))})),this.setLoadingStatus("loading"),X(this,pa).getHeader().then(a=>{Pe(this,da,a.zoomLevels.map(s=>s.reductionLevel).reverse()),X(this,da).push(1),this.setLoadingStatus("complete"),n()}).catch(a=>{this.load(),this.setLoadingStatus("error",`${rn(this.params.url)}: ${a.message}`),r(a)})})}),this.initializedPromise};function fF(e,t,n){const r=(e[1]-e[0])/t;return n.find(i=>i<r)??n.at(-1)}class hF extends zs{constructor(n,r){const i={channel:"x",windowSize:1e6,debounce:200,debounceMode:"window",...n},o=Jl(r.paramMediator,i,a=>{a.includes("url")?he(this,Ic,zp).call(this).then(()=>this.reloadLastDomain()):a.includes("windowSize")&&this.reloadLastDomain()});super(r,o.channel);ve(this,Ic);qt(this,"parser");qt(this,"bbi");qt(this,"parseLine");if(this.params=o,!this.params.url)throw new Error("No URL provided for BigBedSource");this.setupDebouncing(this.params),he(this,Ic,zp).call(this)}get label(){return"bigBedSource"}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,o)=>this.bbi.getFeatures(i.chrom,i.startPos,i.endPos,{signal:o}).then(a=>a.map(s=>this.parseLine(i.chrom,s))));r&&this.publishData(r)}}Ic=new WeakSet,zp=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>ZP),Promise.resolve().then(()=>kA),Promise.resolve().then(()=>js)]).then(([i,{BigBed:o},{RemoteFile:a}])=>{const s=i.default;this.bbi=new o({filehandle:new a(Os(rn(this.params.url),this.view.getBaseUrl()))}),this.setLoadingStatus("loading"),this.bbi.getHeader().then(async c=>{this.parser=new s({autoSql:c.autoSql});try{const l=dF(this.parser);this.parseLine=(u,f)=>l(u,f.start,f.end,f.rest)}catch{this.parseLine=(u,f)=>this.parser.parseLine(`${u}	${f.start}	${f.end}	${f.rest}`)}this.setLoadingStatus("complete"),n()}).catch(c=>{this.load(),this.setLoadingStatus("error",`${rn(this.params.url)}: ${c.message}`),r(c)})})}),this.initializedPromise};function dF(e){const t=e.autoSql.fields.filter(A=>A.type).slice(3);let n=0,r="",i=0,o={};const a="	",s=a.charCodeAt(0),c=48,l=45;function u(){let A=r.indexOf(a,n);A<0&&(A=i);const _=r.substring(n,A);return n=A+1,_}function f(){let A=0,_=r.charCodeAt(n),E=1;_===l&&(E=-1,n++,_=r.charCodeAt(n));do{if(_===s){n++;break}A=A*10+_-c,_=r.charCodeAt(++n)}while(n<i);return A*E}const h=t.map(A=>`${JSON.stringify(A.name)}: ${A.isNumeric?"0":"emptyString"}`),d=new Function(`
        const emptyString = "";
        return function makeTemplate(chrom, chromStart, chromEnd) {
            return {
                chrom,
                chromStart,
                chromEnd,
                ${h.join(`,
`)}
            }
        };`)(),p=t.map(A=>{const _=A.type,E=JSON.stringify(A.name);if(["ubyte","int","uint"].includes(_))return`d[${E}] = parseInt();`;if(A.isNumeric)return`d[${E}] = Number(parseString());`;if(["char","string","lstring"].includes(_))return`d[${E}] = parseString();`;throw new Error("Unsupported type: "+_)}),b=pF(p,50).map((A,_)=>Function("parseInt","parseString",`return function parseFieldChunk${_}(d) {
            ${A.join(`
`)}
        }`)(f,u));function v(A){r=A,i=A.length,n=0}function y(A,_,E,C){v(C),o=d(A,_,E);for(const F of b)F(o);return o}return y}function pF(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}class gF extends zs{constructor(n,r){const i={channel:"x",windowSize:2e4,debounce:200,debounceMode:"domain",...n};super(r,i.channel);ve(this,Ji);qt(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>hL),Promise.resolve().then(()=>js)]).then(([{BamFile:a},{RemoteFile:s}])=>{const c=l=>new s(Os(l,this.view.getBaseUrl()));Pe(this,Ji,new a({bamFilehandle:c(this.params.url),baiFilehandle:c(this.params.indexUrl??this.params.url+".bai")})),X(this,Ji).getHeader().then(l=>{var h,d;const u=this.genome.hasChrPrefix(),f=(d=(h=X(this,Ji).indexToChr)==null?void 0:h[0])==null?void 0:d.refName.startsWith("chr");u&&!f?this.chrPrefixFixer=p=>p.replace("chr",""):!u&&f&&(this.chrPrefixFixer=p=>"chr"+p),o()})})})}get label(){return"bamSource"}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,o)=>X(this,Ji).getRecordsForRange(this.chrPrefixFixer(i.chrom),i.startPos,i.endPos,{signal:o}).then(a=>a.map(s=>({chrom:i.chrom,start:s.start,end:s.end,name:s.name,cigar:s.CIGAR,mapq:s.mq,strand:s.strand===1?"+":"-"}))));r&&this.publishData(r)}}Ji=new WeakMap;class Ax extends zs{constructor(n,r){const i={channel:"x",windowSize:3e6,debounce:200,debounceMode:"domain",addChrPrefix:!1,...n};super(r,i.channel);ve(this,ga);if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(o=>{Promise.all([Promise.resolve().then(()=>AL),Promise.resolve().then(()=>js)]).then(async([{TabixIndexedFile:a},{RemoteFile:s}])=>{const c=u=>new s(Os(u,this.view.getBaseUrl()));Pe(this,ga,new a({filehandle:c(this.params.url),tbiFilehandle:c(this.params.indexUrl??this.params.url+".tbi"),renameRefSeqs:this.params.addChrPrefix===!0?u=>"chr"+u:this.params.addChrPrefix?u=>this.params.addChrPrefix+u:void 0}));const l=await X(this,ga).getHeader();await this._handleHeader(l),o()})})}async loadInterval(n){await this.initializedPromise;const r=await this.discretizeAndLoad(n,async(i,o)=>{const a=[];return await X(this,ga).getLines(i.chrom,i.startPos,i.endPos,{lineCallback:s=>{a.push(s)},signal:o}),this._parseFeatures(a)});r&&this.publishData(r)}async _handleHeader(n){}_parseFeatures(n){return[]}}ga=new WeakMap;class mF extends Ax{constructor(){super(...arguments);ve(this,kc)}get label(){return"gff3Source"}async _handleHeader(n){Pe(this,kc,(await Promise.resolve().then(()=>GL)).default)}_parseFeatures(n){var i;return(i=X(this,kc))==null?void 0:i.parseStringSync(n.join(`
`),{parseSequences:!1})}}kc=new WeakMap;class bF extends Ax{constructor(){super(...arguments);ve(this,Bc)}get label(){return"vcfSource"}async _handleHeader(n){const r=(await Promise.resolve().then(()=>qL)).default;Pe(this,Bc,new r({header:n}))}_parseFeatures(n){return n.map(r=>{const i=X(this,Bc).parseLine(r);return delete i.GENOTYPES,i.SAMPLES=i.SAMPLES(),i})}}Bc=new WeakMap;function yF(e,t){if(vx(e))return new nF(e,t);if(rF(e))return new iF(e,t);if(oF(e))return new aF(e,t);if(xF(e))return DF(e.lazy,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function xF(e){return"lazy"in e}function wF(e){return(e==null?void 0:e.type)=="axisTicks"}function vF(e){return(e==null?void 0:e.type)=="axisGenome"}function AF(e){return(e==null?void 0:e.type)=="indexedFasta"}function EF(e){return(e==null?void 0:e.type)=="bigwig"}function SF(e){return(e==null?void 0:e.type)=="bigbed"}function _F(e){return(e==null?void 0:e.type)=="bam"}function CF(e){return(e==null?void 0:e.type)=="gff3"}function TF(e){return(e==null?void 0:e.type)=="vcf"}function DF(e,t){if(wF(e))return new sF(e,t);if(vF(e))return new cF(e,t);if(AF(e))return new lF(e,t);if(EF(e))return new uF(e,t);if(SF(e))return new hF(e,t);if(_F(e))return new gF(e,t);if(CF(e))return new mF(e,t);if(TF(e))return new bF(e,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function IF(e){const t=Ex(e).filter(r=>typeof r=="string"),n=new Function("source","return { "+t.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=t,n}function Ex(e){let t=[];do t=t.concat(Object.keys(e)),e=Object.getPrototypeOf(e);while(e&&e!==Object.prototype);return Array.from(new Set(t))}class uu extends vt{constructor(){super({type:"clone"});ve(this,ma);ve(this,Fc,n=>n);const n=r=>{const i=Ex(r);(!X(this,ma)||!ll(i,X(this,ma)))&&(Pe(this,ma,i),Pe(this,Fc,IF(r)));const o=X(this,Fc);this.handle=a=>this._propagate(o(a)),this.handle(r)};this.handle=n,this.beginBatch=r=>{$b(r)&&(this.handle=n),super.beginBatch(r)}}get behavior(){return Zn}}ma=new WeakMap,Fc=new WeakMap;function kF(e){return"name"in e}class Sx extends Fo{constructor(n,r,i){super(r);ve(this,Rc);this.provider=i,this.params=n}get identifier(){return this.params.name}get label(){return"namedSource"}updateDynamicData(n){Pe(this,Rc,n),this.loadSynchronously()}loadSynchronously(){const n=X(this,Rc)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=xx(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}Rc=new WeakMap;class _x{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(t,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(t)}_relayObserverCallback(t,n){const r=this._observers.get(n);if(r)for(const i of r)i(t)}addDataSource(t,n){this._dataSourcesByHost.set(n,t)}findDataSourceByKey(t){return this._dataSourcesByHost.get(t)}findNamedDataSource(t){let n,r=[];for(const[i,o]of this._dataSourcesByHost.entries())if(o instanceof Sx&&t==o.identifier){if(n&&n!==o)throw new Error(`Found multiple instances of named data: ${t}. Data flow optimization is broken (it's a bug).`);n=o,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(t,n){this._collectorsByHost.set(n,t),t.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(t){return this._collectorsByHost.get(t)}initialize(){for(const t of this.dataSources)t.visit(n=>n.initialize())}}function BF(e,t){const n=new Map,r=[];for(const i of e)n.set(i,{ref:i,children:[]});for(const i of n.values()){const o=n.get(t(i.ref));o?o.children.push(i):r.push(i)}return r}function Cx(e,t,n){var i,o;const r=(i=t.preOrder)==null?void 0:i.call(t,e);if(r)return r;for(const a of n(e)){const s=Cx(a,t,n);if(s==="stop")return s}return(o=t.postOrder)==null?void 0:o.call(t,e)}function FF(e,t){return Cx(e,t,n=>n.children)}function RF(e,t){const n=[],r=[];let i;const o=t??new _x,a=[];function s(d,p=()=>{}){if(!i)throw p()||new Error("Cannot append data flow node, no parent exist!");return i.addChild(d),i=d,n.push(d),d}function c(d,p){return s(d,()=>new Error("Cannot append a transform because no (inherited) data are available! "))}function l(d,p){for(const b of d){let v;try{v=KB(b,p)}catch(y){throw console.warn(y),new Error(`Cannot initialize "${b.type}" transform: ${y}`)}v.behavior&Vr&&c(new uu),c(v)}}function u(){return n.findLastIndex(d=>d instanceof ud)>n.findLastIndex(d=>d instanceof Fo)}const f=d=>{if(d.spec.data){const p=kF(d.spec.data)?new Sx(d.spec.data,d,d.context.getNamedDataFromProvider):yF(d.spec.data,d);i=p,n.push(p),o.addDataSource(p,d)}if(d.spec.transform&&l(d.spec.transform,d),d instanceof an){if(!i)throw new Error(`A unit view (${d.getPathString()}) has no (inherited) data source`);const p=MF(d);if(p){a.push(p.rewrite);for(const v of p.transforms)c(v)}d.mark.isPickingParticipant()&&!u()&&(c(new uu),c(new ud({type:"identifier"})));const b=new px({type:"collect",groupby:d.getFacetFields(),sort:PF(d,p==null?void 0:p.rewrittenEncoding)});s(b),o.addCollector(b,d)}},h=BF(e.getDescendants(),d=>d.dataParent);for(const d of h)FF(d,{preOrder:p=>{r.push({view:p.ref,nodeStackDepth:n.length}),f(p.ref)},postOrder:()=>{const{nodeStackDepth:p}=r.pop();n.length=p,i=n.at(-1)}});return a.forEach(d=>d()),o}function MF(e){var o;const t=[],n={},r=[];for(const[a,s]of Object.entries(e.getEncoding())){const c=a;Cs(c)&&uy(s)&&r.push({channel:c,chromPosDef:s})}const i=Yc(r,a=>Mi(a.channel),a=>a.chromPosDef.chrom);for(const[a,s]of i.entries())for(const[c,l]of s.entries()){const u=[],f=[],h=[];for(const{channel:d,chromPosDef:p}of l){const b=A=>A.replace(/[^A-Za-z0-9_]/g,""),v=["_linearized_",b(p.chrom),"_",b(p.pos)].join(""),y={...((o=e.spec.encoding)==null?void 0:o[d])??e.getEncoding()[d]??{},field:v};delete y.chrom,delete y.pos,!y.type&&p.type&&(y.type=p.type),n[d]=y,u.push(p.pos),h.push(p.offset??0),f.push(v)}t.push(new uu),t.push(new gx({type:"linearizeGenomicCoordinate",channel:a,chrom:c,pos:u,offset:h,as:f},e))}return t.length?{transforms:t,rewrittenEncoding:n,rewrite:()=>{e.spec.encoding={...e.spec.encoding,...n},Q6(e.mark,"encoding")}}:void 0}function PF(e,t){var r;const n={...e.getEncoding(),...t}.x;if(on(n)&&(r=e.getScaleResolution("x"))!=null&&r.isZoomable()){if(qr(n))return"buildIndex"in n&&n.buildIndex?{field:n.field}:null;if(!Ss(n)){if(_s(n))throw new Error("A zoomable x channel must be mapped to a field.")}}}function Tx(e,t=void 0){if(e.parent!==t)return!1;for(const n of e.children)if(!Tx(n,e))return!1;return!0}function Md(e,t=!1){if(e.behavior&cd&&(t=!0),e instanceof uu)if(t)t=!1;else{const n=e.children[0];e.excise(),n&&Md(n,t);return}e.behavior&Zn&&(t=!1);for(let n=0,r=e.children.length;n<r;n++)Md(e.children[n],t||r>1)}function LF(e){const t=[...e._dataSourcesByHost.entries()],n=new Map;for(const r of t){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}e._dataSourcesByHost.clear();for(let[r,i]of t){const o=n.get(i.identifier);o&&(o.adoptChildrenOf(i),i=o),e.addDataSource(i,r)}}function OF(e){if(Md(e),!Tx(e))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function NF(e){LF(e);for(const t of e.dataSources)OF(t)}function zF(e){const t=new Set;e.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&t.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);t.add(i)}})}function UF(e){for(const t of Io){const n=e.getScaleResolution(t);n&&!n.name&&n.isZoomable()&&(n.name=`${t}_at_root`)}}async function GF(e,t,n){const r=e.import;if(!("url"in r))throw new Error("Not an url import: "+JSON.stringify(r));const i=Ms(t,r.url);let o;try{const a=await fetch(i);if(!a.ok)throw new Error(`${a.status} ${a.statusText}`);o=await a.json()}catch(a){throw new Error(`Could not load imported view spec: ${i}. Reason: ${a.message}`)}if(n.isViewSpec(o))return o.baseUrl=Ms(Qy(r.url),o.baseUrl),o;throw new Error(`The imported spec "${i}" is not a view spec: ${JSON.stringify(e)}`)}function HF(e){const t=e.getSize(),n=e.getPadding(),r=(i,o)=>i.grow>0?void 0:i.px+o;return{width:r(t.width,n.horizontalTotal),height:r(t.height,n.verticalTotal)}}function ur(e){return()=>e}const Pn=class Pn{static create(t,n,r,i){return new Pn(ur(t),ur(n),ur(r),ur(i))}_offset(t,n){const r=this["_"+t];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(t){return this._offset(t,0)}constructor(t,n,r,i){this._x=t,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(t){return t?this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1}modify(t){if(!Object.keys(t).length)return this;const n=r=>{const i=t[r];return typeof i=="number"?ur(i):typeof i=="function"?i:this._passThrough(r)};return new Pn(n("x"),n("y"),n("width"),n("height"))}translate(t,n){return t===0&&n===0?this:new Pn(this._offset("x",t),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(t){return this.translate(t.x,t.y)}expand(t,n=1){return t.left==0&&t.top==0&&t.right==0&&t.bottom==0?this:new Pn(t.left?this._offset("x",-t.left*n):this._passThrough("x"),t.top?this._offset("y",-t.top*n):this._passThrough("y"),t.width?this._offset("width",t.width*n):this._passThrough("width"),t.height?this._offset("height",t.height*n):this._passThrough("height"))}shrink(t){return this.expand(t,-1)}intersect(t){return this===t||t==null?this:new Pn(()=>Math.max(this.x,t.x),()=>Math.max(this.y,t.y),()=>Math.min(this.x2,t.x2)-Math.max(this.x,t.x),()=>Math.min(this.y2,t.y2)-Math.max(this.y,t.y))}union(t){return this===t||t==null?this:new Pn(()=>Math.min(this.x,t.x),()=>Math.min(this.y,t.y),()=>Math.max(this.x2,t.x2)-Math.min(this.x,t.x),()=>Math.max(this.y2,t.y2)-Math.min(this.y,t.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new Pn(ur(this.x),ur(this.y),ur(this.width),ur(this.height))}containsPoint(t,n){return t>=this.x&&t<this.x2&&n>=this.y&&n<this.y2}normalizePoint(t,n){return{x:(t-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};qt(Pn,"ZERO",Pn.create(0,0,0,0));let fr=Pn;class Dx{constructor(t){this.globalOptions=t}pushView(t,n){}popView(t){}renderMark(t,n){}}class Ix extends Dx{constructor(t,n){super(t),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(t,n){this.views.add(t),this.coords=n}renderMark(t,n){if(this.globalOptions.picking&&!t.isPickingParticipant())return;const r=t.render(n);r&&this.buffer.push({mark:t,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const t=this.webGLHelper.gl,n=this.globalOptions.picking;t.bindFramebuffer(t.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&t.bindFramebuffer(t.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let t=!0,n=!0;const r=a=>()=>{t&&a()},i=a=>()=>{t&&n&&a()},o=Yc(this.buffer.reverse(),a=>a.mark);for(const[a,s]of[...o.entries()].reverse()){if(!a.isReady())continue;this.batch.push(()=>{t=a.unitView.getEffectiveOpacity()>0}),this.batch.push(...a.prepareRender(this.globalOptions).map(l=>r(l)));let c;for(const l of s){const u=l.coords;u.equals(c)||this.batch.push(r(()=>{n=a.setViewport(u,l.clipRect)})),this.batch.push(i(l.callback)),c=l.coords}}}}class VF extends Dx{constructor(...t){super({}),this.contexts=t}pushView(t,n){for(const r of this.contexts)r.pushView(t,n)}popView(t){for(const n of this.contexts)n.popView(t)}renderMark(t,n){for(const r of this.contexts)r.renderMark(t,n)}}class qF{constructor(t,n){this.point=t,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class Yn{static fromMouseEvent(t){return new Yn(t.clientX,t.clientY)}constructor(t,n){this.x=t,this.y=n}subtract(t){return new Yn(this.x-t.x,this.y-t.y)}add(t){return new Yn(this.x-t.x,this.y-t.y)}multiply(t){return new Yn(this.x*t,this.y*t)}get length(){return Math.sqrt(this.x**2+this.y**2)}equals(t){return t?t===this||t.x===this.x&&t.y===this.y:!1}}const jF=e=>new Promise(t=>setTimeout(t,e));function WF(e){const t=e.requestAnimationFrame||window.requestAnimationFrame,n=e.signal,r=()=>new Promise((i,o)=>{if(n!=null&&n.aborted)return o("aborted");const a=performance.now(),s=a+(e.duration||1e3),c=typeof e.from=="number"?e.from:0,l=typeof e.to=="number"?e.to:1,u=e.easingFunction||(b=>b),f=b=>(b-a)/(s-a),h=b=>b*(l-c)+c,d=b=>Math.max(0,Math.min(1,b)),p=b=>{n!=null&&n.aborted?o("aborted"):(e.onUpdate(h(u(d(f(b))))),b<s?t(p):(e.onUpdate(h(u(1))),i()))};t(p)});return e.delay?n!=null&&n.aborted?Promise.reject("aborted"):jF(e.delay).then(r):r()}class ZF{constructor(t){this._renderCallback=t,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(t){this.cancelTransition(t),this.transitions.push(t),this.requestRender()}cancelTransition(t){const n=this.transitions.indexOf(t);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(t=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(t);this._renderCallback(t)}))}transition(t){return WF({requestAnimationFrame:n=>this.requestTransition(n),...t})}}function Pd(e,t,n,r,i){let o=0,a=!0,s=structuredClone(i),c=s;function l(h,d,p,b){return d+(h-d)*Math.pow(2,-p/b)}function u(h){if(a)return;const d=h-o;o=h;for(const b of Object.keys(c))s[b]=l(s[b],c[b],d,n);t(s);let p=-1/0;for(const b of Object.keys(c))p=Math.max(p,Math.abs(c[b]-s[b]));p<r?(s=c,t(s),a=!0,p!=0&&e.requestRender()):e.requestTransition(b=>u(b))}function f(h){c=h,a&&(a=!1,o=+document.timeline.currentTime,u(o))}return f.stop=()=>{a=!0},f}class YF{constructor(t){this.genomes=new Map,this.baseUrl=t}async initialize(t){const n=new nB(t);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(t){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(t){const n=this.genomes.get(t);if(!n)throw new Error(`No genome with the name ${t} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const QF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAEFzklEQVR4AezcRXjr2BnG8b8SQ+gJOiA5d1NmZuZVuU133Zf3++6XxW27Ku7LzIzDrMgByxQGaxwfWVFGMly088z7e76Zi5bu6nvP+Y4sKwgC2n4KP4QfgEcvAVdZGHfuM++Fj8HHwUZERO6aMTocsMGhl4C7bbrzr7C5N0REFAC30nct7qwhdH8REQXAfKf7FrjTLPpJ7EPuMhERycB36XD+hX0/DuzSlsnw3OfyilcwAA/vn/yzQQMoUHg9r59hhn7Oz/njH9ncJAiAXNj9P2qTxdhARETufgDYNs4fsH/Cv2jL53nzm1lcZH2dngKCP/Gnn/LTEiXg+Tw/Q+btvJ1+/vlPfvYz/v1vEwA26w4fs8lm4R4GgIiIAmB5GdvGnmbuh9Rq8MIXcuMGpVJ6AFhEXNwneOI//OfnSz8fL49/jI+9lJcecjjJJD15Ho8+yo9/TKUCb7J5vY1tcw+JiOgMILYJcDpNuFQKq5+neMrFbRXLnI+fu7im6KlSCS9fqXDBccLb31siIgqARBOu1SiV8DzKZbpr0nRxWxnQqs8tv51lol/2Xf63qlS6euOpKYZIREQ7ANOHTYdu1SDL/wMOlguFlxW+Hf8dujMX9ryrNx4KEREFgGXd9BQoWu97S0vLbU36T4EOD6NwGf78R0REAZBoxWaJ3qqDA9Kcx3p9YXW1sLLSCoBM5jIV+i7/gwCWl8Nbzs0xLCIiCgDbDiub7b8JMF3exT3kMOM4a3bLmuNczoX22ScpPluK33KIREQUALmc2QS0KjGqT3BxzWKf2VmKhl0sEhD0ngKZS5ZKOgAQERmVAEg05KhVBwFXnXJ62eWLRYoGrRofv8yGHsv/gwOYmwtvtryMiIgMLQCSxwCHh92mQNGg/4gjEwCTxRZMRdOhPfbSl/86/hURGbUAmJ4eaAoULf/N/OeibDsKgPhf0AOgIiLXIQASbTn+la3ICSfRSS+xru84YY2NpU+BqtXwYr4PU1PaAYiIjFoAxNpy9NKGajV5/HvMcTwApqYuf2X+govboJG+/I82GiIiMiIBsLAQdualpStfCIg/AJqc/9DWewqUfABUy38RkREKgPjpbKJtc8xxdAIc7/dXAyBlCnR8HIuSbFYHACIioxgA6e+EODqKr+tPOU0GQHwKtMmm2SvUqcdzpNmM3SCXQ0RERicAVlbCFj07C81m/CjYrP1T5z/pUyArnALFJ0k6/hURGdEASL4XyNQRR2b5n5z/9JsCRdfQA6AiIqMdAClTIM+Ljn/POEsGQHIK5BF+ZGurZpb/+/uxS09PIyIiIxgApiYnYX/fjIDcrc7x79xc6vyn27NArY/qBXAiItcjAMbGnrkJOLzo4rH3/6yvR8v/vlMgz3tKb4AQEbkWAZBo1Ftb3vb25s6mi3vOeXyRn2S+5GuqRMk9cLd2Wp9u7O5CoRBedH4eEREZzQCIdgCZDJTLZd/f8Xe2m9u95z/JKdB2dXunsuP7uzr+FRG5HgGQz8fadbPpV6t+zW9VvLv3DQDLotwol+vlet2/HvMfEREFQLxdW1Cp16v1amWx0jMArOitotHf8hu+v+c3Gj5zc+HllpcREZFRDoD4AzvVWq1Sq1zOf9bW6CkKgPLr/Uqj0njkA/HLiYjIsGQYwMxMuAlYW+Oz//8/X/4/L3lJcvlvQdBrChR896vf1QHAdSIi2gEkm/Yg85/kFOjC5KQOAERERkEGPjT4McC6w/rfYQ6KS93nPx9K3QS8ulVPgdMJE8tCRESGGgAbDGBhAcdhw4YlWIUiqcv/b8Gn2UgNgI0iWGB3MkBERIYdAJ9iMO8Je3e7iu1Klbjg9HS7+5syV3AsRERk2AGQZzB52/TudhVhjVSpF8ybT0X5kUNERIZrjMGtJpb/gyuaCiPk+hARUQAYzq0GwMzVEZCIiAybFQQBIiLyrN4BiIiIAqAK34T3wxp8CX7N0+zZAQYCQRzF4bfMAQroCKETRMfYvWRHqFt0kI4wkaaQDQQ7+33mDPPz9wBwAQAgAAAIAAALU3KeWwEu+dglp7yNATqEADT35Np+/zGNAHQOEIDWgFsyBQAbAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAH8iAAAIAAACAIAAACAAAAgAAAIAgAAAULLPD9v0CYCSKXOO6RYAJaPff40ASg75tnm+5QLACAyAAAAgAAAMtdasBAAuAADKkJcHO3eZ3Uh2wFH8GtRkZmb2kXrCWUNWHGbmxAwyW2RmtpXSyOrwfJ9X93f+ghW8K6xZSP3LRvgvf4bvw/fgl7wq8iUlSaqlYgn2P62SgWYqcjBXWSAkyQBUXMCv/ysDST73d5j7/P6csEiSAajYgcy/LzWX7Z3rZQ5WkCSFGICKJ/jrp/cBh4f7f/9xam4q9ffUe94jSQo2ABWH8BPIzM9n5uYyf9/KHGe+zbd76UWSFG4AKtLp1YWF/dLOjjiqp94AxIAkA/D8zNISi4vXCwtn1L/hTTTCJ0n+EWx1lZWVaIn9wgwz0aaYInCSZACKRdbXWVtjdXWSySmmppnuppvASZIB2NxkY4N0mkJhnPFok0wSPkkyAFtbpW1ujjASbYyxDjoInCQZgNNTdnfZ2WFvb4ihYYajIUkKPwCZTGn7+3XU9dM/wMAgg4RPkgxAPk8uRzbbQ08vvX30VVNN4CTJANzfc3BAoRCtm+7yCJ8kGYCjo9dBO+0ddHTSSfgkyQCcnXF6yslJE01ttEXzGnDxIMkAXFxwfh6tmeZoLbQgKRZkAK6uymugIVojjUiKBRmA29vSbm4+8KGOumhIkmIRgLu70u7v3/O+PCRJ4Qfg8fF1kCDhJaAlKTYBeH7m5aV0D7XU1lATDUlS+AEoFl9XQhVV0ZAkhR+AqqrSqquBIsUXXqIhSQo/ALW1pdXUAE88lYckKRYBSCR484aqqgceykOSFH4AIu/elXfL7Q030ZAkxSIAHz6UVld3xdU119E9kqRYBKC+noaGaJdcXnARDUlSLALQ1FRac/MZZ6ecnnCCJCkWAWhpobU12jXXxxxHO+ccSVL4AWhvL62jg0TigIPykCSFH4Dqarq6SuvuLlDIkcuSRZIUfgAiPT309tLXlyWbIRPNH4NKUjwC0NdHfz8DA0+Jqj32dtndYQdJUvgB+PCBwUGGhhgZ2WFnm+1oSJLCD0BkZITR0Wh58ptspknbgHiQZAD6+hgfZ2KC4eE06XXW11hDkhR+ACITE0xOMj29xdYqqyuspEkjSbEXgwAMDzMzU9rU1DLLUQCiEiBJCkItX2x2lu3tod3d5P5d63XrW94iKQ5kAJp6elKpVDKTSWbbkr9Nfo2vETxJMgDJ8j5+TGXzyVxyND/KFpKkkAPQD0lIlQPw7l3qs+8k8glylHaHJCnAANR/OvcrTzqAkQQfeQ3AHwiNJBmAmX8596NN8C8+g1xlewRCkgxAz3+98H/Hv6v7lwbk4ZEvNUlSVbFYRJLkH8FiQpL0D/buAqqtNd/7+DcUSQrBQ4TgGg6NNEyZqZ13pvJed3dZet3d71123WXZdR13OX7OSIVOE6BKC6USCMGC9oS2+z6bTUIoFkrP9Ib+P+u3Uk+C/X/7efZOycHEanzwy/Aq643CS/Cn8MPQBQWk6YU/htNg2jTrmDZJDnwV/Cn087TNwz/B14Ips9TBL8I5duwe/AUcA9Nq/o8TQshVQL3gTMaDIQF9azPKWl6IwdhywuxOIJlOstZ0MkIIkT0FkN4BLihhcO3ov8Im/DAGseVEeFK1cDBZAFksnowQQmRVAYxAL7iYck71Hy9Ln/4zbK7C6IBkHrBzFggkUyoFIIQQz+KVwL30O/v7nH19rnf1NTf3wTCbej9JHoi9SSzKGPRgcOI8ylEUE2g8JhxmYABNS9v8cQd4TwvLvp2thMPh4eHhRCJRWVnZ0dFRVVW11bMzzMOn2Lk6OISy7dOKRLhy5cHUVDw/P15XN+PzIYQQWVQAceJfevClvl41/Qf6XAV91dUPLRYyKQDF72fsc3pi00ZpBAlasfrwsYYJuHWLM2d4/XUePgRaqQpwOkAgkMmkPXPmzJtvvnn58uXFxcWampqxsbETJ05UVFRsUwBP0gF1y2H7Ahgf54031DObHh2dtlimOztZWqKri2whhJACGGDgLd46c+dMX99CzO2mtpaurkwLoLiYQIBYjLHPqhooX7TkkefE6cBhx06ahQVCIT3nzjE4VaaP/oMHCQQwm9nO1NSUGv2qA954443p6Wmv15ubm+t2uw8fPszjPsJ68+Rt3QGvwImlJZRaqCNDg4P09vLaa/H+/nh5eXxxEaeTjg727ycrCCGkAAoosGBZYCHW309dHfX1NDRQUUGGmpqW1wFjxGKTX/ximLADhxPnKU6RJhRayeAgvC9AYDk1NWRgZmZmYmLi7t27k5OTwMDAgN/vV02AYbvD9dIt1hYaXISX4FTsP15+qVqrLqGkkEIysbDAzAyjo3FNi09MxCMRxseZnpYCyBpCSAG00OLBM8jgzbmbsStXaGykuZnDh8lcIKAKwMilG5ecOI1FwAEOsOzmzdUCwOslEFhJZgoKCvbv319SUsIytftfVFRksVi2LoBtpr+G7hb0xLjwMhcufFlr76LLi7eRRjJhtVJeTk3N9NTUtM2maoDsIoSQAjBjbqf9Bjeucz129TwtLQwM0N6uT7cMmc3GRpCesbHwzMoiQKWSytnZ1el/v8xJILn5kzGHw9HS0hIMBvPy8hYWFurq6jo7OxsaGmC9byJNof7rdTRWxOP0vKRGv4pjMu8UXUGCKhYsmS59vF4WF+NtbfEy0/TgJIWF2XT4L4SQAlBaaW2hpZnmy4nLUzduoDI4mGkBGGprjY0gldgbb4QJG4uAE5xITf/he7nGWV89Nhs7cejQoZycnKampkQiYbPZVAHU19fzBDRW9fSo0W+6cKHg5t2TnDSmfzXVZKi0lBdfnKiqmpy8MW39UOLf7Nhs+m9mESGEFEAeeU00NdLYQMPUzesMDenx+cjLI2Ppi4C+K31GATivO0OhDqMAjAN/PR4PO1RaWnry5MmpqamlpSX18/z8/N1O/y9/WY1+lhPkPcb076STHamqGqgaHGLobnCUr+uipobsIoSQAlDqqVepo+7i3EVteJjbt7lzh8bGHczVffvw+03GyYBYLDwediaczj5VAI5QiCV3g7H5o6nbJBM7U1ZWxhPTSDGpektOf4/WHiRohB0aNA320nul8sr1/++hrY2mJrKOEEL+N9ASSmqoceOuppq7d/Xcu8d2ND1pnE413zW//77fHyUajoTDw+Fr13rvThfNqd9fDlbrun/+DvskaBhMKtPTqenvmMw3Rn8XXfvZzxZMjydqip7hTE9uT+jg3H2fj85OSkrIOkIIKQBFjX4VFy599I+M6HnwgHW0tKxnXORzMRD4XZ8v3BgOR8PRaPg3Dx4MGZs/DQ1b3OHTVwg/lD7Adcnpr2/9p6a/C9dOn9YII5fyLvUcuT7Y3U1XF14vQgiRjVtAyuoLuJaWiEaNnRycTnZoqCkQahxTsQyM1X506LW8Xw4H/r8jUG4PlDfzDJhYs/W/UgA9PUEOd9Gl8gIvkKKRIVepy9ftm+vOzTl8+ILqgOwlhJACsGK1YVMpoSQ+Po7KxMROC2B+nlCoIhQKhEK/0fhXFY7PePI/E1G/sh+02/PsDhxFFD2b0a8MDaWmvwdPV/K6TwwaO+CiqrvqePfxfd1VOd3dORbLebKWEEIKQKmgQqWc8vjkJFNTKlvOVY11QiEjnqGhoZPek46I93ok4vyhL4S0kB27ylGOZnp/O2dic9PTqenvnDJ3pV/1r5Hyd/DtUMmWmqFbj6PbceyQIweMnCVrCSGkAMooK6VUhfh14nFmZnY0bwcGCIW4eFG/7aCj09tZH/E6IhFGRsKmsAOHscXUQgtfecnpbx6MBJNX/bs0F2neC9/BdrzQnUwnVXAMcpL5EtlJCCEFUEyxFasK8/PMzel59IicHDKgyiIUWknR2xV+/P58f8DrNc4nJyKR0P2VRYADhxUrOxePx43XAeTm5rITxta/8cqvIEf06a8F07f+Tej+H9v1XXdaGjFUru2AL5CFhBBSAIUUGkFZWFhJURHbW53+d+5wAr9f8/vxO+rr8XqJRFTunDsXYqUDjnGMnZidne3p6RkcHEwkElVVVZ2dnW1tbWRoaCg1/TvoCGorV/6wI4Vrp7+DdOXrOuARWUUIIQVgwaJixozy9ttGMimAq1dXC+AABwIE/Ph9+ACjAIyE765uBLXSSsbOnj376quv9vb2Liws1NfXT05OWiyW2tpatjU9TU+PMf2dk2Zj9KuYMe/s9WhzbK0UvlZPdhJCSAHkkptPvooJk7a0hJHtTE6ubv1XPLD78RvBUFi40gEjI0sjnwk9XN0IKqaYDESj0YGBgQsXLrz00kuapjU1NVmt1paWlkwKwBj9Kub/iATPnlw+99vq5DYqm47+JqgkpRshxN4nBaDsY5+KaoKlhw9RefQo882fkYjpNH7j8N+GjZSWFqMA1O3dixfDhI0OOM5xMnD//v25ubmpqSk1/YGRkZGZmRm1FGBbly+nLvwPvv9IF21BbndsNfqVpuUgBfDcEUIKwIRJBUXTkrdbuXRptQACyWP/tPOrST6fUQAqoWjIWAGoZLIRVFRUVFZW5nK5SkpK4vF4c3OzzWZTP89k7cCtW/T1AV3vvxNEBRNbaIQmHvPHPBeEEFIAj3ikoqGRk4PJpOdxx0mKxVZ2fhZDHIdmmo0CYL3S0pWNoGj0wcJCiFl78oRwCSVsqaKioqOjY3x8vLi4eHFx0e12BwKB1tZWtnhmBk3T35q2Jdq4yO2L8EdwfOsCeG4JIaQAHvDACPv2Gdniu26FQkyHOKQSXbmKNEiwjDI21NHB+DgWCw8f3oMw2BmzE3qRF9nO4cOHLRZLe3t7IpGorKz0eDxqEZDRN4Ts1COE2IaQAkiQMIKSn29kszEbDeMN6aEPgxnzNofzx4/j8RjnFUJgB4eeaBt2thNYpmmayWTCsG0BvKBHCLE9IQWwwMIiiyooZvNKHmdHGcUeAiM7kjxyf2h0QDKlZGSL6a/YN/+1EEKIHDY3x5zKPPPk5LB/vx6LhfUewcXk9J/giUUgvJwQz5QQQsgKYIYZI1itKpu+BCyUzGV2Z3UR4IB2nhEhhJACmGRyiikVSkspKdGzoYPL+VUypPGsvG85f48QQmxNtoDGGZ9gYpJJystXIoTY84QUwDjjY4ypLLCAzaanogIhxJ4npABGGBllVIWiIhwOqqqorEQIsecJKYC73L3HvQgRqqtxOnG5EELseUIKYJTR29y+w50YMWpqVPQaEELseUIKYIihW9xSwWajvp66OimAvU8IIQUQJ36Tm4MMqhqgqYmGBr0DhBB7npACuMa161wfYOB+qZnmZhW9BoQQe5uQAhhn/CpXjQ6gvZ22NlpbsVgQQuxtQgpgmGFVAFe4Mu+w0tGBx6PXgBBCiD0nd92vc61Y22lf6rRffeEFvQPMZoQQe56QAvDhS5BwdDjc3v6aAwf6PZ4RhBB7nZACMLyr7F01vhq3113j9dZAH/TDIkKIvU5IAeDD4XU4fI4aOzXghhroh+sIIfYwIQXQBl7wgZd2cCcLwGiCfhhDCLH3CCmAYvAlk4NSBO82pn/aUqAPEggh9hIhBeBLHv67SFe9nJq0JugnuwkhhDBpmoYQQgh5IVgaIYQQUgCmjXIY/gzukrke+C3wg2mzZPK4Rk7BX8Ntnoj6Z38C74Zq+Bn4ArtzAX4FmsCUWerhF+EcG/hx+Ev4LAyzVlR/ezme8WPkwnfDh8lEDP4W3gsm6ITfhStsYhT+Kvk0fPAHG1wcZnraqYDvYnMP4b/gW1P/4ImfzPNg03eWKS1e+H24yjv1kX0P/N7az/8p+Hf4Xih9Sg+RbgD+GI7tfuyY4TvhP2CerX0GfhSsO3zOJ+EfYIrtDcMfwaHN7+o74P1PswA0NpCHkcw1QSN69rE7juQd1bIXzKx+NXwCPZ9Ev30ZvV7FQT3iK8eMkXeEGw5Ap367qgw6wKPfPn31yVif1h0V7uHLQDOXb4TNGIe6Q2s/zKkOGGAXjLtoIOvNw1W4podDxtpEzw0Y0G/1tOnB9RxP/6CejGmIXb6zLO9kAaSmv4U1OvRZwS39llGepjxoSKaXXUjdC89hAWjrVkp5WxWACQrAt9HoblLZTQFYocHoALLY4iLXrnHNz7VkB/wuKUMqRg3oMWog2gZ27DxP6iG4ixWACfGEKwCLyjs5/Vt4XAF0ZFYAuzh230UBOJN34XwuCyC9A85zfphhLV8jj2/Me6wCvj31hefTk/L+1BWljZ+lcQZ3an+juJiuLioq2FyceA89k0ymHf43UNCVesiNvX/TMwBnSeOCI2zo28egiqcskdBHv8rVWq6BUQCzrHdjNUYNfLKNNpVKKslIxu+XGLzOWp3gSXtHvD91CuCt9S8cpzX1gcjU6CiRCBMTzM+ztERODmYzJSU4HNTVkZcHFCdHfxDKSDmzflf7/OrEN9VR58CBMjvL8DDRqPqJ/hC5uRQVYbfrnzlWK7szPj5+7969iYmJ2dnZJXXnUFBQYLVabTab2+0uUW/IU6Ge/L17q++lffvYv5/yclwu3G629b/sfQdYFGnW9SmBJgoNKJIzggKCIKLojDppZ76dmY3On3POOeecc845rRu+71t3djbNrI6ZIAgiUTI0OTTdQHdD/ef1LmUrdFMdGNedPs996oEOVV1vOOfe+4Zqxs6yaoNAFTnPwfIg1FWGh9WFNjZgscQdOhRXWhrH9wLCzAzGxiC/1uN5+muzspCXByBV2F/Z7qgAhrzMgDotG8ziIpxOSGtJTMShQ8jPR0aGmaaeDhR+jMJ5FBija/x6Y6P6hb4xh7lWtK5gxUtDqoEKo7X7JpmPADuCxBtP2/tlX5cYAe5hb1ze8WeIKSAdE9rEXdz9FJ9SAC5b2FrghW8Y7J8niwp2I53iYhT/KorvbgsAa5Ed/rXX4Bud6PwxfjyIQRwQAfglnmWvW8P3LuOLAD7wqwHZu39f3cm/Um+FE5ub29Tfg94F9OYr6l+Cf/Q+jQOc/bjaj/4KVFAGUpEaugD40IBKoMq7LOQru2nACW+Vv2yS1B4+RH8/ezV5VLGzIQCpqYraSkpw7BjNSP6U7PXjh7e57gAOnMGZ9/T3LO0PtUePMDiIqSksL4sA0NVQ5y8rQ02N2uY2KJD0u7q6BgYGRkdHZ2dnKQAbGxuaplEAyPtHjhwpKCg4evRoVVVVIkkqaHiX0uwsVldFAIT4yKfqLqqqeDuB1vPgtgbwZPX1eP99WDqacf8+r6Uuur7OO4nLzIyraow98XVZELo3WInt7WzVSnEpA/y1IgD8tXTs+GtZp5WVVfn5wv5+/BcjCOBRB9SvYn8ZGnrOXRAtJwnwtLwNEsieRVBYiMIOFN7eFoCKCvXzTp+Gb3Sg44f44RjGkMDvR6PwS+osgG8BCF0DXofArwAYrd4E+4dXAACn7lzRVvpi+o7HtHsVu+4ddEcbS8p8CQCtC12/ioUF4L33VIcnF7Bl7wYq8BCGBjDwK/gVd3EBit5X36dnYRLkL82HBvhgfx3hh/C+lwA0YR4msQU8gsQBN1kONEMGkpEctAD40IBKmt+vGBpwQllA4I03N6OjA2RnupxknJWVGDegwZ1ggZDF0aPkkRNzc/VnztTFxNTtqE5fveEeUKqXFtmLlu9cO9zaigcP0NeH8XFtYUEXAbBaVXhByiCV8BXKQGAgHfU3Nzd3dHT09PQMDQ1NT08vLy9vbm7qum6xWKxWa1ZWVnFx8fHjxycnJxsbG7MNgg6xlPhrLRZsbdGHIPGRhlSXobadOcOYMMB6Fg2g36Xn5GDp/t2M69e1O3fQ2cmyYmYyPi4hvvhy/Hg8pgAbVA3n7CGJuHED9+6hq0u1TZstcWXD4rFsRm3akzQ9I4NlTrYtHh+vbmiorq2thj8UAMdEAFZXH7ISqSvd3eq0/G2GEFIARMt57xQGvnjhAjVgbwGgkdR/BUvuRH5eyVVtrSrY3TCPeeY52NG+i++i8Liw/y574/8AvnAA30/GajDs77seTWvA5f0aBHbB5dJdriSXxcJGv3vK1WD/UuwCegZ0CEQGlABQ3mmPH/sSAHk8PT/khlu+pqJ4c/itUKXn0APPB18Mn/svXgzN0ICZeAQON9ClZEAFATSRAWoAlSDxpZiXwBu/fh23bqGlhe5tNrKLUJGBjAQkQIfT4Zx2TA+PDk0ODuZOT9fZ7XVud/3581HP989x+ADfyF7NdnzqcNz8acadO8XD9/PyFtOaVE93uehgeAYH56Za58hQ6v/4eOoNkyABsf/169dv3brV0tLCIIDkTk//0KFD8fHxFACn0zkzM/P48eNHjx6NjY0tLCwwMrhw4QIlIWD2v3ZNlRLpj8THSOWVV+jukHoU+y8vq5iABcjj0pJytC0Wn91hGH6YIzOTxdC30dys8VrXr6csbCYiFUhdX1+P646Lm4qDDZiCshPAKewOXVdaRQH49FP+4DJPUSkaWaexiKUuUh0nlice93cuDg1Vzc5WOzerPalRpwpA+A8C5ueHbt0aunvX2dZGIU+YWGS3z0R9EpKiEOXcck4tTfUs9ayTGFggBAMCaqE/UDVYTmIMeByK/fl1HhlL+aYdagAA45vmmVYLH3/gLeyKVL7zmY0BkKolCnOvrrqI/+qy/OiqxZKIjjS6JGxNBsFmP91NzifI4aIBdBrWhf15rK7e9dmTpH4xJhNZB/wa/cRABwN1UxrgFchcQOjgfXnzPs06tUbKPoqjWcgKzHmXaPrEifXY2I6+voHR74kA8EiTsYF4xOPnFnTfSFu3b5NrWJn1qD+Jk/zNLAf2agCrWJ3EJO+ly9Z16JPoeldaPXIOw4Lz4MEkHLcdzptLjuvX34y/efw9nS2FTkVsLBMbpH02NvIqo4IJUpX40eYFgEl/+v5k/2vXrg0ODp4+ffrkyZNlZWWZmZkJKo9MN3SVXj8jg9bW1rt3766trR04cIBZoLfeeovZoQCGRuhK81dSA1ZW8MYbOHkSpaXMdLNrUADYAdmo+LPVZ27eVPfGvBm5nO8GiA2Fzo3u9uzm5qqFU3nIk4pgwE1/Im4xToWDU9t2yreoM3Rgzd69ywo9h3NVqMpBDpuiB54FLIxilK20d7C32lFa7a4u2CzAJtAIP8iYxfEbg0M3W4ZvfdzS3Hzcc7QK58pQlotcdhkKAJsKeZlXue68bmfskpLCaIC0sNd4gKpwMQZXW6R+mg8B2MSmvE0NYGnL13Y//+V9Zn8fSew0efmzEAC2ue5u+j8Shbnsdhex6YqJuxLznSSyEkufvMwoj7Ge5sX+KfAFCrZoAI2+oAOGBtDf2cH+IsVsTCg+JxFAqHPeNB/vhHHuCBvPs9SfMm4n7wtT8w/x3GEeLLJz59jbmSHh2Ry9vW2UgbEBkQGaIQMWWBB+6CGWC6uZ3Y7My1omU1zAhbM4ewIn8pEfhzgA61gnWXSjm/08ai2q7kYd7wUC0xpAAXDcufPXs2+91aAzwcPiIDdaLCQ7XlY1VZdLJVSWWWCDg6qOFhdVkZoAXf729nb6/mT/hoYGuvZnz56trq7mkG8cfXPA4XCMjIzk5+dTD9g/Hjx4IGPCOTk5dXV1MAlqFJMe5FP2tbfeUpmNs2dVrt9qNWYQqM5IyqMYfPQRi1Qy7EGks1yufper19Xd/frEa6dwqhSlVlh16MtY1qDxXxC92wLwF3yFXeMsWTbIdKSzWl/BK01oYg0CkDpl/+1BTzWq82x5VderFPuLNfleaXgTx24eG7o5NHJvJAUJbCQ1qOGgEDmY414UAP5CthM2G2rVp85PeXWVEBsd3UsAWIqGBpBvxiUI2DX5TMIR4yVQeALynV3xBV+v/SdlAePfmdGYVHntsxCAvj42R0ZhJDJJR7pWVtxs4B6PJf7Kr0lOth06pFEhqaJsB7W1NQ0NNVFRNdib20jjYmQGcfF3FQBJ/tCY9fOd/zEXBPhgMx1hxfi4wftiySOLivFxwVsAVN4jUOTn0ygALG0aq2alt7e5t7d/QrE/zVsG2E/CxvyhY2aGIsWMNr1FzmStRe1pnKYGHMZhbIP9mcXCO6RXAKByvRI3QASkARv/em3sUuWFV/7q2bOv0HXeBsc1lX+ytqa6PPmTHMsEOhszO78ZAWBuh/kfevednZ3M/NTW1jK/f/HixVSv79LZZ+o/OTmZKRQODnOImJpRWFjINFFlZaWpIGBignXKUuJPZKjH3qSmqZw/D29Qzfi6283fxG7Bz1PJ2DEDFwCK4sDG6OBf6c95A+dexatkWJ+rFG/AJ5aW6CCyJA+hjMEcG56wv1GnPC21ZA5zVJf4uXhc3xYAD3Bux4rQSbK/soM3D9a01Gxgg84+2wMFIBOZRlOkDHCof1abZYNnSn+F5Sa1aQJeAqC8NNGAnQJguP9qwpjxHdP4CG9fAb4B2AMhqNcVrf+eD7BjdkcyfLyw3wIgSVuG7a2t5Gm2cSZh3IWF7vj4xNH45ssrhy8vHaqf4lsSHxyZnz+xulpz7twJEwEp1drgcw6nSRBAGSfHeY/DCPurmiiuheR/LJYwerR6GKeOsxU+O9KbNDSr6BjnvKk/xHy9lJoIAI/Ug6Xe3juUgcmnMmAMEePnBOPK21I1CfDX84fRJfRmf2/K4FsQrD9LPa9hT5wBzh7G+WqcOLlLZdNXZkCgOrsw18qKMhNgTp/ePfP7zPUXFRXJJB/F/jvAgIAywDlC/Fh3dzcHivlFfr20tNTMZVQpsRdI0plKz/Hq3cCmRJ3gxdgxlWzYbIYbax4D9q/8OLHh3W+/W/9KPWk6mC6g6zIuzSNzJh541rCGHYhBDLUBgkVANMADdbzk3Ugg7K8q/T7YgDlKRA1gO9nphdC/ydKzOB86TUtbWR6G1KbHo4b6/aKgQJL5KhyclzEAGQr2+iJpR9x/hqQorBb29znR6Ns+JADOYOnk0lMJ+OoLXAdAF6O5mXlGagB5mblIOlFkZ1damivhkeVfnHvNsgLLwoQ+MaANPHr8aGbmxyfsjhpX/Ak9K+18JeLNUhmNzCApIB55iZ2BGAeOTbj/Wz5e8IFNIA9be330gNef/srK4H2h/gHbUdWDG71zPirHGi6QUGjbMkCb7+u7SRmYUuzvPVOIn8MLx/S0TPzXoDF1SzefdQkzEA0wLQBnoeyED8GnM8d0vTgnWF+nDwyXy1wAM2Oz2Tjxn2l9RgBkefK7b4op4Ac49ksB4KgAv8iv7xSAsV1bEUuJhH74MD0t5OQg3Qk4oe24lWQoArNalU+2sMBEFhnQWwDysDeYpqdzzZZJ9g8y26dpqjSTkmgTqxN96LuN29QAnpZxwAFf/WVFNOBZARjdpn4eOyBI1pPhG3SkeAtxehw0sCrFyOMmgwBW4HyLHYYGlJTsdP99DP+anKLzPcCJgHERghcuAHQxjKQtLl1CUxPDUlKw6/CUK7HD8u9+v8Uy8K5ljiXVp/cVaoXdq90112tObJ2oRCUkZo/fuyaMoeDp7SwQryJTPN1wG8O/Qv08+gjYfUwQ/D5g3z0LJMiGfGdM2W56/ZrXOjAfO5LNAz0Y68WHvXikNODUXzloTS/MPHymOK/46CHF+7SDOLgfGRfyvmHrfX3D5eVkqbn5+T+8cLV/QGTAXY7S8he7aNrtJj2RpGhpirfS6dNJ3t+8BpjEnwZ0v3x14IAy8V7FTPx899LSEmf18JiWlkbHPz09nZM+fYe2GfwAPymLBhYXF/nFvRur0wkpJYeD7K/IPe0B8ACaj2xmLC1WuaX8PL9LPfPCn8DeSEbeYeTnoIBMGvyIT2amLEpYu3//Jm4y6c9Z8+RLOu80iv3uSuCA0gCPd3oTyn7dnmkSFXKsremkes2jHdg8oG1pJmrT51CwW1JAXgKwhS1j/g/FXD7qb5nqd+EbVxMD04BLPzcrgdkW6YzTm2R6p7paLZfgeNSZM8yIufAtl+aKOeWKiclJseS8hxMckOEUguM4XugurLlRA4E5DTCmA01P60YQIAJgDP/aYUdx047hX3Na/JE/DTjD7/hlf4FvAXACo4Yld43GPx79+jffsXJuYEZGQVHB0fLC5PJCHDqI/cRGwdG+jbLejb4B9+NJi23u4MJU0p+MH4hPQGY8QEuAsswXuOkFGYo8BXDkg3RjREL7oQFSxWEE53c6ngAAB3iZ60+iz+sbMvmHnyQ4NYhf5BmwA38Sz6Bxfd0oJeXXJ32CPwDcAzQfYekPobC8rMKFzU1aoAIA5AnvhjTqL+vRGLt4PDOdnd/H9xkHMMIzBIB/k0F3yXyuKw0wB413abNRTRUtra6ynLSNDd0jSaQtBAjvrD4ZblQiAAZSQjtC/TwuYxmFtXtn/y/DF74ugvJSbgUh0ej4OEWV96+82Lo6lhwbGtnfBZfFsmWxaDExugaNLn+BXsAxGTp3ye5k3IBpDRBWl7lAWPGaD0rvxhj+lTleyhgU+8PH2A2Wj2AxOqCRXfuHUNzvxOX/9vF/+29YAmCFNy7ADBKAk0ApUFaF0hiU0hX/X9/u+ST9WlpWlsa+QQXt62PpMRskEXrYN5Xg6Xt7edR6e8v7+spHR+3Rs9Vvud6qiFJjABVIKQdywjkcrAUTAdBcLkkHW2ChIVCsA3gxGuB5AtnvIWYb8AvjY6R+fpHgpPgopjF94y4ZXAycHnvg8oOCywUoK4BP/Aco8ENEfHxQA2M/Af6wtI7gNcBqpXfIMlK0mpvL/jo4OjroHGRyRtx/SfeRIupQ93zez7P3Nk7kA5rsBDE7qwTAbldCycXXbverm5uXgiJYbwGAsSDAEADRAJkzFLQAfA0GXkYBYDFTdhmQxsWxIEheEgSR+tmbeVSdWJn0NdCno0HgftZfexO+QZ5/OhLQ3m43pgPZKqzy1wQmUHxe8j9BTJeN3fmqDoxKtNBx9YMx4N2rwLmQRn8P1uNUCRT7M+FO+93zvT3zPb29VzfZvkj9chQZYDHukfzRTJKqUL/3MX4+t0KR/rsyx5RHdr+ft/mgenDkXB3CpK/wIbjH52maUWKm8lOeDzybqN7EMbNlLVQVzKStvDDUNvsmQ5bMTNX2SaNk68nJtampgcnJgZWBFKTQ/WcvZhyvQWN2yOTGfeT6tjaVHGbvGR3lKemUpi5a0u3JybwceanroOVK1P1vRCEIUKoksX/kCKaNuUC1tQvaorj/PBruv1SKT/wSduJtAC+1AIgzQmH3Tq6JAIgGbAuAj7birQFvmh0KZmV7toOA4YpUkWKkpJie/Xl5J/tf9pli71ACQO7/b/HUgNCJzQprIxpLvWSgzN3b09XT23cVO2UgLS0Eh3QX6o+Zy6reJn05eve0F6wBMTE0aStsOeJABLyXYwOAF6MB4stL0l9CAddeQ8fubTAdxC/y6+L+7+EKiQEbX9tgMn0NJUCtmbLWQ9psWzdf23nAmK8pfa+/ruZwk6qZNpiaImGr0ezBweXu7ubF5iUsUdzSkEaPhBN49mT/hQW1Eu7uXTqFaixyNKFCdf+abHqiMvStx8U9ZI1EDyGqH98JKQiYvrtkzAcdLloU9n9m3fAvNKL9d1rGWqo2pqdZo0zFiADQkrwFwLcGmEFqqqEBpLMpsr/z8eOh8bShXBn+PSbuv/o9e+CNPf7XvfcB6gAxKR+KB86FrgEEk2BNaHpGBly9PZ09A5QByQXJUZSAdx4IOPzV0/M8+2uzGce2SZ/2WU37uQ2chUnExzN3zk4ry33pCa5gJaAyxWllLwoJCir1L6u9Vp8AvsFsj5H657IAGQ8wtdKbUTQTKZpm1+wr+gpz0Lum3nSEF5qc1YzCXISq+AH4QFYWjRkhcgU1gGLABkrS4DTC/ul+WSUwjvECFGAvtLbiyf4UuNdu4UoITkFkl6HfTqWhAOgsKGYmLBNQAuBz6Nj8UPD6kxTQFmfsPhEAmvE2L/e5FAA2xJQUcVQp43TOqb2sWlcO1EZAmuuJOtD0sHgjJSWGAKi03+jw8MiofTh3eD3a81Qcwg1t356ykoEMmrcM9Gz09Hb2DvVffRoKUN0uXlQdxjQ+/lgFxQb1b86kG/6+8QeCAt1TmkS6koqmnw6faAfuBBYBWK1UOx4XlxbnMT+DGQccptZDWKCov0HZi0J0dDRn/qQ9wcITcFsI7vTALYB8zRnlB/gxADIdKNWM0rP009QkKQ7qzs3MzWgzNt3GiY0MCkLh/fDGSxcAC5R1+89l5eQoq6lBZ6di6sVFepCzmGUcQPk3s2iEzfvBA7UpBk7XUgCUVVczy/RsOUxgFbgWtK4/JfmeXuX+c+3eiH1h5OCIkt7CeiP7/7kUAJY1q7CgQA3Okm+Yd9N1hgKuo0ddhS7XATUGwBFgskZYIHsA06jxrP+Jyclx2xrnkxnsr9QorNB8tHwJAsICujw0QwZ47Fnv6X3QOyoy4HZTGkwLAGlF1cMPfqAqZGPaupP6Q1n6y04qbjrBLsoOwL66a/ksoFuxv7IMmAcFUVrU0hJ9wFGMcmyvGtV+NhyUgWJhf3WswwsEN3nmvH5u6kBa59R+LuziCq/jPjaUZiJhfHx8ii4wwK9wsyBODDV5Gdno3z0zwyIa0ob60FetV/tpxMwUyYRaHAdeAy5BHa2h9glfDt1FIBbKLEC7GeGvq5N1tpS3LQLKTGy7BBYeUzKQxXsVFZyDLhGk/ty8gJvALQQLLwHo0cEVG1NTk9Pz4wfHKcPyBgnw8yoADLJIUlVVsNnUPn/NzbINoaukxFVgdV1xWX75lsUyAk8OHaRwTHAXnteoAWvj67bZ2anZ9cm5SRS/bW74N7Dra+aD4JCRi1zaMzKw1tO7NDjBvhDIiKKu06gaB/Omn6d+cmXIWQ7lo7PZM/Cbtk9zyI7JN47dZSLTKB+P7ulARzOa7+HmCG4DM0Cm+UE3WYJJ+RrEYA96mAfgMk4KJJ4FL92GNuaIuDqprqZO2J/HEN3a0GSdLJTH5V3c55k7fXIvoN7eXi4EI61zuu9O9n/48CH3jeCyYfr+/Bi/yK+b3OpDlsaQkPqd/d3opiOdoqXsOpI/hakudNlgY0m+mv8qJEvWCFj3MUFUAli2LdZ4okZ3N5xOVjE1fud2EzS2WjJ/EpISkGBmv0KXS31pfV1FpkpFYmOF/Z8Bs3B3pnBLD0UAZG9JGmWXHhY38JiZnZsunUZhuZH9/7wKAMEIjlrMqmU1tLfLriPuoiJ3Xp4rlxHAty2DOfhODiueDVc5dyFBBEDnMa9L+3Nzc7Y5B2pz8CX1KusnLOyvmWvqEgSEF+ylNC8Z6JWnQNoCYWmgPNeb+sO6/WdmJouZNUmK9pCgKVqyOY8VVgAMCEa0EVLSfdy3nX/72IXZ0b88ij8RgAvNcEe5ckND8w8ftqOdp+Wo4AmcYLGQGljqvARVpxOdLWiZxvRq8WpKQ0rJ6RLF/vF4sSDRc/sHuvzMEty/f5/PA2BWhwO83OSHi36Z5dd1fWVlhe/yLXlgAHfa5H5Bx44d446hatqoGaSk0OuSodS5u3db0cqSoctchSpqQApSGOTR5WcuRbbYfIiHAxg4n34+qTGp7nSdEoCcfU8Q5QEWL7vd2uphanJ+XlXuiRP8/cp3NNj//n15losExMyLcpAMMDUczqhUtr9WLDQ+Tp4x+ijPqTNDRK+Uu9TcHADCEASsPJgTrFo28KUiefXzLQCshHPnFPvLbqsDA2yXGwMDroGB2fh4S/Z3LP0q00fvSJEb57xXVobC1AcOiAYsFhf/1z/Z/N2i+9/iNujhcf8dgRD69rrCiwg/JJ9FAVCG3jJAZGB2rx4BlAMVPH5xm/pJDQgrWNKsQ5LPxAQeLj20wEJGpo8pa5jpkk9isj+6X2/sPNf0tYGmRJxFYGDzGB+Xx0V1jnRq0Oywc7SNvMDBANIcx4eZ9GPSg/KwlrVG9reetvJ4KONQOPgrVHDjT2Z1uLKX2f+2tjZN07jZPff8YXaIY7wUAA788gMMDvguX6+vrz916lRNTQ13DYJ58MOTk+J4dXd2slgWsch0mWweTsmkR72ABabR+CJ1eiZlJq4xThVUY0pJeQk+ExwxckHT07GdndQAB+lYJoAyGmC+i9Th8VAV6DWSpulTVKKSzgSd6jSkmZkVInthMOdJ2lGjtPHxJBmlCS4XE9G8Fh/3VtHefqb81x7+V55Hv/t66AKQ3bH6V+cVjJcYDn++BUBckjfeYI2SHmQ9hnt83DU1FT81ZXn82DI4yIqhAMhe0HwXDQ3sKFAIeih4oLh4kE/cG4q1hmf497/62TzP9xsp+Oky/hX2BdtBAI8rpYAhA7sh2qB+2mko6qcniH0AuxwduNlZtW63pYV+/n2yM1NAZGcdugMOe870iROL9fX66cbvTjUlxiXFrZ9AYMMAbB5OJ9WVF3jw6AGTGAwp6BUyjiHT8RI22MhrK8dycLKp5cwJ6+mKlJJDb6hSePHg0764CzTZn9TPlcDc6ZNbAzG9w2Fe7wfCcGyAue5XXnmF7N/U1MSvqAmg5iEPKWT6Q9P4N3cfnXBMSCmxIigALriWsUwxZu1sHS1F9aWWU3XWM8dT6kqsQPpnVhoyINzZZekaT+hce/BobXjiQ5AQGEJyKNtiUQKwtESXkfNHKu353LyTm0VTBswl3FSnP3ZM+SJMpvFsbJcMUakrsq2IZWKiZrn/1KlHjY3fXDybihDAUxqE/6c4K/wq8OabL4P7XwD8Kdo+C4BMEJE5WFR4sv/EhKttyn1lyvKVSVaDzPSiMfdJ547dm548fb0gZxkkOg6UDB4oHogqHkTsUWF/hDzQ/Dt9LdarUvZCoEFT8zXhKQNKlaFsl/IqN9ifxxglAGnYT9TXK+aJiaEYUO7Z6RbX1xddioiQq7ZuVfFBbS08pxKSEpNOBzExk16CrtOPk0G22ZGR2dkhOLrU0KDFQodLXTj/ouwu0F5fb62uTgGswBl4owg+UASz7xQFGSQVkf3p73OXf+7zzEmD8gQYeSYwnwpAkaioqOBQATM/3DKaD43hJxEoGFW/+qo8sIxur314+IHNxgwc1PY3miq95GRVUDnV8vDkoZqaloYGKSiKZZTZZV55CA0JPbjQeSG+Mz6tO40JQ675Gm0enWu+tmr1eGJiojc3E+1ahjujEOfZ1OtQdxZnj+CIyS3m6IswCiLbMxrgqMriL/d5Dh1iJi3F48k6tFJSsnq8kbQUH9eQlpqfmufvXl41HwSkPwQytv9nxunzgWiTjgl7P8314yXXnank5C9ZvvqBZaxBqQIlurOT0RpDe8kXMeG7+7YH2h6jwmrzsuKBgZKB1X4X3i8OPf/zwy/6WB9MVNP8fxl/AJh5a1+LPrpS2F8dvVEmpO91PJyGzwLM+dGBY/tnOMdQWzzRhATWpzysV6cnMIhCOnRsDQgC9OusVsVx5eX0J3gNiQmU7CQlkfL4lrh/bEUtgPAaj8f2WnpfSjO1QlB0NUiQ9zm0y0Hd8vJyzgWSh8LLujB5KDxHhvlMGNkv2kj9B6MBZD4eWdysCbpWKyvgVQgKAJWSBcUUCeuJH8jOvr9dULTGPZbGC4qUhYJVoBPRndFNnU1MT9FTY+jGAXympxxLjk1scriCQ77M+JOdGe9Wo9ok+xubNlME2SL4B1Niy8tuj2eKxclbJ7vwRTZF5hoGkrM4WUDGFYJ+NK4kON4uUpqIbCmbInxuEK0YptfsHBiXy+pypVomK2O+HBMz9j6GRiTrx5lC7M/yfCLZ9ybQBShuuAcxOHB4YPB3DqJcUb8yOjshwCd75yszgwzsO2KBE8+Q1zvPUn8mPluQe+VR24zgxemkM0pVYMcTlKDksHZ4DWvBz72gMdk9NYXFRaacRADoZPAyjPR5NEimZVsAeMzyzWplynZHK1Dv9ZUKZSGBa7vOnDnD4V+6/0wZM/VvCIDxCDBGA6EvP2PGTMZk6Awr74pX0TQJlaQ+vOdGS0FJWVX4Z7/Q2Z/oVIYuYAqyXpZZKRtsi1h0wikCwMweM/4yGTq4hDC/ydY4PQ27HR6POAmKWuidUwEJBhZxWpwd9lAEgKguVAZaNo+0g58nATgHbAGaqRmbbrfGdmjhJKBEi6XCgop3lJ/C5u5wsD8zccD2yhoLYnxOsT8GeKQTgeJGw/3/nCABBt7dZv8cvCAwjcc+RvMVsiUjmRbqrCPaXpgAjDjgPQjq8Syi5CXfMN63qL/CA3I9gwDsNyiKdKdo/rFDLKVk0YgdiFKvhogxEQBlBmT7z3CvwaafoMwP9opETYUdRwoBbwFIwOdPADaBxwD8rzon+1MDYOFWQJrFoltAMF23vEzqp+/PdB1jVXor6kMBxr9kfzFFPOL+0wH4POJd7/AkgofeAuAbEYx7ieW72Ddsebn/63hB0MPOgt4CEA68rQz/6aUSAB6HfY7cCvuLbe8EaoG+PYPEaqVTZOwip4b1AgETiOL+M4pE8asiAPic4ueT/XW8OIhvG8Ge6PoMBKBrWwAG8AsFQwA+Z25nNMq9BIDHMZ8U4HKJBuzY1d1rx1CRhiDcf0kBqeRm8TPDvxFE4FIaEMGLF0vM70z+vFBfREPYkA78dnwOEQ3imJcAfApMQBblk+0LtIID+gFjD3ojAlAaoFsgWFxUmR+7HSkpNIYCu+ygXeUndB2X5M8okpGYJe6/OkMoiGBzP915/ecpWIgCfq2yvWEBfgPtcxtSGUUVLNL3qQD1F1WIEURDUOUVB1xX64Bu47YTTo7B1KP+MA4DpH6dg8CUgURYRANAzM4az+xRxM3JCbvOff7Av/s/P4AmGX9Ugz6lpXi5UK8Mf3ef11/+QWURRBBBBOEWAOKECACmNqfaP22/PnPdBhttXpvnloQVqHC5LNQAJoIsUCPAPKrZgi0taqegnh7qg5q6VVDA0WDz07FmMDOIzAFcHjQmoGRnIzFx//Psf0JZBBFEEEFEAAQ4CX1L79js6Njq6LjZ0TPTs4CFaUyPYrQPfTmunCfrAOos/RbLA4s2+zGGhtDZqfbtfvAAdXVqDXBFxe7T+yp8uf8ZyiLBXAQRRBDBC18J3FGvdWyld6Cgx1KDVk/nQCcHAx5rj7lT5xH3kWRXssv16yxXHlrW2jA/rzI/8nSS6mo0NlID1KxQ01gCBoEBdYwggggiiOCFCoAN6KA1NDx4suxaVt0t9PXdmrzVoXUcKjh08DcddLkSYq64Y9buqKWiNpvK+F+4gNpaJQBnzwb0mEOD/TfwWSOCCCKIIAJN13Vs4wfb1g1gdJTpHZXcHxigp69PTzcvLn7D6fxva2uXLZYP4uIuyLY/+flqpSIjALr/TP68dIgggggiiEQAD8T9F/YnyOwczi0r05non5jAzIyLezI5HJb1b1ssX46JjZVdCRkiyK6EkYmbLyUiiCCCiADMKOoXDfCCpumyFQmzPXNzrrFl1xWn5TtXLd9MtMR+RXYljHj9LzciiCCCiAB0bNv8rsssrFaa+zF+thPcBYsFCUAlXlpEEEEEEURwAEDnNvt3+Vxkp9FcLo0LwX62ExwseJkRQQQRRBBB9JyR/d+d/eugcBKAy6UsweW1E9xLiwgiiCCCCKKN5M/sLuz/d409HLa2FPvX0DZRjvJMZELDS68BEUQQQQQRAeh8nv0Hn9vAgezf4FZGkP0TkADgZdeACCKIIIKIAOz0/UvwLOJcKHEBNC+8vBoQQQQRRBDBgQ5g2szWqm5gVwEgNLyUiCCCCCKICADMOPEuwK0MiGhABBFEEMEvzFYQn09EEEEEEUTWAUQQQQQRRBARALQAfwYoAjRT5oUfAX8cOBbo12DuC9nA7wC+CTiggFd3ntIkaoC/CfTBBLR9ts/gGsHDiWBxD/gHwLvAwTD91uvAHwKOBHX/2cAfAW7ue+2+ppoVbiMofAj8diB5r2sUAX8aaMY+oVj1fbSGu1v4Pksc8JuAXzX7iNP/C3zN92lfCOSXHAX+AtARdGF9AFx50ZvBhY4qYAwYV4ZVhBtV25ZorE+bB7r3ZzpSBMPAgirkoHDaa8rANXX8hUc90CCGwOEBVoBlwI4XiG7sByLQTYrVyy8AWUC1Yn8lA3cQVhxTp1ZWAcBbAGjTCAQTiMAMepQAoARIQVA4C7i8NOAXGmWK93GKx+C607IyrOAFYgpoRQT7pwGE9osuAEYQYMQB4UGS4f4/53MtKAHAjwCPySBgALiLCPbEgJcANAadWRQNkFDgNn5RccTL909DUFgRQwgIKQZeV+yPFoQf+xib6y+Bf/9ShALRz6efWoAheScaiYlqx/+CAqT5bdvGKeKB6n6Mt3sLQApS6lB3CIdgDhsbuHsX09PYRjWtCNWnkOn9fPnK7Qhg4VlW14BvYDd0deHOIyM0qQGOwg8uwxw2NzE6CpsNS0tYW+O/UmyqwLKykJOD8ICnHhtThbK8rApI1+H1yDajdsxUkRn0XEXvmirbEmWXTNXd5R3XiKMGrMB1Da51uMTDhAYtDWlsD1ZYzf/U68A0QkQ2cM5E7ZrA48fo78fKirR3of5TKC/ECVPFshPL7VjuxzJMopBX9NlcDYr5Bkyj5QZaprwjgGKgPpRuMYKRKUwtYnENa5vYjEZ0EpLYinKRexiHYQLNuw8CtG17FwfykS+nwvo6hoZUD2SNuFyIikJSEjIyFGulpiJ0sLqnprC4qC5ExMXxtKpjFxYC6EGPHXYIYFG8so2GvTRgZgbNzXA6jbINgYbAJtk/MDCwurqanJx89OjRoqKiYAXA0AAyGSkmMxMlJaiuxsmTptilrExR1dj3MTaChyDykMdG8A7egTm0tuKTT/BQfZfItaLqHVRVoWpnqRhZINoAnuKDnQXHkr5zB8rcSMIJqaiQBeDRI/T0qObHFrKwoOpSBIAtkMzMRsKSq6xEXh6Ch8eDzk709WF4mJcRnVECYLEgOdl4IpsqoZSUsAgA70jZPREA3kHWeZwPRgAI/sKzZ6kBytw2PABRhCK2hzfxpumfGroGZLFRmKtdE3Tw8cdoa8PcHIT9UdWA108I+wcnAGSulU+xYjPF/jRTzfUDk/fKjsYe13pTCUCW1A+Kg+4WpP4udA1gYAIT85h3wsm6jkFMkpaU8aOMAhQUohyoAp6l5je8//RTYoOiAVGIakDDe3gvpmeQjp3S48lJxdEiAGx1ZK3SUtUpyFpBY2REdT2enITG7s1+R8THIz1dqcvx49212T849ANKHRRinmtjDXvFAb29bEo8t8+C/YYdOGiyz/Z88sknHR0dCwsLhw4dqquru3TpUgn7bpACACT3osIVPTObskAHs6KCaqUczzNnTHVZqsX4OJR9nx7rJVzKQhYVuxKV2AsTE6pFdnTgww95QYpG9SuoJvvHIQ47kPSsBizu+ntcLqF+GiMLNpQTqrOGCDkrew6bnzwxE/PzcDiUAIhuigtSXq7u6PRpVSTBgCxz7x7a29HdjcFBnktdRgQgNlYxPqOM4mIcO0Zt4GUoBiEKAOWG7M+m2fMp5mzRJXiXGkBjDSK4KINKqDTAJTLAs7+BN47gCJ3BYzgW0E+9BswEyf6XERZQfVnldCZ+/GMqQS1qSf1kolM4FVLwxahO2fcAZ1DsH/zFSZuK/Wk3sD4l7E8LEg/x8DZu38d9+g9Ugtn42fjk+KioKJfLpS/qWVeyilGcicfAGPAbYOCLAEwJgKEBRXoR3cql2y2HWRfsHXTESNbkaFIGBcBqpc+lWMtmU07ZuXMIAqR+9vD793ly+l4kQPY7ht009m1xc+cWGh6ff3xVv4qjMTvb2N/fKxe0uqoa1Ecfwf72Lp/Af5ZTmhWAlpaWH//4x6Ojo8XFxZubm5mZmeYFwBuq9PjFy5dZmJ7x8fn29vn2H40x/GHsozozdXVPMGtE7SUp0m7eZLOg8lMAeGQkuKc/QiOrsirJ+2JlKIMPFHhpwE927VrC+yIA9BHCAdLvjRv49FOeWLUQNrNsZJch6yAOMjhd96zPL86PLo729q4NDZHDWXhslvQYAmf/69dZgGhpwYMHMQ4Hw7oj9fWJiYmapq2trc3Ozo4MDq5SG0ZHeWuqyC5eDDHrRPYXy/lb9X/wO1n/82qPbwEwjexs0QCxrsddZH8xlhhM48gRmvn0cBvwCa1ztRsWi5LlkCFkSSP7k8tI/WKxiEXQYK2trNBIVdXVZIKvK/ORH2Oqj6KfkBC2tKLcDdtX4p8r/X3fzP7o+lgI08aGb+HWNVy7i7vzqfNVVVVnC85arVYRgLm5ucetjz8c/DAJo8A//rcH0n4v86S0HdL57+Rsfi+VgQzHDYfjxrXDt28rsmBTYj2QmlmYlAH2OqoCO4XdDk1TV6mtRUAg6bN7s5PT/aLjxfOfOqXYj+7/1hZPq/r8T35iX1+3H7DPvjbrQLbZwZa4pxpAf1Fsl+b7TgDsz7TP4uLi1NQU2R9g23w8OTnJUGB9fT2OpB2oAJDh2cKoTtROeoIsPYdjoZ8xL51NvkczA/L2+LjYzIiKCikAtDM44599WJsUAEZdzBFXo1oEAH7hHQS0wws2m0H9tIzkf13/3pXvf/f7YeEBnlg0IHYj+RLqK1BBlyQFKQxOGfbOYGYQg+1oZ2KO3Yzkw6iUfgObEMyPLdC7uXWLGsAOSuqvvXSprKwsOzv74MGDFACn02mz2Zj1Y9z3iD9IREZyTwwOggLPIe4/j2eys7Kys28fvvsbZ3+mAaw+BA0mTN1uEQCb61rX+M80oAlNMAEWHeWTR9PsPwDc68TdT/7y9/DaaxRFJR0hoq3NEACmsw32598IBcL+y8tRfz3qOFIqkQLabgOGQmUM9uh9hgXkfbHpq2lvXqmvdwx8hODBPt6GNkYAi6mLzD+cPn2azTU9PT0mJoZMxLb68OHD5NvJzFSc/g2nexNrf5KUVEdXhpoWeNWstq067jhWb7SoJvveeygqUmkZEYDpadWCeVdMI7DjS8cj9/BC5h0vo4fThSX119erWD4zk8xIAWBl8XXPo0f227ft8QWORAfM43+olQ+E06k7HBppluczoBvjOG/DNNjdY+Pj4w8+gd1uT01N5TBAQkICXw8mAhCPzQjfGaRQAvs/GqOiMmLkzSsnZE9YLEYQQHu49VAEgEGAL1+SekPqFyOE+qkBZkaNZEaQ2CgUGLV5Z34KCuYbG6/Mn3HhzwK/D6FgdpbRIR1/xc9k/4u4SFWrQQ1dwnSkUwAo6kyA8j6oB1vYGhwfpDsi4wHmBYBKSC9GOig70quvvsoeVVlZWVBQkJKScuDAAdb0+Pg4O1VaWhqdrC5+nvUiQwLMe4bm/sfMZeXm5ubk51qLinrCIgAyOORyiQx0XruWM9MpGmDmtIzmyX1Op8l5IesP8eD7aL2He3P/LkcNkPDSVKAQwOZksL8FFoP9WekIDZL/oQakfMD6SzmDlHzfk0bogDK3oWmhzzNh+zJuCK866uscR+ucDxAsRjFKj6cXvY/x+NVq1VZfe+01ZqLZMrdlboW5aYYCVILey73lieXDiV+oSyzVk5O1wKvG0exw3Ot20LF64w3U1Sl2Zsu3WKgHinDYOfm3w8HkrGIT5kj5BxOkJsGQWno4T8XQ4ZVXVBKppoY9i6eVmyEnOnJyVuPjV7/1U/wDIGBJFt9faUDoc5ooscz21NTUuN3u+fn5jIwM/s1X6CaGOg2UHZSyR3GllmwsLFANePOmBABguRtxwFpHh5EI8iUABvszm12IQiP/AxNIezYOcDCCM9j/wYOKCr2xcfrUGfeVM27UIkRQDvv6VCNht72Ak2R/0QAN2vaPSWM0wCiV7D+HOYbGvb2bpLCREeVJmFJll4tBEONQ/niKeX19fVNTEzWg1Cv8YiIo8wmio6MdDsf09PQsy45ETReRoxzseAGCzojh/lehpLC4sKCkgNQ52Nvbs6w0QAyhoLJSgoCN6OgutzsXP9MA5s2wB0h8ZqcEPkDfIzxiUxrRRnDpEgWAFipHG2S5uNiAc8L+tSE3JmETseSK5BRdaUB5SBMHJ4FsMyNtxg1VrtfVNdfVr6+fZKwKDUFhHvOMeun30BXNz8/nLBQ2Wrop2AabMVlpaGgoLy/v0ZcfTelTs5idxwX6TEFMkl//I7aN1x0uVi7ZubERBuihUwyokyxSMg95n92V4i2OPH/PniDL8Vu9vYqJSHzsSlSOV19VaW2vm1E+1sGDKky3j2PxMQLC+8CvigDQVBXroe6qyZs75fF4cnJy6BfSQSwvLz9p2guM3ktelFFrN9h1xYMzDRkNliCgd6GX7C9WjnI8i5kZSf2rI51o8f1pvLhZ/9IQgLa2T7cdf1I1y+HMGTaSraUzm5vlm9AQyBDwBVmjuX10M17jDZHKORmEGWneCEeUG9FosL8B+obsD2QiEtyIa4SBKUOH+XmJrkx0UF5jaIh0U1pXd+zYsdraWrL/bgqdy7fGWLy9vbO8ZX6Lv29yknwZtPtvWcrgfZUnlJeWF1CH2B967oZJAAhpl/n5g5ubXUAunJQBxk/hmhC+hjX6oX1aH4/IUe6/RABhSf2TTdgmDfcfut8NcXWz6iLGAf1kJNN8n8UMSaRiLzCQMlL/cbbCerolm/V1ntuax1OEGAQFFrsTThJaUlISuZ5ZCLL/jpHBwxwSYJoCgENzOHXnOtaDXCtVb8WpEkX9tJ0gx7CzMLBgA2BXokdpsymKoTO7J4SvqBns6nRh2XjotZD9d6L0MFY0LELZiMlSWnduM79z1el4AgC3Ibi9c1XVQXjjLHyAzv7Zs2c57sLMMKuA3mHYFoJR5MToVNJMqaj3oJUxGHDtmvdo8HOzeoT6afRDa7Z9/6IAJyTUbW7O37mj7O7d7jt3DkyMnWkS9lfH7+QjcHz9WQFYmZtbnplZmZ5ejltbyUQmyZ3Bii8HlgpBBycVqSMYsdtVtbPvmQKFgnLBhgvQxyfLc2QfPsC36FVlcYSG4Lfm5ujFBCoADO0M9/8kysmatOiKIrI/bbS/v2fhZxrA0Y4waAAN6ARyty09TGuByPu9Wi+PC1jA0XC4/+3thgCw3f6M/fWGeMT7/jnBRAApqEjRUhgEhLYIKg64CrwL3xDqp032JL+J+jrmUPTcVIQEdgExfRvYAe+31Ie1A5quBVmE9cpwyu+8AyaFSNwycW5xkU3clABQJ6gWdKEI9qncXH/JwzpgEfgz/lJAbYBDGZzyBz50YMapOTmG8QTOPwZc8cH+NJgTAIEMA4R5JfD6uhpZoanAKi5OGRBcEDD5+LExGuw9c25wUNhf5VXImHSyxBAYVi1Rd+qK784P3pmPvTPvmqu6JOyv8+gRCddCFQBieXm5bmmlBMvUQ7J/tu+I2wILLRrRMr1SdNRsOsZu59XoRrFGGdPRdYIPMOjmB/gx/rHGb/G7DkfQ7n/i6hFhfxWlxUepgFqCgFtPgwAJy0LHgpcGXAyZ+sWvJPWLkQJCd/8ZURnsn6pbhfp5pLSHbSKORADr6ylQ7M8jQoUVIKv8E1+TG0n9ck9NivrrGAGUwGOu1H2664lI5IQu/vgZ+8zS0hLn/OycgsLsP6emsPvI4lB+PlFLDFI1/wXUYF68nzKwsjhVQEWwU0i/MOkKUS3oQiUl0X9Vo3b+KfUN+MeVZ9hf/r7mwLDj1zucX1BBgLC/2kbzA//sT/xjhIIgBEDKjabrSl9YoDwGpNhUehkNljjgoetpECCju0wpGVM/CSP1T8cZAWAOuEPLyrpTX39nYcHBtkflFvefVTmF4JBJ8ybmhNWVL68ur6yusNfSi2Gex8/vdMHlhtsDjwyKSzLN5BQgKgaNAkCokTS/iNoGXC75YqDTTQ33v2Gb/SlvACgAEgRM9fcbo8FKm8MEEYAcdURpaOwPDX3oE1vCEo7Whur+2+0G+0fNLzXoaso/zc+kZA2BRQUy/EvjRNJkPZm0mIAEeltSg5o0moADjFTA6iu9YWSzKlwnSP00RgDAPVNF7vvFDC1D1vp0bXQNDw9zWjojV6ahmY7Ydqxn7t+/z0lxnKqYgxwOkvHzvN/gd4nIhj8Y3qq3D2smO+ZwKL5jB+RwAhMp8vtN1rcPATDYf1PTyIf8bfpXy64D35jGlQMY/+q3L2+evnwaNM1LAD4zRJsITxWBiaKyUAJukQUFRhxgb2szggAuEAOM1D/fBMklKPdfNp8Tu1tZyWUQnDVI/WamQX9KnhpCRlL2Ki0b5pyJRSySiVh+AAuP0um7Oe1gdI660Diws7GxwSn/HN+P8aEejKnpR/AzhLqANLKg3P+UdTWqQSNxGlPMngYBs4+MIEDxVDigP5sIiguW+gk6Kjvdf1roqX/ee4N+RrH/akP9ag7cY6wgEgTdTA2mUA7YgGU/+Z/+lJR7KclL8bB/i2GBRreI9WixGGvK2Yk0s7piVRqAV4Hrz007MVL/MdO5Qv00UXottF13jugqcKTfZtNsnJfMMQB2Qg5NceaPTAPlLPXu7u579+6N94+z43MNIGeUB7dTkKlvsfuIBRJ9GzOVjcFPWijsTww+O2GTxKTzV0mK7AYUvv1t/J8o4Ks+Bv1ftABIhKoITEwB84Hue2VMCWUQMPN0Sqh1odiY/GOBxXD/tQDKoc+gfmOrEA7d0/YFq2Im2pLiibEpTE1jmqKZlRXIOgB+QeKt2VlGzQyoGT4z0e8jSzHC3kUPa1Pclvj4gNYB2GxP3f+m7ey/kILACALmGATYfhYEkDgQJox5aUBDoOyvwYDB/mywOHoyVPZ/8MAQgOOu4w0PGxpGGhpmRmDvIk1oFADWUXq6oubi4j3rlZ3btm1TPO4cAf5WSspCUsriNxl2aPRDDQFgG2Aim92FiazKSmOlt18xSBUN8JX6H+2NfxOK+uv1ekbh4dpzjSP5c5hb19ctvZbrvddn/sYM5yhTCThLjU4MFy0ODg4udi/KlDle3XcgFSYN0HVlhKbJ0dQKT29oGi28e7vpHP2qqVEXuolt/DpcBiAaAPy8CYAk0LwF4N8icPCLxv4QH38so8G0tEdFDx9qZH+m3eq3ff9A5pt3bFM/j492lvYLFAC61GTNIQw54DhRwnwUO69p15zMwm7PMavBQbpRnDzHmJpDwTsn9nLWV2dnJ6cAcfkfiNRUyX4G4f4f8mQa2f/nnSkJApQAtBtBAFsDwgIfAmDS8RewkTLzIwJAsQ0x+0/dRUeHmgne1pY1kHHqw1OnurMahr6XNDWlka9dLtnvSaiZF2KzJaOaEQDF/t62suKUCOCbhSkL30xZXNRWVrTNLRLPFrZkXqNqBkVFqKjgyKRsKrIXDcZva0Ai4DDkzEj9N6rMjzJWdLjYX2Y/n184H9Mck9aZlt+XP544/iDzgeN/OjajNmNcMcn2ZOZ8mtB0HMd56bM4G4YOqvtdX00RpREWi2RgzUTeYt5p2DDu76kbWfHnGnEU5PIvJAiIlov6z4khN4ktnm7p6yHMATfWhXFWCedHliyUHOo/2ttbzrHfDGQEMvFfYFA/bRj+oYWJ/e3qiC34B12hTnR2o5t8RDY+dowsYXYNtczuVMxC1/LRI/pNpHiG0vSkOM2Lc+mwDSZb+dadO3eYXeXfIEgWDDT4GXOgHBvu/6vb7L9zUpORBVpmImjiZ0FAIxrDqKqiAc9CN1+bQv3UACoBjtaJAJhy+nytkurspAZYZmfrfvjFuvbEUw++Vz84yJH2Y9HRTMdxJJMuLYMARc1s2NPTqp9wTroPnNqOm23P2fIyberI8szQzJX5wz9G8ZeRRLqiALjgojJMOaco7etU95ER2eyMRKbEgNg7C0RzAKrPGdmsMvdxet9iXsXpn17N7UnmdGbdaH7rxq1/3tKSmvrb33t7xl497/zTzs18tRkch3wZbTD1z4qp0Cv2fTtocpYxG0Jyr2ZmRjJ09h45oDGt6h+fAq+E/HvDt132FvDNbdPNXT1aPrBrYxARdbmUiqrSoYUAIwigsa/2P+5fHuReBuW8hPj+ZH81D9osfrrN/tPh3i9cD8X9Z9dlqM0tsR7gAZXg4knmo6hsAaxFZ2mTc+n+s6C4M+rdu3c5wMsJSBQDLvPjIu+trS36/hMTE319fWT/27dvy9Q3zv6kePjYBbfKl/s/3KPe88r+74CmkXQoACoISJ0pwc80QO2CECb0PCMAekBazhyKCIDh/ivfn8egIKooY1Mu4Hu/53vDlZU/LSv7Wm0tZ1sxo+1yubj1CpdhM/Dqp1RMTKhIeWuLxKEGiX0jXRkqgTVh/9VVm7YydX7FVvrlFVv2EduRNFvaQdvB2LFYCgBHLTmAxK7Cm2JbeszCp1dL9pf13juq2EcWaJw0aKT+tZkj5H1x/2P1WHM94D8BH5hUTY2XuXHjfNTtxsarr702E1235Dzg3NK3mIxPRCJbi+kdpUzMAuqFvwBGFt0sLMhkdImMzfQ7cXNVHtVul+wcQwGfyyq7gJZQqF/bVQN04B0EA2re8tracmLickKCHkwKaIcSyORe3j7bN41lEYoqM2EqgwHa2NiU3jw8Nrw+yvyGTQ0f2auqkqoqURmII/+JYn+s7P1DtCDYP3gB4HYo3ISgGc0d6GDGj72N7lZNTeBiabOp9ufx2FtafvSjH5FxuA8EN1fhdE8KgKz+/TcTEx81NFh/rfWjP/zhFlmPtFxUZHInX8YMJLq0XlweAJGJTHH/dy8DyUGvrzvd7h6gBCOUAdkmOoyJoODCOIP96fXhaH2o7j91l2zb1yeL7M+dO8dllsePH2fhc9cNvsKMNhfcMy/HDZr4CuWZWzYxV8PEHTXYzGZ88UARLWkFX1mx2ZZttt+wYsvJtGWm29IpABabBf8PHnjmMc8UIjOl9Ip06ENjQwxKlMCXqDVQewkAzeqd+h/qi3lTpv3odSRi35kM79p/2+SeZJoEGiy3jo64JpJtQmpqYY5LaeK+oBVIA1KBDB8L6RkwUZjZgyiZ9AlkTYAJUCpk9idvhyrCM/A8u2+yO25HK5Rlhsz+OzTg+8B/DnR/SnqB/f3LDsdycvLysWOs6hDHAHRATXOQOQh0eTAzQ85gaVIeg/a3ZV3YL4+PX8kZv/9nx91jY5vnS6ovv2M2+aM/FwG49oP9QxEAbohIAaDdxd3jx9U8VKZtT50KfGsGTeOXqbiyCetWf//DJzv/kP25x5Ou68709Jmioh++9VZHnaOjoWOLQyqs9fJyn4nvHX7ceg/e6AFoCmCQngO/5MWtRgsL6QcoARDDVNh8OmA6qAwe3WRj9iczYOL7KwsODocsBIUaUyHNNnIHDu7DwRmNjL3gBeoxX6EecPLVA6bYmTJiFfDqAezGukzLzFzJzPwKEIcVr4GCs4j+o9FHcETWEpL9F7HI5KmHMsdaJrvV1flNalslAqBeGKn/U4r6VeaHHc1fNltHENA9HtKuGr52Oll+bW0aNzkg5SYm8mey8fNIY1vmK4xhyMb8W/N1MrMCYLXjgmNnbocixNwp1Yj+E3sE64WRsVktYpGzFVHIx9TuZ2wG9JIoukbi3qh+pfr37qNlFDbgIAKEFuZcECv4pz9Fc/MScfgwE5SKpUlAIQ4CFxbqLMDaWjhuakNs4snJmJpSgRJeB9KCebhGUpIxI6j/j/yIWfLT75yWjR+EfczDBPsHQ/2hCAA3oLiJmzTKQP7R9aYm7oJMGieBB3VFlvalS3RJ2HzloTNs0Gsu11pUlP5kBPIn+fltR6faT9ycKJrBF77AgqWT7tvzrYA3BlDRA/QCwwEkpoRY3YChAeGi/6A123D/HXAY7j+7a7AqNK3KeXKSOldYWMhtNrivGTWAurtzEw4qMeMwTsFias7R3886Ug3bIZRk/lGQHRAkK8NRwA3YgD8KAWfL2GDjEDxDgcG1Qf429SPn5pQr5hMJQOroqLW1NaG11UlyKHKXGckf+EDu801SA74Ac5ANb/Un06K03glmzru7NbbcHQJAAqAAkGPJLWyt/BKCQec0rO2IT2Y18SxKdBUpgcVCT4A8SAmiJJMEZfyNMVMAw28UjOJieQIHT6LESuZBMDJgu1pZUcLA12Wz3vz30POPgT8SrsZtaMBvD3TFYlcXd6hettuXjxxZYrHyrkMXADIXm8z6+nJS0t3h4anpD/+OanYxbyOUpysxm9w7hoxxxIxnux9VIb0KBaSufaFsLXynMgRg0if7f4pPb+AGBeBI2Qo3EKRRA/LzQ5Ao9hgKCJsv29zMDBuf7nbjyRzE1vT0lpwbrYWtbVobowyqNNNMbLhmb7dHDMHBEABaPl4YFrBgCAB9tzDM/ZdVoOQRgBke7sPKHVgN9t+5uQ13PeP0ds7Q5TQtGPs9mRWAZWU7EQPkefvkyEUuE3TMoQ9iEEtLsnzMrwDAbif7pz4x59b/S6//RFF/Curuwfht2i6t8RPRJXzy3BD2QQguwSfYShdPnhzc2PjWo0e/t7W1RYtf+3SNzCkCwD8sFhKyKht5oiKDJWrZ+fNBbdT9r4/gWjZ9XlUU9PQZnPHUHo8qHHmMF/NyLCIOy7Nf0DFiWZkEU3n8ZbJ3I/md5+GvZ6vgmBCFS9Mo8HQRZD9ItUlc3xmAFlbXJtDQiCrIeyczkP2BZe5Us7jIv2X0ItStIJIrx6wJtw/ldjomRvS/P++JSeI3QkY1MA6MVeER/6IlvshHNush64dif1K/WHrpIps1jQJA6g49OiHTMJw2appuyGD0SAt+rCJ7rZWulOyuw7Zu3m2GuP/jwU9L6HnxAgAj+bOGNRw9Far7T6ytydQ3LsAmv3OHpXwKuG9wvSs/xpEAmTQd4D4cZp8Er3ZNQKJafGesa3W54BcjrakdLVbOx+nrm3jrSn0q6lqUyb1ou9b0e8BHV2AHrsCAseXO3gLQ5aloT/H0FqaOaGVfP3TIUXbEWep0lbrc75KZlK1jnVHaHOa6YYuN5SCXKiry9i/9EgJGE+DKwKceXL0KVhAjD7pK5DvqAVWFLYJqc+ECA3DlGzHvFeiiJXkIMMuZ0dMPf8iUIJNCssqSzYMyz8sp9q9pQl8jkBoK+4cONnh5NvhabS23KlvOyWGSAGIhRgCsMI5nXiu6dqfoTt9Zy+q7775OuolByMgEqoDf/kPgTwHlCDOuARfMaoAOA8NAIYKAsL+4/9biBfH9KQD0JIKmft1XTVss85jnqF4r6GS1LCa6hPppZtcZu0N1/wWDz8QBLwAsh/C6/yKxYvT6OduKOxlQCfyu2EuMfwKZM+dz5vhvAW4D/XgGunr4l8mt1jRoNACm1jS1I5VTMVtTLa1WAG1X6toUkdcCmg9iOiSPKcEVYf+3gTlhf5o3/jV2x/376uFI9+5VPXz4/mD1+V95553V48VrpWuuIpdH97g1twsuCgAf5DJzbab/p/3N15pbWpbYYEknDG7J4YGhBvAAUReZQmK6n346+VqVv8ySYlKIfY8KU1/PGDzguYskd8oGJZYqQsdrcFDFdszvaZo8I50np0goXZlvBLIBDSjbd+ov2GuS/dzcUmLikt2+lNmOx2rjgTAsBHuMx91aN+mmLWca77/PYUB126q5hyUIUHgT0BF+/AHgX+2tAToM/IMgHxzLwV7D908pWiDvi5GITNxZwOKwiU1x/FkpQxhC7Tlx/5n8Cdj9tyEkvGgBMNifzIKjDcL+yusJAWQQMf0JONsKfqFvQ/LgPt2uC4AFiAG6fdCC7o80GN9wVihN6InEpMwXRoBWWFutFICszay38Bbm2gDa3wP/3rX93QauPMQV9B/HZbR/wNECYxagppnYQFOjAHDs6/r1WNu5d9n6L7EDcM8D6OR9SiLdf5euBGAFK5OuyXZXO5zgxDby6sKC8tqDQT2QVCN0rLz+lRVKrzyPm96ALJ1TXhFfCQI8gwy/FRQwFyQP4pZHsjHdRNVSJ6+qwZWkz8jxLwWa4A8shzfftJWVzTl/ZeH3L+LLauJTaAKggZjF7BSmhjGMjBwORaoRFR7Dg3jsMzKAGX8aoMPA6eDZXxx/HpMLDfbniJGZtFIw0ifUL+sMFN8Z7r9JrIXH/ReMemlABT5TsGUaAsA+GR73HzC2AHOOj3OAl09b5XZM0b5JhHMuuCCDHwMgq414Bp8CINYeMEvwZhewsIQlQNbk+/bvVoBWZYmtidVz1bIqxZz30f3X0B1zGUAtUAbpMaS80lJey/8vJv3SP2aS3Barxnb1qioZftSgxSKW5t3OqxqrNmY2+AA77hW6ubnOtI0e9EZA5UD+F+WJ7bDbKQBUX1mhTZpSpRQKmNZ77TXVoiYmVHixvi77uDHdxJOrSyyHzu/mUAE0KfOP5bSo3rS+x7GPx75YSv0zH1VF+2mLlG6J3YxR/HDO8/A9GrX/4wHmr2bK9z9YIJkfnceKihBcAc2fS8hkN6lfDFYreV/cf/aygN3/OYQBL04AjOw/2yd7qXn33+w0cIBrfbkFE6d7cjoQfIB7W/IB3NyISYZqyA67L9Eq2Wb/GHXEPZgHb5AemOwrBYuFvh4v5GtimbA/WoB+sGWwUOiAm2F/JQAw3KCTsjerTgVITt6zKTscpF9FkohTo73+W6PL5eJCCq6mprKyCVNcKJrBQ+b50PYJubnK9gfGVkMSJDHCo1hKaKtDr5AuVbXN/uf81QOzlkwMPMCD7lM9y8e/QA+UTTFAAdB2fS9ajOoqA82hRzqhf18PyFHYc0xYAxqCZH9x/xPy5kn94vvT9Qn4xjRTL85gxmB/O+w4eUnc/wAaqD2c7r9gSjQAnylYFPvi/gMyB5xFSmbhLnuc38lJPhwK3vX52pz5w3e5xbHah4NeIX2unByfjmeelwDQbgFbaEYz74V7JBzH8SQk+aD01i50UeoYBKD0uOwqtXsK6L6ifmWtT7fpN9+LxoEiq/F6ivlZFLJLAKkY8wuw2bhzeHpGhmW3VAFXs7e3t7PcuMNVXJyHt8KSllxFcEHAi4YWinLJnChpzyMY4VCiFdZpTLO6xfmurq1+yv6F/q7JhsSvt5S1tDNFLxOfTCPaz10kIIHGZrQgWwLZ7T8BLuNlh47QwIFxw/ePz517Qv1uWlElnL6bRxzifD/81tT2EmJ0BtWYj+H+AwG7/0sIG16EABjsz05isL+5bK8JMiMtlZTQhxpub+fOxlx6zdVefJ6t90IwPniP+0C0trY2NzerVWCAqfnmR4CLT0OBttttH69//AiPClBAH78c5YUo9N5izwYb32WNy6pyJCfTv+AP83mV1m3bCrgHaL6I1YQGsGBkU9TBwSW0t38rMTF9eTmdq9YPH+YgOXcx4VAKd4Q29s9guVEGTp0iTakyS0oKjX71l4z6jQwTyy0rSy0160Qn652JPpKtLGzMRGbWqay8pjxrk1Wxfy78YxnLk2WTM03ZW41qrz82lfDsBkqvhFPQaFhZpHwrA37vz4sG3AziHePtWdrz9Zhj6Ow5v+wvjj8tLuf2+fM3z59fSDlvb61yt/ptHixMEnYxihE4DPZnW2HDMeZ9BrDhwWL43X/BnDrlZwe6SEb+h8kQ8xt/mgUZlp1yfBxzc9zmgQMATPEz1ZOdnc3N4DgpiEt/mfPhHm1MZHODezqzaGhgdZDP9l5wlCrjARixjLRZ2qgBP1r5UQlKKADUszzkMRqgo6BDd8BBARjEIGucTW7V4sLpV9VVTpygz+xPAOYDY3/NBLHqfjmvoEAJ0+SkPG244w85HF8bHk7PyUlLT+dMKkMAuIMeU2qPFbpOn3adOcNi894i5SWSAQ0hg1EcGwsdOaYP+/tXPsJHD/GQKaBVrDqtk1VVJztP5+Y25b5y7hVkYk8crz2+2Lh4oNF5oKnpflFR2LaDpi6JYXlYtkYytrXS8cLxDfiCB/i2D4fmDwM//cbsLl/OFV3zLwDMshm+f0zW3z937ttZ56bvnpu3V9tdcPlvGFnI4hyRIASgG92GAAAg74v7TyIIxv1fRdjR8yLcfw88hvuvBqjCBRlcWVjA2trGnTsff/wxaYtZiyNHjtCfFQHgQxooCXRmlxgZNzbKfHOzu68kYfWCq80y3GaZa0v0LN63tgy1kOiLUMR8cypSRQCccNIlHMUogwCVz62/yKvwWv5mtbcAAwGwv2aeWPfiWFL5+joTQapJcn/HT+4MaFo6n2PKCbJUUAoA8/7M/2xtzeTnb3LiP7WSpcUbslh8FZLA9HsHATv2Hwd3/oKkYKebUfyWljhuRTGgs7Hlco2wNHLSmE1ki+6src091piHQ7mAX0KPAhqR25j7SuMrBxpdBwoLDwCt4RKAZCSLUdyNh5dyKPiFhl8GrsAPPMB3nmnJ/xQCzB6+csUv+xP/zPe8WAbjZP85zL079duHzjfcPT8zVzPn0BzYC1/BV9awRtpSYyqmMYlJg/35dfH9xd8MlKTF9gPL+Iwwhann5/7L5j/hBfM5Gxtq1gej366u7icjAdwKlP4sh0XJZcxmbLEH0/WtqFDzzZnOaGpSymEObRZL24ULbfHxA/wKswA9PYt8WMr4gzZPG9OtFlhk6uc61tWQclEdfw/ZglchZfpb5tZqlv21cPvXdBI5ZYY6xfzZ8LCKBrhf3urqPEtxa4s/mZwhz7aRZBFviJGMv1u57PNKvt/77cB/xn7it++8dk4I6RCWA9mfZcI4wFjGwBaRnc23PJWVnTExuQAtzydLH1TsL5bdmP1KBg5ADM1hEQAmf5i4oD19fJ3dLgKww79+DwHibYSIGvhFvQeYhYGPgIPqojU4DLOohcAYaudIvVrNCFUxV8EG58Z/VjsvohbBw/d36QYK9beicwpHYMlTvC/uf6AQ938dLwF8N6Xtp77oW/giGyZpUVEw+03YwUKWSd8MqIeGwE07l5a4167iM4uFwiBzDSWMN78Kj3gItIkxaOD55Wlfwppzc5x56nC5ZMYhyYAiZzwObO90iW7q3fd9FfBJZbvjfSj86h4TaClP1OKxMZaWiqAYHRkCEBuryuzQIeodRWLvmT8fYDdYfb3h1cnfxv7go53XzpWXQkBBAU22/RUBoEyyzkUah4EuQDTg5O5DSo1eloRM4BUYGoC7oQsAUxYJSIhHfCxiN1ifTidtD802hy8geJi5Yr2ykPFByOcO/ipG6v9hK7K65UN0GEg69ARTU4MRANpLgcs+g6FejPahhiZLosiMKv28T+DJc3MVpclGTBL+6jq7KeleNn/+/+y9B1wU2bru/S8FGhAkJ4liAAOimJ0czz5p9rlnNt64z3dzzjnnnHPO+Y4n3JmTdpysM86YYVRMgAhKjgJNqu9Zs37UbYWWohsanKlnv7umraaraq1a63ned721akkezNY3uj32h2kQF1qfWacwNNDfL9a060GqdPa1mboGOYQihhV57uG/QeNy2d/C/vjbS69lJwMV4nEBUJ0lJcXhHW5cHXKP9YqyVu5yiouNRV8rr9xsKSASWx9l/w1YFD6qAZ/EKQDek6BSAvskaPQlAU7GXpcrLQANshXJ5TTGz/6xl+MKt86x5TyN57DARowxPjbRAjM8HTgZrQR5LZxsAdcbRhW1rCrS0uxCpTb29QTAvtJsudMOZiLY/wERsDKgniW32S4I7PnMHu+vBPuH4aS/DhM/7GhGfAgwFLFe6ks+n2HMh28as4hbAOy7UVxcOyUgeqMP4RshVgSZPr+IHdt5FBsW7Fr5s1jchXNst3N6pp62RK1/+G8f96CFUAvcYC1gc2HxwWP/L1gAT91XHK6PfhdivSJA83wEINvBKmAD0THIYD/9QwxNMGEnoHvu51OPGtYtRuAcWPbvIYDBDaw9rbgdIQABAiwHTdBsbHWQxALYVOc441e5ep3r7bTz5VIPFBWZD6uMAN58fst3ATqgBWM3n9pI3lL/eRgjgXDX/3H9YyP8OmPrBFnw22U+6mp9w3FxH0u1neb0AAOTTHbQcZ7zH2z8yH3hBb1tjh//cerq/JRv/SNAgAABAiRFe/B8mmmzFl3pOHtesfNc7LPnXxUECBAgQCAAz7MQd5hpS04hcw9btrB9O/X1Zhai4/DVQYAAAQIEAnCSBagwtnGjyfraBRB27OCrhgABAgQIBKBxMfYX7OoKoRBfTQQIECBAIACFPIpCAgQIECDA1wAbCBAgQIAAgQAECBAgQICvDxzXdQkQIECAAEEEECBAgAABvt4CMAz/Hn4EnEetBv48XMEvRuE/wjfAgTT4/+CXiAbHh5XDt+E/wG3fJ145i/N00dEB/xCOgQOvwL+GfnxhAv4L/AQ4UA9/HW7gIeYaSjTG4H/AX/XfrtZhGR1/9jr8G+/ufg5/CrYtp8W0w9+HIz7OtB/+BtyIcnGvwb+DIXyiCf4i1IIDu+EvQTP+8Dn8SagCBw7A34q+atl78Idhawxd0fFnb2CIo48n4R78IzgOIfhN8A4eVoluDsPfhTaWQBj+O7wRB3mFDHPyzlMdARTA8XnbRoCvyote2ozRru3TW0bXn7OVDTnGDBiEIWMGAaqssTqomD96PgGeSgHYDMfhmDF2E+Crwv7MU7+1u1/hV6R57L8BmIUhGJQlpMTrH1vnKTonwfKy/hEIQMo89R+HBlYHAX6RNcA96/5726eujP6Z1rJ/NkIE+7sE8DTA2kojK6oABEg6FTUJ8D2ioAb2LVjUKspxRuE7RCANfgJY8HOHR9HWRksLIyMYeCM/Bcd58dHfwSkfZ10MGzaQnExaGllZ5OVRUkJ6OkvAx+mSkqiuXnQBVwfcKAfogE95BC9DnlfKaCeeWCSlUg87gWi/9V9FDk4yyWmkbWZzHnkllGSQ4b96/KL9NG1dHvvLXq83d8Q//De/hdjAhhRSVMYssmwZ9TluDXCIgJrwxYv09GDZnwM5bKeRU4O3GLzIkJ1yrxazf7+vSm2Hz+K/LA+vQfaSvalpwXpCu2AvPvH5AlU/ANu9k0aetWqYqu9RBZdh1lsv8ciRGN5H0ELLda5PMRUhLNvZeGCpst6DT/BACN7w05tsQ4sDh6FqkTrxEIZ3iBcLSkSjJwC+NWAn1PjrgQvrJg0a/SyKePcuH3zA2bP09WF9f6qP8eIxji34XYxd3xMAkb5de7W01HTD2tonLGXn63QpKRw/rharQ/k9wAINeBnw1exgHH4ZD/ug3tdvF1bRz0QVAJFjAQWllG5lay21IsoVE4CxMaP07W/TBrNou7eNmnb27cM//Dc/fmZxAUgn3StjNdUqo/7pK+/rLk2258/z/e9z6xaQzSs55OS8BUgABhk6z+AdTCt87rnHVoZ1o1aqpwHx4zX/vSlSA3YZs4hBAw4Yg0XJTj2xqoiqt6nq4DYG7NmjvmQ0YDnoo+8MZz7iozHGcKzv/2NUVfkrq6cBKXDSR2+KXwMOweFodbKiGhCyR/clAJ4G7Nv3a+EkvOkJwPJ7/gh8NxVO+omau7v55BM+/ZT33+f69f3sF/Uf57gslVS/J/bOSlQ4jiHrTZsM4xcWUlHBjh20t3P4sFECixhOV1amHq2mrMPaHu3/AHfhLLy8zBN7GrBPtrzfelWUGjUCEDlmk11IYQUV29neSmsDDbvZvTICIPa3Nv05kNdOZrv5l38B8N/8SI0aAWxiU2QZdUEHOagPvjRAcKNqQDhMVxfXrvH22477LcP+8/7FqaEhpAGDP4TaExw6xPR0xI+XKlwbfE58eHW59XgFWmJhf4vPoB32w4Enn1Usbewyt3+I8c6Skti1SwH1soIA3cE73DnHuSaaqNpK1Td1UFW+77J2wAVojI0ClolDMr9nmYxjDNPTM/9rAv816yebeM9r0yLKlV+71MFTnGFRvzWx/y52ifetWacsBrySmsrJZ2jEPi7pYdadnQxPDoWHHgw8uHNn6NIldu826jMxYYLyykpiw717nDuHFYBXX0Unf8xptPW4rvAKqfDMwuWgw4SHGe6h5zM+u8hFucaddGrPNNP11BM/pLeytraa/1jz5s9t/5u//MtWDu7eVTNb2QLCYmWcYWaSySGGHvDgNrcvcUlNTp+N5whWA+IIBQzFW3Nz5tlfbQvm5rD7JQN4X0U9zAFfu1w4D6fgraGL2a1Q/zTO8tF9txqQn09f37htHsZqavAH3VO1KutZeJJiLFE4Ia062AiyN+Lo6yf87Y0CF8bg+/A9bbvP3L6t0Daf/M1s9i0AkXqxG08DcnJWUABcIjE5aXx/a5cuacBBYz7W5J0RKxoRSuHEY9H5LLMTTKgb3uNeCy0XJi9cuDA1NkZSkumMW7YYRz42NDdbATD27LOsf0RWUaQAWHK8z/1b3LrCFflTAwyI/eU1q3CVVBIPJJW2b/f2FhTUFBQU3N28+cW2EdvlV1AA/jUWi5RRbWCccbUBCdtNbkoALnBBCufiKiwooCCLrFg1wAXHY3lL8dq6WGFwBwcd7Z8LpZGbq/1kZrpPvj8R+DVP6knD8JayDvxN4M2nUQO2brUmAcC2EMmAfwGw1C8NGGVUdZt4AWgEquEgXjOI8TAL8PKyOPUiXOjn4ve5ffsG+Qrc5bTtZKdfAXB5FDvjLE/UMzjMw/P9z57dwhbP96+gIm52W0QDbOfvp1/N5TKX00l/l3dv3JC8qbUo7jRNLga8/o3Xf9j4w3O/d9YKgJSgrs5HRi4B8F1FkQIgxu+g4ypX88jToKqI8nM+zyW3lNI4BcBz7hzXKTpbVFhYWFBY2N46Yrt8vU0Fr1TpomiA2sBDHqoNiC+aadYde5/3FQrIUVILlNN0hCNAzBoglrcaQMGX7D8/CmFVQVvttOYyj/8D34KNUUvwU0uw/yngz3o/ego1wGPsy5eZ6uqy7cTE5kVF+ECk+++JSeJ7k38N8CkALy3Lnb42woXvIUfgwoUyeJ2GAxyQBqhV+xIAd+nzOCv7wJx1/K2Jayz1y/ffwQ7iQx7eyXIXErBYTFF/JpkiArGbQgG1Hfmm9+/HKADT4UOHwsNn7509t9cKgNmWlz/KE2ukAf6ryEMZZfvYV0JJMsnSy1/hV8SPqqVaaiUM5ZQTE2z61/ZtNcqSYv2vJHXLltlbt+xu2b59Kx1jLlZGuflim73stVGm6FpN8AY3lOdQAQ9z2MGJWQPk6Q8NGQ1gZ2QCAMv+ngB4wsBvW8j+wnbmUblECc8v9qPtC3loPSMjA08D5JB5iSI/AtBHn3X/de9ISkq8+y+ULvgUU92XEoEQlPpv5b294n3L/s70dMM8+6sj+5oH4OIH7gr2Sl2r5/5vmkr2Rn7qqEvAE9tppO1hj/wEebVgAk/roMWGsBGAQzXhGrksSgZYGx31X4PrEWo9ysaL9LexDVDv6qKrm258I3r6d7qCirLSstLSUsrKSE/3Rn0TOQEqREhcL9JXARULyhtQ6cQmAwzEms5ichLL8qNjjijeNUNAXgRgtQHL/makQqiALNkKZdQcnlo8ytueRxAOsxQWH/3fvBmf2LhRJuWwps+x139iuru74MCua9nfEfvfv6/OZdlfWxZDUvyPPMfbWK9e9Xz/pJHx4/PP/BziECsEJ/qTGp4bmEuuHfANh03XnZrCdWNYBVk/PFQ5PXxoemjIHWpxur1kwEsvrU4NrmoVRUACqWigmGJFAJYZRWLxp39TSVUbrUyqrKyooLJS1n/tWuyp4Dg6nDSghJJ88tUSFOuMMSYZ0Ic88lgOJp1JPV8AjAxaT38sN6fioWX/jZMIc3hDQGO5uQ9NEJCN85A9sBljbAKDTbGzz9ON0lJL3cbp7+4eV2vwkwqeYca6/7IY079paY/bSvamyH3Oajk4ov4vfX+amuTKeOyvRuZLANwETzK/fdvz/RW5HOc5z/1PJMElkyzplwGOYz5pK4sBc3Pls7OHDs2qgw/9kB+eOzfpJQMaGha5FvvJWfcaYAUyk0zAMuMEE/GnfyupEevLUrWxZgSAOFPBLrFAPV4ykEKKTQ/I5phjOfiYj1Wwaaaxw0nGdPez3zIs3wlv2f3Thv1FL5u+3D9LutlPlrVXPeb/Lcssp7PUHXXBecpSwRKAiCBAAuDD/R9hxKbyjJWXJ14ABMfPQPpncAT4uyvVxJ27d637bww89n/CQHpSwgclXDx0dhret+5/hxlvFe9b919cvBpnjdZdRhn1GC03V2Rto8aYsfcQEgBjp+dOawjISwZUV/vIq6xLDUgiydNI0aK1ONO/gHH/qdSW4mJsEFBU1N7ebb/fv183InEuyRRT8iJlgFUCeQb4xk1uypE5zemwE8aFIasBSi/knMppIrsJwYFb2P3P52h/D7mnsNgse9MW2BMA/3B83NGnNBU80dWl1rBkKthz/2NP/4ZChvTT08nI0DYeAXCffJMqoRFjBn8y/qM7wPi4N/Qv7qmhxhv9JzqS1oz9+/ocO+FLduuWEhTeYz+KXBL8Mqw73Omks4ceMBxdVhZ9VqY/Fi3hkNEAd2jYGW4eaPZmBsgkMLBOZcAlKqSOYcIywDKjLJ70ryyffOv22+yLPloNmO3utn/if1KYywqgjz4xs/EfQffKRjxEwwJu0W/VhC5zuRWoNt//BFyaYWCAb/3bgT/xb+eH0l7jt8HPwrXkpG+9ff3n3qbVHi3riFqJLIa75fhQ9acrCEhL8zRAMWHE86BRBKCffhsB3OWueDz29O+WLeYRwLw864usLPvHDh9hn8f+otM88jz2DxEiOpLWhv3FApb6pQHNzRIrb+Qnh5xEsv8009e4pkcbr3JVo9tqMHV11NaybVuctZKqHMYQQ8MMa3vnzj1PAF55RY607ZRrLwP+K+o+93vpteP+YqnNbM4gIy73f2rKsr/3mK/+ZU3tuL192v6VBCAxuM51NQDRh+5XCSU24SEB8P+gtpRjBGeERluZb4vluxj6Oer/wJVs9g1CNgafaj+zg/xsLrk5vParUAMO2Pno8bC/fw14jacAkQLgJY28WcHRHv9/5JebNrFcyHOTb/PwISUlsvXM/g4RuH7dsr/Zgsf+1rVaQgAShe97/2V01Dl/3rD/+fOVbqU38qMqX/E8V/OiHx1D/WOMPeCB3P8rXJEcFe0a0N0/etQ9cMCEgHFC9CENsAIgu3hxbD4ZoFOsmEvrOAv/sfLsP8poCy2ttHbQAeg2FVJYQAExYN6338AGkb01LDZt8oKA/lu34kwF+8ccc3ICNNv5Epf0AdjN7u1sl7MO+BeAYbKHaRyen4Y52MzQVWYmTmQ3vpnDkez5Yg7SK/ZXk9jGNu3UV1jHXC1jxw784LMovcG3Bnwf/h3rHcXFlsaNU97V9dALAti5k0cxy+yKzf4V+4sF4sCZhR+dqOR7xP9s398ki3K8vj6P/QmHRf2W/f1M109K4POIpxDeATtcdedO+tmzO365ft+Vfcdrjh8PHdcdW41o/xQWn8se8/2VzJRXe3fz3f4t/31nVW5t7WYNOh854qMb+utttdQOu8NDjhEAzTCKTAbU1BA/NmywtuAfK+37K6l0jnPNNPfQk056NdVibfnI8aV/t1r3P3J6uqjfaoDCWPV0/6ngW/jHLSwcptwpue0qoHx/OQFnOdtJp2RbnaeOuhpqeAIOEYkRGDZ6z4xl+Q6GPsZkgMnOOWRSvXDIphks+8szMF+hr+oheRmDM3/cB/v70IDfAUNPTSpYAoDnOkgAorn/upuP6MYawCOc95Zk/0b/L4EIPfFgHvt3dpZT7uV+8YEkN5E18w7eM9L1k5OlP/ZrS//vjoqKmrIDDcXP1pC1SmddhP1d3Jn8mfGS8f6S/l9X8sef3/Kz5eV527eW7K2sLDHNayMrBDsQZDv8xdGLX2qANaeoyCU+JCVZW/CPZaJ1wUdvprQEUo6/xsc0SiYfGdjP/j3sETmKuONJ/1rfX/EfEXDLyx2rATk5bW2D/lPBp/CJJpnXk6Y+nRrdPdqzuUfccZ3rYcLP8Zx9GGG5TyEPz5v7yFQvJ8fOASPHyxOoMWibRZbdn0zyMp4TrPTB/r41IPupSgWPRU8FP+7+W9FYI7yF8C6/B2NdLIpkaCQa/tGyBj489lcdpZHmsX8uSyQbEz4E1DAJDVjMzl7u77/8K/8nP/9sbe2OsbEcBV4vv2zpa4WxyW4Woo/M0czNPZu/0/7vfzG7qrSgYItchm3bTAqooYHSUlYCG9loNcBaa0dr5KviQqH4Dr4R1VtKCo6Dq//oH7IYm6zwhSxyYGSCiX7673HvBjfEj4DI8ShHrYMcT/pX9Gfcf7dCWx6F++UQkGRg9tKg/1TwW/jBFVlkZ5o+Pj32v8b6d/dn7c7amrRVYzIa/FHnOcIR23/8o3yIP/Kz/JHfjoVlf20rsM/5W7LFsr8sx9sfU1jmxBedPi1Qo/Y0oLkZr/1ECoCaqHX/Tfo3Pd1Qv/3BGqF/G40XshuzeQOcKLe3cqXmdnR0eLlfwGP/nez02aqSEvuOjO1wwAoAnZ189lnf6aMff+yKtTT8K3vmmWXViYsPnPTeZrcAM+GZ8e7x/u7+v0qHCO5W0ecmulSdDg+7L7xgnyCOv5/luXmHnP+XEG5qGvQSwipv/D1EJiGZtJ9ky8epBezvCYB9UyZQTrnIUe6/BEAOsnyNuNK/bq2NAJyFzdsGBtKAS5fsL/wIwCWWQGolJ89OnD0Lf5yWGnBdw8O9va//yut5bXn57flbDm+pKq6qoWYve2N5wGnMGM/A6ci5vk69a1g+MgKwQUAO3v5lt2oHi6+FBkQKgNeEIlPB9tHPx0f/U1PX9NVaDbDN/7BejHd5YsJjfzUrkb6X+/VB/WsjAPMaMDPjNjc7GzYwOcl5R93SCoD0+8CBlT/twlWM7J2ZYcamAZQHrqAio/vMpe6PGBiQPjm6moICrxm5xAW5lp4A/IAfnDvn2lGgrCx3717igS7Q2qT3afm4YTdR3pWv9lRCiXrVDnbI8dc/de3xpH8JUzlVaWcATC2kpU05Ng8crqgI3b1rf7QCqeCTwNG/T+VP2JPNzXH/PmfPnv+VN3e35RU+yKuZKX711YrMzHT84QqP4mELY2EeggOjdq4vMxPJ2VcMy98l++6jQ0AapND+MDlXsPfRmR/ZdnxNX/naaEDkjK6OjsdTwbPMLv78D6ypAMSrAQ4+4LH/zZsKWD32Fwv4jyWT1uolSeJ7KZi18atXpQFif5l2686uIKoiP0aBgkeRmvSgn/6OL74wQ85lZSYXLHpeof5ykIPeE0GfT34emRAuww+qowlAWhq5xtKQ6d+xcSO/BpKJgIPjLZZSRFE55ZIxWfyzf8veKhP7h6j8VfLsqRbQUqXVgP929+5fnvf5tGMluuURqARcabxu9Oxs//f/ykcfdYbDZGSQm4sCP584tXCAa+z/MmZpHoYwGeA/n625XpeQWUyBYX+1BLH/fXJOWSnFyczkxRc5ciSBb3pwYpv678ZxQie+VLAEAFF/ZCrYc/9VpY+8QWINsSfi0+rNvWhpWfS5zzLKolH/H4WTcGxtBGAhiebnu8eOORKAyUlZ7507VgNsHCD6FRLm64iPppnuoquFlg46uHXL+JxdXVYA4j+zbQKRCeEbD254yYDsg2T4Y+mFMKqZxsk0MJZGcnLs3MhPQXJkd/WWSyykMN75GV6/hcpTlR0YW8Bp3j+noZKcCrFyW9uYj1SwD9Qt+CSxHBigX6KfeuFCODfXlQDI6upiFoBBxn6A8Br8WhhE7P8uOfB7oQUL/gUMAl+Q8wV/BX4DBpw4sfR5nQT0yuiTwLW179tRT5HhD/aP9St7HGvxpIKHOzuxDaKnh8LChe6/hGK9zadfeQ3o7/fYX+SpgVnL/voQbbJYWZS0c9JaVo1o/tgxFcDGAe3t9z/7zAqA2ebkkLCXwdmHUoopzicf742gw8OsKDazOXJ22PXrPVlZTna2GQ560T9LLxCAxnTwLCb8yIKPK4yxMS9yT0/fdGnTJf7XJfgr0d94lo19q/0tZq/iIxUcSyNwa2sddSTZwMDMmTN6eWJeHlYDSkvdJd3mFh7F7Cxzc+wtc/dyEX72ND87Q1L5/W9x9k3K6ikDOrWfn/+56Q19yXkv0vYtyl6lzIEi7HsHEsH7MYQCqaTKD1AsaF8DJaEbYQR/GGXUvlYPML4KabIYHnaI1ACvQQwUJln3X1syM22YYMd/vuIa4LH/vXty+R957tNdXvtJWuOq2bHDCoC2WgT46tVBbyBIr88MhRLn6CSRFCJk3wpn3uY4NcXMjGxln0yqoMJqwHwyYMpmg7M2cIAno4HFsCstgv3T1uuAcET6t6L6Nx6vhE/haPS26UI3vA2VD7j6q+/4TAXHUM6GBgmAtZ6WlvPnDfvn5cmcZY+lVVYqp+/W1wODsssMNf3FHX90RzY/nkO6Pe0XMPiAgZ8lZ7I9548fzsZSFZnGbHyzHpFFlswmflRTffT10CO/Xp1lSfbXX+rv1doB+/yz3KA4nwf1mlPb/qS2lAWj/zYIXp8asPh8vr8JjbADn7h0ybK/PkibPfbXwyYxeA9JrCGsKtbVWQHQVhqg12d6CeHnn1+5E/mIVSeZnGJqllk7IdB7rH4FR4GEfezzgoAzs2e+TAYkZR3fmJ2UtDW2FMcfN2Zwfr0mBT0fnl8RTx4xT4BGd4pcDIqgUvYOxcX/6cGDWFLBPsrppqU5ERpw/XqfBMDash/Q2rbNLSmx76wffNc+BfS7c04eMY978k0MGGhm8Jr215U0lZhHgHgVcrHsb7brFKqPQgqLKMokU5zeQYc49za3a6ld8hVb+stOOu0b13UEbWOIACBybUe1o4e2Rd29m9K+fcHzP+sE7tJh1xGE/dC4vFzawuc+3QM11MQWOyatC208ciQyDohMCB88iB/E/3YO+zI40QAgSjb+WEYGq4PIV0Rc7XfOnevLygplp6RkQw5x4OC6fDCks9NL/xYW/tiXT3jyoyU+AuOKa9hJYQ8etPtIBcc+DulpwPe/f+GC6w0E7dq1vAZmW62dAqZt0nRado55BCgDbx0Ya527c3fnuHYSQA6W/Y2tX5RSWkGF+LWJJlH/da7rswj9CZmhbrqbaW6h5Ra3AP29jqDjxD8rWM1APNjd2Xm/M6Nze6e6UuRa8uub/Z0oO2U+IHr02H9gYAc7Gtyoz306+ELSmj8PZhlAyQArALLJTz+NfDBU/XDl4RAJ9f7LXL7JTRtO2teBUli4OnKHeCIyIXz7dkpWVkp2YSgbXoENy3lMo6+v78aNG8PDw+np6dXV1eXl5YnXAN/uv/eiB389R39q7dKltrawj1RwrKiv94KAyfOCHQgy26KiZfd0bwpYNiU5To6IHgMePsR+NTm+IXISgAs/aYMA1i+2YmbJ7WSn2Pw+9y9xSRJpl1ErppgFuMc9zRs/xzl1KzvrTb/VEXSc+CcE6L7Q1dVz/37Pg5zume715/4vl/1907XH/jduqF15T/6kkRb9NOsuAojCbSkpkQnhgcuXI+OAePy+URjDYizy7PaRhjHG1KBF/Re5eJ7zIhn7ICrV1fasK6kBEd5uCSURCeGSCxceZr/8zWzIgiO+b+GDBw/ef//9ixcv9vb2bt68ua6u7vnnn9+xY8eKNFJ3pdO/yckepUfJjrkLEtxmSrBRjNmbNyUiPlLBMY7MRSYDutrarAbIXnuNpKTlOXmieBsE5Ni5vk42Lp4wDAxg2V/asMG1Wm/Zn3TWL/LJ381u3QF1ljOcUU8R+08zrfoSs8uvzyIriSTtUZO2a2tLJM5yVhGDfX3IXvbWUmszyfFrABdm+nt7+76Eide96GA9oA/6wW580bKDkIdFHlFw44aX+6WPhv4Gy/7lpEP/cqg/L/Jj0jqaFJKVFRkHdLS0RMYBMcd2p7DotR9x8OBNBBNFXeWqmixiqcOHjZ+5Zw8FBauaEtrFLu8VER/wwbvvvv0uy8O1a9c+++yzd99999atWyUlJWNjWmEwd9u2bRs2bFh5jY4//bvNuv9ORobvJyTm14nk5k17GCsAK39DRCIRGtDcPOoNBB096l80I8d52GmJfj4CGBhw7H7r+8u8Kv6f8APWO5S76qZbbVUOmrwlyYA+y9NXx7HvzZYAqEPZl+tp9P8LvrjBDeAoRxUoiK10hJWaFZx0mf/TLxhQtRu7V81+HcDSTBec8s/+rzseLf9uFsPAgMf+Ysj6U/WG/ck6wFmM4eAT+z0BsCdLSkQO0L9nXFQUGQe0tNy17C97+eUY1+c5FYX9rQCMM25fdzPGGMXFZjTgyBHT6UUHq4/Ip0IVLLNMyP25d+/elStXXNeVBlRWVnZ3dw8NDUkGVly44hr/keG5/8tZ4q6sDPubvDx1dT+p4NjLtm2bupk1JaIiB4J27PAf0WPdfxsBWHtMGEofewuQg/CqyzpHGmmi8jBh+1nekl1Co4IKxQcZZFgBGGVUHpVuuT5vZrN9sdIJTmi7gQ3xu4ieBnzrSv/rL/ZP1U3zzXU2/nPKY39/zCz29xBNAK5f59Ilw/4dHaUvlx44ldfAhQNcWOaATz3sBxYKwNprQKTKe3GAthcu9NpRIJmmSsaAX9Vx/uuv8l+jv1J582YKSigtNRQgx//AASMAycmrUtRHXd1kkiMTwuo2y3x1eXIoFNLgj3IAjuOkpaWlpKQkRRuzSHwoEDFnJyfHSwAss615QUB/f+ypYH+IDALGmpqsBngy4Ace+yfNpFpPX8z42Fd7yLZfPXXvZiii6HmeTyVVF7+FLXLwdTc0fCrjUaiAGpGxL1ZqoEHKoZ+s7Auib9/u/N4/7fRe/WZUdX0g/G74Xf47Mj846PhayUPtpqvLyAB0vtv5n5EtF2VQv4o5gJ8kOlLs175RW2sjAEDbs7Dpoo0D5J2v6InF/qmpZGSYAaaSEtOMamp09kSVE/t4nI0DJplcboxcUVGxe/duufxdXV3y+pUD2Lp1q/TA/0X7v+I34J3lNgPrsae2aa9q2mZV/BOe46WCdV/27pVCt80fcmREqh3/bbGlihDljRutBugEOulduNBD7nmbDPDVFCzFpwzyDTZKtXRzI5ebzcrScZxULwLwU8UxNKm9slXUgFd5tZBCla6W2g46euiRB6PuOstsEklppKlo+oMKKrazXeOc9dRrPx7iK2J5OZbwf7IAeqGKhLv//nuTDzgyx+85XmXFkRSnF+L9phFiePW1wX+Dby8YBJYbPjtLWRnh8DSchXTY1GLiAPnoHuI6sRUA9Uv7Fhi7KHl0xHu66OPd6ifqP3nkSQPwC1tJB8bHx/Py8gYHBzdt2lRTU3No8cWMGuO7Yu9GGXzbZ/XY9G+drN26OKpd0bhPOJFhv7Iy0unJyVlohzZsJmBFb4uHwkITgKpJSAPgIuRC3gPJwMInkhsXFYDiQRqH2MCGUkojlmRS2VUCRkdzwLD/Rjb6rOJGloM9skSMBanRyv3vpLOX3hFG1HTnmFOhFB9kkSXlU/GrqdZn/Hcq35mA56tANgdbZVmJFQD/vckvFmpAY0LYX0iKfczX8fGqmhT7RUwQl8kdm54GhsDEAZAuC7M1tEInlgD4GOpZuXKGIcRiqKNuD3ummV5ms3GeffZZ8f7o6GhqaqrWM/B70bHfGVsGH9WT3M63LF1PeS6wz7bmLIwId+60LaFt3vaxas1v2zaZndIlnIdcKwNhqkJLnHPPoDEGsW9SIgJlZdafycE+/u+7ik8m3vf3AfkrMvuKw1FGIwUgk8xlTvdd3k3aUSWbFwD7IUFY+d6EI/NxjldZJSTFmPdzoqxZ5muvb1gPHYMuLw7AWGHsJ44Jq386+YyhmI5T8CWWe9Gh1a6ekCXqdl/xo++W0D9/0LtQ4eu2xBSVRejVEFyA3Hnb/ORaHYQhGCQaQiHL/jK/COEboTV7UUT8rcY/QhmQAAFIWG9yfNBpKHEC4KNfOqwJbs4LgLYvQQYB1i06wQpAzwq/Cd0bBYIKEoTbNgLAbF8iOgbnbeYJxbLsn008CLBVNi8Am3mK4bC2SCIKBqLs0MQW+aqrNiV4CVyeFwBtXybAukWbJWr/SST/3cGLLEYS1/cjBoJgH1GwlPsPDmRjLId4EGALVMGs2T71cGRreHLXZSGGhzl16l+fOsUPfkBjIydf4qcxcNjClhd44ZExPpenDgECBAgQIIno+N1YL7sX3vLcs+d4roqqOup4mhEgQIAAAZKe50mYeXaO++/yTzD2PLBzhhkXl6ccAQIECBAg6STR8QZfVQQIECBAgKTGryX7BwgQIECApEIWQxZfbQQIECBAgA18fRAgQIAAAQIBCBAgQIAAjuu6fF0RIECAAEEEECBAgAABAgE4DX8YtoDzqL0J/wfmeBxOAi0Z3lit06bAT8N/hB6w6IP/Dr8R8lboFPHDWV2Liln43/AmOFAMfxA+Wt8FibR9ROAm/At4A0IxVIfjw47An4cPeTJGMU3tG6vTSiC+s0cv62H4u9DG0rgH/wiOQwh+E7yDQQf8Q8zOVPi2dsZ0wcv7rcV34LdBJjjwCvxr6E/EiRfiV+G3RlzIv4GBZV9HGvx/8EtfxwhgH9SxSqiZt0KwyIc675xPJwKUwAEisAP2z9vKo3L+0AeIDS5rCZcAwasg1isKoc7YaiAUIQCRqIPOebtFvAjgJJZkUqBBtnBZ7G6M9UAbK4e0eeqXZQbsHyAQgJV3/2Wr6v7nL4iPIjVggqcJwVtvGxYVgE3zGtCj7QreVEv9+2EbMeBt1hJv8/VEgKRTiyQBuoiCN2EDHhpZPsYYe8CDAQZGGBlnfJrpOebsWijppGeRlU9+CSUppBCJXfPsv4dlYHCQe/fo62N0lKkpu4w6GRnk5FBczPz6Wamwc94WojxCA84yj+lp7t7lwQOGhpicZG6OlBQ2b6aoiIoKc4plYmJi4sqVK52dnYAW9tLqvlrikZhhr03FHx9nZoaNG0lPJztbpfa3eN6CRjELP8+jKIbniIbGlWZ/3cTubgYGzK1Uhc/O4jimzlVLKldBAaWlppgR2A4HrAAsLFU17P+Ennt0wydYqAXuY18VVfjDZ5/R3h55tv2k7OdHDpD6SB2cijqo+x0fqulsZGMaaZlk5pJbRJG2+ISPs8f2cvbDRNZRY5Sz3INPHo2x34AO+HTBzhiqy/vlApxqXDQDMMqjeBnyHm2qp3ycdeF5G72f+k8CjBGBVyA38nD+L4U0+AmWi8ZoAuBDA96MbyXPDjpuc1vb+9zvo2+YYQnAFFMurhWATWzKJruAgi1sUT/czvY8e5cyoQ5rfiGaaGri5k3TR0UcIyN4ApCZSV6eYX+7BPy2bZ77nxc99uict3tgjnzjBq2t3L8vShJ5GwGwa36XlFBdze7d1NezHHz00UenT5++desW6Iq2aY3fV199NVlXu1zcvs21a9y5Q1cX/f08fIgnALbU9vK2b/fJG1E0oPhJd/+tFaV+1YkKZSXNarkq3BMAK+fS3fJyVZy5oampQM489R+ATYuWav9+0zC6v0d3H3cQcsiROyL/I4Ol9fv6dT75hNOnwWAz7Of1AzKd3UdvXtCnfxPRYJdZ38xm9YUSSsopr6ZaXQN/8H92nzgEh4GlBMDTgAULJnoaELK/XX512V9GgXl3PUtowMsLCuBPebzz+hIAHxrwChYxiGCa/eNVEgAoaKEA4T/DKfjlK1d+mtghum+i6RrXbnGrjbYuunrpHWLoIQ8jBUAdT52wkEK18q1sraFmL3v3s3/Dvg1Y9i/BF+T1nz3LpUtcvWqoUDQtPz0cRhBNSwDkMJaViQTFLOn792sl9Zq0tBqiIt3TgIGBznPnXHtkEZNOZEnWdc2Rc3ONH7pzp9k/PMxzz+H4IUDp1E25/9KATz/91HXdI0eOpKWlVVZW7hZTLwuffsr581jl6+igt5exMSsAxlNWqcWSujx9NTjI4cPL5A1PA4qiLoDqrqjjL8a/fNnomYrT1kZnpxEAVWykAOhuqtqlu5WV7NhhpKKuTh88378yWqnS0owG9PTQ/V16vqeKOsIRudgi2ROcWDKwVBOQffyxaVy8YKjfHK2iwndVWozAdwkBTxIALzKWY1RJ5Q527GJXHXX6J9Hh/+z+cUi2vLN0wAVoXLDzIjTGdsGGhWMos8e7Ly/nV95ZLfv7/6kPDXgZYrwUUuHkquUA5EyJd/LzXRi31/IpXGmEv0BMuMGNc5xTf2mmWZ/vcMfFBeOPlmSaLrxhg7rz3OTkxMjIxI3hXv2NWrx8HIULnXT2VvYeqTuSU5fDPvxAPVLutOman3/OlSviffXqPLbJjXJwJsOTg+HBzj6J0TV5cfIra/r6tKR6zTPP5GRlER07oPP+/c4zZzrPnr1y/ryOnE+fOCevxjCJAoCRkXBn5/1b5+4byRkYMLSrL0SyPjA0NNTT09Pa2qqBIEBxwIMHDxQEsCycOcOHHxoNuHhR5ZKOKsYRcYhBwrPhgZGBeyP3RsSPMgnD5KRRhYYGVhDuijr+ukG6gypLc7PulDTVjtLkkptOUTLJc+5cOBweDY8O9KnJ3CAnx7j/7e1qAPUDAw1Hj1oBeBKqqmwcIJMzf5nLYn9r8j+IDsv+0ibD/rt26SDGDhwgJjxDCA4RBdNMjzE2wMBFLsrkG+1kp7yoBzw4xKE97CE+nCAEB7EIECSBjV+cnu7Kc7T4xBu1Owk1LBMi/dOcPsvZ85y/whUwbmh1tXGU9UHemyJmx5EAIOobHjbU1NlJa+v4lcEr7bT3JPUM7Rsarxs/UXeiKKWIJaEDXbggEpQGyBEupliO0ja2iQ0lKg7OBBN99N3l7k1uXuu4ltE9WDOSWTO1s2YOnoEcoqOjLuVM5+SZzq4znZfPydeUSm7dKrlUbRkBEF23tYkXxMMDYXGxPG59J4koLGQJqBJSNeKfm5vbpkMYaczLyMgIhUL4x9WrGpMWi6ngqcPhgzwjJ7GCCtGlBGCSSZW6lVZxXHNHs6nrpCSys20iZB2yv+6dkXDdx3PnTNFAZREpl1KaR56GCo0AMBcmPMyw+Fs39NbgrTH9fWdnaV9fw+how9TUgRMnjMg9GZ4A9PSEb96M1IBUUqPVtGV/bXWrLPXLvHP5xz/Bw1Y4zAK4uBKAUUb76e+kU87Tda530KHP2iNh0LcSH2LCP8JDNYEGBALgwfVIYdx3YiiK7y/2/5APz3BGPktKiukme/YYiamoMMSYlRUpAIZD1RM7OuQCq5uJBIaH976XVPcwvy5cVD0Nx6F86aHZ5mZ1Tf1YZKGlKw9zuJZafbYDu+OMq7urIykE0M7BqcGaj2pqZmuyZrOYhWcgn8XQCmfy8s7U1Z3u7Lw8OmoKsm+fGU2RkonqJQCSLvmsKtH0tLhrxFxJTY08cT8CUFFRUVtbK69fvA/oswZ/quSf+sTDh7bUosvk4fHneUmDGOIFKV8BBeJKyZ4cRnGHTSE29zWb2Ki8HOlY/AKwssM+IHdeKmrDOLWGTDIbaJCru4Md8n9VIt1KFcrFlbANMthFl1pXCy3yNm533G4YmW0IZzTMFubPbOQZSOFJSEmxGiAB0LZtpM3TgKMcZQH6+w31W/Z3XSz16wj6RdzjsVWLaoBETgLQQ494X15LFVUXuKBbqZ1TTDk4IUIS+xjP/lXTAJc4EQiAG/fK7d64v0Z+5Ptb9hczyiE7dIj6ehGcfGc5zosOhhg/uqXFKERZmXFS6+o+27dvCqZB2xNQzRPQ3m6GOES+IAY8znFpwGOrV4pKdrNbHUnxgcRAnWfnmZ3MgbVnoJBHcRPOYOx0Xd0XAwPY/PHBg6Sl4UF0KqqfnDQCJvUa6Ow0nCLC8IGsrKzjx4+npKTs0ngCKnjZgQMH8vPz8QkNOok0pT8PHhw4ceToTx194adeOL7juKjBo2SpnUjNxdV90e0Yk8aqru7dIxwmFFqp7uYQN/r7JWNK4UgDVJWie4mZRufrqded0l3bwAYehTRAA1vVVG9hyxd80TDccODDAxJ1ZmAWTkA60WDv3HwyoFtjaIpTvSCgggoegaV+mWoauQB28EdteoW4qoToGGBAXovKmE32x3wsJ0Y9S2GKzQ8rxo377KU83XBjcFMDJPlh/xg0oIkm9RSN/IhuRJTPPMPzz3P8uOHN6M83GsZXh6quFglqa/0z8eOleQHQVlYT9ckf9eGuLnXmMsrk/4rrDfsvgKhfpr40wog6uboQn8LsvD0LxczjmqV+zLbFcXjxRaamzIUthIjUDm3l5DBw9yHj4yau8QcFAaWlpcoEgI5QkJSUxGJ4CUZgeH4bBgOJzd27koHMUGZNeU1ded3h8sOW/SNvl8pbQ41IRJVzffa6odrBQYaHJVzrhf3t4I9Y9sIF6ZN8f7G/JFxbjXdvZCOLIYccfVtOeRFFknZJXcPDBj7ACoDZPrPExCxPAGQPW1psEKAWoq1CDebxxRd4o/9qQd7gT2I8VUVvz/CMtrqzs8w+5OE97ikakEbqOl/hlZU8e/xMunGjMTVja/oM9nOkrZbX7y6zUQYC4LKSuMtdEY1Ccjvu39DA0aNGA559Fj/YvNn88d69aiGeWnyxtACMjRkNEKNBFlnqKk92i0QWROJzmLPm5dibItj/duSwQTRs2IDjGLP/MeYT32PjWxtL/n0Jws9AI/wkC/GtRwVgRDY+PtzTM9LdPez25VVu31KxpaqialPq4hqrChFdGsETJiclZbJ1NM9LEYniGBGtRqhA5KoRPIVxZjRmKYj9v8E3pOi2dIThw3kB0PbHiQpLTPX1XjLg9uBtbyBI0uLNQ7DsLzO32Rv8yc9P5DiFwiCx/yijffR9l++qi0nOlR3ZwQ65MutolCQt7TGzyS5jkTvjQ/wDFgGS/LcJ//Wq+FTjlS202Ai7rs70lMOHn3D/fgFOYWwmYmBk4VCMjQN+Z9QMsDVwcKyxLJy3QYAnAB/Os387/jAwYARISmRELCMjSrDzWdRdWRD2zn6ECBzxBOAxDRgZGdb/a4eGS5iby922I3dLZV40bvZcL+ujichk8fa7/n6nt9dIr33eVKUuLIyBFu1Ylsn/tLTguqIz+xCwpWCfMOzvYQY+8CcAQmkpXjLgvfciB4JKKY188kffc9BQv7HduxM/Sq1qkVLZWTW3uHWDG9qqx/kRADdmVX8WTsJ/jUsA7AerAVYMVpf9Aw3wUVtJ7krXvtwTRQBttLXSap8qqqkxud9QKP6O0AZTRENyMtZgmOF++u9z33Pz/eISzDGPD+AMdPqfgyXuam/HDBAfKKe4WDzo8znfIfg+kXgeWCgAhRjzMA4jjA2/NjYyMibhkQBUVOSWluZg8TcfP9VDHk4wMckkQmam0af09Lie07961RFr68PICNPTRlykfKLNbdsk+8uTgYcPuXvXVF9rK6ARvJ3slMNr5Sp2nIZZ/MAKgLWRq1cjNeCLpg2W/U1kUl6+cPAnwaihRnlgOf6ifvUydTfpgW7uJjatrtf/i1CML4RCYnm1LjkE2noRgD6o1cnszkTkewMNcBP7LqAHPBDzdtHl4ooNKiqU8hUhxNwgre/RuHTTE6PpfNnZdtaxeogdw62nPoss/OMK4EUA3X6lqQ37CH5zM/aZdCN9VVX+J3oMwg+isL/w91gE6bLiseLiMZAJOZBrtsLNxSdj6+700WcnT8lVV3XFMjRsa+nCdxw7KdpOfJuask+XGopUNrunxwzklZUtQ07u36ezk9lZOfLyZ6uoqqaa+PEpvuA4kU8EtfS3lDglJW5JSU9J8+X9Nv0rXrPUb3NTa/WQShllqp9SSlVRI4yor+m2SrgWVpfL2mHLFtMM8vKorKSoyIu07E51De1cXfYPNMBdi5fByfUWxfTQY2eViWfUEhKB9HQ53WIfaY58ybOcVR5qjDGxntzJcsptLO8f/tlfjuH580YAPvmE9r5NPHfUPvFq6XUB2omCQRghxPIwNm9CrrHFIMdfLu0lLt3ghhxG9j7Pjh3qhDFyxFn45LxmHqRdvFg6c116l7LF8H9/P61X2l2RpSTh4UPpgVhSwuz3+Z++PpGvzVXYHGyCu4ZN7To2IfzDHyoTYC6jqaTpUvGlS8W9vXDMUL8r9lftRYGTkMH3IopUS/nkSwDU3dTpBhjwBGBdZHUOHTLhuJqBjaMsDh60O0UK2rmK7B9ogLtGbwNVixxmeIghQNQgXzM/P1FOiR1vamsTjwxPDv+AH8gzUpgsX1JOkwRAW9kKMsvEBGfPcu6c8f21vTFSzIsHOXaMo0YDSATGYHReAP4F/PNODFzuubgzzIj6Bxm8x70WWi5w4Vz6Ofaf4MgRt77eDGHHgHNwGj76YN/tM2/U91RWmvubkkI4bGjz+nVTIf3yltXP8/JMfasq/GBkhKEhmX2wJ5dcsdsadIr6evdLAQh3d6c2N1/pvVJyu6TlWklzc8mt6uptPgZ/7Cmc1WR/W0VZZMnsgKc63SijLMAo/jHqh/0zl9wROSQrDVg48UI748JF778B/Df0xAnAOOMPeSgDM9aXkWFdwISguhp10cFBpqfFx9MDZgL9da7beNnTgEoqNX66ne0ppBAHdBJNVzp92lCeIoC+gl28etD4OGrix4+TIERGAO4/ARdrEy7vzDI7yaRoVYNyrQWtP1c2VbLtxQ0KTXSFUqnYnsM7Lev8S8Mff+MbfV++d8fEeaEQdg6Ejfa+8x3mmpt1OxTvi1J9pfvGx42p4YAGiTPIkK1Jp7ADQZe7u/9qT89fLLxa8hdLejpKfmdGxuUDB4oPHNikb30kTtxVdnnSSZelkWZ7nGRexgK8hU/0wltLsv+PL8L3v41E4xTCp8Z8IGD/d+CNhArAFFOyaaZtKsja45iN9q/o2Bj53+gQr83MGMYpKKClBb1gp79fzq8sk0wJgMRAAqBguZZa+6IIYsXlyxoFwWrAVN1Bkb6I1ZgYNtHsPwfuc+A+YuFZfkECIPew5yd7/njJz/y85hpUVW2tqdm1b19qrCm4wT/J9RdKX3zx548de66hwYZ3jqe/jiPytPnwCSMI9++bf1dWsiTUaqyBhFmWSiprAbWc9v37L3V3X+rpyfje9y53Xu5r+mH6c0eL9+8p3r/3RFXVepicmkyyNUBxnrVY31PWC6c86o/O/hZrLgBv8QkyHwjY/9vQmNAIYI45F1fmPRdv7ckN8x0I80S8CMVY/DqeCHWKl14yA09lZXY4yNBQZyddXaNDQ4oGZEUUyf1vpbWbbgXOMb9NRQfW4T7/nKmtNXaqm5Gf0lISgctQHyEA7lEWgZM8s7G+OTROxif5P//fPy7cUlheXr4j27wy7TCHJYcsH8dzOFGrV51qVocq+/FhD2X7y80DUEZysXPNhoZ8CYDrMjdntmBbjYPDWiAc5vKdvZfvdF++3eP+i9Pf+M7xX5P8nd+4/3LxgWKZ96q49QM3usp8lyUQCocb//t3//t/58l4lnWDvfdgLzGgJRvOf53YPxUaEz0EZLuubMGj+UuEpu/AJFHwEhZ+BMAbyZU7KvffvvBAAiBXVBpgXzXXPWae9eukc5hhXV0aaTXUsHzI6ZLDOjaGEZvaWk6coKSEBGEL/Bv4hfk+7pzF/Qc8ihBzjeYKHz5kYKCv85/33bx59WJL1m52q/gT7sSLvBhDOuS4tSSx/yJZtpwcOwXCG9XxOx1arcZOTZAM6KZYYw3gTfjaf/v2qzv37Szt2l3a1TX5z85f/lOXi5OL7SRhtZm1XQXT8/ptNOBN71g2fiQEL74Nb4DD04BGYNeyNeAGtADnvzbs70BobXIAdtRH8fskk+Ewk5PGRAqP4BcWf8h4ZgV9j8xM9u0z9uCBqN+anHa7ZIr6dxtt6j/ppBdQUEGF/y4dmdCyNmWfdxb5JQ4FsAVKIAuGMXD+GO5dIlevEJdiJaq3l7t3uXqVz/OHT5/+ZIyxjc7GLLI8AfDPUn8b/jSkRp9Ua83qv67AmP/aDIUkGGHCajUyVhjOkkVtb7eve3O0VTOu3Vdb1VVV1rXP7epyytrM5ADXCMAxjvk/z2poQOS4v5quupuMGHDStqWXIuO4dS8Ay9SAG8YEtdwg67vqApBBhjV14NFRZCMjFBYuETeo9/+4HWZ0oRVOyTqVyH076hgo0/hDcbGxhgbDgurfN25QXi550OD9Pe5d5aodDlpsyliKTwFAAiBTH0woSqwGWAGwqFj4KWKhhJISQ83DwzQ1N+WRJ9nbyU4V3xc3RiCLlYd9YEBb0ZpajWyEEd25RK5PPDnpuf8mbDrqmvm++/btK+2alPegGjQPhjpqTMaqqFrD1fCHGLIP/9j5zzL1uDj4NB9eejqelqyO/OQPN75uz/w4aykA2WTbx/j66BscpL/fEO/27U96JreGmh/jx6aZjihJJ5wCGqOsWPcMfAhzy0zu2eUIjKvuugwN0dRk50b10rt45/AhAN80ApBiBCDRsOyv7XU/PCP2V4air4+bN2luxi7PqbDICoDFWg5rZGXJdGt0iQMM9NOvmyJ9In5ULSOrb+3OHSqprKfeWG09nRM2ghxvarKTA+w0hRChtaq0HnpUP6olQFqu7iYjBmz2LitzfT8xH389OgH7J0IA8sm3E3lucMOb3Tk9TXJyVA2opVZdfdadBYt7kWnik4u54idgBj5m+VBPOXIEXdm1axIAuVFyNhVQxyYAP5oCsnSsAKxRBJAO4376R34+RUXk5RmPsXfE0IccSSzWXAN0WZLnwkIJlCRZdKv4bJLJeJ8FKoJj+IFdz8eamN2yv2wTm9i3zyaQtL3Tf8dqgATgCEdYC6h+rHgPMgjoSuy8MOLG060B65/9Xdda5IsjEzrykwAB2MKWUkrLKVdMOjY+Zl/ucusWu3YtuHsRg44bXJs69tscn4FZjH0SG9fYZGVy8ty0GaWOkm/8Jk/EcyH4fwKwJv2gZGpqS2trSXv77YkJtmzh8OEl+od0yr6Ja2RkMkxYtvID6rFBXnVJCaWl0tXwVLiNNvtKwTrqiBmb4Rgc9TWhz77tRzY+zlHM4I9dVMfGjlYDjL3/vicA2lZQkXjVbKFFAZx915Z9rFndbTObE8CnT6cGOKwTqMPJ7LPOKdZWlv2dtReAJJKqqLIzreROacDh+nW2bjVdW5Tr3T2fIjYFISBKBGDt8zik2N6FZJKJASkQkq2RAPTJaS35vLWktVUacHt0VP6qhtDt9F4n2sCn5M6ag2ONdQKJUkUFlZWmrbS03OLWda5XU11GWQ45xIBkOGaNJeGt8+UN/lhjHlYArD28ccNbM0Cm9pNIsrVrn13jmiJsQKGzVMp7MjXQgPXL/mNjcrtQR52edhzvnXgJ8P0TKwCCqL+GGjkp8uO6u4euXDEdJTtbD8pbxfN7967DNTywCRqwINsGAfMacBED+xIICgt58mwd+8oB3YyZmSyyMsmUEQP2G+NvkGi0GqONLa1b5lq3XGjd8lFbaHY2LNd+505qa+3Ei532Eh+ba9Xba5eBQfGZWmA66awfVFfbl3koYOyb7WuiSSQr9n+e5/0MBPXTr5S+4kh57iqapX6OLi0Ara3e254XDP54cJxIDbg9dttLBhzmcMLIVn3KrrCts0vHxf672V1LrZRyxfnUBeep1wCH9YPOTrq76euzg7G5uYYSHWcF2d9ZLwKgTruHPTa/+h7vXbhAVpao3ziehw6p5N7lRi3NHbgG1+GPY0EFNBjzQN58HDBrjCti/+9/nxs32LaNhgYOHoy6TndLi6RC3diOn9qXasU0D2Cmvb19YmIiMzOzsrKSBOCKx/5mm9KaUt5aXjlWeYkqOYYqukom7RN7zePSYwua377N3btyQaiiWKW2mcP1gpISM1Bo5+5dvHiRi9lki/pd3EMcyiPvyWsQfc7nIkf54+OMP3/o+dCxkB/2n5gQ70cZ/Fm4ZoCnAWfORGaDFaastgY85KG8fumUyvgJn6hzqd0e5KCEai97iRMLeuS6hP9rdlhvUNtS51SAqe4HW7ao6chTTQj7J14ABLXLHnrkaavhfjb32enTYn9VgjxQ9XGRlGRgkcHkcNgubsiNeQGwOAAN8xaJIm8sSGhuviov7ld/1fRf+2rJ3bt1pse7+xdfmBc4NDXpfsgLVuxcSeVyOzDoDP1nzpy5fv366OhoXl7e3r17n3322VAoxKribY/9zVbQ9cv7U8glAVDJxFE5OSQlLfI2CsVhZ8+K5kzyW9CvVHDfk4ETFWvX1YleTSsZHlY7OM1pF1eE3kef/Nwqqh6TAX1rV/mX73+BC9IABXPJe5KTjiW9cOyFDcc2kOZz2pfigCiDP7DoQNBoW1tkMmC587AG/e3zFoWXwikj0kyziqk4wFstWRqwYjdxQY90wXn6RoQc1haTk6YBp6YaP99xTNz94IGhnXPnaG5Wy0lONrFuZSXl5cSCe95//XW9soiPCRMAReJqnRNMzDCzkY2fT37+3nszAwPcu4eyAhUVFBWZCCg9XWwlbRD1O6Oj9PS4nZ3GBTSZgx7uQi40RNgOHkepHQtqbp5tapprarqufizq15lU6XJ3y8p0G8zNcF3pj9l565a6u7hQ/6znmV3s2sGOGEZC5KF++OGHn376aV9fn96vMDQ0lJGRcfTo0UQIwAAexD52tE0E0dTf9OmnJuwZGzM+dEmJqV7XNf/s7JTeoVBMfzA4iHxGhWj6YTnlsJ5Gj9UmFCSqKagXue5Ua+v7vD/AwD3u3eCGdFrEJ4oX284xN8WUyLGXXpVd317hijIHodra5OP3ko51JR+9/2xu6ZKDP9b3jzL4swChUKQG3Jy66QmAiJjlIBf+DZF4AKcWvuNhmmm7AGQnndI55UX0T4m3TneMY9IAXe2qOteu+zRqwNphZoYf/AAF4xrgz8lRbxS1iZGMV2tpB7UwOcEarZUTHPvb8G7K/LD/tkdY/48kTADsQNCzPCslSCMtm+wmmi5fvqcuJ/UrLTXhT1YWaWlWACST6vWqKOf+fdrb70gnHM6bVd0p89z/aNVV0c+J5s2zzVs2NO9OY+zS6CX3gw90FJ1JsZa5DVYA5P7buWDygUdG1IU0enuAAzFE0PL6Ozo6rl279vHHH4OilrsKAvbs2bPqAnCehVAtiY366Zfc3mq9pVJK5kT3BQWmeq3wdXerBcr/MBUgV1rc0UDDPvatL/ffYts202dcl5QUNm8WN4vZW2lVrLOFLXnkKW7zBGCMMRVc5CgJnNK+/YfChw+fOXYs6fjx5NLSJDj2xKDcc/9VaQsGf6Jg61ZPA+TTRWaDl+uJ/y54BYv70V7cKQFQGSWB97kfJiz9s2M+dsFkbRPAqq7Lc0RFgHrohh6YA3Uw09N+4RfkfKn1SgAMtQ0MyCPTfhviHjnCgQPs3UuMOLUc9pexRgJg5wS8zMtZZBVSKGezhZY7I3cuXepQl7Prd4mhVEWua99YoIoyYrCJut1UbuMnRFViN7X4/RTzBDRR3VS9oWlD2qBRGnVIOUp32u7Q1mZOIKcyFDLnmJw0J5ieLqJoNwfFgHbB8RieNJ/9EtPT0xigNICGoLRnbm5uw4YNJBYiBXHBJJPS2s1svvbg2g8eTFy5Iv/CEz4bFBlJPsEucZxKLQ3QTWF9QmN3ipMzMkz0VlYmNRttbb0yqzJdCRGSe+4JwEMezjJLUpIR+9pa9Sr1rbEjR85UVCRDEiQT1TP3nvtsa/Mx+BNlIGikq8sOBFlTsMty8EOEsP1vNKSQoh4kr1/6V0WVAlaFrRJvfSZR+Aj+GYsjwE9Dj9UAWTjcHQ4PhsMY1xD7bivvOeeaGuNiyEuUZWURGyY/mfyE/4rsyQjBNpZE0mqHW/LXXuAF23ZrqGmjrZPOHnoGRwdHBcLqwA6OunQW6eVslounjiS1kMdnV4VdgqduQ7OxquYqT2nUSXQiOU0DEwMPJx5OM6ZTiOizqNHB1dt1JepCCgJiSv9KU7KLioqqq6vl9ff29ioDXFVVpT3+2L8i6mGNxQKVV+wvZlTp9Pkud/t6+oZ7xvqYBlTwYjbXU1RBhb6V/yjxe+LgT3L0L/x+k0x82LHDrltJVZX6jYIs7t+XiIVHR8MmPpgzXSs1m4wy+2dUVuondvkBeRZDcMYKgNl6pP6TkevP2+c+Cy6ZvdIV6aId/PH7mikJgER1drYFimktxoQCC11yHTw6Usz34SUeqk4jTbquhmqnHUgJ1Hp9phx+cqmT+8Ib8A4JgI8Ljv0YL63Sia0AeBowOSnr3TI59IIJMaen5REaLzQnh9JSBbcmOdfQIDGI4VLsdawwkuKcz+OfoZSotEPV4uVeeocYGmMsHCEAtqHLS5WHXkqpBEMfeDLC0GSMZnDRb1/kRSmHfc9BN92DDI4zPs20TqFOruNbhVCYv5vd8WUr6zTuLyWwSeD6+vq9foO6kyyGHPtFrFCJxBGqNI0U2xEhece24HIhLYOUUWYXQlBVxHCFaXDS308y4OSKzA1+8UW2bxdbm9xRdzeDg4yN2QEiEzmGQnak1SSUysrUvSJXH+2FM48LQKO3/ryoP+MSb16GSWzKSq6G/8UhpEm6GAUo1r+7DMVQQrNNCfibTZ7sfcl/X/zvbL+QfmeSmUuuuoMcKZaDRh8n94X/xh+AB98mBiT2gv/bon/34mqe2Hb7KasBU1M9h6b6qqZGRowAzMzgOEYAsrIM6VdWmoazlJfY6P864kdSTNM6HZYPB0caIJtgoo++YYbFUJ4AJJNsG7pIvIACfKJ53u7ioZJK2QgjVmZ0Ok8AdHzrSRE35PKnp6fX1taOj49v3rx5+/btehg05kaevRJ3N4ssBZeKbB7wwD5/ZV8XLAFQwfPIEzc5OLFdYVr0K3wbvhnxZcbKtlQxu2xykp4ehoYMeU9NiXaNAKSkGAHIzqagYNE38d2fjwN+z6MqlXSZH78MsjYsrEyyLBw7Znw51wWG4DKUQLEx18FZQktJ8SmREgA7rBQbTvo/uQ8UhyGEHyTggv0f4KWEnDgFymT7ptg3NTFhBGBiQgJg6D4UUlCKX3rgpP/riB9Jyx/XcYgP8vTlg8uIE90RArAA9hWJrCYKvwTLxhEfu+Kq3rhXLPkmj2Kjdvn7SYo+rd48YdkycRfO4CGEcJvQJZBdJk5ETuS/7gkA7MdDNMIMLVJ/LiuOkP+9sWNdXXAoyq6E1dSULC1Nhn/4KkICBMCHBjisHzTPj/+MEA0BAtwhAg/h8rxNsrKwA0GexZ5WC/AUY8oaTwmSWICwE37oPmQR5LF+cGPe979KgAB+cWne2llxDDyqAQQa8HXE9NMtABo+/piP+53+9d4Qm+YtQAD/eMYYf5UY4LJyyITfaiwGrMPTu+v8gr9hjP+QmLO+Zox/t77umH8BaKX1Ez65xCUceMg83k3szfeBN419dfC6Mf49FuuutjfCr5P5y4X9Rtk6LUckAgQIkMTzRMK+HP8aM/eBH8WC55/nq4YAAQIECATgJAuww9hXHAECBAgQCEBjwP5fTwQIECAQgEIeRSFfAwQIECBAgA18fRAgQIAAAQIBCBAgQIAAjuu6fE0QIECAAAGCCCBAgAABAmxwwL+9CP8Cenkczhrb47gOfwdOrNyRnZWwZ+DvQktMa8CdhN8G3yGR8FHyDfC6KRUXWZ9wlml74C/DVVYUw/Dv4UfAgZ3w5+AyfjAL/xveBAeK4Q/CR8SJhHVFZ40sOn4Rvg2pkAW/A74Hq3oTnAUWRAAJQ5UxKiGN9YJ0qJq3SHTzNOPgvB1gfcJleUgyxsaoHTpAAB9wWEsEApAKlZZt15Mm2UsK8Qh+BT6DMZ5CVEcIwFcFSdae6p4dIECQA6iytv6CEhYIgOxX4QtixzRcIrHIiWD/bNYz3PgFIAgFnnYE7n/sawLfvUtnJwMDTE7OL3D8IhRg0UjsePCAnh4GBzFrA4fNwe06fxkZ5ORQWEhx8XIHyz0UQyXfqWS0BO4nJVFezqFDJB7nztHRsWVmxggAWUW8jodGhFR4B9qhzWzZEykS34fXTj1arkz4BkLjp3AMA27BF3AV9rM0bt682dnZqcUstaJ9SkqKlrQsLS3Vcmb4QB99t7k9zTR47J/O1gYi8CyxYGBg4MGDB9pqfc3JyUmtsO84ji5Pa65lZWXl5+eXlJSkpqYSK9xovfLhQ9ra6O5mZITpaTW/jZmZSYWFSWVl5OX56OXuo60vGoYXDDnvhPqIhhDlALPw8zyKYniOaGhkRTDOeAcdPfQMMxwmPMdcCikZZOSRV0ppAQWsHFTrugNigqEhwwGCt4JuZSWx4tSiKYBJIpFFRGdsXKk74BA/1P7b29vVI9RP1R1c11Vf0LKDBQUF5eXl+pAoAdA9uXCBq1dpb6evj/FxXBdeiLfNSUhu3aK1lXv3zJ2XtEgAtNMKgPq5BCA31y70SlUVO3aoUcRw36vMj9+u4vz9lBTsgr0J1oDPPuOHP6S5uWp6upJDlXxzYdX9GFTCF/Ar0D6vAbshv8Xs5bVGODlftEz7G97CfEflfUos9dvtn+EJkNT2nD9//urVq2pbotqpqSm1Kq1mrBXtd+/effDgQTWvJ7UFht7n/c/5fJLJL6k/jYOv0mAJ//+n7jzAokizd38KUERUGhHMNJKlQR1QEAzj5GfdnHdvjk+8Oeecc8453/vf8E8zOzlgwKwgTZLUKCCSJEuy7s86Q03ZQFNd3Yzs2e9hR+jqrq4633ve857zfeU9AHR2dnZ0dPT09PT39w8NDY2Pj4cFAEIUj10jSvEMTgIVwUDiZc3N0tCAK0pfn4yN8aRJ3C9px46kvWVJB78vB0SHpLndv19vlYsYUGAFAIkUAFZGoD0R5hteEbuxEWSDNLRKa7d0szO8PlHVFFOfKgr081Q2nupaKqW7JA43orVVgkHp6IBhwgPBAA0Awk0G/QsLecI/JDA+AQCDac3a6O+8kvxjo9wBvLK5paWFedHX18c8nZmZefr0aXJyMkxoz549zNbCwkIeSM7UWOcAACeqrZXLl3l+NpPkwMCsb8onZobEaC0t3HPuPFOf3EL6+3cNDe3YOr5ly5OEhKeLiwmzsymTMztGMjIWuPPQdp70zXOUAwE5fNhDAGD4+QI7fmNmcZF/8T4aS74EI17i2nx46i9+kTPxdT0ZWWZfEcm2RpCxFAO6nzwJBIOBxgDPSV76VtvkV37guDnBYDC7qVoDAEKeVEkkA1tra2svX758584dkgC8B0KNb4G2oCo5weTk5Llz5yLA6025eUNufCQf9R0akYo3pOK0VKyg/f9TcWnQ7oGGhgYCEufT3d2Nuw8ODo6NjXFWdgBITU1NT0/fvXs3xCc3N7eoqCgQCBw7diyJlC7GJACvvnRJrl+H3+CHwE/ynJFIAEivStx/LOlAEtAvB4Wf8jvFfSoABBhrxIACRjSwZSPQbuLLum6uDd+/Ile40UEJkur1Su+IjCxsXkhgZj55mkb+Krt52mixFPdJX6VUEgkkBuPaX73KfQASuAMyPMzDuzeJyNbN83A/5j2TdXBQamokNzcuAcCOATu4kvG8A/ZNMGIl/nV1dbC0u3fvMinu37/PtJ2amiIDYLYyEfbt28csgK6RHFRVVREP1jMAcGe4P599tvVKQ7VUl0gJMZ/nU/NgcbiAeDDSbe45b3v3LmFud+e9nJyh/YWSeYpH5gPLPD1ZiHVPnkxNTEwND/c/fNjY82lGV1M+MEqugC9IZaVEowOAnn7xP0Pe8f3N5Jk6CCRfjunHhUL+iYN6GjyVfsXHwZ+CzC8NAP1TYkBjYyj4i1AwFDACRaap4o96GYGs6a4RDL7Z9DA7mOEfLCwkXQgwJIKRyN26cuXKZ599hj+dPXsWHkEM4HH2ZAP8CdgFcEkt33zzzRXVzFtyC1x4NnwdEH+gn0GiHgP1a71+/frt27fxdf6bDEBEoDl4OXx/06ZNeMLs7CyKUIdlTICCggL+48GDB8QJvH8nOaLnGMDH4YoXLsjFi5BP+GyOnPCJL3ExMXEocfPQ5qT6JGa7HAgLAK5SAXP9deD1QH+YPk+CuiAXrspVHgeSsDMBZlCxt2Lbtm0EAIgCYNTV1fWb3b8ZkhCBAWkINPD89GkwgPjLHQBjeoeShVl59IBY4sbU48edXV2dHzSTmIEZhoEigB7s8rEp62/e0D9N1jKc8eKFCxeYp0xJIJ6s9/DhwxB/rj/TFsIEeyM/YAogDZHBv/zyy0yWdQkAoC1zlLvEPDkhp8/JuSqpOiAHuOV7ZA/AKlEa8Z1kAkkETdxXX1+a11/8dYI8FJ9bC5IQAMi/QTcepQ+9hbGSG6ASDbe1DTd+GLqPUkSKCKc+fVpwB9cG7Opo7r6tcPwlBwBGjlRYiUgkRVOhxq9jcBB6/04wSABgsvEWX8B7p7wThLOSRDU2JWcX+/1fyc4ObNnCn/Miyiz4TX19PV711ltv4Tfw6O3btwOvfBDY+v777+NbBw4cYM5DMZY/Iwjo1yHgvg5e5tGQxBrxdRz9xo0bnICQAGVnHzp0CIKDJAXiEABgPYAOihDKFVQI6CdUEK6YBiqMnj59Gs3KcxqK+IMrgv5n5MxJOQmrhd8kSVKCJODhsF0ZEGHcjK725wwDxi8P+mOAPvreJblEGMANKisrcRJVnAEg0jKcp62tDWyCpRItgIIdsoOcYKtErUUgLdfXC5efGDDwJE1ePy0vvYRHKaVg8nODkIGCFy5ACgkKe/fKq6+uhvgcwvDpzw3aZZAqsLzIBh9iRmgMIBMlHQf9mRdQIv7JVCVF5vrDmbj++D+MLSUlBcZGohz/AIA0z9wAvHYtphdK4TE59oq8wvQQbwZ2K9uqq8t/dK3i7ALSXkmJoO2DzWhZy66ksbAA6Yf6kyrIvn0Pr1//qAEywG/xCHzBtQLAZFbw3fvwTj9wCiITWHCo9TbYi/Vx+wYSNQIxVWQtK1Y5qDuYbQaDBxuDp0c0BgSMHsM4b9QZ7e/A/Y2mpoL0YMlbhVkB/0wguzVQcTTy5YAywN1IKiHRpaWlJ0+eREsRy+AXo6Oj+ld+ArUEgDBZwEb/0fJDXwQAr8YHoUTh5ZcuXQLQOYGXXnqJrBbQAW7AdCKTHQDAenCHl5ElEACQjEhiSFwWFxeZFa+++irRIuokAHzp7sa3GIgYfBn4DYKGd1E7ciqw4aFfy/vN0oz6j8pHvb2mpgaWQFmIm4IKJyJccHyD688/4Z7IFOmSTkE4T/IAB4m68IMbCKGf6ru8dlzOnJFTp4Qqnc+n4iAlYOY4pcG7d+5kZwveWlYmVrjfYcO9/kfYPzci+m+x0L9GIhgaLPwMPnSVhEi4HmdOnTrFvNCiF65Ojs4sYAowX5gChAFuBEkwKtBx6prxDwBjY4RpaDu3mYnBnfaO/tTWrlyB/hMAApNXa15ByAFAuKPc4tUuoMmflLpnZxsZGQSJOaP2Yn1dIpkCoCVVVeLaVH5h9NsqEAHgy9J/NPzw0/V6sc4TJxr9/qA1JOjvv3U21P+X+jMzz2292PXhxe2Tt1871oM6GggEA4HsgC/bxzeMjF1oJvBoGER1dTUg6+z5ISTAMpjzgDKvIc1fLv3r6MhZjBn9cahh9XI+DofGfcGaEydOHDlypLiYfMaPry8rRY2TwRCWeDFsFIoEV6IGoA1C4FS08o85NGTQewYPQOSXg0BYmVlmo39cY0A4QBgb9Qm89Pzgr+3SToWfG0GVBVc57MiVuS8U4bngpAKU64nibeNtyMI90uMhAEAvoXfMD2ailnrJ7MU2KgAnT9IbwivkGSlJ7+/3DQ6mZ2auiPvOX255YehvrI6vNToiZ6QtpMLgO0AP9KNwotMyNezpwJVnnhIMIP7IQcxTAobdGUGjRLwDwPw8wM1IkjQaABji1ZCfSfaQ+ooeX0VLIthT1Tl0yKUjg1AmJC8hwZidfTr2/vXuWz40I5ICxKNoVaA73XdmFJePHVvXUrA2FzJSux849R8XtqDF4Kyst/mWfj+jhdH36wPTTxaebBrxf/X/+n/f+UBJIJAbQJET7E9bWcM5Wc2YsXgMKSSUAXKNr4SBLL7F7/krr6EUDL+2Gwxuy+3PA0DavS+kf8R3r4aLozXBH6n6cibKNMEayCY6g6xkgD54hDxFLky2CxUlBSYGaHHYdQ+rFmh/oHfHnJw00BlF0P13mjtJEx3z+KvWy2j1SIlXDFghw91I6I8NyzBNn/3Sj6qgsKLoH2Zcc03UYAyt460DMkDqMC7jaEHisMj5DzIv1x56yZD9VrPf8rmMFoT3M2u/970Jn28qMX16ekX0T97o60sU+k8xInVDoHASU1F4uLDa5oAEt5wMcVPgQ7we8sQkIi0mlYcelZeXxzkAgLg69BHBDPFmPT2ofcSAPW03Kt+Q6moivbb3msvlU9jHpExqmzkhJ1VSt2zeIt+Vvf9LTpwwR0eNhw8n79+9u0hOiEyB07guBX9Ow5/kNGsZYJ1LwfoRDP+sJh9a/nV3O65/Xd75OgvDHlx9cM8M3ssO3ssP9gz2VL5X/WQurfGdb83l7kkOFSQHJDlgZGa+LH/3vNVJVCarGIi5YBn+lGSZPG/oLfp7fRmvF81hjG6b/ps296du49VQoihFwHRQEkQEr8XLiQFucli4D3kxp0eIgv4wW4glIBGVA9cBAAPWfwUhEX5jzs8niLHJ3MSt2SSbvMOy2xgQIRK8eEPTp/ef2bctdZuyBFnFiAGEZFXeOIQDmbZ2AHATBvAvBjdBnY9B9V+WG4rQkyfcqbn09GfDp4i/WTaGmW5Wfp1aGjWRThxtDUBHgBUR/DkvL48kjIYIWckQS9vb20mImUQcwoE0UMQ/AECQGSgv3F0dnptaKflB/I4cmabMw0wPR39DpmRKe86gIRMyYQcAeo12Ze06mHUwtzY39+yWQMDs6jLa2tpbkA8RcJGQ4A5RqkDNodtfRi/QUpjJkeN8NEPcW0Aehx4He56VgIMI/v7g5pJgxZF/Har+Sdr75w//mZ82/u7Gnh4qAyjjhwKWpaSUyuoGs060zI4E8rwp6GMaBpR3QOts9B95yR8m/nirc0Jz8F1oC/o+Hkw1AqbjXsEEmHB0rQnDevgJY+INmQZMm5WE1edOtW8liDZ6DX1huO38IgHYL25tclIXNGk/Ow1rRnq6SbKa4plFRng1H4OQtbR+jc4INHKG12Bl6PB2rOvzNpyYz+dR5yFFJSeT5Qbiv/66ICFbA1DY+EZKhGwialVK/yWtRnZoRi0rc1YkNeRZ6BGzj0wXqYcMLMIs4AW8jESNNJqjOJY6meeW0KQVUzU+h9ybn1PSDy8Alz0S4bY2uokKEjoQrUFsfoah/1252yRNbdKGmDgog+AOVxCXIgBAK3Zn7vZn+r+dlVcsufn5eUxz0LQlFCJoUjchAHgpBWsAoEjL1FwH0+I5Y/+jTW7Lv04BaKsESx8Ge64GQ7Wjhcj87SUl5u7Ar3T+67kn21/5+mxGdnd20PDXhogBmaHp0tCuQCDHKJZVDT0HeQfKhrYDfSaFBH9REp0iO79HJlIhiNc7pf92//wX6G8dZXrCLz4CqoLLgt0iAs1hPcvhKMMwfk/OSwghfpAEKAMiEhAA1uzpvqQxQAyRK87X3BfGMvT/vtj2R9xpfvCc9nayHF0yrySK1cRGdrZZXCxHJX7GB+jqKcoYhAENAExYIIDMOBBAWI92VTSdPCTcrPWdmp7iTiEGyiqGSM1f8RYR4fUcCFWMKoLhe2A7Gg+1PZI5YibTmTJAhG1OGHPisP9o3aAdsqGM7imq6MqVBabE8oUaefmUtraq/bEVr6eW6JiGdMGhagLlSv9XM2QiXkMDKLOJAzmcy+g9AKyYqnHWDOThcWkFlBkeAwB5Db0WRVR64NzPIcYT40md1AExXLUWaenKGRwCkSnwJm27PD//s8eP/8Hwx29l7a7IOpSZmQdi7N2by9/5mtuu9U3SJwD9wTyXgjk33m49uz/5xKjKvx2gv47iYoJcoKenem8T05l2qZu5It9AmuaEzfNaGkj0Nx2a/kUg0JOT0yPCCKzOVdFPcBd8C6YAZYCJ27KJUmllEJg2VtIReNOwAsCOVlv6Z76a4t34CJgO3Q40+CMjoN5Q8oXLSJQG1nMghxMAlP7wtiQxsKdIAcAZA2yrlvsEgLA0Pl0rBe4DAKCv61so5XHbATVIrYZe4XLm5xvd3Y+HMqSa38QuOrQRnN8TNDQ+DNykv479E/juTBw6Z2iXgX/QIkHMwVwrUOzxkCVZ+2Rf/XQ9EjMXlsjKdV7WzzFHFOdWgjs7ZSfMhqSDMBAlIzD37OFkCY0ydGsIfBC+C58FQ1zJ5nTYJ/yWhf7GxtJ/gDI6aGullhUSRPsTFvTT2UScwyIEAPrcaMNjxa/KazT20Am9phzKy3ixdlVwLO8QHwnIJgf4kw74OI2ABACEGjhCVPs94Iv46O4pPIl5yy13UF1jQVedsPLw1q5bQ8hDh6sFsrRzJ/nhr8/OPhqt3TbcmPlgIDNzICMDVCQG5LJMlb/7UkcnuV58Z9QMXN9DKVg1ekgHczTu5V/rzVO7e9F/XJZ/BwB9xyBfOI+y87inpCQUCISoxdw0ZGmWQfZNf5rfH/DnBJpJEOzFw4zfvzpx1m4BBBN68PEw6AZ8n5+I8vwGMIVZK7bSdWrT/6dL3N8kYMRmeKoyHREhGhFsIDISvZH5cqwuFmM7I6U/vDnhTcLs8nMyBRUtqkHJ8sp01R+ePjXNZjfm5Yq5r3XIw78j8nfkxnFR+2rU7b50OOuaYpbNzDxNFrxs7y4EIJY1dkxOttUOwHGnquWpyMsxathBglgzPXUU1ZhfTE/YIAGAi0sCQlSAb+m8QGFhyrlFMkPohmJJFw3frPlQJ+EKQ9WdERpvofsQ6ZkMDNAB33Ill50holeyuEKkgGZhIeBvjHHmUDFQDxWLc47QZrNR9+Jj/cRluUwAYBwIjCn019S4EuQ038JEhDSdWUlThkS0HZbxSr0p2rsRtxrAbatb4m9zMzQGbN48MTdBAEAFii4AsJQMnv6MWi5yfy30N+1bSLsx0E8MuLi/de7Uq0Jn6JEjoAzXbHTT/ODszwZHBjPOTWZ9V1cATgisVBo5KZqSGeAsi8IYXIyoS8GzVilYB+x6nVb/zrkt/15zQL8pUinCOQUOHAicZ60WqP5z3RsIW/q/QMrj4PG/eZwY4GcnH+vA+ogBAOhHbIHpM2/pv6S/nrYz+j0QhSB0zGpmO3I8QScjJ+MD+UDp//Cxg6Loz8+Ybcwy+I6IUGOEvyjTidZAJaU/vAnozxvqO2sAiGCH5TDlpcfm4+mr09P/r29afuXvyPdJm8/8QW358QIrYC8NbnV1wp4poD/4xYImGtdIVBGACABM0JHe3k9bvv/00g8Sk4Ra81nPG/C2WyGNTwIxAwGcC8YIWyISkA3TV09UgEqjCIH+/InYQBBySWih8/R0UocbM8bqOuvo0+U6E1khBPZCMDIt3IYuXtaC0fqJZ9A+ywI6idqYtegBTJSnrG2qre2Q63+YWQ3UoGXBAiNXWTdWDDCETjnQX8fe4jGFfoZLejNjGTNR8MElk4jG7dCXsYSTA9XiXATOx9+IMBbiTs0Bt89GtIu/ECvhJhl7yVnA8eeajuulHoi5uv36XNUbdIbSG2TSmqmBQ9oeJT8aTBvMOhFW1lrAQ7SCpC2q+LonFYgAcGtdA4CWf13qP+9YCP5QRHFef+I8sp3/DMlfsfXoEoazVpxZSg+Q+HWs9RAryqeQBeQXujA//vhj6APeQyTAddDiWXLC6jBew01R9L+XPSsVZwX0p0hLDhKz8UEIx0pVtCahFMaDcSCH8yYEAN4TczMBAmaAln94zIx0Tsv/mxZoPy20nc9igPclzfS4ccmW0P/cORrYkTLIuZg7NLuQ4dO6MHbw4K/UvfMrn17/K7GUgq8wpkiphe06mCzwZ+YGkwG9iVQb+s8nfvwxpJrfA6OEfUiVuDYAnWofp0LzRfNo83sn3qPEgiptbwXB1UYwHPrNoZo9NUeMI2wNcEJOeG4QTz3SWtrfMjTUPjrKGu82vghuRngHDVZr8FuQBZPzM0THJlnRNn2Z+k+jNIL7Sv/T84cV+okBLlsUVVWbtUzIDi2LXADA7Fdi3BfeAVMVNJ57AcEj+BwGWAt1YkTntiQ1DKSGQq0miG2UfFl2SPm3sqzsW+Xl36qqylb01wBA7mAM0pVcmknYYIQRQIZ9AtFlnloKZuwduNOvZQAtBa9b+ZfTdxMAitB8lqA/37l7SNOPVY9ettlPkwRKmHr2c2YYkUMNBJmOe0ATCcXeDRRXQ09E+YH704nfk97zufizvRnp31yS/kVEsZvqMbxDU9RoDbmGT+Sn033FkzkPZ+bwnpibWUsWyAD0nTUFwTE89fwDvNBubXPjjeH+oD8xAGi2PxPuAxCr93MR5YP3xbP99gE51SosfKOTmozZmT/Rmwvl5yJQf/jgAzovCAP4YVQBAInsZXl5W8e2PR17Cu4X9Pyenv/15/8X9xqf0QCA0Py1P/u1Uz87lbsvt+RQyUtFL2WmeGk6IswgANxJuhM8Hmwba6v678H5U8Utl4Kic1tjABH0eaNVhGIhHaTK/b+9agD4rfJlGZVLcF8DQErOgEI/g5nv3uwePF1tZ7fhRTZ9GeZ8h3gHAM7JNBls+oFzMKLq/GBqkpySOjI1UlKIJnqYjBqjqMyd0jmSPnKm8Iyf/S6cDQCGAP3EgNHtg0A/VMaJNni4DoEv6IjS7HW5ui0EgwAQ9+5PO9UQF/amzf2X34ySZf9lW8FzCXGprP1hSOfnz59n6S8lPvt5AMgpugUQXVg2/V9ckv5RM1CEKRpT90NqJADQI0ShWHeQ3uT6+j+1jMPtHFZNPJkeq41MvKe+ebQrdgxHt763ttaeHu42VXRIDjcgn7orgOtAf4dVFslkg4yKjKCFiUcL7JYT5SylAR+Xb4dF2gH/APpJBZBeKUxDbqBSTCH35asENv5qaPC3tnaGQjQGfLJ3LzIdd5yrTaAl8frWz+5l75nwHxjLy5+QrinySoq3UT0UhRopoMl+c9r9kXUs6/T583I42fzjZut3Gp0xwNi/33webd+Rd9CiwaHvWKmCvIgAYJ8Sq6YvG58rP3LggUI/MSDaYpm5ZCpvqrkRQtXC3iF+AaC/H3/Cgchh90g5TQI+0yfRGPGDkchIFIZt4Dv7jLOdLNklvRzsAQajc65IBP15TVbWDK4bRv/RD1T8FxRD6rcMzJMKVN9dP60BgPDDu8VunJyu/g31sbWk+/4fuH9JPDYx2eYOOossExHdTscmZTb6Dx3dr7o/FeDLFy8i+KL8EjPQ2XEy+CCBRKMIC9Zd7s4fhviLSyaeTI8F9O135otEpa0YEeb319xvZy1gLLNE6+xAIUx81Y+tgPtQW9PI7cmO8yb8TAP9V6v1IzyT63FmpAKor2iwLgMA6Yzu/Y4LkNH4ExJICr9dVUVxyM4AyBrfffCACvCdW7eIdiYQQeg7exbty/1yM7plaP2g+Hct8dri6dO9lZUdZE6BObPYFBH2e3LGAJuczZgzU8YU3Si/Lr/+HVQJa7zA5h/muco+/Jzd2312SfeHA0RrSmWcbMYNlOvLMOc7eA4AvxK2K6DcE2p26JqJLS3lc0dLTehNPmpGtNU6hpmQwEk6+Rl3kUXgAP3BnQeBj7DandJ/hqJ/mPfyB7x6dMJqIdYKWJSmpWAGa3Sb7X7QkpJ4qv9zOfoRLuXRGnkx5gRNG/3bDs6w0T/oz5q9Omv7aPZdYNcR7U7jEPptWINOCAEOQOHXXnst1V34TF6y2SUDU7w924gDbdmUSgbvSSrjHf01CYjatMIl+CQnoWWuSGibBnzH4/n7Ebq9mRQ+n6bMzF8EWEiJyy1Muf80F7H3OxXt4vx8tqOhIERxiGAP8dcisG4H/awsfOUKz5YwqOcTwiFhfHfKOS4uIvVSbZghDMjJU7oHXB5y1s5RU6z/GWYbGYwjBmgtFcRgAB18mnaC4Lxfvn0kanMDoL/xDP1HM26cq0lT9C8t9fJkSHQbXYqvYo6aG+FITd9BLU4BQDuB6qequ7r2/OPiouwiSj0vyUsSpalEs7Bpk9ZriQHK/9hGHCLAYN4iKIc916b3am9/VT8L6o4sLRVxCuwMaMeEMh2vCx/s9vzm7puq2BAA4rn9Qxj93/DWYDR8Lv1vC9rSf6fV88f+tHQNsQfD0aNH6drUAEDnKFGBvTxVDmInH3FhduEX4NbWN4rS3nYz51i79Y33xFwGIcxYc9uG3xT5b66anLXIRRiSXds4DyGYRZZID0lM9ofWgFjNidFb9fx0uLoCtKk2NenzP3b5fOzNp7tRhu2xQTxgiwJ4gPZ0QQv41kxDMgB90J4R8euT9wclqN0fQqoE8a+qAuLxjDzZKXqsdXQb7+yIAXwEgAApZN8hPpxGcJDhhdj/UwATOgimWSuzWPCdc0feq64u51JRxPS234dWfeExWhDGlNlENl6jLwb3ORxjbnoOAIOyzHa2TX83UJj1s8yc/J1l/T7f6e3RVvt1JwmGtmsi3cAS7I5sfurOBM7yHbWBdl9799/s7vvzfZVb9A2cG+bpcyQTpSQXDHcW2j2Wgh8trQomsNCmGoMhuWoysX9ws7P8u/HtvnHf7vpfWJL+mevt778P0NP0TXsoWAAiAAd4GwuvSNq4a2+//bZuxEYxwE1Z2GcZ7ZsQSbIHAgn/weESpeH6HGgvftF+UE7AO/ovjwG/A9FhzeYNLXKJTmISHIbnz459eyElkzqUIqoG69J7cV0q2nwrvaHQ/xVvDYkg2zfRDkQqwKPc5ltbaeekMcnNk1aZaez4gpRPXEIp50BKJrb6SoMW9N8OA/eIRgZmmFYM6N3d22/2PzQe5u6xE60XYD+VBX5oP9JY0tgf2pFc5hs45puoyOCa53jb72Prktmdctia/RS8EmMuaJVeD/ccAL6//OEk35bxhl9rvrD7g86yTvg6SS5JTrTNegxokb3zH/+yF53zNyYwnkRzuq4+vT90/3rf9YbdDQNpA3/23LmG+U+ZY0wwEgncGHxCeKTd4t7WUpQ2ipPiUJ+9l4KXdJtYA4C+ibP8u+FNd2Gy0X/wyF5t+uQn/A6JnyUC+CJ7NoAINs0HcFFg6CNiTzdWonP7CAlu8NdejcyiM9aa6v4nWoeIdkc5jqUorRVp3hP/WbMUYUSLrylrirCi2qZz50SJ0WKPAZwTA7MZtDsxCyWLPEA7BWgK4KbLKkYMQAUiHeSycwe13sD0JsJLRCMDIIen1wBMEMR9GlUZDkNntpMA7N7t2/oVeBRG15n+UFZoNGGY5J+ZytEvxJLkB99RCJb5toW2f3az9v7Y2AEQSpU3T4nJdst0Bo1bxuxzs6SGV+pWvjssiyUA/CAM/fk3Wny6pD8eeGyMf8A5QrdNdJJodp3mcuAszPuhXl0TZvAeglBpZmQZzxad3+m6A4gAKExpJvPDRw/v9t29+qevHk87Xu579IFFqalLkWVC9ZqbrYeJtefKuQrKtmF6W6ylYOgPKRxkJMbyb7ej/LthzVhhr//WA1NSUaP0HwpJjxAUm/BMvg/C7nt+wlG6100jgHKIvMtl6EAG7wO4oPsRV4guNJXTYqQVaffGUQQeDtczIQvhbb2jv9d6gAK+Bi8YCqGAEe0OPHHeg1hXxjAwe8mMC9MMHTfWhzCDJpEZJS+wZTftyoAjRgYHJF8aeOCByAGybR9vsSJcEgM0AOjPe5A+w2gxjHvG044z7F/CXkcm8xZAekH2/STIsfV1PjM/mzamD7bf4IubwDfn9NprK5YmjIi3Trd/wEREM2PmnUQ0XsDLMBFhhuq6yFgCgJM98Q/9uYtGHWA6Y2brMJMN/Obz+Kri1kjVaEiAUfTfSOnrmyHLpGeMOcOic1aQs4Cwd6yXh3sQyoAYitrDI8NdfV1Vf7mqMquyfN+tu3dyttdCMBGCUFpBV6kfKR07e5w2OPJNz1vSh5eC5/zNdj9oIBDr3p/zzvLvi4f4yMY6jM8DQOpde8Mfsmvn6kQt0oQ9dcveM05XYPFKl837MEfd7VY3n9A93UBw90/14hCUBzYB1QDA4bwh2xV4vQzeYwAAqyNcD4pg9SJH1w39nVgs0bXJaS7DMJKStKXEbQ+iHquHRzTUKGQTRqTsxBSsgP+J2GHAMG7+E8NoNtJ7ftj5la88IvMnOYk1fHu3VxQxq2WUSEYNiKjWduOGQTzT3TNZCBKlMZU0MyaLBdl1yyzYfQRSr/tfkUZrxsaxsLH4PxRe90ln4NzKLCJHs+Ucib40SNr4Pn93dwsLU1DwaZKGObGCfMgYwuOa+5oB/fYt7alm6r7ZfW/JWywxr86vzi2bnx0b+6R5562PR5INYzotbRLFn2ZquD89A3iBw8zYVCBKwbEHAI0BlH9/WfSfB/LApv/z9oY/kHFH274uLUmwbMWeTu3FxMSdIStrIREWjwezoT/uC3mhwOCmh4GN5NiHgNoj8UNrkmQPvKdmAPEzV26OJgrGErk4cZ5RoBXhSCh0n4RLYrV+MqmISo6KrZp/qy7hLjjzfRizU8+M6jricoT1qLp3rAZ+LX6s2ZVJaQIkIWLaCQeXa7VrRQz4PAB0mfJfpel33mgy9h858kdLSy+WlJzZv39XnKK9d3KAOsIzRLnlOvqvX9cAwPDQUaKZMeksxS19NgAThNqbrGTspmVLr0QODtQnacc/AAD5OogCWlyKaopggCEkjXl/71ZLayuh22C3NzyNbafQfNKN9CIpGpXRxSeLcBWqpvyeDUkO5B6Q0wvMLbR+hC6YAhcXBUG3ujVJLOJhbGSoYL3vUX1fLKVgkhTrcMq/GlQ2fvkX8mKj/6Oy3WI1ffLT+YgYDM4+bxnNBmGL19W0/9L9cjA4DuUE/BvfpbmIdlJoDu9ALwBVx8hOTMbAU8D0WWBEAqRPniLJEwV0Q+n1sciNLaArGEsuypycpSGU/1t14dWEhf43iFq8WQxdQLzJG6s/BUub5DgNjOSbM3GHC6pfc3vAZXilPkGaOC0rGeRUNwSFrsIF+P5uIg3hhZ3FfOKj+DeBZsh5hkLUc+CIK8aAQv7XLmadKRflo2Kzt69j/1uXZo8aw2XGsJxhWVKM0B97DKCCUWlWThjPAsBHEx9NEgNAfx0Q32hMHwBAOoskzqJLElz6L4gHK84I2A95MNqp7qmuGziuwzOB24XFQRQJAQvtLWNIlEZ+Ak8Dx/s6O4PBJi4LOwzW1Jgiggp00Dz4wHhADkUqgH/ohrT2w4BIHUh1IBsEAIKBGdmbvSYBCtl9SxoOAcBz9ydv9ctC/230b9k/IRVvKP136sVoMkAz3TUwEa0HhEmQ6P4AAeKj1qDEtYHaYAdvSB8nGQC9pKQRMEpwBzrPTNBNKJ0t/+QKnAZTgl2Mrl27xgQgZtCLwt4VNKeiIMkLMtU4YSZArjbSkOQCu+FxA8J75Zpc75KbY9IWw0KwW1RgIZ+rPFywrY0gSZMctwdEEa2WutTW+A68GBwJhQAg1v3BK5EmwKDlGzqRhIFTxGNuDQjEPOVwN+uy9speHmLKBEF7RMujeZQryIH8DGOTBBnaUgtpBgVV6669XzXzgwu5/+8/XTP+lGH4cA7jjJxh97oXvh9cQAKaAQBin/R9Is4YwHBtTDQSWfyfi4+Ta2bMtGJ7LmcMgCdx8TUJRgjlNQRplmRybLwDwN8WWrX4VgzKHdrPo84UtUHQQiG4yZ33B3btGuay8Jik8nJutJASHjJXbY2mriKMNTL0vZaqesz6+SPPCwLqQ45VwdF8Te6+ij+p3f1+qdz47f+6fdXnAWBrvS39MwmdLAxJEWGR1BK6TbKJX0I0gFqFAAgILB4ajgijj7AQ10a/M23mIL5mFfg6O9NRzoJUKu6QJRB+yCrIEYEYSkTEBv4KLQL6ORmAiYnBgySJAfo0sRdl+lxqfIilSybgSys9lwi2FAhoumzofhH8+erVgrq6vKPp8kdF/qLnuD0uvi6ehiEJSc4GSkV/lnHRyM85aMc+0Ox+SxqwGFlVGzofdnVx07lNKDxAEveXkg8hWTeDwxNAH/YKBaf4phA1QTbks1wYnA9er3uOjnC50tO5SswgzpZACr8E4QwIH+GUi9bWBtel889vmmdPs9I2+c+IlBdf1eqBxgB0GHkh5hCuWCOlOyUzbrTcsNGfgnCUMHlY55Q+7Z0pwDWHe5EW6AJMTbwIvXAgbhAcCI2orKyMlJpEPH4BwPhiva4O6toAsQ7xYNxaxKzBwenHj69e/TQ5ecZq5TaIAVGeNmcD0hpEItyVE7WhX3/GWgq2+0HxaQ+rfxec5d+Na8w9m/7P2crPsmQfRZ6cVFvClWvoQwVwRBy0wTJcEIAgCY2Wg9MOxMIC/BvHJYGot4yUlk/kT7g7EK8BACUavwd3ECXQPTVZZuNScJ+2VGKAvEgjIwX6AEBoN5HM2hgafRMIA7yYLIbBf5PFsoDl4O3bVYf+4EzVr0iVeLbUf7d36wc7t9bW8rZ8JOm1gqagqPBP+DIxABWorIyBEs3Jud+OALenDZQ5xhsSlbnyJGpkXSRkCkb8hjhNAOaX7A6yyOytrsZ5CEUuV+SQ4h+RIyzpAjHZRGGcrj5yI65PMIj6JLwhzVTUBhDTSKc6OhKbm8tmisrN8sqWypOSeNRqb73SecUZA9CUXmwMSDQTK40vigGtziTgxIloWibTcWwyYwgWrTFkxvoEPZIw8gPmHf8kFSbxYrJwL5QAIZwyQ2PtbQ1H/7AAYH8fzwat5p1mZgYWFmprL8/OTo2PE+YNzpzchaUeLjaWNjo7mVZMJWBIvvY1gMLGfYaqwDGWgm8ol/cWAKD/G1//IZmz0X+gNJPZq2M1SoL/Ab64IyQd5yMtoPALK0GQoRKFC+KyAU+Vc1RL0B9qCd8nfsDuec+gZfg6/UV2ALD3edZFZ+S8iEh8LmkEUUpesAGzkGboDcBFf+oD+fBDwItzJWPGswE4HD2vs6OqqqOm5jevVKVuzdk67bl1rXzLlpFDWz6+I2+/ja8BmsQb8JrJBe4zN/gp3A4aUYjrTLqoLDeXA4FgggqxpK21lTIA4ZYbRCeYbgbHrad4g/pHaGGa8CnEgKhgjg0FEJbpCIJ7sSS4E47PxOZyUUhAC+LTuWIjI0n9/bnzh4rkdTSWo3K0oriiQBZ1fQM/67rqnDEAZvpiYwBB6IuCsDnR54wB0bQ449t4Oy0VUCsVgki1ycDQggjA/IlJx8UnJED88X8mIJtxScyWtGIhhSitA0mEEWPnLY7C3YVoDGzZ8uGNm0NDffgqfUFweYpAJAmkg3yIrf2aJvECx4YNwEt0mS0KJ06e+MYbZd3dxxwBID0+peDB+j5V863ClNvyr3XI/qHkjVX+Pb6G9N8sqSCFov9q6i28D4qBUIMaoNDM/Mc7QW1SgTfffBP2gRSDO4onI6vgTYjkEH94jVaGSS/QfBAfKAzg9KQCYBAMCJWJD0WGQnSC8uS547ZrTb6t+pIYDK0MAMRXyZPxYUoAQ2MXL5JAoc/gzZmbZgoKZo9YRZa8k6l3A6mpRup8pBrApgh/SClJSZlISZk7LXBn+D5ArKAJ8hB/EKTYiRo+zgkx3ZhUURrH6pNk8H/QaJ5Hh6L5MFFnZ5mQlIj4UihFZHDMW16gnyVRhmEgmywZ9YZ6AAuDe6eRg0ZmpEMfA47WnCEH91p0ijUBPMOHdIYXS7HYAYAzvPx02pBLdgwAa11dyfj/jbkzRxQ4aBzUGABgfjT20awzBnC5XBtzCvQnLQb3cXUSX2YE3AsyBGFirjElEYUgZ+g/xADmZjwCgLEyW6T8SxFYtmy3K8DeDe85exb3IpBM79p1ubEx9DZ9QRPop4R/ZpHPp08EIkbQg0ifCZOK+AMbYAUCzAZV0Oicyp8rKio0SkOho8eOHU1JORz/UrAOJkA03Z8brvz7fVluQQla6J96U76pHTnAUmSYwOFeffVVNBkAF3TW7aABZeCY30BDQGSJwfB1Crm8lf1cYkQGNB/kZupdBADyAD6O+UDyQQZA3kAS4H7Xwx9EFFT07zEbJA+n1dYP+4HAnPwYhIYaJ27BM/0RQYdytrO25k1508Mppyz9YUfVjq1JlcwWtDD4BxSJqQIEM610Tx4+DMWVYOD9ywBYxFe+CeIM/Au5yQ4AiP6EB3xGnzbjNfZXSRUFYfZ+YP70Sz+Nq1QcNQBANvVRw6wW4gWsQ3LmpNp1ynfkfC6JGAxp0BhA5HB587/n0WlSIjsMtQ3QH8mEMzHvm3J9XnZc12JAVCtMaWxDdoMVkYEB/VB+uL8GACYCUw9K5L3w674LiCUbOrQBlNsf++aTgmhLroeH+f29bQW9XV07Pr6/ZyvawmJaGt4VFgDwPQIAOXTWwD5aFLLxSwhIN32EZWWhlPRiiY8p+tOBGuoOTSmmM4WWlYLTlnXDaQDY1j2z8QMAa/puytab8o2bIrP2Rh0u9tLA4eDp6Dykn/YDYfR5AArEsRsEv9wybS4izDgDAHIQfq+V4XjEQbWt+sd4mT4Ckp9kj3gs3TG4Mf5MkQCQpMaJY2dJyaQxSc4V7Smn2L81hMa5PRXlzCCQWnQ3ZuYoM4uLo08B4yRivC8qXrNTG6k3X4ZJyGzUAAALJPbwQbwmNqOHksHmbloSmLW8kgDAJjHwfTJpNCLBzHBdkgvNWWk2cFHE0CEDZ8QgeKx587/n0WlS3DgMBWF+UucwOe8gV5JhEgbIzKLrLrMMjk/7A2k304HMWyVTpp69f+L6BgD28GeA/eAxg0xT4mFkjjAlBEeyZdBzvLd3fGCgDaIxOA7k85Bvg++akLCgK1MAqcJ0OZWp/RZgLLwjdOBAt0hIJF4BgHUsLEeAlfjmfXPdczD6FUvB31+5+zN988I3WdXMO2yg8u/zvPwJ4o/sA/oZD8WL7bdM1tkyLZP4WZmHv3g1XJWF7gzEGBgzIAxa4sI2hrHS5ZysCQTfDJ+G/GrF9iMGsxLxRwMAHBOAjqPB+ZinjPU0UiKGRGWkIAw1RwxgnCGtW/1KYl8XzP0diHwTVsbMk3JSbLtOAFga5RKtxbTDT+wBgEQGBYsCy0Pdy406V7wMtoL4EAgg65BmwvAJ6bgyAYA1R8R26BPezOzhlTAOnET7lPXG94O91hiAn0p8jOXHzM9SKV0ILQjhpbtv7QBA8hqqku4qYiTpqq5f35h2c2k0/X/2zjOuqXTb/98tVQIiIFEIwtBU0BksyH/G+Yin934O8++99zf/3st9dc+r++b23u89vdw+fYQpeKyoY4NANIAh5BAgkFD2/V122CcaxBDAwjzfWbMNO/t5kuDH9XvWWjvPYtMxyBXLHgX6Z6LA+YONnaYBRY/rfVjpWZR7NSCrnM1jEwA1Y1eeTq7t2vDL9Pdz+TKlpdTVablBeTnrR/5dsbFMsUUkokhTAkC6AJSWpi9tBsEJAnazYeityAiBf8kCsJdUPkEKQ+D/BH4I84RzJUUAth4Gw+K9GvAJniTG79UA79MjADXUNNHUSmuQ4JWzZykqkptWlC4BoLGRj32MjUITao0vy5jBZQ04DPlsNP5ledn7kGtkTzgjKd5/FsOjx2bzMSzA6SdTAIQ/RQM+yxOIZWOzEnL9r/LqaU6f5ez1kusTjfXJL+996Ut0dbl7ntiPY0OOF+GL8CVo3vA9ofI09bKVsAJR+B58d+m48Ij8wzeWrAS64FMYDAbDZkYAoprqk5wspLCKqtbJ1tD5UIzY4qkEtv0kyKoTBDSz0cylLPCfXTVEWOCR0YXsUWEwGIwAiDrqlJ1ppDFAIEx4hhkbmyeAO8uJoBBUPuKY+7kl+59sZQwGgxEA4cFzhCPOd7hXEQCbrYXBYDAYAXAppljGVsFgMBgM2/jgYDAYDAYjAAaDwWDIxSZDDAaDwWAiAIPBYDAYAbAet63CJPwqfCq7eTIZ8+mlF5jkoSzA78NXV3659b6P1cf/BfwrqMrw6lvw09Cx2kUrzlMN/xpezuqtr8o34SXIgb8J3yYD3oP/CM9k/OqF8HfhBxgMRgAMW26PgOqkZUb5sqViZf0q62cxy9+WwWAwAmDwyTJ3zWVQDhWQv5kyk6m+2EkzGAybKgAG60l8YYt1sxOqwQeVWQQBmeFdfomdbCyLj14ADAbzRTD1Zb148eKdO3cANahUJ271ZmIjGGd8lFEdo0RnmZ1n3sLKI6+IolJKnW2oCylkjXzjgUWAP035qLkNNLTRth6nfP48AwPMz+PCp6AEhy4E75DOAvQuT23VUbeHPcCtW9y+rYYLJBLk51Nejnpt1dbauCwu6iKGh3UR8bjT/cNp/7T6FqrfIYXqS1TfxAchnDbWxzi2gx0P+IDlt26VLy6Ww0hNjfrLprTATmGe+Xd59y53wfH+OjbDIZb4chYi+IekYzNv851FXHLgK7h0YTAYNl4A3nrrre7u7ps3bwLqP6nOZB//+Mdz5H3WQT/9t7g1xNAww2HCEoAZZlwB8OCRY5IA+PCpvWIzzbvYtS4BSNOAfPJPcUrT6iXICgliby+vv87cXIr3536P9I3VdoZlG9vUOehD4c+fPZt/+bIlOQmHkwLg9dLczLFjdHQgGBriwgWuXSMQIBJhdjbZ/2/PHhobefZZXcoD+MP7e0i9S/UrnE92wZQWnuQkaYRC+oDlr71WPj9fAXobUhm9pZWbDL/GazqC4/0/plcBMheAG9y4w50o0UUWt7O94hsVPnyS/7TWpLOL/GAbWORadAFGAAyGTRSAGzduaPkvDXjnnXcAtaLX8l9tYNWNnqzQOvEiF69w5QY3/PjvcCdEaIIJVwDcdqC72V1Djdbp+9l/kIOHOSxtWJ8AiCj8mdP1RQJTT33WAnD1KleucOYM16+73n9155uuAe812831wfpXuyd6e73nzqGpRketeFx9n/H5aGsjFiMvjyMlNzl9GglOXx9SiVDIEYBkA/KWFp2RbmiJ/vBfSEXFkgYUU/GdnPDkl/myNHieeckA9xIMSuTKL18uv3ixvLZWg3RmZQHQDAECL/NyZBdUf1mXpnYK+j1WQ33A3+O9S1waZDBCRAKg+M/7DW8NNbXUSp9kHjzAEEMhQhFGPFws4mvSCQwGw6YKgNb7agKutvRKBAGKA0ZGRtSwm6y4zvVees9x7hKXrnFtkEEgPz+/vLzc6/Hm5ubatp1IJKLR6K3xWwoRCilsokkPbnM7RKiDjvRQIOt3Is8iAdBRL8Ea6e+XAMgc778at1d9sjpUHeuOvfnmdE9PZcHZpiN4CyiYZXYkPvJ+//tvTkTz8uSxQzV573rfeiuvu/tA/rWaQ5SUOM3TFvz+SP+liDJHytORn09ZGQcOkMZCWmNfmdz0QvjSCCOOyeGuJABF0oB/8A/Kf/u3S4LBSZ2Jx5E4pSLx1nBpwBhjVD+nadHkmREn3k33m7x5hjP6G9EMkqJiip0OdHXU6W/HSZFZWH78ffT106+VwS52lVPOClxK/yErnk19ZDB8QAWgsLDQ4/HIQfv9fpAzqtCPOsnaUYqgm+53eEca0EcfsHfv3vr6ejUZ17TFxcV5eXkSAHW+lwCEQqFAIHDr1q2+SJ90YpRRLRUVJShZ4cXL+vha19e++cffvDp91REAHXPIIWNsW2v/pABA0ec+99kf/vAbZMV07/TwO9Pd3Z89dO5TinLkmLWwjRHTR9bjN8JvXL5MY+OVlvkLpb29JxquHTlCfT07dyIBCIXQG3j7bc6di6BIxOtFy+X9+7EsVkc+2nHTly45vlt2nwCEw/L+0gCKi8tFzRsVwf80qet0Rm8gFXcGhDOtjpnRR99ZzvbQc5rTcvTHOa6PP820ZnuFVyqo0N+O4gBH9RU7at0wyugn+aTO6w0/NNqZgR+SBccxAmAwAiBqa2sPHDigVb8cNKDMT2tr6zNyNGvkJjd76NFaTxrgx68m90eOHDl48KCKCpKBysrKkpISVwAUdoyOjkpyrl+/funSpQsXLmig3OICC7nkfoSPlFDCOoi1xn7Nf/wf9vYqEyXvL3uWZ9eU/HFsaIhfbG/9RryFbIm9F/uL3m+d/JkPPX/y+SMcabQaHQ8oscwnP0Kk1z8eCPQHJ6+3e/s6OzlxgoMHJcNIALTu372b+XkpgR4Po5BpcFCPpKusTmWlowGKGIYjw04EkLb8dyIAypcJBv06ky4ActaO6VLH+2fY1HOe+X76FQhe4EIrrZL2AxzQ8n+SSQV8fvwyXaDgoIwyIEJEz77Ii/pF6Xp9gExSbjPwg7V6f1kK/w+D4YMqAKWlpS+88IKyNHL9zppdjlvugLUQIfIjfqQbRd7mbT/+3bt3nzhxor29va2tTeoiOUkvKU9OTmr5f+XKlT179kgtVIU+s3hG63TnBqEP8SHWwUzrzMxAixJbrWM/CQLkXDIaO5P0/goCRsrLv9HSEh9chwD8vP2Rlzrk1DrprKEGG+GxPB10yCm/z/vnphtGRv79v7/m/+IXbS3/pQFu++S6OubmCATQO5HbR054dJSxMUcAMgkCZNHIZUcAxhhLTa/J9TsRQFtbuagor7gcTKqCJCc3FzeH43h/zUB1S3LazAgR0ij5eun6czynX4KsggqFegqAZH78AQJ6IzojtSiiSLO30NJOu4yVaVvpVFYYDEYAnCBAWRpVAgAt1ZWpZ40ocj/PeQX7/fRLUeT9Ozs7dTx27Fi663dQQHD48GHpTVlZmeRnYWGhp6fHWQx68frwNdOcvQC0SABaZwcGxt56yw0C5HPXtPzX7yPxYktcAnC9hexpL6J9Lx33JDRssFCmW95Qn/fllwfb2/0+Hw0N3EdNDQoCFBAgJiaIRqWcZIBbBuDyZdeDuwIQiSR9vdSuqqpyz56qam91QXxHMBh1ztfW3r/8lxN3RYUVOcx9TDE1yeQEE/vw6uM306yCPyCBr6MuSlQaIAEYOT+ix5q/kEIvXl0jtXjw7QBd3MtfQ5YtBoMRAP6cnD/MqfrlKsTfgy74PJmjFZwcZh99ivQBBRC6lUjeX0cehmoDJ0+enJ+fn5qaCofD165dk5YoKSwv0ESThUVWJFoTcwPMDbTaAwOe21fcIKCSSlZDJfHk2l9Hu6qqv6VlzmqZm2sle9rhODSRRhFFcnkFFMBveDxSREpL0ys0FBWxfTuS0YXZWRIJZJkg3XDy9Tt2jESTdeBDHEpZ/sv0vGNJ1+4IwPDw/QKgsXpzzoSaOTPPjHw6zHcxDwVQqM9LCjvYobycbOL8hHRikcUCCqSIueSyGl8jhQ5kmWIwGAF4jzSSp0ohDi8h0v9Zdax6y/8Nblzn+iKLyvYcOnRImZ/jx4+TGao9KFBQ/BFQLry//87cHU2lisIAA5IBsiMHu9W2B1oYGIjd/nMFAY4AnOJUhsv/iQk41mK3tJBose08sue/gM1KSN62sc0RuW3bkpaOZaHzOmLbSXPJrBQ8Gr3qFHKnmfbgcQsAsoMHlwRA4NPV7wbfd867aJQzluo6t/yboQDkuOdW3QqutKu0dF8pBoNh8wXgG6TxY/gLUukEMhSAGLEhhpxqHtDY2Lhv3z6VEyzLgsw9VbVKBSoINzQ0KAiQ69eEmjZ7ARBN0NoqAZBduZHMAskUXnA/NljAyEjKzT8qg8v7yy7sZ71YYPPIcTM2+jyOH5c10ihtc8q/09P3RAD605ouDganHA3QKTf/EyOW9P6yB9G8yglrybZhMBieNAEQEXj5wd5ffJ2VcZaH8hjzzCv7r3KCvkSWxU1EultUA1USkAAECGhCTZsgkU9+9i63pYGBv9IAWxow7wQBjgCsjFv7jceXxEPef58EALCeSg1wb9ksLh6ZGnEFwC3/6knHRDVuFui6KwDu8p+SkuTzVVVkw2oRgCvBBoNhswVgkAcQgSgFrJEw4RAhZ5cYr9er+3+0nGftaJRuB9IMBQUF8Xhcc44xpsmrqCJrapATl/fXDgz9ly5dJXlH0AEOkIbfnxSA99+HAwdsZ/lPipI9zRowcn3IWcsvshgMbnMiAGmcKwD607Gzw0kBSK0Au9kkssRZ/uvIBmtAx5J9HYPB8Bh2A51gQhYhAuzcuVO39Di3kGaBBmq4JnH2D9C0UaKsE2chr2NxsSoBMjn5OHHScGu/5OdrSNKeclzHPcusEwGoIOxEAFNTK0cAcxNFjgDcvTvuLP8jRFwhITsc7y8zGAxbSQBixKaZlgEej0cVXd3fSVYUL6FJAE2omWWsk4oKeX/H5Mvk/R0Z4F6uXUsu/wcGwPX+VVVbRABkRUXJL/QGhx3/nur9nU3rnBNLWSCWbPkLwB5PWgFgo1NADjYGg+FpEoAECceA/CWUwyErNNCZ4b5ps8RKCwIqK90gQBEGyyQSKbXfkpK05b/F08u2ba4GOAn90eDovTeA4uJcp3P3C4CrIpZFFpgisMGwVQXAxl5kUUc0+xJWtm4idbjmdKddL0VF9rIGyO9LABxLr/3K2zlqYevisjK2BO43wvTZwzPh8HB4eHgmGl1BAJzlvyw2XjgysjAyMjb247EQodQCwPojABMEGAxbRwCUOsghR0dgYYlFue6sSB2uOd1pNwAnAtCxttbNAjm7m0WjSQGQKUTY5Oy/9RjLABQWRu5GQqPahenH6d7f+Z27peDR0XHVAMKh8EJhXnoBIPsisMFg2EoCUECBY0B8Ce31RlbMLqEZUqfdqEyIqwFx4k4WSMfU2m8kkpL9LyraOg0pc3PdHM7E6MTdu9HR0eiD9nRwS8FjY5Oh0MREaMINIJAiw/qLwCYIMBi2jgB48BRT7Gzeqe0ctMVbNBolKzR2aglAc2pm2Yb52cbGpAbs23eNa04Q0B/qd5f/Tt8V55rUKbZMECCbvDs5Oqo9nydXjACEGwEEQy1jY1OTY5OkasX6U0AGw1bCCEAppTvZmdzONxIJh8NjY2Osnbm5OQ0cHx/XJEA55ZpTk7NB2KnV4Lw8JwjQl86WvL8Vi+Eu/22FC1sLdxXf/5XAr/961OdzBGCFmm4eeclS8LTvN8d+6lrXwIYKwDbABAGPC4Mhl42mkkov3t3s1rJaW/yrr4Cay8uba+t/1sLt27eDwaCGqwywne2aUzPvYtfGLoTdzSGGLly4Gb3ZP9B/69bta9eW4wNZUxNrpD6LJ+szncNlL6txglXJz0/m8Y9Xw88VFPycz2frp3TcUrCOVX9cxTM4AzWDiQDux2AwAlBFlfxFDTUePNOx6cHBQXWXVF/JtbYUVm8A9YcZGhoC9rLXcUPWRrsMVwBk/iG/f9Cv/+cXt+l81rXfLh5EkyyDMV/gYdRoRJbvIUX8amU+GLQspcGsmpqVV9o11Oxn/1f5KqIafKxj+X8A/heyLLB50jEYjADkkltHXT31jTRe5KJcv/Iq2tOtpqYm82+EqTH91atXtRmc/DHQQIPTKXDj918oK8MNAgLnA0u4yR/27s0iX/8SK9KMbEV+pDFr8P57ZVm8h3QBeKkaZDmwsHt36ge078sCfZyPH+UouY73l5VjMBiMAKyIXH8zzVo29tOvHM7Fixe1I5B2dFBPmEwSQcr8nDlz5vz58319fYAzlY4+fGwoNlggR+8IQPwf+odG/+Du9u/T+VlHALJbdx4jnRydzmDAoezmT6eah7FdebWkO4fAQ+/sqkb/kbRCVsZgMBgBqKCildYhhoIEu+k+e/astgXV13qVzT969OiuVfvHKmKQ91cvsN7eXpUBSilto+0QhzThJqUF5ApdDQjMz1NXl/T+Xi9bGjehA4FML3dGGAyGLUHuJm28qx5+o4yGCU8yeXHh4unTp+X9dUOn2ryoPYD2edY2n5Zlpd7yPzw8rGqBMj9a+7/33ntqDZ9Pfgcdxzh2mMM+fNibtgtnayuDg0Qit51b/g8dQg/Sh201XI+ewb6kVopeGAxbCBMBbLwGFFDQTvsUUwkSFtaF2QuvvfaabglVUVctYlQPUBygkoAyQrZty/tPTExIG1QxVvZfmR9d5ol6ni95/gQnpAGaig3E1YDUT67+5BUVTE+Tn09TEzt2APZW9v7CA39HZuquH3AMJgVkw5twio1jD3te5EVHDHaw4wIXVAxQhkedXqqqqrTVs3b6dAQgHo9Ho9FQKKScj1P1rf2vtUd6jrSfan+h8AVpAGlsfBwgj9/RsVnf1cqBv4FsdQ4t2f/lYXxpyX4Hg8GwUZgaQBz+KfwSG8de9n6YD5dQsotdPnzXuDYQG7i8hHZ50z7PrgDEYjHE59gTLhmdOlDfc7gtr+1E3tHOzo7c3Bw2Exsss/z9YGMwGAFIINtodrP7E3xC0UAddfvZP8hgkGCIUHQxOjM5M8+8s3uEpKKsu8z7htc3F/e98cb/7TmvL+fm5TXl5tLZufqq3AY+z4PJf/DTX4Dv8zC+kD6+BpnBYNhqGAHIhXk2lDzyVMhtoqmf/iGGRhgJE44SnWVWAmBh6QKP7Sm1SysTldUJv29u7n+88UZPT1NeHhIAHV944SHZmK4HvzZd2QQB9oPn9jmnDAbDVsEIwOKyAMyzOZRSeoQjsjHGxhmfZPInAmDnFVFUapVWnKgomXuHuTkSidhpq6dH3j9p7e1r/95Tvp7IJhFkP3juGudng8GwhTAC4Hj/OEvYNkksi41G9QDZyrn2fDhxQgLg2MS770oDnCBA1tbGgyjI9GwWFKT/YDAYthJGAOJLlgAWF5meJhZjdhaKCikspKCAR4bHo4yPqwFjZ8+6cYCU4ODBTa8G23zAMBgMJgK4eTMxNZUAxse5cYNgkEQCnvFSXs7OnZvodNMpK5MG6OUdG+nrkwa49YB9+9gwzJ0/BoPBCMDwcOLllxOBQAKYnOTmTS5cgPx8mpupq8Pn4xHj9bq5IHn9QDicmguqryczSuAfIdtAGuG/IDMYDFsEIwCz44noaOLPv5GYgOlpgkGorKSzjWPHlHbZLAGwH9a0RBpgWehBNNoPebK+pAbU1LAeDAaDwZDLKzBEYiiRCCTiTZU3pjsRh4upqmL/fo4epaODR4vFMs88Q1kZgQCxGLZ9DXIdGbhDZy579mAwGAyGrMnloxAhPhSPBw4n7lYjV2tZFBWhCKC+Xsv/x5xuLy1FtsxlRwAgF05BBevBYDAYTAqojETZc4m25xLRKDMzSAC2b6ekhCeS88sCoOMp/rKdO+BQIIgCOP5mupRGYQpQxSEFEZAAhPvcg44OKAClQGkXxoJb2BubAw539txp+v889OYL/GVqpCMVAAB3APltOh0J8wcKqeLtMwBhXgQAUD0A8v+UfMvrbwUAAAjAezk/VtzlL/EBAKooCnk8AAAtAIBoEAAAAAEAABAAAAABAAA8yVeyLNvtdpfLRSnV7/dns1mj0ZC4AQAByPPcObderw+HQ61WG4/H3vvVaiVxAwACsN/vt9utc26z2dTr9cVi0W63n0sCIGIgAN77JEmOx2NeOp1OYQ2HAiBu4BK42WwaY6y1tzV8CGs4FABxA98AhsPhZDK5Xq+9Xk9rPZ1OwzoajQRA3EAArLXL5dIYcz6flVKDwWA+n7daLQHwCMBjcOE8TVOtdbfbFQAAr4ECAPgnMACAAAAA7s0HoDFhsamH/bcAAAAASUVORK5CYII=",XF={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class KF{constructor(t){this._webGLHelper=t,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new tr([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:wd(mx),texture:t?this._createTextureNow(QF):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(t,n="normal",r="regular"){if(it(r)&&(r=XF[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:t,style:n,weight:r};let o=this._fonts.get(i);return o||(o={metrics:void 0,texture:void 0},this._fonts.set(i,o),this._promises.push(this._loadFontEntry(o,i))),o}async _loadFontEntry(t,n){try{const r=await this._loadMetadata(n.family),i=$F(r,n),o=this.fontRepository+kx(n.family)+"/"+i.replace(/\.\w+/,""),a=this._createTexture(o+".png"),s=this._loadFont(o+".json");t.texture=await a,t.metrics=await s}catch{console.warn(`Cannot load font: "${n.family}". Using the embedded default font.`),t.metrics=this._defaultFontEntry.metrics,t.texture=this._defaultFontEntry.texture}}_loadFont(t){let n=this._fontPromises.get(t);return n||(n=fetch(t).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>wd(r)),this._fontPromises.set(t,n)),n}_loadMetadata(t){const n=kx(t);let r=this._metadataPromises.get(n);if(!r){const i=this.fontRepository+n+"/METADATA.pb";r=fetch(i).then(o=>{if(!o.ok)throw new Error("Could not load font metadata. Response status: "+o.status+", url: "+i);return o}).then(o=>o.text()).then(o=>JF(o)).catch(o=>{console.warn(o.message)}),this._metadataPromises.set(n,r)}return r}getDefaultFont(){return this._defaultFontEntry}_createTexture(t){const n=this._webGLHelper.gl;return new Promise((r,i)=>{os(n,{src:t,min:n.LINEAR},(o,a,s)=>{o?i(o):r(a)})})}_createTextureNow(t){const n=this._webGLHelper.gl;let r;const i=new Promise((o,a)=>{r=os(n,{src:t,min:n.LINEAR},(s,c,l)=>{s?a(s):o(c)})});return this._promises.push(i),r}}function kx(e){return e.toLowerCase().replaceAll(/[^\w]/g,"")}function JF(e){const t=e.split(`
`),n=[];let r;for(const i of t)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let o=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(o){const a=o[1];r[a]=o[2]}if(o=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),o){const a=o[1];r[a]=+o[2]}}return n}function $F(e,t){let n,r=Number.POSITIVE_INFINITY;for(const i of e)if(t.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&t.style==i.style){const o=Math.abs(t.weight-i.weight);o<r&&(r=o,n=i)}return n==null?void 0:n.filename}function eR(e,t){const n=[];let r;for(const i of e.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class tR{constructor(t,n){this.animator=t,this.disabled=!!n,this.maxDistance=500,this.callback=null,this.targetValue=0,this.lastValue=0,this.smoother=Pd(t,r=>{var o;const i=r.x-this.lastValue;this.lastValue=r.x,(o=this.callback)==null||o.call(this,i)},40,.1,{x:0})}cancel(){this.lastValue!==this.targetValue&&(this.targetValue=Qp([this.lastValue,this.targetValue],.3),this.smoother({x:this.targetValue}))}setMomentum(t,n){if(this.disabled){n(t);return}this.callback=n;const r=Do(this.targetValue+t-this.lastValue,-this.maxDistance,this.maxDistance);this.targetValue=this.lastValue+r,this.smoother({x:this.targetValue})}}function nR(e){const t={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in e){const o=i;!r.includes(i)&&n.includes(typeof e[o])&&(t[o]=e[o])}return t}const Bx=new Map;async function rR(e,t,n){const r=e.symbol;let i=Bx.get(r)??await aR(e.symbol);return i?(Bx.set(r,i),st`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function iR(e){console.log("Searching: "+e);const t={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${e}[GENE]&sort=relevance&retmode=json`,t).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,t).then(a=>a.json())).result[r]:null}const oR=lu(iR,500);function aR(e){return oR(e)}const sR=Ot(".4~r"),cR=Ot(".4~e");function Fx(e){return e==null?st` <span class="na">NA</span> `:it(e)?e.substring(0,30):Number.isInteger(e)?""+e:jt(e)?Math.abs(e)>Math.pow(10,8)||Math.abs(e)<Math.pow(10,-8)?cR(e):sR(e):Ea(e)?e?"True":"False":Bt(e)?st`${e.map((t,n)=>[Fx(t),n<e.length-1?", ":dt])}`:"?"+typeof e+" "+e}async function lR(e,t,n){const r=(l,u)=>{var f;for(const[h,d]of Object.entries(t.encoders))if((f=d==null?void 0:d.dataAccessor)!=null&&f.fields.includes(l))switch(h){case"color":case"fill":case"stroke":return st`
                            <span
                                class="color-legend"
                                style=${`background-color: ${d(u)}`}
                            ></span>
                        `}return""},i=(l,u)=>{const f=l.filter(([h,d])=>!h.startsWith("_"));if(f.length!==0)return f.map(([h,d])=>d!==null&&typeof d=="object"&&!Array.isArray(d)?st`${i(Object.entries(d),(u||"")+h+".")}`:st`
                      <tr>
                          <th>${u}${h}</th>
                          <td>${Fx(d)} ${r(h,e)}</td>
                      </tr>
                  `)},o=i(Object.entries(e));if(!o)return;const a=st`
        <table class="attributes">
            ${o}
        </table>
    `,s=t.unitView.getTitleText(),c=s?st`
              <div class="title">
                  <strong>${s}</strong>
              </div>
          `:"";return st`${c}${a}`}class Us extends ux{constructor(t,n,r,i,o,a){super(t,n,r,i,o,a),this.spec=t}async initializeChildren(){}*[Symbol.iterator](){}replaceChild(t,n){throw new Error("Not implemented")}visit(t){let n;try{n=t(this)}catch(r){throw r.view=this,r}if(n===Ns)return n;if(n!==yB){t.beforeChildren&&t.beforeChildren(this);for(const r of this){const i=r.visit(t);if(i===Ns)return i}t.afterChildren&&t.afterChildren(this),t.postOrder&&t.postOrder(this)}}findDescendantByPath(t){for(const n of this)if(n.name===t[0]){if(t.length==1)return n;if(n instanceof Us)return n.findDescendantByPath(t.slice(1))}}findChildByName(t){for(const n of this)if(n.name===t)return n}findDescendantByName(t){let n;return this.visit(r=>{if(r.name==t)return n=r,Ns}),n}getDefaultResolution(t,n){return"shared"}}class Gs extends Us{constructor(n,r,i,o,a,s){super(n,r,i,o,a,{layersChildren:!0,...s});ve(this,yr,[]);this.spec=n,this.needsAxes={x:!0,y:!0}}async initializeChildren(){Pe(this,yr,await Promise.all(this.spec.layer.map((n,r)=>this.context.createOrImportView(n,this,this,"grid"+r,i=>{if(!Gd(i)&&!Ud(i))throw new Li("LayerView accepts only unit or layer specs as children!",this)}))))}get children(){return X(this,yr).slice()}*[Symbol.iterator](){for(const n of X(this,yr))yield n}render(n,r,i={}){if(super.render(n,r,i),!!this.isConfiguredVisible()){n.pushView(this,r);for(const o of X(this,yr))o.render(n,r,i);n.popView(this)}}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0);for(let r=X(this,yr).length-1;r>=0;r--)if(X(this,yr)[r].propagateInteractionEvent(n),n.stopped)return;this.handleInteractionEvent(void 0,n,!1)}}yr=new WeakMap;class Rx{constructor(t,n){this.n=t,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const o=[];t.push(o);for(let a=0;a<n;a++){const s=i*n+a;s<this.n&&o.push(s)}}return t}get colIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const o=[];t.push(o);for(let a=0;a<r;a++){const s=a*n+i;s<this.n&&o.push(s)}}return t}getCellIndex(t,n){let r=0;if(this.maxCols==1/0)r=n==0?t:void 0;else{if(t>=this.maxCols)return;r=n*this.nCols+t}return r<this.n?r:void 0}getCellCoords(t){if(!(t<0||t>=this.n))return[t%this.nCols,Math.floor(t/this.nCols)]}}const uR="chromosome_ticks_and_labels",fR={x:"width",y:"height"};function Ld(e){return e=="x"?"y":"x"}const fu={x:["bottom","top"],y:["left","right"]},Od=Object.fromEntries(Object.entries(fu).map(([e,t])=>t.map(n=>[n,e])).flat(1));function Zr(e){return Od[e]}class Mx extends Gs{constructor(t,n,r,i,o,a){const s=n=="locus",c={...s?dR:Px,...hR(n,t),...t};super(s?pR(c,n):Lx(c,n),r,i,o,`axis_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...a}),this.axisProps=c}getSize(){const t={px:this.getPerpendicularSize()},n={grow:1};return Od[this.axisProps.orient]=="x"?new Wr(n,t):new Wr(t,n)}getPerpendicularSize(){return Nd(this.axisProps)}isPickingSupported(){return!1}}function Nd(e){const t=Zr(e.orient);let n=e.ticks&&e.tickSize||0;return e.labels&&(n+=e.labelPadding,t=="x"?n+=e.labelFontSize:n+=30),e.title&&(n+=e.titlePadding+e.titleFontSize),n=Math.min(e.maxExtent||1/0,Math.max(e.minExtent||0,n)),n}const Px={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function hR(e,t){const n=t.orient,r=e=="nominal"||e=="ordinal";let i="center",o="middle",a=t.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(a)>30?(i=a>0==(n=="bottom")?"left":"right",o="middle"):o=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:a,labelBaseline:o}}function Lx(e,t){const n={...e,extent:Nd(e)},r=Zr(n.orient),i=Ld(r),o=n.orient=="bottom"||n.orient=="right"?1:-1,a=n.orient=="bottom"||n.orient=="left"?1:0,s=()=>({name:"domain",data:{values:[{}]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:a,size:n.domainWidth}}),c=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*o,[i]:a,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:t},text:{field:"label"}}}),l=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:a},[i+"2"]:{value:a-n.tickSize/n.extent*(a?1:-1)}}}),u=()=>({name:"title",data:{values:[{}]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-a}}),f=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:t}},layer:[]};return n.ticks&&d.layer.push(l()),n.labels&&d.layer.push(c()),d},h={resolve:{scale:{[r]:"forced"}},[fR[Ld(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:e}},layer:[]};return n.domain&&h.layer.push(s()),(n.ticks||n.labels)&&h.layer.push(f()),n.title&&h.layer.push(u()),h}const dR={...Px,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function pR(e,t){const n={...e,extent:Nd(e)},r=Zr(n.orient),i=Ld(r),o=n.orient=="bottom"||n.orient=="left"?1:0,a=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:e.chromTickDash,strokeDashOffset:e.chromTickDashOffset,[i]:o,[i+"2"]:o-n.chromTickSize/n.extent*(o?1:-1),color:e.chromTickColor,size:n.chromTickWidth}}),s=()=>{let u;switch(n.orient){case"top":u={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":u={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":u={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":u={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:u={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:e.chromLabelAlign,baseline:"alphabetic",clip:!1,...u},encoding:{[r+"2"]:{field:"continuousEnd",type:t},text:{field:"name"}}}};let c;switch(n.orient){case"bottom":case"top":c={};break;case"left":c={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":c={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:c={}}const l=Lx({...e,...c},t);if(e.chromTicks||e.chromLabels){const u={name:uR,data:{lazy:{type:"axisGenome",channel:Zr(n.orient)}},encoding:{[r]:{field:"continuousStart",type:t,band:0}},layer:[]};if(e.chromTicks&&u.layer.push(a()),e.chromLabels){u.layer.push(s());let f;l.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{f=d.mark})),f&&(n.orient=="top"||n.orient=="bottom"?(f.viewportEdgeFadeWidthLeft=30,f.viewportEdgeFadeDistanceLeft=40):(f.viewportEdgeFadeWidthBottom=30,f.viewportEdgeFadeDistanceBottom=40))}l.layer.push(u)}return l}class gR extends Gs{constructor(t,n,r,i,o,a){const c={...n=="locus"?mR:Ox,...t};super(wR(c,n),r,i,o,`axisGrid_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...a}),this.axisProps=c}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const Ox={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},mR={...Ox,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function bR(e,t){const n=e,r=Zr(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:e}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:t}}}}function yR(e,t){const n=e,r=Zr(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:t,band:0}}}}function xR(e,t){const n=e,r=Zr(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:t,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function wR(e,t){const n={...e},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(xR(n,t)),n.chromGrid&&n.chromGridOpacity>0&&r.push(yR(n,t)),n.grid&&n.gridOpacity>0&&r.push(bR(n,t)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[Zr(e.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const Nx={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},vR={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},AR={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},ER={start:0,middle:.5,end:1},SR={start:"left",middle:"center",end:"right"};function _R(e){if(!e)return;const t=it(e)?{text:e}:e;if(!t.text||t.orient=="none")return;const n={"track-title":vR,overlay:AR}[t.style]??{},r={...Nx,...n,...t};let i={},o={x:0,y:0};const a=ER[r.anchor??"middle"];switch(r.orient){case"top":o={x:a,y:1},i={baseline:"alphabetic",angle:0};break;case"right":o={x:1,y:1-a},i={baseline:"alphabetic",angle:90};break;case"bottom":o={x:a,y:0},i={baseline:"top",angle:0};break;case"left":o={x:0,y:a},i={baseline:"alphabetic",angle:-90};break}const s={...Nx,...i,...n,...t},c={xOffset:0,yOffset:0};switch(r.orient){case"top":c.yOffset=-s.offset;break;case"right":c.xOffset=s.offset;break;case"bottom":c.yOffset=s.offset;break;case"left":c.xOffset=-s.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...o,...c,text:s.text,align:s.align??SR[s.anchor],angle:s.angle,baseline:s.baseline,dx:s.dx,dy:s.dy,color:s.color,font:s.font,size:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight}}}class CR{constructor(t){ve(this,$i);ve(this,ri,0);ve(this,ii,0);Pe(this,$i,new Array(t))}push(t){X(this,$i)[X(this,ri)]=t,Pe(this,ri,(X(this,ri)+1)%this.size),Pe(this,ii,Math.min(X(this,ii)+1,this.size))}get(){const t=X(this,$i);return X(this,ii)<this.size?t.slice(0,X(this,ii)):t.slice(X(this,ri),this.size).concat(t.slice(0,X(this,ri)))}get size(){return X(this,$i).length}get length(){return X(this,ii)}}$i=new WeakMap,ri=new WeakMap,ii=new WeakMap;let Oi,zx=0;function Ux(){return performance.now()-zx<50}function TR(e){return function(...t){zx=performance.now(),e(...t)}}function DR(e,t,n,r,i){if(n=TR(n),e.type=="wheel"){e.uiEvent.preventDefault();const o=e.uiEvent,a=o.deltaMode?120:1;if(!o.deltaX&&!o.deltaY)return;Oi==null||Oi.stop();let{x:s,y:c}=e.point;if(r){const l=r.mark.encoders;l.x&&!l.x2&&!l.x.constant&&(s=+l.x(r.datum)*t.width+t.x),l.y&&!l.y2&&!l.y.constant&&(c=(1-+l.y(r.datum))*t.height+t.y)}Math.abs(o.deltaX)<Math.abs(o.deltaY)?n({x:s,y:c,xDelta:0,yDelta:0,zDelta:o.deltaY*a/300}):n({x:s,y:c,xDelta:-o.deltaX*a,yDelta:0,zDelta:0})}else if(e.type=="mousedown"&&e.uiEvent.button===0){Oi&&Oi.stop();const o=new CR(30),a=e.uiEvent;a.preventDefault();let s=Yn.fromMouseEvent(a);const c=f=>{const h=Yn.fromMouseEvent(f);o.push({point:h,timestamp:performance.now()});const d=h.subtract(s);n({x:s.x,y:s.y,xDelta:d.x,yDelta:d.y,zDelta:0}),s=h},l=()=>{const h=performance.now(),d=o.get().filter(_=>h-_.timestamp<160);if(d.length<5||!i||IR(d))return;const p=d.at(-1),b=d[0],v=p.point.subtract(b.point).multiply(1/(p.timestamp-b.timestamp));let y=s.x,A=s.y;Oi=Pd(i,_=>{n({x:_.x,y:_.y,xDelta:y-_.x,yDelta:A-_.y,zDelta:0}),y=_.x,A=_.y},150,.5,{x:y,y:A}),Oi({x:s.x-v.x*250,y:s.y-v.y*250})},u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),l()};document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",c,!1)}}function IR(e){const t=e[Math.floor(e.length/2)],n=t.point.subtract(e[0].point).multiply(t.timestamp-e[0].timestamp),r=e.at(-1).point.subtract(t.point).multiply(e.at(-1).timestamp-t.timestamp),i=n.length;return r.length/i<.4}class kR extends Us{constructor(n,r,i,o,a,s,c){super(n,r,i,o,a,c);ve(this,qe);ve(this,ba,1/0);ve(this,ya,10);ve(this,fn,[]);ve(this,eo,{});ve(this,xa,0);this.spec=n,Pe(this,ya,n.spacing??10),Pe(this,ba,s),Pe(this,fn,[]),this.wrappingFacet=!1}appendChild(n){n.layoutParent??(n.layoutParent=this),X(this,fn).push(new Hx(n,this,X(this,xa))),j2(this,xa)._++}setChildren(n){Pe(this,fn,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=X(this,fn).findIndex(o=>o.view==n);if(i>=0)X(this,fn)[i]=new Hx(r,this,X(this,xa));else throw new Error("Not my child view!")}get children(){return X(this,fn).map(n=>n.view)}get childCount(){return X(this,fn).length}async createAxes(){const n=[];for(const r of Io){const i=this.resolutions.axis[r];if(i){const o=i.getAxisProps();if(o){const a={title:i.getTitle(),orient:fu[r][0],...o},s=new Mx(a,i.scaleResolution.type,this.context,this,this);n.push(s.initializeChildren()),X(this,eo)[r]=s}}}return Promise.all([...n,...X(this,fn).map(r=>r.createAxes())])}*[Symbol.iterator](){for(const n of X(this,fn))yield*n.getChildren();for(const n of Object.values(X(this,eo)))yield n}getOverhang(){return he(this,qe,tE).call(this).union(he(this,qe,Ku).call(this))}getSize(){return this._cache("size",()=>new Wr(he(this,qe,Gp).call(this,"column"),he(this,qe,Gp).call(this,"row")).addPadding(he(this,qe,Ku).call(this)))}render(n,r,i={}){if(super.render(n,r,i),!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(he(this,qe,Ku).call(this)),n.pushView(this,r);const o={devicePixelRatio:this.context.devicePixelRatio},a=ax(he(this,qe,Up).call(this,"column"),r.width,o),s=ax(he(this,qe,Up).call(this,"row"),r.height,o),c=new Rx(X(this,qe,ro).length,X(this,ba)??1/0),l=u=>Math.round(u*devicePixelRatio)/devicePixelRatio;for(const[u,f]of X(this,qe,ro).entries()){const{view:h,axes:d,gridLines:p,background:b,backgroundStroke:v,title:y}=f,[A,_]=c.getCellCoords(u),E=a[he(this,qe,Hp).call(this,"column",A)],C=s[he(this,qe,Hp).call(this,"row",_)],F=h.getViewportSize(),I=h.getSize(),N=h.getOverhang(),R=E.location-N.left,P=C.location-N.top,S=(Le,j)=>(Le[j].grow?(j=="width"?E:C).size:Le[j].px)+N[j],Z=S(F,"width"),Q=S(F,"height"),se=S(I,"width"),ce=S(I,"height"),fe=f.scrollbars.horizontal,le=f.scrollbars.vertical,Ee=fe?()=>l(fe.viewportOffset):()=>0,pe=le?()=>l(le.viewportOffset):()=>0,_e=new fr(()=>r.x+R,()=>r.y+P,()=>Z,()=>Q),Ce=h.isScrollable(),xe=Ce?new fr(()=>r.x+R-Ee(),()=>r.y+P-pe(),()=>se,()=>ce):_e;f.coords=_e;const Te=i.clipRect?_e.intersect(i.clipRect):_e;b==null||b.render(n,Te,{...i,clipRect:void 0});for(const Le of Object.values(p))Le.render(n,_e,i);const He=MR(h)||Ce;He&&h.render(n,xe,{...i,clipRect:Te}),v==null||v.render(n,Te,{...i,clipRect:void 0});for(const[Le,j]of Object.entries(d)){const q=Le=="left"||Le=="right"?"vertical":"horizontal",re=f.scrollbars[q],$=re?_e.modify(q=="vertical"?{y:()=>xe.y,height:ce}:{x:()=>xe.x,width:se}):_e,ue=Gx($,Le,j);let L=i.clipRect;re&&(L=ue.intersect(L).intersect(re?_e.modify(q=="vertical"?{x:-1e5,width:2e5}:{y:-1e5,height:2e5}):void 0)),j.render(n,ue,{...i,clipRect:L})}for(const Le of Object.values(X(this,eo))){const q=Le.axisProps.orient;(q=="left"&&A==0||q=="right"&&A==c.nCols-1||q=="top"&&_==0||q=="bottom"&&_==c.nRows-1)&&Le.render(n,Gx(_e.shrink(f.view.getOverhang()),q,Le),i)}He||h.render(n,xe,i);for(const Le of Object.values(f.scrollbars))Le.updateScrollbar(_e,xe),Le.render(n,r,i);y==null||y.render(n,_e,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=X(this,qe,ro).find(o=>o.coords.containsPoint(n.point.x,n.point.y));for(const o of Object.values((r==null?void 0:r.scrollbars)??{}))if(o.coords.containsPoint(n.point.x,n.point.y)&&(o.propagateInteractionEvent(n),n.stopped))return;const i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof an||i instanceof Gs)&&DR(n,r.coords,o=>he(this,qe,nE).call(this,r.coords,r.view,o),this.context.getCurrentHover(),this.context.animator)),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}ba=new WeakMap,ya=new WeakMap,fn=new WeakMap,eo=new WeakMap,xa=new WeakMap,qe=new WeakSet,ro=function(){return X(this,fn).filter(n=>n.view.isConfiguredVisible())},eE=function(){return new Rx(X(this,qe,ro).length,X(this,ba)??1/0)},Nc=function(n){const r=n=="column"?"width":"height",i=(o,a)=>o.map(s=>{const l=X(this,qe,ro)[s].getOverhangAndPadding();return n=="column"?a?l.right:l.left:a?l.bottom:l.top}).reduce((s,c)=>Math.max(s,c),0);return this._cache(`size/directionSizes/${n}`,()=>X(this,qe,eE)[n=="column"?"colIndices":"rowIndices"].map(o=>({axisBefore:i(o,0),axisAfter:i(o,1),view:gB(o.map(a=>X(this,qe,ro)[a].view.getViewportSize()[r]))})))},Up=function(n){const r=he(this,qe,Nc).call(this,n),i=[];i.push(Ls);for(const[o,a]of r.entries())o>0&&i.push({px:X(this,ya),grow:0}),(o==0||this.wrappingFacet)&&i.push(Ls),i.push({px:a.axisBefore,grow:0}),i.push(a.view),i.push({px:a.axisAfter,grow:0}),(o==r.length-1||this.wrappingFacet)&&i.push(Ls);return i},Gp=function(n){let r=0,i=0;const o=n=="row"?this.spec.height:this.spec.width;if(o||o===0)return cx(o);const a=he(this,qe,Nc).call(this,n);for(const[s,c]of a.entries())s>0&&(i+=X(this,ya)),(s==0||this.wrappingFacet)&&(i+=0),i+=c.axisBefore,i+=c.view.px??0,r+=c.view.grow??0,i+=c.axisAfter,(s==a.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},Hp=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},tE=function(){const n=he(this,qe,Nc).call(this,"column"),r=he(this,qe,Nc).call(this,"row");return!n.length||!r.length?Gt.zero():new Gt(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},Ku=function(){const n=r=>{const i=Od[r],o=X(this,eo)[i];return(o==null?void 0:o.axisProps.orient)!==r?0:Math.max(o.getPerpendicularSize()+(o.axisProps.offset??0),0)};return new Gt(n("top"),n("right"),n("bottom"),n("left"))},nE=function(n,r,i){for(const[o,a]of Object.entries(RR(r))){if(a.size<=0)continue;const s=n.normalizePoint(i.x,i.y),c=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),l={x:c.x-s.x,y:c.y-s.y};for(const u of a)u.zoom(2**i.zDelta,o=="y"?1-s[o]:s[o],o=="x"?l.x:-l.y)}this.context.animator.requestRender()};function BR(e){if(!(!e||!e.fill||e.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:e.fill,opacity:e.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function FR(e){if(!(!e||!e.stroke||e.strokeWidth===0||e.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:e.strokeWidth??1,color:e.stroke??"lightgray",strokeCap:"square",opacity:e.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function RR(e){const t={x:new Set,y:new Set};return e.visit(n=>{for(const[r,i]of Object.entries(t)){const o=n.getScaleResolution(r);o&&o.isZoomable()&&i.add(o)}}),t}function MR(e){let t=!0;return e.visit(n=>{n instanceof an&&t&&(t=n.mark.properties.clip===!0)}),t}function Gx(e,t,n){const r=n.axisProps,i=n.getPerpendicularSize();if(t=="bottom")return e.translate(0,e.height+r.offset).modify({height:i});if(t=="top")return e.translate(0,-i-r.offset).modify({height:i});if(t=="left")return e.translate(-i-r.offset,0).modify({width:i});if(t=="right")return e.translate(e.width+r.offset,0).modify({width:i})}class Hx{constructor(t,n,r){if(this.layoutParent=n,this.view=t,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.scrollbars={},this.title=void 0,this.coords=fr.ZERO,t.needsAxes.x||t.needsAxes.y){const i=t.spec,o="view"in i?i==null?void 0:i.view:void 0,a=BR(o);a&&(this.background=new an(a,n.context,n,t,"background"+r,{blockEncodingInheritance:!0}));const s=FR(o);s&&(this.backgroundStroke=new an(s,n.context,n,t,"backgroundStroke"+r,{blockEncodingInheritance:!0}));const c=_R(t.spec.title);if(c){const l=new an(c,n.context,n,t,"title"+r,{blockEncodingInheritance:!0});this.title=l}}t.spec.viewportWidth!=null&&(this.scrollbars.horizontal=new Vx(this,"horizontal")),t.spec.viewportHeight!=null&&(this.scrollbars.vertical=new Vx(this,"vertical"))}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view,yield*Object.values(this.scrollbars)}async createAxes(){const{view:t,axes:n,gridLines:r}=this,i=(s,c)=>{const l=s.getAxisProps();if(l===null)return;const u=l?{...l}:{};if(!u.orient){for(const f of fu[c])if(!n[f]){u.orient=f;break}if(!u.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(u.title??(u.title=s.getTitle()),!fu[c].includes(u.orient))throw new Error(`Invalid axis orientation "${u.orient}" on channel "${c}"!`);return u},o=async(s,c,l)=>{const u=i(s,c);if(u){if(n[u.orient])throw new Error(`An axis with the orient "${u.orient}" already exists!`);const f=new Mx(u,s.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);n[u.orient]=f,await f.initializeChildren()}},a=async(s,c,l)=>{const u=i(s,c);if(u&&(u.grid||u.chromGrid)){const f=new gR(u,s.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);r[u.orient]=f,await f.initializeChildren()}};for(const s of["x","y"])if(t.needsAxes[s]){const c=t.resolutions.axis[s];if(!c)continue;await o(c,s,t)}for(const s of["x","y"])if(t.needsAxes[s]&&t.getConfiguredOrDefaultResolution(s,"axis")!="excluded"){const c=t.getAxisResolution(s);if(!c)continue;await a(c,s,t)}if(t instanceof Gs){for(const s of t)for(const[c,l]of Object.entries(s.resolutions.axis)){const u=l.getAxisProps();u&&u.orient&&await o(l,c,s)}for(const s of t)for(const[c,l]of Object.entries(s.resolutions.axis)){const u=l.getAxisProps();u&&!u.orient&&await o(l,c,s)}}[...Object.values(n),...Object.values(r)].forEach(s=>s.visit(c=>{c instanceof an&&c.resolve("scale")}))}getOverhang(){const t=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+(r.axisProps.offset??0),0):0};return new Gt(t("top"),t("right"),t("bottom"),t("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class Vx extends an{constructor(n,r){const i={scrollbarSize:8,scrollbarPadding:2};super({data:{values:[{}]},mark:{type:"rect",fill:"#b0b0b0",fillOpacity:.6,stroke:"white",strokeWidth:1,strokeOpacity:1,cornerRadius:5,clip:!1},configurableVisibility:!1},n.layoutParent.context,n.layoutParent,n.view,"scrollbar-"+r,{blockEncodingInheritance:!0});ve(this,wa);ve(this,Mc,fr.ZERO);ve(this,oi,0);ve(this,to,0);qt(this,"viewportOffset",0);this.config=i,Pe(this,wa,r),this.interpolateViewportOffset=Pd(this.context.animator,o=>{this.viewportOffset=o.x},50,.4,{x:this.viewportOffset}),this.addInteractionEventListener("mousedown",(o,a)=>{if(a.stopPropagation(),X(this,oi)<=0)return;const s=d=>r=="vertical"?d.clientY:d.clientX,c=a.uiEvent;c.preventDefault();const l=this.scrollOffset,u=s(c),f=d=>{const p=Do(s(d)-u+l,0,X(this,oi));this.interpolateViewportOffset({x:p/X(this,oi)*X(this,to)})},h=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)};document.addEventListener("mouseup",h,!1),document.addEventListener("mousemove",f,!1)})}get scrollOffset(){return this.viewportOffset/X(this,to)*X(this,oi)}render(n,r,i){super.render(n,X(this,Mc),i)}updateScrollbar(n,r){const i=this.config.scrollbarPadding,o=this.config.scrollbarSize,a=X(this,wa)=="horizontal"?"width":"height",s=Math.min(1,n[a]/r[a]),c=n[a]-2*i,l=s*c;Pe(this,oi,c-l),Pe(this,to,r[a]-n[a]),this.viewportOffset=Do(this.viewportOffset,0,X(this,to)),Pe(this,Mc,X(this,wa)=="vertical"?new fr(()=>n.x+n.width-o-i,()=>n.y+i+this.scrollOffset,()=>o,()=>l):new fr(()=>n.x+i+this.scrollOffset,()=>n.y+n.height-o-i,()=>l,()=>o))}}wa=new WeakMap,Mc=new WeakMap,oi=new WeakMap,to=new WeakMap;class zd extends kR{constructor(t,n,r,i,o){super(t,n,r,i,o,Hd(t)?t.columns:hu(t)?1:1/0),this.spec=t}async initializeChildren(){const t=this.spec,n=Hd(t)?t.concat:hu(t)?t.vconcat:t.hconcat;this.setChildren(await Promise.all(n.map((r,i)=>this.context.createOrImportView(r,this,this,"grid"+i)))),await this.createAxes()}getDefaultResolution(t,n){return n=="axis"?"independent":hu(this.spec)&&t==="x"||Wx(this.spec)&&t==="y"?"shared":"independent"}}const qx="viewRoot";class PR{constructor(t={}){ve(this,va,new Map);this.options={allowImport:!0,wrapRoot:!0,...t};const n=r=>(i,o,a,s,c)=>new r(i,o,a,s,i.name??c);this.addViewType(Gd,n(Gs)),this.addViewType(Ud,n(an)),this.addViewType(hu,n(zd)),this.addViewType(Wx,n(zd)),this.addViewType(Hd,n(zd)),this.addViewType(NR,()=>{throw new Error("SampleView is not supported by the @genome-spy/core package. Use @genome-spy/app instead!")})}addViewType(t,n){X(this,va).set(t,n)}createView(t,n,r,i,o){for(const[a,s]of X(this,va))if(a(t))return s(t,n,r,i,o);throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(t)]))}isViewSpec(t){const n=[...X(this,va).keys()].filter(r=>r(t));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}async createOrImportView(t,n,r,i,o,a){let s;if(OR(t)){let l;if("url"in t.import)if(this.options.allowImport)l=await GF(t,i.getBaseUrl(),n);else throw new Li("Importing views is not allowed!",r);else if("template"in t.import)l=jx(t.import.template,i);else throw new Error("Invalid import: "+JSON.stringify(t));a==null||a(l),LR(l,t),s=l}else s=t;!i&&this.options.wrapRoot&&(Ud(s)||Gd(s))&&o===qx&&(s={name:"implicitRoot",vconcat:[s]});const c=this.createView(s,n,r,i,o);return c instanceof Us&&await c.initializeChildren(),c}}va=new WeakMap;function jx(e,t){var r,i;const n=(i=(r=t.spec)==null?void 0:r.templates)==null?void 0:i[e];if(n)return structuredClone(n);if(t.dataParent)return jx(e,t.dataParent);throw new Error(`Cannot find template "${e}" in current view or its ancestors!`)}function LR(e,t){t.name!=null&&(e.name=t.name);const n=Bt(t.params)?t.params:Lt(t.params)?Object.entries(t.params).map(([r,i])=>({name:r,value:i})):[];if(n.length){e.params??(e.params=[]);for(const r of n){const i=e.params.findIndex(o=>o.name==r.name);i>=0&&(e.params[i]=r)}for(const r of n)e.params.some(i=>i.name==r.name)||e.params.push(r)}}function Ud(e){return"mark"in e&&(it(e.mark)||Lt(e.mark))}function Gd(e){return"layer"in e&&Lt(e.layer)}function OR(e){return"import"in e}function hu(e){return"vconcat"in e&&Bt(e.vconcat)}function Wx(e){return"hconcat"in e&&Bt(e.hconcat)}function Hd(e){return"concat"in e&&Bt(e.concat)}function NR(e){return"samples"in e&&Lt(e.samples)&&"spec"in e&&Lt(e.spec)}function zR(e){const t=Math.floor(Math.random()*16777215).toString(16),n=[];for(const r of e.paramConfigs.values()){if(!a6(r))continue;const i=r.bind;if(!i||!("input"in i))continue;const o=r.name,a=e.getSetter(o),s=e.getValue(o),c=i.name??o,l=i.debounce?lu(a,i.debounce,!1):a,u=`${t}-param-${o}`;if(i.input=="range")n.push(st`<label for=${u}>${c}</label>
                    <div>
                        <input
                            id=${u}
                            type="range"
                            min=${i.min??0}
                            max=${i.max??100}
                            step=${i.step??pi(i.min,i.max,100)}
                            .value=${s}
                            @input=${f=>{l(f.target.valueAsNumber),f.target.nextElementSibling.textContent=f.target.valueAsNumber}}
                        /><span>${s}</span>
                    </div>`);else if(i.input=="checkbox")n.push(st`<label for=${u}>${c}</label>
                    <input
                        id=${u}
                        type="checkbox"
                        ?checked=${s}
                        @input=${f=>l(f.target.checked)}
                    />`);else if(i.input=="radio")n.push(st`<span class="label">${c}</span>
                    <div class="radio-group">
                        ${i.options.map((f,h)=>{var d;return st`<label>
                                    <input
                                        type="radio"
                                        name=${o}
                                        value=${f}
                                        .checked=${s==f}
                                        @input=${p=>l(p.target.value)}
                                    />${((d=i.labels)==null?void 0:d[h])??f}</label
                                >`})}
                    </div>`);else if(i.input=="select")n.push(st`<label for=${u}>${c}</label>
                    <select
                        id=${u}
                        @input=${f=>l(f.target.value)}
                    >
                        ${i.options.map((f,h)=>{var d;return st`<option
                                    value=${f}
                                    ?selected=${s==f}
                                >
                                    ${((d=i.labels)==null?void 0:d[h])??f}
                                </option>`})}
                    </select> `);else if(i.input=="text"||i.input=="number"||i.input=="color")n.push(st`<label for=${u}>${c}</label>
                    <div>
                        <input
                            id=${u}
                            type=${i.input}
                            placeholder=${i.placeholder??""}
                            autocomplete=${i.autocomplete??"off"}
                            .value=${s}
                            @focus=${f=>f.target.select()}
                            @input=${f=>{l(i.input=="number"?f.target.valueAsNumber:f.target.value)}}
                        />
                    </div>`);else throw new Error("Unsupported input type: "+i.input);i.description&&n.push(st`<div class="description">${i.description}</div>`)}return n}Mf("fasta",eR);class UR{constructor(t,n,r={}){ve(this,Sn);this.container=t,this.options=r,r.inputBindingContainer??(r.inputBindingContainer="default"),this._destructionCallbacks=[],this.spec=n,this.viewFactory=new PR,this.namedDataProviders=[],this.animator=new ZF(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=i=>i.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new tR(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:lR,refseqgene:rR,...r.tooltipHandlers??{}},this.viewRoot=void 0,this._loadingViews=new Map,this._inputBindingContainer=void 0,this._mouseDownCoords=void 0}registerNamedDataProvider(t){this.namedDataProviders.unshift(t)}getNamedDataFromProvider(t){for(const n of this.namedDataProviders){const r=n(t);if(r)return r}}updateNamedData(t,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(t);if(!r)throw new Error("No such named data source: "+t);r.dataSource.updateDynamicData(n),Dd(r.hosts),this.animator.requestRender()}broadcast(t,n){var i;const r={type:t,payload:n};this.viewRoot.visit(o=>o.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(t))==null||i.forEach(o=>o(r))}_updateLoadingIndicators(){const t=[],n=()=>[...this._loadingViews.values()].some(r=>r.status=="loading"||r.status=="error");for(const[r,i]of this._loadingViews){const o=r.coords;if(o){const a={left:`${o.x}px`,top:`${o.y}px`,width:`${o.width}px`,height:`${o.height}px`};t.push(st`<div style=${Pf(a)}>
                        <div class=${i.status}>
                            ${i.status=="error"?st`<span
                                      >Loading
                                      failed${i.detail?st`: ${i.detail}`:dt}</span
                                  >`:st`
                                      <img src="${d3}" alt="" />
                                      <span>Loading...</span>
                                  `}
                        </div>
                    </div>`)}}n()?this.loadingIndicatorsElement.style.display="block":setTimeout(()=>{n()||(this.loadingIndicatorsElement.style.display="none")},3e3),Ba(t,this.loadingIndicatorsElement)}destroy(){var n;const t=X(this,Sn,Ju);this.container.classList.remove("genome-spy"),t.classList.remove("loading");for(const[r,i]of this._keyboardListeners)for(const o of i)document.removeEventListener(r,o);for(this._destructionCallbacks.forEach(r=>r()),this._glHelper.finalize(),(n=this._inputBindingContainer)==null||n.remove();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new YF(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const t=this,n={dataFlow:new _x,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new KF(this._glHelper),get devicePixelRatio(){return t._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,setDataLoadingStatus:(c,l,u)=>{this._loadingViews.set(c,{status:l,detail:u}),this._updateLoadingIndicators()},addKeyboardListener:(c,l)=>{document.addEventListener(c,l);let u=this._keyboardListeners.get(c);u||(u=[],this._keyboardListeners.set(c,u)),u.push(l)},addBroadcastListener(c,l){const u=t._extraBroadcastListeners;let f=u.get(c);f||(f=new Set,u.set(c,f)),f.add(l)},removeBroadcastListener(c,l){var f;(f=t._extraBroadcastListeners.get(c))==null||f.delete(l)},isViewConfiguredVisible:t.viewVisibilityPredicate,isViewSpec:c=>t.viewFactory.isViewSpec(c),createView:function(c,l,u,f){return t.viewFactory.createView(c,n,l,u,f)},createOrImportView:async function(c,l,u,f,h){return t.viewFactory.createOrImportView(c,n,l,u,f,h)},highlightView:c=>{var l;if((l=this.container.querySelector(".view-highlight"))==null||l.remove(),c){const u=c.coords;if(u){const f=document.createElement("div");f.className="view-highlight",f.style.position="absolute",f.style.left=u.x+"px",f.style.top=u.y+"px",f.style.width=u.width+"px",f.style.height=u.height+"px",f.style.border="1px solid green",f.style.backgroundColor="rgba(0, 255, 0, 0.1)",f.style.pointerEvents="none",this.container.appendChild(f)}}}},r=this.spec;r.datasets&&this.registerNamedDataProvider(c=>r.datasets[c]),this.viewRoot=await n.createOrImportView(r,null,null,qx),X(this,Sn,Ju).style.flexGrow=this.viewRoot.getSize().height.grow>0?"1":"0",he(this,Sn,rE).call(this),zF(this.viewRoot),UF(this.viewRoot);const i=this.viewRoot.getDescendants();i.forEach(c=>c.configureViewOpacity()),this._glHelper.invalidateSize(),he(this,Sn,iE).call(this);const o=i.filter(c=>c instanceof an),a=RF(this.viewRoot,n.dataFlow);NF(a),this.broadcast("dataFlowBuilt",a),o.forEach(c=>c.mark.initializeEncoders());const s=Promise.all(o.map(c=>c.mark.initializeGraphics()));for(const c of o)a.addObserver(l=>{c.mark.initializeData();try{c.mark.updateGraphicsData()}catch(u){throw u.view=c,u}n.animator.requestRender()},c);await n.fontManager.waitUntilReady(),a.initialize(),await Promise.all(a.dataSources.map(c=>c.load())),Dd(this.viewRoot),this.broadcast("dataLoaded"),await s;for(const c of o)c.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(c=>ou(c,"size")),this._glHelper.invalidateSize()}async launch(){try{return he(this,Sn,oE).call(this),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),!0}catch(t){const n=`${t.view?`At "${t.view.getPathString()}": `:""}${t.toString()}`;return console.error(t.stack),GR(this.container,n),!1}finally{X(this,Sn,Ju).classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const t=this._glHelper.canvas;let n=performance.now();const r=i=>{var s,c;const o=performance.now(),a=o-n<200;if(i instanceof MouseEvent){const l=t.getBoundingClientRect(),u=new Yn(i.clientX-l.left-t.clientLeft,i.clientY-l.top-t.clientTop);i.type=="mousemove"&&!a&&(this.tooltip.handleMouseMove(i),this._tooltipUpdateRequested=!1,i.buttons==0&&!Ux()&&(this.renderPickingFramebuffer(),this._handlePicking(u.x,u.y)));const f=h=>{this.viewRoot.propagateInteractionEvent(new qF(u,h)),this._tooltipUpdateRequested||this.tooltip.clear()};if(i.type!="wheel"&&this._wheelInertia.cancel(),(i.type=="mousedown"||i.type=="mouseup")&&!Ux())this.renderPickingFramebuffer();else if(i.type=="wheel"){n=o,this._tooltipUpdateRequested=!1;const h=i;if(Math.abs(h.deltaX)>Math.abs(h.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const d=nR(h);this._wheelInertia.setMomentum(h.deltaY*(h.deltaMode?80:1),p=>{const b=new WheelEvent("wheel",{...d,deltaMode:0,deltaX:0,deltaY:p});f(b)}),h.preventDefault();return}}if(i.type=="click"){const h=this._currentHover?{type:i.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(d=>d.name).reverse(),datum:this._currentHover.datum}:{type:i.type,viewPath:null,datum:null};(s=this._eventListeners.get("click"))==null||s.forEach(d=>d(h))}(i.type!="click"||((c=this._mouseDownCoords)==null?void 0:c.subtract(Yn.fromMouseEvent(i)).length)<3)&&f(i)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(i=>t.addEventListener(i,r)),t.addEventListener("mousedown",i=>{this._mouseDownCoords=Yn.fromMouseEvent(i),document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),t.addEventListener("dragstart",i=>i.stopPropagation())}_handlePicking(t,n){var o;const r=this._glHelper.readPickingPixel(t,n),i=r[0]|r[1]<<8|r[2]<<16|r[3]<<24;if(i==0){this._currentHover=null;return}if(i!==((o=this._currentHover)==null?void 0:o.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(a=>{if(a instanceof an){if(a.mark.isPickingParticipant()&&[...a.facetCoords.values()].some(s=>s.containsPoint(t,n))){const s=a.getCollector().findDatumByUniqueId(i);s&&(this._currentHover={mark:a.mark,datum:s,uniqueId:i})}if(this._currentHover)return Ns}}),this._currentHover){const a=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async s=>{if(!a.isPickingParticipant())return;const c=a.properties.tooltip;if(c!==null){const l=(c==null?void 0:c.handler)??"default",u=this.tooltipHandlers[l];if(!u)throw new Error("No such tooltip handler: "+l);return u(s,a,c==null?void 0:c.params)}})}}updateTooltip(t,n){if(!this._tooltipUpdateRequested||!t)this.tooltip.updateWithDatum(t,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const t=this.viewRoot;if(!t)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new Ix({picking:!1},this._glHelper),this._pickingContext=new Ix({picking:!0},this._glHelper),t.render(new VF(this._renderingContext,this._pickingContext),fr.create(0,0,n.width,n.height)),this._updateLoadingIndicators(),this.broadcast("layoutComputed")}renderAll(){var t;(t=this._renderingContext)==null||t.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const t=[];return this.viewRoot.visit(n=>{n instanceof an&&n.getDataAccessor("search")&&t.push(n)}),t}getNamedScaleResolutions(){const t=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&t.set(r.name,r)}),t}}Sn=new WeakSet,Ju=function(){return this.container.querySelector(".canvas-wrapper")},rE=function(){const t=[];this.viewRoot.visit(r=>{const i=r.paramMediator;t.push(...zR(i))});const n=this.options.inputBindingContainer;if(!(!n||n=="none"||!t.length)){if(this._inputBindingContainer=du("div",{className:"gs-input-bindings"}),n=="default")this.container.appendChild(this._inputBindingContainer);else if(n instanceof HTMLElement)n.appendChild(this._inputBindingContainer);else throw new Error("Invalid inputBindingContainer");t.length&&Ba(st`<div class="gs-input-binding">${t}</div>`,this._inputBindingContainer)}},iE=function(){const t=this.viewRoot.paramMediator.allocateSetter("devicePixelRatio",window.devicePixelRatio),n=()=>{this._glHelper.invalidateSize(),t(window.devicePixelRatio),this.computeLayout(),this.renderAll()};if(this.viewRoot.getSize().isGrowing()){const o=new ResizeObserver(n);o.observe(this.container),this._destructionCallbacks.push(()=>o.disconnect())}let r=null;const i=()=>{r!=null&&(r(),n());const o=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);o.addEventListener("change",i),r=()=>{o.removeEventListener("change",i)}};i(),r&&this._destructionCallbacks.push(r)},oE=function(){this.container.classList.add("genome-spy");const t=document.createElement("style");t.innerHTML=p3,this.container.appendChild(t);const n=du("div",{class:"canvas-wrapper"});this.container.appendChild(n),n.classList.add("loading"),this._glHelper=new $6(n,()=>this.viewRoot?HF(this.viewRoot):{width:void 0,height:void 0},this.spec.background,{powerPreference:this.options.powerPreference??"default"}),this.loadingMessageElement=du("div",{class:"loading-message",innerHTML:'<div class="message">Loading<span class="ellipsis">...</span></div>'}),n.appendChild(this.loadingMessageElement),this.loadingIndicatorsElement=du("div",{class:"loading-indicators"}),n.appendChild(this.loadingIndicatorsElement),this.tooltip=new m3(this.container),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})};function GR(e,t){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=t,n.appendChild(r),e.appendChild(n)}function du(e,t){const n=document.createElement(e);for(const[r,i]of Object.entries(t))["innerHTML","innerText","className"].includes(r)&&(n[r]=i),n.setAttribute(r,i);return n}async function HR(e,t,n={}){let r;if(it(e)){if(r=document.querySelector(e),!r)throw new Error(`No such element: ${e}`)}else if(e instanceof HTMLElement)r=e;else throw new Error(`Invalid element: ${e}`);let i;try{const o=Lt(t)?t:await qR(t);if(o.baseUrl??(o.baseUrl=""),o.width??(o.width="container"),o.padding??(o.padding=10),r==document.body){const a=document.createElement("div");a.style.position="fixed",a.style.inset="0",a.style.overflow="hidden",r.appendChild(a),r=a}i=new UR(r,o,n),VR(i,n),await i.launch()}catch(o){r.innerText=o.toString(),console.error(o)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(o,a){const s=i._eventListeners;let c=s.get(o);c||(c=new Set,s.set(o,c)),c.add(a)},removeEventListener(o,a){var c;(c=i._eventListeners.get(o))==null||c.delete(a)},getScaleResolutionByName(o){return i.getNamedScaleResolutions().get(o)},updateNamedData:i.updateNamedData.bind(i)}}function VR(e,t){t.namedDataProvider&&e.registerNamedDataProvider(t.namedDataProvider)}async function qR(e){let t;try{const n=await fetch(e);if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);t=await n.json()}catch(n){throw new Error(`Could not load or parse configuration: ${e}, reason: ${n.message}`)}if(!t.baseUrl){const n=e.match(/^[^?#]*\//);t.baseUrl=n&&n[0]||"./"}return t}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jR=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Hs=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),Hs(i,t);return!0},pu=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},Zx=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),YR(t)}};function WR(e){this._$AN!==void 0?(pu(this),this._$AM=e,Zx(this)):this._$AM=e}function ZR(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let o=n;o<r.length;o++)Hs(r[o],!1),pu(r[o]);else r!=null&&(Hs(r,!1),pu(r));else Hs(this,e)}const YR=e=>{e.type==om.CHILD&&(e._$AP??(e._$AP=ZR),e._$AQ??(e._$AQ=WR))};class QR extends sm{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),Zx(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Hs(this,t),pu(this))}setValue(t){if(jR(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const XR=()=>new KR;class KR{}const Vd=new WeakMap,JR=am(class extends QR{render(e){return dt}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),dt}rt(e){if(this.isConnected||(e=void 0),typeof this.Y=="function"){const t=this.ht??globalThis;let n=Vd.get(t);n===void 0&&(n=new WeakMap,Vd.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=Vd.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function Yx(){const e=document.querySelector("meta[name='base_url']").getAttribute("content");return e||console.error('No <meta name="base_url" ...> found!'),e}async function $R(e,t){const r=`${Yx()}/data/`;try{t.baseUrl=t.baseUrl||r,await HR(e,t,{bare:!0})}catch(i){const o=document.createElement("pre");o.innerText=i.toString(),e.appendChild(o)}}class Qx extends Fa{static get styles(){return BE`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=XR()}render(){return st`
            <link rel="stylesheet" href=${Yx()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${Pf({height:this.height+"px"})}
                ${JR(this.embedRef)}
            ></div>
            ${this.specHidden?st`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${t=>{this.specHidden=!1,t.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:dt}

            <div
                class="embed-spec"
                style=${Pf({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const t=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(t){const r=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){const a=o.target;$R(a,JSON.parse(t)),r.unobserve(a)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",Qx);var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var qd={},Vs={},Xx;function t5(){if(Xx)return Vs;Xx=1,Vs.byteLength=s,Vs.toByteArray=l,Vs.fromByteArray=h;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=d.indexOf("=");b===-1&&(b=p);var v=b===p?0:4-b%4;return[b,v]}function s(d){var p=a(d),b=p[0],v=p[1];return(b+v)*3/4-v}function c(d,p,b){return(p+b)*3/4-b}function l(d){var p,b=a(d),v=b[0],y=b[1],A=new n(c(d,v,y)),_=0,E=y>0?v-4:v,C;for(C=0;C<E;C+=4)p=t[d.charCodeAt(C)]<<18|t[d.charCodeAt(C+1)]<<12|t[d.charCodeAt(C+2)]<<6|t[d.charCodeAt(C+3)],A[_++]=p>>16&255,A[_++]=p>>8&255,A[_++]=p&255;return y===2&&(p=t[d.charCodeAt(C)]<<2|t[d.charCodeAt(C+1)]>>4,A[_++]=p&255),y===1&&(p=t[d.charCodeAt(C)]<<10|t[d.charCodeAt(C+1)]<<4|t[d.charCodeAt(C+2)]>>2,A[_++]=p>>8&255,A[_++]=p&255),A}function u(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function f(d,p,b){for(var v,y=[],A=p;A<b;A+=3)v=(d[A]<<16&16711680)+(d[A+1]<<8&65280)+(d[A+2]&255),y.push(u(v));return y.join("")}function h(d){for(var p,b=d.length,v=b%3,y=[],A=16383,_=0,E=b-v;_<E;_+=A)y.push(f(d,_,_+A>E?E:_+A));return v===1?(p=d[b-1],y.push(e[p>>2]+e[p<<4&63]+"==")):v===2&&(p=(d[b-2]<<8)+d[b-1],y.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),y.join("")}return Vs}var mu={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Kx;function n5(){return Kx||(Kx=1,mu.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=o*256+e[t+f],f+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=a*256+e[t+f],f+=h,u-=8);if(o===0)o=1-l;else{if(o===c)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-l}return(d?-1:1)*a*Math.pow(2,o-r)},mu.write=function(e,t,n,r,i,o){var a,s,c,l=o*8-i-1,u=(1<<l)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+f>=1?t+=h/c:t+=h*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a=a+f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=s&255,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=a&255,d+=p,a/=256,l-=8);e[n+d-p]|=b*128}),mu}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Jx;function qs(){return Jx||(Jx=1,function(e){const t=t5(),n=n5(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const k=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(k,m),k.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const m=new Uint8Array(k);return Object.setPrototypeOf(m,s.prototype),m}function s(k,m,x){if(typeof k=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(k)}return c(k,m,x)}s.poolSize=8192;function c(k,m,x){if(typeof k=="string")return h(k,m);if(ArrayBuffer.isView(k))return p(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(tt(k,ArrayBuffer)||k&&tt(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tt(k,SharedArrayBuffer)||k&&tt(k.buffer,SharedArrayBuffer)))return b(k,m,x);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=k.valueOf&&k.valueOf();if(O!=null&&O!==k)return s.from(O,m,x);const w=v(k);if(w)return w;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return s.from(k[Symbol.toPrimitive]("string"),m,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}s.from=function(k,m,x){return c(k,m,x)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function u(k,m,x){return l(k),k<=0?a(k):m!==void 0?typeof x=="string"?a(k).fill(m,x):a(k).fill(m):a(k)}s.alloc=function(k,m,x){return u(k,m,x)};function f(k){return l(k),a(k<0?0:y(k)|0)}s.allocUnsafe=function(k){return f(k)},s.allocUnsafeSlow=function(k){return f(k)};function h(k,m){if((typeof m!="string"||m==="")&&(m="utf8"),!s.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const x=_(k,m)|0;let O=a(x);const w=O.write(k,m);return w!==x&&(O=O.slice(0,w)),O}function d(k){const m=k.length<0?0:y(k.length)|0,x=a(m);for(let O=0;O<m;O+=1)x[O]=k[O]&255;return x}function p(k){if(tt(k,Uint8Array)){const m=new Uint8Array(k);return b(m.buffer,m.byteOffset,m.byteLength)}return d(k)}function b(k,m,x){if(m<0||k.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<m+(x||0))throw new RangeError('"length" is outside of buffer bounds');let O;return m===void 0&&x===void 0?O=new Uint8Array(k):x===void 0?O=new Uint8Array(k,m):O=new Uint8Array(k,m,x),Object.setPrototypeOf(O,s.prototype),O}function v(k){if(s.isBuffer(k)){const m=y(k.length)|0,x=a(m);return x.length===0||k.copy(x,0,0,m),x}if(k.length!==void 0)return typeof k.length!="number"||Pt(k.length)?a(0):d(k);if(k.type==="Buffer"&&Array.isArray(k.data))return d(k.data)}function y(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function A(k){return+k!=k&&(k=0),s.alloc(+k)}s.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==s.prototype},s.compare=function(m,x){if(tt(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),tt(x,Uint8Array)&&(x=s.from(x,x.offset,x.byteLength)),!s.isBuffer(m)||!s.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===x)return 0;let O=m.length,w=x.length;for(let z=0,V=Math.min(O,w);z<V;++z)if(m[z]!==x[z]){O=m[z],w=x[z];break}return O<w?-1:w<O?1:0},s.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(m,x){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return s.alloc(0);let O;if(x===void 0)for(x=0,O=0;O<m.length;++O)x+=m[O].length;const w=s.allocUnsafe(x);let z=0;for(O=0;O<m.length;++O){let V=m[O];if(tt(V,Uint8Array))z+V.length>w.length?(s.isBuffer(V)||(V=s.from(V)),V.copy(w,z)):Uint8Array.prototype.set.call(w,V,z);else if(s.isBuffer(V))V.copy(w,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=V.length}return w};function _(k,m){if(s.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||tt(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const x=k.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&x===0)return 0;let w=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return we(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return nn(k).length;default:if(w)return O?-1:we(k).length;m=(""+m).toLowerCase(),w=!0}}s.byteLength=_;function E(k,m,x){let O=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,m>>>=0,x<=m))return"";for(k||(k="utf8");;)switch(k){case"hex":return pe(this,m,x);case"utf8":case"utf-8":return se(this,m,x);case"ascii":return le(this,m,x);case"latin1":case"binary":return Ee(this,m,x);case"base64":return Q(this,m,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,m,x);default:if(O)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),O=!0}}s.prototype._isBuffer=!0;function C(k,m,x){const O=k[m];k[m]=k[x],k[x]=O}s.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<m;x+=2)C(this,x,x+1);return this},s.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<m;x+=4)C(this,x,x+3),C(this,x+1,x+2);return this},s.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<m;x+=8)C(this,x,x+7),C(this,x+1,x+6),C(this,x+2,x+5),C(this,x+3,x+4);return this},s.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?se(this,0,m):E.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(m){if(!s.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:s.compare(this,m)===0},s.prototype.inspect=function(){let m="";const x=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(m+=" ... "),"<Buffer "+m+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(m,x,O,w,z){if(tt(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(x===void 0&&(x=0),O===void 0&&(O=m?m.length:0),w===void 0&&(w=0),z===void 0&&(z=this.length),x<0||O>m.length||w<0||z>this.length)throw new RangeError("out of range index");if(w>=z&&x>=O)return 0;if(w>=z)return-1;if(x>=O)return 1;if(x>>>=0,O>>>=0,w>>>=0,z>>>=0,this===m)return 0;let V=z-w,ae=O-x;const G=Math.min(V,ae),Y=this.slice(w,z),T=m.slice(x,O);for(let ne=0;ne<G;++ne)if(Y[ne]!==T[ne]){V=Y[ne],ae=T[ne];break}return V<ae?-1:ae<V?1:0};function F(k,m,x,O,w){if(k.length===0)return-1;if(typeof x=="string"?(O=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Pt(x)&&(x=w?0:k.length-1),x<0&&(x=k.length+x),x>=k.length){if(w)return-1;x=k.length-1}else if(x<0)if(w)x=0;else return-1;if(typeof m=="string"&&(m=s.from(m,O)),s.isBuffer(m))return m.length===0?-1:I(k,m,x,O,w);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?w?Uint8Array.prototype.indexOf.call(k,m,x):Uint8Array.prototype.lastIndexOf.call(k,m,x):I(k,[m],x,O,w);throw new TypeError("val must be string, number or Buffer")}function I(k,m,x,O,w){let z=1,V=k.length,ae=m.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(k.length<2||m.length<2)return-1;z=2,V/=2,ae/=2,x/=2}function G(T,ne){return z===1?T[ne]:T.readUInt16BE(ne*z)}let Y;if(w){let T=-1;for(Y=x;Y<V;Y++)if(G(k,Y)===G(m,T===-1?0:Y-T)){if(T===-1&&(T=Y),Y-T+1===ae)return T*z}else T!==-1&&(Y-=Y-T),T=-1}else for(x+ae>V&&(x=V-ae),Y=x;Y>=0;Y--){let T=!0;for(let ne=0;ne<ae;ne++)if(G(k,Y+ne)!==G(m,ne)){T=!1;break}if(T)return Y}return-1}s.prototype.includes=function(m,x,O){return this.indexOf(m,x,O)!==-1},s.prototype.indexOf=function(m,x,O){return F(this,m,x,O,!0)},s.prototype.lastIndexOf=function(m,x,O){return F(this,m,x,O,!1)};function N(k,m,x,O){x=Number(x)||0;const w=k.length-x;O?(O=Number(O),O>w&&(O=w)):O=w;const z=m.length;O>z/2&&(O=z/2);let V;for(V=0;V<O;++V){const ae=parseInt(m.substr(V*2,2),16);if(Pt(ae))return V;k[x+V]=ae}return V}function R(k,m,x,O){return It(we(m,k.length-x),k,x,O)}function P(k,m,x,O){return It(Be(m),k,x,O)}function S(k,m,x,O){return It(nn(m),k,x,O)}function Z(k,m,x,O){return It(mt(m,k.length-x),k,x,O)}s.prototype.write=function(m,x,O,w){if(x===void 0)w="utf8",O=this.length,x=0;else if(O===void 0&&typeof x=="string")w=x,O=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(O)?(O=O>>>0,w===void 0&&(w="utf8")):(w=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-x;if((O===void 0||O>z)&&(O=z),m.length>0&&(O<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let V=!1;for(;;)switch(w){case"hex":return N(this,m,x,O);case"utf8":case"utf-8":return R(this,m,x,O);case"ascii":case"latin1":case"binary":return P(this,m,x,O);case"base64":return S(this,m,x,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,m,x,O);default:if(V)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),V=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(k,m,x){return m===0&&x===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(m,x))}function se(k,m,x){x=Math.min(k.length,x);const O=[];let w=m;for(;w<x;){const z=k[w];let V=null,ae=z>239?4:z>223?3:z>191?2:1;if(w+ae<=x){let G,Y,T,ne;switch(ae){case 1:z<128&&(V=z);break;case 2:G=k[w+1],(G&192)===128&&(ne=(z&31)<<6|G&63,ne>127&&(V=ne));break;case 3:G=k[w+1],Y=k[w+2],(G&192)===128&&(Y&192)===128&&(ne=(z&15)<<12|(G&63)<<6|Y&63,ne>2047&&(ne<55296||ne>57343)&&(V=ne));break;case 4:G=k[w+1],Y=k[w+2],T=k[w+3],(G&192)===128&&(Y&192)===128&&(T&192)===128&&(ne=(z&15)<<18|(G&63)<<12|(Y&63)<<6|T&63,ne>65535&&ne<1114112&&(V=ne))}}V===null?(V=65533,ae=1):V>65535&&(V-=65536,O.push(V>>>10&1023|55296),V=56320|V&1023),O.push(V),w+=ae}return fe(O)}const ce=4096;function fe(k){const m=k.length;if(m<=ce)return String.fromCharCode.apply(String,k);let x="",O=0;for(;O<m;)x+=String.fromCharCode.apply(String,k.slice(O,O+=ce));return x}function le(k,m,x){let O="";x=Math.min(k.length,x);for(let w=m;w<x;++w)O+=String.fromCharCode(k[w]&127);return O}function Ee(k,m,x){let O="";x=Math.min(k.length,x);for(let w=m;w<x;++w)O+=String.fromCharCode(k[w]);return O}function pe(k,m,x){const O=k.length;(!m||m<0)&&(m=0),(!x||x<0||x>O)&&(x=O);let w="";for(let z=m;z<x;++z)w+=Ht[k[z]];return w}function _e(k,m,x){const O=k.slice(m,x);let w="";for(let z=0;z<O.length-1;z+=2)w+=String.fromCharCode(O[z]+O[z+1]*256);return w}s.prototype.slice=function(m,x){const O=this.length;m=~~m,x=x===void 0?O:~~x,m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),x<0?(x+=O,x<0&&(x=0)):x>O&&(x=O),x<m&&(x=m);const w=this.subarray(m,x);return Object.setPrototypeOf(w,s.prototype),w};function Ce(k,m,x){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+m>x)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(m,x,O){m=m>>>0,x=x>>>0,O||Ce(m,x,this.length);let w=this[m],z=1,V=0;for(;++V<x&&(z*=256);)w+=this[m+V]*z;return w},s.prototype.readUintBE=s.prototype.readUIntBE=function(m,x,O){m=m>>>0,x=x>>>0,O||Ce(m,x,this.length);let w=this[m+--x],z=1;for(;x>0&&(z*=256);)w+=this[m+--x]*z;return w},s.prototype.readUint8=s.prototype.readUInt8=function(m,x){return m=m>>>0,x||Ce(m,1,this.length),this[m]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(m,x){return m=m>>>0,x||Ce(m,2,this.length),this[m]|this[m+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(m,x){return m=m>>>0,x||Ce(m,2,this.length),this[m]<<8|this[m+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},s.prototype.readBigUInt64LE=nt(function(m){m=m>>>0,ee(m,"offset");const x=this[m],O=this[m+7];(x===void 0||O===void 0)&&oe(m,this.length-8);const w=x+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,z=this[++m]+this[++m]*2**8+this[++m]*2**16+O*2**24;return BigInt(w)+(BigInt(z)<<BigInt(32))}),s.prototype.readBigUInt64BE=nt(function(m){m=m>>>0,ee(m,"offset");const x=this[m],O=this[m+7];(x===void 0||O===void 0)&&oe(m,this.length-8);const w=x*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],z=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O;return(BigInt(w)<<BigInt(32))+BigInt(z)}),s.prototype.readIntLE=function(m,x,O){m=m>>>0,x=x>>>0,O||Ce(m,x,this.length);let w=this[m],z=1,V=0;for(;++V<x&&(z*=256);)w+=this[m+V]*z;return z*=128,w>=z&&(w-=Math.pow(2,8*x)),w},s.prototype.readIntBE=function(m,x,O){m=m>>>0,x=x>>>0,O||Ce(m,x,this.length);let w=x,z=1,V=this[m+--w];for(;w>0&&(z*=256);)V+=this[m+--w]*z;return z*=128,V>=z&&(V-=Math.pow(2,8*x)),V},s.prototype.readInt8=function(m,x){return m=m>>>0,x||Ce(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},s.prototype.readInt16LE=function(m,x){m=m>>>0,x||Ce(m,2,this.length);const O=this[m]|this[m+1]<<8;return O&32768?O|4294901760:O},s.prototype.readInt16BE=function(m,x){m=m>>>0,x||Ce(m,2,this.length);const O=this[m+1]|this[m]<<8;return O&32768?O|4294901760:O},s.prototype.readInt32LE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},s.prototype.readInt32BE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},s.prototype.readBigInt64LE=nt(function(m){m=m>>>0,ee(m,"offset");const x=this[m],O=this[m+7];(x===void 0||O===void 0)&&oe(m,this.length-8);const w=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(O<<24);return(BigInt(w)<<BigInt(32))+BigInt(x+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),s.prototype.readBigInt64BE=nt(function(m){m=m>>>0,ee(m,"offset");const x=this[m],O=this[m+7];(x===void 0||O===void 0)&&oe(m,this.length-8);const w=(x<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(w)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O)}),s.prototype.readFloatLE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),n.read(this,m,!0,23,4)},s.prototype.readFloatBE=function(m,x){return m=m>>>0,x||Ce(m,4,this.length),n.read(this,m,!1,23,4)},s.prototype.readDoubleLE=function(m,x){return m=m>>>0,x||Ce(m,8,this.length),n.read(this,m,!0,52,8)},s.prototype.readDoubleBE=function(m,x){return m=m>>>0,x||Ce(m,8,this.length),n.read(this,m,!1,52,8)};function xe(k,m,x,O,w,z){if(!s.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>w||m<z)throw new RangeError('"value" argument is out of bounds');if(x+O>k.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(m,x,O,w){if(m=+m,x=x>>>0,O=O>>>0,!w){const ae=Math.pow(2,8*O)-1;xe(this,m,x,O,ae,0)}let z=1,V=0;for(this[x]=m&255;++V<O&&(z*=256);)this[x+V]=m/z&255;return x+O},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(m,x,O,w){if(m=+m,x=x>>>0,O=O>>>0,!w){const ae=Math.pow(2,8*O)-1;xe(this,m,x,O,ae,0)}let z=O-1,V=1;for(this[x+z]=m&255;--z>=0&&(V*=256);)this[x+z]=m/V&255;return x+O},s.prototype.writeUint8=s.prototype.writeUInt8=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,1,255,0),this[x]=m&255,x+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,2,65535,0),this[x]=m&255,this[x+1]=m>>>8,x+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,2,65535,0),this[x]=m>>>8,this[x+1]=m&255,x+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,4,4294967295,0),this[x+3]=m>>>24,this[x+2]=m>>>16,this[x+1]=m>>>8,this[x]=m&255,x+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,4,4294967295,0),this[x]=m>>>24,this[x+1]=m>>>16,this[x+2]=m>>>8,this[x+3]=m&255,x+4};function Te(k,m,x,O,w){D(m,O,w,k,x,7);let z=Number(m&BigInt(4294967295));k[x++]=z,z=z>>8,k[x++]=z,z=z>>8,k[x++]=z,z=z>>8,k[x++]=z;let V=Number(m>>BigInt(32)&BigInt(4294967295));return k[x++]=V,V=V>>8,k[x++]=V,V=V>>8,k[x++]=V,V=V>>8,k[x++]=V,x}function He(k,m,x,O,w){D(m,O,w,k,x,7);let z=Number(m&BigInt(4294967295));k[x+7]=z,z=z>>8,k[x+6]=z,z=z>>8,k[x+5]=z,z=z>>8,k[x+4]=z;let V=Number(m>>BigInt(32)&BigInt(4294967295));return k[x+3]=V,V=V>>8,k[x+2]=V,V=V>>8,k[x+1]=V,V=V>>8,k[x]=V,x+8}s.prototype.writeBigUInt64LE=nt(function(m,x=0){return Te(this,m,x,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=nt(function(m,x=0){return He(this,m,x,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(m,x,O,w){if(m=+m,x=x>>>0,!w){const G=Math.pow(2,8*O-1);xe(this,m,x,O,G-1,-G)}let z=0,V=1,ae=0;for(this[x]=m&255;++z<O&&(V*=256);)m<0&&ae===0&&this[x+z-1]!==0&&(ae=1),this[x+z]=(m/V>>0)-ae&255;return x+O},s.prototype.writeIntBE=function(m,x,O,w){if(m=+m,x=x>>>0,!w){const G=Math.pow(2,8*O-1);xe(this,m,x,O,G-1,-G)}let z=O-1,V=1,ae=0;for(this[x+z]=m&255;--z>=0&&(V*=256);)m<0&&ae===0&&this[x+z+1]!==0&&(ae=1),this[x+z]=(m/V>>0)-ae&255;return x+O},s.prototype.writeInt8=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,1,127,-128),m<0&&(m=255+m+1),this[x]=m&255,x+1},s.prototype.writeInt16LE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,2,32767,-32768),this[x]=m&255,this[x+1]=m>>>8,x+2},s.prototype.writeInt16BE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,2,32767,-32768),this[x]=m>>>8,this[x+1]=m&255,x+2},s.prototype.writeInt32LE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,4,2147483647,-2147483648),this[x]=m&255,this[x+1]=m>>>8,this[x+2]=m>>>16,this[x+3]=m>>>24,x+4},s.prototype.writeInt32BE=function(m,x,O){return m=+m,x=x>>>0,O||xe(this,m,x,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[x]=m>>>24,this[x+1]=m>>>16,this[x+2]=m>>>8,this[x+3]=m&255,x+4},s.prototype.writeBigInt64LE=nt(function(m,x=0){return Te(this,m,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=nt(function(m,x=0){return He(this,m,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(k,m,x,O,w,z){if(x+O>k.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function j(k,m,x,O,w){return m=+m,x=x>>>0,w||Le(k,m,x,4),n.write(k,m,x,O,23,4),x+4}s.prototype.writeFloatLE=function(m,x,O){return j(this,m,x,!0,O)},s.prototype.writeFloatBE=function(m,x,O){return j(this,m,x,!1,O)};function q(k,m,x,O,w){return m=+m,x=x>>>0,w||Le(k,m,x,8),n.write(k,m,x,O,52,8),x+8}s.prototype.writeDoubleLE=function(m,x,O){return q(this,m,x,!0,O)},s.prototype.writeDoubleBE=function(m,x,O){return q(this,m,x,!1,O)},s.prototype.copy=function(m,x,O,w){if(!s.isBuffer(m))throw new TypeError("argument should be a Buffer");if(O||(O=0),!w&&w!==0&&(w=this.length),x>=m.length&&(x=m.length),x||(x=0),w>0&&w<O&&(w=O),w===O||m.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),m.length-x<w-O&&(w=m.length-x+O);const z=w-O;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,O,w):Uint8Array.prototype.set.call(m,this.subarray(O,w),x),z},s.prototype.fill=function(m,x,O,w){if(typeof m=="string"){if(typeof x=="string"?(w=x,x=0,O=this.length):typeof O=="string"&&(w=O,O=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!s.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(m.length===1){const V=m.charCodeAt(0);(w==="utf8"&&V<128||w==="latin1")&&(m=V)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(x<0||this.length<x||this.length<O)throw new RangeError("Out of range index");if(O<=x)return this;x=x>>>0,O=O===void 0?this.length:O>>>0,m||(m=0);let z;if(typeof m=="number")for(z=x;z<O;++z)this[z]=m;else{const V=s.isBuffer(m)?m:s.from(m,w),ae=V.length;if(ae===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(z=0;z<O-x;++z)this[z+x]=V[z%ae]}return this};const re={};function $(k,m,x){re[k]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(k,m){return`The "${k}" argument must be of type number. Received type ${typeof m}`},TypeError),$("ERR_OUT_OF_RANGE",function(k,m,x){let O=`The value of "${k}" is out of range.`,w=x;return Number.isInteger(x)&&Math.abs(x)>2**32?w=ue(String(x)):typeof x=="bigint"&&(w=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(w=ue(w)),w+="n"),O+=` It must be ${m}. Received ${w}`,O},RangeError);function ue(k){let m="",x=k.length;const O=k[0]==="-"?1:0;for(;x>=O+4;x-=3)m=`_${k.slice(x-3,x)}${m}`;return`${k.slice(0,x)}${m}`}function L(k,m,x){ee(m,"offset"),(k[m]===void 0||k[m+x]===void 0)&&oe(m,k.length-(x+1))}function D(k,m,x,O,w,z){if(k>x||k<m){const V=typeof m=="bigint"?"n":"";let ae;throw m===0||m===BigInt(0)?ae=`>= 0${V} and < 2${V} ** ${(z+1)*8}${V}`:ae=`>= -(2${V} ** ${(z+1)*8-1}${V}) and < 2 ** ${(z+1)*8-1}${V}`,new re.ERR_OUT_OF_RANGE("value",ae,k)}L(O,w,z)}function ee(k,m){if(typeof k!="number")throw new re.ERR_INVALID_ARG_TYPE(m,"number",k)}function oe(k,m,x){throw Math.floor(k)!==k?(ee(k,x),new re.ERR_OUT_OF_RANGE("offset","an integer",k)):m<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,k)}const De=/[^+/0-9A-Za-z-_]/g;function ye(k){if(k=k.split("=")[0],k=k.trim().replace(De,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function we(k,m){m=m||1/0;let x;const O=k.length;let w=null;const z=[];for(let V=0;V<O;++V){if(x=k.charCodeAt(V),x>55295&&x<57344){if(!w){if(x>56319){(m-=3)>-1&&z.push(239,191,189);continue}else if(V+1===O){(m-=3)>-1&&z.push(239,191,189);continue}w=x;continue}if(x<56320){(m-=3)>-1&&z.push(239,191,189),w=x;continue}x=(w-55296<<10|x-56320)+65536}else w&&(m-=3)>-1&&z.push(239,191,189);if(w=null,x<128){if((m-=1)<0)break;z.push(x)}else if(x<2048){if((m-=2)<0)break;z.push(x>>6|192,x&63|128)}else if(x<65536){if((m-=3)<0)break;z.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((m-=4)<0)break;z.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return z}function Be(k){const m=[];for(let x=0;x<k.length;++x)m.push(k.charCodeAt(x)&255);return m}function mt(k,m){let x,O,w;const z=[];for(let V=0;V<k.length&&!((m-=2)<0);++V)x=k.charCodeAt(V),O=x>>8,w=x%256,z.push(w),z.push(O);return z}function nn(k){return t.toByteArray(ye(k))}function It(k,m,x,O){let w;for(w=0;w<O&&!(w+x>=m.length||w>=k.length);++w)m[w+x]=k[w];return w}function tt(k,m){return k instanceof m||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===m.name}function Pt(k){return k!==k}const Ht=function(){const k="0123456789abcdef",m=new Array(256);for(let x=0;x<16;++x){const O=x*16;for(let w=0;w<16;++w)m[O+w]=k[x]+k[w]}return m}();function nt(k){return typeof BigInt>"u"?Vt:k}function Vt(){throw new Error("BigInt not supported")}}(qd)),qd}var $e=qs();const r5=Ye({__proto__:null,default:gu($e)},[$e]),Tt={},i5=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));function $x(e){return(typeof e=="object"&&e!==null&&"message"in e?e.message:`${e}`).replace(/\.$/,"")}class Rn{async getBufferFromResponse(t){const n=await t.arrayBuffer();return $e.Buffer.from(n)}constructor(t,n={}){this.baseOverrides={},this.url=t;const r=n.fetch||globalThis.fetch.bind(globalThis);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(t,n){let r;try{r=await this.fetchImplementation(t,n)}catch(i){if(`${i}`.includes("Failed to fetch")){console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`);try{r=await this.fetchImplementation(t,{...n,cache:"reload"})}catch(o){throw new Error(`${$x(o)} fetching ${t}`,{cause:o})}}else throw new Error(`${$x(i)} fetching ${t}`,{cause:i})}return r}async read(t,n=0,r,i=0,o={}){const{headers:a={},signal:s,overrides:c={}}=o;r<1/0?a.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(a.range=`bytes=${i}-`);const l=await this.fetch(this.url,{...this.baseOverrides,...c,headers:{...a,...c.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${this.url}`);if(l.status===200&&i===0||l.status===206){const u=await this.getBufferFromResponse(l),f=u.copy(t,n,0,Math.min(r,u.length)),h=l.headers.get("content-range"),d=/\/(\d+)$/.exec(h||"");return d!=null&&d[1]&&(this._stat={size:parseInt(d[1],10)}),{bytesRead:f,buffer:t}}throw l.status===200?new Error(`${this.url} fetch returned status 200, expected 206`):new Error(`HTTP ${l.status} fetching ${this.url}`)}async readFile(t={}){let n,r;typeof t=="string"?(n=t,r={}):(n=t.encoding,r=t,delete r.encoding);const{headers:i={},signal:o,overrides:a={}}=r,s=await this.fetch(this.url,{headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a});if(s.status!==200)throw new Error(`HTTP ${s.status} fetching ${this.url}`);if(n==="utf8")return s.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){const t=$e.Buffer.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function ew(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result!="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)})}function o5(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result=="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsText(e)})}class a5{constructor(t){this.blob=t,this.size=t.size}async read(t,n=0,r,i=0){if(!r)return{bytesRead:0,buffer:t};const o=i,a=o+r,s=await ew(this.blob.slice(o,a)),c=$e.Buffer.from(s);return{bytesRead:c.copy(t,n),buffer:c}}async readFile(t){const n=typeof t=="string"?t:t==null?void 0:t.encoding;if(n==="utf8")return o5(this.blob);if(n)throw new Error(`unsupported encoding: ${n}`);const r=await ew(this.blob);return $e.Buffer.from(r)}async stat(){return{size:this.size}}async close(){}}function tw(e,t={}){return new Rn(e,t)}function s5(e,t,n,r={}){if(n!==void 0)return n;if(e!==void 0)return tw(e,r);if(t!==void 0)return new Tt(t,r);throw new Error("no url, path, or filehandle provided, cannot open")}const js=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:a5,LocalFile:Tt,RemoteFile:Rn,fromUrl:tw,open:s5},Symbol.toStringTag,{value:"Module"}));var jd={},nw;function Yr(){return nw||(nw=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,a){return Object.prototype.hasOwnProperty.call(o,a)}e.assign=function(o){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var s=a.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)n(s,c)&&(o[c]=s[c])}}return o},e.shrinkBuf=function(o,a){return o.length===a?o:o.subarray?o.subarray(0,a):(o.length=a,o)};var r={arraySet:function(o,a,s,c,l){if(a.subarray&&o.subarray){o.set(a.subarray(s,s+c),l);return}for(var u=0;u<c;u++)o[l+u]=a[s+u]},flattenChunks:function(o){var a,s,c,l,u,f;for(c=0,a=0,s=o.length;a<s;a++)c+=o[a].length;for(f=new Uint8Array(c),l=0,a=0,s=o.length;a<s;a++)u=o[a],f.set(u,l),l+=u.length;return f}},i={arraySet:function(o,a,s,c,l){for(var u=0;u<c;u++)o[l+u]=a[s+u]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(jd)),jd}var Mo={},Mn={},Ni={},rw;function c5(){if(rw)return Ni;rw=1;var e=Yr(),t=4,n=0,r=1,i=2;function o(w){for(var z=w.length;--z>=0;)w[z]=0}var a=0,s=1,c=2,l=3,u=258,f=29,h=256,d=h+1+f,p=30,b=19,v=2*d+1,y=15,A=16,_=7,E=256,C=16,F=17,I=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=512,Q=new Array((d+2)*2);o(Q);var se=new Array(p*2);o(se);var ce=new Array(Z);o(ce);var fe=new Array(u-l+1);o(fe);var le=new Array(f);o(le);var Ee=new Array(p);o(Ee);function pe(w,z,V,ae,G){this.static_tree=w,this.extra_bits=z,this.extra_base=V,this.elems=ae,this.max_length=G,this.has_stree=w&&w.length}var _e,Ce,xe;function Te(w,z){this.dyn_tree=w,this.max_code=0,this.stat_desc=z}function He(w){return w<256?ce[w]:ce[256+(w>>>7)]}function Le(w,z){w.pending_buf[w.pending++]=z&255,w.pending_buf[w.pending++]=z>>>8&255}function j(w,z,V){w.bi_valid>A-V?(w.bi_buf|=z<<w.bi_valid&65535,Le(w,w.bi_buf),w.bi_buf=z>>A-w.bi_valid,w.bi_valid+=V-A):(w.bi_buf|=z<<w.bi_valid&65535,w.bi_valid+=V)}function q(w,z,V){j(w,V[z*2],V[z*2+1])}function re(w,z){var V=0;do V|=w&1,w>>>=1,V<<=1;while(--z>0);return V>>>1}function $(w){w.bi_valid===16?(Le(w,w.bi_buf),w.bi_buf=0,w.bi_valid=0):w.bi_valid>=8&&(w.pending_buf[w.pending++]=w.bi_buf&255,w.bi_buf>>=8,w.bi_valid-=8)}function ue(w,z){var V=z.dyn_tree,ae=z.max_code,G=z.stat_desc.static_tree,Y=z.stat_desc.has_stree,T=z.stat_desc.extra_bits,ne=z.stat_desc.extra_base,ke=z.stat_desc.max_length,g,K,J,B,H,W,Se=0;for(B=0;B<=y;B++)w.bl_count[B]=0;for(V[w.heap[w.heap_max]*2+1]=0,g=w.heap_max+1;g<v;g++)K=w.heap[g],B=V[V[K*2+1]*2+1]+1,B>ke&&(B=ke,Se++),V[K*2+1]=B,!(K>ae)&&(w.bl_count[B]++,H=0,K>=ne&&(H=T[K-ne]),W=V[K*2],w.opt_len+=W*(B+H),Y&&(w.static_len+=W*(G[K*2+1]+H)));if(Se!==0){do{for(B=ke-1;w.bl_count[B]===0;)B--;w.bl_count[B]--,w.bl_count[B+1]+=2,w.bl_count[ke]--,Se-=2}while(Se>0);for(B=ke;B!==0;B--)for(K=w.bl_count[B];K!==0;)J=w.heap[--g],!(J>ae)&&(V[J*2+1]!==B&&(w.opt_len+=(B-V[J*2+1])*V[J*2],V[J*2+1]=B),K--)}}function L(w,z,V){var ae=new Array(y+1),G=0,Y,T;for(Y=1;Y<=y;Y++)ae[Y]=G=G+V[Y-1]<<1;for(T=0;T<=z;T++){var ne=w[T*2+1];ne!==0&&(w[T*2]=re(ae[ne]++,ne))}}function D(){var w,z,V,ae,G,Y=new Array(y+1);for(V=0,ae=0;ae<f-1;ae++)for(le[ae]=V,w=0;w<1<<N[ae];w++)fe[V++]=ae;for(fe[V-1]=ae,G=0,ae=0;ae<16;ae++)for(Ee[ae]=G,w=0;w<1<<R[ae];w++)ce[G++]=ae;for(G>>=7;ae<p;ae++)for(Ee[ae]=G<<7,w=0;w<1<<R[ae]-7;w++)ce[256+G++]=ae;for(z=0;z<=y;z++)Y[z]=0;for(w=0;w<=143;)Q[w*2+1]=8,w++,Y[8]++;for(;w<=255;)Q[w*2+1]=9,w++,Y[9]++;for(;w<=279;)Q[w*2+1]=7,w++,Y[7]++;for(;w<=287;)Q[w*2+1]=8,w++,Y[8]++;for(L(Q,d+1,Y),w=0;w<p;w++)se[w*2+1]=5,se[w*2]=re(w,5);_e=new pe(Q,N,h+1,d,y),Ce=new pe(se,R,0,p,y),xe=new pe(new Array(0),P,0,b,_)}function ee(w){var z;for(z=0;z<d;z++)w.dyn_ltree[z*2]=0;for(z=0;z<p;z++)w.dyn_dtree[z*2]=0;for(z=0;z<b;z++)w.bl_tree[z*2]=0;w.dyn_ltree[E*2]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function oe(w){w.bi_valid>8?Le(w,w.bi_buf):w.bi_valid>0&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function De(w,z,V,ae){oe(w),Le(w,V),Le(w,~V),e.arraySet(w.pending_buf,w.window,z,V,w.pending),w.pending+=V}function ye(w,z,V,ae){var G=z*2,Y=V*2;return w[G]<w[Y]||w[G]===w[Y]&&ae[z]<=ae[V]}function we(w,z,V){for(var ae=w.heap[V],G=V<<1;G<=w.heap_len&&(G<w.heap_len&&ye(z,w.heap[G+1],w.heap[G],w.depth)&&G++,!ye(z,ae,w.heap[G],w.depth));)w.heap[V]=w.heap[G],V=G,G<<=1;w.heap[V]=ae}function Be(w,z,V){var ae,G,Y=0,T,ne;if(w.last_lit!==0)do ae=w.pending_buf[w.d_buf+Y*2]<<8|w.pending_buf[w.d_buf+Y*2+1],G=w.pending_buf[w.l_buf+Y],Y++,ae===0?q(w,G,z):(T=fe[G],q(w,T+h+1,z),ne=N[T],ne!==0&&(G-=le[T],j(w,G,ne)),ae--,T=He(ae),q(w,T,V),ne=R[T],ne!==0&&(ae-=Ee[T],j(w,ae,ne)));while(Y<w.last_lit);q(w,E,z)}function mt(w,z){var V=z.dyn_tree,ae=z.stat_desc.static_tree,G=z.stat_desc.has_stree,Y=z.stat_desc.elems,T,ne,ke=-1,g;for(w.heap_len=0,w.heap_max=v,T=0;T<Y;T++)V[T*2]!==0?(w.heap[++w.heap_len]=ke=T,w.depth[T]=0):V[T*2+1]=0;for(;w.heap_len<2;)g=w.heap[++w.heap_len]=ke<2?++ke:0,V[g*2]=1,w.depth[g]=0,w.opt_len--,G&&(w.static_len-=ae[g*2+1]);for(z.max_code=ke,T=w.heap_len>>1;T>=1;T--)we(w,V,T);g=Y;do T=w.heap[1],w.heap[1]=w.heap[w.heap_len--],we(w,V,1),ne=w.heap[1],w.heap[--w.heap_max]=T,w.heap[--w.heap_max]=ne,V[g*2]=V[T*2]+V[ne*2],w.depth[g]=(w.depth[T]>=w.depth[ne]?w.depth[T]:w.depth[ne])+1,V[T*2+1]=V[ne*2+1]=g,w.heap[1]=g++,we(w,V,1);while(w.heap_len>=2);w.heap[--w.heap_max]=w.heap[1],ue(w,z),L(V,ke,w.bl_count)}function nn(w,z,V){var ae,G=-1,Y,T=z[0*2+1],ne=0,ke=7,g=4;for(T===0&&(ke=138,g=3),z[(V+1)*2+1]=65535,ae=0;ae<=V;ae++)Y=T,T=z[(ae+1)*2+1],!(++ne<ke&&Y===T)&&(ne<g?w.bl_tree[Y*2]+=ne:Y!==0?(Y!==G&&w.bl_tree[Y*2]++,w.bl_tree[C*2]++):ne<=10?w.bl_tree[F*2]++:w.bl_tree[I*2]++,ne=0,G=Y,T===0?(ke=138,g=3):Y===T?(ke=6,g=3):(ke=7,g=4))}function It(w,z,V){var ae,G=-1,Y,T=z[0*2+1],ne=0,ke=7,g=4;for(T===0&&(ke=138,g=3),ae=0;ae<=V;ae++)if(Y=T,T=z[(ae+1)*2+1],!(++ne<ke&&Y===T)){if(ne<g)do q(w,Y,w.bl_tree);while(--ne!==0);else Y!==0?(Y!==G&&(q(w,Y,w.bl_tree),ne--),q(w,C,w.bl_tree),j(w,ne-3,2)):ne<=10?(q(w,F,w.bl_tree),j(w,ne-3,3)):(q(w,I,w.bl_tree),j(w,ne-11,7));ne=0,G=Y,T===0?(ke=138,g=3):Y===T?(ke=6,g=3):(ke=7,g=4)}}function tt(w){var z;for(nn(w,w.dyn_ltree,w.l_desc.max_code),nn(w,w.dyn_dtree,w.d_desc.max_code),mt(w,w.bl_desc),z=b-1;z>=3&&w.bl_tree[S[z]*2+1]===0;z--);return w.opt_len+=3*(z+1)+5+5+4,z}function Pt(w,z,V,ae){var G;for(j(w,z-257,5),j(w,V-1,5),j(w,ae-4,4),G=0;G<ae;G++)j(w,w.bl_tree[S[G]*2+1],3);It(w,w.dyn_ltree,z-1),It(w,w.dyn_dtree,V-1)}function Ht(w){var z=4093624447,V;for(V=0;V<=31;V++,z>>>=1)if(z&1&&w.dyn_ltree[V*2]!==0)return n;if(w.dyn_ltree[9*2]!==0||w.dyn_ltree[10*2]!==0||w.dyn_ltree[13*2]!==0)return r;for(V=32;V<h;V++)if(w.dyn_ltree[V*2]!==0)return r;return n}var nt=!1;function Vt(w){nt||(D(),nt=!0),w.l_desc=new Te(w.dyn_ltree,_e),w.d_desc=new Te(w.dyn_dtree,Ce),w.bl_desc=new Te(w.bl_tree,xe),w.bi_buf=0,w.bi_valid=0,ee(w)}function k(w,z,V,ae){j(w,(a<<1)+(ae?1:0),3),De(w,z,V)}function m(w){j(w,s<<1,3),q(w,E,Q),$(w)}function x(w,z,V,ae){var G,Y,T=0;w.level>0?(w.strm.data_type===i&&(w.strm.data_type=Ht(w)),mt(w,w.l_desc),mt(w,w.d_desc),T=tt(w),G=w.opt_len+3+7>>>3,Y=w.static_len+3+7>>>3,Y<=G&&(G=Y)):G=Y=V+5,V+4<=G&&z!==-1?k(w,z,V,ae):w.strategy===t||Y===G?(j(w,(s<<1)+(ae?1:0),3),Be(w,Q,se)):(j(w,(c<<1)+(ae?1:0),3),Pt(w,w.l_desc.max_code+1,w.d_desc.max_code+1,T+1),Be(w,w.dyn_ltree,w.dyn_dtree)),ee(w),ae&&oe(w)}function O(w,z,V){return w.pending_buf[w.d_buf+w.last_lit*2]=z>>>8&255,w.pending_buf[w.d_buf+w.last_lit*2+1]=z&255,w.pending_buf[w.l_buf+w.last_lit]=V&255,w.last_lit++,z===0?w.dyn_ltree[V*2]++:(w.matches++,z--,w.dyn_ltree[(fe[V]+h+1)*2]++,w.dyn_dtree[He(z)*2]++),w.last_lit===w.lit_bufsize-1}return Ni._tr_init=Vt,Ni._tr_stored_block=k,Ni._tr_flush_block=x,Ni._tr_tally=O,Ni._tr_align=m,Ni}var Wd,iw;function ow(){if(iw)return Wd;iw=1;function e(t,n,r,i){for(var o=t&65535|0,a=t>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do o=o+n[i++]|0,a=a+o|0;while(--s);o%=65521,a%=65521}return o|a<<16|0}return Wd=e,Wd}var Zd,aw;function sw(){if(aw)return Zd;aw=1;function e(){for(var r,i=[],o=0;o<256;o++){r=o;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;i[o]=r}return i}var t=e();function n(r,i,o,a){var s=t,c=a+o;r^=-1;for(var l=a;l<c;l++)r=r>>>8^s[(r^i[l])&255];return r^-1}return Zd=n,Zd}var Yd,cw;function Qd(){return cw||(cw=1,Yd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Yd}var lw;function l5(){if(lw)return Mn;lw=1;var e=Yr(),t=c5(),n=ow(),r=sw(),i=Qd(),o=0,a=1,s=3,c=4,l=5,u=0,f=1,h=-2,d=-3,p=-5,b=-1,v=1,y=2,A=3,_=4,E=0,C=2,F=8,I=9,N=15,R=8,P=29,S=256,Z=S+1+P,Q=30,se=19,ce=2*Z+1,fe=15,le=3,Ee=258,pe=Ee+le+1,_e=32,Ce=42,xe=69,Te=73,He=91,Le=103,j=113,q=666,re=1,$=2,ue=3,L=4,D=3;function ee(g,K){return g.msg=i[K],K}function oe(g){return(g<<1)-(g>4?9:0)}function De(g){for(var K=g.length;--K>=0;)g[K]=0}function ye(g){var K=g.state,J=K.pending;J>g.avail_out&&(J=g.avail_out),J!==0&&(e.arraySet(g.output,K.pending_buf,K.pending_out,J,g.next_out),g.next_out+=J,K.pending_out+=J,g.total_out+=J,g.avail_out-=J,K.pending-=J,K.pending===0&&(K.pending_out=0))}function we(g,K){t._tr_flush_block(g,g.block_start>=0?g.block_start:-1,g.strstart-g.block_start,K),g.block_start=g.strstart,ye(g.strm)}function Be(g,K){g.pending_buf[g.pending++]=K}function mt(g,K){g.pending_buf[g.pending++]=K>>>8&255,g.pending_buf[g.pending++]=K&255}function nn(g,K,J,B){var H=g.avail_in;return H>B&&(H=B),H===0?0:(g.avail_in-=H,e.arraySet(K,g.input,g.next_in,H,J),g.state.wrap===1?g.adler=n(g.adler,K,H,J):g.state.wrap===2&&(g.adler=r(g.adler,K,H,J)),g.next_in+=H,g.total_in+=H,H)}function It(g,K){var J=g.max_chain_length,B=g.strstart,H,W,Se=g.prev_length,ge=g.nice_match,be=g.strstart>g.w_size-pe?g.strstart-(g.w_size-pe):0,Ue=g.window,_n=g.w_mask,U=g.prev,Me=g.strstart+Ee,ft=Ue[B+Se-1],rt=Ue[B+Se];g.prev_length>=g.good_match&&(J>>=2),ge>g.lookahead&&(ge=g.lookahead);do if(H=K,!(Ue[H+Se]!==rt||Ue[H+Se-1]!==ft||Ue[H]!==Ue[B]||Ue[++H]!==Ue[B+1])){B+=2,H++;do;while(Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&Ue[++B]===Ue[++H]&&B<Me);if(W=Ee-(Me-B),B=Me-Ee,W>Se){if(g.match_start=K,Se=W,W>=ge)break;ft=Ue[B+Se-1],rt=Ue[B+Se]}}while((K=U[K&_n])>be&&--J!==0);return Se<=g.lookahead?Se:g.lookahead}function tt(g){var K=g.w_size,J,B,H,W,Se;do{if(W=g.window_size-g.lookahead-g.strstart,g.strstart>=K+(K-pe)){e.arraySet(g.window,g.window,K,K,0),g.match_start-=K,g.strstart-=K,g.block_start-=K,B=g.hash_size,J=B;do H=g.head[--J],g.head[J]=H>=K?H-K:0;while(--B);B=K,J=B;do H=g.prev[--J],g.prev[J]=H>=K?H-K:0;while(--B);W+=K}if(g.strm.avail_in===0)break;if(B=nn(g.strm,g.window,g.strstart+g.lookahead,W),g.lookahead+=B,g.lookahead+g.insert>=le)for(Se=g.strstart-g.insert,g.ins_h=g.window[Se],g.ins_h=(g.ins_h<<g.hash_shift^g.window[Se+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[Se+le-1])&g.hash_mask,g.prev[Se&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=Se,Se++,g.insert--,!(g.lookahead+g.insert<le)););}while(g.lookahead<pe&&g.strm.avail_in!==0)}function Pt(g,K){var J=65535;for(J>g.pending_buf_size-5&&(J=g.pending_buf_size-5);;){if(g.lookahead<=1){if(tt(g),g.lookahead===0&&K===o)return re;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var B=g.block_start+J;if((g.strstart===0||g.strstart>=B)&&(g.lookahead=g.strstart-B,g.strstart=B,we(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-pe&&(we(g,!1),g.strm.avail_out===0))return re}return g.insert=0,K===c?(we(g,!0),g.strm.avail_out===0?ue:L):(g.strstart>g.block_start&&(we(g,!1),g.strm.avail_out===0),re)}function Ht(g,K){for(var J,B;;){if(g.lookahead<pe){if(tt(g),g.lookahead<pe&&K===o)return re;if(g.lookahead===0)break}if(J=0,g.lookahead>=le&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+le-1])&g.hash_mask,J=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),J!==0&&g.strstart-J<=g.w_size-pe&&(g.match_length=It(g,J)),g.match_length>=le)if(B=t._tr_tally(g,g.strstart-g.match_start,g.match_length-le),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=le){g.match_length--;do g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+le-1])&g.hash_mask,J=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart;while(--g.match_length!==0);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else B=t._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(B&&(we(g,!1),g.strm.avail_out===0))return re}return g.insert=g.strstart<le-1?g.strstart:le-1,K===c?(we(g,!0),g.strm.avail_out===0?ue:L):g.last_lit&&(we(g,!1),g.strm.avail_out===0)?re:$}function nt(g,K){for(var J,B,H;;){if(g.lookahead<pe){if(tt(g),g.lookahead<pe&&K===o)return re;if(g.lookahead===0)break}if(J=0,g.lookahead>=le&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+le-1])&g.hash_mask,J=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=le-1,J!==0&&g.prev_length<g.max_lazy_match&&g.strstart-J<=g.w_size-pe&&(g.match_length=It(g,J),g.match_length<=5&&(g.strategy===v||g.match_length===le&&g.strstart-g.match_start>4096)&&(g.match_length=le-1)),g.prev_length>=le&&g.match_length<=g.prev_length){H=g.strstart+g.lookahead-le,B=t._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-le),g.lookahead-=g.prev_length-1,g.prev_length-=2;do++g.strstart<=H&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+le-1])&g.hash_mask,J=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart);while(--g.prev_length!==0);if(g.match_available=0,g.match_length=le-1,g.strstart++,B&&(we(g,!1),g.strm.avail_out===0))return re}else if(g.match_available){if(B=t._tr_tally(g,0,g.window[g.strstart-1]),B&&we(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return re}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(B=t._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<le-1?g.strstart:le-1,K===c?(we(g,!0),g.strm.avail_out===0?ue:L):g.last_lit&&(we(g,!1),g.strm.avail_out===0)?re:$}function Vt(g,K){for(var J,B,H,W,Se=g.window;;){if(g.lookahead<=Ee){if(tt(g),g.lookahead<=Ee&&K===o)return re;if(g.lookahead===0)break}if(g.match_length=0,g.lookahead>=le&&g.strstart>0&&(H=g.strstart-1,B=Se[H],B===Se[++H]&&B===Se[++H]&&B===Se[++H])){W=g.strstart+Ee;do;while(B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&B===Se[++H]&&H<W);g.match_length=Ee-(W-H),g.match_length>g.lookahead&&(g.match_length=g.lookahead)}if(g.match_length>=le?(J=t._tr_tally(g,1,g.match_length-le),g.lookahead-=g.match_length,g.strstart+=g.match_length,g.match_length=0):(J=t._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++),J&&(we(g,!1),g.strm.avail_out===0))return re}return g.insert=0,K===c?(we(g,!0),g.strm.avail_out===0?ue:L):g.last_lit&&(we(g,!1),g.strm.avail_out===0)?re:$}function k(g,K){for(var J;;){if(g.lookahead===0&&(tt(g),g.lookahead===0)){if(K===o)return re;break}if(g.match_length=0,J=t._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++,J&&(we(g,!1),g.strm.avail_out===0))return re}return g.insert=0,K===c?(we(g,!0),g.strm.avail_out===0?ue:L):g.last_lit&&(we(g,!1),g.strm.avail_out===0)?re:$}function m(g,K,J,B,H){this.good_length=g,this.max_lazy=K,this.nice_length=J,this.max_chain=B,this.func=H}var x;x=[new m(0,0,0,0,Pt),new m(4,4,8,4,Ht),new m(4,5,16,8,Ht),new m(4,6,32,32,Ht),new m(4,4,16,16,nt),new m(8,16,32,32,nt),new m(8,16,128,128,nt),new m(8,32,128,256,nt),new m(32,128,258,1024,nt),new m(32,258,258,4096,nt)];function O(g){g.window_size=2*g.w_size,De(g.head),g.max_lazy_match=x[g.level].max_lazy,g.good_match=x[g.level].good_length,g.nice_match=x[g.level].nice_length,g.max_chain_length=x[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=le-1,g.match_available=0,g.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=F,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(ce*2),this.dyn_dtree=new e.Buf16((2*Q+1)*2),this.bl_tree=new e.Buf16((2*se+1)*2),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(fe+1),this.heap=new e.Buf16(2*Z+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*Z+1),De(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(g){var K;return!g||!g.state?ee(g,h):(g.total_in=g.total_out=0,g.data_type=C,K=g.state,K.pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?Ce:j,g.adler=K.wrap===2?0:1,K.last_flush=o,t._tr_init(K),u)}function V(g){var K=z(g);return K===u&&O(g.state),K}function ae(g,K){return!g||!g.state||g.state.wrap!==2?h:(g.state.gzhead=K,u)}function G(g,K,J,B,H,W){if(!g)return h;var Se=1;if(K===b&&(K=6),B<0?(Se=0,B=-B):B>15&&(Se=2,B-=16),H<1||H>I||J!==F||B<8||B>15||K<0||K>9||W<0||W>_)return ee(g,h);B===8&&(B=9);var ge=new w;return g.state=ge,ge.strm=g,ge.wrap=Se,ge.gzhead=null,ge.w_bits=B,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=H+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+le-1)/le),ge.window=new e.Buf8(ge.w_size*2),ge.head=new e.Buf16(ge.hash_size),ge.prev=new e.Buf16(ge.w_size),ge.lit_bufsize=1<<H+6,ge.pending_buf_size=ge.lit_bufsize*4,ge.pending_buf=new e.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=K,ge.strategy=W,ge.method=J,V(g)}function Y(g,K){return G(g,K,F,N,R,E)}function T(g,K){var J,B,H,W;if(!g||!g.state||K>l||K<0)return g?ee(g,h):h;if(B=g.state,!g.output||!g.input&&g.avail_in!==0||B.status===q&&K!==c)return ee(g,g.avail_out===0?p:h);if(B.strm=g,J=B.last_flush,B.last_flush=K,B.status===Ce)if(B.wrap===2)g.adler=0,Be(B,31),Be(B,139),Be(B,8),B.gzhead?(Be(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),Be(B,B.gzhead.time&255),Be(B,B.gzhead.time>>8&255),Be(B,B.gzhead.time>>16&255),Be(B,B.gzhead.time>>24&255),Be(B,B.level===9?2:B.strategy>=y||B.level<2?4:0),Be(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(Be(B,B.gzhead.extra.length&255),Be(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(g.adler=r(g.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=xe):(Be(B,0),Be(B,0),Be(B,0),Be(B,0),Be(B,0),Be(B,B.level===9?2:B.strategy>=y||B.level<2?4:0),Be(B,D),B.status=j);else{var Se=F+(B.w_bits-8<<4)<<8,ge=-1;B.strategy>=y||B.level<2?ge=0:B.level<6?ge=1:B.level===6?ge=2:ge=3,Se|=ge<<6,B.strstart!==0&&(Se|=_e),Se+=31-Se%31,B.status=j,mt(B,Se),B.strstart!==0&&(mt(B,g.adler>>>16),mt(B,g.adler&65535)),g.adler=1}if(B.status===xe)if(B.gzhead.extra){for(H=B.pending;B.gzindex<(B.gzhead.extra.length&65535)&&!(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),ye(g),H=B.pending,B.pending===B.pending_buf_size));)Be(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++;B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=Te)}else B.status=Te;if(B.status===Te)if(B.gzhead.name){H=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),ye(g),H=B.pending,B.pending===B.pending_buf_size)){W=1;break}B.gzindex<B.gzhead.name.length?W=B.gzhead.name.charCodeAt(B.gzindex++)&255:W=0,Be(B,W)}while(W!==0);B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),W===0&&(B.gzindex=0,B.status=He)}else B.status=He;if(B.status===He)if(B.gzhead.comment){H=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),ye(g),H=B.pending,B.pending===B.pending_buf_size)){W=1;break}B.gzindex<B.gzhead.comment.length?W=B.gzhead.comment.charCodeAt(B.gzindex++)&255:W=0,Be(B,W)}while(W!==0);B.gzhead.hcrc&&B.pending>H&&(g.adler=r(g.adler,B.pending_buf,B.pending-H,H)),W===0&&(B.status=Le)}else B.status=Le;if(B.status===Le&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&ye(g),B.pending+2<=B.pending_buf_size&&(Be(B,g.adler&255),Be(B,g.adler>>8&255),g.adler=0,B.status=j)):B.status=j),B.pending!==0){if(ye(g),g.avail_out===0)return B.last_flush=-1,u}else if(g.avail_in===0&&oe(K)<=oe(J)&&K!==c)return ee(g,p);if(B.status===q&&g.avail_in!==0)return ee(g,p);if(g.avail_in!==0||B.lookahead!==0||K!==o&&B.status!==q){var be=B.strategy===y?k(B,K):B.strategy===A?Vt(B,K):x[B.level].func(B,K);if((be===ue||be===L)&&(B.status=q),be===re||be===ue)return g.avail_out===0&&(B.last_flush=-1),u;if(be===$&&(K===a?t._tr_align(B):K!==l&&(t._tr_stored_block(B,0,0,!1),K===s&&(De(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),ye(g),g.avail_out===0))return B.last_flush=-1,u}return K!==c?u:B.wrap<=0?f:(B.wrap===2?(Be(B,g.adler&255),Be(B,g.adler>>8&255),Be(B,g.adler>>16&255),Be(B,g.adler>>24&255),Be(B,g.total_in&255),Be(B,g.total_in>>8&255),Be(B,g.total_in>>16&255),Be(B,g.total_in>>24&255)):(mt(B,g.adler>>>16),mt(B,g.adler&65535)),ye(g),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?u:f)}function ne(g){var K;return!g||!g.state?h:(K=g.state.status,K!==Ce&&K!==xe&&K!==Te&&K!==He&&K!==Le&&K!==j&&K!==q?ee(g,h):(g.state=null,K===j?ee(g,d):u))}function ke(g,K){var J=K.length,B,H,W,Se,ge,be,Ue,_n;if(!g||!g.state||(B=g.state,Se=B.wrap,Se===2||Se===1&&B.status!==Ce||B.lookahead))return h;for(Se===1&&(g.adler=n(g.adler,K,J,0)),B.wrap=0,J>=B.w_size&&(Se===0&&(De(B.head),B.strstart=0,B.block_start=0,B.insert=0),_n=new e.Buf8(B.w_size),e.arraySet(_n,K,J-B.w_size,B.w_size,0),K=_n,J=B.w_size),ge=g.avail_in,be=g.next_in,Ue=g.input,g.avail_in=J,g.next_in=0,g.input=K,tt(B);B.lookahead>=le;){H=B.strstart,W=B.lookahead-(le-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[H+le-1])&B.hash_mask,B.prev[H&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=H,H++;while(--W);B.strstart=H,B.lookahead=le-1,tt(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=le-1,B.match_available=0,g.next_in=be,g.input=Ue,g.avail_in=ge,B.wrap=Se,u}return Mn.deflateInit=Y,Mn.deflateInit2=G,Mn.deflateReset=V,Mn.deflateResetKeep=z,Mn.deflateSetHeader=ae,Mn.deflate=T,Mn.deflateEnd=ne,Mn.deflateSetDictionary=ke,Mn.deflateInfo="pako deflate (from Nodeca project)",Mn}var zi={},uw;function fw(){if(uw)return zi;uw=1;var e=Yr(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new e.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1,zi.string2buf=function(a){var s,c,l,u,f,h=a.length,d=0;for(u=0;u<h;u++)c=a.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=a.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),d+=c<128?1:c<2048?2:c<65536?3:4;for(s=new e.Buf8(d),f=0,u=0;f<d;u++)c=a.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=a.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function o(a,s){if(s<65534&&(a.subarray&&n||!a.subarray&&t))return String.fromCharCode.apply(null,e.shrinkBuf(a,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[l]);return c}return zi.buf2binstring=function(a){return o(a,a.length)},zi.binstring2buf=function(a){for(var s=new e.Buf8(a.length),c=0,l=s.length;c<l;c++)s[c]=a.charCodeAt(c);return s},zi.buf2string=function(a,s){var c,l,u,f,h=s||a.length,d=new Array(h*2);for(l=0,c=0;c<h;){if(u=a[c++],u<128){d[l++]=u;continue}if(f=r[u],f>4){d[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|a[c++]&63,f--;if(f>1){d[l++]=65533;continue}u<65536?d[l++]=u:(u-=65536,d[l++]=55296|u>>10&1023,d[l++]=56320|u&1023)}return o(d,l)},zi.utf8border=function(a,s){var c;for(s=s||a.length,s>a.length&&(s=a.length),c=s-1;c>=0&&(a[c]&192)===128;)c--;return c<0||c===0?s:c+r[a[c]]>s?c:s},zi}var Xd,hw;function dw(){if(hw)return Xd;hw=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Xd=e,Xd}var pw;function u5(){if(pw)return Mo;pw=1;var e=l5(),t=Yr(),n=fw(),r=Qd(),i=dw(),o=Object.prototype.toString,a=0,s=4,c=0,l=1,u=2,f=-1,h=0,d=8;function p(A){if(!(this instanceof p))return new p(A);this.options=t.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},A||{});var _=this.options;_.raw&&_.windowBits>0?_.windowBits=-_.windowBits:_.gzip&&_.windowBits>0&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var E=e.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(E!==c)throw new Error(r[E]);if(_.header&&e.deflateSetHeader(this.strm,_.header),_.dictionary){var C;if(typeof _.dictionary=="string"?C=n.string2buf(_.dictionary):o.call(_.dictionary)==="[object ArrayBuffer]"?C=new Uint8Array(_.dictionary):C=_.dictionary,E=e.deflateSetDictionary(this.strm,C),E!==c)throw new Error(r[E]);this._dict_set=!0}}p.prototype.push=function(A,_){var E=this.strm,C=this.options.chunkSize,F,I;if(this.ended)return!1;I=_===~~_?_:_===!0?s:a,typeof A=="string"?E.input=n.string2buf(A):o.call(A)==="[object ArrayBuffer]"?E.input=new Uint8Array(A):E.input=A,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new t.Buf8(C),E.next_out=0,E.avail_out=C),F=e.deflate(E,I),F!==l&&F!==c)return this.onEnd(F),this.ended=!0,!1;(E.avail_out===0||E.avail_in===0&&(I===s||I===u))&&(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(E.output,E.next_out))):this.onData(t.shrinkBuf(E.output,E.next_out)))}while((E.avail_in>0||E.avail_out===0)&&F!==l);return I===s?(F=e.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===c):(I===u&&(this.onEnd(c),E.avail_out=0),!0)},p.prototype.onData=function(A){this.chunks.push(A)},p.prototype.onEnd=function(A){A===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function b(A,_){var E=new p(_);if(E.push(A,!0),E.err)throw E.msg||r[E.err];return E.result}function v(A,_){return _=_||{},_.raw=!0,b(A,_)}function y(A,_){return _=_||{},_.gzip=!0,b(A,_)}return Mo.Deflate=p,Mo.deflate=b,Mo.deflateRaw=v,Mo.gzip=y,Mo}var Po={},xn={},Kd,gw;function f5(){if(gw)return Kd;gw=1;var e=30,t=12;return Kd=function(r,i){var o,a,s,c,l,u,f,h,d,p,b,v,y,A,_,E,C,F,I,N,R,P,S,Z,Q;o=r.state,a=r.next_in,Z=r.input,s=a+(r.avail_in-5),c=r.next_out,Q=r.output,l=c-(i-r.avail_out),u=c+(r.avail_out-257),f=o.dmax,h=o.wsize,d=o.whave,p=o.wnext,b=o.window,v=o.hold,y=o.bits,A=o.lencode,_=o.distcode,E=(1<<o.lenbits)-1,C=(1<<o.distbits)-1;e:do{y<15&&(v+=Z[a++]<<y,y+=8,v+=Z[a++]<<y,y+=8),F=A[v&E];t:for(;;){if(I=F>>>24,v>>>=I,y-=I,I=F>>>16&255,I===0)Q[c++]=F&65535;else if(I&16){N=F&65535,I&=15,I&&(y<I&&(v+=Z[a++]<<y,y+=8),N+=v&(1<<I)-1,v>>>=I,y-=I),y<15&&(v+=Z[a++]<<y,y+=8,v+=Z[a++]<<y,y+=8),F=_[v&C];n:for(;;){if(I=F>>>24,v>>>=I,y-=I,I=F>>>16&255,I&16){if(R=F&65535,I&=15,y<I&&(v+=Z[a++]<<y,y+=8,y<I&&(v+=Z[a++]<<y,y+=8)),R+=v&(1<<I)-1,R>f){r.msg="invalid distance too far back",o.mode=e;break e}if(v>>>=I,y-=I,I=c-l,R>I){if(I=R-I,I>d&&o.sane){r.msg="invalid distance too far back",o.mode=e;break e}if(P=0,S=b,p===0){if(P+=h-I,I<N){N-=I;do Q[c++]=b[P++];while(--I);P=c-R,S=Q}}else if(p<I){if(P+=h+p-I,I-=p,I<N){N-=I;do Q[c++]=b[P++];while(--I);if(P=0,p<N){I=p,N-=I;do Q[c++]=b[P++];while(--I);P=c-R,S=Q}}}else if(P+=p-I,I<N){N-=I;do Q[c++]=b[P++];while(--I);P=c-R,S=Q}for(;N>2;)Q[c++]=S[P++],Q[c++]=S[P++],Q[c++]=S[P++],N-=3;N&&(Q[c++]=S[P++],N>1&&(Q[c++]=S[P++]))}else{P=c-R;do Q[c++]=Q[P++],Q[c++]=Q[P++],Q[c++]=Q[P++],N-=3;while(N>2);N&&(Q[c++]=Q[P++],N>1&&(Q[c++]=Q[P++]))}}else if(I&64){r.msg="invalid distance code",o.mode=e;break e}else{F=_[(F&65535)+(v&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){o.mode=t;break e}else{r.msg="invalid literal/length code",o.mode=e;break e}else{F=A[(F&65535)+(v&(1<<I)-1)];continue t}break}}while(a<s&&c<u);N=y>>3,a-=N,y-=N<<3,v&=(1<<y)-1,r.next_in=a,r.next_out=c,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=c<u?257+(u-c):257-(c-u),o.hold=v,o.bits=y},Kd}var Jd,mw;function h5(){if(mw)return Jd;mw=1;var e=Yr(),t=15,n=852,r=592,i=0,o=1,a=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Jd=function(h,d,p,b,v,y,A,_){var E=_.bits,C=0,F=0,I=0,N=0,R=0,P=0,S=0,Z=0,Q=0,se=0,ce,fe,le,Ee,pe,_e=null,Ce=0,xe,Te=new e.Buf16(t+1),He=new e.Buf16(t+1),Le=null,j=0,q,re,$;for(C=0;C<=t;C++)Te[C]=0;for(F=0;F<b;F++)Te[d[p+F]]++;for(R=E,N=t;N>=1&&Te[N]===0;N--);if(R>N&&(R=N),N===0)return v[y++]=1<<24|64<<16|0,v[y++]=1<<24|64<<16|0,_.bits=1,0;for(I=1;I<N&&Te[I]===0;I++);for(R<I&&(R=I),Z=1,C=1;C<=t;C++)if(Z<<=1,Z-=Te[C],Z<0)return-1;if(Z>0&&(h===i||N!==1))return-1;for(He[1]=0,C=1;C<t;C++)He[C+1]=He[C]+Te[C];for(F=0;F<b;F++)d[p+F]!==0&&(A[He[d[p+F]]++]=F);if(h===i?(_e=Le=A,xe=19):h===o?(_e=s,Ce-=257,Le=c,j-=257,xe=256):(_e=l,Le=u,xe=-1),se=0,F=0,C=I,pe=y,P=R,S=0,le=-1,Q=1<<R,Ee=Q-1,h===o&&Q>n||h===a&&Q>r)return 1;for(;;){q=C-S,A[F]<xe?(re=0,$=A[F]):A[F]>xe?(re=Le[j+A[F]],$=_e[Ce+A[F]]):(re=96,$=0),ce=1<<C-S,fe=1<<P,I=fe;do fe-=ce,v[pe+(se>>S)+fe]=q<<24|re<<16|$|0;while(fe!==0);for(ce=1<<C-1;se&ce;)ce>>=1;if(ce!==0?(se&=ce-1,se+=ce):se=0,F++,--Te[C]===0){if(C===N)break;C=d[p+A[F]]}if(C>R&&(se&Ee)!==le){for(S===0&&(S=R),pe+=I,P=C-S,Z=1<<P;P+S<N&&(Z-=Te[P+S],!(Z<=0));)P++,Z<<=1;if(Q+=1<<P,h===o&&Q>n||h===a&&Q>r)return 1;le=se&Ee,v[le]=R<<24|P<<16|pe-y|0}}return se!==0&&(v[pe+se]=C-S<<24|64<<16|0),_.bits=R,0},Jd}var bw;function d5(){if(bw)return xn;bw=1;var e=Yr(),t=ow(),n=sw(),r=f5(),i=h5(),o=0,a=1,s=2,c=4,l=5,u=6,f=0,h=1,d=2,p=-2,b=-3,v=-4,y=-5,A=8,_=1,E=2,C=3,F=4,I=5,N=6,R=7,P=8,S=9,Z=10,Q=11,se=12,ce=13,fe=14,le=15,Ee=16,pe=17,_e=18,Ce=19,xe=20,Te=21,He=22,Le=23,j=24,q=25,re=26,$=27,ue=28,L=29,D=30,ee=31,oe=32,De=852,ye=592,we=15,Be=we;function mt(G){return(G>>>24&255)+(G>>>8&65280)+((G&65280)<<8)+((G&255)<<24)}function nn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function It(G){var Y;return!G||!G.state?p:(Y=G.state,G.total_in=G.total_out=Y.total=0,G.msg="",Y.wrap&&(G.adler=Y.wrap&1),Y.mode=_,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new e.Buf32(De),Y.distcode=Y.distdyn=new e.Buf32(ye),Y.sane=1,Y.back=-1,f)}function tt(G){var Y;return!G||!G.state?p:(Y=G.state,Y.wsize=0,Y.whave=0,Y.wnext=0,It(G))}function Pt(G,Y){var T,ne;return!G||!G.state||(ne=G.state,Y<0?(T=0,Y=-Y):(T=(Y>>4)+1,Y<48&&(Y&=15)),Y&&(Y<8||Y>15))?p:(ne.window!==null&&ne.wbits!==Y&&(ne.window=null),ne.wrap=T,ne.wbits=Y,tt(G))}function Ht(G,Y){var T,ne;return G?(ne=new nn,G.state=ne,ne.window=null,T=Pt(G,Y),T!==f&&(G.state=null),T):p}function nt(G){return Ht(G,Be)}var Vt=!0,k,m;function x(G){if(Vt){var Y;for(k=new e.Buf32(512),m=new e.Buf32(32),Y=0;Y<144;)G.lens[Y++]=8;for(;Y<256;)G.lens[Y++]=9;for(;Y<280;)G.lens[Y++]=7;for(;Y<288;)G.lens[Y++]=8;for(i(a,G.lens,0,288,k,0,G.work,{bits:9}),Y=0;Y<32;)G.lens[Y++]=5;i(s,G.lens,0,32,m,0,G.work,{bits:5}),Vt=!1}G.lencode=k,G.lenbits=9,G.distcode=m,G.distbits=5}function O(G,Y,T,ne){var ke,g=G.state;return g.window===null&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new e.Buf8(g.wsize)),ne>=g.wsize?(e.arraySet(g.window,Y,T-g.wsize,g.wsize,0),g.wnext=0,g.whave=g.wsize):(ke=g.wsize-g.wnext,ke>ne&&(ke=ne),e.arraySet(g.window,Y,T-ne,ke,g.wnext),ne-=ke,ne?(e.arraySet(g.window,Y,T-ne,ne,0),g.wnext=ne,g.whave=g.wsize):(g.wnext+=ke,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=ke))),0}function w(G,Y){var T,ne,ke,g,K,J,B,H,W,Se,ge,be,Ue,_n,U=0,Me,ft,rt,kt,Ie,xr,pt,ze,gt=new e.Buf8(4),Ln,hn,Pc=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return p;T=G.state,T.mode===se&&(T.mode=ce),K=G.next_out,ke=G.output,B=G.avail_out,g=G.next_in,ne=G.input,J=G.avail_in,H=T.hold,W=T.bits,Se=J,ge=B,ze=f;e:for(;;)switch(T.mode){case _:if(T.wrap===0){T.mode=ce;break}for(;W<16;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(T.wrap&2&&H===35615){T.check=0,gt[0]=H&255,gt[1]=H>>>8&255,T.check=n(T.check,gt,2,0),H=0,W=0,T.mode=E;break}if(T.flags=0,T.head&&(T.head.done=!1),!(T.wrap&1)||(((H&255)<<8)+(H>>8))%31){G.msg="incorrect header check",T.mode=D;break}if((H&15)!==A){G.msg="unknown compression method",T.mode=D;break}if(H>>>=4,W-=4,pt=(H&15)+8,T.wbits===0)T.wbits=pt;else if(pt>T.wbits){G.msg="invalid window size",T.mode=D;break}T.dmax=1<<pt,G.adler=T.check=1,T.mode=H&512?Z:se,H=0,W=0;break;case E:for(;W<16;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(T.flags=H,(T.flags&255)!==A){G.msg="unknown compression method",T.mode=D;break}if(T.flags&57344){G.msg="unknown header flags set",T.mode=D;break}T.head&&(T.head.text=H>>8&1),T.flags&512&&(gt[0]=H&255,gt[1]=H>>>8&255,T.check=n(T.check,gt,2,0)),H=0,W=0,T.mode=C;case C:for(;W<32;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.head&&(T.head.time=H),T.flags&512&&(gt[0]=H&255,gt[1]=H>>>8&255,gt[2]=H>>>16&255,gt[3]=H>>>24&255,T.check=n(T.check,gt,4,0)),H=0,W=0,T.mode=F;case F:for(;W<16;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.head&&(T.head.xflags=H&255,T.head.os=H>>8),T.flags&512&&(gt[0]=H&255,gt[1]=H>>>8&255,T.check=n(T.check,gt,2,0)),H=0,W=0,T.mode=I;case I:if(T.flags&1024){for(;W<16;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.length=H,T.head&&(T.head.extra_len=H),T.flags&512&&(gt[0]=H&255,gt[1]=H>>>8&255,T.check=n(T.check,gt,2,0)),H=0,W=0}else T.head&&(T.head.extra=null);T.mode=N;case N:if(T.flags&1024&&(be=T.length,be>J&&(be=J),be&&(T.head&&(pt=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),e.arraySet(T.head.extra,ne,g,be,pt)),T.flags&512&&(T.check=n(T.check,ne,be,g)),J-=be,g+=be,T.length-=be),T.length))break e;T.length=0,T.mode=R;case R:if(T.flags&2048){if(J===0)break e;be=0;do pt=ne[g+be++],T.head&&pt&&T.length<65536&&(T.head.name+=String.fromCharCode(pt));while(pt&&be<J);if(T.flags&512&&(T.check=n(T.check,ne,be,g)),J-=be,g+=be,pt)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=P;case P:if(T.flags&4096){if(J===0)break e;be=0;do pt=ne[g+be++],T.head&&pt&&T.length<65536&&(T.head.comment+=String.fromCharCode(pt));while(pt&&be<J);if(T.flags&512&&(T.check=n(T.check,ne,be,g)),J-=be,g+=be,pt)break e}else T.head&&(T.head.comment=null);T.mode=S;case S:if(T.flags&512){for(;W<16;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(H!==(T.check&65535)){G.msg="header crc mismatch",T.mode=D;break}H=0,W=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),G.adler=T.check=0,T.mode=se;break;case Z:for(;W<32;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}G.adler=T.check=mt(H),H=0,W=0,T.mode=Q;case Q:if(T.havedict===0)return G.next_out=K,G.avail_out=B,G.next_in=g,G.avail_in=J,T.hold=H,T.bits=W,d;G.adler=T.check=1,T.mode=se;case se:if(Y===l||Y===u)break e;case ce:if(T.last){H>>>=W&7,W-=W&7,T.mode=$;break}for(;W<3;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}switch(T.last=H&1,H>>>=1,W-=1,H&3){case 0:T.mode=fe;break;case 1:if(x(T),T.mode=xe,Y===u){H>>>=2,W-=2;break e}break;case 2:T.mode=pe;break;case 3:G.msg="invalid block type",T.mode=D}H>>>=2,W-=2;break;case fe:for(H>>>=W&7,W-=W&7;W<32;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if((H&65535)!==(H>>>16^65535)){G.msg="invalid stored block lengths",T.mode=D;break}if(T.length=H&65535,H=0,W=0,T.mode=le,Y===u)break e;case le:T.mode=Ee;case Ee:if(be=T.length,be){if(be>J&&(be=J),be>B&&(be=B),be===0)break e;e.arraySet(ke,ne,g,be,K),J-=be,g+=be,B-=be,K+=be,T.length-=be;break}T.mode=se;break;case pe:for(;W<14;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(T.nlen=(H&31)+257,H>>>=5,W-=5,T.ndist=(H&31)+1,H>>>=5,W-=5,T.ncode=(H&15)+4,H>>>=4,W-=4,T.nlen>286||T.ndist>30){G.msg="too many length or distance symbols",T.mode=D;break}T.have=0,T.mode=_e;case _e:for(;T.have<T.ncode;){for(;W<3;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.lens[Pc[T.have++]]=H&7,H>>>=3,W-=3}for(;T.have<19;)T.lens[Pc[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Ln={bits:T.lenbits},ze=i(o,T.lens,0,19,T.lencode,0,T.work,Ln),T.lenbits=Ln.bits,ze){G.msg="invalid code lengths set",T.mode=D;break}T.have=0,T.mode=Ce;case Ce:for(;T.have<T.nlen+T.ndist;){for(;U=T.lencode[H&(1<<T.lenbits)-1],Me=U>>>24,ft=U>>>16&255,rt=U&65535,!(Me<=W);){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(rt<16)H>>>=Me,W-=Me,T.lens[T.have++]=rt;else{if(rt===16){for(hn=Me+2;W<hn;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(H>>>=Me,W-=Me,T.have===0){G.msg="invalid bit length repeat",T.mode=D;break}pt=T.lens[T.have-1],be=3+(H&3),H>>>=2,W-=2}else if(rt===17){for(hn=Me+3;W<hn;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}H>>>=Me,W-=Me,pt=0,be=3+(H&7),H>>>=3,W-=3}else{for(hn=Me+7;W<hn;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}H>>>=Me,W-=Me,pt=0,be=11+(H&127),H>>>=7,W-=7}if(T.have+be>T.nlen+T.ndist){G.msg="invalid bit length repeat",T.mode=D;break}for(;be--;)T.lens[T.have++]=pt}}if(T.mode===D)break;if(T.lens[256]===0){G.msg="invalid code -- missing end-of-block",T.mode=D;break}if(T.lenbits=9,Ln={bits:T.lenbits},ze=i(a,T.lens,0,T.nlen,T.lencode,0,T.work,Ln),T.lenbits=Ln.bits,ze){G.msg="invalid literal/lengths set",T.mode=D;break}if(T.distbits=6,T.distcode=T.distdyn,Ln={bits:T.distbits},ze=i(s,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Ln),T.distbits=Ln.bits,ze){G.msg="invalid distances set",T.mode=D;break}if(T.mode=xe,Y===u)break e;case xe:T.mode=Te;case Te:if(J>=6&&B>=258){G.next_out=K,G.avail_out=B,G.next_in=g,G.avail_in=J,T.hold=H,T.bits=W,r(G,ge),K=G.next_out,ke=G.output,B=G.avail_out,g=G.next_in,ne=G.input,J=G.avail_in,H=T.hold,W=T.bits,T.mode===se&&(T.back=-1);break}for(T.back=0;U=T.lencode[H&(1<<T.lenbits)-1],Me=U>>>24,ft=U>>>16&255,rt=U&65535,!(Me<=W);){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(ft&&!(ft&240)){for(kt=Me,Ie=ft,xr=rt;U=T.lencode[xr+((H&(1<<kt+Ie)-1)>>kt)],Me=U>>>24,ft=U>>>16&255,rt=U&65535,!(kt+Me<=W);){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}H>>>=kt,W-=kt,T.back+=kt}if(H>>>=Me,W-=Me,T.back+=Me,T.length=rt,ft===0){T.mode=re;break}if(ft&32){T.back=-1,T.mode=se;break}if(ft&64){G.msg="invalid literal/length code",T.mode=D;break}T.extra=ft&15,T.mode=He;case He:if(T.extra){for(hn=T.extra;W<hn;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.length+=H&(1<<T.extra)-1,H>>>=T.extra,W-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=Le;case Le:for(;U=T.distcode[H&(1<<T.distbits)-1],Me=U>>>24,ft=U>>>16&255,rt=U&65535,!(Me<=W);){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(!(ft&240)){for(kt=Me,Ie=ft,xr=rt;U=T.distcode[xr+((H&(1<<kt+Ie)-1)>>kt)],Me=U>>>24,ft=U>>>16&255,rt=U&65535,!(kt+Me<=W);){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}H>>>=kt,W-=kt,T.back+=kt}if(H>>>=Me,W-=Me,T.back+=Me,ft&64){G.msg="invalid distance code",T.mode=D;break}T.offset=rt,T.extra=ft&15,T.mode=j;case j:if(T.extra){for(hn=T.extra;W<hn;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}T.offset+=H&(1<<T.extra)-1,H>>>=T.extra,W-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){G.msg="invalid distance too far back",T.mode=D;break}T.mode=q;case q:if(B===0)break e;if(be=ge-B,T.offset>be){if(be=T.offset-be,be>T.whave&&T.sane){G.msg="invalid distance too far back",T.mode=D;break}be>T.wnext?(be-=T.wnext,Ue=T.wsize-be):Ue=T.wnext-be,be>T.length&&(be=T.length),_n=T.window}else _n=ke,Ue=K-T.offset,be=T.length;be>B&&(be=B),B-=be,T.length-=be;do ke[K++]=_n[Ue++];while(--be);T.length===0&&(T.mode=Te);break;case re:if(B===0)break e;ke[K++]=T.length,B--,T.mode=Te;break;case $:if(T.wrap){for(;W<32;){if(J===0)break e;J--,H|=ne[g++]<<W,W+=8}if(ge-=B,G.total_out+=ge,T.total+=ge,ge&&(G.adler=T.check=T.flags?n(T.check,ke,ge,K-ge):t(T.check,ke,ge,K-ge)),ge=B,(T.flags?H:mt(H))!==T.check){G.msg="incorrect data check",T.mode=D;break}H=0,W=0}T.mode=ue;case ue:if(T.wrap&&T.flags){for(;W<32;){if(J===0)break e;J--,H+=ne[g++]<<W,W+=8}if(H!==(T.total&4294967295)){G.msg="incorrect length check",T.mode=D;break}H=0,W=0}T.mode=L;case L:ze=h;break e;case D:ze=b;break e;case ee:return v;case oe:default:return p}return G.next_out=K,G.avail_out=B,G.next_in=g,G.avail_in=J,T.hold=H,T.bits=W,(T.wsize||ge!==G.avail_out&&T.mode<D&&(T.mode<$||Y!==c))&&O(G,G.output,G.next_out,ge-G.avail_out),Se-=G.avail_in,ge-=G.avail_out,G.total_in+=Se,G.total_out+=ge,T.total+=ge,T.wrap&&ge&&(G.adler=T.check=T.flags?n(T.check,ke,ge,G.next_out-ge):t(T.check,ke,ge,G.next_out-ge)),G.data_type=T.bits+(T.last?64:0)+(T.mode===se?128:0)+(T.mode===xe||T.mode===le?256:0),(Se===0&&ge===0||Y===c)&&ze===f&&(ze=y),ze}function z(G){if(!G||!G.state)return p;var Y=G.state;return Y.window&&(Y.window=null),G.state=null,f}function V(G,Y){var T;return!G||!G.state||(T=G.state,!(T.wrap&2))?p:(T.head=Y,Y.done=!1,f)}function ae(G,Y){var T=Y.length,ne,ke,g;return!G||!G.state||(ne=G.state,ne.wrap!==0&&ne.mode!==Q)?p:ne.mode===Q&&(ke=1,ke=t(ke,Y,T,0),ke!==ne.check)?b:(g=O(G,Y,T,T),g?(ne.mode=ee,v):(ne.havedict=1,f))}return xn.inflateReset=tt,xn.inflateReset2=Pt,xn.inflateResetKeep=It,xn.inflateInit=nt,xn.inflateInit2=Ht,xn.inflate=w,xn.inflateEnd=z,xn.inflateGetHeader=V,xn.inflateSetDictionary=ae,xn.inflateInfo="pako inflate (from Nodeca project)",xn}var $d,yw;function xw(){return yw||(yw=1,$d={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),$d}var e0,ww;function p5(){if(ww)return e0;ww=1;function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return e0=e,e0}var vw;function g5(){if(vw)return Po;vw=1;var e=d5(),t=Yr(),n=fw(),r=xw(),i=Qd(),o=dw(),a=p5(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var d=e.inflateInit2(this.strm,h.windowBits);if(d!==r.Z_OK)throw new Error(i[d]);if(this.header=new a,e.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=n.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(d=e.inflateSetDictionary(this.strm,h.dictionary),d!==r.Z_OK)))throw new Error(i[d])}c.prototype.push=function(f,h){var d=this.strm,p=this.options.chunkSize,b=this.options.dictionary,v,y,A,_,E,C=!1;if(this.ended)return!1;y=h===~~h?h:h===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof f=="string"?d.input=n.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?d.input=new Uint8Array(f):d.input=f,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new t.Buf8(p),d.next_out=0,d.avail_out=p),v=e.inflate(d,r.Z_NO_FLUSH),v===r.Z_NEED_DICT&&b&&(v=e.inflateSetDictionary(this.strm,b)),v===r.Z_BUF_ERROR&&C===!0&&(v=r.Z_OK,C=!1),v!==r.Z_STREAM_END&&v!==r.Z_OK)return this.onEnd(v),this.ended=!0,!1;d.next_out&&(d.avail_out===0||v===r.Z_STREAM_END||d.avail_in===0&&(y===r.Z_FINISH||y===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(A=n.utf8border(d.output,d.next_out),_=d.next_out-A,E=n.buf2string(d.output,A),d.next_out=_,d.avail_out=p-_,_&&t.arraySet(d.output,d.output,A,_,0),this.onData(E)):this.onData(t.shrinkBuf(d.output,d.next_out))),d.avail_in===0&&d.avail_out===0&&(C=!0)}while((d.avail_in>0||d.avail_out===0)&&v!==r.Z_STREAM_END);return v===r.Z_STREAM_END&&(y=r.Z_FINISH),y===r.Z_FINISH?(v=e.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===r.Z_OK):(y===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),d.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var d=new c(h);if(d.push(f,!0),d.err)throw d.msg||i[d.err];return d.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return Po.Inflate=c,Po.inflate=l,Po.inflateRaw=u,Po.ungzip=l,Po}var t0,Aw;function m5(){if(Aw)return t0;Aw=1;var e=Yr().assign,t=u5(),n=g5(),r=xw(),i={};return e(i,t,n,r),t0=i,t0}var bu=m5();async function Qr(e){try{let t,n=0,r=0;const i=[];let o=0,a;do{const c=e.subarray(n);if(a=new bu.Inflate,{strm:t}=a,a.push(c,bu.Z_SYNC_FLUSH),a.err)throw new Error(a.msg);n+=t.next_in,i[r]=a.result,o+=i[r].length,r+=1}while(t.avail_in);const s=new Uint8Array(o);for(let c=0,l=0;c<i.length;c++)s.set(i[c],l),l+=i[c].length;return $e.Buffer.from(s)}catch(t){throw/incorrect header check/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function Ew(e,t){try{let n;const{minv:r,maxv:i}=t;let o=r.blockPosition,a=r.dataPosition;const s=[],c=[],l=[];let u=0,f=0;do{const p=e.subarray(o-r.blockPosition),b=new bu.Inflate;if({strm:n}=b,b.push(p,bu.Z_SYNC_FLUSH),b.err)throw new Error(b.msg);const v=b.result;s.push(v);let y=v.length;c.push(o),l.push(a),s.length===1&&r.dataPosition&&(s[0]=s[0].subarray(r.dataPosition),y=s[0].length);const A=o;if(o+=n.next_in,a+=y,A>=i.blockPosition){s[f]=s[f].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),c.push(o),l.push(a),u+=s[f].length;break}u+=s[f].length,f++}while(n.avail_in);const h=new Uint8Array(u);for(let p=0,b=0;p<s.length;p++)h.set(s[p],b),b+=s[p].length;return{buffer:$e.Buffer.from(h),cpositions:c,dpositions:l}}catch(n){throw/incorrect header check/.exec(`${n}`)?new Error("problem decompressing block: incorrect gzip header check"):n}}var n0,Sw;function b5(){if(Sw)return n0;Sw=1,n0=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(P,S,Z){this.low=P|0,this.high=S|0,this.unsigned=!!Z}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(P){return(P&&P.__isLong__)===!0}t.isLong=n;var r={},i={};function o(P,S){var Z,Q,se;return S?(P>>>=0,(se=0<=P&&P<256)&&(Q=i[P],Q)?Q:(Z=s(P,(P|0)<0?-1:0,!0),se&&(i[P]=Z),Z)):(P|=0,(se=-128<=P&&P<128)&&(Q=r[P],Q)?Q:(Z=s(P,P<0?-1:0,!1),se&&(r[P]=Z),Z))}t.fromInt=o;function a(P,S){if(isNaN(P))return S?A:y;if(S){if(P<0)return A;if(P>=p)return I}else{if(P<=-b)return N;if(P+1>=b)return F}return P<0?a(-P,S).neg():s(P%d|0,P/d|0,S)}t.fromNumber=a;function s(P,S,Z){return new t(P,S,Z)}t.fromBits=s;var c=Math.pow;function l(P,S,Z){if(P.length===0)throw Error("empty string");if(P==="NaN"||P==="Infinity"||P==="+Infinity"||P==="-Infinity")return y;if(typeof S=="number"?(Z=S,S=!1):S=!!S,Z=Z||10,Z<2||36<Z)throw RangeError("radix");var Q;if((Q=P.indexOf("-"))>0)throw Error("interior hyphen");if(Q===0)return l(P.substring(1),S,Z).neg();for(var se=a(c(Z,8)),ce=y,fe=0;fe<P.length;fe+=8){var le=Math.min(8,P.length-fe),Ee=parseInt(P.substring(fe,fe+le),Z);if(le<8){var pe=a(c(Z,le));ce=ce.mul(pe).add(a(Ee))}else ce=ce.mul(se),ce=ce.add(a(Ee))}return ce.unsigned=S,ce}t.fromString=l;function u(P,S){return typeof P=="number"?a(P,S):typeof P=="string"?l(P,S):s(P.low,P.high,typeof S=="boolean"?S:P.unsigned)}t.fromValue=u;var f=65536,h=1<<24,d=f*f,p=d*d,b=p/2,v=o(h),y=o(0);t.ZERO=y;var A=o(0,!0);t.UZERO=A;var _=o(1);t.ONE=_;var E=o(1,!0);t.UONE=E;var C=o(-1);t.NEG_ONE=C;var F=s(-1,2147483647,!1);t.MAX_VALUE=F;var I=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=I;var N=s(0,-2147483648,!1);t.MIN_VALUE=N;var R=t.prototype;return R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},R.toString=function(S){if(S=S||10,S<2||36<S)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(N)){var Z=a(S),Q=this.div(Z),se=Q.mul(Z).sub(this);return Q.toString(S)+se.toInt().toString(S)}else return"-"+this.neg().toString(S);for(var ce=a(c(S,6),this.unsigned),fe=this,le="";;){var Ee=fe.div(ce),pe=fe.sub(Ee.mul(ce)).toInt()>>>0,_e=pe.toString(S);if(fe=Ee,fe.isZero())return _e+le;for(;_e.length<6;)_e="0"+_e;le=""+_e+le}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(N)?64:this.neg().getNumBitsAbs();for(var S=this.high!=0?this.high:this.low,Z=31;Z>0&&!(S&1<<Z);Z--);return this.high!=0?Z+33:Z+1},R.isZero=function(){return this.high===0&&this.low===0},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return(this.low&1)===1},R.isEven=function(){return(this.low&1)===0},R.equals=function(S){return n(S)||(S=u(S)),this.unsigned!==S.unsigned&&this.high>>>31===1&&S.high>>>31===1?!1:this.high===S.high&&this.low===S.low},R.eq=R.equals,R.notEquals=function(S){return!this.eq(S)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(S){return this.comp(S)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(S){return this.comp(S)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(S){return this.comp(S)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(S){return this.comp(S)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(S){if(n(S)||(S=u(S)),this.eq(S))return 0;var Z=this.isNegative(),Q=S.isNegative();return Z&&!Q?-1:!Z&&Q?1:this.unsigned?S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1:this.sub(S).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(N)?N:this.not().add(_)},R.neg=R.negate,R.add=function(S){n(S)||(S=u(S));var Z=this.high>>>16,Q=this.high&65535,se=this.low>>>16,ce=this.low&65535,fe=S.high>>>16,le=S.high&65535,Ee=S.low>>>16,pe=S.low&65535,_e=0,Ce=0,xe=0,Te=0;return Te+=ce+pe,xe+=Te>>>16,Te&=65535,xe+=se+Ee,Ce+=xe>>>16,xe&=65535,Ce+=Q+le,_e+=Ce>>>16,Ce&=65535,_e+=Z+fe,_e&=65535,s(xe<<16|Te,_e<<16|Ce,this.unsigned)},R.subtract=function(S){return n(S)||(S=u(S)),this.add(S.neg())},R.sub=R.subtract,R.multiply=function(S){if(this.isZero())return y;if(n(S)||(S=u(S)),e){var Z=e.mul(this.low,this.high,S.low,S.high);return s(Z,e.get_high(),this.unsigned)}if(S.isZero())return y;if(this.eq(N))return S.isOdd()?N:y;if(S.eq(N))return this.isOdd()?N:y;if(this.isNegative())return S.isNegative()?this.neg().mul(S.neg()):this.neg().mul(S).neg();if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(v)&&S.lt(v))return a(this.toNumber()*S.toNumber(),this.unsigned);var Q=this.high>>>16,se=this.high&65535,ce=this.low>>>16,fe=this.low&65535,le=S.high>>>16,Ee=S.high&65535,pe=S.low>>>16,_e=S.low&65535,Ce=0,xe=0,Te=0,He=0;return He+=fe*_e,Te+=He>>>16,He&=65535,Te+=ce*_e,xe+=Te>>>16,Te&=65535,Te+=fe*pe,xe+=Te>>>16,Te&=65535,xe+=se*_e,Ce+=xe>>>16,xe&=65535,xe+=ce*pe,Ce+=xe>>>16,xe&=65535,xe+=fe*Ee,Ce+=xe>>>16,xe&=65535,Ce+=Q*_e+se*pe+ce*Ee+fe*le,Ce&=65535,s(Te<<16|He,Ce<<16|xe,this.unsigned)},R.mul=R.multiply,R.divide=function(S){if(n(S)||(S=u(S)),S.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&S.low===-1&&S.high===-1)return this;var Z=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,S.low,S.high);return s(Z,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?A:y;var Q,se,ce;if(this.unsigned){if(S.unsigned||(S=S.toUnsigned()),S.gt(this))return A;if(S.gt(this.shru(1)))return E;ce=A}else{if(this.eq(N)){if(S.eq(_)||S.eq(C))return N;if(S.eq(N))return _;var fe=this.shr(1);return Q=fe.div(S).shl(1),Q.eq(y)?S.isNegative()?_:C:(se=this.sub(S.mul(Q)),ce=Q.add(se.div(S)),ce)}else if(S.eq(N))return this.unsigned?A:y;if(this.isNegative())return S.isNegative()?this.neg().div(S.neg()):this.neg().div(S).neg();if(S.isNegative())return this.div(S.neg()).neg();ce=y}for(se=this;se.gte(S);){Q=Math.max(1,Math.floor(se.toNumber()/S.toNumber()));for(var le=Math.ceil(Math.log(Q)/Math.LN2),Ee=le<=48?1:c(2,le-48),pe=a(Q),_e=pe.mul(S);_e.isNegative()||_e.gt(se);)Q-=Ee,pe=a(Q,this.unsigned),_e=pe.mul(S);pe.isZero()&&(pe=_),ce=ce.add(pe),se=se.sub(_e)}return ce},R.div=R.divide,R.modulo=function(S){if(n(S)||(S=u(S)),e){var Z=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,S.low,S.high);return s(Z,e.get_high(),this.unsigned)}return this.sub(this.div(S).mul(S))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return s(~this.low,~this.high,this.unsigned)},R.and=function(S){return n(S)||(S=u(S)),s(this.low&S.low,this.high&S.high,this.unsigned)},R.or=function(S){return n(S)||(S=u(S)),s(this.low|S.low,this.high|S.high,this.unsigned)},R.xor=function(S){return n(S)||(S=u(S)),s(this.low^S.low,this.high^S.high,this.unsigned)},R.shiftLeft=function(S){return n(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?s(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned):s(0,this.low<<S-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(S){return n(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?s(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned):s(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(S){if(n(S)&&(S=S.toInt()),S&=63,S===0)return this;var Z=this.high;if(S<32){var Q=this.low;return s(Q>>>S|Z<<32-S,Z>>>S,this.unsigned)}else return S===32?s(Z,0,this.unsigned):s(Z>>>S-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},R.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var S=this.high,Z=this.low;return[Z&255,Z>>>8&255,Z>>>16&255,Z>>>24,S&255,S>>>8&255,S>>>16&255,S>>>24]},R.toBytesBE=function(){var S=this.high,Z=this.low;return[S>>>24,S>>>16&255,S>>>8&255,S&255,Z>>>24,Z>>>16&255,Z>>>8&255,Z&255]},t.fromBytes=function(S,Z,Q){return Q?t.fromBytesLE(S,Z):t.fromBytesBE(S,Z)},t.fromBytesLE=function(S,Z){return new t(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,Z)},t.fromBytesBE=function(S,Z){return new t(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],Z)},n0}var y5=b5();const yu=gu(y5),xu=1;class x5{constructor({filehandle:t,path:n}){if(t)this.filehandle=t;else if(n)this.filehandle=new Tt(n);else throw new TypeError("either filehandle or path must be defined")}_readLongWithOverflow(t,n=0,r=!0){const i=yu.fromBytesLE(t.slice(n,n+8),r);if(i.greaterThan(Number.MAX_SAFE_INTEGER)||i.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return i.toNumber()}_getIndex(){return this.index||(this.index=this._readIndex()),this.index}async _readIndex(){let t=$e.Buffer.allocUnsafe(8);await this.filehandle.read(t,0,8,0);const n=this._readLongWithOverflow(t,0,!0);if(!n)return[[0,0]];const r=new Array(n+1);r[0]=[0,0];const i=8*2*n;if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");t=$e.Buffer.allocUnsafe(i),await this.filehandle.read(t,0,i,8);for(let o=0;o<n;o+=1){const a=this._readLongWithOverflow(t,o*16),s=this._readLongWithOverflow(t,o*16+8);r[o+1]=[a,s]}return r}async getLastBlock(){const t=await this._getIndex();if(t.length)return t[t.length-1]}async getRelevantBlocksForRead(t,n){const r=n+t;if(t===0)return[];const i=await this._getIndex(),o=[],a=(h,d)=>{const p=h[xu],b=d?d[xu]:1/0;return p<=n&&b>n?0:p<n?-1:1};let s=0,c=i.length-1,l=Math.floor(i.length/2),u=a(i[l],i[l+1]);for(;u!==0;)u>0?c=l-1:u<0&&(s=l+1),l=Math.ceil((c-s)/2)+s,u=a(i[l],i[l+1]);o.push(i[l]);let f=l+1;for(;f<i.length&&(o.push(i[f]),!(i[f][xu]>=r));f+=1);return o[o.length-1][xu]<r&&o.push([]),o}}class _w{constructor({filehandle:t,path:n,gziFilehandle:r,gziPath:i}){if(t)this.filehandle=t;else if(n)this.filehandle=new Tt(n);else throw new TypeError("either filehandle or path must be defined");if(!r&&!i&&!n)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new x5({filehandle:r,path:!r&&!i&&n?i:`${n}.gzi`})}async stat(){const t=await this.filehandle.stat();return Object.assign(t,{size:await this.getUncompressedFileSize(),blocks:void 0,blksize:void 0})}async getUncompressedFileSize(){const[,t]=await this.gzi.getLastBlock(),{size:n}=await this.filehandle.stat(),r=$e.Buffer.allocUnsafe(4),{bytesRead:i}=await this.filehandle.read(r,0,4,n-28-4);if(i!==4)throw new Error("read error");const o=r.readUInt32LE(0);return t+o}async _readAndUncompressBlock(t,[n],[r]){let i=r;i||(i=(await this.filehandle.stat()).size);const o=i-n;return await this.filehandle.read(t,0,o,n),await Qr(t.slice(0,o))}async read(t,n,r,i){const o=await this.gzi.getRelevantBlocksForRead(r,i),a=$e.Buffer.allocUnsafe(32768*2);let s=n,c=0;for(let l=0;l<o.length-1;l+=1){const u=await this._readAndUncompressBlock(a,o[l],o[l+1]),[,f]=o[l],h=f>=i?0:i-f,d=Math.min(i+r,f+u.length)-f;h>=0&&h<u.length&&(u.copy(t,s,h,d),s+=d-h,c+=d-h)}return{bytesRead:c,buffer:t}}}function Cw(e,t){return e.offset+e.lineBytes*Math.floor(t/e.lineLength)+t%e.lineLength}async function w5(e,t){const n=await e.readFile(t);if(!(n!=null&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const o=n.toString("utf8").split(/\r?\n/).filter(a=>/\S/.test(a)).map(a=>a.split("	")).filter(a=>a[0]!=="").map(a=>((!i||i.name!==a[0])&&(i={name:a[0],id:r},r+=1),{id:i.id,name:a[0],length:+a[1],start:0,end:+a[1],offset:+a[2],lineLength:+a[3],lineBytes:+a[4]}));return{name:Object.fromEntries(o.map(a=>[a.name,a])),id:Object.fromEntries(o.map(a=>[a.id,a]))}}class Tw{constructor({fasta:t,fai:n,path:r,faiPath:i}){if(t)this.fasta=t;else if(r)this.fasta=new Tt(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new Tt(i);else if(r)this.fai=new Tt(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile")}async _getIndexes(t){return this.indexes||(this.indexes=w5(this.fai,t)),this.indexes}async getSequenceNames(t){return Object.keys((await this._getIndexes(t)).name)}async getSequenceSizes(t){const n={},r=await this._getIndexes(t);for(const i of Object.values(r.id))n[i.name]=i.length;return n}async getSequenceSize(t,n){var r;return(r=(await this._getIndexes(n)).name[t])===null||r===void 0?void 0:r.length}async hasReferenceSequence(t,n){return!!(await this._getIndexes(n)).name[t]}async getResiduesById(t,n,r,i){const o=(await this._getIndexes(i)).id[t];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getResiduesByName(t,n,r,i){const o=(await this._getIndexes(i)).name[t];if(o)return this._fetchFromIndexEntry(o,n,r,i)}async getSequence(t,n,r,i){return this.getResiduesByName(t,n,r,i)}async _fetchFromIndexEntry(t,n=0,r,i){let o=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((o===void 0||o>t.length)&&(o=t.length),n>=o)return"";const a=Cw(t,n),s=Cw(t,o)-a,c=$e.Buffer.allocUnsafe(s);return await this.fasta.read(c,0,s,a,i),c.toString("utf8").replace(/\s+/g,"")}}class v5 extends Tw{constructor({fasta:t,path:n,fai:r,faiPath:i,gzi:o,gziPath:a}){super({fasta:t,path:n,fai:r,faiPath:i}),t&&o?this.fasta=new _w({filehandle:t,gziFilehandle:o}):n&&a&&(this.fasta=new _w({path:n,gziPath:a}))}}function Dw(e){return e.split(">").filter(t=>/\S/.test(t)).map(t=>{const[n,...r]=t.split(`
`),[i,...o]=n.split(" "),a=r.join("").replace(/\s/g,"");return{id:i,description:o.join(" "),sequence:a}})}class A5{constructor({fasta:t,path:n}){if(t)this.fasta=t;else if(n)this.fasta=new Tt(n);else throw new Error("Need to pass fasta or path");this.data=this.fasta.readFile().then(r=>{const i=r.toString("utf8");return Dw(i)})}async fetch(t,n,r){const o=(await this.data).find(s=>s.id===t),a=r-n;if(!o)throw new Error(`no sequence with id ${t} exists`);return o.sequence.slice(n,a)}async getSequenceNames(){return(await this.data).map(n=>n.id)}}const E5=Object.freeze(Object.defineProperty({__proto__:null,BgzipIndexedFasta:v5,FetchableSmallFasta:A5,IndexedFasta:Tw,parseSmallFasta:Dw},Symbol.toStringTag,{value:"Module"})),Iw=BigInt(32);function S5(e,t,n){const r=+!!n,i=+!n;return BigInt(e.getInt32(t,n)*i+e.getInt32(t+4,n)*r)<<Iw|BigInt(e.getUint32(t,n)*r+e.getUint32(t+4,n)*i)}function _5(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n),o=+!!n,a=+!n;return BigInt(r*a+i*o)<<Iw|BigInt(r*o+i*a)}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(e,t){return S5(this,e,t)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(e,t){return _5(this,e,t)});class C5{}class T5{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(t=new C5){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}class D5{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t;for(const n of this.callbacks)n(t)}}class Ui{constructor({fill:t,cache:n}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,n){this.cache.get(t)===n&&this.cache.delete(t)}fill(t,n,r,i){const o=new T5,a=new D5;a.addCallback(i);const s={aborter:o,promise:this.fillCallback(n,o.signal,c=>{a.callback(c)}),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(r),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(t,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(t,s)}).catch(c=>{throw console.error(c),c}),this.cache.set(t,s)}static checkSinglePromise(t,n){function r(){if(n!=null&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(r(),i),i=>{throw r(),i})}has(t){return this.cache.has(t)}get(t,n,r,i){if(!r&&n instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const o=this.cache.get(t);return o?o.aborted&&!o.settled?(this.evict(t,o),this.get(t,n,r,i)):o.settled?o.promise:(o.aborter.addSignal(r),o.statusReporter.addCallback(i),Ui.checkSinglePromise(o.promise,r)):(this.fill(t,n,r,i),Ui.checkSinglePromise(this.cache.get(t).promise,r))}delete(t){const n=this.cache.get(t);n&&(n.settled||n.aborter.abort(),this.cache.delete(t))}clear(){const t=this.cache.keys();let n=0;for(let r=t.next();!r.done;r=t.next())this.delete(r.value),n+=1;return n}}var r0,kw;function I5(){if(kw)return r0;kw=1;class e{constructor(n={}){if(!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=n.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(n,r){this.cache.set(n,r),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n)){const r=this.oldCache.get(n);return this.oldCache.delete(n),this._set(n,r),r}}set(n,r){return this.cache.has(n)?this.cache.set(n,r):this._set(n,r),this}has(n){return this.cache.has(n)||this.oldCache.has(n)}peek(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n))return this.oldCache.get(n)}delete(n){const r=this.cache.delete(n);return r&&this._size--,this.oldCache.delete(n)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[n]of this)yield n}*values(){for(const[,n]of this)yield n}*[Symbol.iterator](){for(const n of this.cache)yield n;for(const n of this.oldCache){const[r]=n;this.cache.has(r)||(yield n)}}get size(){let n=0;for(const r of this.oldCache.keys())this.cache.has(r)||n++;return this._size+n}}return r0=e,r0}var k5=I5();const wu=gu(k5);class Lo{constructor(t){this.ranges=t}get min(){return this.ranges[0].min}get max(){return this.ranges.at(-1).max}contains(t){for(const n of this.ranges)if(n.min<=t&&n.max>=t)return!0;return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new Lo([{min:t.min,max:t.max}]))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){const n=[...this.getRanges(),...t.getRanges()].sort((o,a)=>o.min<a.min?-1:o.min>a.min?1:o.max<a.max?-1:a.max>o.max?1:0),r=[];let i=n[0];for(const o of n)o.min>i.max+1?(r.push(i),i=o):o.max>i.max&&(i=new Lo([{min:i.min,max:o.max}]));return r.push(i),r.length===1?r[0]:new Lo(r)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const B5=4,Bw=0,Fw=1,F5=2;function Oo(e){let t=e.length;for(;--t>=0;)e[t]=0}const R5=0,Rw=1,M5=2,P5=3,L5=258,i0=29,Ws=256,Zs=Ws+1+i0,No=30,o0=19,Mw=2*Zs+1,Gi=15,a0=16,O5=7,s0=256,Pw=16,Lw=17,Ow=18,c0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),N5=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Nw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z5=512,hr=new Array((Zs+2)*2);Oo(hr);const Ys=new Array(No*2);Oo(Ys);const Qs=new Array(z5);Oo(Qs);const Xs=new Array(L5-P5+1);Oo(Xs);const l0=new Array(i0);Oo(l0);const Au=new Array(No);Oo(Au);function u0(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let zw,Uw,Gw;function f0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Hw=e=>e<256?Qs[e]:Qs[256+(e>>>7)],Ks=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},tn=(e,t,n)=>{e.bi_valid>a0-n?(e.bi_buf|=t<<e.bi_valid&65535,Ks(e,e.bi_buf),e.bi_buf=t>>a0-e.bi_valid,e.bi_valid+=n-a0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Qn=(e,t,n)=>{tn(e,n[t*2],n[t*2+1])},Vw=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},U5=e=>{e.bi_valid===16?(Ks(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},G5=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,f,h,d,p,b=0;for(h=0;h<=Gi;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Mw;l++)u=e.heap[l],h=n[n[u*2+1]*2+1]+1,h>c&&(h=c,b++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=s&&(d=a[u-s]),p=n[u*2],e.opt_len+=p*(h+d),o&&(e.static_len+=p*(i[u*2+1]+d)));if(b!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,b-=2}while(b>0);for(h=c;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--l],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),u--)}},qw=(e,t,n)=>{const r=new Array(Gi+1);let i=0,o,a;for(o=1;o<=Gi;o++)i=i+n[o-1]<<1,r[o]=i;for(a=0;a<=t;a++){let s=e[a*2+1];s!==0&&(e[a*2]=Vw(r[s]++,s))}},H5=()=>{let e,t,n,r,i;const o=new Array(Gi+1);for(n=0,r=0;r<i0-1;r++)for(l0[r]=n,e=0;e<1<<c0[r];e++)Xs[n++]=r;for(Xs[n-1]=r,i=0,r=0;r<16;r++)for(Au[r]=i,e=0;e<1<<vu[r];e++)Qs[i++]=r;for(i>>=7;r<No;r++)for(Au[r]=i<<7,e=0;e<1<<vu[r]-7;e++)Qs[256+i++]=r;for(t=0;t<=Gi;t++)o[t]=0;for(e=0;e<=143;)hr[e*2+1]=8,e++,o[8]++;for(;e<=255;)hr[e*2+1]=9,e++,o[9]++;for(;e<=279;)hr[e*2+1]=7,e++,o[7]++;for(;e<=287;)hr[e*2+1]=8,e++,o[8]++;for(qw(hr,Zs+1,o),e=0;e<No;e++)Ys[e*2+1]=5,Ys[e*2]=Vw(e,5);zw=new u0(hr,c0,Ws+1,Zs,Gi),Uw=new u0(Ys,vu,0,No,Gi),Gw=new u0(new Array(0),N5,0,o0,O5)},jw=e=>{let t;for(t=0;t<Zs;t++)e.dyn_ltree[t*2]=0;for(t=0;t<No;t++)e.dyn_dtree[t*2]=0;for(t=0;t<o0;t++)e.bl_tree[t*2]=0;e.dyn_ltree[s0*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ww=e=>{e.bi_valid>8?Ks(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Zw=(e,t,n,r)=>{const i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},h0=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Zw(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Zw(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Yw=(e,t,n)=>{let r,i,o=0,a,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],r===0?Qn(e,i,t):(a=Xs[i],Qn(e,a+Ws+1,t),s=c0[a],s!==0&&(i-=l0[a],tn(e,i,s)),r--,a=Hw(r),Qn(e,a,n),s=vu[a],s!==0&&(r-=Au[a],tn(e,r,s)));while(o<e.sym_next);Qn(e,s0,t)},d0=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,c=-1,l;for(e.heap_len=0,e.heap_max=Mw,a=0;a<o;a++)n[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[a*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)h0(e,n,a);l=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],h0(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[l*2]=n[a*2]+n[s*2],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[a*2+1]=n[s*2+1]=l,e.heap[1]=l++,h0(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],G5(e,t),qw(n,c,e.bl_count)},Qw=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,c=7,l=4;for(a===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=a,a=t[(r+1)*2+1],!(++s<c&&o===a)&&(s<l?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[Pw*2]++):s<=10?e.bl_tree[Lw*2]++:e.bl_tree[Ow*2]++,s=0,i=o,a===0?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))},Xw=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,c=7,l=4;for(a===0&&(c=138,l=3),r=0;r<=n;r++)if(o=a,a=t[(r+1)*2+1],!(++s<c&&o===a)){if(s<l)do Qn(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(Qn(e,o,e.bl_tree),s--),Qn(e,Pw,e.bl_tree),tn(e,s-3,2)):s<=10?(Qn(e,Lw,e.bl_tree),tn(e,s-3,3)):(Qn(e,Ow,e.bl_tree),tn(e,s-11,7));s=0,i=o,a===0?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}},V5=e=>{let t;for(Qw(e,e.dyn_ltree,e.l_desc.max_code),Qw(e,e.dyn_dtree,e.d_desc.max_code),d0(e,e.bl_desc),t=o0-1;t>=3&&e.bl_tree[Nw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},q5=(e,t,n,r)=>{let i;for(tn(e,t-257,5),tn(e,n-1,5),tn(e,r-4,4),i=0;i<r;i++)tn(e,e.bl_tree[Nw[i]*2+1],3);Xw(e,e.dyn_ltree,t-1),Xw(e,e.dyn_dtree,n-1)},j5=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Bw;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Fw;for(n=32;n<Ws;n++)if(e.dyn_ltree[n*2]!==0)return Fw;return Bw};let Kw=!1;const W5=e=>{Kw||(H5(),Kw=!0),e.l_desc=new f0(e.dyn_ltree,zw),e.d_desc=new f0(e.dyn_dtree,Uw),e.bl_desc=new f0(e.bl_tree,Gw),e.bi_buf=0,e.bi_valid=0,jw(e)},Jw=(e,t,n,r)=>{tn(e,(R5<<1)+(r?1:0),3),Ww(e),Ks(e,n),Ks(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Z5=e=>{tn(e,Rw<<1,3),Qn(e,s0,hr),U5(e)},Y5=(e,t,n,r)=>{let i,o,a=0;e.level>0?(e.strm.data_type===F5&&(e.strm.data_type=j5(e)),d0(e,e.l_desc),d0(e,e.d_desc),a=V5(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?Jw(e,t,n,r):e.strategy===B5||o===i?(tn(e,(Rw<<1)+(r?1:0),3),Yw(e,hr,Ys)):(tn(e,(M5<<1)+(r?1:0),3),q5(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Yw(e,e.dyn_ltree,e.dyn_dtree)),jw(e),r&&Ww(e)},Q5=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Xs[n]+Ws+1)*2]++,e.dyn_dtree[Hw(t)*2]++),e.sym_next===e.sym_end);var X5=W5,K5=Jw,J5=Y5,$5=Q5,eM=Z5,tM={_tr_init:X5,_tr_stored_block:K5,_tr_flush_block:J5,_tr_tally:$5,_tr_align:eM},Js=(e,t,n,r)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0};const nM=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},rM=new Uint32Array(nM());var Dt=(e,t,n,r)=>{const i=rM,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1},zo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$s={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:iM,_tr_stored_block:p0,_tr_flush_block:oM,_tr_tally:Xr,_tr_align:aM}=tM,{Z_NO_FLUSH:Kr,Z_PARTIAL_FLUSH:sM,Z_FULL_FLUSH:cM,Z_FINISH:wn,Z_BLOCK:$w,Z_OK:Mt,Z_STREAM_END:ev,Z_STREAM_ERROR:Xn,Z_DATA_ERROR:lM,Z_BUF_ERROR:g0,Z_DEFAULT_COMPRESSION:uM,Z_FILTERED:fM,Z_HUFFMAN_ONLY:Eu,Z_RLE:hM,Z_FIXED:dM,Z_DEFAULT_STRATEGY:pM,Z_UNKNOWN:gM,Z_DEFLATED:Su}=$s,mM=9,bM=15,yM=8,m0=256+1+29,xM=30,wM=19,vM=2*m0+1,AM=15,Ge=3,Jr=258,Kn=Jr+Ge+1,EM=32,Uo=42,b0=57,y0=69,x0=73,w0=91,v0=103,Hi=113,ec=666,Qt=1,Go=2,Vi=3,Ho=4,SM=3,qi=(e,t)=>(e.msg=zo[t],t),tv=e=>e*2-(e>4?9:0),$r=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_M=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let ei=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const sn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},cn=(e,t)=>{oM(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,sn(e.strm)},Qe=(e,t)=>{e.pending_buf[e.pending++]=t},tc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},A0=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Js(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Dt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},nv=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-Kn?e.strstart-(e.w_size-Kn):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+Jr;let d=l[r+a-1],p=l[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(l[i+a]!==p||l[i+a-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<h);if(o=Jr-(h-r),r=h-Jr,o>a){if(e.match_start=t,a=o,o>=s)break;d=l[r+a-1],p=l[r+a]}}while((t=f[t&u])>c&&--n!==0);return a<=e.lookahead?a:e.lookahead},Vo=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Kn)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_M(e),r+=t),e.strm.avail_in===0)break;if(n=A0(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Ge)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ei(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ei(e,e.ins_h,e.window[i+Ge-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ge)););}while(e.lookahead<Kn&&e.strm.avail_in!==0)},rv=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,o,a=0,s=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==wn||t===Kr||r!==i+e.strm.avail_in)))break;a=t===wn&&r===i+e.strm.avail_in?1:0,p0(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,sn(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(A0(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(a===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Ho:t!==Kr&&t!==wn&&e.strm.avail_in===0&&e.strstart===e.block_start?Go:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(A0(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=n||(i||t===wn)&&t!==Kr&&e.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,a=t===wn&&e.strm.avail_in===0&&r===i?1:0,p0(e,e.block_start,r,a),e.block_start+=r,sn(e.strm)),a?Vi:Qt)},E0=(e,t)=>{let n,r;for(;;){if(e.lookahead<Kn){if(Vo(e),e.lookahead<Kn&&t===Kr)return Qt;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ge&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ge-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Kn&&(e.match_length=nv(e,n)),e.match_length>=Ge)if(r=Xr(e,e.strstart-e.match_start,e.match_length-Ge),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ge){e.match_length--;do e.strstart++,e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ge-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ei(e,e.ins_h,e.window[e.strstart+1]);else r=Xr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(cn(e,!1),e.strm.avail_out===0))return Qt}return e.insert=e.strstart<Ge-1?e.strstart:Ge-1,t===wn?(cn(e,!0),e.strm.avail_out===0?Vi:Ho):e.sym_next&&(cn(e,!1),e.strm.avail_out===0)?Qt:Go},qo=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Kn){if(Vo(e),e.lookahead<Kn&&t===Kr)return Qt;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ge&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ge-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ge-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Kn&&(e.match_length=nv(e,n),e.match_length<=5&&(e.strategy===fM||e.match_length===Ge&&e.strstart-e.match_start>4096)&&(e.match_length=Ge-1)),e.prev_length>=Ge&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ge,r=Xr(e,e.strstart-1-e.prev_match,e.prev_length-Ge),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ge-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ge-1,e.strstart++,r&&(cn(e,!1),e.strm.avail_out===0))return Qt}else if(e.match_available){if(r=Xr(e,0,e.window[e.strstart-1]),r&&cn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Qt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Xr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ge-1?e.strstart:Ge-1,t===wn?(cn(e,!0),e.strm.avail_out===0?Vi:Ho):e.sym_next&&(cn(e,!1),e.strm.avail_out===0)?Qt:Go},CM=(e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=Jr){if(Vo(e),e.lookahead<=Jr&&t===Kr)return Qt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ge&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+Jr;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=Jr-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ge?(n=Xr(e,1,e.match_length-Ge),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Xr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(cn(e,!1),e.strm.avail_out===0))return Qt}return e.insert=0,t===wn?(cn(e,!0),e.strm.avail_out===0?Vi:Ho):e.sym_next&&(cn(e,!1),e.strm.avail_out===0)?Qt:Go},TM=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Vo(e),e.lookahead===0)){if(t===Kr)return Qt;break}if(e.match_length=0,n=Xr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(cn(e,!1),e.strm.avail_out===0))return Qt}return e.insert=0,t===wn?(cn(e,!0),e.strm.avail_out===0?Vi:Ho):e.sym_next&&(cn(e,!1),e.strm.avail_out===0)?Qt:Go};function Jn(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const nc=[new Jn(0,0,0,0,rv),new Jn(4,4,8,4,E0),new Jn(4,5,16,8,E0),new Jn(4,6,32,32,E0),new Jn(4,4,16,16,qo),new Jn(8,16,32,32,qo),new Jn(8,16,128,128,qo),new Jn(8,32,128,256,qo),new Jn(32,128,258,1024,qo),new Jn(32,258,258,4096,qo)],DM=e=>{e.window_size=2*e.w_size,$r(e.head),e.max_lazy_match=nc[e.level].max_lazy,e.good_match=nc[e.level].good_length,e.nice_match=nc[e.level].nice_length,e.max_chain_length=nc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ge-1,e.match_available=0,e.ins_h=0};function IM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Su,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(vM*2),this.dyn_dtree=new Uint16Array((2*xM+1)*2),this.bl_tree=new Uint16Array((2*wM+1)*2),$r(this.dyn_ltree),$r(this.dyn_dtree),$r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(AM+1),this.heap=new Uint16Array(2*m0+1),$r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*m0+1),$r(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const rc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Uo&&t.status!==b0&&t.status!==y0&&t.status!==x0&&t.status!==w0&&t.status!==v0&&t.status!==Hi&&t.status!==ec?1:0},iv=e=>{if(rc(e))return qi(e,Xn);e.total_in=e.total_out=0,e.data_type=gM;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?b0:t.wrap?Uo:Hi,e.adler=t.wrap===2?0:1,t.last_flush=-2,iM(t),Mt},ov=e=>{const t=iv(e);return t===Mt&&DM(e.state),t},kM=(e,t)=>rc(e)||e.state.wrap!==2?Xn:(e.state.gzhead=t,Mt),av=(e,t,n,r,i,o)=>{if(!e)return Xn;let a=1;if(t===uM&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>mM||n!==Su||r<8||r>15||t<0||t>9||o<0||o>dM||r===8&&a!==1)return qi(e,Xn);r===8&&(r=9);const s=new IM;return e.state=s,s.strm=e,s.status=Uo,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ge-1)/Ge),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=n,ov(e)},BM=(e,t)=>av(e,t,Su,bM,yM,pM),FM=(e,t)=>{if(rc(e)||t>$w||t<0)return e?qi(e,Xn):Xn;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===ec&&t!==wn)return qi(e,e.avail_out===0?g0:Xn);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(sn(e),e.avail_out===0)return n.last_flush=-1,Mt}else if(e.avail_in===0&&tv(t)<=tv(r)&&t!==wn)return qi(e,g0);if(n.status===ec&&e.avail_in!==0)return qi(e,g0);if(n.status===Uo&&n.wrap===0&&(n.status=Hi),n.status===Uo){let i=Su+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=Eu||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=EM),i+=31-i%31,tc(n,i),n.strstart!==0&&(tc(n,e.adler>>>16),tc(n,e.adler&65535)),e.adler=1,n.status=Hi,sn(e),n.pending!==0)return n.last_flush=-1,Mt}if(n.status===b0){if(e.adler=0,Qe(n,31),Qe(n,139),Qe(n,8),n.gzhead)Qe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Qe(n,n.gzhead.time&255),Qe(n,n.gzhead.time>>8&255),Qe(n,n.gzhead.time>>16&255),Qe(n,n.gzhead.time>>24&255),Qe(n,n.level===9?2:n.strategy>=Eu||n.level<2?4:0),Qe(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Qe(n,n.gzhead.extra.length&255),Qe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Dt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=y0;else if(Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,0),Qe(n,n.level===9?2:n.strategy>=Eu||n.level<2?4:0),Qe(n,SM),n.status=Hi,sn(e),n.pending!==0)return n.last_flush=-1,Mt}if(n.status===y0){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,sn(e),n.pending!==0)return n.last_flush=-1,Mt;i=0,o-=s}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=x0}if(n.status===x0){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i)),sn(e),n.pending!==0)return n.last_flush=-1,Mt;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Qe(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=w0}if(n.status===w0){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i)),sn(e),n.pending!==0)return n.last_flush=-1,Mt;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Qe(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Dt(e.adler,n.pending_buf,n.pending-i,i))}n.status=v0}if(n.status===v0){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(sn(e),n.pending!==0))return n.last_flush=-1,Mt;Qe(n,e.adler&255),Qe(n,e.adler>>8&255),e.adler=0}if(n.status=Hi,sn(e),n.pending!==0)return n.last_flush=-1,Mt}if(e.avail_in!==0||n.lookahead!==0||t!==Kr&&n.status!==ec){let i=n.level===0?rv(n,t):n.strategy===Eu?TM(n,t):n.strategy===hM?CM(n,t):nc[n.level].func(n,t);if((i===Vi||i===Ho)&&(n.status=ec),i===Qt||i===Vi)return e.avail_out===0&&(n.last_flush=-1),Mt;if(i===Go&&(t===sM?aM(n):t!==$w&&(p0(n,0,0,!1),t===cM&&($r(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),sn(e),e.avail_out===0))return n.last_flush=-1,Mt}return t!==wn?Mt:n.wrap<=0?ev:(n.wrap===2?(Qe(n,e.adler&255),Qe(n,e.adler>>8&255),Qe(n,e.adler>>16&255),Qe(n,e.adler>>24&255),Qe(n,e.total_in&255),Qe(n,e.total_in>>8&255),Qe(n,e.total_in>>16&255),Qe(n,e.total_in>>24&255)):(tc(n,e.adler>>>16),tc(n,e.adler&65535)),sn(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Mt:ev)},RM=e=>{if(rc(e))return Xn;const t=e.state.status;return e.state=null,t===Hi?qi(e,lM):Mt},MM=(e,t)=>{let n=t.length;if(rc(e))return Xn;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Uo||r.lookahead)return Xn;if(i===1&&(e.adler=Js(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&($r(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Vo(r);r.lookahead>=Ge;){let c=r.strstart,l=r.lookahead-(Ge-1);do r.ins_h=ei(r,r.ins_h,r.window[c+Ge-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=Ge-1,Vo(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ge-1,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Mt};var PM=BM,LM=av,OM=ov,NM=iv,zM=kM,UM=FM,GM=RM,HM=MM,VM="pako deflate (from Nodeca project)",ic={deflateInit:PM,deflateInit2:LM,deflateReset:OM,deflateResetKeep:NM,deflateSetHeader:zM,deflate:UM,deflateEnd:GM,deflateSetDictionary:HM,deflateInfo:VM};const qM=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jM=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)qM(n,r)&&(e[r]=n[r])}}return e},WM=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let a=e[r];n.set(a,i),i+=a.length}return n},_u={assign:jM,flattenChunks:WM};let sv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sv=!1}const oc=new Uint8Array(256);for(let e=0;e<256;e++)oc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;oc[254]=oc[254]=1;var ZM=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const YM=(e,t)=>{if(t<65534&&e.subarray&&sv)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var QM=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let a=e[r++];if(a<128){o[i++]=a;continue}let s=oc[a];if(s>4){o[i++]=65533,r+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&r<n;)a=a<<6|e[r++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return YM(o,i)},XM=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+oc[e[n]]>t?n:t},ac={string2buf:ZM,buf2string:QM,utf8border:XM};function KM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cv=KM;const lv=Object.prototype.toString,{Z_NO_FLUSH:JM,Z_SYNC_FLUSH:$M,Z_FULL_FLUSH:e9,Z_FINISH:t9,Z_OK:Cu,Z_STREAM_END:n9,Z_DEFAULT_COMPRESSION:r9,Z_DEFAULT_STRATEGY:i9,Z_DEFLATED:o9}=$s;function S0(e){this.options=_u.assign({level:r9,method:o9,chunkSize:16384,windowBits:15,memLevel:8,strategy:i9},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cv,this.strm.avail_out=0;let n=ic.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Cu)throw new Error(zo[n]);if(t.header&&ic.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=ac.string2buf(t.dictionary):lv.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=ic.deflateSetDictionary(this.strm,r),n!==Cu)throw new Error(zo[n]);this._dict_set=!0}}S0.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?t9:JM,typeof e=="string"?n.input=ac.string2buf(e):lv.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===$M||o===e9)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=ic.deflate(n,o),i===n9)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ic.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Cu;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},S0.prototype.onData=function(e){this.chunks.push(e)},S0.prototype.onEnd=function(e){e===Cu&&(this.result=_u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Tu=16209,a9=16191;var s9=function(t,n){let r,i,o,a,s,c,l,u,f,h,d,p,b,v,y,A,_,E,C,F,I,N,R,P;const S=t.state;r=t.next_in,R=t.input,i=r+(t.avail_in-5),o=t.next_out,P=t.output,a=o-(n-t.avail_out),s=o+(t.avail_out-257),c=S.dmax,l=S.wsize,u=S.whave,f=S.wnext,h=S.window,d=S.hold,p=S.bits,b=S.lencode,v=S.distcode,y=(1<<S.lenbits)-1,A=(1<<S.distbits)-1;e:do{p<15&&(d+=R[r++]<<p,p+=8,d+=R[r++]<<p,p+=8),_=b[d&y];t:for(;;){if(E=_>>>24,d>>>=E,p-=E,E=_>>>16&255,E===0)P[o++]=_&65535;else if(E&16){C=_&65535,E&=15,E&&(p<E&&(d+=R[r++]<<p,p+=8),C+=d&(1<<E)-1,d>>>=E,p-=E),p<15&&(d+=R[r++]<<p,p+=8,d+=R[r++]<<p,p+=8),_=v[d&A];n:for(;;){if(E=_>>>24,d>>>=E,p-=E,E=_>>>16&255,E&16){if(F=_&65535,E&=15,p<E&&(d+=R[r++]<<p,p+=8,p<E&&(d+=R[r++]<<p,p+=8)),F+=d&(1<<E)-1,F>c){t.msg="invalid distance too far back",S.mode=Tu;break e}if(d>>>=E,p-=E,E=o-a,F>E){if(E=F-E,E>u&&S.sane){t.msg="invalid distance too far back",S.mode=Tu;break e}if(I=0,N=h,f===0){if(I+=l-E,E<C){C-=E;do P[o++]=h[I++];while(--E);I=o-F,N=P}}else if(f<E){if(I+=l+f-E,E-=f,E<C){C-=E;do P[o++]=h[I++];while(--E);if(I=0,f<C){E=f,C-=E;do P[o++]=h[I++];while(--E);I=o-F,N=P}}}else if(I+=f-E,E<C){C-=E;do P[o++]=h[I++];while(--E);I=o-F,N=P}for(;C>2;)P[o++]=N[I++],P[o++]=N[I++],P[o++]=N[I++],C-=3;C&&(P[o++]=N[I++],C>1&&(P[o++]=N[I++]))}else{I=o-F;do P[o++]=P[I++],P[o++]=P[I++],P[o++]=P[I++],C-=3;while(C>2);C&&(P[o++]=P[I++],C>1&&(P[o++]=P[I++]))}}else if(E&64){t.msg="invalid distance code",S.mode=Tu;break e}else{_=v[(_&65535)+(d&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){S.mode=a9;break e}else{t.msg="invalid literal/length code",S.mode=Tu;break e}else{_=b[(_&65535)+(d&(1<<E)-1)];continue t}break}}while(r<i&&o<s);C=p>>3,r-=C,p-=C<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<s?257+(s-o):257-(o-s),S.hold=d,S.bits=p};const jo=15,uv=852,fv=592,hv=0,_0=1,dv=2,c9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),u9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),f9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var sc=(e,t,n,r,i,o,a,s)=>{const c=s.bits;let l=0,u=0,f=0,h=0,d=0,p=0,b=0,v=0,y=0,A=0,_,E,C,F,I,N=null,R;const P=new Uint16Array(jo+1),S=new Uint16Array(jo+1);let Z=null,Q,se,ce;for(l=0;l<=jo;l++)P[l]=0;for(u=0;u<r;u++)P[t[n+u]]++;for(d=c,h=jo;h>=1&&P[h]===0;h--);if(d>h&&(d=h),h===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<h&&P[f]===0;f++);for(d<f&&(d=f),v=1,l=1;l<=jo;l++)if(v<<=1,v-=P[l],v<0)return-1;if(v>0&&(e===hv||h!==1))return-1;for(S[1]=0,l=1;l<jo;l++)S[l+1]=S[l]+P[l];for(u=0;u<r;u++)t[n+u]!==0&&(a[S[t[n+u]]++]=u);if(e===hv?(N=Z=a,R=20):e===_0?(N=c9,Z=l9,R=257):(N=u9,Z=f9,R=0),A=0,u=0,l=f,I=o,p=d,b=0,C=-1,y=1<<d,F=y-1,e===_0&&y>uv||e===dv&&y>fv)return 1;for(;;){Q=l-b,a[u]+1<R?(se=0,ce=a[u]):a[u]>=R?(se=Z[a[u]-R],ce=N[a[u]-R]):(se=96,ce=0),_=1<<l-b,E=1<<p,f=E;do E-=_,i[I+(A>>b)+E]=Q<<24|se<<16|ce|0;while(E!==0);for(_=1<<l-1;A&_;)_>>=1;if(_!==0?(A&=_-1,A+=_):A=0,u++,--P[l]===0){if(l===h)break;l=t[n+a[u]]}if(l>d&&(A&F)!==C){for(b===0&&(b=d),I+=f,p=l-b,v=1<<p;p+b<h&&(v-=P[p+b],!(v<=0));)p++,v<<=1;if(y+=1<<p,e===_0&&y>uv||e===dv&&y>fv)return 1;C=A&F,i[C]=d<<24|p<<16|I-o|0}}return A!==0&&(i[I+A]=l-b<<24|64<<16|0),s.bits=d,0};const h9=0,pv=1,gv=2,{Z_FINISH:mv,Z_BLOCK:d9,Z_TREES:Du,Z_OK:ji,Z_STREAM_END:p9,Z_NEED_DICT:g9,Z_STREAM_ERROR:vn,Z_DATA_ERROR:bv,Z_MEM_ERROR:yv,Z_BUF_ERROR:m9,Z_DEFLATED:xv}=$s,Iu=16180,wv=16181,vv=16182,Av=16183,Ev=16184,Sv=16185,_v=16186,Cv=16187,Tv=16188,Dv=16189,ku=16190,dr=16191,C0=16192,Iv=16193,T0=16194,kv=16195,Bv=16196,Fv=16197,Rv=16198,Bu=16199,Fu=16200,Mv=16201,Pv=16202,Lv=16203,Ov=16204,Nv=16205,D0=16206,zv=16207,Uv=16208,ut=16209,Gv=16210,Hv=16211,b9=852,y9=592,x9=15,Vv=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function w9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wi=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Iu||t.mode>Hv?1:0},qv=e=>{if(Wi(e))return vn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Iu,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(b9),t.distcode=t.distdyn=new Int32Array(y9),t.sane=1,t.back=-1,ji},jv=e=>{if(Wi(e))return vn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qv(e)},Wv=(e,t)=>{let n;if(Wi(e))return vn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?vn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,jv(e))},Zv=(e,t)=>{if(!e)return vn;const n=new w9;e.state=n,n.strm=e,n.window=null,n.mode=Iu;const r=Wv(e,t);return r!==ji&&(e.state=null),r},v9=e=>Zv(e,x9);let Yv=!0,I0,k0;const A9=e=>{if(Yv){I0=new Int32Array(512),k0=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(sc(pv,e.lens,0,288,I0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;sc(gv,e.lens,0,32,k0,0,e.work,{bits:5}),Yv=!1}e.lencode=I0,e.lenbits=9,e.distcode=k0,e.distbits=5},Qv=(e,t,n,r)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},E9=(e,t)=>{let n,r,i,o,a,s,c,l,u,f,h,d,p,b,v=0,y,A,_,E,C,F,I,N;const R=new Uint8Array(4);let P,S;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(e)||!e.output||!e.input&&e.avail_in!==0)return vn;n=e.state,n.mode===dr&&(n.mode=C0),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,f=s,h=c,N=ji;e:for(;;)switch(n.mode){case Iu:if(n.wrap===0){n.mode=C0;break}for(;u<16;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=l&255,R[1]=l>>>8&255,n.check=Dt(n.check,R,2,0),l=0,u=0,n.mode=wv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=ut;break}if((l&15)!==xv){e.msg="unknown compression method",n.mode=ut;break}if(l>>>=4,u-=4,I=(l&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){e.msg="invalid window size",n.mode=ut;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?Dv:dr,l=0,u=0;break;case wv:for(;u<16;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==xv){e.msg="unknown compression method",n.mode=ut;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ut;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(R[0]=l&255,R[1]=l>>>8&255,n.check=Dt(n.check,R,2,0)),l=0,u=0,n.mode=vv;case vv:for(;u<32;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(R[0]=l&255,R[1]=l>>>8&255,R[2]=l>>>16&255,R[3]=l>>>24&255,n.check=Dt(n.check,R,4,0)),l=0,u=0,n.mode=Av;case Av:for(;u<16;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(R[0]=l&255,R[1]=l>>>8&255,n.check=Dt(n.check,R,2,0)),l=0,u=0,n.mode=Ev;case Ev:if(n.flags&1024){for(;u<16;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(R[0]=l&255,R[1]=l>>>8&255,n.check=Dt(n.check,R,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=Sv;case Sv:if(n.flags&1024&&(d=n.length,d>s&&(d=s),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),I)),n.flags&512&&n.wrap&4&&(n.check=Dt(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=_v;case _v:if(n.flags&2048){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&n.wrap&4&&(n.check=Dt(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Cv;case Cv:if(n.flags&4096){if(s===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<s);if(n.flags&512&&n.wrap&4&&(n.check=Dt(n.check,r,d,o)),s-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=Tv;case Tv:if(n.flags&512){for(;u<16;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ut;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dr;break;case Dv:for(;u<32;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}e.adler=n.check=Vv(l),l=0,u=0,n.mode=ku;case ku:if(n.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,g9;e.adler=n.check=1,n.mode=dr;case dr:if(t===d9||t===Du)break e;case C0:if(n.last){l>>>=u&7,u-=u&7,n.mode=D0;break}for(;u<3;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=Iv;break;case 1:if(A9(n),n.mode=Bu,t===Du){l>>>=2,u-=2;break e}break;case 2:n.mode=Bv;break;case 3:e.msg="invalid block type",n.mode=ut}l>>>=2,u-=2;break;case Iv:for(l>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ut;break}if(n.length=l&65535,l=0,u=0,n.mode=T0,t===Du)break e;case T0:n.mode=kv;case kv:if(d=n.length,d){if(d>s&&(d=s),d>c&&(d=c),d===0)break e;i.set(r.subarray(o,o+d),a),s-=d,o+=d,c-=d,a+=d,n.length-=d;break}n.mode=dr;break;case Bv:for(;u<14;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ut;break}n.have=0,n.mode=Fv;case Fv:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.lens[Z[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[Z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},N=sc(h9,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,N){e.msg="invalid code lengths set",n.mode=ut;break}n.have=0,n.mode=Rv;case Rv:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[l&(1<<n.lenbits)-1],y=v>>>24,A=v>>>16&255,_=v&65535,!(y<=u);){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(_<16)l>>>=y,u-=y,n.lens[n.have++]=_;else{if(_===16){for(S=y+2;u<S;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(l>>>=y,u-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=ut;break}I=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(_===17){for(S=y+3;u<S;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,I=0,d=3+(l&7),l>>>=3,u-=3}else{for(S=y+7;u<S;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,I=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ut;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===ut)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ut;break}if(n.lenbits=9,P={bits:n.lenbits},N=sc(pv,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,N){e.msg="invalid literal/lengths set",n.mode=ut;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},N=sc(gv,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,N){e.msg="invalid distances set",n.mode=ut;break}if(n.mode=Bu,t===Du)break e;case Bu:n.mode=Fu;case Fu:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,s9(e,h),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,n.mode===dr&&(n.back=-1);break}for(n.back=0;v=n.lencode[l&(1<<n.lenbits)-1],y=v>>>24,A=v>>>16&255,_=v&65535,!(y<=u);){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(A&&!(A&240)){for(E=y,C=A,F=_;v=n.lencode[F+((l&(1<<E+C)-1)>>E)],y=v>>>24,A=v>>>16&255,_=v&65535,!(E+y<=u);){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}l>>>=E,u-=E,n.back+=E}if(l>>>=y,u-=y,n.back+=y,n.length=_,A===0){n.mode=Nv;break}if(A&32){n.back=-1,n.mode=dr;break}if(A&64){e.msg="invalid literal/length code",n.mode=ut;break}n.extra=A&15,n.mode=Mv;case Mv:if(n.extra){for(S=n.extra;u<S;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Pv;case Pv:for(;v=n.distcode[l&(1<<n.distbits)-1],y=v>>>24,A=v>>>16&255,_=v&65535,!(y<=u);){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(!(A&240)){for(E=y,C=A,F=_;v=n.distcode[F+((l&(1<<E+C)-1)>>E)],y=v>>>24,A=v>>>16&255,_=v&65535,!(E+y<=u);){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}l>>>=E,u-=E,n.back+=E}if(l>>>=y,u-=y,n.back+=y,A&64){e.msg="invalid distance code",n.mode=ut;break}n.offset=_,n.extra=A&15,n.mode=Lv;case Lv:if(n.extra){for(S=n.extra;u<S;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ut;break}n.mode=Ov;case Ov:if(c===0)break e;if(d=h-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ut;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=i,p=a-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[a++]=b[p++];while(--d);n.length===0&&(n.mode=Fu);break;case Nv:if(c===0)break e;i[a++]=n.length,c--,n.mode=Fu;break;case D0:if(n.wrap){for(;u<32;){if(s===0)break e;s--,l|=r[o++]<<u,u+=8}if(h-=c,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?Dt(n.check,i,h,a-h):Js(n.check,i,h,a-h)),h=c,n.wrap&4&&(n.flags?l:Vv(l))!==n.check){e.msg="incorrect data check",n.mode=ut;break}l=0,u=0}n.mode=zv;case zv:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ut;break}l=0,u=0}n.mode=Uv;case Uv:N=p9;break e;case ut:N=bv;break e;case Gv:return yv;case Hv:default:return vn}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<ut&&(n.mode<D0||t!==mv))&&Qv(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?Dt(n.check,i,h,e.next_out-h):Js(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dr?128:0)+(n.mode===Bu||n.mode===T0?256:0),(f===0&&h===0||t===mv)&&N===ji&&(N=m9),N},S9=e=>{if(Wi(e))return vn;let t=e.state;return t.window&&(t.window=null),e.state=null,ji},_9=(e,t)=>{if(Wi(e))return vn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,ji):vn},C9=(e,t)=>{const n=t.length;let r,i,o;return Wi(e)||(r=e.state,r.wrap!==0&&r.mode!==ku)?vn:r.mode===ku&&(i=1,i=Js(i,t,n,0),i!==r.check)?bv:(o=Qv(e,t,n,n),o?(r.mode=Gv,yv):(r.havedict=1,ji))};var T9=jv,D9=Wv,I9=qv,k9=v9,B9=Zv,F9=E9,R9=S9,M9=_9,P9=C9,L9="pako inflate (from Nodeca project)",pr={inflateReset:T9,inflateReset2:D9,inflateResetKeep:I9,inflateInit:k9,inflateInit2:B9,inflate:F9,inflateEnd:R9,inflateGetHeader:M9,inflateSetDictionary:P9,inflateInfo:L9};function O9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var N9=O9;const Xv=Object.prototype.toString,{Z_NO_FLUSH:z9,Z_FINISH:U9,Z_OK:cc,Z_STREAM_END:B0,Z_NEED_DICT:F0,Z_STREAM_ERROR:G9,Z_DATA_ERROR:Kv,Z_MEM_ERROR:H9}=$s;function lc(e){this.options=_u.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cv,this.strm.avail_out=0;let n=pr.inflateInit2(this.strm,t.windowBits);if(n!==cc)throw new Error(zo[n]);if(this.header=new N9,pr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ac.string2buf(t.dictionary):Xv.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=pr.inflateSetDictionary(this.strm,t.dictionary),n!==cc)))throw new Error(zo[n])}lc.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?U9:z9,Xv.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=pr.inflate(n,a),o===F0&&i&&(o=pr.inflateSetDictionary(n,i),o===cc?o=pr.inflate(n,a):o===Kv&&(o=F0));n.avail_in>0&&o===B0&&n.state.wrap>0&&e[n.next_in]!==0;)pr.inflateReset(n),o=pr.inflate(n,a);switch(o){case G9:case Kv:case F0:case H9:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||o===B0))if(this.options.to==="string"){let c=ac.utf8border(n.output,n.next_out),l=n.next_out-c,u=ac.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===cc&&s===0)){if(o===B0)return o=pr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},lc.prototype.onData=function(e){this.chunks.push(e)},lc.prototype.onEnd=function(e){e===cc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function R0(e,t){const n=new lc(t);if(n.push(e),n.err)throw n.msg||zo[n.err];return n.result}function V9(e,t){return t=t||{},t.raw=!0,R0(e,t)}var q9=lc,j9=R0,W9=V9,Z9=R0,Y9=$s,Q9={Inflate:q9,inflate:j9,inflateRaw:W9,ungzip:Z9,constants:Y9};const{Inflate:xO,inflate:wO,inflateRaw:X9,ungzip:vO}=Q9;var K9=X9;function J9(e){return K9(e.subarray(2))}let $9=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function eP(e){e.sort((i,o)=>i.offset-o.offset);const t=[];let n,r;for(const i of e)n&&r&&i.offset-r<=2e3?(n.length=n.length+i.length-r+i.offset,n.blocks.push(i)):t.push(n={blocks:[i],length:i.length,offset:i.offset}),r=n.offset+n.length;return t}function Ru(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new $9("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}const M0=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function P0(e,t,n,r){return e<r&&t>=n}class Jv{constructor(t,n,r,i,o,a){if(this.bbi=t,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=o,this.blockType=a,this.featureCache=new Ui({cache:new wu({maxSize:1e3}),fill:async(s,c)=>{const l=s.length,u=s.offset,{buffer:f}=await this.bbi.read($e.Buffer.alloc(l),0,l,u,{signal:c});return f}}),!(r>=0))throw new Error("invalid cirTreeOffset!")}async readWigData(t,n,r,i,o){try{const{refsByName:a,bbi:s,cirTreeOffset:c,isBigEndian:l}=this,u=a[t];u===void 0&&i.complete();const f={chrId:u,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=s.read($e.Buffer.alloc(48),0,48,c,o));const{buffer:h}=await this.cirTreePromise,d=l?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],b=0;const v=!0,y=(C,F,I)=>{try{const R=C.subarray(F),P=new DataView(R.buffer,R.byteOffset,R.length);let S=0;const Z=P.getUint8(S);S+=2;const Q=P.getUint16(S,v);if(S+=2,Z===1){const se=[];for(let ce=0;ce<Q;ce++){const fe=P.getUint32(S,v);S+=4;const le=P.getUint32(S,v);S+=4;const Ee=P.getUint32(S,v);S+=4;const pe=P.getUint32(S,v);S+=4;const _e=Number(P.getBigUint64(S,v));S+=8;const Ce=Number(P.getBigUint64(S,v));S+=8,se.push({startChrom:fe,startBase:le,endBase:pe,endChrom:Ee,blockOffset:_e,blockSize:Ce,offset:S})}p=p.concat(se.filter(ce=>A(ce)).map(ce=>({offset:ce.blockOffset,length:ce.blockSize})))}else if(Z===0){const se=[];for(let fe=0;fe<Q;fe++){const le=P.getUint32(S,v);S+=4;const Ee=P.getUint32(S,v);S+=4;const pe=P.getUint32(S,v);S+=4;const _e=P.getUint32(S,v);S+=4;const Ce=Number(P.getBigUint64(S,v));S+=8,se.push({startChrom:le,startBase:Ee,endChrom:pe,endBase:_e,blockOffset:Ce,offset:S})}const ce=se.filter(fe=>A(fe)).map(fe=>fe.blockOffset);ce.length>0&&E(ce,I+1)}}catch(N){i.error(N)}},A=C=>{const{startChrom:F,startBase:I,endChrom:N,endBase:R}=C;return(F<u||F===u&&I<=r)&&(N>u||N===u&&R>=n)},_=async(C,F,I)=>{try{const N=F.max-F.min,R=F.min,P=await this.featureCache.get(`${N}_${R}`,{length:N,offset:R},o==null?void 0:o.signal);for(const S of C)F.contains(S)&&(y(P,S-R,I),b-=1,b===0&&this.readFeatures(i,p,{...o,request:f}).catch(Z=>{i.error(Z)}))}catch(N){i.error(N)}},E=(C,F)=>{try{b+=C.length;const I=4+d*32;let N=new Lo([{min:C[0],max:C[0]+I}]);for(let R=1;R<C.length;R+=1){const P=new Lo([{min:C[R],max:C[R]+I}]);N=N.union(P)}N.getRanges().map(R=>_(C,R,F))}catch(I){i.error(I)}};E([Number(c)+48],1);return}catch(a){i.error(a)}}parseSummaryBlock(t,n,r){const i=[];let o=n;const a=new DataView(t.buffer,t.byteOffset,t.length);for(;o<t.byteLength;){const s=a.getUint32(o,!0);o+=4;const c=a.getUint32(o,!0);o+=4;const l=a.getUint32(o,!0);o+=4;const u=a.getUint32(o,!0);o+=4;const f=a.getFloat32(o,!0);o+=4;const h=a.getFloat32(o,!0);o+=4;const d=a.getFloat32(o,!0);o+=4,o+=4,(!r||s===r.chrId&&P0(c,l,r.start,r.end))&&i.push({start:c,end:l,maxScore:h,minScore:f,summary:!0,score:d/(u||1)})}return i}parseBigBedBlock(t,n,r,i){var o;const a=[];let s=n;const c=!0,l=t,u=new DataView(l.buffer,l.byteOffset,l.length);for(;s<t.byteLength;){const f=s,h=u.getUint32(s,c);s+=4;const d=u.getInt32(s,c);s+=4;const p=u.getInt32(s,c);s+=4;let b=s;for(;b<t.length&&t[b]!==0;b++);const v=t.subarray(s,b),y=(o=M0==null?void 0:M0.decode(v))!==null&&o!==void 0?o:v.toString();s=b+1,a.push({chromId:h,start:d,end:p,rest:y,uniqueId:`bb-${r+f}`})}return i?a.filter(f=>P0(f.start,f.end,i.start,i.end)):a}parseBigWigBlock(t,n,r){const i=t.subarray(n),o=new DataView(i.buffer,i.byteOffset,i.length);let a=0;a+=4;const s=o.getInt32(a,!0);a+=8;const c=o.getUint32(a,!0);a+=4;const l=o.getUint32(a,!0);a+=4;const u=o.getUint8(a);a+=2;const f=o.getUint16(a,!0);a+=2;const h=new Array(f);switch(u){case 1:{for(let d=0;d<f;d++){const p=o.getInt32(a,!0);a+=4;const b=o.getInt32(a,!0);a+=4;const v=o.getFloat32(a,!0);a+=4,h[d]={start:p,end:b,score:v}}break}case 2:{for(let d=0;d<f;d++){const p=o.getInt32(a,!0);a+=4;const b=o.getFloat32(a,!0);a+=4,h[d]={score:b,start:p,end:p+l}}break}case 3:{for(let d=0;d<f;d++){const p=o.getFloat32(a,!0);a+=4;const b=s+d*c;h[d]={score:p,start:b,end:b+l}}break}}return r?h.filter(d=>P0(d.start,d.end,r.start,r.end)):h}async readFeatures(t,n,r={}){try{const{blockType:i,isCompressed:o}=this,{signal:a,request:s}=r,c=eP(n);Ru(a),await Promise.all(c.map(async l=>{Ru(a);const{length:u,offset:f}=l,h=await this.featureCache.get(`${u}_${f}`,l,a);for(const d of l.blocks){Ru(a);let p=Number(d.offset)-Number(l.offset),b=h;switch(o&&(b=J9(h.subarray(p)),p=0),Ru(a),i){case"summary":{t.next(this.parseSummaryBlock(b,p,s));break}case"bigwig":{t.next(this.parseBigWigBlock(b,p,s));break}case"bigbed":{t.next(this.parseBigBedBlock(b,p,Number(d.offset)*256,s));break}default:console.warn(`Don't know what to do with ${i}`)}}})),t.complete()}catch(i){t.error(i)}}}var L0=function(e,t){return L0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},L0(e,t)};function O0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");L0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function tP(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function $v(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function uc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function N0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function z0(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Wo(e){return this instanceof Wo?(this.v=e,this):new Wo(e)}function nP(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(d){return function(p){return Promise.resolve(p).then(d,f)}}function s(d,p){r[d]&&(i[d]=function(b){return new Promise(function(v,y){o.push([d,b,v,y])>1||c(d,b)})},p&&(i[d]=p(i[d])))}function c(d,p){try{l(r[d](p))}catch(b){h(o[0][3],b)}}function l(d){d.value instanceof Wo?Promise.resolve(d.value.v).then(u,f):h(o[0][2],d)}function u(d){c("next",d)}function f(d){c("throw",d)}function h(d,p){d(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof uc=="function"?uc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}typeof SuppressedError=="function"&&SuppressedError;function At(e){return typeof e=="function"}function eA(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var U0=eA(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function tA(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var G0=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=uc(a),c=s.next();!c.done;c=s.next()){var l=c.value;l.remove(this)}}catch(b){t={error:b}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var u=this.initialTeardown;if(At(u))try{u()}catch(b){o=b instanceof U0?b.errors:[b]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=uc(f),d=h.next();!d.done;d=h.next()){var p=d.value;try{rA(p)}catch(b){o=o??[],b instanceof U0?o=z0(z0([],N0(o)),N0(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new U0(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)rA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&tA(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&tA(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();G0.EMPTY;function nA(e){return e instanceof G0||e&&"closed"in e&&At(e.remove)&&At(e.add)&&At(e.unsubscribe)}function rA(e){At(e)?e():e.unsubscribe()}var iA={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oA={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,z0([e,t],N0(n)))},clearTimeout:function(e){var t=oA.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function aA(e){oA.setTimeout(function(){throw e})}function sA(){}function iP(e){e()}var H0=function(e){O0(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,nA(n)&&n.add(r)):r.destination=cP,r}return t.create=function(n,r,i){return new Mu(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(G0),oP=Function.prototype.bind;function V0(e,t){return oP.call(e,t)}var aP=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Pu(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Pu(r)}else Pu(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Pu(n)}},e}(),Mu=function(e){O0(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(At(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&iA.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&V0(n.next,s),error:n.error&&V0(n.error,s),complete:n.complete&&V0(n.complete,s)}):a=n}return o.destination=new aP(a),o}return t}(H0);function Pu(e){aA(e)}function sP(e){throw e}var cP={closed:!0,next:sA,error:sP,complete:sA},q0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cA(e){return e}function lP(e){return e.length===0?cA:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var An=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=fP(t)?t:new Mu(t,n,r);return iP(function(){var a=i,s=a.operator,c=a.source;o.add(s?s.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=lA(n),new n(function(i,o){var a=new Mu({next:function(s){try{t(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[q0]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return lP(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=lA(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function lA(e){var t;return(t=e??iA.Promise)!==null&&t!==void 0?t:Promise}function uP(e){return e&&At(e.next)&&At(e.error)&&At(e.complete)}function fP(e){return e&&e instanceof H0||uP(e)&&nA(e)}function hP(e){return At(e==null?void 0:e.lift)}function Zo(e){return function(t){if(hP(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fc(e,t,n,r,i){return new dP(e,t,n,r,i)}var dP=function(e){O0(t,e);function t(n,r,i,o,a,s){var c=e.call(this,n)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=o?function(l){try{o(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(H0),pP=new An(function(e){return e.complete()});function gP(e){return e&&At(e.schedule)}function uA(e){return e[e.length-1]}function mP(e){return gP(uA(e))?e.pop():void 0}function bP(e,t){return typeof uA(e)=="number"?e.pop():t}var fA=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function hA(e){return At(e==null?void 0:e.then)}function dA(e){return At(e[q0])}function pA(e){return Symbol.asyncIterator&&At(e==null?void 0:e[Symbol.asyncIterator])}function gA(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function yP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mA=yP();function bA(e){return At(e==null?void 0:e[mA])}function yA(e){return nP(this,arguments,function(){var n,r,i,o;return $v(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Wo(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,Wo(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Wo(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xA(e){return At(e==null?void 0:e.getReader)}function Yo(e){if(e instanceof An)return e;if(e!=null){if(dA(e))return xP(e);if(fA(e))return wP(e);if(hA(e))return vP(e);if(pA(e))return wA(e);if(bA(e))return AP(e);if(xA(e))return EP(e)}throw gA(e)}function xP(e){return new An(function(t){var n=e[q0]();if(At(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wP(e){return new An(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function vP(e){return new An(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,aA)})}function AP(e){return new An(function(t){var n,r;try{for(var i=uc(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function wA(e){return new An(function(t){SP(e,t).catch(function(n){return t.error(n)})})}function EP(e){return wA(yA(e))}function SP(e,t){var n,r,i,o;return tP(this,void 0,void 0,function(){var a,s;return $v(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=rP(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Zi(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function vA(e,t){return t===void 0&&(t=0),Zo(function(n,r){n.subscribe(fc(r,function(i){return Zi(r,e,function(){return r.next(i)},t)},function(){return Zi(r,e,function(){return r.complete()},t)},function(i){return Zi(r,e,function(){return r.error(i)},t)}))})}function AA(e,t){return t===void 0&&(t=0),Zo(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function _P(e,t){return Yo(e).pipe(AA(t),vA(t))}function CP(e,t){return Yo(e).pipe(AA(t),vA(t))}function TP(e,t){return new An(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function DP(e,t){return new An(function(n){var r;return Zi(n,t,function(){r=e[mA](),Zi(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return At(r==null?void 0:r.return)&&r.return()}})}function EA(e,t){if(!e)throw new Error("Iterable cannot be null");return new An(function(n){Zi(n,t,function(){var r=e[Symbol.asyncIterator]();Zi(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function IP(e,t){return EA(yA(e),t)}function kP(e,t){if(e!=null){if(dA(e))return _P(e,t);if(fA(e))return TP(e,t);if(hA(e))return CP(e,t);if(pA(e))return EA(e,t);if(bA(e))return DP(e,t);if(xA(e))return IP(e,t)}throw gA(e)}function BP(e,t){return t?kP(e,t):Yo(e)}var FP=eA(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function SA(e,t){return new Promise(function(n,r){var i=new Mu({next:function(o){n(o),i.unsubscribe()},error:r,complete:function(){r(new FP)}});e.subscribe(i)})}function _A(e,t){return Zo(function(n,r){var i=0;n.subscribe(fc(r,function(o){r.next(e.call(t,o,i++))}))})}function RP(e,t,n,r,i,o,a,s){var c=[],l=0,u=0,f=!1,h=function(){f&&!c.length&&!l&&t.complete()},d=function(b){return l<r?p(b):c.push(b)},p=function(b){l++;var v=!1;Yo(n(b,u++)).subscribe(fc(t,function(y){t.next(y)},function(){v=!0},void 0,function(){if(v)try{l--;for(var y=function(){var A=c.shift();a||p(A)};c.length&&l<r;)y();h()}catch(A){t.error(A)}}))};return e.subscribe(fc(t,d,function(){f=!0,h()})),function(){}}function CA(e,t,n){return n===void 0&&(n=1/0),At(t)?CA(function(r,i){return _A(function(o,a){return t(r,o,i,a)})(Yo(e(r,i)))},n):(typeof t=="number"&&(n=t),Zo(function(r,i){return RP(r,i,e,n)}))}function MP(e){return e===void 0&&(e=1/0),CA(cA,e)}function PP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=mP(e),r=bP(e,1/0),i=e;return i.length?i.length===1?Yo(i[0]):MP(r)(BP(i,n)):pP}function LP(e,t,n,r,i){return function(o,a){var s=n,c=t,l=0;o.subscribe(fc(a,function(u){var f=l++;c=s?e(c,u,f):(s=!0,u)},function(){s&&a.next(c),a.complete()}))}}function TA(e,t){return Zo(LP(e,t,arguments.length>=2,!1,!0))}var OP=function(e,t){return e.push(t),e};function NP(){return Zo(function(e,t){TA(OP,[])(e).subscribe(t)})}const DA=-2003829722,j0=-2021002517;class IA{getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(t){const{filehandle:n,renameRefSeqs:r=a=>a,path:i,url:o}=t;if(this.renameRefSeqs=r,n)this.bbi=n;else if(o)this.bbi=new Rn(o);else if(i)this.bbi=new Tt(i);else throw new Error("no file given")}async _getHeader(t){const n=await this._getMainHeader(t),r=await this._readChromTree(n,t);return{...n,...r}}async _getMainHeader(t,n=2e3){const{buffer:i}=await this.bbi.read($e.Buffer.alloc(n),0,n,0,t),o=this._isBigEndian(i),a=i,s=new DataView(a.buffer,a.byteOffset,a.length);let c=0;const l=s.getInt32(c,!0);c+=4;const u=s.getUint16(c,!0);c+=2;const f=s.getUint16(c,!0);c+=2;const h=Number(s.getBigUint64(c,!0));c+=8;const d=Number(s.getBigUint64(c,!0));c+=8;const p=Number(s.getBigUint64(c,!0));c+=8;const b=s.getUint16(c,!0);c+=2;const v=s.getUint16(c,!0);c+=2;const y=Number(s.getBigUint64(c,!0));c+=8;const A=Number(s.getBigUint64(c,!0));c+=8;const _=s.getUint32(c,!0);c+=4;const E=Number(s.getBigUint64(c,!0));c+=8;const C=[];for(let N=0;N<f;N++){const R=s.getUint32(c,!0);c+=4;const P=s.getUint32(c,!0);c+=4;const S=Number(s.getBigUint64(c,!0));c+=8;const Z=Number(s.getBigUint64(c,!0));c+=8,C.push({reductionLevel:R,reserved:P,dataOffset:S,indexOffset:Z})}const F=l===j0?"bigbed":"bigwig";if(y>n||A>n-8*5)return this._getMainHeader(t,n*2);let I;if(A){const N=i.subarray(Number(A));let R=0;const P=new DataView(N.buffer,N.byteOffset,N.length),S=Number(P.getBigUint64(R,!0));R+=8;const Z=P.getFloat64(R,!0);R+=8;const Q=P.getFloat64(R,!0);R+=8;const se=P.getFloat64(R,!0);R+=8;const ce=P.getFloat64(R,!0);R+=8,I={scoreMin:Z,scoreMax:Q,scoreSum:se,scoreSumSquares:ce,basesCovered:S}}else throw new Error("no stats");return{zoomLevels:C,magic:l,extHeaderOffset:E,numZoomLevels:f,fieldCount:b,totalSummary:I,definedFieldCount:v,uncompressBufSize:_,asOffset:y,chromTreeOffset:h,totalSummaryOffset:A,unzoomedDataOffset:d,unzoomedIndexOffset:p,fileType:F,version:u,isBigEndian:o,autoSql:y?i.subarray(y,i.indexOf(0,y)).toString():""}}_isBigEndian(t){let n=t.readInt32LE(0);if(n===DA||n===j0)return!1;if(n=t.readInt32BE(0),n===DA||n===j0)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,n){const i=!t.isBigEndian,o=[],a={};let s=t.unzoomedDataOffset;const c=t.chromTreeOffset;for(;s%4!==0;)s+=1;const l=s-c,{buffer:u}=await this.bbi.read($e.Buffer.alloc(l),0,l,Number(c),n),f=u,h=new DataView(f.buffer,f.byteOffset,f.length);let d=0;d+=4,d+=4;const p=h.getUint32(d,i);d+=4,d+=4,d+=8;const b=32,v=async y=>{let A=y;if(A>=u.length)throw new Error("reading beyond end of buffer");const _=h.getUint8(A);A+=2;const E=h.getUint16(A,i);if(A+=2,_)for(let C=0;C<E;C++){const F=u.subarray(A,A+p).toString().replaceAll("\0","");A+=p;const I=h.getUint32(A,i);A+=4;const N=h.getUint32(A,i);A+=4;const R={name:F,id:I,length:N};a[this.renameRefSeqs(F)]=I,o[I]=R}else{const C=[];for(let F=0;F<E;F++){A+=p;const I=Number(h.getBigUint64(A,i));A+=8,C.push(v(Number(I)-Number(c)))}await Promise.all(C)}};return await v(b),{refsByName:a,refsByNumber:o}}async getUnzoomedView(t){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:o,fileType:a}=await this.getHeader(t);return new Jv(this.bbi,r,n,o,i>0,a)}async getFeatureStream(t,n,r,i){await this.getHeader(i);const o=this.renameRefSeqs(t);let a;const{basesPerSpan:s,scale:c}=i||{};return s?a=await this.getView(1/s,i):c?a=await this.getView(c,i):a=await this.getView(1,i),new An(l=>{a.readWigData(o,n,r,l,i).catch(u=>{l.error(u)})})}async getFeatures(t,n,r,i){const o=await this.getFeatureStream(t,n,r,i);return(await SA(o.pipe(NP()))).flat()}}class zP extends IA{async getView(t,n){const{zoomLevels:r,refsByName:i,isBigEndian:o,uncompressBufSize:a}=await this.getHeader(n),s=1/t,c=r.length-1;for(let l=c;l>=0;l-=1){const u=r[l];if(u&&u.reductionLevel<=2*s)return new Jv(this.bbi,i,u.indexOffset,o,a>0,"summary")}return this.getUnzoomedView(n)}}function UP(e){return e.filter(t=>!!t)}class GP extends IA{constructor(){super(...arguments),this.readIndicesCache=new Ui({cache:new wu({maxSize:1}),fill:(t,n)=>this._readIndices({...t,signal:n})})}readIndices(t={}){const{signal:n,...r}=t;return this.readIndicesCache.get(JSON.stringify(r),t,n)}async getView(t,n){return this.getUnzoomedView(n)}async _readIndices(t){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(t),{buffer:i}=await this.bbi.read($e.Buffer.alloc(64),0,64,Number(n)),o=!r,a=i,s=new DataView(a.buffer,a.byteOffset,a.length);let c=0;c+=2;const l=s.getUint16(c,o);c+=2;const u=Number(s.getBigUint64(c,o));if(c+=8,l===0)return[];const f=20,h=f*l,{buffer:d}=await this.bbi.read($e.Buffer.alloc(h),0,h,Number(u)),p=[];for(let b=0;b<l;b+=1){const v=d.subarray(b*f),y=new DataView(v.buffer,v.byteOffset,v.length);let A=0;const _=y.getInt16(A,o);A+=2;const E=y.getInt16(A,o);A+=2;const C=Number(y.getBigUint64(A,o));A+=12;const F=y.getInt16(A,o);p.push({type:_,fieldcount:E,offset:Number(C),field:F})}return p}async searchExtraIndexBlocks(t,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const o=i.map(async a=>{const{offset:s,field:c}=a,{buffer:l}=await this.bbi.read($e.Buffer.alloc(32),0,32,s,n),u=!r,f=l,h=new DataView(f.buffer,f.byteOffset,f.length);let d=0;d+=4;const p=h.getInt32(d,u);d+=4;const b=h.getInt32(d,u);d+=4;const v=h.getInt32(d,u);d+=4,d+=8;const y=async _=>{const E=Number(_),C=4+p*(b+v),{buffer:F}=await this.bbi.read($e.Buffer.alloc(C),0,C,E,n),I=F,N=new DataView(I.buffer,I.byteOffset,I.length);let R=0;const P=N.getInt8(R);R+=2;const S=N.getInt16(R,u);R+=2;const Z=[];if(P===0){const Q=[];for(let ce=0;ce<S;ce++){const fe=I.subarray(R,R+b).toString().replaceAll("\0","");R+=b;const le=Number(N.getBigUint64(R,u));R+=8,Q.push({key:fe,offset:le})}let se=0;for(const{key:ce,offset:fe}of Q){if(t.localeCompare(ce)<0&&se)return y(se);se=fe}return y(se)}else if(P===1){for(let Q=0;Q<S;Q++){const se=I.subarray(R,R+b).toString().replaceAll("\0","");R+=b;const ce=Number(N.getBigUint64(R,u));R+=8;const fe=N.getUint32(R,u);R+=4;const le=N.getUint32(R,u);R+=4,Z.push({key:se,offset:ce,length:fe,reserved:le})}for(const Q of Z)if(Q.key===t)return{...Q,field:c};return}};return y(s+32)});return UP(await Promise.all(o))}async searchExtraIndex(t,n={}){const r=await this.searchExtraIndexBlocks(t,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),o=r.map(s=>new An(c=>{i.readFeatures(c,[s],n).catch(l=>{c.error(l)})}).pipe(TA((c,l)=>c.concat(l)),_A(c=>{for(const l of c)l.field=s.field;return c})));return(await SA(PP(...o))).filter(s=>{var c;return((c=s.rest)===null||c===void 0?void 0:c.split("	")[(s.field||0)-3])===t})}}const kA=Object.freeze(Object.defineProperty({__proto__:null,BigBed:GP,BigWig:zP},Symbol.toStringTag,{value:"Module"}));var W0,BA;function HP(){if(BA)return W0;BA=1;function e(r,i){function o(){this.constructor=r}o.prototype=i.prototype,r.prototype=new o}function t(r,i,o,a){this.message=r,this.expected=i,this.found=o,this.location=a,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}e(t,Error),t.buildMessage=function(r,i){var o={literal:function(h){return'"'+s(h.text)+'"'},class:function(h){var d="",p;for(p=0;p<h.parts.length;p++)d+=h.parts[p]instanceof Array?c(h.parts[p][0])+"-"+c(h.parts[p][1]):c(h.parts[p]);return"["+(h.inverted?"^":"")+d+"]"},any:function(h){return"any character"},end:function(h){return"end of input"},other:function(h){return h.description}};function a(h){return h.charCodeAt(0).toString(16).toUpperCase()}function s(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+a(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+a(d)})}function c(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+a(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+a(d)})}function l(h){return o[h.type](h)}function u(h){var d=new Array(h.length),p,b;for(p=0;p<h.length;p++)d[p]=l(h[p]);if(d.sort(),d.length>0){for(p=1,b=1;p<d.length;p++)d[p-1]!==d[p]&&(d[b]=d[p],b++);d.length=b}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function f(h){return h?'"'+s(h)+'"':"end of input"}return"Expected "+u(r)+" but "+f(i)+" found."};function n(r,i){i=i!==void 0?i:{};var o={},a={declaration:z2},s=z2,c="(",l=ze("(",!1),u=")",f=ze(")",!1),h=function(M,te,de,me){return{type:M,name:te,comment:de,fields:me}},d="simple",p=ze("simple",!1),b="object",v=ze("object",!1),y="table",A=ze("table",!1),_="auto",E=ze("auto",!1),C="primary",F=ze("primary",!1),I="index",N=ze("index",!1),R="unique",P=ze("unique",!1),S=function(M,te){return te},Z=function(M,te){return M.name&&te.unshift(M),te},Q="#",se=ze("#",!1),ce=";",fe=ze(";",!1),le=function(M,te,de){return{type:M,name:te,comment:de}},Ee="[",pe=ze("[",!1),_e="]",Ce=ze("]",!1),xe=function(M,te,de,me){return{type:M,size:te,name:de,comment:me}},Te=function(M,te,de,me){return{type:M,vals:te,name:de,comment:me}},He=",",Le=ze(",",!1),j=function(M,te){return te.unshift(M),te},q="int",re=ze("int",!1),$="uint",ue=ze("uint",!1),L="short",D=ze("short",!1),ee="ushort",oe=ze("ushort",!1),De="byte",ye=ze("byte",!1),we="ubyte",Be=ze("ubyte",!1),mt="float",nn=ze("float",!1),It="char",tt=ze("char",!1),Pt="string",Ht=ze("string",!1),nt="lstring",Vt=ze("lstring",!1),k="enum",m=ze("enum",!1),x="double",O=ze("double",!1),w="bigint",z=ze("bigint",!1),V="set",ae=ze("set",!1),G=function(M,te){return M+" "+te},Y=/^[a-zA-Z_]/,T=gt([["a","z"],["A","Z"],"_"],!1,!1),ne=/^[a-zA-Z0-9_]/,ke=gt([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),g=function(M){return pt()},K=/^[^\n\r]/,J=gt([`
`,"\r"],!0,!1),B=function(M){return M.join("").replace(/^"/,"").replace(/"$/,"")},H=hn("integer"),W=/^[0-9]/,Se=gt([["0","9"]],!1,!1),ge=function(){return parseInt(pt(),10)},be=hn("whitespace"),Ue=/^[ \t\n\r]/,_n=gt([" ","	",`
`,"\r"],!1,!1),U=0,Me=0,ft=[{line:1,column:1}],rt=0,kt=[],Ie=0,xr;if("startRule"in i){if(!(i.startRule in a))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');s=a[i.startRule]}function pt(){return r.substring(Me,U)}function ze(M,te){return{type:"literal",text:M,ignoreCase:te}}function gt(M,te,de){return{type:"class",parts:M,inverted:te,ignoreCase:de}}function Ln(){return{type:"end"}}function hn(M){return{type:"other",description:M}}function Pc(M){var te=ft[M],de;if(te)return te;for(de=M-1;!ft[de];)de--;for(te=ft[de],te={line:te.line,column:te.column};de<M;)r.charCodeAt(de)===10?(te.line++,te.column=1):te.column++,de++;return ft[M]=te,te}function N2(M,te){var de=Pc(M),me=Pc(te);return{start:{offset:M,line:de.line,column:de.column},end:{offset:te,line:me.line,column:me.column}}}function Oe(M){U<rt||(U>rt&&(rt=U,kt=[]),kt.push(M))}function jL(M,te,de){return new t(t.buildMessage(M,te),M,te,de)}function z2(){var M,te,de,me,Fe,at,ht,Cn,ai,wr,si,vr,ci,Ar;return M=U,te=je(),te!==o?(de=U2(),de!==o?(me=je(),me!==o?(Fe=G2(),Fe!==o?(at=je(),at!==o?(ht=Qu(),ht!==o?(Cn=je(),Cn!==o?(r.charCodeAt(U)===40?(ai=c,U++):(ai=o,Ie===0&&Oe(l)),ai!==o?(wr=je(),wr!==o?(si=WL(),si!==o?(vr=je(),vr!==o?(r.charCodeAt(U)===41?(ci=u,U++):(ci=o,Ie===0&&Oe(f)),ci!==o?(Ar=je(),Ar!==o?(Me=M,te=h(de,Fe,ht,si),M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o),M}function U2(){var M;return r.substr(U,6)===d?(M=d,U+=6):(M=o,Ie===0&&Oe(p)),M===o&&(r.substr(U,6)===b?(M=b,U+=6):(M=o,Ie===0&&Oe(v)),M===o&&(r.substr(U,5)===y?(M=y,U+=5):(M=o,Ie===0&&Oe(A)))),M}function G2(){var M,te,de,me;return M=On(),M===o&&(M=U,te=On(),te!==o?(de=H2(),de!==o?(te=[te,de],M=te):(U=M,M=o)):(U=M,M=o),M===o&&(M=U,te=On(),te!==o?(r.substr(U,4)===_?(de=_,U+=4):(de=o,Ie===0&&Oe(E)),de!==o?(te=[te,de],M=te):(U=M,M=o)):(U=M,M=o),M===o&&(M=U,te=On(),te!==o?(de=H2(),de!==o?(r.substr(U,4)===_?(me=_,U+=4):(me=o,Ie===0&&Oe(E)),me!==o?(te=[te,de,me],M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)))),M}function H2(){var M;return r.substr(U,7)===C?(M=C,U+=7):(M=o,Ie===0&&Oe(F)),M===o&&(r.substr(U,5)===I?(M=I,U+=5):(M=o,Ie===0&&Oe(N)),M===o&&(r.substr(U,6)===R?(M=R,U+=6):(M=o,Ie===0&&Oe(P)))),M}function Qu(){var M;return M=V2(),M===o&&(M=je()),M}function WL(){var M,te,de,me,Fe,at,ht;if(M=U,te=vp(),te!==o)if(de=je(),de!==o){for(me=[],Fe=U,at=je(),at!==o?(ht=vp(),ht!==o?(Me=Fe,at=S(te,ht),Fe=at):(U=Fe,Fe=o)):(U=Fe,Fe=o);Fe!==o;)me.push(Fe),Fe=U,at=je(),at!==o?(ht=vp(),ht!==o?(Me=Fe,at=S(te,ht),Fe=at):(U=Fe,Fe=o)):(U=Fe,Fe=o);me!==o?(Fe=je(),Fe!==o?(Me=M,te=Z(te,me),M=te):(U=M,M=o)):(U=M,M=o)}else U=M,M=o;else U=M,M=o;return M}function ZL(){var M;return r.charCodeAt(U)===35?(M=Q,U++):(M=o,Ie===0&&Oe(se)),M}function YL(){var M,te,de,me,Fe;return M=U,te=je(),te!==o?(de=ZL(),de!==o?(me=V2(),me!==o?(Fe=je(),Fe!==o?(te=[te,de,me,Fe],M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o),M}function vp(){var M,te,de,me,Fe,at,ht,Cn,ai,wr,si,vr,ci,Ar;return M=U,te=Ap(),te!==o?(de=je(),de!==o?(me=On(),me!==o?(Fe=je(),Fe!==o?(r.charCodeAt(U)===59?(at=ce,U++):(at=o,Ie===0&&Oe(fe)),at!==o?(ht=je(),ht!==o?(Cn=Qu(),Cn!==o?(Me=M,te=le(te,me,Cn),M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o),M===o&&(M=U,te=Ap(),te!==o?(de=je(),de!==o?(r.charCodeAt(U)===91?(me=Ee,U++):(me=o,Ie===0&&Oe(pe)),me!==o?(Fe=je(),Fe!==o?(at=XL(),at!==o?(ht=je(),ht!==o?(r.charCodeAt(U)===93?(Cn=_e,U++):(Cn=o,Ie===0&&Oe(Ce)),Cn!==o?(ai=je(),ai!==o?(wr=On(),wr!==o?(si=je(),si!==o?(r.charCodeAt(U)===59?(vr=ce,U++):(vr=o,Ie===0&&Oe(fe)),vr!==o?(ci=je(),ci!==o?(Ar=Qu(),Ar!==o?(Me=M,te=xe(te,at,wr,Ar),M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o),M===o&&(M=U,te=Ap(),te!==o?(de=je(),de!==o?(r.charCodeAt(U)===40?(me=c,U++):(me=o,Ie===0&&Oe(l)),me!==o?(Fe=je(),Fe!==o?(at=QL(),at!==o?(ht=je(),ht!==o?(r.charCodeAt(U)===41?(Cn=u,U++):(Cn=o,Ie===0&&Oe(f)),Cn!==o?(ai=je(),ai!==o?(wr=On(),wr!==o?(si=je(),si!==o?(r.charCodeAt(U)===59?(vr=ce,U++):(vr=o,Ie===0&&Oe(fe)),vr!==o?(ci=je(),ci!==o?(Ar=Qu(),Ar!==o?(Me=M,te=Te(te,at,wr,Ar),M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o)):(U=M,M=o),M===o&&(M=YL()))),M}function QL(){var M,te,de,me,Fe,at,ht;if(M=U,te=On(),te!==o){for(de=[],me=U,r.charCodeAt(U)===44?(Fe=He,U++):(Fe=o,Ie===0&&Oe(Le)),Fe!==o?(at=je(),at!==o?(ht=On(),ht!==o?(Me=me,Fe=S(te,ht),me=Fe):(U=me,me=o)):(U=me,me=o)):(U=me,me=o);me!==o;)de.push(me),me=U,r.charCodeAt(U)===44?(Fe=He,U++):(Fe=o,Ie===0&&Oe(Le)),Fe!==o?(at=je(),at!==o?(ht=On(),ht!==o?(Me=me,Fe=S(te,ht),me=Fe):(U=me,me=o)):(U=me,me=o)):(U=me,me=o);de!==o?(Me=M,te=j(te,de),M=te):(U=M,M=o)}else U=M,M=o;return M}function Ap(){var M,te,de,me;return r.substr(U,3)===q?(M=q,U+=3):(M=o,Ie===0&&Oe(re)),M===o&&(r.substr(U,4)===$?(M=$,U+=4):(M=o,Ie===0&&Oe(ue)),M===o&&(r.substr(U,5)===L?(M=L,U+=5):(M=o,Ie===0&&Oe(D)),M===o&&(r.substr(U,6)===ee?(M=ee,U+=6):(M=o,Ie===0&&Oe(oe)),M===o&&(r.substr(U,4)===De?(M=De,U+=4):(M=o,Ie===0&&Oe(ye)),M===o&&(r.substr(U,5)===we?(M=we,U+=5):(M=o,Ie===0&&Oe(Be)),M===o&&(r.substr(U,5)===mt?(M=mt,U+=5):(M=o,Ie===0&&Oe(nn)),M===o&&(r.substr(U,4)===It?(M=It,U+=4):(M=o,Ie===0&&Oe(tt)),M===o&&(r.substr(U,6)===Pt?(M=Pt,U+=6):(M=o,Ie===0&&Oe(Ht)),M===o&&(r.substr(U,7)===nt?(M=nt,U+=7):(M=o,Ie===0&&Oe(Vt)),M===o&&(r.substr(U,4)===k?(M=k,U+=4):(M=o,Ie===0&&Oe(m)),M===o&&(r.substr(U,6)===x?(M=x,U+=6):(M=o,Ie===0&&Oe(O)),M===o&&(r.substr(U,6)===w?(M=w,U+=6):(M=o,Ie===0&&Oe(z)),M===o&&(r.substr(U,3)===V?(M=V,U+=3):(M=o,Ie===0&&Oe(ae)),M===o&&(M=U,te=U2(),te!==o?(de=je(),de!==o?(me=G2(),me!==o?(Me=M,te=G(te,me),M=te):(U=M,M=o)):(U=M,M=o)):(U=M,M=o))))))))))))))),M}function XL(){var M;return M=KL(),M===o&&(M=On()),M}function On(){var M,te,de,me,Fe;if(M=U,te=U,Y.test(r.charAt(U))?(de=r.charAt(U),U++):(de=o,Ie===0&&Oe(T)),de!==o){for(me=[],ne.test(r.charAt(U))?(Fe=r.charAt(U),U++):(Fe=o,Ie===0&&Oe(ke));Fe!==o;)me.push(Fe),ne.test(r.charAt(U))?(Fe=r.charAt(U),U++):(Fe=o,Ie===0&&Oe(ke));me!==o?(de=[de,me],te=de):(U=te,te=o)}else U=te,te=o;return te!==o&&(Me=M,te=g()),M=te,M}function V2(){var M,te,de;for(M=U,te=[],K.test(r.charAt(U))?(de=r.charAt(U),U++):(de=o,Ie===0&&Oe(J));de!==o;)te.push(de),K.test(r.charAt(U))?(de=r.charAt(U),U++):(de=o,Ie===0&&Oe(J));return te!==o&&(Me=M,te=B(te)),M=te,M}function KL(){var M,te,de,me;if(Ie++,M=U,te=je(),te!==o){if(de=[],W.test(r.charAt(U))?(me=r.charAt(U),U++):(me=o,Ie===0&&Oe(Se)),me!==o)for(;me!==o;)de.push(me),W.test(r.charAt(U))?(me=r.charAt(U),U++):(me=o,Ie===0&&Oe(Se));else de=o;de!==o?(Me=M,te=ge(),M=te):(U=M,M=o)}else U=M,M=o;return Ie--,M===o&&(te=o,Ie===0&&Oe(H)),M}function je(){var M,te;for(Ie++,M=[],Ue.test(r.charAt(U))?(te=r.charAt(U),U++):(te=o,Ie===0&&Oe(_n));te!==o;)M.push(te),Ue.test(r.charAt(U))?(te=r.charAt(U),U++):(te=o,Ie===0&&Oe(_n));return Ie--,M===o&&(te=o,Ie===0&&Oe(be)),M}if(xr=s(),xr!==o&&U===r.length)return xr;throw xr!==o&&U<r.length&&Oe(Ln()),jL(kt,rt<r.length?r.charAt(rt):null,rt<r.length?N2(rt,rt+1):N2(rt,rt))}return W0={SyntaxError:t,parse:n},W0}var FA=HP();const VP=gu(FA),Z0=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([e,t])=>[e,FA.parse(t.trim())]));function Y0(e){const t=new Set(["uint","int","float","long"]);return{...e,fields:e.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&t.has(n.type),isNumeric:!n.size&&t.has(n.type)})).filter(n=>!!n.name)}}const qP={".":0,"-":-1,"+":1};function jP(e){var t;return e.length>=12&&!Number.isNaN(parseInt(e[9],10))&&((t=e[10])===null||t===void 0?void 0:t.split(",").filter(n=>!!n).length)===parseInt(e[9],10)}class WP{constructor(t={}){if(t.autoSql)this.autoSql=Y0(VP.parse(t.autoSql));else if(t.type){if(!Z0[t.type])throw new Error("Type not found");this.autoSql=Y0(Z0[t.type])}else this.autoSql=Y0(Z0.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(t,n={}){const{autoSql:r}=this,{uniqueId:i}=n,o=Array.isArray(t)?t:t.split("	");let a={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&jP(o))for(let s=0;s<r.fields.length;s++){const c=r.fields[s];let l=o[s];const{isNumeric:u,isArray:f,arrayIsNumeric:h,name:d}=c;if(l==null)break;if(l!=="."){if(u){const p=Number(l);l=Number.isNaN(p)?l:p}else f&&(l=l.split(","),l[l.length-1]===""&&l.pop(),h&&(l=l.map(Number)));a[d]=l}}else{const s=["chrom","chromStart","chromEnd","name"];a=Object.fromEntries(o.map((c,l)=>[s[l]||"field"+l,c])),a.chromStart=+a.chromStart,a.chromEnd=+a.chromEnd,Number.isNaN(Number.parseFloat(a.field4))||(a.score=+a.field4,delete a.field4),(a.field5==="+"||a.field5==="-")&&(a.strand=a.field5,delete a.field5)}return i&&(a.uniqueId=i),a.strand=qP[a.strand]||0,a.chrom=decodeURIComponent(a.chrom),a}}const ZP=Object.freeze(Object.defineProperty({__proto__:null,default:WP},Symbol.toStringTag,{value:"Module"}));let RA=class{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}static min(...t){let n,r=0;for(;!n;r+=1)n=t[r];for(;r<t.length;r+=1)n.compareTo(t[r])>0&&(n=t[r]);return n}};function Qo(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new RA(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}let Q0=class{constructor(t,n,r,i){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv.toString()}..${this.maxv.toString()} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}};function YP(e){return new Promise(t=>setTimeout(t,e))}function QP(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new Error("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}function XP(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function KP(e={}){return"aborted"in e?{signal:e}:e}function MA(e,t){const n=[];let r;if(e.length===0)return e;e.sort((i,o)=>{const a=i.minv.blockPosition-o.minv.blockPosition;return a===0?i.minv.dataPosition-o.minv.dataPosition:a});for(const i of e)(!t||i.maxv.compareTo(t)>0)&&(r===void 0?(n.push(i),r=i):XP(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i));return n}function PA(e,t){return{lineCount:yu.fromBytesLE(Array.prototype.slice.call(e,t,t+8),!0).toNumber()}}function Lu(e,t){return e?e.compareTo(t)>0?t:e:t}function JP(e,t=n=>n){let n=0,r=0;const i=[],o={};for(let a=0;a<e.length;a+=1)if(!e[a]){if(r<a){let s=e.toString("utf8",r,a);s=t(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}let LA=class{constructor({filehandle:t,renameRefSeq:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}};const $P=21578050;function eL(e,t){return e-e%t}function tL(e,t){return e-e%t+t}function nL(e,t){return t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class Xo extends LA{async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async _parse(t){const n=await this.filehandle.readFile(t);if(n.readUInt32LE(0)!==$P)throw new Error("Not a BAI file");const r=n.readInt32LE(4),o=((1<<(5+1)*3)-1)/7;let a=8,s;const c=new Array(r);for(let l=0;l<r;l++){const u=n.readInt32LE(a);let f;a+=4;const h={};for(let b=0;b<u;b+=1){const v=n.readUInt32LE(a);if(a+=4,v===o+1)a+=4,f=PA(n,a+16),a+=32;else{if(v>o+1)throw new Error("bai index contains too many bins, please use CSI");{const y=n.readInt32LE(a);a+=4;const A=new Array(y);for(let _=0;_<y;_++){const E=Qo(n,a);a+=8;const C=Qo(n,a);a+=8,s=Lu(s,E),A[_]=new Q0(E,C,v)}h[v]=A}}}const d=n.readInt32LE(a);a+=4;const p=new Array(d);for(let b=0;b<d;b++){const v=Qo(n,a);a+=8,s=Lu(s,v),p[b]=v}c[l]={binIndex:h,linearIndex:p,stats:f}}return{bai:!0,firstDataLine:s,maxBlockSize:65536,indices:c,refCount:r}}async indexCov(t,n,r,i={}){const a=n!==void 0,c=(await this.parse(i)).indices[t];if(!c)return[];const{linearIndex:l=[],stats:u}=c;if(l.length===0)return[];const f=r===void 0?(l.length-1)*16384:tL(r,16384),h=n===void 0?0:eL(n,16384),d=a?new Array((f-h)/16384):new Array(l.length-1),p=l[l.length-1].blockPosition;if(f>(l.length-1)*16384)throw new Error("query outside of range of linear index");let b=l[h/16384].blockPosition;for(let v=h/16384,y=0;v<f/16384;v++,y++)d[y]={score:l[v+1].blockPosition-b,start:v*16384,end:v*16384+16384},b=l[v+1].blockPosition;return d.map(v=>({...v,score:v.score*((u==null?void 0:u.lineCount)||0)/p}))}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const o=await this.parse(i);if(!o)return[];const a=o.indices[t];if(!a)return[];const s=nL(n,r),c=[];for(const[d,p]of s)for(let b=d;b<=p;b++)if(a.binIndex[b]){const v=a.binIndex[b];for(const y of v)c.push(new Q0(y.minv,y.maxv,b))}const l=a.linearIndex.length;let u;const f=Math.min(n>>14,l-1),h=Math.min(r>>14,l-1);for(let d=f;d<=h;++d){const p=a.linearIndex[d];p&&(!u||p.compareTo(u)<0)&&(u=p)}return MA(c,u)}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}let X0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(X0=new Int32Array(X0));const rL=(e,t)=>{let n=t===0?0:~~t^-1;for(let r=0;r<e.length;r++)n=X0[(n^e[r])&255]^n>>>8;return n^-1},OA=(e,t)=>$e.Buffer.from(e,t);function iL(e,t){const n=(r,i)=>t(OA(r),i)>>>0;return n.signed=(r,i)=>t(OA(r),i),n.unsigned=n,n.model=e,n}const oL=iL("crc-32",rL),aL=21582659,sL=38359875;function cL(e,t){return e*2**t}function NA(e,t){return Math.floor(e/2**t)}let Ou=class extends LA{constructor(){super(...arguments),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async indexCov(){return[]}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},s=t.readInt32LE(n+16),c=s?String.fromCharCode(s):"",l=t.readInt32LE(n+20),u=t.readInt32LE(n+24);return{columnNumbers:a,coordinateType:i,metaValue:s,metaChar:c,skipLines:l,format:o,formatFlags:r,...JP(t.subarray(n+28,n+28+u),this.renameRefSeq)}}async _parse(t){const n=await this.filehandle.readFile(t),r=await Qr(n);let i;if(r.readUInt32LE(0)===aL)i=1;else if(r.readUInt32LE(0)===sL)i=2;else throw new Error("Not a CSI file");this.minShift=r.readInt32LE(4),this.depth=r.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const o=r.readInt32LE(12),a=o>=30?this.parseAuxData(r,16):void 0,s=r.readInt32LE(16+o);let c=16+o+4,l;const u=new Array(s);for(let f=0;f<s;f++){const h=r.readInt32LE(c);c+=4;const d={};let p;for(let b=0;b<h;b++){const v=r.readUInt32LE(c);if(c+=4,v>this.maxBinNumber)p=PA(r,c+28),c+=44;else{l=Lu(l,Qo(r,c)),c+=8;const y=r.readInt32LE(c);c+=4;const A=new Array(y);for(let _=0;_<y;_+=1){const E=Qo(r,c);c+=8;const C=Qo(r,c);c+=8,l=Lu(l,E),A[_]=new Q0(E,C,v)}d[v]=A}}u[f]={binIndex:d,stats:p}}return{csiVersion:i,firstDataLine:l,indices:u,refCount:s,csi:!0,maxBlockSize:65536,...a}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const a=(await this.parse(i)).indices[t];if(!a)return[];const s=this.reg2bins(n,r);if(s.length===0)return[];const c=[];for(const[l,u]of s)for(let f=l;f<=u;f++)if(a.binIndex[f]){const h=a.binIndex[f];for(const d of h)c.push(d)}return MA(c,new RA(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const a=[];for(;r<=this.depth;o-=3,i+=cL(1,r*3),r+=1){const s=i+NA(t,o),c=i+NA(n,o);if(c-s+a.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);a.push([s,c])}return a}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}};const En={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},zA="=ACMGRSVTWYHKDBN".split(""),hc="MIDNSHP=X???????".split("");class Ko{constructor(t){this.bytes=t.bytes,this.fileOffset=t.fileOffset}get byteArray(){return this.bytes.byteArray}get flags(){return(this.byteArray.readInt32LE(this.bytes.start+16)&4294901760)>>16}get ref_id(){return this.byteArray.readInt32LE(this.bytes.start+4)}get start(){return this.byteArray.readInt32LE(this.bytes.start+8)}get end(){return this.start+this.length_on_ref}get id(){return this.fileOffset}get mq(){const t=(this.bin_mq_nl&65280)>>8;return t===255?void 0:t}get score(){return this.mq}get qual(){if(this.isSegmentUnmapped())return;const t=this.b0+this.read_name_length+this.num_cigar_ops*4+this.num_seq_bytes;return this.byteArray.subarray(t,t+this.seq_length)}get strand(){return this.isReverseComplemented()?-1:1}get b0(){return this.bytes.start+36}get name(){return this.byteArray.toString("ascii",this.b0,this.b0+this.read_name_length-1)}get tags(){const{byteArray:t}=this.bytes;let n=this.b0+this.read_name_length+this.num_cigar_ops*4+this.num_seq_bytes+this.seq_length;const r=this.bytes.end,i={};for(;n<r;){const o=String.fromCharCode(t[n],t[n+1]),a=String.fromCharCode(t[n+2]);if(n+=3,a==="A")i[o]=String.fromCharCode(t[n]),n+=1;else if(a==="i")i[o]=t.readInt32LE(n),n+=4;else if(a==="I")i[o]=t.readUInt32LE(n),n+=4;else if(a==="c")i[o]=t.readInt8(n),n+=1;else if(a==="C")i[o]=t.readUInt8(n),n+=1;else if(a==="s")i[o]=t.readInt16LE(n),n+=2;else if(a==="S")i[o]=t.readUInt16LE(n),n+=2;else if(a==="f")i[o]=t.readFloatLE(n),n+=4;else if(a==="Z"||a==="H"){const s=[];for(;n<=r;){const c=t[n++];if(c!==0)s.push(String.fromCharCode(c));else break}i[o]=s.join("")}else if(a==="B"){const s=t[n++],c=String.fromCharCode(s),l=t.readInt32LE(n);if(n+=4,c==="i")if(o==="CG"){const u=[];for(let f=0;f<l;f++){const h=t.readInt32LE(n),d=h>>4,p=hc[h&15];u.push(d+p),n+=4}i[o]=u.join("")}else{const u=[];for(let f=0;f<l;f++)u.push(t.readInt32LE(n)),n+=4;i[o]=u}else if(c==="I")if(o==="CG"){const u=[];for(let f=0;f<l;f++){const h=t.readUInt32LE(n),d=h>>4,p=hc[h&15];u.push(d+p),n+=4}i[o]=u.join("")}else{const u=[];for(let f=0;f<l;f++)u.push(t.readUInt32LE(n)),n+=4;i[o]=u}else if(c==="s"){const u=[];for(let f=0;f<l;f++)u.push(t.readInt16LE(n)),n+=2;i[o]=u}else if(c==="S"){const u=[];for(let f=0;f<l;f++)u.push(t.readUInt16LE(n)),n+=2;i[o]=u}else if(c==="c"){const u=[];for(let f=0;f<l;f++)u.push(t.readInt8(n)),n+=1;i[o]=u}else if(c==="C"){const u=[];for(let f=0;f<l;f++)u.push(t.readUInt8(n)),n+=1;i[o]=u}else if(c==="f"){const u=[];for(let f=0;f<l;f++)u.push(t.readFloatLE(n)),n+=4;i[o]=u}}else{console.error("Unknown BAM tag type",a);break}}return i}isPaired(){return!!(this.flags&En.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&En.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&En.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&En.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&En.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&En.BAM_FMREVERSE)}isRead1(){return!!(this.flags&En.BAM_FREAD1)}isRead2(){return!!(this.flags&En.BAM_FREAD2)}isSecondary(){return!!(this.flags&En.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&En.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&En.BAM_FDUP)}isSupplementary(){return!!(this.flags&En.BAM_FSUPPLEMENTARY)}get cigarAndLength(){if(this.isSegmentUnmapped())return{length_on_ref:0,CIGAR:""};const t=this.num_cigar_ops;let n=this.b0+this.read_name_length;const r=[];let i=this.byteArray.readInt32LE(n),o=i>>4,a=hc[i&15];if(a==="S"&&o===this.seq_length)return n+=4,i=this.byteArray.readInt32LE(n),o=i>>4,a=hc[i&15],a!=="N"&&console.warn("CG tag with no N tag"),{CIGAR:this.tags.CG,length_on_ref:o};{let s=0;for(let c=0;c<t;++c)i=this.byteArray.readInt32LE(n),o=i>>4,a=hc[i&15],r.push(o+a),a!=="H"&&a!=="S"&&a!=="I"&&(s+=o),n+=4;return{CIGAR:r.join(""),length_on_ref:s}}}get length_on_ref(){return this.cigarAndLength.length_on_ref}get CIGAR(){return this.cigarAndLength.CIGAR}get num_cigar_ops(){return this.flag_nc&65535}get read_name_length(){return this.bin_mq_nl&255}get num_seq_bytes(){return this.seq_length+1>>1}get seq(){const{byteArray:t}=this.bytes,n=this.b0+this.read_name_length+this.num_cigar_ops*4,r=this.num_seq_bytes,i=this.seq_length,o=[];let a=0;for(let s=0;s<r;++s){const c=t[n+s];o.push(zA[(c&240)>>4]),a++,a<i&&(o.push(zA[c&15]),a++)}return o.join("")}get pair_orientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this.ref_id===this.next_refid){const t=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const o=[];return this.template_length>0?(o[0]=t,o[1]=r,o[2]=n,o[3]=i):(o[2]=t,o[3]=r,o[0]=n,o[1]=i),o.join("")}}get bin_mq_nl(){return this.byteArray.readInt32LE(this.bytes.start+12)}get flag_nc(){return this.byteArray.readInt32LE(this.bytes.start+16)}get seq_length(){return this.byteArray.readInt32LE(this.bytes.start+20)}get next_refid(){return this.byteArray.readInt32LE(this.bytes.start+24)}get next_pos(){return this.byteArray.readInt32LE(this.bytes.start+28)}get template_length(){return this.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const t={};for(const n of Object.keys(this))n.startsWith("_")||n==="bytes"||(t[n]=this[n]);return t}}function Nu(e,t){const n=Object.getOwnPropertyDescriptor(e.prototype,t);if(!n)throw new Error("OH NO, NO PROPERTY DESCRIPTOR");const r=n.get;if(!r)throw new Error("OH NO, NOT A GETTER");Object.defineProperty(e.prototype,t,{get(){const i=r.call(this);return Object.defineProperty(this,t,{value:i}),i}})}Nu(Ko,"tags"),Nu(Ko,"cigarAndLength"),Nu(Ko,"seq"),Nu(Ko,"qual");function UA(e){const t=e.split(/\r?\n/),n=[];for(const r of t){const[i,...o]=r.split(/\t/);i&&n.push({tag:i.slice(1),data:o.map(a=>{const s=a.indexOf(":"),c=a.slice(0,s),l=a.slice(s+1);return{tag:c,value:l}})})}return n}const GA=21840194,HA=65536;async function lL(e){let t=[];for await(const n of e)t=t.concat(n);return t}class uL{read(){throw new Error("never called")}stat(){throw new Error("never called")}readFile(){throw new Error("never called")}close(){throw new Error("never called")}}class VA{constructor({bamFilehandle:t,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:o,baiUrl:a,csiPath:s,csiFilehandle:c,csiUrl:l,htsget:u,yieldThreadTime:f=100,renameRefSeqs:h=d=>d}){if(this.htsget=!1,this.featureCache=new Ui({cache:new wu({maxSize:50}),fill:async(d,p)=>{const{chunk:b,opts:v}=d,{data:y,cpositions:A,dpositions:_}=await this._readChunk({chunk:b,opts:{...v,signal:p}});return this.readBamFeatures(y,A,_,b)}}),this.renameRefSeq=h,t)this.bam=t;else if(n)this.bam=new Tt(n);else if(r)this.bam=new Rn(r);else if(u)this.htsget=!0,this.bam=new uL;else throw new Error("unable to initialize bam");if(c)this.index=new Ou({filehandle:c});else if(s)this.index=new Ou({filehandle:new Tt(s)});else if(l)this.index=new Ou({filehandle:new Rn(l)});else if(o)this.index=new Xo({filehandle:o});else if(i)this.index=new Xo({filehandle:new Tt(i)});else if(a)this.index=new Xo({filehandle:new Rn(a)});else if(n)this.index=new Xo({filehandle:new Tt(`${n}.bai`)});else if(r)this.index=new Xo({filehandle:new Rn(`${r}.bai`)});else if(u)this.htsget=!0;else throw new Error("unable to infer index format");this.yieldThreadTime=f}async getHeaderPre(t){const n=KP(t);if(!this.index)return;const r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let o;if(i){const u=i+HA,f=await this.bam.read($e.Buffer.alloc(u),0,u,0,n);if(!f.bytesRead)throw new Error("Error reading header");o=f.buffer.subarray(0,Math.min(f.bytesRead,i))}else o=await this.bam.readFile(n);const a=await Qr(o);if(a.readInt32LE(0)!==GA)throw new Error("Not a BAM file");const s=a.readInt32LE(4);this.header=a.toString("utf8",8,8+s);const{chrToIndex:c,indexToChr:l}=await this._readRefSeqs(s+8,65535,n);return this.chrToIndex=c,this.indexToChr=l,UA(this.header)}getHeader(t){return this.headerP||(this.headerP=this.getHeaderPre(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}async getHeaderText(t={}){return await this.getHeader(t),this.header}async _readRefSeqs(t,n,r){if(t>n)return this._readRefSeqs(t,n*2,r);const i=n+HA,{bytesRead:o,buffer:a}=await this.bam.read($e.Buffer.alloc(i),0,n,0,r);if(!o)throw new Error("Error reading refseqs from header");const s=await Qr(a.subarray(0,Math.min(o,n))),c=s.readInt32LE(t);let l=t+4;const u={},f=[];for(let h=0;h<c;h+=1){const d=s.readInt32LE(l),p=this.renameRefSeq(s.toString("utf8",l+4,l+4+d-1)),b=s.readInt32LE(l+d+4);if(u[p]=h,f.push({refName:p,length:b}),l=l+8+d,l>s.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(t,n*2,r)}return{chrToIndex:u,indexToChr:f}}async getRecordsForRange(t,n,r,i){return lL(this.streamRecordsForRange(t,n,r,i))}async*streamRecordsForRange(t,n,r,i){var o;await this.getHeader(i);const a=(o=this.chrToIndex)===null||o===void 0?void 0:o[t];if(a===void 0||!this.index)yield[];else{const s=await this.index.blocksForRange(a,n-1,r,i);yield*this._fetchChunkFeatures(s,a,n,r,i)}}async*_fetchChunkFeatures(t,n,r,i,o={}){const{viewAsPairs:a}=o,s=[];let c=!1;for(const l of t){const u=await this.featureCache.get(l.toString(),{chunk:l,opts:o},o.signal),f=[];for(const h of u)if(h.ref_id===n)if(h.start>=i){c=!0;break}else h.end>=r&&f.push(h);if(s.push(f),yield f,c)break}QP(o.signal),a&&(yield this.fetchPairs(n,s,o))}async fetchPairs(t,n,r){const{pairAcrossChr:i,maxInsertSize:o=2e5}=r,a={},s={};n.map(h=>{const d={};for(const p of h){const b=p.name,v=p.id;d[b]||(d[b]=0),d[b]++,s[v]=1}for(const[p,b]of Object.entries(d))b===1&&(a[p]=!0)});const c=[];n.map(h=>{for(const d of h){const p=d.name,b=d.start,v=d.next_pos,y=d.next_refid;this.index&&a[p]&&(i||y===t&&Math.abs(b-v)<o)&&c.push(this.index.blocksForRange(y,v,v+1,r))}});const l=new Map,u=await Promise.all(c);for(const h of u.flat())l.has(h.toString())||l.set(h.toString(),h);return(await Promise.all([...l.values()].map(async h=>{const{data:d,cpositions:p,dpositions:b,chunk:v}=await this._readChunk({chunk:h,opts:r}),y=[];for(const A of await this.readBamFeatures(d,p,b,v))a[A.name]&&!s[A.id]&&y.push(A);return y}))).flat()}async _readRegion(t,n,r={}){const{bytesRead:i,buffer:o}=await this.bam.read($e.Buffer.alloc(n),0,n,t,r);return o.subarray(0,Math.min(i,n))}async _readChunk({chunk:t,opts:n}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n),{buffer:i,cpositions:o,dpositions:a}=await Ew(r,t);return{data:i,cpositions:o,dpositions:a,chunk:t}}async readBamFeatures(t,n,r,i){let o=0;const a=[];let s=0,c=+Date.now();for(;o+4<t.length;){const l=t.readInt32LE(o),u=o+4+l-1;if(r){for(;o+i.minv.dataPosition>=r[s++];);s--}if(u<t.length){const f=new Ko({bytes:{byteArray:t,start:o,end:u},fileOffset:n.length>0?n[s]*256+(o-r[s])+i.minv.dataPosition+1:oL.signed(t.slice(o,u))});a.push(f),this.yieldThreadTime&&+Date.now()-c>this.yieldThreadTime&&(await YP(1),c=+Date.now())}o=u+1}return a}async hasRefSeq(t){var n,r;const i=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return i===void 0?!1:(r=this.index)===null||r===void 0?void 0:r.hasRefSeq(i)}async lineCount(t){var n;const r=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return r===void 0||!this.index?0:this.index.lineCount(r)}async indexCov(t,n,r){var i;if(!this.index)return[];await this.index.parse();const o=(i=this.chrToIndex)===null||i===void 0?void 0:i[t];return o===void 0?[]:this.index.indexCov(o,n,r)}async blocksForRange(t,n,r,i){var o;if(!this.index)return[];await this.index.parse();const a=(o=this.chrToIndex)===null||o===void 0?void 0:o[t];return a===void 0?[]:this.index.blocksForRange(a,n,r,i)}}async function qA(e,t){const n=await Promise.all(e.map(async r=>{const{url:i,headers:o}=r;if(i.startsWith("data:"))return $e.Buffer.from(i.split(",")[1],"base64");{const{referer:a,...s}=o,c=await fetch(i,{...t,headers:{...t==null?void 0:t.headers,...s}});if(!c.ok)throw new Error(`HTTP ${c.status} fetching ${i}: ${await c.text()}`);return $e.Buffer.from(await c.arrayBuffer())}}));return $e.Buffer.concat(await Promise.all(n.map(r=>Qr(r))))}class fL extends VA{constructor(t){super({htsget:!0}),this.baseUrl=t.baseUrl,this.trackId=t.trackId}async*streamRecordsForRange(t,n,r,i){var o;const s=`${`${this.baseUrl}/${this.trackId}`}?referenceName=${t}&start=${n}&end=${r}&format=BAM`,c=(o=this.chrToIndex)===null||o===void 0?void 0:o[t];if(c===void 0)yield[];else{const l=await fetch(s,{...i});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${s}: ${await l.text()}`);const u=await l.json(),f=await qA(u.htsget.urls.slice(1),i);yield*this._fetchChunkFeatures([{buffer:f,_fetchedSize:void 0,bin:0,compareTo(){return 0},toUniqueString(){return`${t}_${n}_${r}`},fetchedSize(){return 0},minv:{dataPosition:0,blockPosition:0,compareTo:()=>0},maxv:{dataPosition:Number.MAX_SAFE_INTEGER,blockPosition:0,compareTo:()=>0},toString(){return`${t}_${n}_${r}`}}],c,n,r,i)}}async _readChunk({chunk:t}){if(!t.buffer)throw new Error("expected chunk.buffer in htsget");return{data:t.buffer,cpositions:[],dpositions:[],chunk:t}}async getHeader(t={}){const n=`${this.baseUrl}/${this.trackId}?referenceName=na&class=header`,r=await fetch(n,t);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${n}: ${await r.text()}`);const i=await r.json(),o=await qA(i.htsget.urls,t);if(o.readInt32LE(0)!==GA)throw new Error("Not a BAM file");const a=o.readInt32LE(4),s=o.toString("utf8",8,8+a),c=UA(s),l=[],u={},f=c.filter(h=>h.tag==="SQ");for(const[h,d]of f.entries()){let p="",b=0;for(const v of d.data)v.tag==="SN"?p=v.value:v.tag==="LN"&&(b=+v.value);u[p]=h,l[h]={refName:p,length:b}}return this.chrToIndex=u,this.indexToChr=l,c}}const hL=Object.freeze(Object.defineProperty({__proto__:null,BAI:Xo,BamFile:VA,BamRecord:Ko,CSI:Ou,HtsgetFile:fL},Symbol.toStringTag,{value:"Module"}));function jA(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()}class dL extends Error{}function dc(e){if(e&&e.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const t=new dL("aborted");throw t.code="ERR_ABORTED",t}}}function pL(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function WA(e,t){const n=[];let r=null;return e.length===0?e:(e.sort(function(i,o){const a=i.minv.blockPosition-o.minv.blockPosition;return a!==0?a:i.minv.dataPosition-o.minv.dataPosition}),e.forEach(i=>{(!t||i.maxv.compareTo(t)>0)&&(r===null?(n.push(i),r=i):pL(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}class K0{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}}function Jo(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new K0(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}class zu{constructor(t,n,r,i=void 0){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class ZA{constructor({filehandle:t,renameRefSeqs:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}async getMetadata(t={}){const{indices:n,...r}=await this.parse(t);return r}_findFirstData(t,n){return t?t.compareTo(n)>0?n:t:n}async parse(t={}){return this.parseP||(this.parseP=this._parse(t).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}const gL=21578324,YA=14;function mL(e,t){return e+=1,t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class $o extends ZA{async lineCount(t,n={}){const r=await this.parse(n),i=r.refNameToId[t];if(i===void 0||!r.indices[i])return-1;const{stats:a}=r.indices[i];return a?a.lineCount:-1}async _parse(t={}){const n=await this.filehandle.readFile(t),r=await Qr(n);if(dc(t.signal),r.readUInt32LE(0)!==gL)throw new Error("Not a TBI file");const i=r.readInt32LE(4),o=r.readInt32LE(8),a=o&65536?"zero-based-half-open":"1-based-closed",c={0:"generic",1:"SAM",2:"VCF"}[o&15];if(!c)throw new Error(`invalid Tabix preset format flags ${o}`);const l={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},u=r.readInt32LE(24),f=5,h=((1<<(f+1)*3)-1)/7,d=2**(14+f*3),p=u?String.fromCharCode(u):null,b=r.readInt32LE(28),v=r.readInt32LE(32),{refNameToId:y,refIdToName:A}=this._parseNameBytes(r.slice(36,36+v));let _=36+v,E;return{indices:new Array(i).fill(0).map(()=>{const F=r.readInt32LE(_);_+=4;const I={};let N;for(let S=0;S<F;S+=1){const Z=r.readUInt32LE(_);if(_+=4,Z>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(Z===h+1){const Q=r.readInt32LE(_);_+=4,Q===2&&(N=this.parsePseudoBin(r,_)),_+=16*Q}else{const Q=r.readInt32LE(_);_+=4;const se=new Array(Q);for(let ce=0;ce<Q;ce+=1){const fe=Jo(r,_),le=Jo(r,_+8);_+=16,E=this._findFirstData(E,fe),se[ce]=new zu(fe,le,Z)}I[Z]=se}}const R=r.readInt32LE(_);_+=4;const P=new Array(R);for(let S=0;S<R;S+=1)P[S]=Jo(r,_),_+=8,E=this._findFirstData(E,P[S]);return{binIndex:I,linearIndex:P,stats:N}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:b,firstDataLine:E,columnNumbers:l,coordinateType:a,format:c,refIdToName:A,refNameToId:y,maxBlockSize:65536}}parsePseudoBin(t,n){return{lineCount:jA(yu.fromBytesLE(t.slice(n+16,n+24),!0))}}_parseNameBytes(t){let n=0,r=0;const i=[],o={};for(let a=0;a<t.length;a+=1)if(!t[a]){if(r<a){let s=t.toString("utf8",r,a);s=this.renameRefSeq(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const o=await this.parse(i),a=o.refNameToId[t];if(a===void 0)return[];const s=o.indices[a];if(!s)return[];(s.linearIndex.length?s.linearIndex[n>>YA>=s.linearIndex.length?s.linearIndex.length-1:n>>YA]:new K0(0,0))||console.warn("querying outside of possible tabix range");const l=mL(n,r),u=[];for(const[b,v]of l)for(let y=b;y<=v;y++)if(s.binIndex[y])for(const A of s.binIndex[y])u.push(new zu(A.minv,A.maxv,y));const f=s.linearIndex.length;let h=null;const d=Math.min(n>>14,f-1),p=Math.min(r>>14,f-1);for(let b=d;b<=p;++b){const v=s.linearIndex[b];v&&(!h||v.compareTo(h)<0)&&(h=v)}return WA(u,h)}}const bL=21582659,yL=38359875;function xL(e,t){return e*2**t}function QA(e,t){return Math.floor(e/2**t)}class Uu extends ZA{constructor(t){super(t),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n={}){const r=await this.parse(n),i=r.refNameToId[t];if(i===void 0||!r.indices[i])return-1;const{stats:a}=r.indices[i];return a?a.lineCount:-1}indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!o)throw new Error(`invalid Tabix preset format flags ${r}`);const a={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},s=t.readInt32LE(n+16),c=s?String.fromCharCode(s):null,l=t.readInt32LE(n+20),u=t.readInt32LE(n+24),{refIdToName:f,refNameToId:h}=this._parseNameBytes(t.slice(n+28,n+28+u));return{refIdToName:f,refNameToId:h,skipLines:l,metaChar:c,columnNumbers:a,format:o,coordinateType:i}}_parseNameBytes(t){let n=0,r=0;const i=[],o={};for(let a=0;a<t.length;a+=1)if(!t[a]){if(r<a){let s=t.toString("utf8",r,a);s=this.renameRefSeq(s),i[n]=s,o[s]=n}r=a+1,n+=1}return{refNameToId:o,refIdToName:i}}async _parse(t={}){const n=await Qr(await this.filehandle.readFile(t));let r;if(n.readUInt32LE(0)===bL)r=1;else if(n.readUInt32LE(0)===yL)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),o=n.readInt32LE(12),a=o&&o>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},s=n.readInt32LE(16+o);let c,l=16+o+4;const u=new Array(s).fill(0).map(()=>{const f=n.readInt32LE(l);l+=4;const h={};let d;for(let p=0;p<f;p+=1){const b=n.readUInt32LE(l);if(b>this.maxBinNumber)d=this.parsePseudoBin(n,l+4),l+=48;else{const v=Jo(n,l+4);c=this._findFirstData(c,v);const y=n.readInt32LE(l+12);l+=16;const A=new Array(y);for(let _=0;_<y;_+=1){const E=Jo(n,l),C=Jo(n,l+8);l+=16,A[_]=new zu(E,C,b)}h[b]=A}}return{binIndex:h,stats:d}});return{...a,csi:!0,refCount:s,maxBlockSize:65536,firstDataLine:c,csiVersion:r,indices:u,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(t,n){return{lineCount:jA(yu.fromBytesLE(t.slice(n+28,n+36),!0))}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const o=await this.parse(i),a=o.refNameToId[t];if(a===void 0)return[];const s=o.indices[a];if(!s)return[];const c=this.reg2bins(n,r),l=[];for(const[u,f]of c)for(let h=u;h<=f;h++)if(s.binIndex[h])for(const d of s.binIndex[h])l.push(new zu(d.minv,d.maxv,h));return WA(l,new K0(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,o=this.minShift+this.depth*3;const a=[];for(;r<=this.depth;o-=3,i+=xL(1,r*3),r+=1){const s=i+QA(t,o),c=i+QA(n,o);if(c-s+a.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);a.push([s,c])}return a}}function wL(e){return/^[\u0000-\u007F]*$/.test(e)}const ea=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;class vL{constructor({path:t,filehandle:n,url:r,tbiPath:i,tbiUrl:o,tbiFilehandle:a,csiPath:s,csiUrl:c,csiFilehandle:l,renameRefSeqs:u=h=>h,chunkCacheSize:f=5*2**20}){if(n)this.filehandle=n;else if(t)this.filehandle=new Tt(t);else if(r)this.filehandle=new Rn(r);else throw new TypeError("must provide either filehandle or path");if(a)this.index=new $o({filehandle:a,renameRefSeqs:u});else if(l)this.index=new Uu({filehandle:l,renameRefSeqs:u});else if(i)this.index=new $o({filehandle:new Tt(i),renameRefSeqs:u});else if(s)this.index=new Uu({filehandle:new Tt(s),renameRefSeqs:u});else if(t)this.index=new $o({filehandle:new Tt(`${t}.tbi`),renameRefSeqs:u});else if(c)this.index=new Uu({filehandle:new Rn(c)});else if(o)this.index=new $o({filehandle:new Rn(o)});else if(r)this.index=new $o({filehandle:new Rn(`${r}.tbi`)});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, csiPath, tbiUrl, csiUrl");this.renameRefSeq=u,this.chunkCache=new Ui({cache:new wu({maxSize:Math.floor(f/65536)}),fill:(h,d)=>this.readChunk(h,{signal:d})})}async getLines(t,n,r,i){var o,a;let s,c={},l;typeof i=="function"?l=i:(c=i,l=i.lineCallback,s=i.signal);const u=await this.index.getMetadata(c);dc(s);const f=n??0,h=r??u.maxRefLength;if(!(f<=h))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(f===h)return;const d=await this.index.blocksForRange(t,f,h,c);dc(s);for(const p of d){const{buffer:b,cpositions:v,dpositions:y}=await this.chunkCache.get(p.toString(),p,s);dc(s);let A=0,_=0;const E=(o=ea==null?void 0:ea.decode(b))!==null&&o!==void 0?o:b.toString(),C=b.length<5e8&&wL(E);for(;A<E.length;){let F,I;if(C){if(I=E.indexOf(`
`,A),I===-1)break;F=E.slice(A,I)}else{if(I=b.indexOf(`
`,A),I===-1)break;const P=b.slice(A,I);F=(a=ea==null?void 0:ea.decode(P))!==null&&a!==void 0?a:P.toString()}if(y){for(;A+p.minv.dataPosition>=y[_++];);_--}const{startCoordinate:N,overlaps:R}=this.checkLine(u,t,f,h,F);if(R)l(F,v[_]*256+(A-y[_])+p.minv.dataPosition+1);else if(N!==void 0&&N>=h)return;A=I+1}}}async getMetadata(t={}){return this.index.getMetadata(t)}async getHeaderBuffer(t={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(t);dc(t.signal);const o=((n==null?void 0:n.blockPosition)||0)+i,a=await this._readRegion(0,o,t),s=await Qr(a);if(r){let c=-1;const l=10,u=r.charCodeAt(0);for(let f=0;f<s.length&&!(f===c+1&&s[f]!==u);f+=1)s[f]===l&&(c=f);return s.subarray(0,c+1)}return s}async getHeader(t={}){return(await this.getHeaderBuffer(t)).toString("utf8")}async getReferenceSequenceNames(t={}){return(await this.getMetadata(t)).refIdToName}checkLine(t,n,r,i,o){const{columnNumbers:a,metaChar:s,coordinateType:c,format:l}=t;if(s&&o.startsWith(s))return{overlaps:!1};let{ref:u,start:f,end:h}=a;u||(u=0),f||(f=0),h||(h=0),l==="VCF"&&(h=8);const d=Math.max(u,f,h);let p=1,b=0,v="",y=-1/0;const A=o.length;for(let _=0;_<A+1;_++)if(o[_]==="	"||_===A){if(p===u){if(this.renameRefSeq(o.slice(b,_))!==n)return{overlaps:!1}}else if(p===f){if(y=parseInt(o.slice(b,_),10),c==="1-based-closed"&&(y-=1),y>=i)return{startCoordinate:y,overlaps:!1};if((h===0||h===f)&&y+1<=r)return{startCoordinate:y,overlaps:!1}}else if(l==="VCF"&&p===4)v=o.slice(b,_);else if(p===h&&(l==="VCF"?this._getVcfEnd(y,v,o.slice(b,_)):Number.parseInt(o.slice(b,_),10))<=r)return{overlaps:!1};if(b=_+1,p+=1,p>d)break}return{startCoordinate:y,overlaps:!0}}_getVcfEnd(t,n,r){let i=t+n.length;const o=r.includes("SVTYPE=TRA");if(r[0]!=="."&&!o){let a=";";for(let s=0;s<r.length;s+=1){if(a===";"&&r.slice(s,s+4)==="END="){let c=r.indexOf(";",s);c===-1&&(c=r.length),i=parseInt(r.slice(s+4,c),10);break}a=r[s]}}else if(o)return t+1;return i}async lineCount(t,n={}){return this.index.lineCount(t,n)}async _readRegion(t,n,r={}){const i=$e.Buffer.alloc(n),{bytesRead:o,buffer:a}=await this.filehandle.read(i,0,n,t,r);return a.subarray(0,o)}async readChunk(t,n={}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n);return Ew(r,t)}}const AL=Object.freeze(Object.defineProperty({__proto__:null,CSI:Uu,TBI:$o,TabixIndexedFile:vL},Symbol.toStringTag,{value:"Module"}));var Gu={exports:{}},XA;function J0(){if(XA)return Gu.exports;XA=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,F,I){return Function.prototype.apply.call(C,F,I)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(C){return C!==C};function o(){o.init.call(this)}Gu.exports=o,Gu.exports.once=y,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");a=E}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(E){return E._maxListeners===void 0?o.defaultMaxListeners:E._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(C){for(var F=[],I=1;I<arguments.length;I++)F.push(arguments[I]);var N=C==="error",R=this._events;if(R!==void 0)N=N&&R.error===void 0;else if(!N)return!1;if(N){var P;if(F.length>0&&(P=F[0]),P instanceof Error)throw P;var S=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw S.context=P,S}var Z=R[C];if(Z===void 0)return!1;if(typeof Z=="function")t(Z,this,F);else for(var Q=Z.length,se=p(Z,Q),I=0;I<Q;++I)t(se[I],this,F);return!0};function l(E,C,F,I){var N,R,P;if(s(F),R=E._events,R===void 0?(R=E._events=Object.create(null),E._eventsCount=0):(R.newListener!==void 0&&(E.emit("newListener",C,F.listener?F.listener:F),R=E._events),P=R[C]),P===void 0)P=R[C]=F,++E._eventsCount;else if(typeof P=="function"?P=R[C]=I?[F,P]:[P,F]:I?P.unshift(F):P.push(F),N=c(E),N>0&&P.length>N&&!P.warned){P.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=E,S.type=C,S.count=P.length,r(S)}return E}o.prototype.addListener=function(C,F){return l(this,C,F,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(C,F){return l(this,C,F,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(E,C,F){var I={fired:!1,wrapFn:void 0,target:E,type:C,listener:F},N=u.bind(I);return N.listener=F,I.wrapFn=N,N}o.prototype.once=function(C,F){return s(F),this.on(C,f(this,C,F)),this},o.prototype.prependOnceListener=function(C,F){return s(F),this.prependListener(C,f(this,C,F)),this},o.prototype.removeListener=function(C,F){var I,N,R,P,S;if(s(F),N=this._events,N===void 0)return this;if(I=N[C],I===void 0)return this;if(I===F||I.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete N[C],N.removeListener&&this.emit("removeListener",C,I.listener||F));else if(typeof I!="function"){for(R=-1,P=I.length-1;P>=0;P--)if(I[P]===F||I[P].listener===F){S=I[P].listener,R=P;break}if(R<0)return this;R===0?I.shift():b(I,R),I.length===1&&(N[C]=I[0]),N.removeListener!==void 0&&this.emit("removeListener",C,S||F)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(C){var F,I,N;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[C]),this;if(arguments.length===0){var R=Object.keys(I),P;for(N=0;N<R.length;++N)P=R[N],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=I[C],typeof F=="function")this.removeListener(C,F);else if(F!==void 0)for(N=F.length-1;N>=0;N--)this.removeListener(C,F[N]);return this};function h(E,C,F){var I=E._events;if(I===void 0)return[];var N=I[C];return N===void 0?[]:typeof N=="function"?F?[N.listener||N]:[N]:F?v(N):p(N,N.length)}o.prototype.listeners=function(C){return h(this,C,!0)},o.prototype.rawListeners=function(C){return h(this,C,!1)},o.listenerCount=function(E,C){return typeof E.listenerCount=="function"?E.listenerCount(C):d.call(E,C)},o.prototype.listenerCount=d;function d(E){var C=this._events;if(C!==void 0){var F=C[E];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(E,C){for(var F=new Array(C),I=0;I<C;++I)F[I]=E[I];return F}function b(E,C){for(;C+1<E.length;C++)E[C]=E[C+1];E.pop()}function v(E){for(var C=new Array(E.length),F=0;F<C.length;++F)C[F]=E[F].listener||E[F];return C}function y(E,C){return new Promise(function(F,I){function N(P){E.removeListener(C,R),I(P)}function R(){typeof E.removeListener=="function"&&E.removeListener("error",N),F([].slice.call(arguments))}_(E,C,R,{once:!0}),C!=="error"&&A(E,N,{once:!0})})}function A(E,C,F){typeof E.on=="function"&&_(E,"error",C,F)}function _(E,C,F,I){if(typeof E.on=="function")I.once?E.once(C,F):E.on(C,F);else if(typeof E.addEventListener=="function")E.addEventListener(C,function N(R){I.once&&E.removeEventListener(C,N),F(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Gu.exports}var Hu={exports:{}},KA;function ta(){return KA||(KA=1,typeof Object.create=="function"?Hu.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Hu.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Hu.exports}var $0,JA;function $A(){return JA||(JA=1,$0=J0().EventEmitter),$0}const e2=e5(i5);var ep,t2;function EL(){if(t2)return ep;t2=1;function e(p,b){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);b&&(y=y.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),v.push.apply(v,y)}return v}function t(p){for(var b=1;b<arguments.length;b++){var v=arguments[b]!=null?arguments[b]:{};b%2?e(Object(v),!0).forEach(function(y){n(p,y,v[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(v,y))})}return p}function n(p,b,v){return b=a(b),b in p?Object.defineProperty(p,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[b]=v,p}function r(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function i(p,b){for(var v=0;v<b.length;v++){var y=b[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,a(y.key),y)}}function o(p,b,v){return b&&i(p.prototype,b),Object.defineProperty(p,"prototype",{writable:!1}),p}function a(p){var b=s(p,"string");return typeof b=="symbol"?b:String(b)}function s(p,b){if(typeof p!="object"||p===null)return p;var v=p[Symbol.toPrimitive];if(v!==void 0){var y=v.call(p,b||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}var c=qs(),l=c.Buffer,u=e2,f=u.inspect,h=f&&f.custom||"inspect";function d(p,b,v){l.prototype.copy.call(p,b,v)}return ep=function(){function p(){r(this,p),this.head=null,this.tail=null,this.length=0}return o(p,[{key:"push",value:function(v){var y={data:v,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(v){var y={data:v,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var y=this.head,A=""+y.data;y=y.next;)A+=v+y.data;return A}},{key:"concat",value:function(v){if(this.length===0)return l.alloc(0);for(var y=l.allocUnsafe(v>>>0),A=this.head,_=0;A;)d(A.data,y,_),_+=A.data.length,A=A.next;return y}},{key:"consume",value:function(v,y){var A;return v<this.head.data.length?(A=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?A=this.shift():A=y?this._getString(v):this._getBuffer(v),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var y=this.head,A=1,_=y.data;for(v-=_.length;y=y.next;){var E=y.data,C=v>E.length?E.length:v;if(C===E.length?_+=E:_+=E.slice(0,v),v-=C,v===0){C===E.length?(++A,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(C));break}++A}return this.length-=A,_}},{key:"_getBuffer",value:function(v){var y=l.allocUnsafe(v),A=this.head,_=1;for(A.data.copy(y),v-=A.data.length;A=A.next;){var E=A.data,C=v>E.length?E.length:v;if(E.copy(y,y.length-v,0,C),v-=C,v===0){C===E.length?(++_,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=E.slice(C));break}++_}return this.length-=_,y}},{key:h,value:function(v,y){return f(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),p}(),ep}var tp,n2;function r2(){if(n2)return tp;n2=1;function e(a,s){var c=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(s?s(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,a)):process.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!s&&f?c._writableState?c._writableState.errorEmitted?process.nextTick(n,c):(c._writableState.errorEmitted=!0,process.nextTick(t,c,f)):process.nextTick(t,c,f):s?(process.nextTick(n,c),s(f)):process.nextTick(n,c)}),this)}function t(a,s){i(a,s),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,s){a.emit("error",s)}function o(a,s){var c=a._readableState,l=a._writableState;c&&c.autoDestroy||l&&l.autoDestroy?a.destroy(s):a.emit("error",s)}return tp={destroy:e,undestroy:r,errorOrDestroy:o},tp}var np={},i2;function na(){if(i2)return np;i2=1;function e(s,c){s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.__proto__=c}var t={};function n(s,c,l){l||(l=Error);function u(h,d,p){return typeof c=="string"?c:c(h,d,p)}var f=function(h){e(d,h);function d(p,b,v){return h.call(this,u(p,b,v))||this}return d}(l);f.prototype.name=l.name,f.prototype.code=s,t[s]=f}function r(s,c){if(Array.isArray(s)){var l=s.length;return s=s.map(function(u){return String(u)}),l>2?"one of ".concat(c," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(c," ").concat(s[0]," or ").concat(s[1]):"of ".concat(c," ").concat(s[0])}else return"of ".concat(c," ").concat(String(s))}function i(s,c,l){return s.substr(0,c.length)===c}function o(s,c,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-c.length,l)===c}function a(s,c,l){return typeof l!="number"&&(l=0),l+c.length>s.length?!1:s.indexOf(c,l)!==-1}return n("ERR_INVALID_OPT_VALUE",function(s,c){return'The value "'+c+'" is invalid for option "'+s+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(s,c,l){var u;typeof c=="string"&&i(c,"not ")?(u="must not be",c=c.replace(/^not /,"")):u="must be";var f;if(o(s," argument"))f="The ".concat(s," ").concat(u," ").concat(r(c,"type"));else{var h=a(s,".")?"property":"argument";f='The "'.concat(s,'" ').concat(h," ").concat(u," ").concat(r(c,"type"))}return f+=". Received type ".concat(typeof l),f},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),np.codes=t,np}var rp,o2;function a2(){if(o2)return rp;o2=1;var e=na().codes.ERR_INVALID_OPT_VALUE;function t(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function n(r,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var c=a?o:"highWaterMark";throw new e(c,s)}return Math.floor(s)}return r.objectMode?16:16*1024}return rp={getHighWaterMark:n},rp}var ip,s2;function SL(){if(s2)return ip;s2=1,ip=e;function e(n,r){if(t("noDeprecation"))return n;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return o}function t(n){try{if(!Ro.localStorage)return!1}catch{return!1}var r=Ro.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return ip}var op,c2;function l2(){if(c2)return op;c2=1,op=N;function e(j){var q=this;this.next=null,this.entry=null,this.finish=function(){Le(q,j)}}var t;N.WritableState=F;var n={deprecate:SL()},r=$A(),i=qs().Buffer,o=(typeof Ro<"u"?Ro:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(j){return i.from(j)}function s(j){return i.isBuffer(j)||j instanceof o}var c=r2(),l=a2(),u=l.getHighWaterMark,f=na().codes,h=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,p=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,E=c.errorOrDestroy;ta()(N,r);function C(){}function F(j,q,re){t=t||ra(),j=j||{},typeof re!="boolean"&&(re=q instanceof t),this.objectMode=!!j.objectMode,re&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=u(this,j,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=j.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){fe(q,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}F.prototype.getBuffer=function(){for(var q=this.bufferedRequest,re=[];q;)re.push(q),q=q.next;return re},function(){try{Object.defineProperty(F.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(q){return I.call(this,q)?!0:this!==N?!1:q&&q._writableState instanceof F}})):I=function(q){return q instanceof this};function N(j){t=t||ra();var q=this instanceof t;if(!q&&!I.call(N,this))return new N(j);this._writableState=new F(j,this,q),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),r.call(this)}N.prototype.pipe=function(){E(this,new b)};function R(j,q){var re=new A;E(j,re),process.nextTick(q,re)}function P(j,q,re,$){var ue;return re===null?ue=new y:typeof re!="string"&&!q.objectMode&&(ue=new h("chunk",["string","Buffer"],re)),ue?(E(j,ue),process.nextTick($,ue),!1):!0}N.prototype.write=function(j,q,re){var $=this._writableState,ue=!1,L=!$.objectMode&&s(j);return L&&!i.isBuffer(j)&&(j=a(j)),typeof q=="function"&&(re=q,q=null),L?q="buffer":q||(q=$.defaultEncoding),typeof re!="function"&&(re=C),$.ending?R(this,re):(L||P(this,$,j,re))&&($.pendingcb++,ue=Z(this,$,L,j,q,re)),ue},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&pe(this,j))},N.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new _(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function S(j,q,re){return!j.objectMode&&j.decodeStrings!==!1&&typeof q=="string"&&(q=i.from(q,re)),q}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z(j,q,re,$,ue,L){if(!re){var D=S(q,$,ue);$!==D&&(re=!0,ue="buffer",$=D)}var ee=q.objectMode?1:$.length;q.length+=ee;var oe=q.length<q.highWaterMark;if(oe||(q.needDrain=!0),q.writing||q.corked){var De=q.lastBufferedRequest;q.lastBufferedRequest={chunk:$,encoding:ue,isBuf:re,callback:L,next:null},De?De.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else Q(j,q,!1,ee,$,ue,L);return oe}function Q(j,q,re,$,ue,L,D){q.writelen=$,q.writecb=D,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new v("write")):re?j._writev(ue,q.onwrite):j._write(ue,L,q.onwrite),q.sync=!1}function se(j,q,re,$,ue){--q.pendingcb,re?(process.nextTick(ue,$),process.nextTick(Te,j,q),j._writableState.errorEmitted=!0,E(j,$)):(ue($),j._writableState.errorEmitted=!0,E(j,$),Te(j,q))}function ce(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function fe(j,q){var re=j._writableState,$=re.sync,ue=re.writecb;if(typeof ue!="function")throw new p;if(ce(re),q)se(j,re,$,q,ue);else{var L=_e(re)||j.destroyed;!L&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&pe(j,re),$?process.nextTick(le,j,re,L,ue):le(j,re,L,ue)}}function le(j,q,re,$){re||Ee(j,q),q.pendingcb--,$(),Te(j,q)}function Ee(j,q){q.length===0&&q.needDrain&&(q.needDrain=!1,j.emit("drain"))}function pe(j,q){q.bufferProcessing=!0;var re=q.bufferedRequest;if(j._writev&&re&&re.next){var $=q.bufferedRequestCount,ue=new Array($),L=q.corkedRequestsFree;L.entry=re;for(var D=0,ee=!0;re;)ue[D]=re,re.isBuf||(ee=!1),re=re.next,D+=1;ue.allBuffers=ee,Q(j,q,!0,q.length,ue,"",L.finish),q.pendingcb++,q.lastBufferedRequest=null,L.next?(q.corkedRequestsFree=L.next,L.next=null):q.corkedRequestsFree=new e(q),q.bufferedRequestCount=0}else{for(;re;){var oe=re.chunk,De=re.encoding,ye=re.callback,we=q.objectMode?1:oe.length;if(Q(j,q,!1,we,oe,De,ye),re=re.next,q.bufferedRequestCount--,q.writing)break}re===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=re,q.bufferProcessing=!1}N.prototype._write=function(j,q,re){re(new d("_write()"))},N.prototype._writev=null,N.prototype.end=function(j,q,re){var $=this._writableState;return typeof j=="function"?(re=j,j=null,q=null):typeof q=="function"&&(re=q,q=null),j!=null&&this.write(j,q),$.corked&&($.corked=1,this.uncork()),$.ending||He(this,$,re),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _e(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function Ce(j,q){j._final(function(re){q.pendingcb--,re&&E(j,re),q.prefinished=!0,j.emit("prefinish"),Te(j,q)})}function xe(j,q){!q.prefinished&&!q.finalCalled&&(typeof j._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,process.nextTick(Ce,j,q)):(q.prefinished=!0,j.emit("prefinish")))}function Te(j,q){var re=_e(q);if(re&&(xe(j,q),q.pendingcb===0&&(q.finished=!0,j.emit("finish"),q.autoDestroy))){var $=j._readableState;(!$||$.autoDestroy&&$.endEmitted)&&j.destroy()}return re}function He(j,q,re){q.ending=!0,Te(j,q),re&&(q.finished?process.nextTick(re):j.once("finish",re)),q.ended=!0,j.writable=!1}function Le(j,q,re){var $=j.entry;for(j.entry=null;$;){var ue=$.callback;q.pendingcb--,ue(re),$=$.next}q.corkedRequestsFree.next=j}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),N.prototype.destroy=c.destroy,N.prototype._undestroy=c.undestroy,N.prototype._destroy=function(j,q){q(j)},op}var ap,u2;function ra(){if(u2)return ap;u2=1;var e=Object.keys||function(l){var u=[];for(var f in l)u.push(f);return u};ap=a;var t=b2(),n=l2();ta()(a,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);t.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),ap}var sp={},Vu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f2;function _L(){return f2||(f2=1,function(e,t){var n=qs(),r=n.Buffer;function i(a,s){for(var c in a)s[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(a,s,c){return r(a,s,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(a,s,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,s,c)},o.alloc=function(a,s,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=r(a);return s!==void 0?typeof c=="string"?l.fill(s,c):l.fill(s):l.fill(0),l},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}(Vu,Vu.exports)),Vu.exports}var h2;function cp(){if(h2)return sp;h2=1;var e=_L().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(y){if(!y)return"utf8";for(var A;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(A)return;y=(""+y).toLowerCase(),A=!0}}function r(y){var A=n(y);if(typeof A!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return A||y}sp.StringDecoder=i;function i(y){this.encoding=r(y);var A;switch(this.encoding){case"utf16le":this.text=f,this.end=h,A=4;break;case"utf8":this.fillLast=c,A=4;break;case"base64":this.text=d,this.end=p,A=3;break;default:this.write=b,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(A)}i.prototype.write=function(y){if(y.length===0)return"";var A,_;if(this.lastNeed){if(A=this.fillLast(y),A===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<y.length?A?A+this.text(y,_):this.text(y,_):A||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,A,_){var E=A.length-1;if(E<_)return 0;var C=o(A[E]);return C>=0?(C>0&&(y.lastNeed=C-1),C):--E<_||C===-2?0:(C=o(A[E]),C>=0?(C>0&&(y.lastNeed=C-2),C):--E<_||C===-2?0:(C=o(A[E]),C>=0?(C>0&&(C===2?C=0:y.lastNeed=C-3),C):0))}function s(y,A,_){if((A[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return y.lastNeed=2,"�"}}function c(y){var A=this.lastTotal-this.lastNeed,_=s(this,y);if(_!==void 0)return _;if(this.lastNeed<=y.length)return y.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,A,0,y.length),this.lastNeed-=y.length}function l(y,A){var _=a(this,y,A);if(!this.lastNeed)return y.toString("utf8",A);this.lastTotal=_;var E=y.length-(_-this.lastNeed);return y.copy(this.lastChar,0,E),y.toString("utf8",A,E)}function u(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+"�":A}function f(y,A){if((y.length-A)%2===0){var _=y.toString("utf16le",A);if(_){var E=_.charCodeAt(_.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",A,y.length-1)}function h(y){var A=y&&y.length?this.write(y):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,_)}return A}function d(y,A){var _=(y.length-A)%3;return _===0?y.toString("base64",A):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",A,y.length-_))}function p(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function b(y){return y.toString(this.encoding)}function v(y){return y&&y.length?this.write(y):""}return sp}var lp,d2;function up(){if(d2)return lp;d2=1;var e=na().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];o.apply(this,c)}}}function n(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||n);var c=a.readable||a.readable!==!1&&o.readable,l=a.writable||a.writable!==!1&&o.writable,u=function(){o.writable||h()},f=o._writableState&&o._writableState.finished,h=function(){l=!1,f=!0,c||s.call(o)},d=o._readableState&&o._readableState.endEmitted,p=function(){c=!1,d=!0,l||s.call(o)},b=function(_){s.call(o,_)},v=function(){var _;if(c&&!d)return(!o._readableState||!o._readableState.ended)&&(_=new e),s.call(o,_);if(l&&!f)return(!o._writableState||!o._writableState.ended)&&(_=new e),s.call(o,_)},y=function(){o.req.on("finish",h)};return r(o)?(o.on("complete",h),o.on("abort",v),o.req?y():o.on("request",y)):l&&!o._writableState&&(o.on("end",u),o.on("close",u)),o.on("end",p),o.on("finish",h),a.error!==!1&&o.on("error",b),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",y),o.req&&o.req.removeListener("finish",h),o.removeListener("end",u),o.removeListener("close",u),o.removeListener("finish",h),o.removeListener("end",p),o.removeListener("error",b),o.removeListener("close",v)}}return lp=i,lp}var fp,p2;function CL(){if(p2)return fp;p2=1;var e;function t(_,E,C){return E=n(E),E in _?Object.defineProperty(_,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[E]=C,_}function n(_){var E=r(_,"string");return typeof E=="symbol"?E:String(E)}function r(_,E){if(typeof _!="object"||_===null)return _;var C=_[Symbol.toPrimitive];if(C!==void 0){var F=C.call(_,E||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(_)}var i=up(),o=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function h(_,E){return{value:_,done:E}}function d(_){var E=_[o];if(E!==null){var C=_[f].read();C!==null&&(_[l]=null,_[o]=null,_[a]=null,E(h(C,!1)))}}function p(_){process.nextTick(d,_)}function b(_,E){return function(C,F){_.then(function(){if(E[c]){C(h(void 0,!0));return}E[u](C,F)},F)}}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var E=this,C=this[s];if(C!==null)return Promise.reject(C);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(R,P){process.nextTick(function(){E[s]?P(E[s]):R(h(void 0,!0))})});var F=this[l],I;if(F)I=new Promise(b(F,this));else{var N=this[f].read();if(N!==null)return Promise.resolve(h(N,!1));I=new Promise(this[u])}return this[l]=I,I}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(C,F){E[f].destroy(null,function(I){if(I){F(I);return}C(h(void 0,!0))})})}),e),v),A=function(E){var C,F=Object.create(y,(C={},t(C,f,{value:E,writable:!0}),t(C,o,{value:null,writable:!0}),t(C,a,{value:null,writable:!0}),t(C,s,{value:null,writable:!0}),t(C,c,{value:E._readableState.endEmitted,writable:!0}),t(C,u,{value:function(N,R){var P=F[f].read();P?(F[l]=null,F[o]=null,F[a]=null,N(h(P,!1))):(F[o]=N,F[a]=R)},writable:!0}),C));return F[l]=null,i(E,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=F[a];N!==null&&(F[l]=null,F[o]=null,F[a]=null,N(I)),F[s]=I;return}var R=F[o];R!==null&&(F[l]=null,F[o]=null,F[a]=null,R(h(void 0,!0))),F[c]=!0}),E.on("readable",p.bind(null,F)),F};return fp=A,fp}var hp,g2;function TL(){return g2||(g2=1,hp=function(){throw new Error("Readable.from is not available in the browser")}),hp}var dp,m2;function b2(){if(m2)return dp;m2=1,dp=R;var e;R.ReadableState=N,J0().EventEmitter;var t=function(D,ee){return D.listeners(ee).length},n=$A(),r=qs().Buffer,i=(typeof Ro<"u"?Ro:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(L){return r.from(L)}function a(L){return r.isBuffer(L)||L instanceof i}var s=e2,c;s&&s.debuglog?c=s.debuglog("stream"):c=function(){};var l=EL(),u=r2(),f=a2(),h=f.getHighWaterMark,d=na().codes,p=d.ERR_INVALID_ARG_TYPE,b=d.ERR_STREAM_PUSH_AFTER_EOF,v=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,_,E;ta()(R,n);var C=u.errorOrDestroy,F=["error","close","destroy","pause","resume"];function I(L,D,ee){if(typeof L.prependListener=="function")return L.prependListener(D,ee);!L._events||!L._events[D]?L.on(D,ee):Array.isArray(L._events[D])?L._events[D].unshift(ee):L._events[D]=[ee,L._events[D]]}function N(L,D,ee){e=e||ra(),L=L||{},typeof ee!="boolean"&&(ee=D instanceof e),this.objectMode=!!L.objectMode,ee&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=h(this,L,"readableHighWaterMark",ee),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(A||(A=cp().StringDecoder),this.decoder=new A(L.encoding),this.encoding=L.encoding)}function R(L){if(e=e||ra(),!(this instanceof R))return new R(L);var D=this instanceof e;this._readableState=new N(L,this,D),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),n.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),R.prototype.destroy=u.destroy,R.prototype._undestroy=u.undestroy,R.prototype._destroy=function(L,D){D(L)},R.prototype.push=function(L,D){var ee=this._readableState,oe;return ee.objectMode?oe=!0:typeof L=="string"&&(D=D||ee.defaultEncoding,D!==ee.encoding&&(L=r.from(L,D),D=""),oe=!0),P(this,L,D,!1,oe)},R.prototype.unshift=function(L){return P(this,L,null,!0,!1)};function P(L,D,ee,oe,De){c("readableAddChunk",D);var ye=L._readableState;if(D===null)ye.reading=!1,fe(L,ye);else{var we;if(De||(we=Z(ye,D)),we)C(L,we);else if(ye.objectMode||D&&D.length>0)if(typeof D!="string"&&!ye.objectMode&&Object.getPrototypeOf(D)!==r.prototype&&(D=o(D)),oe)ye.endEmitted?C(L,new y):S(L,ye,D,!0);else if(ye.ended)C(L,new b);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!ee?(D=ye.decoder.write(D),ye.objectMode||D.length!==0?S(L,ye,D,!1):pe(L,ye)):S(L,ye,D,!1)}else oe||(ye.reading=!1,pe(L,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function S(L,D,ee,oe){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,L.emit("data",ee)):(D.length+=D.objectMode?1:ee.length,oe?D.buffer.unshift(ee):D.buffer.push(ee),D.needReadable&&le(L)),pe(L,D)}function Z(L,D){var ee;return!a(D)&&typeof D!="string"&&D!==void 0&&!L.objectMode&&(ee=new p("chunk",["string","Buffer","Uint8Array"],D)),ee}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(L){A||(A=cp().StringDecoder);var D=new A(L);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,oe="";ee!==null;)oe+=D.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var Q=1073741824;function se(L){return L>=Q?L=Q:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function ce(L,D){return L<=0||D.length===0&&D.ended?0:D.objectMode?1:L!==L?D.flowing&&D.length?D.buffer.head.data.length:D.length:(L>D.highWaterMark&&(D.highWaterMark=se(L)),L<=D.length?L:D.ended?D.length:(D.needReadable=!0,0))}R.prototype.read=function(L){c("read",L),L=parseInt(L,10);var D=this._readableState,ee=L;if(L!==0&&(D.emittedReadable=!1),L===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return c("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?re(this):le(this),null;if(L=ce(L,D),L===0&&D.ended)return D.length===0&&re(this),null;var oe=D.needReadable;c("need readable",oe),(D.length===0||D.length-L<D.highWaterMark)&&(oe=!0,c("length less than watermark",oe)),D.ended||D.reading?(oe=!1,c("reading or ended",oe)):oe&&(c("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(L=ce(ee,D)));var De;return L>0?De=q(L,D):De=null,De===null?(D.needReadable=D.length<=D.highWaterMark,L=0):(D.length-=L,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),ee!==L&&D.ended&&re(this)),De!==null&&this.emit("data",De),De};function fe(L,D){if(c("onEofChunk"),!D.ended){if(D.decoder){var ee=D.decoder.end();ee&&ee.length&&(D.buffer.push(ee),D.length+=D.objectMode?1:ee.length)}D.ended=!0,D.sync?le(L):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,Ee(L)))}}function le(L){var D=L._readableState;c("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(c("emitReadable",D.flowing),D.emittedReadable=!0,process.nextTick(Ee,L))}function Ee(L){var D=L._readableState;c("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(L.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,j(L)}function pe(L,D){D.readingMore||(D.readingMore=!0,process.nextTick(_e,L,D))}function _e(L,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var ee=D.length;if(c("maybeReadMore read 0"),L.read(0),ee===D.length)break}D.readingMore=!1}R.prototype._read=function(L){C(this,new v("_read()"))},R.prototype.pipe=function(L,D){var ee=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=L;break;case 1:oe.pipes=[oe.pipes,L];break;default:oe.pipes.push(L);break}oe.pipesCount+=1,c("pipe count=%d opts=%j",oe.pipesCount,D);var De=(!D||D.end!==!1)&&L!==process.stdout&&L!==process.stderr,ye=De?Be:Vt;oe.endEmitted?process.nextTick(ye):ee.once("end",ye),L.on("unpipe",we);function we(k,m){c("onunpipe"),k===ee&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,It())}function Be(){c("onend"),L.end()}var mt=Ce(ee);L.on("drain",mt);var nn=!1;function It(){c("cleanup"),L.removeListener("close",Ht),L.removeListener("finish",nt),L.removeListener("drain",mt),L.removeListener("error",Pt),L.removeListener("unpipe",we),ee.removeListener("end",Be),ee.removeListener("end",Vt),ee.removeListener("data",tt),nn=!0,oe.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&mt()}ee.on("data",tt);function tt(k){c("ondata");var m=L.write(k);c("dest.write",m),m===!1&&((oe.pipesCount===1&&oe.pipes===L||oe.pipesCount>1&&ue(oe.pipes,L)!==-1)&&!nn&&(c("false write response, pause",oe.awaitDrain),oe.awaitDrain++),ee.pause())}function Pt(k){c("onerror",k),Vt(),L.removeListener("error",Pt),t(L,"error")===0&&C(L,k)}I(L,"error",Pt);function Ht(){L.removeListener("finish",nt),Vt()}L.once("close",Ht);function nt(){c("onfinish"),L.removeListener("close",Ht),Vt()}L.once("finish",nt);function Vt(){c("unpipe"),ee.unpipe(L)}return L.emit("pipe",ee),oe.flowing||(c("pipe resume"),ee.resume()),L};function Ce(L){return function(){var ee=L._readableState;c("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&t(L,"data")&&(ee.flowing=!0,j(L))}}R.prototype.unpipe=function(L){var D=this._readableState,ee={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return L&&L!==D.pipes?this:(L||(L=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,L&&L.emit("unpipe",this,ee),this);if(!L){var oe=D.pipes,De=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var ye=0;ye<De;ye++)oe[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var we=ue(D.pipes,L);return we===-1?this:(D.pipes.splice(we,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),L.emit("unpipe",this,ee),this)},R.prototype.on=function(L,D){var ee=n.prototype.on.call(this,L,D),oe=this._readableState;return L==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):L==="readable"&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,c("on readable",oe.length,oe.reading),oe.length?le(this):oe.reading||process.nextTick(Te,this)),ee},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(L,D){var ee=n.prototype.removeListener.call(this,L,D);return L==="readable"&&process.nextTick(xe,this),ee},R.prototype.removeAllListeners=function(L){var D=n.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&process.nextTick(xe,this),D};function xe(L){var D=L._readableState;D.readableListening=L.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:L.listenerCount("data")>0&&L.resume()}function Te(L){c("readable nexttick read 0"),L.read(0)}R.prototype.resume=function(){var L=this._readableState;return L.flowing||(c("resume"),L.flowing=!L.readableListening,He(this,L)),L.paused=!1,this};function He(L,D){D.resumeScheduled||(D.resumeScheduled=!0,process.nextTick(Le,L,D))}function Le(L,D){c("resume",D.reading),D.reading||L.read(0),D.resumeScheduled=!1,L.emit("resume"),j(L),D.flowing&&!D.reading&&L.read(0)}R.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function j(L){var D=L._readableState;for(c("flow",D.flowing);D.flowing&&L.read()!==null;);}R.prototype.wrap=function(L){var D=this,ee=this._readableState,oe=!1;L.on("end",function(){if(c("wrapped end"),ee.decoder&&!ee.ended){var we=ee.decoder.end();we&&we.length&&D.push(we)}D.push(null)}),L.on("data",function(we){if(c("wrapped data"),ee.decoder&&(we=ee.decoder.write(we)),!(ee.objectMode&&we==null)&&!(!ee.objectMode&&(!we||!we.length))){var Be=D.push(we);Be||(oe=!0,L.pause())}});for(var De in L)this[De]===void 0&&typeof L[De]=="function"&&(this[De]=function(Be){return function(){return L[Be].apply(L,arguments)}}(De));for(var ye=0;ye<F.length;ye++)L.on(F[ye],this.emit.bind(this,F[ye]));return this._read=function(we){c("wrapped _read",we),oe&&(oe=!1,L.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=CL()),_(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),R._fromList=q,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(L,D){if(D.length===0)return null;var ee;return D.objectMode?ee=D.buffer.shift():!L||L>=D.length?(D.decoder?ee=D.buffer.join(""):D.buffer.length===1?ee=D.buffer.first():ee=D.buffer.concat(D.length),D.buffer.clear()):ee=D.buffer.consume(L,D.decoder),ee}function re(L){var D=L._readableState;c("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,process.nextTick($,D,L))}function $(L,D){if(c("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,D.readable=!1,D.emit("end"),L.autoDestroy)){var ee=D._writableState;(!ee||ee.autoDestroy&&ee.finished)&&D.destroy()}}typeof Symbol=="function"&&(R.from=function(L,D){return E===void 0&&(E=TL()),E(R,L,D)});function ue(L,D){for(var ee=0,oe=L.length;ee<oe;ee++)if(L[ee]===D)return ee;return-1}return dp}var pp,y2;function x2(){if(y2)return pp;y2=1,pp=s;var e=na().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=ra();ta()(s,o);function a(u,f){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,f!=null&&this.push(f),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function s(u){if(!(this instanceof s))return new s(u);o.call(this,u),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function c(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,h){l(u,f,h)}):l(this,null,null)}s.prototype.push=function(u,f){return this._transformState.needTransform=!1,o.prototype.push.call(this,u,f)},s.prototype._transform=function(u,f,h){h(new t("_transform()"))},s.prototype._write=function(u,f,h){var d=this._transformState;if(d.writecb=h,d.writechunk=u,d.writeencoding=f,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},s.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},s.prototype._destroy=function(u,f){o.prototype._destroy.call(this,u,function(h){f(h)})};function l(u,f,h){if(f)return u.emit("error",f);if(h!=null&&u.push(h),u._writableState.length)throw new i;if(u._transformState.transforming)throw new r;return u.push(null)}return pp}var gp,w2;function DL(){if(w2)return gp;w2=1,gp=t;var e=x2();ta()(t,e);function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return t.prototype._transform=function(n,r,i){i(null,n)},gp}var mp,v2;function IL(){if(v2)return mp;v2=1;var e;function t(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=na().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,d,p,b){b=t(b);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=up()),e(h,{readable:d,writable:p},function(A){if(A)return b(A);v=!0,b()});var y=!1;return function(A){if(!v&&!y){if(y=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();b(A||new i("pipe"))}}}function c(h){h()}function l(h,d){return h.pipe(d)}function u(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function f(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var b=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var v,y=d.map(function(A,_){var E=_<d.length-1,C=_>0;return s(A,E,C,function(F){v||(v=F),F&&y.forEach(c),!E&&(y.forEach(c),b(v))})});return d.reduce(l)}return mp=f,mp}var bp,A2;function kL(){if(A2)return bp;A2=1,bp=n;var e=J0().EventEmitter,t=ta();t(n,e),n.Readable=b2(),n.Writable=l2(),n.Duplex=ra(),n.Transform=x2(),n.PassThrough=DL(),n.finished=up(),n.pipeline=IL(),n.Stream=n;function n(){e.call(this)}return n.prototype.pipe=function(r,i){var o=this;function a(d){r.writable&&r.write(d)===!1&&o.pause&&o.pause()}o.on("data",a);function s(){o.readable&&o.resume&&o.resume()}r.on("drain",s),!r._isStdio&&(!i||i.end!==!1)&&(o.on("end",l),o.on("close",u));var c=!1;function l(){c||(c=!0,r.end())}function u(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function f(d){if(h(),e.listenerCount(this,"error")===0)throw d}o.on("error",f),r.on("error",f);function h(){o.removeListener("data",a),r.removeListener("drain",s),o.removeListener("end",l),o.removeListener("close",u),o.removeListener("error",f),r.removeListener("error",f),o.removeListener("end",h),o.removeListener("close",h),r.removeListener("close",h)}return o.on("end",h),o.on("close",h),r.on("close",h),r.emit("pipe",o),r},bp}var E2=kL(),BL=cp();function pc(e){return e.replace(/%([0-9A-Fa-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}function S2(e,t){return String(t).replace(e,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function gc(e){return S2(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,e)}function gr(e){return S2(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,e)}function _2(e){if(!(e&&e.length)||e===".")return{};const t={};return e.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=t[r[0].trim()];i||(i=[],t[r[0]]=i),i.push(...r[1].split(",").map(o=>o.trim()).map(pc))}),t}function C2(e){const t=e.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:t[0]&&pc(t[0]),source:t[1]&&pc(t[1]),type:t[2]&&pc(t[2]),start:t[3]===null?null:parseInt(t[3],10),end:t[4]===null?null:parseInt(t[4],10),score:t[5]===null?null:parseFloat(t[5]),strand:t[6],phase:t[7],attributes:t[8]===null?null:_2(t[8])}}function T2(e){const t=/^\s*##\s*(\S+)\s*(.*)/.exec(e);if(!t)return null;const[,n]=t;let[,,r]=t;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const o=r.split(/\s+/,3);return{...i,seq_id:o[0],start:o[1]&&o[1].replace(/\D/g,""),end:o[2]&&o[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[o,a]=r.split(/\s+/,2);return{...i,source:o,buildName:a}}return i}function D2(e){const t=[];return Object.entries(e).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=gc(r.toString()):Array.isArray(r)?i=r.map(gc).join(","):i=gc(r),t.push(`${gc(n)}=${i}`)}),t.length?t.join(";"):"."}function FL(e,t){const n=e.attributes===null||e.attributes===void 0?".":D2(e.attributes),i=`${[e.seq_id===null?".":gr(e.seq_id),e.source===null?".":gr(e.source),e.type===null?".":gr(e.type),e.start===null?".":gr(e.start),e.end===null?".":gr(e.end),e.score===null?".":gr(e.score),e.strand===null?".":gr(e.strand),e.phase===null?".":gr(e.phase),n].join("	")}
`;return t[i]?"":(t[i]=!0,i)}function qu(e,t){if(Array.isArray(e))return e.map(r=>qu(r,t)).join("");const n=[FL(e,t)];return RL(e)&&n.push(...e.child_features.map(r=>qu(r,t)),...e.derived_features.map(r=>qu(r,t))),n.join("")}function I2(e){return qu(e,{})}function k2(e){let t=`##${e.directive}`;return e.value&&(t+=` ${e.value}`),t+=`
`,t}function B2(e){return`# ${e.comment}
`}function yp(e){return`>${e.id}${e.description?` ${e.description}`:""}
${e.sequence}
`}function ju(e){function t(n){return"attributes"in n?I2(n):"directive"in n?k2(n):"sequence"in n?yp(n):"comment"in n?B2(n):`# (invalid item found during format)
`}return Array.isArray(e)?e.map(t):t(e)}function RL(e){return e.child_features!==void 0&&e.derived_features!==void 0}const ML=Object.freeze(Object.defineProperty({__proto__:null,escape:gc,escapeColumn:gr,formatAttributes:D2,formatComment:B2,formatDirective:k2,formatFeature:I2,formatItem:ju,formatSequence:yp,parseAttributes:_2,parseDirective:T2,parseFeature:C2,unescape:pc},Symbol.toStringTag,{value:"Module"})),F2={Parent:"child_features",Derives_from:"derived_features"};class R2{constructor(t){this.seqCallback=t,this.currentSequence=void 0}addLine(t){const n=/^>\s*(\S+)\s*(.*)/.exec(t);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(t)&&(this.currentSequence.sequence+=t.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class M2{constructor(t){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=t.featureCallback||n,this.endCallback=t.endCallback||n,this.commentCallback=t.commentCallback||n,this.errorCallback=t.errorCallback||n,this.directiveCallback=t.directiveCallback||n,this.sequenceCallback=t.sequenceCallback||n,this.disableDerivesFromReferences=t.disableDerivesFromReferences||!1,this.bufferSize=t.bufferSize===void 0?1e3:t.bufferSize}addLine(t){if(this.fastaParser){this.fastaParser.addLine(t);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(t)){this._bufferLine(t);return}const n=/^\s*(#+)(.*)/.exec(t);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const o=T2(t);o&&(o.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new R2(this.sequenceCallback)):this._emitItem(o))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(t))if(/^\s*>/.test(t))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new R2(this.sequenceCallback),this.fastaParser.addLine(t);else{const r=t.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(t){Array.isArray(t)?this.featureCallback(t):"directive"in t?this.directiveCallback(t):"comment"in t&&this.commentCallback(t)}_enforceBufferSizeLimit(t=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(o=>{delete this._underConstructionById[o],delete this._completedReferences[o]}),r.forEach(o=>{o.child_features&&o.child_features.forEach(a=>n(a)),o.derived_features&&o.derived_features.forEach(a=>n(a))}))};for(;this._underConstructionTopLevel.length+t>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(t){var n,r,i;const a={...C2(t),child_features:[],derived_features:[]},s=((n=a.attributes)===null||n===void 0?void 0:n.ID)||[],c=((r=a.attributes)===null||r===void 0?void 0:r.Parent)||[],l=this.disableDerivesFromReferences?[]:((i=a.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!s.length&&!c.length&&!l.length){this._emitItem([a]);return}let u;s.forEach(f=>{const h=this._underConstructionById[f];h?(h[h.length-1].type!==a.type&&this._parseError(`multi-line feature "${f}" has inconsistent types: "${a.type}", "${h[h.length-1].type}"`),h.push(a),u=h):(u=[a],this._enforceBufferSizeLimit(1),!c.length&&!l.length&&this._underConstructionTopLevel.push(u),this._underConstructionById[f]=u,this._resolveReferencesTo(u,f))}),this._resolveReferencesFrom(u||[a],{Parent:c,Derives_from:l},s)}_resolveReferencesTo(t,n){const r=this._underConstructionOrphans[n];r&&(t.forEach(i=>{i.child_features.push(...r.Parent)}),t.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(t){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${t}`)}_resolveReferencesFrom(t,n,r){function i(o,a,s){let c=o[a];c||(c={},o[a]=c);const l=c[s]||!1;return c[s]=!0,l}n.Parent.forEach(o=>{const a=this._underConstructionById[o];if(a){const s=F2.Parent;r.filter(c=>i(this._completedReferences,c,`Parent,${o}`)).length||a.forEach(c=>{c[s].push(t)})}else{let s=this._underConstructionOrphans[o];s||(s={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=s),s.Parent.push(t)}}),n.Derives_from.forEach(o=>{const a=this._underConstructionById[o];if(a){const s=F2.Derives_from;r.filter(c=>i(this._completedReferences,c,`Derives_from,${o}`)).length||a.forEach(c=>{c[s].push(t)})}else{let s=this._underConstructionOrphans[o];s||(s={Parent:[],Derives_from:[]},this._underConstructionOrphans[o]=s),s.Derives_from.push(t)}})}}function xp(e){process&&process.nextTick?process.nextTick(e):e()}function P2(e){const t={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...e};return e.parseAll&&(t.parseFeatures=!0,t.parseDirectives=!0,t.parseComments=!0,t.parseSequences=!0),t}class PL extends E2.Transform{constructor(t={}){super({objectMode:!0}),this.textBuffer="";const n=P2(t);this.encoding=t.encoding||"utf8",this.decoder=new BL.StringDecoder;const r=this.push.bind(this);this.parser=new M2({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(t){t&&this.parser.addLine(t)}_nextText(t){const n=(this.textBuffer+t).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(t,n,r){this._nextText(this.decoder.write(t)),xp(r)}_flush(t){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),xp(t)}}function LL(e={}){return new PL(e)}function OL(e,t={}){if(!e)return[];const n=P2(t),r=[],i=r.push.bind(r),o=new M2({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:a=>{throw a}});return e.split(/\r?\n/).forEach(o.addLine.bind(o)),o.finish(),r}function NL(e){const t=[],n=[];e.forEach(i=>{"sequence"in i?n.push(i):t.push(i)});let r=t.map(ju).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(yp).join("")),r}class L2 extends E2.Transform{constructor(t={}){super(Object.assign(t,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=t.minSyncLines||100,this.insertVersionDirective=t.insertVersionDirective||!1}_transform(t,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const o=Array.isArray(t)?t[0]:t;"directive"in o&&o.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in t&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(t)?i=t.map(ju).join(""):i=ju(t),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let o=0;for(let a=0;a<i.length;a+=1)i[a]===`
`&&(o+=1);this.linesSinceLastSyncMark+=o}this.haveWeEmittedData=!0,xp(r)}}function zL(e={}){return new L2(e)}function UL(e,t,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,o)=>{e.pipe(new L2(r)).on("end",()=>i(null)).on("error",o).pipe(t)})}const GL=Object.freeze(Object.defineProperty({__proto__:null,default:{parseStream:LL,parseStringSync:OL,formatSync:NL,formatStream:zL,formatFile:UL,util:ML}},Symbol.toStringTag,{value:"Module"})),Wu={InfoFields:{AA:{Number:1,Type:"String",Description:"Ancestral allele"},AC:{Number:"A",Type:"Integer",Description:"Allele count in genotypes, for each ALT allele, in the same order as listed"},AD:{Number:"R",Type:"Integer",Description:"Total read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},AF:{Number:"A",Type:"Float",Description:"Allele frequency for each ALT allele in the same order as listed (estimated from primary data, not called genotypes)"},AN:{Number:1,Type:"Integer",Description:"Total number of alleles in called genotypes"},BQ:{Number:1,Type:"Float",Description:"RMS base quality"},CIGAR:{Number:1,Type:"Float",Description:"Cigar string describing how to align an alternate allele to the reference allele"},DB:{Number:0,Type:"Flag",Description:"dbSNP membership"},DP:{Number:1,Type:"Integer",Description:"combined depth across samples"},END:{Number:1,Type:"Integer",Description:"End position (for use with symbolic alleles)"},H2:{Number:0,Type:"Flag",Description:"HapMap2 membership"},H3:{Number:0,Type:"Flag",Description:"HapMap3 membership"},MQ:{Number:1,Type:null,Description:"RMS mapping quality"},MQ0:{Number:1,Type:"Integer",Description:"Number of MAPQ == 0 reads"},NS:{Number:1,Type:"Integer",Description:"Number of samples with data"},SB:{Number:4,Type:"Integer",Description:"Strand bias"},SOMATIC:{Number:0,Type:"Flag",Description:"Somatic mutation (for cancer genomics)"},VALIDATED:{Number:0,Type:"Flag",Description:"Validated by follow-up experiment"},"1000G":{Number:0,Type:"Flag",Description:"1000 Genomes membership"},IMPRECISE:{Number:0,Type:"Flag",Description:"Imprecise structural variation"},NOVEL:{Number:0,Type:"Flag",Description:"Indicates a novel structural variation"},SVTYPE:{Number:1,Type:"String",Description:"Type of structural variant"},SVLEN:{Number:null,Type:"Integer",Description:"Difference in length between REF and ALT alleles"},CIPOS:{Number:2,Type:"Integer",Description:"Confidence interval around POS for imprecise variants"},CIEND:{Number:2,Type:"Integer",Description:"Confidence interval around END for imprecise variants"},HOMLEN:{Type:"Integer",Description:"Length of base pair identical micro-homology at event breakpoints"},HOMSEQ:{Type:"String",Description:"Sequence of base pair identical micro-homology at event breakpoints"},BKPTID:{Type:"String",Description:"ID of the assembled alternate allele in the assembly file"},MEINFO:{Number:4,Type:"String",Description:"Mobile element info of the form NAME,START,END,POLARITY"},METRANS:{Number:4,Type:"String",Description:"Mobile element transduction info of the form CHR,START,END,POLARITY"},DGVID:{Number:1,Type:"String",Description:"ID of this element in Database of Genomic Variation"},DBVARID:{Number:1,Type:"String",Description:"ID of this element in DBVAR"},DBRIPID:{Number:1,Type:"String",Description:"ID of this element in DBRIP"},MATEID:{Number:null,Type:"String",Description:"ID of mate breakends"},PARID:{Number:1,Type:"String",Description:"ID of partner breakend"},EVENT:{Number:1,Type:"String",Description:"ID of event associated to breakend"},CILEN:{Number:2,Type:"Integer",Description:"Confidence interval around the inserted material between breakend"},DPADJ:{Type:"Integer",Description:"Read Depth of adjacency"},CN:{Number:1,Type:"Integer",Description:"Copy number of segment containing breakend"},CNADJ:{Number:null,Type:"Integer",Description:"Copy number of adjacency"},CICN:{Number:2,Type:"Integer",Description:"Confidence interval around copy number for the segment"},CICNADJ:{Number:null,Type:"Integer",Description:"Confidence interval around copy number for the adjacency"}},GenotypeFields:{AD:{Number:"R",Type:"Integer",Description:"Read depth for each allele"},ADF:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the forward strand"},ADR:{Number:"R",Type:"Integer",Description:"Read depth for each allele on the reverse strand"},DP:{Number:1,Type:"Integer",Description:"Read depth"},EC:{Number:"A",Type:"Integer",Description:"Expected alternate allele counts"},FT:{Number:1,Type:"String",Description:'Filter indicating if this genotype was "called"'},GL:{Number:"G",Type:"Float",Description:"Genotype likelihoods"},GP:{Number:"G",Type:"Float",Description:"Genotype posterior probabilities"},GQ:{Number:1,Type:"Integer",Description:"Conditional genotype quality"},GT:{Number:1,Type:"String",Description:"Genotype"},HQ:{Number:2,Type:"Integer",Description:"Haplotype quality"},MQ:{Number:1,Type:"Integer",Description:"RMS mapping quality"},PL:{Number:"G",Type:"Integer",Description:"Phred-scaled genotype likelihoods rounded to the closest integer"},PQ:{Number:1,Type:"Integer",Description:"Phasing quality"},PS:{Number:1,Type:"Integer",Description:"Phase set"}},AltTypes:{DEL:{Description:"Deletion relative to the reference"},INS:{Description:"Insertion of novel sequence relative to the reference"},DUP:{Description:"Region of elevated copy number relative to the reference"},INV:{Description:"Inversion of reference sequence"},CNV:{Description:"Copy number variable region (may be both deletion and duplication)"},"DUP:TANDEM":{Description:"Tandem duplication"},"DEL:ME":{Description:"Deletion of mobile element relative to the reference"},"INS:ME":{Description:"Insertion of a mobile element relative to the reference"},NON_REF:{Description:"Represents any possible alternative allele at this location"},"*":{Description:"Represents any possible alternative allele at this location"}},FilterTypes:{PASS:{Description:"Passed all filters"}}};function HL(e){try{return decodeURIComponent(e)}catch{return e}}class VL{constructor({header:t="",strict:n=!0}){if(!t.length)throw new Error("empty header received");const r=t.split(/[\r\n]+/).filter(c=>c);if(!r.length)throw new Error("no non-empty header lines specified");this.strict=n,this.metadata=JSON.parse(JSON.stringify({INFO:Wu.InfoFields,FORMAT:Wu.GenotypeFields,ALT:Wu.AltTypes,FILTER:Wu.FilterTypes}));let i;if(r.forEach(c=>{if(c.startsWith("#"))c.startsWith("##")?this.parseMetadata(c):i=c;else throw new Error(`Bad line in header:
${c}`)}),!i)throw new Error("No format line found in header");const o=i.trim().split("	"),a=o.slice(0,8),s=["#CHROM","POS","ID","REF","ALT","QUAL","FILTER","INFO"];if(o.length<8)throw new Error(`VCF header missing columns:
${i}`);if(a.length!==s.length||!a.every((c,l)=>c===s[l]))throw new Error(`VCF column headers not correct:
${i}`);this.samples=o.slice(9)}parseSamples(t,n){const r={};if(t){const i=n.split("	"),o=t.split(":"),a=o.map(s=>{const c=this.getMetadata("FORMAT",s,"Type");return c==="Integer"||c==="Float"});for(let s=0;s<this.samples.length;s++){const c=this.samples[s];r[c]={};const l=i[s].split(":");for(let u=0;u<l.length;u++){const f=l[u];r[c][o[u]]=f===""||f==="."?void 0:f.split(",").map(h=>h==="."?void 0:a[u]?+h:h)}}}return r}parseGenotypesOnly(t,n){const r=n.split("	"),i={};let o=0;const a=t.split(":");if(a.length===1)for(const s of this.samples)i[s]=r[o++];else{const s=a.findIndex(c=>c==="GT");if(s===0)for(const c of this.samples){const l=r[o++],u=l.indexOf(":");u!==-1?i[c]=l.slice(0,u):console.warn("unknown")}else for(const c of this.samples){const l=r[o++].split(":");i[c]=l[s]}}return i}parseMetadata(t){const n=/^##(.+?)=(.*)/.exec(t.trim());if(!n)throw new Error(`Line is not a valid metadata line: ${t}`);const[r,i]=n.slice(1,3),o=r;if(i!=null&&i.startsWith("<")){o in this.metadata||(this.metadata[o]={});const[a,s]=this.parseStructuredMetaVal(i);this.metadata[o][a]=s}else this.metadata[o]=i}parseStructuredMetaVal(t){const n=this.parseKeyValue(t.replace(/^<|>$/g,""),","),r=n.ID;return delete n.ID,"Number"in n&&(Number.isNaN(Number(n.Number))||(n.Number=Number(n.Number))),[r,n]}getMetadata(...t){let n=this.metadata;for(const r of t)if(n=n[r],!n)return n;return n}parseKeyValue(t,n=";"){const r={};let i="",o="",a=1;for(const s of t)a===1?s==="="?a=2:s!==n?i+=s:o===""&&(r[i]=void 0,i=""):a===2?s===n?(r[i]=o,i="",o="",a=1):s==='"'?a=3:o+=s:a===3&&(s!=='"'?o+=s:a=2);return a===2||a===3?r[i]=o:a===1&&(r[i]=void 0),r}parseLine(t){var n,r;let i=0;for(let I=0;i<t.length&&(t[i]==="	"&&(I+=1),I!==9);i+=1);const o=t.slice(0,i).split("	"),a=t.slice(i+1),[s,c,l,u,f,h,d]=o,p=s,b=+c,v=l==="."?void 0:l.split(";"),y=u,A=f==="."?void 0:f.split(","),_=h==="."?void 0:+h,E=d==="."?void 0:d.split(";");if(this.strict&&!o[7])throw new Error("no INFO field specified, must contain at least a '.' (turn off strict mode to allow)");const C=(n=o[7])===null||n===void 0?void 0:n.includes("%"),F=o[7]===void 0||o[7]==="."?{}:this.parseKeyValue(o[7]);for(const I of Object.keys(F)){const N=(r=F[I])===null||r===void 0?void 0:r.split(",").map(P=>P==="."?void 0:P).map(P=>P&&C?HL(P):P),R=this.getMetadata("INFO",I,"Type");R==="Integer"||R==="Float"?F[I]=N==null?void 0:N.map(P=>P===void 0?void 0:Number(P)):R==="Flag"?F[I]=!0:F[I]=N}return{CHROM:p,POS:b,ALT:A,INFO:F,REF:y,FILTER:E&&E.length===1&&E[0]==="PASS"?"PASS":E,ID:v,QUAL:_,SAMPLES:()=>{var I;return this.parseSamples((I=o[8])!==null&&I!==void 0?I:"",a)},GENOTYPES:()=>{var I;return this.parseGenotypesOnly((I=o[8])!==null&&I!==void 0?I:"",a)}}}}const qL=Object.freeze(Object.defineProperty({__proto__:null,default:VL},Symbol.toStringTag,{value:"Module"}));Ve.GenomeSpyDocEmbed=Qx,Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"})});
