(function(ve,Ae){typeof exports=="object"&&typeof module<"u"?Ae(exports):typeof define=="function"&&define.amd?define(["exports"],Ae):(ve=typeof globalThis<"u"?globalThis:ve||self,Ae(ve.genomeSpyDocEmbed={}))})(this,function(ve){"use strict";var DG=Object.defineProperty;var FG=(ve,Ae,Te)=>Ae in ve?DG(ve,Ae,{enumerable:!0,configurable:!0,writable:!0,value:Te}):ve[Ae]=Te;var Pt=(ve,Ae,Te)=>(FG(ve,typeof Ae!="symbol"?Ae+"":Ae,Te),Te),Bm=(ve,Ae,Te)=>{if(!Ae.has(ve))throw TypeError("Cannot "+Te)};var G=(ve,Ae,Te)=>(Bm(ve,Ae,"read from private field"),Te?Te.call(ve):Ae.get(ve)),Y=(ve,Ae,Te)=>{if(Ae.has(ve))throw TypeError("Cannot add the same private member more than once");Ae instanceof WeakSet?Ae.add(ve):Ae.set(ve,Te)},he=(ve,Ae,Te,Ba)=>(Bm(ve,Ae,"write to private field"),Ba?Ba.call(ve,Te):Ae.set(ve,Te),Te);var vC=(ve,Ae,Te,Ba)=>({set _(jf){he(ve,Ae,jf,Te)},get _(){return G(ve,Ae,Ba)}}),K=(ve,Ae,Te)=>(Bm(ve,Ae,"access private method"),Te);var sC,wi,zs,Us,cf,hf,df,Eh,AC,_h,EC,Er,pf,Dm,gf,Fm,va,Gf,Gs,Sh,_C,_r,Hs,tn,mf,bf,Rm,_m,RG,Fn,Fr,yf,Mm,Ch,SC,kh,CC,wf,Pm,xf,Lm,Vs,Nh,Sr,Ta,vf,Om,Th,kC,Sm,MG,Af,Nm,Ef,zm,js,_f,Sf,Aa,Hf,Cf,Um,kf,Tf,Gm,If,Hm,$s,qs,Ws,Bf,Zs,Ys,Df,Vm,Ff,jm,Ea,Rf,Mf,Pf,Cr,_a,xi,vi,Qs,Xs,nn,Sa,Ks,kr,Ia,Ih,TC,Ca,Vf,Lf,$m,Of,qm,Nf,Wm,Bh,IC,Js,zh,Dh,BC,eo,zf,Ai,ka,to,no,Uh,Fh,DC,Rh,FC,Mh,RC;function Ae(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Te(e,t,n){return e.fields=t||[],e.fname=n,e}function Ba(e){return e==null?null:e.fname}function jf(e){return e==null?null:e.fields}function MC(e){return e.length===1?PC(e[0]):LC(e)}const PC=e=>function(t){return t[e]},LC=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Xe(e){throw Error(e)}function OC(e){const t=[],n=e.length;let r=null,i=0,a="",s,o,f;e=e+"";function l(){t.push(a+e.substring(s,o)),a="",s=o+1}for(s=o=0;o<n;++o)if(f=e[o],f==="\\")a+=e.substring(s,o++),s=o;else if(f===r)l(),r=null,i=-1;else{if(r)continue;s===i&&f==='"'||s===i&&f==="'"?(s=o+1,r=f):f==="."&&!i?o>s?l():s=o+1:f==="["?(o>s&&l(),i=s=o+1):f==="]"&&(i||Xe("Access path missing open bracket: "+e),i>0&&l(),i=0,s=o+1)}return i&&Xe("Access path missing closing bracket: "+e),r&&Xe("Access path missing closing quote: "+e),o>s&&(o++,l()),t}function $f(e,t,n){const r=OC(e);return e=r.length===1?r[0]:e,Te((n&&n.get||MC)(r),[e],t||e)}$f("id");const qf=Te(e=>e,[],"identity");Te(()=>0,[],"zero"),Te(()=>1,[],"one"),Te(()=>!0,[],"true"),Te(()=>!1,[],"false");var vt=Array.isArray;function kt(e){return e===Object(e)}function vn(e){return e[e.length-1]}function ro(e){return e==null||e===""?null:+e}const Zm=e=>t=>e*Math.exp(t),Ym=e=>t=>Math.log(e*t),NC=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),zC=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Wf=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Gh(e,t,n,r){const i=n(e[0]),a=n(vn(e)),s=(a-i)*t;return[r(i-s),r(a-s)]}function UC(e,t){return Gh(e,t,ro,qf)}function GC(e,t){var n=Math.sign(e[0]);return Gh(e,t,Ym(n),Zm(n))}function HC(e,t,n){return Gh(e,t,Wf(n),Wf(1/n))}function Zf(e,t,n,r,i){const a=r(e[0]),s=r(vn(e)),o=t!=null?r(t):(a+s)/2;return[i(o+(a-o)*n),i(o+(s-o)*n)]}function Qm(e,t,n){return Zf(e,t,n,ro,qf)}function Xm(e,t,n){const r=Math.sign(e[0]);return Zf(e,t,n,Ym(r),Zm(r))}function Hh(e,t,n,r){return Zf(e,t,n,Wf(r),Wf(1/r))}function VC(e,t,n,r){return Zf(e,t,n,NC(r),zC(r))}function Vh(e){return e!=null?vt(e)?e:[e]:[]}function jC(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function Lt(e){return typeof e=="function"}const $C="descending";function Km(e,t,n){n=n||{},t=Vh(t)||[];const r=[],i=[],a={},s=n.comparator||qC;return Vh(e).forEach((o,f)=>{o!=null&&(r.push(t[f]===$C?-1:1),i.push(o=Lt(o)?o:$f(o,null,n)),(jf(o)||[]).forEach(l=>a[l]=1))}),i.length===0?null:Te(s(i,r),Object.keys(a))}const Jm=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),qC=(e,t)=>e.length===1?WC(e[0],t[0]):ZC(e,t,e.length),WC=(e,t)=>function(n,r){return Jm(e(n),e(r))*t},ZC=(e,t,n)=>(t.push(0),function(r,i){let a,s=0,o=-1;for(;s===0&&++o<n;)a=e[o],s=Jm(a(r),a(i));return s*t[o]});function YC(e){return Lt(e)?e:()=>e}function jh(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}const QC=Object.prototype.hasOwnProperty;function Da(e,t){return QC.call(e,t)}function io(e){return typeof e=="boolean"}function XC(e){return Object.prototype.toString.call(e)==="[object Date]"}function KC(e){return e&&Lt(e[Symbol.iterator])}function Tt(e){return typeof e=="number"}function JC(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ue(e){return typeof e=="string"}function e1(e,t){const n=e[0],r=vn(e),i=+t;return i?i===1?r:n+i*(r-n):n}function Yf(e){return e&&vn(e)-e[0]||0}function Qf(e){return vt(e)?"["+e.map(Qf)+"]":kt(e)||Ue(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function e3(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const t3=e=>Tt(e)||XC(e)?e:Date.parse(e);function n3(e,t){return t=t||t3,e==null||e===""?null:t(e)}function r3(e){return e==null||e===""?null:e+""}function Xf(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}var t1={},$h={},qh=34,ao=10,Wh=13;function n1(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function i3(e,t){var n=n1(e);return function(r,i){return t(n(r),i,e)}}function r1(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ot(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function a3(e){return e<0?"-"+Ot(-e,6):e>9999?"+"+Ot(e,6):Ot(e,4)}function s3(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":a3(e.getUTCFullYear())+"-"+Ot(e.getUTCMonth()+1,2)+"-"+Ot(e.getUTCDate(),2)+(i?"T"+Ot(t,2)+":"+Ot(n,2)+":"+Ot(r,2)+"."+Ot(i,3)+"Z":r?"T"+Ot(t,2)+":"+Ot(n,2)+":"+Ot(r,2)+"Z":n||t?"T"+Ot(t,2)+":"+Ot(n,2)+"Z":"")}function i1(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,h){var d,p,m=i(c,function(y,w){if(d)return d(y,w-1);p=y,d=h?i3(y,h):n1(y)});return m.columns=p||[],m}function i(c,h){var d=[],p=c.length,m=0,y=0,w,v=p<=0,S=!1;c.charCodeAt(p-1)===ao&&--p,c.charCodeAt(p-1)===Wh&&--p;function _(){if(v)return $h;if(S)return S=!1,t1;var I,B=m,F;if(c.charCodeAt(B)===qh){for(;m++<p&&c.charCodeAt(m)!==qh||c.charCodeAt(++m)===qh;);return(I=m)>=p?v=!0:(F=c.charCodeAt(m++))===ao?S=!0:F===Wh&&(S=!0,c.charCodeAt(m)===ao&&++m),c.slice(B+1,I-1).replace(/""/g,'"')}for(;m<p;){if((F=c.charCodeAt(I=m++))===ao)S=!0;else if(F===Wh)S=!0,c.charCodeAt(m)===ao&&++m;else if(F!==n)continue;return c.slice(B,I)}return v=!0,c.slice(B,p)}for(;(w=_())!==$h;){for(var T=[];w!==t1&&w!==$h;)T.push(w),w=_();h&&(T=h(T,y++))==null||d.push(T)}return d}function a(c,h){return c.map(function(d){return h.map(function(p){return u(d[p])}).join(e)})}function s(c,h){return h==null&&(h=r1(c)),[h.map(u).join(e)].concat(a(c,h)).join(`
`)}function o(c,h){return h==null&&(h=r1(c)),a(c,h).join(`
`)}function f(c){return c.map(l).join(`
`)}function l(c){return c.map(u).join(e)}function u(c){return c==null?"":c instanceof Date?s3(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:f,formatRow:l,formatValue:u}}var o3=i1("	"),l3=o3.parseRows;function f3(e){return e}function u3(e){if(e==null)return f3;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(o,f){f||(t=n=0);var l=2,u=o.length,c=new Array(u);for(c[0]=(t+=o[0])*r+a,c[1]=(n+=o[1])*i+s;l<u;)c[l]=o[l],++l;return c}}function c3(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function h3(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return a1(e,n)})}:a1(e,t)}function a1(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=s1(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function s1(e,t){var n=u3(e.transform),r=e.arcs;function i(u,c){c.length&&c.pop();for(var h=r[u<0?~u:u],d=0,p=h.length;d<p;++d)c.push(n(h[d],d));u<0&&c3(c,p)}function a(u){return n(u)}function s(u){for(var c=[],h=0,d=u.length;h<d;++h)i(u[h],c);return c.length<2&&c.push(c[0]),c}function o(u){for(var c=s(u);c.length<4;)c.push(c[0]);return c}function f(u){return u.map(o)}function l(u){var c=u.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:u.geometries.map(l)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=f(u.arcs);break;case"MultiPolygon":h=u.arcs.map(f);break;default:return null}return{type:c,coordinates:h}}return l(t)}function d3(e,t){var n={},r={},i={},a=[],s=-1;t.forEach(function(l,u){var c=e.arcs[l<0?~l:l],h;c.length<3&&!c[1][0]&&!c[1][1]&&(h=t[++s],t[s]=l,t[u]=h)}),t.forEach(function(l){var u=o(l),c=u[0],h=u[1],d,p;if(d=i[c])if(delete i[d.end],d.push(l),d.end=h,p=r[h]){delete r[p.start];var m=p===d?d:d.concat(p);r[m.start=d.start]=i[m.end=p.end]=m}else r[d.start]=i[d.end]=d;else if(d=r[h])if(delete r[d.start],d.unshift(l),d.start=c,p=i[c]){delete i[p.end];var y=p===d?d:p.concat(d);r[y.start=p.start]=i[y.end=d.end]=y}else r[d.start]=i[d.end]=d;else d=[l],r[d.start=c]=i[d.end=h]=d});function o(l){var u=e.arcs[l<0?~l:l],c=u[0],h;return e.transform?(h=[0,0],u.forEach(function(d){h[0]+=d[0],h[1]+=d[1]})):h=u[u.length-1],l<0?[h,c]:[c,h]}function f(l,u){for(var c in l){var h=l[c];delete u[h.start],delete h.start,delete h.end,h.forEach(function(d){n[d<0?~d:d]=1}),a.push(h)}}return f(i,r),f(r,i),t.forEach(function(l){n[l<0?~l:l]||a.push([l])}),a}function p3(e){return s1(e,g3.apply(this,arguments))}function g3(e,t,n){var r,i,a;if(arguments.length>1)r=m3(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:d3(e,r)}}function m3(e,t,n){var r=[],i=[],a;function s(c){var h=c<0?~c:c;(i[h]||(i[h]=[])).push({i:c,g:a})}function o(c){c.forEach(s)}function f(c){c.forEach(o)}function l(c){c.forEach(f)}function u(c){switch(a=c,c.type){case"GeometryCollection":c.geometries.forEach(u);break;case"LineString":o(c.arcs);break;case"MultiLineString":case"Polygon":f(c.arcs);break;case"MultiPolygon":l(c.arcs);break}}return u(t),i.forEach(n==null?function(c){r.push(c[0].i)}:function(c){n(c[0].g,c[c.length-1].g)&&r.push(c[0].i)}),r}function so(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kf(e){let t,n,r;e.length!==2?(t=so,n=(o,f)=>so(e(o),f),r=(o,f)=>e(o)-f):(t=e===so||e===b3?e:y3,n=e,r=e);function i(o,f,l=0,u=o.length){if(l<u){if(t(f,f)!==0)return u;do{const c=l+u>>>1;n(o[c],f)<0?l=c+1:u=c}while(l<u)}return l}function a(o,f,l=0,u=o.length){if(l<u){if(t(f,f)!==0)return u;do{const c=l+u>>>1;n(o[c],f)<=0?l=c+1:u=c}while(l<u)}return l}function s(o,f,l=0,u=o.length){const c=i(o,f,l,u-1);return c>l&&r(o[c-1],f)>-r(o[c],f)?c-1:c}return{left:i,center:s,right:a}}function y3(){return 0}function o1(e){return e===null?NaN:+e}const l1=Kf(so),Rr=l1.right;l1.left,Kf(o1).center;function w3(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class ar extends Map{constructor(t,n=A3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(f1(this,t))}has(t){return super.has(f1(this,t))}set(t,n){return super.set(x3(this,t),n)}delete(t){return super.delete(v3(this,t))}}function f1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function x3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function v3({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function A3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zh(e){return e}function Jf(e,...t){return u1(e,Zh,Zh,t)}function E3(e,...t){return u1(e,Array.from,Zh,t)}function u1(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new ar,f=r[s++];let l=-1;for(const u of a){const c=f(u,++l,a),h=o.get(c);h?h.push(u):o.set(c,[u])}for(const[u,c]of o)o.set(u,i(c,s));return t(o)}(e,0)}const _3=Math.sqrt(50),S3=Math.sqrt(10),C3=Math.sqrt(2);function eu(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=_3?10:a>=S3?5:a>=C3?2:1;let o,f,l;return i<0?(l=Math.pow(10,-i)/s,o=Math.round(e*l),f=Math.round(t*l),o/l<e&&++o,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*s,o=Math.round(e/l),f=Math.round(t/l),o*l<e&&++o,f*l>t&&--f),f<o&&.5<=n&&n<2?eu(e,t,n*2):[o,f,l]}function tu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?eu(t,e,n):eu(e,t,n);if(!(a>=i))return[];const o=a-i+1,f=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)f[l]=(a-l)/-s;else for(let l=0;l<o;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<o;++l)f[l]=(i+l)/-s;else for(let l=0;l<o;++l)f[l]=(i+l)*s;return f}function Yh(e,t,n){return t=+t,e=+e,n=+n,eu(e,t,n)[2]}function Mr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Yh(t,e,n):Yh(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function c1(e,t,n=o1){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function oo(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function nu(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function k3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ru(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fa(e){return e=ru(Math.abs(e)),e?e[1]:NaN}function T3(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],f=0;i>0&&o>0&&(f+o+1>r&&(o=Math.max(1,r-f)),a.push(n.substring(i-=o,i+o)),!((f+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function I3(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var B3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pr(e){if(!(t=B3.exec(e)))throw new Error("invalid format: "+e);var t;return new Qh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pr.prototype=Qh.prototype;function Qh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D3(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var h1;function F3(e,t){var n=ru(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(h1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ru(e,Math.max(0,t+a-1))[0]}function d1(e,t){var n=ru(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const p1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:k3,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>d1(e*100,t),r:d1,s:F3,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function g1(e){return e}var m1=Array.prototype.map,b1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function R3(e){var t=e.grouping===void 0||e.thousands===void 0?g1:T3(m1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?g1:I3(m1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(c){c=Pr(c);var h=c.fill,d=c.align,p=c.sign,m=c.symbol,y=c.zero,w=c.width,v=c.comma,S=c.precision,_=c.trim,T=c.type;T==="n"?(v=!0,T="g"):p1[T]||(S===void 0&&(S=12),_=!0,T="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var I=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",B=m==="$"?r:/[%p]/.test(T)?s:"",F=p1[T],M=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function H(N){var re=I,oe=B,te,ge,Je;if(T==="c")oe=F(N)+oe,N="";else{N=+N;var Fe=N<0||1/N<0;if(N=isNaN(N)?f:F(Math.abs(N),S),_&&(N=D3(N)),Fe&&+N==0&&p!=="+"&&(Fe=!1),re=(Fe?p==="("?p:o:p==="-"||p==="("?"":p)+re,oe=(T==="s"?b1[8+h1/3]:"")+oe+(Fe&&p==="("?")":""),M){for(te=-1,ge=N.length;++te<ge;)if(Je=N.charCodeAt(te),48>Je||Je>57){oe=(Je===46?i+N.slice(te+1):N.slice(te))+oe,N=N.slice(0,te);break}}}v&&!y&&(N=t(N,1/0));var et=re.length+N.length+oe.length,Ze=et<w?new Array(w-et+1).join(h):"";switch(v&&y&&(N=t(Ze+N,Ze.length?w-oe.length:1/0),Ze=""),d){case"<":N=re+N+oe+Ze;break;case"=":N=re+Ze+N+oe;break;case"^":N=Ze.slice(0,et=Ze.length>>1)+re+N+oe+Ze.slice(et);break;default:N=Ze+re+N+oe;break}return a(N)}return H.toString=function(){return c+""},H}function u(c,h){var d=l((c=Pr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Fa(h)/3)))*3,m=Math.pow(10,-p),y=b1[8+p/3];return function(w){return d(m*w)+y}}return{format:l,formatPrefix:u}}var iu,mt,Xh;M3({thousands:",",grouping:[3],currency:["$",""]});function M3(e){return iu=R3(e),mt=iu.format,Xh=iu.formatPrefix,iu}function y1(e){return Math.max(0,-Fa(Math.abs(e)))}function w1(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fa(t)/3)))*3-Fa(Math.abs(e)))}function x1(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fa(t)-Fa(e))+1}const Kh=new Date,Jh=new Date;function at(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const f=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return f;let l;do f.push(l=new Date(+a)),t(a,o),e(a);while(l<a&&a<s);return f},i.filter=a=>at(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Kh.setTime(+a),Jh.setTime(+s),e(Kh),e(Jh),Math.floor(n(Kh,Jh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ra=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ra.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ra),Ra.range;const sr=1e3,rn=sr*60,or=rn*60,lr=or*24,ed=lr*7,v1=lr*30,td=lr*365,fr=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sr)},(e,t)=>(t-e)/sr,e=>e.getUTCSeconds());fr.range;const au=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sr)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getMinutes());au.range;const su=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getUTCMinutes());su.range;const ou=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sr-e.getMinutes()*rn)},(e,t)=>{e.setTime(+e+t*or)},(e,t)=>(t-e)/or,e=>e.getHours());ou.range;const lu=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*or)},(e,t)=>(t-e)/or,e=>e.getUTCHours());lu.range;const Lr=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rn)/lr,e=>e.getDate()-1);Lr.range;const Bi=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lr,e=>e.getUTCDate()-1);Bi.range;const A1=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lr,e=>Math.floor(e/lr));A1.range;function Di(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*rn)/ed)}const lo=Di(0),fu=Di(1),P3=Di(2),L3=Di(3),Ma=Di(4),O3=Di(5),N3=Di(6);lo.range,fu.range,P3.range,L3.range,Ma.range,O3.range,N3.range;function Fi(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ed)}const fo=Fi(0),uu=Fi(1),z3=Fi(2),U3=Fi(3),Pa=Fi(4),G3=Fi(5),H3=Fi(6);fo.range,uu.range,z3.range,U3.range,Pa.range,G3.range,H3.range;const uo=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uo.range;const co=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());co.range;const Ln=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ln.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),Ln.range;const On=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());On.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),On.range;function E1(e,t,n,r,i,a){const s=[[fr,1,sr],[fr,5,5*sr],[fr,15,15*sr],[fr,30,30*sr],[a,1,rn],[a,5,5*rn],[a,15,15*rn],[a,30,30*rn],[i,1,or],[i,3,3*or],[i,6,6*or],[i,12,12*or],[r,1,lr],[r,2,2*lr],[n,1,ed],[t,1,v1],[t,3,3*v1],[e,1,td]];function o(l,u,c){const h=u<l;h&&([l,u]=[u,l]);const d=c&&typeof c.range=="function"?c:f(l,u,c),p=d?d.range(l,+u+1):[];return h?p.reverse():p}function f(l,u,c){const h=Math.abs(u-l)/c,d=Kf(([,,y])=>y).right(s,h);if(d===s.length)return e.every(Mr(l/td,u/td,c));if(d===0)return Ra.every(Math.max(Mr(l,u,c),1));const[p,m]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return p.every(m)}return[o,f]}const[V3,j3]=E1(On,co,fo,A1,lu,su),[$3,q3]=E1(Ln,uo,lo,Lr,ou,au),ho="year",po="quarter",go="month",mo="week",bo="date",cu="day",nd="dayofyear",yo="hours",wo="minutes",xo="seconds",hu="milliseconds";[ho,po,go,mo,bo,cu,nd,yo,wo,xo,hu].reduce((e,t,n)=>(e[t]=1+n,e),{});const W3={[ho]:Ln,[po]:uo.every(3),[go]:uo,[mo]:lo,[bo]:Lr,[cu]:Lr,[nd]:Lr,[yo]:ou,[wo]:au,[xo]:fr,[hu]:Ra},Z3={[ho]:On,[po]:co.every(3),[go]:co,[mo]:fo,[bo]:Bi,[cu]:Bi,[nd]:Bi,[yo]:lu,[wo]:su,[xo]:fr,[hu]:Ra};function Y3(e){return W3[e]}function Q3(e){return Z3[e]}function rd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function id(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _1(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,f=e.shortMonths,l=Ao(i),u=Eo(i),c=Ao(a),h=Eo(a),d=Ao(s),p=Eo(s),m=Ao(o),y=Eo(o),w=Ao(f),v=Eo(f),S={a:Fe,A:et,b:Ze,B:tt,c:null,d:B1,e:B1,f:w8,g:I8,G:D8,H:m8,I:b8,j:y8,L:D1,m:x8,M:v8,p:Se,q:Ce,Q:O1,s:N1,S:A8,u:E8,U:_8,V:S8,w:C8,W:k8,x:null,X:null,y:T8,Y:B8,Z:F8,"%":L1},_={a:gt,A:qt,b:Ne,B:L,c:null,d:R1,e:R1,f:L8,g:q8,G:Z8,H:R8,I:M8,j:P8,L:M1,m:O8,M:N8,p:P,q,Q:O1,s:N1,S:z8,u:U8,U:G8,V:H8,w:V8,W:j8,x:null,X:null,y:$8,Y:W8,Z:Y8,"%":L1},T={a:H,A:N,b:re,B:oe,c:te,d:T1,e:T1,f:h8,g:k1,G:C1,H:I1,I:I1,j:l8,L:c8,m:o8,M:f8,p:M,q:s8,Q:p8,s:g8,S:u8,u:t8,U:n8,V:r8,w:e8,W:i8,x:ge,X:Je,y:k1,Y:C1,Z:a8,"%":d8};S.x=I(n,S),S.X=I(r,S),S.c=I(t,S),_.x=I(n,_),_.X=I(r,_),_.c=I(t,_);function I(j,Z){return function(C){var A=[],V=-1,W=0,fe=j.length,ne,ue,Wt;for(C instanceof Date||(C=new Date(+C));++V<fe;)j.charCodeAt(V)===37&&(A.push(j.slice(W,V)),(ue=S1[ne=j.charAt(++V)])!=null?ne=j.charAt(++V):ue=ne==="e"?" ":"0",(Wt=Z[ne])&&(ne=Wt(C,ue)),A.push(ne),W=V+1);return A.push(j.slice(W,V)),A.join("")}}function B(j,Z){return function(C){var A=vo(1900,void 0,1),V=F(A,j,C+="",0),W,fe;if(V!=C.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(Z&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(W=id(vo(A.y,0,1)),fe=W.getUTCDay(),W=fe>4||fe===0?uu.ceil(W):uu(W),W=Bi.offset(W,(A.V-1)*7),A.y=W.getUTCFullYear(),A.m=W.getUTCMonth(),A.d=W.getUTCDate()+(A.w+6)%7):(W=rd(vo(A.y,0,1)),fe=W.getDay(),W=fe>4||fe===0?fu.ceil(W):fu(W),W=Lr.offset(W,(A.V-1)*7),A.y=W.getFullYear(),A.m=W.getMonth(),A.d=W.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),fe="Z"in A?id(vo(A.y,0,1)).getUTCDay():rd(vo(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(fe+5)%7:A.w+A.U*7-(fe+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,id(A)):rd(A)}}function F(j,Z,C,A){for(var V=0,W=Z.length,fe=C.length,ne,ue;V<W;){if(A>=fe)return-1;if(ne=Z.charCodeAt(V++),ne===37){if(ne=Z.charAt(V++),ue=T[ne in S1?Z.charAt(V++):ne],!ue||(A=ue(j,C,A))<0)return-1}else if(ne!=C.charCodeAt(A++))return-1}return A}function M(j,Z,C){var A=l.exec(Z.slice(C));return A?(j.p=u.get(A[0].toLowerCase()),C+A[0].length):-1}function H(j,Z,C){var A=d.exec(Z.slice(C));return A?(j.w=p.get(A[0].toLowerCase()),C+A[0].length):-1}function N(j,Z,C){var A=c.exec(Z.slice(C));return A?(j.w=h.get(A[0].toLowerCase()),C+A[0].length):-1}function re(j,Z,C){var A=w.exec(Z.slice(C));return A?(j.m=v.get(A[0].toLowerCase()),C+A[0].length):-1}function oe(j,Z,C){var A=m.exec(Z.slice(C));return A?(j.m=y.get(A[0].toLowerCase()),C+A[0].length):-1}function te(j,Z,C){return F(j,t,Z,C)}function ge(j,Z,C){return F(j,n,Z,C)}function Je(j,Z,C){return F(j,r,Z,C)}function Fe(j){return s[j.getDay()]}function et(j){return a[j.getDay()]}function Ze(j){return f[j.getMonth()]}function tt(j){return o[j.getMonth()]}function Se(j){return i[+(j.getHours()>=12)]}function Ce(j){return 1+~~(j.getMonth()/3)}function gt(j){return s[j.getUTCDay()]}function qt(j){return a[j.getUTCDay()]}function Ne(j){return f[j.getUTCMonth()]}function L(j){return o[j.getUTCMonth()]}function P(j){return i[+(j.getUTCHours()>=12)]}function q(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var Z=I(j+="",S);return Z.toString=function(){return j},Z},parse:function(j){var Z=B(j+="",!1);return Z.toString=function(){return j},Z},utcFormat:function(j){var Z=I(j+="",_);return Z.toString=function(){return j},Z},utcParse:function(j){var Z=B(j+="",!0);return Z.toString=function(){return j},Z}}}var S1={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,X3=/^%/,K3=/[\\^$*+?|[\]().{}]/g;function ye(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function J3(e){return e.replace(K3,"\\$&")}function Ao(e){return new RegExp("^(?:"+e.map(J3).join("|")+")","i")}function Eo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function e8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function t8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function n8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function r8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function i8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function C1(e,t,n){var r=ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function k1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function a8(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function s8(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function o8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function l8(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function I1(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function f8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function u8(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function c8(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function h8(e,t,n){var r=ft.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function d8(e,t,n){var r=X3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function p8(e,t,n){var r=ft.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function g8(e,t,n){var r=ft.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function B1(e,t){return ye(e.getDate(),t,2)}function m8(e,t){return ye(e.getHours(),t,2)}function b8(e,t){return ye(e.getHours()%12||12,t,2)}function y8(e,t){return ye(1+Lr.count(Ln(e),e),t,3)}function D1(e,t){return ye(e.getMilliseconds(),t,3)}function w8(e,t){return D1(e,t)+"000"}function x8(e,t){return ye(e.getMonth()+1,t,2)}function v8(e,t){return ye(e.getMinutes(),t,2)}function A8(e,t){return ye(e.getSeconds(),t,2)}function E8(e){var t=e.getDay();return t===0?7:t}function _8(e,t){return ye(lo.count(Ln(e)-1,e),t,2)}function F1(e){var t=e.getDay();return t>=4||t===0?Ma(e):Ma.ceil(e)}function S8(e,t){return e=F1(e),ye(Ma.count(Ln(e),e)+(Ln(e).getDay()===4),t,2)}function C8(e){return e.getDay()}function k8(e,t){return ye(fu.count(Ln(e)-1,e),t,2)}function T8(e,t){return ye(e.getFullYear()%100,t,2)}function I8(e,t){return e=F1(e),ye(e.getFullYear()%100,t,2)}function B8(e,t){return ye(e.getFullYear()%1e4,t,4)}function D8(e,t){var n=e.getDay();return e=n>=4||n===0?Ma(e):Ma.ceil(e),ye(e.getFullYear()%1e4,t,4)}function F8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function R1(e,t){return ye(e.getUTCDate(),t,2)}function R8(e,t){return ye(e.getUTCHours(),t,2)}function M8(e,t){return ye(e.getUTCHours()%12||12,t,2)}function P8(e,t){return ye(1+Bi.count(On(e),e),t,3)}function M1(e,t){return ye(e.getUTCMilliseconds(),t,3)}function L8(e,t){return M1(e,t)+"000"}function O8(e,t){return ye(e.getUTCMonth()+1,t,2)}function N8(e,t){return ye(e.getUTCMinutes(),t,2)}function z8(e,t){return ye(e.getUTCSeconds(),t,2)}function U8(e){var t=e.getUTCDay();return t===0?7:t}function G8(e,t){return ye(fo.count(On(e)-1,e),t,2)}function P1(e){var t=e.getUTCDay();return t>=4||t===0?Pa(e):Pa.ceil(e)}function H8(e,t){return e=P1(e),ye(Pa.count(On(e),e)+(On(e).getUTCDay()===4),t,2)}function V8(e){return e.getUTCDay()}function j8(e,t){return ye(uu.count(On(e)-1,e),t,2)}function $8(e,t){return ye(e.getUTCFullYear()%100,t,2)}function q8(e,t){return e=P1(e),ye(e.getUTCFullYear()%100,t,2)}function W8(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function Z8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pa(e):Pa.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function Y8(){return"+0000"}function L1(){return"%"}function O1(e){return+e}function N1(e){return Math.floor(+e/1e3)}var La,ad,z1,sd,U1;Q8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q8(e){return La=_1(e),ad=La.format,z1=La.parse,sd=La.utcFormat,U1=La.utcParse,La}function _o(e){const t={};return n=>t[n]||(t[n]=e(n))}function X8(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=K8(r,i);const s=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+s}}function K8(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function J8(e){const t=_o(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Pr(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return X8(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,s){s=Pr(s??",f");const o=Mr(r,i,a),f=Math.max(Math.abs(r),Math.abs(i));let l;if(s.precision==null)switch(s.type){case"s":return isNaN(l=w1(o,f))||(s.precision=l),n(s,f);case"":case"e":case"g":case"p":case"r":{isNaN(l=x1(o,f))||(s.precision=l-(s.type==="e"));break}case"f":case"%":{isNaN(l=y1(o))||(s.precision=l-(s.type==="%")*2);break}}return t(s)}}}e4();function e4(){return J8({format:mt,formatPrefix:Xh})}function G1(e,t,n){n=n||{},kt(n)||Xe(`Invalid time multi-format specifier: ${n}`);const r=t(xo),i=t(wo),a=t(yo),s=t(bo),o=t(mo),f=t(go),l=t(po),u=t(ho),c=e(n[hu]||".%L"),h=e(n[xo]||":%S"),d=e(n[wo]||"%I:%M"),p=e(n[yo]||"%I %p"),m=e(n[bo]||n[cu]||"%a %d"),y=e(n[mo]||"%b %d"),w=e(n[go]||"%B"),v=e(n[po]||"%B"),S=e(n[ho]||"%Y");return _=>(r(_)<_?c:i(_)<_?h:a(_)<_?d:s(_)<_?p:f(_)<_?o(_)<_?m:y:u(_)<_?l(_)<_?w:v:S)(_)}function H1(e){const t=_o(e.format),n=_o(e.utcFormat);return{timeFormat:r=>Ue(r)?t(r):G1(t,Y3,r),utcFormat:r=>Ue(r)?n(r):G1(n,Q3,r),timeParse:_o(e.parse),utcParse:_o(e.utcParse)}}let od;t4();function t4(){return od=H1({format:ad,parse:z1,utcFormat:sd,utcParse:U1})}function n4(e){return H1(_1(e))}function r4(e){return arguments.length?od=n4(e):od}const i4=/^(data:|([A-Za-z]+:)?\/\/)/,a4=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,s4=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,V1="file://";function o4(e,t){return n=>({options:n||{},sanitize:f4,load:l4,fileAccess:!!t,file:u4(t),http:h4(e)})}async function l4(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function f4(e,t){t=jh({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,s;const o=a4.test(e.replace(s4,""));(e==null||typeof e!="string"||!o)&&Xe("Sanitize failure, invalid URI: "+Qf(e));const f=i4.test(e);return(s=t.baseURL)&&!f&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),a=(i=e.startsWith(V1))||t.mode==="file"||t.mode!=="http"&&!f&&n,i?e=e.slice(V1.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function u4(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,a)=>{i?r(i):n(a)})}):c4}async function c4(){Xe("No file system access.")}function h4(e){return e?async function(t,n){const r=jh({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?Lt(a[i])?a[i]():a.text():Xe(a.status+""+a.statusText)}:d4}async function d4(){Xe("No HTTP fetch method available.")}const p4=e=>e!=null&&e===e,g4=e=>e==="true"||e==="false"||e===!0||e===!1,m4=e=>!Number.isNaN(Date.parse(e)),j1=e=>!Number.isNaN(+e)&&!(e instanceof Date),b4=e=>j1(e)&&Number.isInteger(+e),$1={boolean:e3,integer:ro,number:ro,date:n3,string:r3,unknown:qf},du=[g4,b4,j1,m4],y4=["boolean","integer","number","date"];function w4(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=du.length,i=du.map((a,s)=>s+1);for(let a=0,s=0,o,f;a<n;++a)for(f=t?e[a][t]:e[a],o=0;o<r;++o)if(i[o]&&p4(f)&&!du[o](f)&&(i[o]=0,++s,s===du.length))return"string";return y4[i.reduce((a,s)=>a===0?s:a,0)-1]}function x4(e,t){return t.reduce((n,r)=>(n[r]=w4(e,r),n),{})}function q1(e){const t=function(n,r){const i={delimiter:e};return ld(n,r?jh(r,i):i)};return t.responseType="text",t}function ld(e,t){return t.header&&(e=t.header.map(Qf).join(t.delimiter)+`
`+e),i1(t.delimiter).parse(e+"")}ld.responseType="text";function v4(e){return typeof Buffer=="function"&&Lt(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function fd(e,t){const n=t&&t.property?$f(t.property):qf;return kt(e)&&!v4(e)?A4(n(e),t):n(JSON.parse(e))}fd.responseType="json";function A4(e,t){return!vt(e)&&KC(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const E4={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function W1(e,t){let n,r,i,a;return e=fd(e,t),t&&t.feature?(n=h3,i=t.feature):t&&t.mesh?(n=p3,i=t.mesh,a=E4[t.filter]):Xe("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):Xe("Invalid TopoJSON object: "+i),r&&r.features||[r]}W1.responseType="json";const ud={dsv:ld,csv:q1(","),tsv:q1("	"),json:fd,topojson:W1};function Z1(e,t){return arguments.length>1?(ud[e]=t,this):Da(ud,e)?ud[e]:null}function Y1(e,t,n,r){t=t||{};const i=Z1(t.type||"json");return i||Xe("Unknown data format type: "+t.type),e=i(e,t),t.parse&&_4(e,t.parse,n,r),Da(e,"columns")&&delete e.columns,e}function _4(e,t,n,r){if(!e.length)return;const i=r4();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),s,o,f,l,u,c;t==="auto"&&(t=x4(e,a)),a=Object.keys(t);const h=a.map(d=>{const p=t[d];let m,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),y=m[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(m[0]==="utc"?r:n)(y);if(!$1[p])throw Error("Illegal format pattern: "+d+":"+p);return $1[p]});for(f=0,u=e.length,c=a.length;f<u;++f)for(s=e[f],l=0;l<c;++l)o=a[l],s[o]=h[l](s[o])}const pu=o4(typeof fetch<"u"&&fetch,null);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gu=globalThis,cd=gu.ShadowRoot&&(gu.ShadyCSS===void 0||gu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hd=Symbol(),Q1=new WeakMap;let X1=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==hd)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(cd&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=Q1.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Q1.set(n,t))}return t}toString(){return this.cssText}};const S4=e=>new X1(typeof e=="string"?e:e+"",void 0,hd),C4=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,a)=>r+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[a+1],e[0]);return new X1(n,e,hd)},k4=(e,t)=>{if(cd)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=gu.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},K1=cd?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return S4(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:T4,defineProperty:I4,getOwnPropertyDescriptor:B4,getOwnPropertyNames:D4,getOwnPropertySymbols:F4,getPrototypeOf:R4}=Object,Or=globalThis,J1=Or.trustedTypes,M4=J1?J1.emptyScript:"",dd=Or.reactiveElementPolyfillSupport,So=(e,t)=>e,pd={toAttribute(e,t){switch(t){case Boolean:e=e?M4:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},eb=(e,t)=>!T4(e,t),tb={attribute:!0,type:String,converter:pd,reflect:!1,hasChanged:eb};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Or.litPropertyMetadata??(Or.litPropertyMetadata=new WeakMap);class Oa extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=tb){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&I4(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:a}=B4(this.prototype,t)??{get(){return this[n]},set(s){this[n]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){const o=i==null?void 0:i.call(this);a.call(this,s),this.requestUpdate(t,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??tb}static _$Ei(){if(this.hasOwnProperty(So("elementProperties")))return;const t=R4(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(So("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(So("properties"))){const n=this.properties,r=[...D4(n),...F4(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(K1(i))}else t!==void 0&&n.push(K1(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return k4(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var a;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const s=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:pd).toAttribute(n,r.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,n){var a;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:((a=s.converter)==null?void 0:a.fromAttribute)!==void 0?s.converter:pd;this._$Em=i,this[i]=o.fromAttribute(n,s.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??eb)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,s]of this._$Ep)this[a]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[a,s]of i)s.wrapped!==!0||this._$AL.has(a)||this[a]===void 0||this.P(a,this[a],s)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var a;return(a=i.hostUpdate)==null?void 0:a.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}Oa.elementStyles=[],Oa.shadowRootOptions={mode:"open"},Oa[So("elementProperties")]=new Map,Oa[So("finalized")]=new Map,dd==null||dd({ReactiveElement:Oa}),(Or.reactiveElementVersions??(Or.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Co=globalThis,mu=Co.trustedTypes,nb=mu?mu.createPolicy("lit-html",{createHTML:e=>e}):void 0,rb="$lit$",Nr=`lit$${(Math.random()+"").slice(9)}$`,ib="?"+Nr,P4=`<${ib}>`,Ri=document,ko=()=>Ri.createComment(""),To=e=>e===null||typeof e!="object"&&typeof e!="function",ab=Array.isArray,L4=e=>ab(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",gd=`[ 	
\f\r]`,Io=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sb=/-->/g,ob=/>/g,Mi=RegExp(`>|${gd}(?:([^\\s"'>=/]+)(${gd}*=${gd}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),lb=/'/g,fb=/"/g,ub=/^(?:script|style|textarea|title)$/i,O4=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ve=O4(1),Pi=Symbol.for("lit-noChange"),Ke=Symbol.for("lit-nothing"),cb=new WeakMap,Li=Ri.createTreeWalker(Ri,129);function hb(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return nb!==void 0?nb.createHTML(t):t}const N4=(e,t)=>{const n=e.length-1,r=[];let i,a=t===2?"<svg>":"",s=Io;for(let o=0;o<n;o++){const f=e[o];let l,u,c=-1,h=0;for(;h<f.length&&(s.lastIndex=h,u=s.exec(f),u!==null);)h=s.lastIndex,s===Io?u[1]==="!--"?s=sb:u[1]!==void 0?s=ob:u[2]!==void 0?(ub.test(u[2])&&(i=RegExp("</"+u[2],"g")),s=Mi):u[3]!==void 0&&(s=Mi):s===Mi?u[0]===">"?(s=i??Io,c=-1):u[1]===void 0?c=-2:(c=s.lastIndex-u[2].length,l=u[1],s=u[3]===void 0?Mi:u[3]==='"'?fb:lb):s===fb||s===lb?s=Mi:s===sb||s===ob?s=Io:(s=Mi,i=void 0);const d=s===Mi&&e[o+1].startsWith("/>")?" ":"";a+=s===Io?f+P4:c>=0?(r.push(l),f.slice(0,c)+rb+f.slice(c)+Nr+d):f+Nr+(c===-2?o:d)}return[hb(e,a+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};class Bo{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let a=0,s=0;const o=t.length-1,f=this.parts,[l,u]=N4(t,n);if(this.el=Bo.createElement(l,r),Li.currentNode=this.el.content,n===2){const c=this.el.content.firstChild;c.replaceWith(...c.childNodes)}for(;(i=Li.nextNode())!==null&&f.length<o;){if(i.nodeType===1){if(i.hasAttributes())for(const c of i.getAttributeNames())if(c.endsWith(rb)){const h=u[s++],d=i.getAttribute(c).split(Nr),p=/([.?@])?(.*)/.exec(h);f.push({type:1,index:a,name:p[2],strings:d,ctor:p[1]==="."?U4:p[1]==="?"?G4:p[1]==="@"?H4:bu}),i.removeAttribute(c)}else c.startsWith(Nr)&&(f.push({type:6,index:a}),i.removeAttribute(c));if(ub.test(i.tagName)){const c=i.textContent.split(Nr),h=c.length-1;if(h>0){i.textContent=mu?mu.emptyScript:"";for(let d=0;d<h;d++)i.append(c[d],ko()),Li.nextNode(),f.push({type:2,index:++a});i.append(c[h],ko())}}}else if(i.nodeType===8)if(i.data===ib)f.push({type:2,index:a});else{let c=-1;for(;(c=i.data.indexOf(Nr,c+1))!==-1;)f.push({type:7,index:a}),c+=Nr.length-1}a++}}static createElement(t,n){const r=Ri.createElement("template");return r.innerHTML=t,r}}function Na(e,t,n=e,r){var s,o;if(t===Pi)return t;let i=r!==void 0?(s=n._$Co)==null?void 0:s[r]:n._$Cl;const a=To(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==a&&((o=i==null?void 0:i._$AO)==null||o.call(i,!1),a===void 0?i=void 0:(i=new a(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=Na(e,i._$AS(e,t.values),i,r)),t}class z4{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??Ri).importNode(n,!0);Li.currentNode=i;let a=Li.nextNode(),s=0,o=0,f=r[0];for(;f!==void 0;){if(s===f.index){let l;f.type===2?l=new Do(a,a.nextSibling,this,t):f.type===1?l=new f.ctor(a,f.name,f.strings,this,t):f.type===6&&(l=new V4(a,this,t)),this._$AV.push(l),f=r[++o]}s!==(f==null?void 0:f.index)&&(a=Li.nextNode(),s++)}return Li.currentNode=Ri,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class Do{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=Ke,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Na(this,t,n),To(t)?t===Ke||t==null||t===""?(this._$AH!==Ke&&this._$AR(),this._$AH=Ke):t!==this._$AH&&t!==Pi&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):L4(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Ke&&To(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ri.createTextNode(t)),this._$AH=t}$(t){var a;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Bo.createElement(hb(r.h,r.h[0]),this.options)),r);if(((a=this._$AH)==null?void 0:a._$AD)===i)this._$AH.p(n);else{const s=new z4(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=cb.get(t.strings);return n===void 0&&cb.set(t.strings,n=new Bo(t)),n}k(t){ab(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const a of t)i===n.length?n.push(r=new Do(this.S(ko()),this.S(ko()),this,this.options)):r=n[i],r._$AI(a),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}let bu=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,a){this.type=1,this._$AH=Ke,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ke}_$AI(t,n=this,r,i){const a=this.strings;let s=!1;if(a===void 0)t=Na(this,t,n,0),s=!To(t)||t!==this._$AH&&t!==Pi,s&&(this._$AH=t);else{const o=t;let f,l;for(t=a[0],f=0;f<a.length-1;f++)l=Na(this,o[r+f],n,f),l===Pi&&(l=this._$AH[f]),s||(s=!To(l)||l!==this._$AH[f]),l===Ke?t=Ke:t!==Ke&&(t+=(l??"")+a[f+1]),this._$AH[f]=l}s&&!i&&this.j(t)}j(t){t===Ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class U4 extends bu{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Ke?void 0:t}}class G4 extends bu{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Ke)}}class H4 extends bu{constructor(t,n,r,i,a){super(t,n,r,i,a),this.type=5}_$AI(t,n=this){if((t=Na(this,t,n,0)??Ke)===Pi)return;const r=this._$AH,i=t===Ke&&r!==Ke||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,a=t!==Ke&&(r===Ke||i);i&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}class V4{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Na(this,t)}}const md=Co.litHtmlPolyfillSupport;md==null||md(Bo,Do),(Co.litHtmlVersions??(Co.litHtmlVersions=[])).push("3.1.2");const Fo=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const a=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Do(t.insertBefore(ko(),a),a,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Ro=class extends Oa{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Fo(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Pi}};Ro._$litElement$=!0,Ro.finalized=!0,(sC=globalThis.litElementHydrateSupport)==null||sC.call(globalThis,{LitElement:Ro});const bd=globalThis.litElementPolyfillSupport;bd==null||bd({LitElement:Ro}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const db={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},pb=e=>(...t)=>({_$litDirective$:e,values:t});let gb=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mb="important",j4=" !"+mb,yd=pb(class extends gb{constructor(e){var t;if(super(e),e.type!==db.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const a=typeof i=="string"&&i.endsWith(j4);r.includes("-")||a?n.setProperty(r,a?i.slice(0,-11):i,a?mb:""):n[r]=i}}return Pi}}),$4="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e.spinner_ajPY{transform-origin:center;animation:spinner_AtaB%20.75s%20infinite%20linear}@keyframes%20spinner_AtaB{100%25{transform:rotate(360deg)}}%3c/style%3e%3cpath%20d='M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z'%20opacity='.25'/%3e%3cpath%20d='M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z'%20class='spinner_ajPY'/%3e%3c/svg%3e",q4=`
.genome-spy {
  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  position: relative;
  display: flex;
  flex-direction: column;
}
.genome-spy .canvas-wrapper {
  position: relative;
  flex-grow: 1;
  overflow: hidden;
}
.genome-spy canvas {
  transform: scale(1, 1);
  opacity: 1;
  transition: transform 0.6s, opacity 0.6s;
}
.genome-spy .loading-message {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-message .message {
  color: #666;
  opacity: 0;
  transition: opacity 0.7s;
}
.genome-spy .loading > canvas {
  transform: scale(0.95, 0.95);
  opacity: 0;
}
.genome-spy .loading > .loading-message .message {
  opacity: 1;
}
.genome-spy .loading > .loading-message .message .ellipsis {
  animation: blinker 1s linear infinite;
}
@keyframes blinker {
  50% {
    opacity: 0;
  }
}
.genome-spy .loading-indicators {
  position: absolute;
  inset: 0;
  user-select: none;
  pointer-events: none;
}
.genome-spy .loading-indicators div {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
}
.genome-spy .loading-indicators div > div {
  font-size: 11px;
  transition: opacity 0.2s;
  background: white;
  padding: 2px 5px;
  display: flex;
  border-radius: 3px;
  gap: 0.5em;
  opacity: 0;
}
.genome-spy .loading-indicators div > div.loading {
  opacity: 0.5;
}
.genome-spy .loading-indicators div > div.error {
  opacity: 0.8;
  color: firebrick;
}
.genome-spy .loading-indicators div > div > * {
  display: block;
}
.genome-spy .loading-indicators div > div img {
  width: 1.5em;
  height: 1.5em;
}
.genome-spy .tooltip {
  position: absolute;
  max-width: 450px;
  overflow: hidden;
  background: #f6f6f6;
  padding: 10px;
  font-size: 13px;
  box-shadow: 0px 3px 15px 0px rgba(0, 0, 0, 0.21);
  pointer-events: none;
  z-index: 100;
}
.genome-spy .tooltip > :last-child {
  margin-bottom: 0;
}
.genome-spy .tooltip > .title {
  padding-bottom: 5px;
  margin-bottom: 5px;
  border-bottom: 1px dashed #b6b6b6;
}
.genome-spy .tooltip .summary {
  font-size: 12px;
}
.genome-spy .tooltip table {
  border-collapse: collapse;
}
.genome-spy .tooltip table:first-child {
  margin-top: 0;
}
.genome-spy .tooltip table th,
.genome-spy .tooltip table td {
  padding: 2px 0.4em;
  vertical-align: top;
}
.genome-spy .tooltip table th:first-child,
.genome-spy .tooltip table td:first-child {
  padding-left: 0;
}
.genome-spy .tooltip table th {
  text-align: left;
  font-weight: bold;
}
.genome-spy .tooltip .color-legend {
  display: inline-block;
  width: 0.8em;
  height: 0.8em;
  margin-left: 0.4em;
  box-shadow: 0px 0px 3px 1px white;
}
.genome-spy .tooltip .attributes .hovered {
  background-color: #e0e0e0;
}
.genome-spy .tooltip .na {
  color: #aaa;
  font-style: italic;
  font-size: 80%;
}
.genome-spy .gene-track-tooltip .summary {
  font-size: 90%;
}
.genome-spy .message-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
.genome-spy .message-box > div {
  border: 1px solid red;
  padding: 10px;
  background: #fff0f0;
}

.gs-input-binding {
  display: grid;
  grid-template-columns: max-content max-content;
  column-gap: 1em;
  row-gap: 0.3em;
  justify-items: start;
}
.gs-input-binding > select,
.gs-input-binding > input:not([type=checkbox]) {
  width: 100%;
}
.gs-input-binding input[type=range] + span {
  display: inline-block;
  margin-left: 0.3em;
  min-width: 2.2em;
  font-variant-numeric: tabular-nums;
}
.gs-input-binding input[type=range],
.gs-input-binding input[type=radio] {
  vertical-align: text-bottom;
}
.gs-input-binding .radio-group {
  display: flex;
  align-items: center;
}
.gs-input-binding .description {
  max-width: 26em;
  grid-column: 1/-1;
  color: #777;
  font-size: 90%;
  margin-top: -0.5em;
}

.gs-input-bindings {
  flex-basis: content;
  font-size: 14px;
  padding: 10px;
}
`;function W4(e,t){var n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]}function wd(e,t){return e.length==t.length&&e.every((n,r)=>e[r]===t[r])}function Nt(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function Mo(e){return e[e.length-1]}class Z4{constructor(t){this.container=t,this.element=document.createElement("div"),this.element.className="tooltip",this._visible=!0,this.container.appendChild(this.element),this._previousTooltipDatum=void 0,this.enabledStack=[!0],this._penaltyUntil=0,this._lastCoords=void 0,this._previousMove=0,this.clear()}set visible(t){t!=this._visible&&(this.element.style.display=t?null:"none",this._visible=t)}get visible(){return this._visible}get enabled(){return Mo(this.enabledStack)??!0}pushEnabledState(t){this.enabledStack.push(t),t||(this.visible=!1)}popEnabledState(){this.enabledStack.pop()}handleMouseMove(t){this.mouseCoords=W4(this.container,t);const n=performance.now();!this.visible&&!this._isPenalty()&&n-this._previousMove>500&&(this._penaltyUntil=n+70),this._lastCoords&&Y4(this.mouseCoords,this._lastCoords)>20&&(this._penaltyUntil=n+400),this._lastCoords=this.mouseCoords,this.visible&&this.updatePlacement(),this._previousMove=n}updatePlacement(){const[n,r]=this.mouseCoords;let i=n+20;i>this.container.clientWidth-this.element.offsetWidth&&(i=n-20-this.element.offsetWidth),this.element.style.left=i+"px",this.element.style.top=Math.min(r+20,this.container.clientHeight-this.element.offsetHeight)+"px"}setContent(t){if(!t||!this.enabled||this._isPenalty()){this.visible&&(Fo("",this.element),this.visible=!1),this._previousTooltipDatum=void 0;return}Fo(t,this.element),this.visible=!0,this.updatePlacement()}clear(){this._previousTooltipDatum=void 0,this.setContent(void 0)}updateWithDatum(t,n){t!==this._previousTooltipDatum&&(this._previousTooltipDatum=t,n||(n=r=>Promise.resolve(Ve` ${JSON.stringify(r)} `)),n(t).then(r=>this.setContent(r)).catch(r=>{if(r!=="debounced")throw r}))}_isPenalty(){return this._penaltyUntil&&this._penaltyUntil>performance.now()}}function Y4(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])**2;return Math.sqrt(n)}const Q4="RawCode",X4="Literal",K4="Property",J4="Identifier",ek="ArrayExpression",tk="BinaryExpression",nk="CallExpression",rk="ConditionalExpression",ik="LogicalExpression",ak="MemberExpression",sk="ObjectExpression",ok="UnaryExpression";function An(e){this.type=e}An.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=lk(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function lk(e){switch(e.type){case ek:return e.elements;case tk:case ik:return[e.left,e.right];case nk:return[e.callee].concat(e.arguments);case rk:return[e.test,e.consequent,e.alternate];case ak:return[e.object,e.property];case sk:return e.properties;case K4:return[e.key,e.value];case ok:return[e.argument];case J4:case X4:case Q4:default:return[]}}var Nn,ee,U,At,Ie,yu=1,Po=2,Oi=3,zr=4,wu=5,Ni=6,zt=7,Lo=8,fk=9;Nn={},Nn[yu]="Boolean",Nn[Po]="<end>",Nn[Oi]="Identifier",Nn[zr]="Keyword",Nn[wu]="Null",Nn[Ni]="Numeric",Nn[zt]="Punctuator",Nn[Lo]="String",Nn[fk]="RegularExpression";var uk="ArrayExpression",ck="BinaryExpression",hk="CallExpression",dk="ConditionalExpression",bb="Identifier",pk="Literal",gk="LogicalExpression",mk="MemberExpression",bk="ObjectExpression",yk="Property",wk="UnaryExpression",ut="Unexpected token %0",xk="Unexpected number",vk="Unexpected string",Ak="Unexpected identifier",Ek="Unexpected reserved word",_k="Unexpected end of input",xd="Invalid regular expression",vd="Invalid regular expression: missing /",yb="Octal literals are not allowed in strict mode.",Sk="Duplicate data property in object literal not allowed in strict mode",bt="ILLEGAL",Oo="Disabled.",Ck=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),kk=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function xu(e,t){if(!e)throw new Error("ASSERT: "+t)}function ur(e){return e>=48&&e<=57}function Ad(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function No(e){return"01234567".indexOf(e)>=0}function Tk(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function zo(e){return e===10||e===13||e===8232||e===8233}function Uo(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Ck.test(String.fromCharCode(e))}function vu(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&kk.test(String.fromCharCode(e))}const Ik={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function wb(){for(;U<At;){const e=ee.charCodeAt(U);if(Tk(e)||zo(e))++U;else break}}function Ed(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)U<At&&Ad(ee[U])?(r=ee[U++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):we({},ut,bt);return String.fromCharCode(i)}function Bk(){var e,t,n,r;for(e=ee[U],t=0,e==="}"&&we({},ut,bt);U<At&&(e=ee[U++],!!Ad(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&we({},ut,bt),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function xb(){var e,t;for(e=ee.charCodeAt(U++),t=String.fromCharCode(e),e===92&&(ee.charCodeAt(U)!==117&&we({},ut,bt),++U,e=Ed("u"),(!e||e==="\\"||!Uo(e.charCodeAt(0)))&&we({},ut,bt),t=e);U<At&&(e=ee.charCodeAt(U),!!vu(e));)++U,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ee.charCodeAt(U)!==117&&we({},ut,bt),++U,e=Ed("u"),(!e||e==="\\"||!vu(e.charCodeAt(0)))&&we({},ut,bt),t+=e);return t}function Dk(){var e,t;for(e=U++;U<At;){if(t=ee.charCodeAt(U),t===92)return U=e,xb();if(vu(t))++U;else break}return ee.slice(e,U)}function Fk(){var e,t,n;return e=U,t=ee.charCodeAt(U)===92?xb():Dk(),t.length===1?n=Oi:Ik.hasOwnProperty(t)?n=zr:t==="null"?n=wu:t==="true"||t==="false"?n=yu:n=Oi,{type:n,value:t,start:e,end:U}}function _d(){var e=U,t=ee.charCodeAt(U),n,r=ee[U],i,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++U,{type:zt,value:String.fromCharCode(t),start:e,end:U};default:if(n=ee.charCodeAt(U+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return U+=2,{type:zt,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:U};case 33:case 61:return U+=2,ee.charCodeAt(U)===61&&++U,{type:zt,value:ee.slice(e,U),start:e,end:U}}}if(s=ee.substr(U,4),s===">>>=")return U+=4,{type:zt,value:s,start:e,end:U};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return U+=3,{type:zt,value:a,start:e,end:U};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return U+=2,{type:zt,value:i,start:e,end:U};if(i==="//"&&we({},ut,bt),"<>=!+-*%&|^/".indexOf(r)>=0)return++U,{type:zt,value:r,start:e,end:U};we({},ut,bt)}function Rk(e){let t="";for(;U<At&&Ad(ee[U]);)t+=ee[U++];return t.length===0&&we({},ut,bt),Uo(ee.charCodeAt(U))&&we({},ut,bt),{type:Ni,value:parseInt("0x"+t,16),start:e,end:U}}function Mk(e){let t="0"+ee[U++];for(;U<At&&No(ee[U]);)t+=ee[U++];return(Uo(ee.charCodeAt(U))||ur(ee.charCodeAt(U)))&&we({},ut,bt),{type:Ni,value:parseInt(t,8),octal:!0,start:e,end:U}}function vb(){var e,t,n;if(n=ee[U],xu(ur(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=U,e="",n!=="."){if(e=ee[U++],n=ee[U],e==="0"){if(n==="x"||n==="X")return++U,Rk(t);if(No(n))return Mk(t);n&&ur(n.charCodeAt(0))&&we({},ut,bt)}for(;ur(ee.charCodeAt(U));)e+=ee[U++];n=ee[U]}if(n==="."){for(e+=ee[U++];ur(ee.charCodeAt(U));)e+=ee[U++];n=ee[U]}if(n==="e"||n==="E")if(e+=ee[U++],n=ee[U],(n==="+"||n==="-")&&(e+=ee[U++]),ur(ee.charCodeAt(U)))for(;ur(ee.charCodeAt(U));)e+=ee[U++];else we({},ut,bt);return Uo(ee.charCodeAt(U))&&we({},ut,bt),{type:Ni,value:parseFloat(e),start:t,end:U}}function Pk(){var e="",t,n,r,i,a=!1;for(t=ee[U],xu(t==="'"||t==='"',"String literal must starts with a quote"),n=U,++U;U<At;)if(r=ee[U++],r===t){t="";break}else if(r==="\\")if(r=ee[U++],!r||!zo(r.charCodeAt(0)))switch(r){case"u":case"x":ee[U]==="{"?(++U,e+=Bk()):e+=Ed(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:No(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),U<At&&No(ee[U])&&(a=!0,i=i*8+"01234567".indexOf(ee[U++]),"0123".indexOf(r)>=0&&U<At&&No(ee[U])&&(i=i*8+"01234567".indexOf(ee[U++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ee[U]===`
`&&++U;else{if(zo(r.charCodeAt(0)))break;e+=r}return t!==""&&we({},ut,bt),{type:Lo,value:e,octal:a,start:n,end:U}}function Lk(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";we({},xd)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{we({},xd)}try{return new RegExp(e,t)}catch{return null}}function Ok(){var e,t,n,r,i;for(e=ee[U],xu(e==="/","Regular expression literal must start with a slash"),t=ee[U++],n=!1,r=!1;U<At;)if(e=ee[U++],t+=e,e==="\\")e=ee[U++],zo(e.charCodeAt(0))&&we({},vd),t+=e;else if(zo(e.charCodeAt(0)))we({},vd);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||we({},vd),i=t.substr(1,t.length-2),{value:i,literal:t}}function Nk(){var e,t,n;for(t="",n="";U<At&&(e=ee[U],!!vu(e.charCodeAt(0)));)++U,e==="\\"&&U<At?we({},ut,bt):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&we({},xd,n),{value:n,literal:t}}function zk(){var e,t,n,r;return Ie=null,wb(),e=U,t=Ok(),n=Nk(),r=Lk(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:U}}function Uk(e){return e.type===Oi||e.type===zr||e.type===yu||e.type===wu}function Ab(){if(wb(),U>=At)return{type:Po,start:U,end:U};const e=ee.charCodeAt(U);return Uo(e)?Fk():e===40||e===41||e===59?_d():e===39||e===34?Pk():e===46?ur(ee.charCodeAt(U+1))?vb():_d():ur(e)?vb():_d()}function Ut(){const e=Ie;return U=e.end,Ie=Ab(),U=e.end,e}function Eb(){const e=U;Ie=Ab(),U=e}function Gk(e){const t=new An(uk);return t.elements=e,t}function _b(e,t,n){const r=new An(e==="||"||e==="&&"?gk:ck);return r.operator=e,r.left=t,r.right=n,r}function Hk(e,t){const n=new An(hk);return n.callee=e,n.arguments=t,n}function Vk(e,t,n){const r=new An(dk);return r.test=e,r.consequent=t,r.alternate=n,r}function Sd(e){const t=new An(bb);return t.name=e,t}function Go(e){const t=new An(pk);return t.value=e.value,t.raw=ee.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Sb(e,t,n){const r=new An(mk);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function jk(e){const t=new An(bk);return t.properties=e,t}function Cb(e,t,n){const r=new An(yk);return r.key=t,r.value=n,r.kind=e,r}function $k(e,t){const n=new An(wk);return n.operator=e,n.argument=t,n.prefix=!0,n}function we(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,s)=>(xu(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=U,n.description=i,n}function Au(e){e.type===Po&&we(e,_k),e.type===Ni&&we(e,xk),e.type===Lo&&we(e,vk),e.type===Oi&&we(e,Ak),e.type===zr&&we(e,Ek),we(e,ut,e.value)}function Et(e){const t=Ut();(t.type!==zt||t.value!==e)&&Au(t)}function Ge(e){return Ie.type===zt&&Ie.value===e}function Cd(e){return Ie.type===zr&&Ie.value===e}function qk(){const e=[];for(U=Ie.start,Et("[");!Ge("]");)Ge(",")?(Ut(),e.push(null)):(e.push(zi()),Ge("]")||Et(","));return Ut(),Gk(e)}function kb(){U=Ie.start;const e=Ut();return e.type===Lo||e.type===Ni?(e.octal&&we(e,yb),Go(e)):Sd(e.value)}function Wk(){var e,t,n,r;if(U=Ie.start,e=Ie,e.type===Oi)return n=kb(),Et(":"),r=zi(),Cb("init",n,r);if(e.type===Po||e.type===zt)Au(e);else return t=kb(),Et(":"),r=zi(),Cb("init",t,r)}function Zk(){var e=[],t,n,r,i={},a=String;for(U=Ie.start,Et("{");!Ge("}");)t=Wk(),t.key.type===bb?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?we({},Sk):i[r]=!0,e.push(t),Ge("}")||Et(",");return Et("}"),jk(e)}function Yk(){Et("(");const e=kd();return Et(")"),e}const Qk={if:1};function Xk(){var e,t,n;if(Ge("("))return Yk();if(Ge("["))return qk();if(Ge("{"))return Zk();if(e=Ie.type,U=Ie.start,e===Oi||Qk[Ie.value])n=Sd(Ut().value);else if(e===Lo||e===Ni)Ie.octal&&we(Ie,yb),n=Go(Ut());else{if(e===zr)throw new Error(Oo);e===yu?(t=Ut(),t.value=t.value==="true",n=Go(t)):e===wu?(t=Ut(),t.value=null,n=Go(t)):Ge("/")||Ge("/=")?(n=Go(zk()),Eb()):Au(Ut())}return n}function Kk(){const e=[];if(Et("("),!Ge(")"))for(;U<At&&(e.push(zi()),!Ge(")"));)Et(",");return Et(")"),e}function Jk(){U=Ie.start;const e=Ut();return Uk(e)||Au(e),Sd(e.value)}function eT(){return Et("."),Jk()}function tT(){Et("[");const e=kd();return Et("]"),e}function nT(){var e,t,n;for(e=Xk();;)if(Ge("."))n=eT(),e=Sb(".",e,n);else if(Ge("("))t=Kk(),e=Hk(e,t);else if(Ge("["))n=tT(),e=Sb("[",e,n);else break;return e}function Tb(){const e=nT();if(Ie.type===zt&&(Ge("++")||Ge("--")))throw new Error(Oo);return e}function Eu(){var e,t;if(Ie.type!==zt&&Ie.type!==zr)t=Tb();else{if(Ge("++")||Ge("--"))throw new Error(Oo);if(Ge("+")||Ge("-")||Ge("~")||Ge("!"))e=Ut(),t=Eu(),t=$k(e.value,t);else{if(Cd("delete")||Cd("void")||Cd("typeof"))throw new Error(Oo);t=Tb()}}return t}function Ib(e){let t=0;if(e.type!==zt&&e.type!==zr)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function rT(){var e,t,n,r,i,a,s,o,f,l;if(e=Ie,f=Eu(),r=Ie,i=Ib(r),i===0)return f;for(r.prec=i,Ut(),t=[e,Ie],s=Eu(),a=[f,r,s];(i=Ib(Ie))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,f=a.pop(),t.pop(),n=_b(o,f,s),a.push(n);r=Ut(),r.prec=i,a.push(r),t.push(Ie),n=Eu(),a.push(n)}for(l=a.length-1,n=a[l],t.pop();l>1;)t.pop(),n=_b(a[l-1].value,a[l-2],n),l-=2;return n}function zi(){var e,t,n;return e=rT(),Ge("?")&&(Ut(),t=zi(),Et(":"),n=zi(),e=Vk(e,t,n)),e}function kd(){const e=zi();if(Ge(","))throw new Error(Oo);return e}function iT(e){ee=e,U=0,At=ee.length,Ie=null,Eb();const t=kd();if(Ie.type!==Po)throw new Error("Unexpect token after expression.");return t}var aT={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Bb(e){function t(s,o,f,l){let u=e(o[0]);return f&&(u=f+"("+u+")",f.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+s+(l<0?"":l===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(s,o,f){return l=>t(s,l,o,f)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Xe("Missing arguments to clamp function."),s.length>3&&Xe("Too many arguments to clamp function.");const o=s.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:a,test:n("test",a),if:function(s){s.length<3&&Xe("Missing arguments to if function."),s.length>3&&Xe("Too many arguments to if function.");const o=s.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function sT(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function oT(e){e=e||{};const t=e.allowed?Xf(e.allowed):{},n=e.forbidden?Xf(e.forbidden):{},r=e.constants||aT,i=(e.functions||Bb)(c),a=e.globalvar,s=e.fieldvar,o=Lt(a)?a:p=>`${a}["${p}"]`;let f={},l={},u=0;function c(p){if(Ue(p))return p;const m=h[p.type];return m==null&&Xe("Unsupported type: "+p.type),m(p)}const h={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return u>0?m:Da(n,m)?Xe("Illegal identifier: "+m):Da(r,m)?r[m]:Da(t,m)?m:(f[m]=1,o(m))},MemberExpression:p=>{const m=!p.computed,y=c(p.object);m&&(u+=1);const w=c(p.property);return y===s&&(l[sT(w)]=1),m&&(u-=1),y+(m?"."+w:"["+w+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Xe("Illegal callee type: "+p.callee.type);const m=p.callee.name,y=p.arguments,w=Da(i,m)&&i[m];return w||Xe("Unrecognized function: "+m),Lt(w)?w(y):w+"("+y.map(c).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(c).join(",")+"]",BinaryExpression:p=>"("+c(p.left)+" "+p.operator+" "+c(p.right)+")",UnaryExpression:p=>"("+p.operator+c(p.argument)+")",ConditionalExpression:p=>"("+c(p.test)+"?"+c(p.consequent)+":"+c(p.alternate)+")",LogicalExpression:p=>"("+c(p.left)+p.operator+c(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(c).join(",")+"}",Property:p=>{u+=1;const m=c(p.key);return u-=1,m+":"+c(p.value)}};function d(p){const m={code:c(p),globals:Object.keys(f),fields:Object.keys(l)};return f={},l={},m}return d.functions=i,d.constants=r,d}function Db(e,t,n){return n=(n-e)/(t-e),n=Math.max(0,Math.min(1,n)),n*n*(3-2*n)}function za(e,t=0,n=1){return Math.max(t,Math.min(n,e))}function lT(e,t,n){return za((n-e)/(t-e),0,1)}const Fb={clamp:za,isArray:vt,isBoolean:io,isDefined(e){return e!==void 0},isNumber:Tt,isObject:kt,isRegExp:JC,isString:Ue,isValid(e){return e!=null&&e===e},lerp:e1,linearstep:lT,smoothstep:Db};function fT(e){const t=Bb(e);for(const n in Fb)t[n]=`this.${n}`;return t}const uT=oT({forbidden:[],allowed:["datum","undefined"],globalvar:"globalObject",fieldvar:"datum",functions:fT});function Rb(e,t={}){try{const n=iT(e),r=uT(n),i=Function("datum","globalObject",`"use strict"; return (${r.code});`).bind(Fb),a=s=>i(s,t);return a.fields=r.fields,a.globals=r.globals,a.code=r.code,a}catch(n){throw new Error(`Invalid expression: ${e}, ${n.message}`)}}function zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ur(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Td=Symbol("implicit");function Id(){var e=new ar,t=[],n=[],r=Td;function i(a){let s=e.get(a);if(s===void 0){if(r!==Td)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ar;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Id(t,n).unknown(r)},zn.apply(i,arguments),i}function Ua(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ho(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gr(){}var Ui=.7,Ga=1/Ui,Ha="\\s*([+-]?\\d+)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cT=/^#([0-9a-f]{3,8})$/,hT=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),dT=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),pT=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Vo}\\)$`),gT=new RegExp(`^rgba\\(${Un},${Un},${Un},${Vo}\\)$`),mT=new RegExp(`^hsl\\(${Vo},${Un},${Un}\\)$`),bT=new RegExp(`^hsla\\(${Vo},${Un},${Un},${Vo}\\)$`),Mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ua(Gr,Hr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:yT,formatHsl:wT,formatRgb:Lb,toString:Lb});function Pb(){return this.rgb().formatHex()}function yT(){return this.rgb().formatHex8()}function wT(){return Gb(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function Hr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ob(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hT.exec(e))?new ct(t[1],t[2],t[3],1):(t=dT.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pT.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=gT.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mT.exec(e))?Ub(t[1],t[2]/100,t[3]/100,1):(t=bT.exec(e))?Ub(t[1],t[2]/100,t[3]/100,t[4]):Mb.hasOwnProperty(e)?Ob(Mb[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Ob(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function Bd(e){return e instanceof Gr||(e=Hr(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function Su(e,t,n,r){return arguments.length===1?Bd(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ua(ct,Su,Ho(Gr,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(Gi(this.r),Gi(this.g),Gi(this.b),Cu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nb,formatHex:Nb,formatHex8:xT,formatRgb:zb,toString:zb}));function Nb(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}`}function xT(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}${Hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function zb(){const e=Cu(this.opacity);return`${e===1?"rgb(":"rgba("}${Gi(this.r)}, ${Gi(this.g)}, ${Gi(this.b)}${e===1?")":`, ${e})`}`}function Cu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hi(e){return e=Gi(e),(e<16?"0":"")+e.toString(16)}function Ub(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new En(e,t,n,r)}function Gb(e){if(e instanceof En)return new En(e.h,e.s,e.l,e.opacity);if(e instanceof Gr||(e=Hr(e)),!e)return new En;if(e instanceof En)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,f=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=f<.5?a+i:2-a-i,s*=60):o=f>0&&f<1?0:s,new En(s,o,f,e.opacity)}function Dd(e,t,n,r){return arguments.length===1?Gb(e):new En(e,t,n,r??1)}function En(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ua(En,Dd,Ho(Gr,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new En(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new En(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ct(Fd(e>=240?e-240:e+120,i,r),Fd(e,i,r),Fd(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new En(Hb(this.h),ku(this.s),ku(this.l),Cu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cu(this.opacity);return`${e===1?"hsl(":"hsla("}${Hb(this.h)}, ${ku(this.s)*100}%, ${ku(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hb(e){return e=(e||0)%360,e<0?e+360:e}function ku(e){return Math.max(0,Math.min(1,e||0))}function Fd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vb=Math.PI/180,jb=180/Math.PI,Tu=18,$b=.96422,qb=1,Wb=.82521,Zb=4/29,Va=6/29,Yb=3*Va*Va,vT=Va*Va*Va;function Qb(e){if(e instanceof Gn)return new Gn(e.l,e.a,e.b,e.opacity);if(e instanceof cr)return Xb(e);e instanceof ct||(e=Bd(e));var t=Od(e.r),n=Od(e.g),r=Od(e.b),i=Md((.2225045*t+.7168786*n+.0606169*r)/qb),a,s;return t===n&&n===r?a=s=i:(a=Md((.4360747*t+.3850649*n+.1430804*r)/$b),s=Md((.0139322*t+.0971045*n+.7141733*r)/Wb)),new Gn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function Rd(e,t,n,r){return arguments.length===1?Qb(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Ua(Gn,Rd,Ho(Gr,{brighter(e){return new Gn(this.l+Tu*(e??1),this.a,this.b,this.opacity)},darker(e){return new Gn(this.l-Tu*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=$b*Pd(t),e=qb*Pd(e),n=Wb*Pd(n),new ct(Ld(3.1338561*t-1.6168667*e-.4906146*n),Ld(-.9787684*t+1.9161415*e+.033454*n),Ld(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Md(e){return e>vT?Math.pow(e,1/3):e/Yb+Zb}function Pd(e){return e>Va?e*e*e:Yb*(e-Zb)}function Ld(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Od(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function AT(e){if(e instanceof cr)return new cr(e.h,e.c,e.l,e.opacity);if(e instanceof Gn||(e=Qb(e)),e.a===0&&e.b===0)return new cr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*jb;return new cr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Nd(e,t,n,r){return arguments.length===1?AT(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Xb(e){if(isNaN(e.h))return new Gn(e.l,0,0,e.opacity);var t=e.h*Vb;return new Gn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ua(cr,Nd,Ho(Gr,{brighter(e){return new cr(this.h,this.c,this.l+Tu*(e??1),this.opacity)},darker(e){return new cr(this.h,this.c,this.l-Tu*(e??1),this.opacity)},rgb(){return Xb(this).rgb()}}));var Kb=-.14861,zd=1.78277,Ud=-.29227,Iu=-.90649,jo=1.97294,Jb=jo*Iu,ey=jo*zd,ty=zd*Ud-Iu*Kb;function ET(e){if(e instanceof Vi)return new Vi(e.h,e.s,e.l,e.opacity);e instanceof ct||(e=Bd(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ty*r+Jb*t-ey*n)/(ty+Jb-ey),a=r-i,s=(jo*(n-i)-Ud*a)/Iu,o=Math.sqrt(s*s+a*a)/(jo*i*(1-i)),f=o?Math.atan2(s,a)*jb-120:NaN;return new Vi(f<0?f+360:f,o,i,e.opacity)}function Gd(e,t,n,r){return arguments.length===1?ET(e):new Vi(e,t,n,r??1)}function Vi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ua(Vi,Gd,Ho(Gr,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new Vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new Vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Vb,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ct(255*(t+n*(Kb*r+zd*i)),255*(t+n*(Ud*r+Iu*i)),255*(t+n*(jo*r)),this.opacity)}}));function ny(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function ry(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return ny((n-r/t)*t,s,i,a,o)}}function iy(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return ny((n-r/t)*t,i,a,s,o)}}const Bu=e=>()=>e;function ay(e,t){return function(n){return e+n*t}}function _T(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Du(e,t){var n=t-e;return n?ay(e,n>180||n<-180?n-360*Math.round(n/360):n):Bu(isNaN(e)?t:e)}function ST(e){return(e=+e)==1?ht:function(t,n){return n-t?_T(t,n,e):Bu(isNaN(t)?n:t)}}function ht(e,t){var n=t-e;return n?ay(e,n):Bu(isNaN(e)?t:e)}const Hd=function e(t){var n=ST(t);function r(i,a){var s=n((i=Su(i)).r,(a=Su(a)).r),o=n(i.g,a.g),f=n(i.b,a.b),l=ht(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=f(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function sy(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Su(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(f){return o.r=r(f),o.g=i(f),o.b=a(f),o+""}}}var CT=sy(ry),kT=sy(iy);function Vd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function oy(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TT(e,t){return(oy(t)?Vd:ly)(e,t)}function ly(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Vr(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function fy(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _n(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uy(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Vr(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var jd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$d=new RegExp(jd.source,"g");function IT(e){return function(){return e}}function BT(e){return function(t){return e(t)+""}}function cy(e,t){var n=jd.lastIndex=$d.lastIndex=0,r,i,a,s=-1,o=[],f=[];for(e=e+"",t=t+"";(r=jd.exec(e))&&(i=$d.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,f.push({i:s,x:_n(r,i)})),n=$d.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?f[0]?BT(f[0].x):IT(t):(t=f.length,function(l){for(var u=0,c;u<t;++u)o[(c=f[u]).i]=c.x(l);return o.join("")})}function Vr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Bu(t):(n==="number"?_n:n==="string"?(r=Hr(t))?(t=r,Hd):cy:t instanceof Hr?Hd:t instanceof Date?fy:oy(t)?Vd:Array.isArray(t)?ly:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uy:_n)(e,t)}function DT(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function FT(e,t){var n=Du(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function $o(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var hy=180/Math.PI,qd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dy(e,t,n,r,i,a){var s,o,f;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,f/=o),e*r<t*n&&(e=-e,t=-t,f=-f,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*hy,skewX:Math.atan(f)*hy,scaleX:s,scaleY:o}}var Fu;function RT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qd:dy(t.a,t.b,t.c,t.d,t.e,t.f)}function MT(e){return e==null||(Fu||(Fu=document.createElementNS("http://www.w3.org/2000/svg","g")),Fu.setAttribute("transform",e),!(e=Fu.transform.baseVal.consolidate()))?qd:(e=e.matrix,dy(e.a,e.b,e.c,e.d,e.e,e.f))}function py(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,u,c,h,d,p){if(l!==c||u!==h){var m=d.push("translate(",null,t,null,n);p.push({i:m-4,x:_n(l,c)},{i:m-2,x:_n(u,h)})}else(c||h)&&d.push("translate("+c+t+h+n)}function s(l,u,c,h){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:_n(l,u)})):u&&c.push(i(c)+"rotate("+u+r)}function o(l,u,c,h){l!==u?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:_n(l,u)}):u&&c.push(i(c)+"skewX("+u+r)}function f(l,u,c,h,d,p){if(l!==c||u!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:_n(l,c)},{i:m-2,x:_n(u,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(l,u){var c=[],h=[];return l=e(l),u=e(u),a(l.translateX,l.translateY,u.translateX,u.translateY,c,h),s(l.rotate,u.rotate,c,h),o(l.skewX,u.skewX,c,h),f(l.scaleX,l.scaleY,u.scaleX,u.scaleY,c,h),l=u=null,function(d){for(var p=-1,m=h.length,y;++p<m;)c[(y=h[p]).i]=y.x(d);return c.join("")}}}var PT=py(RT,"px, ","px)","deg)"),LT=py(MT,", ",")",")"),OT=1e-12;function gy(e){return((e=Math.exp(e))+1/e)/2}function NT(e){return((e=Math.exp(e))-1/e)/2}function zT(e){return((e=Math.exp(2*e))-1)/(e+1)}const UT=function e(t,n,r){function i(a,s){var o=a[0],f=a[1],l=a[2],u=s[0],c=s[1],h=s[2],d=u-o,p=c-f,m=d*d+p*p,y,w;if(m<OT)w=Math.log(h/l)/t,y=function(B){return[o+B*d,f+B*p,l*Math.exp(t*B*w)]};else{var v=Math.sqrt(m),S=(h*h-l*l+r*m)/(2*l*n*v),_=(h*h-l*l-r*m)/(2*h*n*v),T=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(_*_+1)-_);w=(I-T)/t,y=function(B){var F=B*w,M=gy(T),H=l/(n*v)*(M*zT(t*F+T)-NT(T));return[o+H*d,f+H*p,l*M/gy(t*F+T)]}}return y.duration=w*1e3*t/Math.SQRT2,y}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,f=o*o;return e(s,o,f)},i}(Math.SQRT2,2,4);function my(e){return function(t,n){var r=e((t=Dd(t)).h,(n=Dd(n)).h),i=ht(t.s,n.s),a=ht(t.l,n.l),s=ht(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const GT=my(Du);var HT=my(ht);function VT(e,t){var n=ht((e=Rd(e)).l,(t=Rd(t)).l),r=ht(e.a,t.a),i=ht(e.b,t.b),a=ht(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function by(e){return function(t,n){var r=e((t=Nd(t)).h,(n=Nd(n)).h),i=ht(t.c,n.c),a=ht(t.l,n.l),s=ht(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const jT=by(Du);var $T=by(ht);function yy(e){return function t(n){n=+n;function r(i,a){var s=e((i=Gd(i)).h,(a=Gd(a)).h),o=ht(i.s,a.s),f=ht(i.l,a.l),l=ht(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=o(u),i.l=f(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}const qT=yy(Du);var WT=yy(ht);function Wd(e,t){t===void 0&&(t=e,e=Vr);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function ZT(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const YT=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Vr,interpolateArray:TT,interpolateBasis:ry,interpolateBasisClosed:iy,interpolateCubehelix:qT,interpolateCubehelixLong:WT,interpolateDate:fy,interpolateDiscrete:DT,interpolateHcl:jT,interpolateHclLong:$T,interpolateHsl:GT,interpolateHslLong:HT,interpolateHue:FT,interpolateLab:VT,interpolateNumber:_n,interpolateNumberArray:Vd,interpolateObject:uy,interpolateRgb:Hd,interpolateRgbBasis:CT,interpolateRgbBasisClosed:kT,interpolateRound:$o,interpolateString:cy,interpolateTransformCss:PT,interpolateTransformSvg:LT,interpolateZoom:UT,piecewise:Wd,quantize:ZT},Symbol.toStringTag,{value:"Module"}));function QT(e){return function(){return e}}function Zd(e){return+e}var wy=[0,1];function Gt(e){return e}function Yd(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:QT(isNaN(t)?NaN:.5)}function XT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function KT(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Yd(i,r),a=n(s,a)):(r=Yd(r,i),a=n(a,s)),function(o){return a(r(o))}}function JT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Yd(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var f=Rr(e,o,1,r)-1;return a[f](i[f](o))}}function qo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ru(){var e=wy,t=wy,n=Vr,r,i,a,s=Gt,o,f,l;function u(){var h=Math.min(e.length,t.length);return s!==Gt&&(s=XT(e[0],e[h-1])),o=h>2?JT:KT,f=l=null,c}function c(h){return h==null||isNaN(h=+h)?a:(f||(f=o(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=o(t,e.map(r),_n)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,Zd),u()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=$o,u()},c.clamp=function(h){return arguments.length?(s=h?!0:Gt,u()):s!==Gt},c.interpolate=function(h){return arguments.length?(n=h,u()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,u()}}function xy(){return Ru()(Gt,Gt)}function vy(e,t,n,r){var i=Mr(e,t,n),a;switch(r=Pr(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=w1(i,s))&&(r.precision=a),Xh(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=x1(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=y1(i))&&(r.precision=a-(r.type==="%")*2);break}}return mt(r)}function ji(e){var t=e.domain;return e.ticks=function(n){var r=t();return tu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return vy(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],f,l,u=10;for(o<s&&(l=s,s=o,o=l,l=i,i=a,a=l);u-- >0;){if(l=Yh(s,o,n),l===f)return r[i]=s,r[a]=o,t(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;f=l}return e},e}function Ay(){var e=xy();return e.copy=function(){return qo(e,Ay())},zn.apply(e,arguments),ji(e)}function Ey(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Zd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ey(e).unknown(t)},e=arguments.length?Array.from(e,Zd):[0,1],ji(n)}function _y(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Sy(e){return Math.log(e)}function Cy(e){return Math.exp(e)}function e6(e){return-Math.log(-e)}function t6(e){return-Math.exp(-e)}function n6(e){return isFinite(e)?+("1e"+e):e<0?0:e}function r6(e){return e===10?n6:e===Math.E?Math.exp:t=>Math.pow(e,t)}function i6(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ky(e){return(t,n)=>-e(-t,n)}function Qd(e){const t=e(Sy,Cy),n=t.domain;let r=10,i,a;function s(){return i=i6(r),a=r6(r),n()[0]<0?(i=ky(i),a=ky(a),e(e6,t6)):e(Sy,Cy),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const f=n();let l=f[0],u=f[f.length-1];const c=u<l;c&&([l,u]=[u,l]);let h=i(l),d=i(u),p,m;const y=o==null?10:+o;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),l>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/a(-h):p*a(h),!(m<l)){if(m>u)break;w.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/a(-h):p*a(h),!(m<l)){if(m>u)break;w.push(m)}w.length*2<y&&(w=tu(l,u,y))}else w=tu(h,d,Math.min(d-h,y)).map(a);return c?w.reverse():w},t.tickFormat=(o,f)=>{if(o==null&&(o=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Pr(f)).precision==null&&(f.trim=!0),f=mt(f)),o===1/0)return f;const l=Math.max(1,r*o/t.ticks().length);return u=>{let c=u/a(Math.round(i(u)));return c*r<r-.5&&(c*=r),c<=l?f(u):""}},t.nice=()=>n(_y(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Xd(){const e=Qd(Ru()).domain([1,10]);return e.copy=()=>qo(e,Xd()).base(e.base()),zn.apply(e,arguments),e}function Ty(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Iy(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kd(e){var t=1,n=e(Ty(t),Iy(t));return n.constant=function(r){return arguments.length?e(Ty(t=+r),Iy(t)):t},ji(n)}function By(){var e=Kd(Ru());return e.copy=function(){return qo(e,By()).constant(e.constant())},zn.apply(e,arguments)}function Dy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a6(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function s6(e){return e<0?-e*e:e*e}function Jd(e){var t=e(Gt,Gt),n=1;function r(){return n===1?e(Gt,Gt):n===.5?e(a6,s6):e(Dy(n),Dy(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ji(t)}function e0(){var e=Jd(Ru());return e.copy=function(){return qo(e,e0()).exponent(e.exponent())},zn.apply(e,arguments),e}function o6(){return e0.apply(null,arguments).exponent(.5)}function Fy(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=c1(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Rr(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(so),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Fy().domain(e).range(t).unknown(r)},zn.apply(a,arguments)}function Ry(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(f){return f!=null&&f<=f?i[Rr(r,f,0,n)]:a}function o(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,o()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,o()):i.slice()},s.invertExtent=function(f){var l=i.indexOf(f);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},s.unknown=function(f){return arguments.length&&(a=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Ry().domain([e,t]).range(i).unknown(a)},zn.apply(ji(s),arguments)}function My(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Rr(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return My().domain(e).range(t).unknown(n)},zn.apply(i,arguments)}function l6(e){return new Date(e)}function f6(e){return e instanceof Date?+e:+new Date(+e)}function t0(e,t,n,r,i,a,s,o,f,l){var u=xy(),c=u.invert,h=u.domain,d=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),w=l("%a %d"),v=l("%b %d"),S=l("%B"),_=l("%Y");function T(I){return(f(I)<I?d:o(I)<I?p:s(I)<I?m:a(I)<I?y:r(I)<I?i(I)<I?w:v:n(I)<I?S:_)(I)}return u.invert=function(I){return new Date(c(I))},u.domain=function(I){return arguments.length?h(Array.from(I,f6)):h().map(l6)},u.ticks=function(I){var B=h();return e(B[0],B[B.length-1],I??10)},u.tickFormat=function(I,B){return B==null?T:l(B)},u.nice=function(I){var B=h();return(!I||typeof I.range!="function")&&(I=t(B[0],B[B.length-1],I??10)),I?h(_y(B,I)):u},u.copy=function(){return qo(u,t0(e,t,n,r,i,a,s,o,f,l))},u}function u6(){return zn.apply(t0($3,q3,Ln,uo,lo,Lr,ou,au,fr,ad).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function c6(){return zn.apply(t0(V3,j3,On,co,fo,Bi,lu,su,fr,sd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mu(){var e=0,t=1,n,r,i,a,s=Gt,o=!1,f;function l(c){return c==null||isNaN(c=+c)?f:s(i===0?.5:(c=(a(c)-n)*i,o?Math.max(0,Math.min(1,c)):c))}l.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(c){return arguments.length?(o=!!c,l):o},l.interpolator=function(c){return arguments.length?(s=c,l):s};function u(c){return function(h){var d,p;return arguments.length?([d,p]=h,s=c(d,p),l):[s(0),s(1)]}}return l.range=u(Vr),l.rangeRound=u($o),l.unknown=function(c){return arguments.length?(f=c,l):f},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),l}}function jr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n0(){var e=ji(Mu()(Gt));return e.copy=function(){return jr(e,n0())},Ur.apply(e,arguments)}function Py(){var e=Qd(Mu()).domain([1,10]);return e.copy=function(){return jr(e,Py()).base(e.base())},Ur.apply(e,arguments)}function Ly(){var e=Kd(Mu());return e.copy=function(){return jr(e,Ly()).constant(e.constant())},Ur.apply(e,arguments)}function r0(){var e=Jd(Mu());return e.copy=function(){return jr(e,r0()).exponent(e.exponent())},Ur.apply(e,arguments)}function h6(){return r0.apply(null,arguments).exponent(.5)}function Pu(){var e=0,t=.5,n=1,r=1,i,a,s,o,f,l=Gt,u,c=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-a)*(r*m<r*a?o:f),l(c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,n]=m,i=u(e=+e),a=u(t=+t),s=u(n=+n),o=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(l=m,d):l};function p(m){return function(y){var w,v,S;return arguments.length?([w,v,S]=y,l=Wd(m,[w,v,S]),d):[l(0),l(.5),l(1)]}}return d.range=p(Vr),d.rangeRound=p($o),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,i=m(e),a=m(t),s=m(n),o=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function Oy(){var e=ji(Pu()(Gt));return e.copy=function(){return jr(e,Oy())},Ur.apply(e,arguments)}function Ny(){var e=Qd(Pu()).domain([.1,1,10]);return e.copy=function(){return jr(e,Ny()).base(e.base())},Ur.apply(e,arguments)}function zy(){var e=Kd(Pu());return e.copy=function(){return jr(e,zy()).constant(e.constant())},Ur.apply(e,arguments)}function i0(){var e=Jd(Pu());return e.copy=function(){return jr(e,i0()).exponent(e.exponent())},Ur.apply(e,arguments)}function d6(){return i0.apply(null,arguments).exponent(.5)}function a0(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const p6="identity",ja="linear",$r="log",Wo="pow",Zo="sqrt",Lu="symlog",Uy="time",Gy="utc",Hn="sequential",$a="diverging",s0="quantile",Hy="quantize",Vy="threshold",o0="ordinal",l0="point",jy="band",f0="bin-ordinal",st="continuous",Yo="discrete",Qo="discretizing",an="interpolating",$y="temporal";function g6(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function m6(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,s,o,f,l;for(i<r&&(o=r,r=i,i=o),f=0,l=n.length;f<l;++f)n[f]>=r&&n[f]<=i&&(a<0&&(a=f),s=f);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function u0(){const e=Id().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,s=!1,o=0,f=0,l=.5;delete e.unknown;function u(){const c=t().length,h=r[1]<r[0],d=r[1-h],p=a0(c,o,f);let m=r[h-0];i=(d-m)/(p||1),s&&(i=Math.floor(i)),m+=(d-m-i*(c-o))*l,a=i*(1-o),s&&(m=Math.round(m),a=Math.round(a));const y=oo(c).map(w=>m+i*w);return n(h?y.reverse():y)}return e.domain=function(c){return arguments.length?(t(c),u()):t()},e.range=function(c){return arguments.length?(r=[+c[0],+c[1]],u()):r.slice()},e.rangeRound=function(c){return r=[+c[0],+c[1]],s=!0,u()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(c){return arguments.length?(s=!!c,u()):s},e.padding=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),o=f,u()):o},e.paddingInner=function(c){return arguments.length?(o=Math.max(0,Math.min(1,c)),u()):o},e.paddingOuter=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),u()):f},e.align=function(c){return arguments.length?(l=Math.max(0,Math.min(1,c)),u()):l},e.invertRange=function(c){if(c[0]==null||c[1]==null)return;const h=r[1]<r[0],d=h?n().reverse():n(),p=d.length-1;let m=+c[0],y=+c[1],w,v,S;if(!(m!==m||y!==y)&&(y<m&&(S=m,m=y,y=S),!(y<d[0]||m>r[1-h])))return w=Math.max(0,Rr(d,m)-1),v=m===y?w:Rr(d,y)-1,m-d[w]>a+1e-10&&++w,h&&(S=w,w=p-v,v=p-S),w>v?void 0:t().slice(w,v+1)},e.invert=function(c){const h=e.invertRange([c,c]);return h&&h[0]},e.copy=function(){return u0().domain(t()).range(r).round(s).paddingInner(o).paddingOuter(f).align(l)},u()}function qy(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return qy(t())},e}function b6(){return qy(u0().paddingInner(1))}var y6=Array.prototype.map;function w6(e){return y6.call(e,ro)}const x6=Array.prototype.slice;function Wy(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Rr(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=w6(r),n):e.slice()},n.range=function(r){return arguments.length?(t=x6.call(r),n):t.slice()},n.tickFormat=function(r,i){return vy(e[0],vn(e),r??10,i)},n.copy=function(){return Wy().domain(n.domain()).range(n.range())},n}const Ou=new Map,v6=Symbol("vega_scale");function A6(e){return e[v6]=!0,e}function E6(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?g6(a):a.invertExtent?m6(a):void 0),a.type=e,A6(a)};return r.metadata=Xf(Vh(n)),r}function _e(e,t,n){return arguments.length>1?(Ou.set(e,E6(e,t,n)),this):_6(e)?Ou.get(e):void 0}_e(p6,Ey),_e(ja,Ay,st),_e($r,Xd,[st,$r]),_e(Wo,e0,st),_e(Zo,o6,st),_e(Lu,By,st),_e(Uy,u6,[st,$y]),_e(Gy,c6,[st,$y]),_e(Hn,n0,[st,an]),_e(`${Hn}-${ja}`,n0,[st,an]),_e(`${Hn}-${$r}`,Py,[st,an,$r]),_e(`${Hn}-${Wo}`,r0,[st,an]),_e(`${Hn}-${Zo}`,h6,[st,an]),_e(`${Hn}-${Lu}`,Ly,[st,an]),_e(`${$a}-${ja}`,Oy,[st,an]),_e(`${$a}-${$r}`,Ny,[st,an,$r]),_e(`${$a}-${Wo}`,i0,[st,an]),_e(`${$a}-${Zo}`,d6,[st,an]),_e(`${$a}-${Lu}`,zy,[st,an]),_e(s0,Fy,[Qo,s0]),_e(Hy,Ry,Qo),_e(Vy,My,Qo),_e(f0,Wy,[Yo,Qo]),_e(o0,Id,Yo),_e(jy,u0,Yo),_e(l0,b6,Yo);function _6(e){return Ou.has(e)}function Xo(e,t){const n=Ou.get(e);return n&&n.metadata[t]}function yt(e){return Xo(e,st)}function Vn(e){return Xo(e,Yo)}function $i(e){return Xo(e,Qo)}function Zy(e){return Xo(e,$r)}function Nu(e){return Xo(e,an)}function S6(e,t){const n=t[0],r=vn(t)-n;return function(i){return e(n+i*r)}}function zu(e,t,n){return Wd(Yy(t||"rgb",n),e)}function C6(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Yy(e,t){const n=YT[k6(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function k6(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const T6={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},I6={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function Qy(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Xy(e,t){for(const n in e)c0(n,t(e[n]))}const Ky={};Xy(I6,Qy),Xy(T6,e=>zu(Qy(e)));function c0(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ky[e]=t,this):Ky[e]}function B6(){let e=0,t,n=0;const r=new Map,i=a=>(a===t||(n=r.get(a),n===void 0&&(n=e++,r.set(a,n)),t=a),n);return i.addAll=a=>{for(const s of a)i(s)},i.invert=a=>{for(const s of r.entries())if(s[1]==a)return s[0]},i.domain=()=>[...r.keys()],i}function Uu(){const e=t=>t;return e.invert=t=>t,e.copy=Uu,e.invertRange=()=>{},e.type="null",e}class D6{constructor(t){Y(this,wi,void 0);Pt(this,"paramListeners");Y(this,zs,new Map);Y(this,Us,new Map);Y(this,cf,new Map);Y(this,hf,void 0);he(this,hf,t??(()=>{})),he(this,wi,new Map),this.paramListeners=new Map}registerParam(t){if("value"in t&&"expr"in t)throw new Error("Parameter must not have both value and expr: "+t.name);let n;if("value"in t)n=this.allocateSetter(t.name,t.value);else if("expr"in t){const r=this.createExpression(t.expr),i=this.allocateSetter(t.name,r(null));r.addListener(()=>i(r(null))),n=a=>{}}return G(this,cf).set(t.name,t),n}allocateSetter(t,n,r=!1){if(G(this,zs).has(t))throw new Error("Setter already allocated for parameter: "+t);const i=a=>{const s=G(this,wi).get(t);if(a!==s){G(this,wi).set(t,a);const o=this.paramListeners.get(t);if(o&&!r)for(const f of o)f()}};return i(n),G(this,zs).set(t,i),i}getSetter(t){const n=G(this,zs).get(t);if(!n)throw new Error("Setter not found for parameter: "+t);return n}getValue(t){return G(this,wi).get(t)}findValue(t){const n=this.findMediatorForParam(t);return n==null?void 0:n.getValue(t)}get paramConfigs(){return G(this,cf)}findMediatorForParam(t){var n;return G(this,wi).has(t)?this:(n=G(this,hf).call(this))==null?void 0:n.findMediatorForParam(t)}createExpression(t){if(G(this,Us).has(t))return G(this,Us).get(t);const n={},r=Rb(t,n),i=new Map;for(const s of r.globals){const o=this.findMediatorForParam(s);if(!o)throw new Error(`Unknown variable "${s}" in expression: ${t}`);i.set(s,o),Object.defineProperty(n,s,{enumerable:!0,get(){return o.getValue(s)}})}const a=new Set;return r.addListener=s=>{for(const[o,f]of i){const l=f.paramListeners.get(o)??new Set;f.paramListeners.set(o,l),l.add(s),a.add(s)}},r.invalidate=()=>{var s;for(const[o,f]of i)for(const l of a)(s=f.paramListeners.get(o))==null||s.delete(l)},r.identifier=()=>r.code,G(this,Us).set(t,r),r}evaluateAndGet(t){return this.createExpression(t)()}}wi=new WeakMap,zs=new WeakMap,Us=new WeakMap,cf=new WeakMap,hf=new WeakMap;function It(e){return typeof e=="object"&&e!=null&&"expr"in e&&Ue(e.expr)}function Yt(e){if(It(e))throw new Error(`ExprRef ${JSON.stringify(e)} not allowed here. Expected a scalar value.`);return e}function Gu(e,t,n){const r={...t},i=[],a=s=>{i.push(s),i.length===1&&queueMicrotask(()=>{n(i.slice()),i.length=0})};for(const[s,o]of Object.entries(t))if(It(o)){const f=e.createExpression(o.expr);n&&f.addListener(()=>a(s)),Object.defineProperty(r,s,{enumerable:!0,get(){return f()}})}else r[s]=o;return r}function F6(e,t){const n={};t||(t=e.encoding);for(const[r,i]of Object.entries(t)){if(!i)continue;const a=((Qt(i)&&i.resolutionChannel)??(Wa(r)&&r))||void 0,s=e.unitView.getScaleResolution(a);n[r]=R6(e,t[r],s==null?void 0:s.scale,e.unitView.getAccessor(r),r)}return n}function R6(e,t,n,r,i){let a;if(sn(t))if(It(t.value)){const s=e.unitView.paramMediator.createExpression(t.value.expr);a=o=>s(null),a.constant=!0,a.constantValue=!1,a.accessor=r}else{const s=t.value;a=o=>s,a.constant=!0,a.constantValue=!0,a.accessor=void 0}else if(r)if(i=="text")a=s=>{},a.accessor=r,a.constant=r.constant;else{if(!n)if(!Wa(i))n=Uu();else throw new Error(`Missing scale! "${i}": ${JSON.stringify(t)}`);if(a=s=>n(r(s)),Vn(n.type)){const s=B6();s.addAll(n.domain()),a.indexer=s}a.constant=r.constant,a.accessor=r,a.scale=n}else throw new Error(`Missing value or accessor (field, expr, datum) on channel "${i}": ${JSON.stringify(t)}`);return a.invert=n?s=>n.invert(s):s=>{throw new Error("No scale available, cannot invert: "+JSON.stringify(t))},a.channelDef=t,a.applyMetadata=s=>{for(const o in a)o in a&&(s[o]=a[o]);return s},a}function sn(e){return e&&"value"in e}function qi(e){return e&&"field"in e}function Ko(e){return e&&"datum"in e}function Qt(e){return qi(e)||Ko(e)||Hu(e)||Jy(e)}function h0(e,t){const n=e.mark.encoding[t];if(Qt(n))return n;throw new Error("Not a channel def with scale!")}function Jy(e){return e&&"chrom"in e}function Hu(e){return e&&"expr"in e}const qa=["x","y"],M6=["x2","y2"],P6=[...qa,...M6];function ew(e){return qa.includes(e)}function Jo(e){return P6.includes(e)}const d0={x:"x2",y:"y2"},tw=Object.fromEntries(Object.entries(d0).map(e=>[e[1],e[0]]));function el(e){return e in tw}function L6(e){const t=d0[e];if(t)return t;throw new Error(`${e} has no secondary channel!`)}function Wi(e){return tw[e]??e}function qr(e){return["color","fill","stroke"].includes(Wi(e))}function Vu(e){return["shape","squeeze"].includes(e)}function Wa(e){return["x","y","x2","y2","color","fill","stroke","opacity","fillOpacity","strokeOpacity","strokeWidth","size","shape","angle","dx","dy","sample"].includes(e)}function O6(e){switch(e){case"shape":return["circle","square","cross","diamond","triangle-up","triangle-right","triangle-down","triangle-left","tick-up","tick-right","tick-down","tick-left"]}}function nw(e){if(!Vu(e))throw new Error("Not a discrete channel: "+e);const t=new Map(O6(e).map((n,r)=>[n,r]));return n=>{const r=t.get(n);if(r!==void 0)return r;throw new Error(`Invalid value for "${e}" channel: ${n}`)}}function Me(e,t=e){if(/^[A-Za-z0-9_]+$/.test(e)){const n=new Function("datum",`return datum[${JSON.stringify(e)}]`);return Te(n,[e],t)}else return $f(e)}class N6{constructor(){this.accessorCreators=[],this.register(t=>{if(qi(t))try{const n=Me(t.field);return n.constant=!1,n.fields=jf(n),n}catch(n){throw new Error(`Invalid field definition: ${n.message}`)}}),this.register(t=>Hu(t)?z6(t.expr):void 0),this.register(t=>{if(Ko(t)){const r=YC(t.datum);return r.constant=!0,r.fields=[],r}})}register(t){this.accessorCreators.push(t)}createAccessor(t){for(const n of this.accessorCreators){const r=n(t);if(r)return r}}}function z6(e){const n=Rb(e);return n.constant=n.fields.length==0,n}/* @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const p0=5120,tl=5121,g0=5122,m0=5123,b0=5124,y0=5125,w0=5126,U6=32819,G6=32820,H6=33635,V6=5131,j6=33640,$6=35899,q6=35902,W6=36269,Z6=34042,rw={};{const e=rw;e[p0]=Int8Array,e[tl]=Uint8Array,e[g0]=Int16Array,e[m0]=Uint16Array,e[b0]=Int32Array,e[y0]=Uint32Array,e[w0]=Float32Array,e[U6]=Uint16Array,e[G6]=Uint16Array,e[H6]=Uint16Array,e[V6]=Uint16Array,e[j6]=Uint32Array,e[$6]=Uint32Array,e[q6]=Uint32Array,e[W6]=Uint32Array,e[Z6]=Uint32Array}function x0(e){if(e instanceof Int8Array)return p0;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return tl;if(e instanceof Int16Array)return g0;if(e instanceof Uint16Array)return m0;if(e instanceof Int32Array)return b0;if(e instanceof Uint32Array)return y0;if(e instanceof Float32Array)return w0;throw new Error("unsupported typed array type")}function Y6(e){if(e===Int8Array)return p0;if(e===Uint8Array||e===Uint8ClampedArray)return tl;if(e===Int16Array)return g0;if(e===Uint16Array)return m0;if(e===Int32Array)return b0;if(e===Uint32Array)return y0;if(e===Float32Array)return w0;throw new Error("unsupported typed array type")}function Q6(e){const t=rw[e];if(!t)throw new Error("unknown gl type");return t}const ju=typeof SharedArrayBuffer<"u"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function X6(...e){console.error(...e)}function iw(...e){console.warn(...e)}function K6(e,t){return typeof WebGLBuffer<"u"&&t instanceof WebGLBuffer}function aw(e,t){return typeof WebGLRenderbuffer<"u"&&t instanceof WebGLRenderbuffer}function $u(e,t){return typeof WebGLTexture<"u"&&t instanceof WebGLTexture}function J6(e,t){return typeof WebGLSampler<"u"&&t instanceof WebGLSampler}const sw=35044,jn=34962,eI=34963,tI=34660,nI=5120,rI=5121,iI=5122,aI=5123,sI=5124,oI=5125,lI=5126,ow={attribPrefix:""};function lw(e,t,n,r,i){e.bindBuffer(t,n),e.bufferData(t,r,i||sw)}function fw(e,t,n,r){if(K6(e,t))return t;n=n||jn;const i=e.createBuffer();return lw(e,n,i,t,r),i}function uw(e){return e==="indices"}function fI(e){return e instanceof Int8Array||e instanceof Uint8Array}function uI(e){return e===Int8Array||e===Uint8Array}function cI(e){return e.length?e:e.data}const hI=/coord|texture/i,dI=/color|colour/i;function cw(e,t){let n;if(hI.test(e)?n=2:dI.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function pI(e,t){return e.numComponents||e.size||cw(t,cI(e).length)}function v0(e,t){if(ju(e))return e;if(ju(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type;return n||(uw(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function gI(e,t){const n={};return Object.keys(t).forEach(function(r){if(!uw(r)){const i=t[r],a=i.attrib||i.name||i.attribName||ow.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!ju(i.value))throw new Error("array.value is not array or typedarray");n[a]={value:i.value}}else{let s,o,f,l;if(i.buffer&&i.buffer instanceof WebGLBuffer)s=i.buffer,l=i.numComponents||i.size,o=i.type,f=i.normalize;else if(typeof i=="number"||typeof i.data=="number"){const u=i.data||i,c=i.type||Float32Array,h=u*c.BYTES_PER_ELEMENT;o=Y6(c),f=i.normalize!==void 0?i.normalize:uI(c),l=i.numComponents||i.size||cw(r,u),s=e.createBuffer(),e.bindBuffer(jn,s),e.bufferData(jn,h,i.drawType||sw)}else{const u=v0(i,r);s=fw(e,u,void 0,i.drawType),o=x0(u),f=i.normalize!==void 0?i.normalize:fI(u),l=pI(i,r)}n[a]={buffer:s,numComponents:l,type:o,normalize:f,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),e.bindBuffer(jn,null),n}function mI(e,t,n,r){n=v0(n),r!==void 0?(e.bindBuffer(jn,t.buffer),e.bufferSubData(jn,r,n)):lw(e,jn,t.buffer,n,t.drawType)}function bI(e,t){return t===nI||t===rI?1:t===iI||t===aI?2:t===sI||t===oI||t===lI?4:0}const A0=["position","positions","a_position"];function yI(e,t){let n,r;for(r=0;r<A0.length&&(n=A0[r],!(n in t||(n=ow.attribPrefix+n,n in t)));++r);r===A0.length&&(n=Object.keys(t)[0]);const i=t[n];e.bindBuffer(jn,i.buffer);const a=e.getBufferParameter(jn,tI);e.bindBuffer(jn,null);const s=bI(e,i.type),o=a/s,f=i.numComponents||i.size,l=o/f;if(l%1!==0)throw new Error(`numComponents ${f} not correct for length ${length}`);return l}function wI(e,t,n){const r=gI(e,t),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);const a=t.indices;if(a){const s=v0(a,"indices");i.indices=fw(e,s,eI),i.numElements=s.length,i.elementType=x0(s)}else i.numElements||(i.numElements=yI(e,i.attribs));return i}function Za(e){return!!e.texStorage2D}const E0=function(){const e={},t={};function n(r){const i=r.constructor.name;if(!e[i]){for(const a in r)if(typeof r[a]=="number"){const s=t[r[a]];t[r[a]]=s?`${s} | ${a}`:a}e[i]=!0}}return function(i,a){return n(i),t[a]||(typeof a=="number"?`0x${a.toString(16)}`:a)}}(),Wr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Ya=ju,hw=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),dw=6406,$n=6407,je=6408,pw=6409,gw=6410,nl=6402,mw=34041,qu=33071,xI=9728,vI=9729,hr=3553,dr=34067,Zr=32879,Yr=35866,Wu=34069,AI=34070,EI=34071,_I=34072,SI=34073,CI=34074,_0=10241,S0=10240,Zu=10242,Yu=10243,bw=32882,kI=33082,TI=33083,II=33084,BI=33085,C0=3317,yw=3314,ww=32878,xw=3316,vw=3315,Aw=32877,DI=37443,FI=37441,RI=37440,MI=33321,PI=36756,LI=33325,OI=33326,NI=33330,zI=33329,UI=33338,GI=33337,HI=33340,VI=33339,jI=33323,$I=36757,qI=33327,WI=33328,ZI=33336,YI=33335,QI=33332,XI=33331,KI=33334,JI=33333,eB=32849,tB=35905,nB=36194,rB=36758,iB=35898,aB=35901,sB=34843,oB=34837,lB=36221,fB=36239,uB=36215,cB=36233,hB=36209,dB=36227,pB=32856,gB=35907,mB=36759,bB=32855,yB=32854,wB=32857,xB=34842,vB=34836,AB=36220,EB=36238,_B=36975,SB=36214,CB=36232,kB=36226,TB=36208,IB=33189,BB=33190,DB=36012,FB=36013,RB=35056,Qr=5120,$e=5121,Qu=5122,Qa=5123,Xu=5124,Zi=5125,_t=5126,Ew=32819,_w=32820,Sw=33635,Sn=5131,rl=36193,k0=33640,MB=35899,PB=35902,LB=36269,OB=34042,Ku=33319,Xa=33320,Ju=6403,Ka=36244,Ja=36248,Yi=36249;let T0;function ec(e){if(!T0){const t={};t[dw]={textureFormat:dw,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[$e,Sn,rl,_t]},t[pw]={textureFormat:pw,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[$e,Sn,rl,_t]},t[gw]={textureFormat:gw,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[$e,Sn,rl,_t]},t[$n]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[$e,Sn,rl,_t,Sw]},t[je]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[$e,Sn,rl,_t,Ew,_w]},t[nl]={textureFormat:nl,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Zi,Qa]},t[MI]={textureFormat:Ju,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[$e]},t[PI]={textureFormat:Ju,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Qr]},t[LI]={textureFormat:Ju,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[_t,Sn]},t[OI]={textureFormat:Ju,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[_t]},t[NI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[$e]},t[zI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Qr]},t[QI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qa]},t[XI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qu]},t[KI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zi]},t[JI]={textureFormat:Ka,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xu]},t[jI]={textureFormat:Ku,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[$e]},t[$I]={textureFormat:Ku,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Qr]},t[qI]={textureFormat:Ku,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[_t,Sn]},t[WI]={textureFormat:Ku,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[_t]},t[ZI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[$e]},t[YI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qr]},t[UI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qa]},t[GI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qu]},t[HI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Zi]},t[VI]={textureFormat:Xa,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Xu]},t[eB]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[$e]},t[tB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[$e]},t[nB]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[$e,Sw]},t[rB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Qr]},t[iB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Sn,MB]},t[aB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[_t,Sn,PB]},t[sB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[_t,Sn]},t[oB]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_t]},t[lB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[$e]},t[fB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Qr]},t[uB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Qa]},t[cB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Qu]},t[hB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Zi]},t[dB]={textureFormat:Ja,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Xu]},t[pB]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[$e]},t[gB]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[$e]},t[mB]={textureFormat:je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Qr]},t[bB]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[$e,_w,k0]},t[yB]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[$e,Ew]},t[wB]={textureFormat:je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[k0]},t[xB]={textureFormat:je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[_t,Sn]},t[vB]={textureFormat:je,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[_t]},t[AB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$e]},t[EB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qr]},t[_B]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[k0]},t[SB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Qa]},t[CB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Qu]},t[kB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Xu]},t[TB]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Zi]},t[IB]={textureFormat:nl,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Qa,Zi]},t[BB]={textureFormat:nl,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zi]},t[DB]={textureFormat:nl,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_t]},t[RB]={textureFormat:mw,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[OB]},t[FB]={textureFormat:mw,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[LB]},Object.keys(t).forEach(function(n){const r=t[n];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(i,a){const s=r.type[a];r.bytesPerElementMap[s]=i})}),T0=t}return T0[e]}function NB(e,t){const n=ec(e);if(!n)throw"unknown internal format";const r=n.bytesPerElementMap[t];if(r===void 0)throw"unknown internal format";return r}function es(e){const t=ec(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Cw(e){return(e&e-1)===0}function zB(e,t,n,r){if(!Za(e))return Cw(t)&&Cw(n);const i=ec(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function UB(e){const t=ec(e);if(!t)throw"unknown internal format";return t.textureFilterable}function kw(e,t,n){return Ya(t)?x0(t):n||$e}function tc(e,t,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(!n&&!r){const a=Math.sqrt(i/(t===dr?6:1));a%1===0?(n=a,r=a):(n=i,r=1)}else if(r){if(!n&&(n=i/r,n%1))throw"can't guess dimensions"}else if(r=i/n,r%1)throw"can't guess dimensions";return{width:n,height:r}}function ts(e,t){t.colorspaceConversion!==void 0&&e.pixelStorei(DI,t.colorspaceConversion),t.premultiplyAlpha!==void 0&&e.pixelStorei(FI,t.premultiplyAlpha),t.flipY!==void 0&&e.pixelStorei(RI,t.flipY)}function Tw(e){e.pixelStorei(C0,4),Za(e)&&(e.pixelStorei(yw,0),e.pixelStorei(ww,0),e.pixelStorei(xw,0),e.pixelStorei(vw,0),e.pixelStorei(Aw,0))}function GB(e,t,n,r){r.minMag&&(n.call(e,t,_0,r.minMag),n.call(e,t,S0,r.minMag)),r.min&&n.call(e,t,_0,r.min),r.mag&&n.call(e,t,S0,r.mag),r.wrap&&(n.call(e,t,Zu,r.wrap),n.call(e,t,Yu,r.wrap),(t===Zr||J6(e,t))&&n.call(e,t,bw,r.wrap)),r.wrapR&&n.call(e,t,bw,r.wrapR),r.wrapS&&n.call(e,t,Zu,r.wrapS),r.wrapT&&n.call(e,t,Yu,r.wrapT),r.minLod&&n.call(e,t,kI,r.minLod),r.maxLod&&n.call(e,t,TI,r.maxLod),r.baseLevel&&n.call(e,t,II,r.baseLevel),r.maxLevel&&n.call(e,t,BI,r.maxLevel)}function Iw(e,t,n){const r=n.target||hr;e.bindTexture(r,t),GB(e,r,e.texParameteri,n)}function HB(e){return e=e||Wr.textureColor,Ya(e)?e:new Uint8Array([e[0]*255,e[1]*255,e[2]*255,e[3]*255])}function I0(e,t,n,r,i,a){n=n||Wr.textureOptions,a=a||je;const s=n.target||hr;if(r=r||n.width,i=i||n.height,e.bindTexture(s,t),zB(e,r,i,a))e.generateMipmap(s);else{const o=UB(a)?vI:xI;e.texParameteri(s,_0,o),e.texParameteri(s,S0,o),e.texParameteri(s,Zu,qu),e.texParameteri(s,Yu,qu)}}function il(e){return e.auto===!0||e.auto===void 0&&e.level===void 0}function B0(e,t){return t=t||{},t.cubeFaceOrder||[Wu,AI,EI,_I,SI,CI]}function D0(e,t){const r=B0(e,t).map(function(i,a){return{face:i,ndx:a}});return r.sort(function(i,a){return i.face-a.face}),r}function Bw(e,t,n,r){r=r||Wr.textureOptions;const i=r.target||hr,a=r.level||0;let s=n.width,o=n.height;const f=r.internalFormat||r.format||je,l=es(f),u=r.format||l.format,c=r.type||l.type;if(ts(e,r),e.bindTexture(i,t),i===dr){const h=n.width,d=n.height;let p,m;if(h/6===d)p=d,m=[0,0,1,0,2,0,3,0,4,0,5,0];else if(d/6===h)p=h,m=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===d/2)p=h/3,m=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===d/3)p=h/2,m=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);const y=hw();y?(y.canvas.width=p,y.canvas.height=p,s=p,o=p,D0(e,r).forEach(function(w){const v=m[w.ndx*2+0]*p,S=m[w.ndx*2+1]*p;y.drawImage(n,v,S,p,p,0,0,p,p),e.texImage2D(w.face,a,f,u,c,y.canvas)}),y.canvas.width=1,y.canvas.height=1):typeof createImageBitmap<"u"&&(s=p,o=p,D0(e,r).forEach(function(w){const v=m[w.ndx*2+0]*p,S=m[w.ndx*2+1]*p;e.texImage2D(w.face,a,f,p,p,0,u,c,null),createImageBitmap(n,v,S,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(_){ts(e,r),e.bindTexture(i,t),e.texImage2D(w.face,a,f,u,c,_),il(r)&&I0(e,t,r,s,o,f)})}))}else if(i===Zr||i===Yr){const h=Math.min(n.width,n.height),d=Math.max(n.width,n.height),p=d/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const m=n.width===d?1:0,y=n.height===d?1:0;e.pixelStorei(C0,1),e.pixelStorei(yw,n.width),e.pixelStorei(ww,0),e.pixelStorei(Aw,0),e.texImage3D(i,a,f,h,h,h,0,u,c,null);for(let w=0;w<p;++w){const v=w*h*m,S=w*h*y;e.pixelStorei(xw,v),e.pixelStorei(vw,S),e.texSubImage3D(i,a,0,0,w,h,h,1,u,c,n)}Tw(e)}else e.texImage2D(i,a,f,u,c,n);il(r)&&I0(e,t,r,s,o,f),Iw(e,t,r)}function al(){}function VB(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}else{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}function jB(e,t){return t===void 0&&!VB(e)?"anonymous":t}function $B(e,t,n){n=n||al;let r;if(t=t!==void 0?t:Wr.crossOrigin,t=jB(e,t),typeof Image<"u"){r=new Image,t!==void 0&&(r.crossOrigin=t);const i=function(){r.removeEventListener("error",a),r.removeEventListener("load",s),r=null},a=function(){const f="couldn't load image: "+e;X6(f),n(f,r),i()},s=function(){n(null,r),i()};return r.addEventListener("error",a),r.addEventListener("load",s),r.src=e,r}else if(typeof ImageBitmap<"u"){let i,a;const s=function(){n(i,a)},o={};t&&(o.mode="cors"),fetch(e,o).then(function(f){if(!f.ok)throw f;return f.blob()}).then(function(f){return createImageBitmap(f,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(f){a=f,setTimeout(s)}).catch(function(f){i=f,setTimeout(s)}),r=null}return r}function Dw(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function F0(e,t,n){return Dw(e)?(setTimeout(function(){n(null,e)}),e):$B(e,t,n)}function R0(e,t,n){n=n||Wr.textureOptions;const r=n.target||hr;if(e.bindTexture(r,t),n.color===!1)return;const i=HB(n.color);if(r===dr)for(let a=0;a<6;++a)e.texImage2D(Wu+a,0,je,1,1,0,je,$e,i);else r===Zr||r===Yr?e.texImage3D(r,0,je,1,1,1,0,je,$e,i):e.texImage2D(r,0,je,1,1,0,je,$e,i)}function qB(e,t,n,r){return r=r||al,n=n||Wr.textureOptions,R0(e,t,n),n=Object.assign({},n),F0(n.src,n.crossOrigin,function(a,s){a?r(a,t,s):(Bw(e,t,s,n),r(null,t,s))})}function WB(e,t,n,r){r=r||al;const i=n.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const a=n.level||0,s=n.internalFormat||n.format||je,o=es(s),f=n.format||o.format,l=n.type||$e,u=n.target||hr;if(u!==dr)throw"target must be TEXTURE_CUBE_MAP";R0(e,t,n),n=Object.assign({},n);let c=6;const h=[],d=B0(e,n);let p;function m(y){return function(w,v){--c,w?h.push(w):v.width!==v.height?h.push("cubemap face img is not a square: "+v.src):(ts(e,n),e.bindTexture(u,t),c===5?B0().forEach(function(S){e.texImage2D(S,a,s,f,l,v)}):e.texImage2D(y,a,s,f,l,v),il(n)&&e.generateMipmap(u)),c===0&&r(h.length?h:void 0,t,p)}}p=i.map(function(y,w){return F0(y,n.crossOrigin,m(d[w]))})}function ZB(e,t,n,r){r=r||al;const i=n.src,a=n.internalFormat||n.format||je,s=es(a),o=n.format||s.format,f=n.type||$e,l=n.target||Yr;if(l!==Zr&&l!==Yr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";R0(e,t,n),n=Object.assign({},n);let u=i.length;const c=[];let h;const d=n.level||0;let p=n.width,m=n.height;const y=i.length;let w=!0;function v(S){return function(_,T){if(--u,_)c.push(_);else{if(ts(e,n),e.bindTexture(l,t),w){w=!1,p=n.width||T.width,m=n.height||T.height,e.texImage3D(l,d,a,p,m,y,0,o,f,null);for(let I=0;I<y;++I)e.texSubImage3D(l,d,0,0,I,p,m,1,o,f,T)}else{let I=T,B;(T.width!==p||T.height!==m)&&(B=hw(),I=B.canvas,B.canvas.width=p,B.canvas.height=m,B.drawImage(T,0,0,p,m)),e.texSubImage3D(l,d,0,0,S,p,m,1,o,f,I),B&&I===B.canvas&&(B.canvas.width=0,B.canvas.height=0)}il(n)&&e.generateMipmap(l)}u===0&&r(c.length?c:void 0,t,h)}}h=i.map(function(S,_){return F0(S,n.crossOrigin,v(_))})}function Fw(e,t,n,r){r=r||Wr.textureOptions;const i=r.target||hr;e.bindTexture(i,t);let a=r.width,s=r.height,o=r.depth;const f=r.level||0,l=r.internalFormat||r.format||je,u=es(l),c=r.format||u.format,h=r.type||kw(e,n,u.type);if(Ya(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const y=Q6(h);n=new y(n)}const d=NB(l,h),p=n.byteLength/d;if(p%1)throw"length wrong size for format: "+E0(e,c);let m;if(i===Zr||i===Yr)if(!a&&!s&&!o){const y=Math.cbrt(p);if(y%1!==0)throw"can't guess cube size of array of numElements: "+p;a=y,s=y,o=y}else a&&(!s||!o)?(m=tc(e,i,s,o,p/a),s=m.width,o=m.height):s&&(!a||!o)?(m=tc(e,i,a,o,p/s),a=m.width,o=m.height):(m=tc(e,i,a,s,p/o),a=m.width,s=m.height);else m=tc(e,i,a,s,p),a=m.width,s=m.height;if(Tw(e),e.pixelStorei(C0,r.unpackAlignment||1),ts(e,r),i===dr){const y=d/n.BYTES_PER_ELEMENT,w=p/6*y;D0(e,r).forEach(v=>{const S=w*v.ndx,_=n.subarray(S,S+w);e.texImage2D(v.face,f,l,a,s,0,c,h,_)})}else i===Zr||i===Yr?e.texImage3D(i,f,l,a,s,o,0,c,h,n):e.texImage2D(i,f,l,a,s,0,c,h,n);return{width:a,height:s,depth:o,type:h}}function YB(e,t,n){const r=n.target||hr;e.bindTexture(r,t);const i=n.level||0,a=n.internalFormat||n.format||je,s=es(a),o=n.format||s.format,f=n.type||s.type;if(ts(e,n),r===dr)for(let l=0;l<6;++l)e.texImage2D(Wu+l,i,a,n.width,n.height,0,o,f,null);else r===Zr||r===Yr?e.texImage3D(r,i,a,n.width,n.height,n.depth,0,o,f,null):e.texImage2D(r,i,a,n.width,n.height,0,o,f,null)}function sl(e,t,n){n=n||al,t=t||Wr.textureOptions;const r=e.createTexture(),i=t.target||hr;let a=t.width||1,s=t.height||1;const o=t.internalFormat||je;e.bindTexture(i,r),i===dr&&(e.texParameteri(i,Zu,qu),e.texParameteri(i,Yu,qu));let f=t.src;if(f)if(typeof f=="function"&&(f=f(e,t)),typeof f=="string")qB(e,r,t,n);else if(Ya(f)||Array.isArray(f)&&(typeof f[0]=="number"||Array.isArray(f[0])||Ya(f[0]))){const l=Fw(e,r,f,t);a=l.width,s=l.height}else Array.isArray(f)&&(typeof f[0]=="string"||Dw(f[0]))?i===dr?WB(e,r,t,n):ZB(e,r,t,n):(Bw(e,r,f,t),a=f.width,s=f.height);else YB(e,r,t);return il(t)&&I0(e,r,t,a,s,o),Iw(e,r,t),r}function QB(e,t,n,r,i,a){r=r||n.width,i=i||n.height,a=a||n.depth;const s=n.target||hr;e.bindTexture(s,t);const o=n.level||0,f=n.internalFormat||n.format||je,l=es(f),u=n.format||l.format;let c;const h=n.src;if(h&&(Ya(h)||Array.isArray(h)&&typeof h[0]=="number")?c=n.type||kw(e,h,l.type):c=n.type||l.type,s===dr)for(let d=0;d<6;++d)e.texImage2D(Wu+d,o,f,r,i,0,u,c,null);else s===Zr||s===Yr?e.texImage3D(s,o,f,r,i,a,0,u,c,null):e.texImage2D(s,o,f,r,i,0,u,c,null)}const XB=iw,nc=33984,KB=35048,rc=34962,JB=34963,M0=35345,Rw=35718,eD=35721,tD=35971,nD=35382,rD=35396,iD=35398,aD=35392,sD=35395,ic=5126,Mw=35664,Pw=35665,Lw=35666,P0=5124,Ow=35667,Nw=35668,zw=35669,Uw=35670,Gw=35671,Hw=35672,Vw=35673,jw=35674,$w=35675,qw=35676,oD=35678,lD=35680,fD=35679,uD=35682,cD=35685,hD=35686,dD=35687,pD=35688,gD=35689,mD=35690,bD=36289,yD=36292,wD=36293,L0=5125,Ww=36294,Zw=36295,Yw=36296,xD=36298,vD=36299,AD=36300,ED=36303,_D=36306,SD=36307,CD=36308,kD=36311,ac=3553,sc=34067,O0=32879,oc=35866,le={};function Qw(e,t){return le[t].bindPoint}function TD(e,t){return function(n){e.uniform1f(t,n)}}function ID(e,t){return function(n){e.uniform1fv(t,n)}}function BD(e,t){return function(n){e.uniform2fv(t,n)}}function DD(e,t){return function(n){e.uniform3fv(t,n)}}function FD(e,t){return function(n){e.uniform4fv(t,n)}}function Xw(e,t){return function(n){e.uniform1i(t,n)}}function Kw(e,t){return function(n){e.uniform1iv(t,n)}}function Jw(e,t){return function(n){e.uniform2iv(t,n)}}function ex(e,t){return function(n){e.uniform3iv(t,n)}}function tx(e,t){return function(n){e.uniform4iv(t,n)}}function RD(e,t){return function(n){e.uniform1ui(t,n)}}function MD(e,t){return function(n){e.uniform1uiv(t,n)}}function PD(e,t){return function(n){e.uniform2uiv(t,n)}}function LD(e,t){return function(n){e.uniform3uiv(t,n)}}function OD(e,t){return function(n){e.uniform4uiv(t,n)}}function ND(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function zD(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function UD(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function GD(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function HD(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function VD(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function jD(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function $D(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function qD(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function Bt(e,t,n,r){const i=Qw(e,t);return Za(e)?function(a){let s,o;$u(e,a)?(s=a,o=null):(s=a.texture,o=a.sampler),e.uniform1i(r,n),e.activeTexture(nc+n),e.bindTexture(i,s),e.bindSampler(n,o)}:function(a){e.uniform1i(r,n),e.activeTexture(nc+n),e.bindTexture(i,a)}}function Dt(e,t,n,r,i){const a=Qw(e,t),s=new Int32Array(i);for(let o=0;o<i;++o)s[o]=n+o;return Za(e)?function(o){e.uniform1iv(r,s),o.forEach(function(f,l){e.activeTexture(nc+s[l]);let u,c;$u(e,f)?(u=f,c=null):(u=f.texture,c=f.sampler),e.bindSampler(n,c),e.bindTexture(a,u)})}:function(o){e.uniform1iv(r,s),o.forEach(function(f,l){e.activeTexture(nc+s[l]),e.bindTexture(a,f)})}}le[ic]={Type:Float32Array,size:4,setter:TD,arraySetter:ID},le[Mw]={Type:Float32Array,size:8,setter:BD,cols:2},le[Pw]={Type:Float32Array,size:12,setter:DD,cols:3},le[Lw]={Type:Float32Array,size:16,setter:FD,cols:4},le[P0]={Type:Int32Array,size:4,setter:Xw,arraySetter:Kw},le[Ow]={Type:Int32Array,size:8,setter:Jw,cols:2},le[Nw]={Type:Int32Array,size:12,setter:ex,cols:3},le[zw]={Type:Int32Array,size:16,setter:tx,cols:4},le[L0]={Type:Uint32Array,size:4,setter:RD,arraySetter:MD},le[Ww]={Type:Uint32Array,size:8,setter:PD,cols:2},le[Zw]={Type:Uint32Array,size:12,setter:LD,cols:3},le[Yw]={Type:Uint32Array,size:16,setter:OD,cols:4},le[Uw]={Type:Uint32Array,size:4,setter:Xw,arraySetter:Kw},le[Gw]={Type:Uint32Array,size:8,setter:Jw,cols:2},le[Hw]={Type:Uint32Array,size:12,setter:ex,cols:3},le[Vw]={Type:Uint32Array,size:16,setter:tx,cols:4},le[jw]={Type:Float32Array,size:32,setter:ND,rows:2,cols:2},le[$w]={Type:Float32Array,size:48,setter:zD,rows:3,cols:3},le[qw]={Type:Float32Array,size:64,setter:UD,rows:4,cols:4},le[cD]={Type:Float32Array,size:32,setter:GD,rows:2,cols:3},le[hD]={Type:Float32Array,size:32,setter:VD,rows:2,cols:4},le[dD]={Type:Float32Array,size:48,setter:HD,rows:3,cols:2},le[pD]={Type:Float32Array,size:48,setter:$D,rows:3,cols:4},le[gD]={Type:Float32Array,size:64,setter:jD,rows:4,cols:2},le[mD]={Type:Float32Array,size:64,setter:qD,rows:4,cols:3},le[oD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:ac},le[lD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:sc},le[fD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:O0},le[uD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:ac},le[bD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:oc},le[yD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:oc},le[wD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:sc},le[xD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:ac},le[vD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:O0},le[AD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:sc},le[ED]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:oc},le[_D]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:ac},le[SD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:O0},le[CD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:sc},le[kD]={Type:null,size:0,setter:Bt,arraySetter:Dt,bindPoint:oc};function lc(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(rc,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||ic,n.normalize||!1,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function Xr(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(rc,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||P0,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function fc(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(rc,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||L0,n.stride||0,n.offset||0),n.divisor!==void 0&&e.vertexAttribDivisor(t,n.divisor)}}function N0(e,t,n){const r=n.size,i=n.count;return function(a){e.bindBuffer(rc,a.buffer);const s=a.size||a.numComponents||r,o=s/i,f=a.type||ic,u=le[f].size*s,c=a.normalize||!1,h=a.offset||0,d=u/i;for(let p=0;p<i;++p)e.enableVertexAttribArray(t+p),e.vertexAttribPointer(t+p,o,f,c,u,h+d*p),a.divisor!==void 0&&e.vertexAttribDivisor(t+p,a.divisor)}}const it={};it[ic]={size:4,setter:lc},it[Mw]={size:8,setter:lc},it[Pw]={size:12,setter:lc},it[Lw]={size:16,setter:lc},it[P0]={size:4,setter:Xr},it[Ow]={size:8,setter:Xr},it[Nw]={size:12,setter:Xr},it[zw]={size:16,setter:Xr},it[L0]={size:4,setter:fc},it[Ww]={size:8,setter:fc},it[Zw]={size:12,setter:fc},it[Yw]={size:16,setter:fc},it[Uw]={size:4,setter:Xr},it[Gw]={size:8,setter:Xr},it[Hw]={size:12,setter:Xr},it[Vw]={size:16,setter:Xr},it[jw]={size:4,setter:N0,count:2},it[$w]={size:9,setter:N0,count:3},it[qw]={size:16,setter:N0,count:4};function nx(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const WD=/(\.|\[|]|\w+)/g,ZD=e=>e>="0"&&e<="9";function rx(e,t,n,r){const i=e.split(WD).filter(o=>o!=="");let a=0,s="";for(;;){const o=i[a++];s+=o;const f=ZD(o[0]),l=f?parseInt(o):o;if(f&&(s+=i[a++]),a===i.length){n[l]=t;break}else{const c=i[a++],h=c==="[",d=n[l]||(h?[]:{});n[l]=d,n=d,r[s]=r[s]||function(p){return function(m){lx(p,m)}}(d),s+=c}}}function YD(e,t){let n=0;function r(o,f,l){const u=f.name.endsWith("[0]"),c=f.type,h=le[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let d;if(h.bindPoint){const p=n;n+=f.size,u?d=h.arraySetter(e,c,p,l,f.size):d=h.setter(e,c,p,l,f.size)}else h.arraySetter&&u?d=h.arraySetter(e,l):d=h.setter(e,l);return d.location=l,d}const i={},a={},s=e.getProgramParameter(t,Rw);for(let o=0;o<s;++o){const f=e.getActiveUniform(t,o);if(nx(f))continue;let l=f.name;l.endsWith("[0]")&&(l=l.substr(0,l.length-3));const u=e.getUniformLocation(t,f.name);if(u){const c=r(t,f,u);i[l]=c,rx(l,c,a,i)}}return i}function QD(e,t){const n={},r=e.getProgramParameter(t,tD);for(let i=0;i<r;++i){const a=e.getTransformFeedbackVarying(t,i);n[a.name]={index:i,type:a.type,size:a.size}}return n}function XD(e,t){const n=e.getProgramParameter(t,Rw),r=[],i=[];for(let o=0;o<n;++o){i.push(o),r.push({});const f=e.getActiveUniform(t,o);r[o].name=f.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(o){const f=o[0],l=o[1];e.getActiveUniforms(t,i,e[f]).forEach(function(u,c){r[c][l]=u})});const a={},s=e.getProgramParameter(t,nD);for(let o=0;o<s;++o){const f=e.getActiveUniformBlockName(t,o),l={index:e.getUniformBlockIndex(t,f),usedByVertexShader:e.getActiveUniformBlockParameter(t,o,rD),usedByFragmentShader:e.getActiveUniformBlockParameter(t,o,iD),size:e.getActiveUniformBlockParameter(t,o,aD),uniformIndices:e.getActiveUniformBlockParameter(t,o,sD)};l.used=l.usedByVertexShader||l.usedByFragmentShader,a[f]=l}return{blockSpecs:a,uniformData:r}}const ix=/\[\d+\]\.$/,KD=(e,t)=>((e+(t-1))/t|0)*t;function JD(e,t,n,r){if(t||n){r=r||1;const a=e.length/4;return function(s){let o=0,f=0;for(let l=0;l<a;++l){for(let u=0;u<r;++u)e[o++]=s[f++];o+=4-r}}}else return function(i){i.length?e.set(i):e[0]=i}}function eF(e,t,n,r){const i=n.blockSpecs,a=n.uniformData,s=i[r];if(!s)return XB("no uniform block object named:",r),{name:r,uniforms:{}};const o=new ArrayBuffer(s.size),f=e.createBuffer(),l=s.index;e.bindBuffer(M0,f),e.uniformBlockBinding(t,s.index,l);let u=r+".";ix.test(u)&&(u=u.replace(ix,"."));const c={},h={},d={};return s.uniformIndices.forEach(function(p){const m=a[p];let y=m.name;y.startsWith(u)&&(y=y.substr(u.length));const w=y.endsWith("[0]");w&&(y=y.substr(0,y.length-3));const v=le[m.type],S=v.Type,_=w?KD(v.size,16)*m.size:v.size*m.size,T=new S(o,m.offset,_/S.BYTES_PER_ELEMENT);c[y]=T;const I=JD(T,w,v.rows,v.cols);h[y]=I,rx(y,I,d,h)}),{name:r,array:o,asFloat:new Float32Array(o),buffer:f,uniforms:c,setters:h}}function ax(e,t,n){return eF(e,t.program,t.uniformBlockSpec,n)}function sx(e,t,n){const i=(t.uniformBlockSpec||t).blockSpecs[n.name];if(i){const a=i.index;return e.bindBufferRange(M0,a,n.buffer,n.offset||0,n.array.byteLength),!0}return!1}function ox(e,t,n){sx(e,t,n)&&e.bufferData(M0,n.array,KB)}function ol(e,t){const n=e.setters;for(const r in t){const i=n[r];if(i){const a=t[r];i(a)}}}function lx(e,t){for(const n in t){const r=e[n];typeof r=="function"?r(t[n]):lx(e[n],t[n])}}function ns(e,...t){const n=e.uniformSetters||e,r=t.length;for(let i=0;i<r;++i){const a=t[i];if(Array.isArray(a)){const s=a.length;for(let o=0;o<s;++o)ns(n,a[o])}else for(const s in a){const o=n[s];o&&o(a[s])}}}function tF(e,t){const n={},r=e.getProgramParameter(t,eD);for(let i=0;i<r;++i){const a=e.getActiveAttrib(t,i);if(nx(a))continue;const s=e.getAttribLocation(t,a.name),o=it[a.type],f=o.setter(e,s,o);f.location=s,n[a.name]=f}return n}function nF(e,t){for(const n in t){const r=e[n];r&&r(t[n])}}function Qi(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(nF(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(JB,n.indices))}function rF(e,t){const n=YD(e,t),r=tF(e,t),i={program:t,uniformSetters:n,attribSetters:r};return Za(e)&&(i.uniformBlockSpec=XD(e,t),i.transformFeedbackInfo=QD(e,t)),i}const iF=4,fx=5123;function uc(e,t,n,r,i,a){n=n===void 0?iF:n;const s=t.indices,o=t.elementType,f=r===void 0?t.numElements:r;i=i===void 0?0:i,o||s?a!==void 0?e.drawElementsInstanced(n,f,o===void 0?fx:t.elementType,i,a):e.drawElements(n,f,o===void 0?fx:t.elementType,i):a!==void 0?e.drawArraysInstanced(n,i,f,a):e.drawArrays(n,i,f)}const aF=36160,Xi=36161,sF=3553,oF=5121,lF=6402,fF=6408,uF=33190,cF=36012,hF=35056,dF=36013,pF=32854,gF=32855,mF=36194,ux=33189,cx=6401,hx=36168,z0=34041,bF=36064,cc=36096,dx=36128,U0=33306,G0=33071,H0=9729,px=[{format:fF,type:oF,min:H0,wrap:G0},{format:z0}],Cn={};Cn[z0]=U0,Cn[cx]=dx,Cn[hx]=dx,Cn[lF]=cc,Cn[ux]=cc,Cn[uF]=cc,Cn[cF]=cc,Cn[hF]=U0,Cn[dF]=U0;function yF(e,t){return Cn[e]||Cn[t]}const Kr={};Kr[pF]=!0,Kr[gF]=!0,Kr[mF]=!0,Kr[z0]=!0,Kr[ux]=!0,Kr[cx]=!0,Kr[hx]=!0;function wF(e){return Kr[e]}function xF(e,t,n,r){const i=aF,a=e.createFramebuffer();e.bindFramebuffer(i,a),n=n||e.drawingBufferWidth,r=r||e.drawingBufferHeight,t=t||px;let s=0;const o={framebuffer:a,attachments:[],width:n,height:r};return t.forEach(function(f){let l=f.attachment;const u=f.samples,c=f.format;let h=f.attachmentPoint||yF(c,f.internalFormat);if(h||(h=bF+s++),!l)if(u!==void 0||wF(c))l=e.createRenderbuffer(),e.bindRenderbuffer(Xi,l),u>1?e.renderbufferStorageMultisample(Xi,u,c,n,r):e.renderbufferStorage(Xi,c,n,r);else{const d=Object.assign({},f);d.width=n,d.height=r,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||H0,d.mag=d.mag||d.minMag||H0,d.wrapS=d.wrapS||d.wrap||G0,d.wrapT=d.wrapT||d.wrap||G0),l=sl(e,d)}if(aw(e,l))e.framebufferRenderbuffer(i,h,Xi,l);else if($u(e,l))f.layer!==void 0?e.framebufferTextureLayer(i,h,l,f.level||0,f.layer):e.framebufferTexture2D(i,h,f.target||sF,l,f.level||0);else throw new Error("unknown attachment type");o.attachments.push(l)}),o}function vF(e,t,n,r,i){r=r||e.drawingBufferWidth,i=i||e.drawingBufferHeight,t.width=r,t.height=i,n=n||px,n.forEach(function(a,s){const o=t.attachments[s],f=a.format,l=a.samples;if(l!==void 0||aw(e,o))e.bindRenderbuffer(Xi,o),l>1?e.renderbufferStorageMultisample(Xi,l,f,r,i):e.renderbufferStorage(Xi,f,r,i);else if($u(e,o))QB(e,o,a,r,i);else throw new Error("unknown attachment type")})}function AF(e,t,n){const r=e.createVertexArray();return e.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(i){Qi(e,i,n)}),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:r}}const EF=/^(.*?)_/;function _F(e,t){E0(e,0);const n=e.getExtension(t);if(n){const r={},i=EF.exec(t)[1],a="_"+i;for(const s in n){const o=n[s],f=typeof o=="function",l=f?i:a;let u=s;s.endsWith(l)&&(u=s.substring(0,s.length-l.length)),e[u]!==void 0?!f&&e[u]!==o&&iw(u,e[u],o,s):f?e[u]=function(c){return function(){return c.apply(n,arguments)}}(o):(e[u]=o,r[u]=o)}r.constructor={name:n.constructor.name},E0(r,0)}return n}const gx=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function mx(e){for(let t=0;t<gx.length;++t)_F(e,gx[t])}function SF(e,t){const n=["webgl2","webgl","experimental-webgl"];let r=null;for(let i=0;i<n.length;++i)if(r=e.getContext(n[i],t),r){mx(r);break}return r}function CF(e,t){return SF(e,t)}const kF=`out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out float vHalfStrokeWidth;
out vec4 vCornerRadii;

#if defined(ROUNDED_CORNERS) || defined(STROKED)
/** Position for SDF-strokes */
out vec2 vPosInPixels;
#endif

/** Size of the rect in pixels */
out vec2 vHalfSizeInPixels;

/**
 * Clamps the minimumSize and returns an opacity that reflects the amount of clamping.
 */
float clampMinSize(inout float pos, float frac, float size, float minSize) {
    if (minSize > 0.0 && abs(size) < minSize) {
        pos += (frac - 0.5) * (minSize * sign(size) - size);
        return abs(size) / minSize;
    }

    return 1.0;
}

void sort(inout float a, inout float b) {
    if (a > b) {
        float tmp = b;
        b = a;
        a = tmp;
    }
}

/**
 * The vertex position wrt the rectangle specified by (x, x2, y, y2).
 * [0, 0] = [x, y], [1, 1] = [x2, y2]. 
 * The x or y component may contain fractional values if the rectangle 
 * have been tessellated.
 */
vec2 getVertexPos() {
    int index = gl_VertexID % 6;
    return vec2(
        index == 0 || index == 1 || index == 3 ? 0.0 : 1.0,
        index == 0 || index == 1 || index == 2 ? 0.0 : 1.0
    );
    
}

void main(void) {
    vec2 frac = getVertexPos();

    vec2 normalizedMinSize = vec2(uMinWidth, uMinHeight) / uViewportSize;
    vec4 cornerRadii = vec4(
        uCornerRadiusTopRight,
        uCornerRadiusBottomRight,
        uCornerRadiusBottomLeft,
        uCornerRadiusTopLeft
    );

    float x = getScaled_x();
    float x2 = getScaled_x2();
    float y = getScaled_y();
    float y2 = getScaled_y2();

    sort(x, x2);
    sort(y, y2);

    // Clamp x to prevent precision artifacts when the scale is zoomed very close.
	// TODO: clamp y as well
	float clampMargin = 1.0;
    vec2 pos1 = vec2(clamp(x, 0.0 - clampMargin, 1.0 + clampMargin), y);
    vec2 pos2 = vec2(clamp(x2, 0.0 - clampMargin, 1.0 + clampMargin), y2);

    vec2 size = pos2 - pos1;

    if (size.x <= 0.0 || size.y <= 0.0) {
        // Early exit. May increase performance or not...
        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
        return;
    }

    vec2 pos = pos1 + frac * size;

    size.y *= getSampleFacetHeight(pos);

    // Clamp to minimum size, optionally compensate with opacity
    float opaFactor = uViewOpacity * max(uMinOpacity,
        clampMinSize(pos.x, frac.x, size.x, normalizedMinSize.x) *
        clampMinSize(pos.y, frac.y, size.y, normalizedMinSize.y));

    pos = applySampleFacet(pos);

#if defined(ROUNDED_CORNERS) || defined(STROKED)
    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = 1.0 / uDevicePixelRatio;
    float strokeWidth = getScaled_strokeWidth();
    float strokeOpacity = getScaled_strokeOpacity() * opaFactor;

    vec2 centeredFrac = frac - 0.5;
    vec2 expand = centeredFrac * (strokeWidth + aaPadding) / uViewportSize;
    pos += expand;

    vec2 sizeInPixels = size * uViewportSize;
    vPosInPixels = (centeredFrac + expand / size) * sizeInPixels;

    vHalfSizeInPixels = sizeInPixels / 2.0;

    vCornerRadii = min(cornerRadii, min(vHalfSizeInPixels.x, vHalfSizeInPixels.y));
    vHalfStrokeWidth = strokeWidth / 2.0;
    vStrokeColor = vec4(getScaled_stroke() * strokeOpacity, strokeOpacity);
#endif

    gl_Position = unitToNdc(pos);

    float fillOpacity = getScaled_fillOpacity() * opaFactor;
    vFillColor = vec4(getScaled_fill() * fillOpacity, fillOpacity);

    setupPicking();
}
`,TF=`#if defined(ROUNDED_CORNERS) || defined(STROKED)
in vec2 vPosInPixels;
#endif

in vec2 vHalfSizeInPixels;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in float vHalfStrokeWidth;
in vec4 vCornerRadii;

out lowp vec4 fragColor;

// Source: https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
float sdRoundedBox(vec2 p, vec2 b, vec4 r) {
    r.xy = p.x > 0.0 ? r.xy : r.zw;
    r.x  = p.y > 0.0 ? r.x  : r.y;
    vec2 q = abs(p) - b + r.x;
    return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;
}

// Not a true SDF. Makes the corners of strokes sharp and is faster.
float sdSharpBox(vec2 p, vec2 b) {
    vec2 q = abs(p) - b;
    return max(q.x, q.y);
}

void main(void) {

#if defined(ROUNDED_CORNERS) || defined(STROKED)
#ifdef ROUNDED_CORNERS
    // Distance from rectangle's edge in pixels. Negative inside the rectangle.
    float d = sdRoundedBox(vPosInPixels, vHalfSizeInPixels, vCornerRadii);
#else
    float d = sdSharpBox(vPosInPixels, vHalfSizeInPixels);
#endif

    fragColor = distanceToColor(d, vFillColor, vStrokeColor, vHalfStrokeWidth);

    if (fragColor.a == 0.0) {
        discard;
    }
#else
    // The trivial, non-decorated case
    fragColor = vFillColor;
#endif

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,IF=`layout(std140) uniform Mark {
    /** Minimum size (width, height) of the displayed rectangle in pixels */
    uniform float uMinWidth;
    uniform float uMinHeight;

    /** Minimum opacity for the size clamping */
    uniform float uMinOpacity;

    uniform float uCornerRadiusTopRight;
    uniform float uCornerRadiusBottomRight;
    uniform float uCornerRadiusTopLeft;
    uniform float uCornerRadiusBottomLeft;

#pragma markUniforms
};
`,bx="attr_",BF="uDomain_",DF="range_",yx="scale_",V0="getScaled_",j0="uRangeTexture_",wx=3402823466e29;function FF(e){const t=e.match(/^(?:(\w+)-)?(\w+)$/);if(!t)throw new Error("Not a scale type: "+e);return{family:t[1]||"continuous",transform:t[2]}}function RF(e,t){let n;if(Vu(e))n=Ki(nw(e)(t));else if(Ue(t))if(qr(e))n=LF(t);else throw new Error(`String values are not supported on the "${e}" channel: ${t}`);else if(io(t))n=Ki(t?1:0);else if(t===null)if(qr(e))n=Ki([0,0,0]);else throw new Error(`null value is not supported on the "${e}" chanel.`);else n=Ki(t);return`
#define ${e}_DEFINED
${n.type} ${V0}${e}() {
    // Constant value
    return ${n};
}`}function MF(e){let t="float",n=s=>s;qr(e)&&(t="vec3",n=s=>Ax(s));const r=`u${UF(e)}`,i=`    // Dynamic value
    uniform ${t} ${r};`;let a=`
#define ${e}_DEFINED
${t} ${V0}${e}() {
    // Dynamic value
    return ${r};
}`;return{channel:e,uniformName:r,uniformGlsl:i,scaleGlsl:a,adjuster:n}}function PF(e,t,n,r=[e]){if(sn(n))throw new Error(`Cannot create scale for "value": ${JSON.stringify(n)}`);const i=t?t.scale:Uu(),a=Wi(e),s=bx+Cx(r),o=BF+a,f=DF+a,l=Vn(i.type),u=hc(i.type),h=u&&$0(i.domain())?"uvec2":u||l?"uint":"float",d=i.domain?i.domain().length:void 0;let p;const m=[];m.push(""),m.push("/".repeat(70)),m.push(`// Channel: ${e}`),m.push(""),m.push(`#define ${e}_DEFINED`);const{transform:y}=FF(i.type),w=(te,...ge)=>OF.apply(null,[te,"value",...ge]);let v;switch(y){case"linear":v=w("scaleLinear","domain",f);break;case"log":v=w("scaleLog","domain",f,i.base());break;case"symlog":v=w("scaleSymlog","domain",f,i.constant());break;case"pow":case"sqrt":v=w("scalePow","domain",f,i.exponent());break;case"index":case"locus":v=w("scaleBandHp","domain",f,i.paddingInner(),i.paddingOuter(),i.align(),n.band??.5);break;case"point":case"band":v=w("scaleBand","domain",f,i.paddingInner(),i.paddingOuter(),i.align(),n.band??.5);break;case"ordinal":case"null":case"identity":v=w("scaleIdentity");break;case"threshold":break;default:throw new Error(`Unsupported scale type: ${i.type}! ${e}: ${JSON.stringify(n)}`)}const S=kx(i,e);let _;if(S&&e==a){const te=i.props.range??[];if(It(te)||te.some(It)){if(S.length<1||S.length>4)throw new Error(`A range with ExprRefs must have 1-4 elements, not ${S.length}! Range: ${JSON.stringify(S)}`);_=`    uniform ${vx(S.length)} ${f};`}else if(S.length&&S.every(Tt)){const ge=Ex(S);m.push(`const ${ge.type} ${f} = ${ge};`)}}const T=qr(e)?"vec3":"float";let I;if(qr(e)){const te=j0+a;if(e==a&&m.push(`uniform sampler2D ${te};`),yt(i.type))I=`getInterpolatedColor(${te}, transformed)`;else if(Vn(i.type)||$i(i.type))I=`getDiscreteColor(${te}, int(transformed))`;else throw new Error("Problem with color scale!")}else if(i.type==="ordinal"||$i(i.type)){const te=j0+a;e==a&&m.push(`uniform sampler2D ${te};`),I=`getDiscreteColor(${te}, int(transformed)).r`}const[B,F]=Ko(n)?[void 0,`    uniform highp ${h} ${s};`]:[`in highp ${h} ${s};`,void 0],M=[],H=yt(i.type)&&d>2,N=$i(i.type)||H;if(M.push("int slot = 0;"),N){const te=o;M.push(H?`while (slot < ${te}.length() - 2 && value >= ${te}[slot + 1]) { slot++; }`:`while (slot < ${te}.length() && value >= ${te}[slot]) { slot++; }`)}const re=yt(i.type)||$i(i.type)||["band","point"].includes(i.type);if(v){const te=o;re&&(u?M.push(`vec3 domain = ${te};`):M.push(`vec2 domain = vec2(${te}[slot], ${te}[slot + 1]);`)),M.push(`float transformed = ${v};`),H&&M.push(`transformed = (float(slot) + transformed) / (float(${te}.length() - 1));`)}else M.push("float transformed = float(slot);");"clamp"in i&&i.clamp()&&M.push(`transformed = clampToRange(transformed, ${Ex(S)});`),M.push(`return ${I??"transformed"};`),m.push(`
${T} ${yx}${e}(${h} value) {
${M.map(te=>`    ${te}
`).join("")}
}`),m.push(`
${T} ${V0}${e}() {
    return ${yx}${e}(${s});
}`);const oe=m.join(`
`);if(re&&e==a){const te=yt(i.type)||$i(i.type)?d:2;p=u?`    highp vec3 ${o};`:`    mediump float ${o}[${te}];`}return{attributeName:s,attributeGlsl:B,markUniformGlsl:F,glsl:oe,domainUniformName:o,domainUniform:p,rangeName:f,rangeUniform:_}}function xx(e){if(!Tt(e))throw new Error(`Not a number: ${e}`);if(e==1/0)return""+wx;if(e==-1/0)return""+-wx;{let t=`${e}`;return/^(-)?\d+$/.test(t)&&(t+=".0"),t}}function Ki(e){typeof e=="number"&&(e=[e]);const t=e.length;if(t<1||t>4)throw new Error("Invalid number of components: "+t);const n=vx(t),r=`${n}(${e.map(xx).join(", ")})`;return Object.assign(r,{type:n,numComponents:t})}function vx(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error("Invalid number of components: "+e)}}function Ax(e){const t=Hr(e).rgb();return[t.r,t.g,t.b].map(n=>n/255)}function LF(e){return Ki(Ax(e))}function Ex(e){return Ki([e[0],Mo(e)])}function OF(e,...t){const n=[];for(const r of t)Tt(r)?n.push(xx(r)):vt(r)?n.push(Ki(r)):n.push(r);return`${e}(${n.join(", ")})`}function hc(e){return e=="index"||e=="locus"}function $0(e){return e[1]>2**32}const q0=2**12;function _x(e,t=[]){const n=e%q0,r=(e-n)/q0;return t[0]=r,t[1]=n,t}function NF(e){const t=e%q0;return[e-t,t]}function zF(e){return[...NF(e[0]),e[1]-e[0]]}function Sx(e){const t=new ar([],JSON.stringify);for(const[n,r]of Object.entries(e)){const i=r.channelDef;if(qi(i)){const s=[i.field,r.scale?(yt(r.scale.type)||$i(r.scale.type))??!1:!1];t.set(s,[...t.get(s)??[],n])}}return t}function Cx(e){return Nt(e).join("_")}function UF(e){return e[0].toUpperCase()+e.slice(1)}const kx=(e,t)=>Nu(e.type)||yt(e.type)&&qr(t)?[0,1]:e.range?e.range():void 0,Tx=1e4;class GF{constructor(t){Y(this,Eh);Y(this,_h);Y(this,df,!1);this.size=t,this.arrays={},this.pushers=[],this.dataUpdaters=[],this.vertexCount=0}configure(){if(G(this,df))throw new Error("Already configured!");K(this,Eh,AC).call(this),K(this,_h,EC).call(this),he(this,df,!0)}addConverter(t,n){const r=this.createUpdater(bx+t,n.numComponents||1,n.targetArrayType??Float32Array,n.arrayReference),i=n.f;this.dataUpdaters.push(n.arrayReference?a=>r(i(a)):a=>r(i(a)))}createUpdater(t,n,r=Float32Array,i=void 0){if(!Tt(this.size))throw new Error("The number of vertices must be defined!");let a,s,o=0;const f=new r(this.size*n);if(this.arrays[t]={data:f,numComponents:n},n==1){let l=0;const u=c=>{l=+c};a=()=>{f[o++]=l},s=u}else{let l=i??[0];const u=i?c=>{}:c=>{l=c};switch(n){case 1:break;case 2:a=()=>{f[o++]=l[0],f[o++]=l[1]},s=u;break;case 3:a=()=>{f[o++]=l[0],f[o++]=l[1],f[o++]=l[2]},s=u;break;case 4:a=()=>{f[o++]=l[0],f[o++]=l[1],f[o++]=l[2],f[o++]=l[3]},s=u;break;default:throw new Error("Invalid numComponents: "+n)}}return this.pushers.push(a),s}pushAll(){throw new Error("Call configure() first!")}updateFromDatum(t){throw new Error("Call configure() first!")}pushFromDatum(t){this.updateFromDatum(t),this.pushAll()}}df=new WeakMap,Eh=new WeakSet,AC=function(){if(this.size>Tx){const t=this.pushers.map((r,i)=>`const p${i} = that.pushers[${i}];`).join(`
`),n=this.pushers.map((r,i)=>`  p${i}();`).join(`
`);this.pushAll=new Function("that",`${t}
return function unrolledPushAll() {
${n}
  that.vertexCount++;
};`)(this)}else this.pushAll=()=>{for(let t=0;t<this.pushers.length;t++)this.pushers[t]();this.vertexCount++}},_h=new WeakSet,EC=function(){if(this.size>Tx){const t=this.dataUpdaters.map((r,i)=>`const u${i} = that.dataUpdaters[${i}];`).join(`
`),n=this.dataUpdaters.map((r,i)=>`  u${i}(datum);`).join(`
`);this.updateFromDatum=new Function("that","datum",`${t}
return function unrolledUpdateFromDatum(datum) {
${n}
};`)(this)}else this.updateFromDatum=t=>{for(let n=0;n<this.dataUpdaters.length;n++)this.dataUpdaters[n](t)}};const rs=5,W0=127;function Z0(e){const t=[];for(let p=0;p<=W0;p++)t.push(void 0);const n=new Map;for(const p of e.chars)p.id<=W0?t[p.id]=p:n.set(p.id,p);const r=8722;n.has(r)||n.set(r,t["-".charCodeAt(0)]);function i(p){return(p<=W0?t[p]:n.get(p))||t[63]}function a(p){return i(p.charCodeAt(0))}const s=e.common.base,o=a("x"),f=a("X"),l=a("q"),u=o.height-rs*2,c=f.height-rs*2,h=l.height-o.height+l.yoffset-o.yoffset;function d(p,m=1){let y=0;for(let w=0;w<p.length;w++)y+=i(p.charCodeAt(w)).xadvance;return y/s*m}return{measureWidth:d,getCharByCode:i,getChar:a,xHeight:u,capHeight:c,descent:h,common:e.common}}const Ix=2**31-1,HF=-(2**31);function VF(e,t,n,r=n){const i=new Array(e);i.fill(Ix);let a=HF,s=-1/0,o=!1;const f=new Array(e);f.fill(0);const l=t[0],c=(t[1]-t[0])/e,h=(w,v)=>{const S=(w-l)/c,_=Math.floor(S);return za(v&&_==S?_-1:_,0,e-1)};function d(w,v,S){if(o)return;if(v>a)a=v;else{o=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}const _=n(w);if(_<s){o=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}s=_;const T=h(_,!1);i[T]>v&&(i[T]=v),f[T]<S&&(f[T]=S)}function p(w,v,S){if(o)return;if(v>a)a=v;else{o=!0,console.debug("Items (vertices) are not ordered properly. Disabling binned index.");return}const _=n(w),T=r(w);if(_<s){o=!0,console.debug("Items are not ordered properly. Disabling binned index.");return}else if(T<_){o=!0,console.debug("End index is less than start index. Disabling binned index. Datum: ",w);return}s=_;const I=h(_,!1),B=h(T,!0);for(let F=I;F<=B;F++)i[F]>v&&(i[F]=v),f[F]<S&&(f[F]=S)}const m=(w,v,S=[0,0])=>{const _=h(w,!1),T=h(v,!0),I=i[_],B=Math.max(f[T],I);return S[0]=I,S[1]=B,S},y=()=>{if(o)return;for(let v=1;v<f.length;v++)f[v]<f[v-1]&&(f[v]=f[v-1]);let w=!0;for(let v=i.length-1;v>0;v--)w&&i[v]==Ix?(i[v]=f[v],w=!1):i[v-1]>i[v]&&(i[v-1]=i[v]);return m};return d.getIndex=y,p.getIndex=y,n==r?d:p}class ll{constructor({encoders:t,numVertices:n=void 0,attributes:r=[]}){this.encoders=t,this.variableEncoders=Object.fromEntries(Object.entries(t).filter(([a,s])=>r.includes(a)&&s&&s.scale&&!s.constant));const i=[...Sx(t).entries()].filter(([a,s])=>a[1]&&s.length>1).map(([a,s])=>s);this.allocatedVertices=n,this.variableBuilder=new GF(n);for(const[a,s]of Object.entries(this.variableEncoders)){const o=i.find(m=>m.find(y=>y==a));if(o&&a!=o[0])continue;const f=s.accessor,l=hc(s.scale.type),u=l&&$0(s.scale.domain()),c=[0,0],h=s.indexer,d=h?m=>h(f(m)):u?m=>_x(f(m),c):f,p=o?Cx(o):a;this.variableBuilder.addConverter(p,{f:d,numComponents:u?2:1,arrayReference:u?c:void 0,targetArrayType:Vn(s.scale.type)?Uint16Array:l?Uint32Array:Float32Array})}this.lastOffset=0,this.rangeMap=new ar([],JSON.stringify)}registerBatch(t){var a;const n=this.lastOffset,r=this.variableBuilder.vertexCount,i=r-n;i&&this.rangeMap.set(t,{offset:n,count:i,xIndex:(a=this.xIndexer)==null?void 0:a.getIndex()}),this.lastOffset=r}addBatches(t){for(const[n,r]of t)this.addBatch(n,r)}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let a=r;a<i;a++){const s=n[a];this.variableBuilder.pushFromDatum(s),this.addToXIndex(s)}this.registerBatch(t)}prepareXIndexer(t,n=0,r=n+t.length){var l;const i=()=>{this.addToXIndex=u=>{},this.xIndexer=void 0},a=(l=this.encoders.x)==null?void 0:l.channelDef;if(!("buildIndex"in a)||!a.buildIndex||!t.length||r-n<0){i();return}const s=u=>{var c;return u&&yt((c=u.scale)==null?void 0:c.type)&&u},o=s(this.variableEncoders.x),f=s(this.variableEncoders.x2);if(o){const u=o.accessor,c=f?f.accessor:u,h=[u(t[n]),c(t[r-1])];if(h[1]>h[0]){this.xIndexer=VF(50,h,u,c);let d=this.variableBuilder.vertexCount;this.addToXIndex=p=>{let m=this.variableBuilder.vertexCount;this.xIndexer(p,d,m),d=m}}else i()}else i()}addToXIndex(t){}toArrays(){return{arrays:this.variableBuilder.arrays,vertexCount:this.variableBuilder.vertexCount,allocatedVertices:this.allocatedVertices,rangeMap:this.rangeMap}}}class jF extends ll{constructor({encoders:t,attributes:n,numItems:r}){super({encoders:t,attributes:n,numVertices:r*6}),this.variableBuilder.configure();const i=this.variableBuilder.pushAll;this.pushAllSixTimes=r>500?new Function("pushAll",`return function unrolledPushAllSixTimes() {
  pushAll(); pushAll(); pushAll(); pushAll(); pushAll(); pushAll();
};`)(i):function(){i(),i(),i(),i(),i(),i()}}addBatch(t,n,r=0,i=n.length){if(!(i<=r)){this.prepareXIndexer(n,r,i);for(let a=r;a<i;a++){const s=n[a];this.variableBuilder.updateFromDatum(s),this.pushAllSixTimes(),this.addToXIndex(s)}this.registerBatch(t)}}}class $F extends ll{constructor({encoders:t,attributes:n,tessellationThreshold:r=1/0,visibleRange:i=[-1/0,1/0],numItems:a}){super({encoders:t,attributes:n,numVertices:r==1/0?a*6:void 0}),this.visibleRange=i,this.tessellationThreshold=r||1/0,this.updateSide=this.variableBuilder.createUpdater("side",1),this.updatePos=this.variableBuilder.createUpdater("pos",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){this.prepareXIndexer(n,r,i);for(let a=r;a<i;a++){const s=n[a];this.variableBuilder.updateFromDatum(s),this.updateSide(-.5),this.updatePos(0),this.variableBuilder.pushAll();const o=1;for(let f=0;f<=o;f++)this.updatePos(f/o),this.updateSide(-.5),this.variableBuilder.pushAll(),this.updateSide(.5),this.variableBuilder.pushAll();this.variableBuilder.pushAll(),this.addToXIndex(s)}this.registerBatch(t)}}class qF extends ll{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}}class WF extends ll{constructor({encoders:t,attributes:n,numItems:r=void 0}){super({encoders:t,attributes:n,numVertices:r}),this.variableBuilder.configure()}toArrays(){const t=this.variableBuilder.arrays;for(let n of Object.values(t))n.divisor=1;return super.toArrays()}}class ZF extends ll{constructor({encoders:t,attributes:n,fontMetrics:r,properties:i,numCharacters:a=void 0}){super({encoders:t,attributes:n,numVertices:a*6}),this.metadata=r,this.metrics=r,this.properties=i;const o=t.text.channelDef;this.numberFormat=!sn(o)&&"format"in o&&o.format?mt(o.format):f=>f,this.updateVertexCoord=this.variableBuilder.createUpdater("vertexCoord",2),this.updateTextureCoord=this.variableBuilder.createUpdater("textureCoord",2),this.updateWidth=this.variableBuilder.createUpdater("width",1),this.variableBuilder.configure()}addBatch(t,n,r=0,i=n.length){const a=this.properties.align||"left",s=this.properties.logoLetters??!1,o=this.metadata.common.base,f=this.metadata.common.scaleH;let l=-rs;switch(this.properties.baseline){case"top":l+=this.metrics.capHeight;break;case"middle":l+=this.metrics.capHeight/2;break;case"bottom":l-=this.metrics.descent;break}const u=this.encoders.text.accessor||this.encoders.text,c=[0,0];this.updateVertexCoord(c);const h=[0,0];this.updateTextureCoord(h),this.prepareXIndexer(n,r,i);for(let d=r;d<i;d++){const p=n[d],m=this.numberFormat(u(p)),y=Ue(m)?m:m===null?"":""+m;if(y.length==0)continue;this.variableBuilder.updateFromDatum(p);const w=s?y.length:this.metrics.measureWidth(y);this.updateWidth(w);let v=a=="right"?-w:a=="center"?-w/2:0;if(!s){const I=this.metrics.getCharByCode(y.charCodeAt(0));v-=(I.width-I.xadvance)/o/2}let S=-.5,_=1,T=1;for(let I=0;I<y.length;I++){const B=this.metrics.getCharByCode(y.charCodeAt(I)),F=s?1:B.xadvance/o;if(B.id==32){v+=F;continue}s?(T=(B.width+rs*2)/B.width,v=-T/2,_=(B.height+rs*2)/B.height,S=-.5-rs/B.height):(_=B.height/o,S=-(B.height+B.yoffset+l)/o,T=B.width/o);const M=B.x,H=B.y;c[0]=v,c[1]=S+_,h[0]=M/f,h[1]=H/f,this.variableBuilder.pushAll(),c[0]=v+T,c[1]=S+_,h[0]=(M+B.width)/f,h[1]=H/f,this.variableBuilder.pushAll(),c[0]=v,c[1]=S,h[0]=M/f,h[1]=(H+B.height)/f,this.variableBuilder.pushAll(),c[0]=v+T,c[1]=S+_,h[0]=(M+B.width)/f,h[1]=H/f,this.variableBuilder.pushAll(),c[0]=v,c[1]=S,h[0]=M/f,h[1]=(H+B.height)/f,this.variableBuilder.pushAll(),c[0]=v+T,c[1]=S,h[0]=(M+B.width)/f,h[1]=(H+B.height)/f,this.variableBuilder.pushAll(),v+=F}this.addToXIndex(p)}this.registerBatch(t)}}const Bx=`#define PI 3.141593

uniform View {
    /** Offset in "unit" units */
    mediump vec2 uViewOffset;
    mediump vec2 uViewScale;
    /** Size of the logical viewport in pixels, i.e., the view */
    mediump vec2 uViewportSize;
    lowp float uDevicePixelRatio;
    // TODO: Views with opacity less than 1.0 should be rendered into a texture
    // that is rendered with the specified opacity.
    lowp float uViewOpacity;
    bool uPickingEnabled;
};


/**
 * Maps a coordinate on the unit scale to a normalized device coordinate.
 * (0, 0) is at the bottom left corner.
 */
vec4 unitToNdc(vec2 coord) {
    return vec4((coord * uViewScale + uViewOffset) * 2.0 - 1.0, 0.0, 1.0);
}

vec4 unitToNdc(float x, float y) {
    return unitToNdc(vec2(x, y));
}

vec4 pixelsToNdc(vec2 coord) {
    return unitToNdc(coord / uViewportSize);
}

vec4 pixelsToNdc(float x, float y) {
    return pixelsToNdc(vec2(x, y));
}

float linearstep(float edge0, float edge1, float x) {
    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

// Fragment shader stuff ////////////////////////////////////////////////////////

// TODO: include the following only in fragment shaders

/**
 * Specialized linearstep for doing antialiasing
 */
float distanceToRatio(float d) {
	return clamp(d * uDevicePixelRatio + 0.5, 0.0, 1.0);
}

vec4 distanceToColor(float d, vec4 fill, vec4 stroke, float halfStrokeWidth) {
    if (halfStrokeWidth > 0.0) {
        // Distance to stroke's edge. Negative inside the stroke.
        float sd = abs(d) - halfStrokeWidth;
        return mix(
            stroke,
            d <= 0.0 ? fill : vec4(0.0),
            distanceToRatio(sd));
    } else {
        return fill * distanceToRatio(-d);
    }
}
`,YF=`uniform highp float uZero;

// Utils ------------

vec3 getDiscreteColor(sampler2D s, int index) {
    return texelFetch(s, ivec2(index % textureSize(s, 0).x, 0), 0).rgb;
}

vec3 getInterpolatedColor(sampler2D s, float unitValue) {
    return texture(s, vec2(unitValue, 0.0)).rgb;
}

float clampToRange(float value, vec2 range) {
    return clamp(value, min(range[0], range[1]), max(range[0], range[1]));
}

// Scales ------------
// Based on d3 scales: https://github.com/d3/d3-scale

float scaleIdentity(float value) {
    return value;
}

float scaleIdentity(uint value) {
    return float(value);
}

float scaleLinear(float value, vec2 domain, vec2 range) {
    float domainSpan = domain[1] - domain[0];
    float rangeSpan = range[1] - range[0];
    return (value - domain[0]) / domainSpan * rangeSpan + range[0];
}

float scaleLog(float value, vec2 domain, vec2 range, float base) {
    // y = m log(x) + b 
    // TODO: Perf optimization: precalculate log domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(log(value) / log(base), log(domain) / log(base), range);
}

float symlog(float value, float constant) {
    // WARNING: emulating log1p with log(x + 1). Small numbers are likely to
    // have significant precision problems.
    return sign(value) * log(abs(value / constant) + 1.0);
}

float scaleSymlog(float value, vec2 domain, vec2 range, float constant) {
    return scaleLinear(
        symlog(value, constant),
        vec2(symlog(domain[0], constant), symlog(domain[1], constant)),
        range
    );
}

float scalePow(float value, vec2 domain, vec2 range, float exponent) {
    // y = mx^k + b
    // TODO: Perf optimization: precalculate pow domain in js.
    // TODO: Reversed domain, etc
    return scaleLinear(
        pow(abs(value), exponent) * sign(value),
        pow(abs(domain), vec2(exponent)) * sign(domain),
        range
    );
}

// TODO: scaleThreshold
// TODO: scaleQuantile (special case of threshold scale)

// TODO: domainExtent should be uint
float scaleBand(uint value, vec2 domainExtent, vec2 range,
                float paddingInner, float paddingOuter,
                float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    float n = domainExtent[1] - domainExtent[0];

    // This fix departs from Vega and d3: https://github.com/vega/vega/issues/3357#issuecomment-1063253596
    paddingInner = int(n) > 1 ? paddingInner : 0.0;

    // Adapted from: https://github.com/d3/d3-scale/blob/master/src/band.js
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    return start + (float(value) - domainExtent[0]) * step + bandwidth * band;
}

const int lowBits = 12;
const float lowDivisor = pow(2.0, float(lowBits));
const uint lowMask = uint(lowDivisor - 1.0);

vec2 splitUint(uint value) {
    uint valueLo = value & lowMask;
    uint valueHi = value - valueLo;
    return vec2(float(valueHi), float(valueLo));
}

/**
 * High precision variant of scaleBand for index/locus scales
 */
float scaleBandHp(uint value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = splitUint(value);

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}

/**
 * High precision variant of scaleBand for index/locus scales for large
 * domains where 32bit uints are not sufficient to represent the domain.
 */
float scaleBandHp(uvec2 value, vec3 domainExtent, vec2 range,
                 float paddingInner, float paddingOuter,
                 float align, float band) {

    // TODO: reverse
    float start = range[0];
    float stop = range[1];
    float rangeSpan = stop - start;

    vec2 domainStart = domainExtent.xy;
    float n = domainExtent[2];

    // The following computation is identical for every vertex. Could be done on the JS side.
    float step = rangeSpan / max(1.0, n - paddingInner + paddingOuter * 2.0);
    start += (rangeSpan - step * (n - paddingInner)) * align;
    float bandwidth = step * (1.0 - paddingInner);

    // Split into to values with each having a reduced number of significant digits
    // to mitigate the lack of precision in float32 calculations.
    vec2 splitValue = vec2(float(value[0]) * lowDivisor, float(value[1]));

    // Using max to prevent the shader compiler from wrecking the precision.
    // Othwewise the compiler could optimize the sum of the four terms into
    // some equivalent form that does premature rounding.
    float inf = 1.0 / uZero;
    float hi = max(splitValue[0] - domainStart[0], -inf);
    float lo = max(splitValue[1] - domainStart[1], -inf);

    return dot(vec4(start, hi, lo, bandwidth), vec4(1.0, step, step, band));
}
`,QF=`
/**
 * Describes where a sample facet should be shown. Interpolating between the
 * current and target positions/heights allows for transitioning between facet
 * configurations.
 */
struct SampleFacetPosition {
    float pos;
    float height;
    float targetPos;
    float targetHeight;
};

/**
 * Trasition fraction [0, 1] between the current and target configurations.
 */
uniform float uTransitionOffset;


// ----------------------------------------------------------------------------

#if !defined(SAMPLE_FACET_UNIFORM) && !defined(SAMPLE_FACET_TEXTURE)

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

#elif defined(SAMPLE_FACET_UNIFORM)

/**
 * Location and height of the band on the Y axis on a normalized [0, 1] scale.
 * Elements: curr pos, curr height, target pos, target height
 */
uniform vec4 uSampleFacet;

SampleFacetPosition getSampleFacetPos() {
    return SampleFacetPosition(
        1.0 - uSampleFacet.x - uSampleFacet.y,
        uSampleFacet.y,
        1.0 - uSampleFacet.z - uSampleFacet.w,
        uSampleFacet.w
    );
}

#elif defined(SAMPLE_FACET_TEXTURE)

uniform sampler2D uSampleFacetTexture;

SampleFacetPosition getSampleFacetPos() {
    vec4 texel = texelFetch(uSampleFacetTexture, ivec2(int(attr_facetIndex), 0), 0);
    return SampleFacetPosition(
        1.0 - texel.r - texel.g,
        texel.g,
        1.0 - texel.r - texel.g,
        texel.g);
}

#endif

// ----------------------------------------------------------------------------

bool isFacetedSamples(SampleFacetPosition facetPos) {
    return facetPos != SampleFacetPosition(0.0, 1.0, 0.0, 1.0);
}

bool isFacetedSamples() {
    return isFacetedSamples(getSampleFacetPos());
}

bool isInTransit() {
    return uTransitionOffset > 0.0;
}

float getTransitionFraction(float xPos) {
    return smoothstep(0.0, 0.7 + uTransitionOffset, (xPos - uTransitionOffset) * 2.0);
}

vec2 applySampleFacet(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return pos;
    } else if (isInTransit()) {
        vec2 interpolated = mix(
            vec2(facetPos.pos, facetPos.height),
            vec2(facetPos.targetPos, facetPos.targetHeight),
            getTransitionFraction(pos.x));
        return vec2(pos.x, interpolated[0] + pos.y * interpolated[1]);
    } else {
        return vec2(pos.x, facetPos.pos + pos.y * facetPos.height);
    }
}

float getSampleFacetHeight(vec2 pos) {
    SampleFacetPosition facetPos = getSampleFacetPos();

    if (!isFacetedSamples(facetPos)) {
        return 1.0;
    } else if (isInTransit()) {
        return mix(
            facetPos.height,
            facetPos.targetHeight,
            getTransitionFraction(pos.x));
    } else {
        return facetPos.height;
    }
}
`,XF=`/*
 * Based on concepts presented at:
 * https://webglfundamentals.org/webgl/lessons/webgl-picking.html
 * https://deck.gl/docs/developer-guide/custom-layers/picking
 */

out highp vec4 vPickingColor;

/**
 * Passes the unique id to the fragment shader as a color if picking is enabled.
 * Returns true if picking is enabled.
 */
bool setupPicking() {
    if (uPickingEnabled) {
#ifdef uniqueId_DEFINED
        int id = int(getScaled_uniqueId());
        // TODO: Take the sign bit into account
        vPickingColor = vec4(
            ivec4(id >> 0, id >> 8, id >> 16, 0xFF) & 0xFF
        ) / float(0xFF);
#else
        vPickingColor = vec4(1.0);
#endif
        return true;
    }
    return false;
}
`,KF=`in highp vec4 vPickingColor;
`,dc=Symbol("cacheMap");function pc(e,t,n){let r=fl(e).get(t);return r===void 0&&(r=n(t),fl(e).set(t,r)),r}function JF(e,t){fl(e).delete(t)}function gc(e,t){const n=fl(e);for(const r of n.keys())r.startsWith(t)&&n.delete(r);fl(e).delete(t)}function Dx(e){e[dc]=new Map}function fl(e){return e[dc]||Dx(e),e[dc]}function eR(e,t,n,r){const i=Ue(e)?e:e.name,a=!Ue(e)&&e.extent||[0,1];if(n===void 0&&!Ue(e)&&(n=e.count),i){const s=c0(i);if(Lt(s)){const o=Fx(s,{extent:a,count:n});return mc(t,{minMag:t.LINEAR,format:t.RGB,height:1,wrap:t.CLAMP_TO_EDGE},o,r)}else{if(vt(s))return Y0(s,t);throw new Error("Unknown scheme: "+i)}}}function tR(e,t="rgb",n,r){const i=zu(e,Ue(t)?t:t.type,Ue(t)?void 0:t.gamma),a=Fx(i);return mc(n,{minMag:n.LINEAR,format:n.RGB,height:1,wrap:n.CLAMP_TO_EDGE},a,r)}function nR(e,t,n,r){const i=Math.max(e.length,n||0),a=new Float32Array(i);for(let s=0;s<i;s++)a[s]=e[s%e.length];return mc(t,{minMag:t.NEAREST,format:t.RED,internalFormat:t.R32F,height:1},a,r)}function Y0(e,t,n,r){const i=Rx(e,n);return mc(t,{minMag:t.NEAREST,format:t.RGB,height:1},i,r)}function Fx(e,{extent:t=[0,1],reverse:n=!1,count:r=256}={}){const i=t[0],a=Mo(t)-i,s=oo(r).map(o=>o/(r-1)).map(o=>i+o/a).map(e);return n&&s.reverse(),Rx(s)}function Rx(e,t){const n=Math.max(e.length,t||0),r=new Uint8Array(n*3);for(let i=0;i<n;i++){const a=Hr(e[i%e.length]).rgb();r[i*3+0]=a.r,r[i*3+1]=a.g,r[i*3+2]=a.b}return r}class rR{constructor(t,n,r,i={}){this._container=t,this._sizeSource=n??(()=>({width:void 0,height:void 0})),this._shaderCache=new Map,this.rangeTextures=new WeakMap;const a=document.createElement("canvas");t.appendChild(a);const s=CF(a,{antialias:!0,depth:!1,premultipliedAlpha:!0,...i});if(!s)throw new Error("Unable to initialize WebGL. Your browser or machine may not support it.");if(!Za(s))throw new Error("Your web browser does not support WebGL 2.0. Chrome, Firefox, and Safari Tech Preview should work.");if(mx(s),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.canvas=a,this.gl=s,this._pickingAttachmentOptions=[{format:s.RGBA,type:s.UNSIGNED_BYTE,minMag:s.LINEAR,wrap:s.CLAMP_TO_EDGE}],this._pickingBufferInfo=xF(s,this._pickingAttachmentOptions),s.bindFramebuffer(s.FRAMEBUFFER,null),this.adjustGl(),this._updateDpr(),this._clearColor=[0,0,0,0],r){const o=Hr(r).rgb();this._clearColor=[o.r/255,o.g/255,o.b/255,o.opacity]}}invalidateSize(){this._logicalCanvasSize=void 0,this._updateDpr(),this.adjustGl()}_updateDpr(){this.dpr=window.devicePixelRatio}compileShader(t,n){const r="#version 300 es",i="precision mediump float;";vt(n)&&(n=n.join(`

`));const a=this.gl,s=n.replaceAll(/ {2,}|^\s*\/\/.*$/gm,"");let o=this._shaderCache.get(s);if(!o){const f=[r,i,n].join(`

`);o=a.createShader(t),a.shaderSource(o,f),a.compileShader(o),this._shaderCache.set(s,o)}return o}adjustGl(){const t=this.getLogicalCanvasSize();this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`;const n=this.getPhysicalCanvasSize(t);this.canvas.width=n.width,this.canvas.height=n.height,vF(this.gl,this._pickingBufferInfo,this._pickingAttachmentOptions)}finalize(){this.canvas.remove()}getPhysicalCanvasSize(t){return t=t||this.getLogicalCanvasSize(),{width:t.width*this.dpr,height:t.height*this.dpr}}getLogicalCanvasSize(){if(this._logicalCanvasSize)return this._logicalCanvasSize;const t=this._sizeSource(),n=window.getComputedStyle(this._container,null),r=t.width??this._container.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),i=t.height??this._container.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom);return this._logicalCanvasSize={width:r,height:i},this._logicalCanvasSize}readPickingPixel(t,n){const r=this.gl;t*=this.dpr,n*=this.dpr;const i=this.getPhysicalCanvasSize().height,a=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this._pickingBufferInfo.framebuffer),r.readPixels(t,i-n-1,1,1,r.RGBA,r.UNSIGNED_BYTE,a),r.bindFramebuffer(r.FRAMEBUFFER,null),a}clearAll(){const t=this.gl,{width:n,height:r}=this.getPhysicalCanvasSize();t.viewport(0,0,n,r),t.disable(t.SCISSOR_TEST),t.clearColor(...this._clearColor),t.clear(t.COLOR_BUFFER_BIT)}createRangeTexture(t,n=!1){const r=this.rangeTextures.get(t);if(!n&&r)return;function i(s,o){return Vn(o.type)?o.domain().length:o.type=="threshold"?o.domain().length+1:o.type=="quantize"||o.type=="quantile"?s??4:s}const a=t.channel;if(qr(a)){const s=t.scale,o=s.props,f=s.range();let l;if(o.scheme)if(s.type=="threshold"&&f)l=Y0(f,this.gl,s.domain().length,r);else{let u=Ue(o.scheme)?void 0:o.scheme.count;u=i(u,s),l=eR(o.scheme,this.gl,u,r)}else Nu(s.type)||yt(s.type)&&f.length>1?l=tR(f,o.interpolate,this.gl,r):l=Y0(f,this.gl,s.domain().length,r);this.rangeTextures.set(t,l)}else{const s=t.scale;if(s.type==="ordinal"||$i(s.type)){const o=Vu(a)?nw(a):l=>l,f=s.range();this.rangeTextures.set(t,nR(f.map(o),this.gl,s.domain().length,r))}}}}function iR(e,t="",n=0){const r=/ERROR:\s*\d+:(\d+)/gi,i=[...t.matchAll(r)],a=new Map(i.map((s,o)=>{const f=parseInt(s[1]),l=i[o+1],u=l?l.index:t.length,c=t.substring(s.index,u);return[f-1,c]}));return e.split(`
`).map((s,o)=>{const f=a.get(o);return`${o+1+n}: ${s}${f?`

^^^ ${f}`:""}`}).join(`
`)}function aR(e,t,n){const r=e.createProgram();e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r);function i(){let a,s;if(!e.getProgramParameter(r,e.LINK_STATUS)){a=e.getProgramInfoLog(r);for(const f of[t,n])e.getShaderParameter(f,e.COMPILE_STATUS)||(a=e.getShaderInfoLog(f),s=iR(e.getShaderSource(f),a,0)+`
Error compiling: ${a}`,e.deleteShader(f));e.deleteProgram(r)}if(a)return{message:a,detail:s}}return{program:r,getProgramErrors:i}}function mc(e,t,n,r){return r?Fw(e,r,n,t):r=sl(e,{...t,src:n}),r}function Mx(...e){const t={get(n,r,i){for(const a of e){const o=a()[r];if(o!==void 0)return o}},has(n,r,i){for(const a of e){const s=a();if(r in s)return!0}return!1}};return new Proxy({},t)}function sR(e){return Ue(e)||Tt(e)||io(e)}class Ji extends Error{constructor(t,n){super(t),this.name="ViewError",this.view=n}}const oR="SAMPLE_FACET_UNIFORM",Px="SAMPLE_FACET_TEXTURE";class ul{constructor(t){Y(this,Er,[]);this.unitView=t,this.encoders=void 0,this.bufferInfo=void 0,this.programInfo=void 0,this.vertexArrayInfo=void 0,this.viewUniformInfo=void 0,this.markUniformInfo=void 0,this.markUniformsAltered=!0,this.rangeMap=new lR,this.defaultProperties={get clip(){return["x","y"].map(n=>t.getScaleResolution(n)).some(n=>(n==null?void 0:n.isZoomable())??!1)},xOffset:0,yOffset:0,minBufferSize:0},this.properties=Mx(typeof this.unitView.spec.mark=="object"?()=>this.unitView.spec.mark:()=>({}),()=>this.defaultProperties)}get opaque(){return!1}getAttributes(){throw new Error("Not implemented!")}getSupportedChannels(){return["sample","facetIndex","x","y","color","opacity","search","uniqueId"]}getDefaultEncoding(){const t={sample:void 0,uniqueId:void 0};return this.isPickingParticipant()&&(t.uniqueId={field:"_uniqueId"}),t}fixEncoding(t){return t}setupExprRefsNeedingGraphicsUpdate(t){const n=this.getSupportedChannels(),r={};for(const a of t){const s=this.properties[a];if(s&&It(s)){const o=this.unitView.paramMediator.createExpression(s.expr);o.addListener(()=>{this.updateGraphicsData(),this.unitView.context.animator.requestRender()}),n.includes(a)||Object.defineProperty(r,a,{get(){return o()}})}}const i=this.properties;this.properties=Mx(()=>r,()=>i)}get encoding(){return pc(this,"encoding",()=>{var s;const t=this.getDefaultEncoding(),n=this.unitView.getEncoding(),r=o=>{const f=this.properties[o];return sR(f)||It(f)?{value:f}:void 0},i=Object.fromEntries(this.getSupportedChannels().map(o=>[o,r(o)]).filter(o=>sn(o[1]))),a=this.fixEncoding({...t,...i,...n});for(const o of Object.keys(a))this.getSupportedChannels().includes(o)||delete a[o];return a.x&&((s=a.x).buildIndex??(s.buildIndex=!0)),a})}getContext(){return this.unitView.context}getType(){return this.unitView.getMarkType()}initializeData(){}initializeEncoders(){this.encoders=F6(this)}async initializeGraphics(){}updateGraphicsData(){}getSampleFacetMode(){if(this.encoders.facetIndex)return Px;if(this.unitView.getLayoutAncestors().find(t=>"samples"in t.spec))return oR}createAndLinkShaders(t,n,r=[]){const i=this.getAttributes(),a="// view: "+this.unitView.getPathString();let s=[];const o=new Set,f=Sx(this.encoders),l=this.getSampleFacetMode();l&&r.push(`#define ${l}`);const u=[];for(const y of i){let w;if(y in this.encoding)w=y;else continue;const v=this.encoding[w];if(v)if(sn(v))if(It(v.value)){const{uniformName:S,uniformGlsl:_,scaleGlsl:T,adjuster:I}=MF(w);s.push(T),u.push(_),G(this,Er).push(()=>{this.registerMarkUniformValue(S,v.value,I)})}else s.push(RF(w,v.value));else{const S=Qt(v)&&v.resolutionChannel||w,_=Wa(S)?this.unitView.getScaleResolution(S):null,T=qi(v)?f.get([v.field,!0]):[w],I=PF(w,_,v,T!=null&&T.includes(w)?T:[w]);if(s.push(I.glsl),u.push(I.domainUniform),u.push(I.rangeUniform),o.add(I.attributeGlsl),I.rangeUniform&&G(this,Er).push(()=>{const B=this.createMarkUniformSetter(I.rangeName),F=()=>B(kx(_.scale,w));_.addEventListener("range",F),F()}),I.markUniformGlsl){if(!Ko(v))throw new Error("Bug!");const B=this.encoders[w],F=B.indexer,H=hc(B.scale.type)&&$0(B.scale.domain()),N=F||(H?_x:re=>+re);u.push(I.markUniformGlsl),G(this,Er).push(()=>{this.registerMarkUniformValue(I.attributeName,v.datum,N)})}I.domainUniform&&G(this,Er).push(()=>{const B=this.createMarkUniformSetter(I.domainUniformName),F=_.scale,M=()=>{const H=Vn(F.type)?[0,F.domain().length]:F.domain();B(hc(F.type)?zF(H):H)};_.addEventListener("domain",M),M()})}}const c=`precision highp float;
precision highp int;`,h=y=>y.replace("#pragma markUniforms",u.join(`
`));r=r.map(h),t=h(t),n=h(n);const d=[c,a,...r,Bx,YF,[...o].join(`
`),...s,QF,XF,t],p=[c,a,...r,Bx,KF,n],m=this.gl;this.programStatus=aR(m,this.glHelper.compileShader(m.VERTEX_SHADER,d),this.glHelper.compileShader(m.FRAGMENT_SHADER,p))}finalizeGraphicsInitialization(){const t=this.programStatus.getProgramErrors();if(t){t.detail&&console.warn(t.detail);const n=new Error("Cannot create shader program: "+t.message);throw n.view=this.unitView,n}this.programInfo=rF(this.gl,this.programStatus.program),delete this.programStatus,this.viewUniformInfo=ax(this.gl,this.programInfo,"View"),this.markUniformInfo=ax(this.gl,this.programInfo,"Mark"),this.gl.useProgram(this.programInfo.program),ns(this.programInfo,{uSampleFacet:[0,1,0,1],uTransitionOffset:0,uZero:0});for(const n of G(this,Er))n();he(this,Er,void 0)}createMarkUniformSetter(t){const n=this.markUniformInfo.setters[t];if(!n)throw new Error(`Uniform "${t}" not found int the Mark block!`);return r=>{n(r),this.markUniformsAltered=!0,this.unitView.context.animator.requestRender()}}registerMarkUniformValue(t,n,r=i=>i){const i=this.createMarkUniformSetter(t),a=s=>{if(s==null)throw new Error(`Trying to set null/undefined value for uniform: ${t}${It(n)?`Expr: ${n.expr}`:""}`);i(s)};if(It(n)){const s=this.unitView.paramMediator.createExpression(n.expr),o=()=>a(r(s(null)));s.addListener(o),o()}else a(r(n))}deleteGraphicsData(){const t=this.gl;if(this.vertexArrayInfo&&(this.gl.bindVertexArray(null),t.deleteVertexArray(this.vertexArrayInfo.vertexArrayObject),this.vertexArrayInfo=void 0),this.bufferInfo){for(let n=0;n<8;n++)t.disableVertexAttribArray(n);Object.values(this.bufferInfo.attribs).forEach(n=>this.gl.deleteBuffer(n.buffer)),this.bufferInfo.indices&&this.gl.deleteBuffer(this.bufferInfo.indices),this.bufferInfo=void 0}}updateBufferInfo(t){if(this.gl.bindVertexArray(null),this.bufferInfo&&t.vertexCount<=this.bufferInfo.allocatedVertices)for(const[n,r]of Object.entries(t.arrays))r.data&&mI(this.gl,this.bufferInfo.attribs[n],r.data,0);else this.deleteGraphicsData(),this.bufferInfo=wI(this.gl,t.arrays,{numElements:t.vertexCount}),this.bufferInfo.allocatedVertices=t.allocatedVertices}get glHelper(){return this.getContext().glHelper}get gl(){return this.glHelper.gl}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}isReady(){return this.bufferInfo&&this.programInfo}isPickingParticipant(){if(this.properties.tooltip===null)return!1;for(const t of this.unitView.getLayoutAncestors())if(!t.isPickingSupported())return!1;return!0}bindOrSetMarkUniformBlock(){this.markUniformsAltered?(ox(this.gl,this.programInfo,this.markUniformInfo),this.markUniformsAltered=!1):sx(this.gl,this.programInfo,this.markUniformInfo)}prepareRender(t){const n=this.glHelper,r=this.gl,i=[];i.push(()=>{this.vertexArrayInfo||(this.vertexArrayInfo=AF(this.gl,this.programInfo,this.bufferInfo)),r.useProgram(this.programInfo.program)});for(const[s,o]of Object.entries(this.encoding))if(Qt(o)){const f=Qt(o)&&o.resolutionChannel||s;if(Wa(f)){const l=this.unitView.getScaleResolution(f),u=n.rangeTextures.get(l);u&&i.push(()=>ns(this.programInfo,{[j0+s]:u}))}}this.getSampleFacetMode()==Px&&i.push(()=>{let s;for(const o of this.unitView.getLayoutAncestors())if(s=o.getSampleFacetTexture(),s)break;if(!s)throw new Error("No facet texture available. This is bug.");ns(this.programInfo,{uSampleFacetTexture:s})});const a=(t.picking??!1)&&this.isPickingParticipant();return i.push(()=>ol(this.viewUniformInfo,{uViewOpacity:this.unitView.getEffectiveOpacity(),uPickingEnabled:a})),this.opaque||t.picking?i.push(()=>r.disable(r.BLEND)):i.push(()=>r.enable(r.BLEND)),i}prepareSampleFacetRendering(t){const n=t.sampleFacetRenderingOptions,r=this.programInfo.uniformSetters.uSampleFacet;if(n&&r){const i=n.locSize?n.locSize.location:0,a=n.locSize?n.locSize.size:1;if(i>1||i+a<0)return!1;const s=n.targetLocSize?n.targetLocSize.location:i,o=n.targetLocSize?n.targetLocSize.size:a;this.gl.uniform4f(r.location,i,a,s,o)}return!0}render(t){}createRenderCallback(t,n){var c;if(!this.bufferInfo)throw new Ji(`${this.getType()} mark has no data. This is bug.`,this.unitView);const r=this;let i;const a=(c=this.unitView.getScaleResolution("x"))==null?void 0:c.scale,s=a&&yt(a.type),o=["index","locus"].includes(a==null?void 0:a.type)?-1:0,f=[0,0];i=h=>{if(s&&h.xIndex){const d=a.domain(),p=h.xIndex(d[0]+o,d[1],f),m=p[0],y=p[1]-m;y>0&&t(m,y)}else t(h.offset,h.count)};const l=this.rangeMap.get(void 0).count==0?n.facetId:void 0,u=this.rangeMap.get(l);return n.sampleFacetRenderingOptions?function(){u.count&&r.prepareSampleFacetRendering(n)&&i(u)}:function(){u.count&&i(u)}}setViewport(t,n){t=t.flatten();const r=this.unitView.context.devicePixelRatio,i=this.gl,a=this.properties,s=this.glHelper.getLogicalCanvasSize(),o=.5,f=(a.xOffset??0)+o,l=(a.yOffset??0)+o;let u,c=t;if(a.clip!=="never"&&(a.clip||n)){let h=0,d=0,p;if(n){if(c=t.intersect(n).flatten(),!c.isDefined())return!1;p=[t.width/c.width,t.height/c.height],d=Math.max(0,t.y2-n.y2),h=Math.min(0,t.x-n.x)}else p=[1,1];const m=[c.x,s.height-c.y2,c.width,c.height].map(S=>S*r),y=m.map(S=>Math.round(S)),[w,v]=m.map((S,_)=>S-y[_]);i.viewport(...y),i.scissor(...y),i.enable(i.SCISSOR_TEST),u={uViewOffset:[(f+h+w/r)/c.width,-(l+d-v/r)/c.height],uViewScale:p}}else{if(!t.isDefined())return!1;i.viewport(0,0,s.width*r,s.height*r),i.disable(i.SCISSOR_TEST),u={uViewOffset:[(t.x+f)/s.width,(s.height-t.y-l-t.height)/s.height],uViewScale:[t.width/s.width,t.height/s.height]}}return ol(this.viewUniformInfo,{...u,uViewportSize:[t.width,t.height],uDevicePixelRatio:r}),ox(this.gl,this.programInfo,this.viewUniformInfo),!0}findDatumAt(t,n){}}Er=new WeakMap;class lR extends ar{constructor(){super([],JSON.stringify)}get(t){let n=super.get(t);return n===void 0&&(n={offset:0,count:0,xIndex:void 0},super.set(t,n)),n}migrateEntries(t){for(const[n,r]of this.entries())t.has(n)||(r.offset=0,r.count=0,r.xIndex=void 0);for(const[n,r]of t.entries())Object.assign(this.get(n),r)}}function Q0(e,t){const n=L6(t);let r=e[t]&&{...e[t]},i=e[n]&&{...e[n]};if(!(sn(r)||sn(i))){if(r){if(!Qt(e[t]))return;if(i){if(r.type!="quantitative"){const a=(1-(r.band||1))/2;r.band=a,i.band=-a}}else if(r.type=="quantitative")i={datum:0};else{i={...r};const a=(1-(r.band??1))/2;r.band=0+a,i.band=1-a}}else r={value:0},i={value:1};e[t]=r,e[n]=i}}function Lx(e,t){e.stroke||(t?e.stroke={value:null}:e.stroke={resolutionChannel:"color",...e.color}),sn(e.stroke)&&e.stroke.value===null&&(e.strokeWidth={value:0}),e.strokeOpacity||(e.strokeOpacity={resolutionChannel:"opacity",...e.opacity})}function Ox(e,t){sn(e.fill)&&e.fill.value===null?e.fillOpacity={value:0}:e.fill||(e.fill={resolutionChannel:"color",...e.color},!t&&!e.fillOpacity&&(e.fillOpacity={value:0})),e.fillOpacity||(t?e.fillOpacity={resolutionChannel:"opacity",...e.opacity}:e.fillOpacity={value:0})}class fR extends ul{constructor(n){super(n);Y(this,pf);Y(this,gf);Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,filled:!0,color:"#4c78a8",opacity:1,strokeWidth:3,cornerRadius:0,minWidth:.5,minHeight:.5,minOpacity:1,tessellationZoomThreshold:10,tessellationTiles:35}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","fill","stroke","fillOpacity","strokeOpacity","strokeWidth"]}get opaque(){return pc(this,"opaque",()=>!K(this,pf,Dm).call(this)&&!K(this,gf,Fm).call(this)&&sn(this.encoding.fillOpacity)&&this.encoding.fillOpacity.value==1&&this.properties.minOpacity==1)&&this.unitView.getEffectiveOpacity()==1}fixEncoding(n){return Q0(n,"x"),Q0(n,"y"),Lx(n,this.properties.filled),Ox(n,this.properties.filled),delete n.color,delete n.opacity,n}onBeforeSampleAnimation(){}onAfterSampleAnimation(){}async initializeGraphics(){await super.initializeGraphics();const n=[];K(this,pf,Dm).call(this)&&n.push("ROUNDED_CORNERS"),K(this,gf,Fm).call(this)&&n.push("STROKED"),this.createAndLinkShaders(kF,TF,[IF,...n.map(r=>"#define "+r)])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uMinWidth",n.minWidth),this.registerMarkUniformValue("uMinHeight",n.minHeight),this.registerMarkUniformValue("uMinOpacity",n.minOpacity),this.registerMarkUniformValue("uCornerRadiusTopRight",n.cornerRadiusTopRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomRight",n.cornerRadiusBottomRight??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusTopLeft",n.cornerRadiusTopLeft??n.cornerRadius??0),this.registerMarkUniformValue("uCornerRadiusBottomLeft",n.cornerRadiusBottomLeft??n.cornerRadius??0)}updateGraphicsData(){const n=this.unitView.getCollector(),r=n.getItemCount(),i=new jF({encoders:this.encoders,attributes:this.getAttributes(),numItems:r});i.addBatches(n.facetBatches);const a=i.toArrays();this.rangeMap.migrateEntries(a.rangeMap),this.updateBufferInfo(a)}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Qi(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,a)=>{uc(r,this.vertexArrayInfo,r.TRIANGLE_STRIP,a,i)},n)}findDatumAt(n,r){n=Nt(n);const i=this.unitView.getCollector().facetBatches.get(n);if(!i)return;const a=this.encoders,s=a.x.scale.type;if(Vn(s)){const o=a.x.accessor;return i.find(f=>r==o(f))}else{const o=a.x.accessor,f=a.x2.accessor;return i.find(l=>r>=o(l)&&r<f(l))}}}pf=new WeakSet,Dm=function(){const n=this.properties;return n.cornerRadius||n.cornerRadiusBottomLeft||n.cornerRadiusBottomRight||n.cornerRadiusTopLeft||n.cornerRadiusTopRight},gf=new WeakSet,Fm=function(){const n=this.encoding.strokeWidth;return!(sn(n)&&!n.value)};const uR=`out float vRadius;
out float vRadiusWithPadding;
out lowp vec4 vFillColor;
out lowp vec4 vStrokeColor;
out lowp float vShape;
out lowp float vHalfStrokeWidth;
out mat2 vRotationMatrix;

// Copypaste from fragment shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TRIANGLE_RIGHT = 5.0;
const float TRIANGLE_DOWN = 6.0;
const float TRIANGLE_LEFT = 7.0;
const float TICK_UP = 8.0;
const float TICK_RIGHT = 9.0;
const float TICK_DOWN = 10.0;
const float TICK_LEFT = 11.0;

float computeSemanticThresholdFactor() {
    // TODO: add smooth transition
    return getScaled_semanticScore() >= uSemanticThreshold ? 1.0 : 0.0;
}

// TODO: Move this into common.glsl or something
vec2 getDxDy() {
#if defined(dx_DEFINED) || defined(dy_DEFINED)
    return vec2(getScaled_dx(), getScaled_dy()) / uViewportSize;
#else
    return vec2(0.0, 0.0);
#endif
}

void main(void) {
    float shapeAngle = 0.0;

    float semanticThresholdFactor = computeSemanticThresholdFactor();
    if (semanticThresholdFactor <= 0.0) {
        gl_PointSize = 0.0;
        // Place the vertex outside the viewport. The default (0, 0) makes this super-slow
        // on Apple Silicon. Probably related to the tile-based GPU architecture.
        gl_Position = vec4(100.0, 0.0, 0.0, 0.0);
        // Exit early. MAY prevent some unnecessary calculations.
        return;
    }

    float size = getScaled_size();
    vec2 pos = vec2(getScaled_x(), getScaled_y()) + getDxDy();

    gl_Position = unitToNdc(applySampleFacet(pos));

    float strokeWidth = getScaled_strokeWidth();

    float diameter = sqrt(size) *
        uScaleFactor *
        semanticThresholdFactor;

    // Clamp minimum size and adjust opacity instead. Yields more pleasing result,
    // no flickering etc.
    float opacity = uViewOpacity;
	if (strokeWidth <= 0.0 || uInwardStroke) {
		float minDiameter = 1.0 / uDevicePixelRatio;
		if (diameter < minDiameter) {
			// We do some "cheap" gamma correction here. It breaks on dark background, though.
			// First we take a square of the size and then apply "gamma" of 1.5.
			opacity *= pow(diameter / minDiameter, 2.5);
			diameter = minDiameter;
		}
	}

	float fillOpa = getScaled_fillOpacity() * opacity;
	float strokeOpa = getScaled_strokeOpacity() * opacity;

    vShape = getScaled_shape();

	// Circle doesn't have sharp corners. Do some special optimizations to minimize the point size.
	bool circle = vShape == 0.0;

    if (vShape > TICK_UP && vShape <= TICK_LEFT) {
        shapeAngle = (vShape - TICK_UP) * 90.0;
        vShape = TICK_UP;
    } else if (vShape > TRIANGLE_UP && vShape <= TRIANGLE_LEFT) {
        shapeAngle = (vShape - TRIANGLE_UP) * 90.0;
        vShape = TRIANGLE_UP;
    }

	float angleInDegrees = getScaled_angle();
	float angle = -(shapeAngle + angleInDegrees) * PI / 180.0;
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    vRotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    // Not needed if we would draw rotated quads instead of gl.POINTS
	float roomForRotation = circle ? 1.0 : sin(mod(angle, PI / 2.0) + PI / 4.0) / sin(PI / 4.0);

	float aaPadding = 1.0 / uDevicePixelRatio;
	float rotationPadding = (diameter * roomForRotation) - diameter;
	// sqrt(3.0) ensures that the angles of equilateral triangles have enough room
	float strokePadding = uInwardStroke ? 0.0 : strokeWidth * (circle ? 1.0 : sqrt(3.0));
	float padding = rotationPadding + strokePadding + aaPadding;
    gl_PointSize = (diameter + padding) * uDevicePixelRatio;

	vRadius = diameter / 2.0;
	vRadiusWithPadding = vRadius + padding / 2.0;

    vHalfStrokeWidth = strokeWidth / 2.0;

    vFillColor = vec4(getScaled_fill() * fillOpa, fillOpa);
    vStrokeColor = vec4(getScaled_stroke() * strokeOpa, strokeOpa);

    setupPicking();
}
`,cR=`const lowp vec4 white = vec4(1.0);
const lowp vec4 black = vec4(0.0, 0.0, 0.0, 1.0);

in float vRadius;
in float vRadiusWithPadding;

in lowp vec4 vFillColor;
in lowp vec4 vStrokeColor;
in lowp float vShape;
in lowp float vHalfStrokeWidth;

in mat2 vRotationMatrix;

out lowp vec4 fragColor;

// Copypaste from vertex shader
const float CIRCLE = 0.0;
const float SQUARE = 1.0;
const float CROSS = 2.0;
const float DIAMOND = 3.0;
const float TRIANGLE_UP = 4.0;
const float TICK_UP = 8.0;

// The distance functions are inspired by:
// http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
// However, these are not true distance functions, because the corners need to be sharp.

float circle(vec2 p, float r) {
    return length(p) - r;
}

float square(vec2 p, float r) {
    p = abs(p);
    return max(p.x, p.y) - r;
}

float tickUp(vec2 p, float r) {
    float halfR = r * 0.5;
    p.y += halfR;
    p = abs(p);
    return max(p.x - r * 0.15, p.y - halfR);
}

float equilateralTriangle(vec2 p, float r) {
    p.y = -p.y;
    float k = sqrt(3.0);
    float kr = k * r;
    p.y -= kr / 2.0;
    return max((abs(p.x) * k + p.y) / 2.0, -p.y - kr);
}

float crossShape(vec2 p, float r) {
    p = abs(p);

	vec2 b = vec2(0.4, 1.0) * r;
    vec2 v = abs(p) - b.xy;
    vec2 h = abs(p) - b.yx;
    return min(max(v.x, v.y), max(h.x, h.y));
}

float diamond(vec2 p, float r) {
    p = abs(p);
    return (max(abs(p.x - p.y), abs(p.x + p.y)) - r) / sqrt(2.0);
}

void main() {
    float d;

	/** Normalized point coord */
    vec2 p = vRotationMatrix * (2.0 * gl_PointCoord - 1.0) * vRadiusWithPadding;
	float r = vRadius;

    // We could also use textures here. Could even be faster, because we have plenty of branching here.
    if (vShape == CIRCLE) {
        d = circle(p, r);

    } else if (vShape == SQUARE) {
        d = square(p, r);

    } else if (vShape == CROSS) {
        d = crossShape(p, r);

    } else if (vShape == DIAMOND) {
        d = diamond(p, r);

    } else if (vShape == TRIANGLE_UP) {
        d = equilateralTriangle(p, r);

    } else if (vShape == TICK_UP) {
        d = tickUp(p, r);

    } else {
        d = 0.0;
    }

	if (!uPickingEnabled) {
		lowp vec4 fillColor = mix(vFillColor, white, -d * uGradientStrength / vRadius);

		fragColor = distanceToColor(
			d + (uInwardStroke ? vHalfStrokeWidth : 0.0),
			fillColor,
			vStrokeColor,
			vHalfStrokeWidth);

	} else if (d - vHalfStrokeWidth <= 0.0) {
        fragColor = vPickingColor;

	} else {
		discard;
    }
}

`,hR=`layout(std140) uniform Mark {
    /**
    * The stroke should only grow inwards, e.g, the diameter/outline is not affected by the stroke width.
    * Thus, a point that has a zero size has no visible stroke. This allows strokes to be used with
    * geometric zoom, etc.
    */
    uniform bool uInwardStroke;

    /** Scale factor for geometric zoom */
    uniform mediump float uScaleFactor;

    uniform mediump float uZoomLevel;
    uniform highp float uSemanticThreshold;

    uniform mediump float uGradientStrength;

#pragma markUniforms
};
`,qn=1,Jr=2,X0=4;class nt{constructor(t){Y(this,va);Pt(this,"paramMediatorProvider",null);this.paramMediatorProvider=t,this.children=[],this.parent=void 0,this.completed=!1}get behavior(){return 0}reset(){this.completed=!1;for(const t of this.children)t.reset()}initialize(){}setParent(t){this.parent=t}addChild(t){if(t.parent)throw new Error("Cannot add the child! It already has a parent.");return this.children.push(t),t.setParent(this),K(this,va,Gf).call(this),this}adopt(t){t.parent&&t.parent.removeChild(t),this.addChild(t)}adoptChildrenOf(t){for(const n of t.children)this.adopt(n)}insertAsParent(t){var n;if(this.isRoot())throw new Error("Cannot insert a new parent for a root node!");t.parent=this.parent,this.parent.children[this.parent.children.indexOf(this)]=t,K(n=this.parent,va,Gf).call(n),this.parent=void 0,t.addChild(this)}removeChild(t){const n=this.children.indexOf(t);if(n>-1)this.children.splice(n,1),t.parent=void 0,K(this,va,Gf).call(this);else throw new Error("Trying to remove an unknown child node!")}excise(){var t;if(this.isRoot())throw new Error("Cannot excise root node!");if(this.isTerminal())this.parent.removeChild(this);else if(this.children.length==1){const n=this.children[0];n.setParent(this.parent),this.parent.children[this.parent.children.indexOf(this)]=n,K(t=this.parent,va,Gf).call(t),this.setParent(void 0),this.children.length=0}else throw new Error("Cannot excise a node that has multiple children!")}isRoot(){return!this.parent}isBranching(){return this.children.length>1}isTerminal(){return this.children.length==0}visit(t){t(this);for(const n of this.children)n.visit(t);t.afterChildren&&t.afterChildren(this)}subtreeToString(t=0){const n=this.children.map(r=>r.subtreeToString(t+1)).join("");return`${" ".repeat(t*2)}* ${this.constructor.name}${("identifier"in this&&this.identifier?": "+this.identifier:"")??""} 
${n}`}handle(t){this._propagate(t)}complete(){this.completed=!0;for(const t of this.children)t.complete()}beginBatch(t){for(const n of this.children)n.beginBatch(t)}get paramMediator(){if(this.paramMediatorProvider)return this.paramMediatorProvider.paramMediator;if(!this.parent)throw new Error("Cannot find paramMediator!");return this.parent.paramMediator}repropagate(){if(this.parent)this.parent.repropagate();else throw new Error("Cannot repropagate data, no FlowNode with stored data found!")}_propagate(t){}}va=new WeakSet,Gf=function(){this._propagate=Function("children",oo(this.children.length).map(t=>`const child${t} = children[${t}];`).join(`
`)+`return function propagate(datum) {${oo(this.children.length).map(t=>`child${t}.handle(datum);`).join(`
`)}}`)(this.children)};function Nx(e){return e.type=="file"}function dR(e){return e.type=="facet"}class zx extends nt{constructor(t){super(),this.k=t.size||500,this.reset()}reset(){super.reset(),this.reservoir=[],this.W=void 0,this.ingester=this._initialIngester}_initialIngester(t){this.reservoir.push(t),this.reservoir.length==this.k&&(this.W=Math.exp(Math.log(Math.random())/this.k),this.i=this.k,this.next=this.i,this.ingester=this._finalIngester,this._setNextStop())}_finalIngester(t){++this.i==this.next&&(this.reservoir[Math.floor(Math.random()*this.k)]=t,this.W*=Math.exp(Math.log(Math.random())/this.k),this._setNextStop())}_setNextStop(){this.next+=Math.floor(Math.log(Math.random())/Math.log(1-this.W))+1}handle(t){this.ingester(t)}complete(){for(const t of this.reservoir)this._propagate(t);super.complete()}}function pR(e,t,n){const r=new zx({type:"sample",size:e});for(const i of t)r.handle(n(i));return r.complete(),r.reservoir}const gR={};class mR extends ul{constructor(n){super(n);Y(this,Sh);Y(this,Gs,()=>0);Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,color:"#4c78a8",filled:!0,opacity:1,size:100,semanticScore:0,shape:"circle",strokeWidth:2,fillGradientStrength:0,dx:0,dy:0,angle:0,sampleFacetPadding:.1,semanticZoomFraction:.02}));const r=this.properties.semanticZoomFraction;if(r!=null)if(It(r)){const i=this.unitView.paramMediator.createExpression(r.expr);i.addListener(()=>this.getContext().animator.requestRender()),he(this,Gs,i)}else he(this,Gs,()=>r)}getAttributes(){return["inwardStroke","uniqueId","facetIndex","x","y","size","semanticScore","shape","strokeWidth","gradientStrength","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"size","semanticScore","shape","strokeWidth","dx","dy","fill","stroke","fillOpacity","strokeOpacity","angle"]}getDefaultEncoding(){return{...super.getDefaultEncoding(),...gR}}fixEncoding(n){return Lx(n,this.properties.filled),Ox(n,this.properties.filled),delete n.color,delete n.opacity,n}initializeData(){super.initializeData();const n=this.unitView.getAccessor("semanticScore");n&&(this.sampledSemanticScores=Float32Array.from(pR(1e4,this.unitView.getCollector().getData(),n)),this.sampledSemanticScores.sort((r,i)=>r-i))}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(uR,cR,[hR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const n=this.properties;this.registerMarkUniformValue("uInwardStroke",n.inwardStroke,r=>!!r),this.registerMarkUniformValue("uGradientStrength",n.fillGradientStrength)}updateGraphicsData(){const n=this.unitView.getCollector(),r=n.getItemCount(),i=new qF({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(r,this.properties.minBufferSize||0)});i.addBatches(n.facetBatches);const a=i.toArrays();this.rangeMap.migrateEntries(a.rangeMap),this.updateBufferInfo(a)}getSemanticThreshold(){if(this.sampledSemanticScores){const n=Math.max(0,1-G(this,Gs).call(this)*this.unitView.getZoomLevel());if(n<=0)return-1/0;if(n>=1)return 1/0;{const r=this.sampledSemanticScores;return c1(r,n)}}else return-1}prepareRender(n){const r=super.prepareRender(n);return r.push(()=>{ol(this.markUniformInfo,{uScaleFactor:K(this,Sh,_C).call(this),uSemanticThreshold:this.getSemanticThreshold()}),this.markUniformsAltered=!0}),r.push(()=>this.bindOrSetMarkUniformBlock()),r.push(()=>Qi(this.gl,this.programInfo,this.vertexArrayInfo)),r}render(n){const r=this.gl;return this.createRenderCallback((i,a)=>{a&&uc(r,this.vertexArrayInfo,r.POINTS,a,i)},n)}}Gs=new WeakMap,Sh=new WeakSet,_C=function(){const n=Math.pow(2,this.properties.geometricZoomBound||0);return Math.pow(Math.min(1,this.unitView.getZoomLevel()/n),1/3)};const bR=`// Line caps
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

/** Position along the rule */
in float pos;

/** Which side of the stroke: -0.5 or 0.5 */
in float side;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

/** Distances from the line endings. Used for rendering the round caps and dashes */
out highp vec2 vPosInPixels;


void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;

    // Stroke width in pixels
    float size = getScaled_size();
    float opacity = getScaled_opacity() * uViewOpacity;

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y()));
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2()));

    vec2 tangent = b - a;

    float offset = 0.0;
    float relativeDiff = 0.0;
    if (uMinLength > 0.0 || uStrokeCap != BUTT) {
        float len = length(tangent * uViewportSize);

        // Elongate to reach the minimum length.
        // The length difference in pixels
        float diff = max(0.0, uMinLength - len);

        // Add line caps
        if (uStrokeCap != BUTT) {
            diff += size;
        }

        relativeDiff = diff / len;
        offset = relativeDiff * (pos - 0.5);
    }

    // Apply caps and minimum length by spreading the vertices along the tangent
    vec2 p = pos < 1.0
        ? a + tangent * (pos + offset)
        : b + tangent * offset;

    // Add an extra pixel to stroke width to accommodate edge antialiasing
    float aaPadding = pixelSize;

    // Extrude
    vec2 normal = normalize(vec2(-tangent.y, tangent.x) / uViewportSize);
    p += normal * side * (size + aaPadding) / uViewportSize;

    gl_Position = unitToNdc(p);

    vColor = vec4(getScaled_color() * opacity, opacity);
    vSize = size;
    vNormalLengthInPixels = side * (size + aaPadding);

    // TODO: Here's a precision problem that breaks round caps when zoomed in enough
    vPosInPixels = vec2(pos, (1.0 - pos)) * (1.0 + relativeDiff) * length(tangent * uViewportSize) -
        vec2(uStrokeCap != BUTT ? size / 2.0 : 0.0);
    
    setupPicking();
}
`,yR=`// Line ending
const int BUTT = 0;
const int SQUARE = 1;
const int ROUND = 2;

uniform sampler2D uDashTexture;

in vec4 vColor;
in float vSize;

/** Position on the rule along its length in pixels */
in vec2 vPosInPixels;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distanceFromEnd = -min(vPosInPixels[0], vPosInPixels[1]);
    float distance; // from the rule centerline or end
    if (distanceFromEnd > 0.0 && uStrokeCap == ROUND) {
        // round cap
        distance = length(vec2(distanceFromEnd, vNormalLengthInPixels));
    } else {
        distance = abs(vNormalLengthInPixels);
    }

    // Use a signed distance field to implement edge antialiasing
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), -0.5, 0.5) + 0.5;

    if (uDashTextureSize > 0.0) {
        float pos = (vPosInPixels[0] + uStrokeDashOffset) * dpr;
        float floored = floor(pos);
        vec2 texelPositions = (floored + vec2(0.5, 1.5)) / dpr / uDashTextureSize;
      
        // Do antialiasing
        opacity *= mix(
            texture(uDashTexture, vec2(texelPositions[0], 0)).r,
            texture(uDashTexture, vec2(texelPositions[1], 0)).r,
            clamp((pos - floored), 0.0, 1.0));
    }

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,wR=`layout(std140) uniform Mark {
    /** Minimum rule length in pixels */
    uniform mediump float uMinLength;

    uniform mediump float uDashTextureSize;
    uniform lowp int uStrokeCap;
    uniform mediump float uStrokeDashOffset;

#pragma markUniforms
};
`;class xR extends ul{constructor(t){super(t),this.dashTextureSize=0,Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x2:void 0,y2:void 0,size:1,color:"black",opacity:1,minLength:0,strokeDash:null,strokeDashOffset:0,strokeCap:"butt"}))}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){if(!(t.x&&t.y&&t.x2&&t.y2))if(t.x&&t.x2&&!t.y)t.y={value:.5},t.y2=t.y;else if(t.y&&t.y2&&!t.x)t.x={value:.5},t.x2=t.x;else if(t.x&&!t.y)t.y={value:0},t.y2={value:1},t.x2=t.x;else if(t.y&&!t.x)t.x={value:0},t.x2={value:1},t.y2=t.y;else if(t.x&&t.y&&t.y2)t.x2=t.x;else if(t.y&&t.x&&t.x2)t.y2=t.y;else if(t.y&&t.x)if(!t.x2&&Qt(t.y)&&t.y.type=="quantitative")t.x2=t.x,t.y2={datum:0};else if(!t.y2&&Qt(t.x)&&t.x.type=="quantitative")t.y2=t.y,t.x2={datum:0};else throw new Error("A bug!");else throw new Error("Invalid x and y encodings for rule mark: "+JSON.stringify(t));return t}async initializeGraphics(){if(await super.initializeGraphics(),this.properties.strokeDash){const t=this.gl,n=vR(this.properties.strokeDash);this.dashTexture=sl(t,{mag:t.NEAREST,min:t.NEAREST,internalFormat:t.R8,format:t.RED,src:n,height:1}),this.dashTextureSize=n.length}this.createAndLinkShaders(bR,yR,[wR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uMinLength",t.minLength),this.registerMarkUniformValue("uStrokeCap",t.strokeCap??"butt",n=>["butt","square","round"].indexOf(n)),ol(this.markUniformInfo,{uDashTextureSize:+this.dashTextureSize}),this.markUniformsAltered=!0}updateGraphicsData(){const t=this.unitView.getCollector(),n=t.getItemCount(),r=new $F({encoders:this.encoders,attributes:this.getAttributes(),numItems:Math.max(n,this.properties.minBufferSize||0)});r.addBatches(t.facetBatches);const i=r.toArrays();this.rangeMap.migrateEntries(i.rangeMap),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),this.dashTexture&&n.push(()=>ns(this.programInfo,{uDashTexture:this.dashTexture})),n.push(()=>Qi(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>uc(n,this.vertexArrayInfo,n.TRIANGLE_STRIP,i,r),t)}}function vR(e){if(e.length==0||e.length%2||e.findIndex(a=>Math.round(a)!=a||a<1||a>1e3)>=0)throw new Error("Invalid stroke dash pattern: "+JSON.stringify(e));const t=e.reduce((a,s)=>a+s),n=new Uint8Array(t);let r=!0,i=0;for(let a of e){for(;a;)n[i++]=r&&255||0,a--;r=!r}return n}const AR=`in vec2 strip;

out vec4 vColor;

/** Stroke width */
out float vSize;

/** The distance from the line center to the direction of normal in pixels */
out float vNormalLengthInPixels;

const int SHAPE_ARC = 0;
const int SHAPE_DOME = 1;
const int SHAPE_DIAGONAL = 2;
const int SHAPE_LINE = 3;
const int ORIENT_VERTICAL = 0;
const int ORIENT_HORIZONTAL = 1;

float distanceFromLine(vec2 pointOnLine1, vec2 pointOnLine2, vec2 point) {
    vec2 a = point - pointOnLine1;
    vec2 b = pointOnLine2 - pointOnLine1;
    vec2 proj = dot(a, b) / dot(b, b) * b;
    return length(a - proj);
}

bool isInsideViewport(vec2 point, float marginFactor) {
    vec2 margin = uViewportSize * vec2(marginFactor);
    return point.x >= -margin.x
        && point.x <= uViewportSize.x + margin.x
        && point.y >= -margin.y
        && point.y <= uViewportSize.y + margin.y;
}

void main(void) {
    float pixelSize = 1.0 / uDevicePixelRatio;
    float opacity = getScaled_opacity() * uViewOpacity;

    // The bezier's control points
    vec2 p1, p2, p3, p4;

    vec2 a = applySampleFacet(vec2(getScaled_x(), getScaled_y())) * uViewportSize;
    vec2 b = applySampleFacet(vec2(getScaled_x2(), getScaled_y2())) * uViewportSize;

    if (uShape <= SHAPE_DOME) {
        if (uShape == SHAPE_DOME) {
            vec2 height = vec2(0.0);
            if (uOrient == ORIENT_VERTICAL) {
                p1 = vec2(min(a.x, b.x), b.y);
                p4 = vec2(max(a.x, b.x), b.y);
                height = vec2(0.0, a.y - b.y);

                if (uClampApex) {
                    if (p4.x > 0.0) {
                        p1.x = max(p1.x, -p4.x);
                    }
                    if (p1.x < uViewportSize.x) {
                        p4.x = min(p4.x, 2.0 * uViewportSize.x - p1.x);
                    }
                }

            } else {
                p1 = vec2(b.x, min(a.y, b.y));
                p4 = vec2(b.x, max(a.y, b.y));
                height = vec2(a.x - b.x, 0.0);

                if (uClampApex) {
                    if (p4.y > 0.0) {
                        p1.y = max(p1.y, -p4.y);
                    }
                    if (p1.y < uViewportSize.y) {
                        p4.y = min(p4.y, 2.0 * uViewportSize.y - p1.y);
                    }
                }
            }

            vec2 controlOffset = height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;

        } if (uShape == SHAPE_ARC) {
            p1 = a;
            p4 = b;

            vec2 chordVector = p4 - p1;
            vec2 unitChordVector = normalize(chordVector);
            vec2 chordNormal = vec2(-unitChordVector.y, unitChordVector.x);
            float chordLength = length(chordVector);

            if (chordLength > uMaxChordLength) {
                if (isInsideViewport(p1, 2.0)) {
                    chordLength = uMaxChordLength;
                    p4 = p1 + unitChordVector * uMaxChordLength;
                } else if (isInsideViewport(p4, 2.0)) {
                    chordLength = uMaxChordLength;
                    p1 = p4 - unitChordVector * uMaxChordLength;
                }
            }

            float height = max(
                chordLength / 2.0 * uArcHeightFactor,
                uMinArcHeight
            );

            // This is a bit poor approximation of a circular arc, but it's probably enough for most purposes.
            // TODO: Consider a more sophisticated approach: https://stackoverflow.com/a/44829356/1547896
            vec2 controlOffset = chordNormal * height / 0.75;

            p2 = p1 + controlOffset;
            p3 = p4 + controlOffset;
        }

    } else if (uShape == SHAPE_DIAGONAL) {
        if (uOrient == ORIENT_VERTICAL) {
            p1 = a;
            p2 = vec2(a.x, (a.y + b.y) / 2.0);
            p3 = vec2(b.x, (a.y + b.y) / 2.0);
            p4 = b;
        } else {
            p1 = a;
            p2 = vec2((a.x + b.x) / 2.0, a.y);
            p3 = vec2((a.x + b.x) / 2.0, b.y);
            p4 = b;
        }
    } else if (uShape == SHAPE_LINE) {
        p1 = a;
        p2 = (a + b) / 2.0;
        p3 = p2;
        p4 = b;
    }

    // Make segments shorter near the endpoints to make the tightly bent attachment points smoother
    float t = smoothstep(0.0, 1.0, strip.x);

    // https://stackoverflow.com/a/31317254/1547896
    vec2 C1 = p4 - 3.0 * p3 + 3.0 * p2 - p1;
    vec2 C2 = 3.0 * p3 - 6.0 * p2 + 3.0 * p1;
    vec2 C3 = 3.0 * p2 - 3.0 * p1;
    vec2 C4 = p1;

    vec2 p;
    // Skip computation at endpoints to maintain precision
    if (t == 0.0) {
        p = p1;
    } else if (t == 1.0) {
        p = p4;
    } else {
        p = C1*t*t*t + C2*t*t + C3*t + C4;
    }

    vec2 tangent = normalize(3.0*C1*t*t + 2.0*C2*t + C3);
    vec2 normal = vec2(-tangent.y, tangent.x);

    float size = getScaled_size();

    // Avoid artifacts in very thin lines by clamping the size and adjusting opacity respectively
    if (size < pixelSize) {
        opacity *= size / pixelSize;
        size = pixelSize;
    }

    // Handle minimum picking size or add an extra pixel to the stroke width to accommodate edge antialiasing
    float paddedSize = uPickingEnabled
        ? max(size, uMinPickingSize)
        : size + pixelSize;

    vNormalLengthInPixels = strip.y * paddedSize;
    
    if (uShape == SHAPE_ARC && uArcFadingDistance[0] > 0.0 && uArcFadingDistance[1] > 0.0) {
        float d = distanceFromLine(p1, p4, p);
        float distanceOpacity = smoothstep(uArcFadingDistance[1], uArcFadingDistance[0], d);    

        // Fade out
        opacity *= distanceOpacity;

        // Collapse fully transparent triangles to skip fragment processing 
        if (distanceOpacity <= 0.0) {
            vNormalLengthInPixels = 0.0;
        }
    }

    // Extrude
    p += normal * vNormalLengthInPixels;

    gl_Position = pixelsToNdc(p);

    vec3 color = getScaled_color();

    vColor = vec4(color * opacity, opacity);

    vSize = paddedSize;

    setupPicking();
}
`,ER=`in vec4 vColor;
in float vSize;
in float vNormalLengthInPixels;

out lowp vec4 fragColor;

void main(void) {
    float dpr = uDevicePixelRatio;

    float distance = abs(vNormalLengthInPixels);
    float opacity = clamp(((vSize / 2.0 - distance) * dpr), 0.0, 1.0);

    fragColor = vColor * opacity;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,_R=`layout(std140) uniform Mark {
    uniform float uArcHeightFactor;

    /** Make very small arcs visible */
    uniform float uMinArcHeight;

    /** The minimum stroke width in pixels when rendering into the picking buffer */
    uniform float uMinPickingSize;

    uniform int uShape;
    uniform int uOrient;
    uniform bool uClampApex;

    // In pixels
    uniform float uMaxChordLength;
    // In pixels
    uniform vec2 uArcFadingDistance;

#pragma markUniforms
};
`,SR=["arc","dome","diagonal","line"],CR=["vertical","horizontal"];class kR extends ul{constructor(t){super(t),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:0,x2:void 0,y:0,y2:void 0,size:1,color:"black",opacity:1,segments:101,arcHeightFactor:1,minArcHeight:1.5,minPickingSize:3,clampApex:!1,maxChordLength:5e4,arcFadingDistance:!1,linkShape:"arc",orient:"vertical"})),this._baseInstanceExt=this.gl.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","size","height","color","opacity"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size"]}fixEncoding(t){return t.x2||(Qt(t.x)?t.x2={datum:0}:t.x2=t.x),t.y2||(Qt(t.y)?t.y2={datum:0}:t.y2=t.y),t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(AR,ER,[_R])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uArcFadingDistance",t.arcFadingDistance,n=>n||[0,0]),this.registerMarkUniformValue("uArcHeightFactor",t.arcHeightFactor),this.registerMarkUniformValue("uMinArcHeight",t.minArcHeight),this.registerMarkUniformValue("uMinPickingSize",t.minPickingSize),this.registerMarkUniformValue("uShape",t.linkShape,n=>SR.indexOf(n)),this.registerMarkUniformValue("uOrient",t.orient,n=>CR.indexOf(n)),this.registerMarkUniformValue("uClampApex",t.clampApex,n=>!!n),this.registerMarkUniformValue("uMaxChordLength",t.maxChordLength)}updateGraphicsData(){const t=this.unitView.getCollector(),n=t.getItemCount(),r=new WF({encoders:this.encoders,attributes:this.getAttributes(),numItems:n});r.addBatches(t.facetBatches);const i=r.toArrays();i.arrays.strip={data:TR(this.properties.segments),numComponents:2},this.rangeMap.migrateEntries(i.rangeMap),this.arrays=Object.fromEntries(Object.entries(i.arrays).map(([a,s])=>[a,{...s,data:void 0}])),this.updateBufferInfo(i)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>this.bindOrSetMarkUniformBlock()),this._baseInstanceExt?n.push(()=>Qi(this.gl,this.programInfo,this.vertexArrayInfo)):n.push(()=>this.gl.bindVertexArray(null)),n}render(t){const n=this.gl,r=(this.properties.segments+1)*2;return this._baseInstanceExt?this.createRenderCallback((i,a)=>{this._baseInstanceExt.drawArraysInstancedBaseInstanceWEBGL(n.TRIANGLE_STRIP,0,r,a,i)},t):this.createRenderCallback((i,a)=>{for(const s of Object.entries(this.bufferInfo.attribs)){const[o,f]=s;f.buffer&&f.numComponents&&f.divisor&&(f.offset=i*this.arrays[o].numComponents*4)}Qi(n,this.programInfo,this.bufferInfo),n.drawArraysInstanced(n.TRIANGLE_STRIP,0,r,a)},t)}}function TR(e){let t=0;const n=[];for(;t<=e;t++)n.push(t/e,.5),n.push(t/e,-.5);return new Float32Array(n)}const IR=`in mediump vec2 vertexCoord;
in lowp vec2 textureCoord;

// Width of the text (all letters)
in float width;

out vec2 vTexCoord;
out vec4 vColor;
out float vSlope;
out float vEdgeFadeOpacity;

struct RangeResult {
    float pos;
    float scale;
};

float minValue(vec4 v) {
    return min(min(v.x, v.y), min(v.z, v.w));
}

float maxValue(vec4 v) {
    return max(max(v.x, v.y), max(v.z, v.w));
}

/**
 * All measures are in [0, 1]
 */
RangeResult positionInsideRange(float a, float b, float width, float padding,
                                int align, bool flush) {
    float span = b - a;
    float paddedWidth = width + 2.0 * padding;

    // Is the text clearly outside the viewport
    if (a > 1.0 || b < 0.0) {
        return RangeResult(0.0, 0.0);
    }

    // How much extra space we have for adjusting the position so that the
    // text stays inside the range.
    float extra = max(0.0, span - paddedWidth);

    float pos;

    // Align the text and try to keep it inside the range and the viewport
    if (align == 0) {
        float centre = a + b;

        if (flush) {
            float leftOver = max(0.0, paddedWidth - centre);
            centre += min(leftOver, extra);

            float rightOver = max(0.0, paddedWidth + centre - 2.0);
            centre -= min(rightOver, extra);
        }

        pos = centre / 2.0;

    } else if (align < 0) {
        float edge = a;

        if (flush) {
            float over = max(0.0, -edge);
            edge += min(over, extra);
        }

        pos = edge + padding;

    } else {
        float edge = b;

        if (flush) {
            float over = max(0.0, edge - 1.0);
            edge -= min(over, extra);
        }

		// TODO: If the text spans the whole viewport, try to keep it centered if possible.

        pos = edge - padding;
    }

    // How the text should be scaled to make it fit inside the range (if it didn't fit).
    float scale = clamp((span - padding) / paddedWidth, 0.0, 1.0);

    // TODO: Fix padding in scale factor. Padding should stay constant
    return RangeResult(pos, scale);
}

vec2 calculateRotatedDimensions(float width, mat2 rotationMatrix) {
    vec2 a = abs(rotationMatrix * vec2(width / 2.0, 0.5));
    vec2 b = abs(rotationMatrix * vec2(width / 2.0, -0.5));
    return vec2(max(a.x, b.x), max(a.y, b.y)) * 2.0;
}

/** Needed when using ranged text */
ivec2 fixAlignForAngle(ivec2 align, float angleInDegrees) {
    float a = mod(angleInDegrees + 45.0, 360.0);
    int x = align.x;
    int y = -align.y;

    // TODO: Optimize by avoiding branching
    if (a < 90.0) {
        return ivec2(x, y);
    } else if (a < 180.0) {
        return ivec2(y, -x);
    } else if (a < 270.0) {
        return ivec2(-x, y);
    } else {
        return ivec2(-y, x);
    }
}

void main(void) {
    float opacity = getScaled_opacity() * uViewOpacity;
    vec2 size = vec2(getScaled_size());
    float x = getScaled_x();
    float y = getScaled_y();

    float scale = 1.0;

	float angleInDegrees = getScaled_angle();
	float angle = -angleInDegrees * PI / 180.0;
	
    float sinTheta = sin(angle);
    float cosTheta = cos(angle);
    mat2 rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);

    vec2 flushSize = calculateRotatedDimensions(width, rotationMatrix);

#if defined(x2_DEFINED) || defined(y2_DEFINED)
    ivec2 align = fixAlignForAngle(uAlign, angleInDegrees);
#else
    ivec2 align = uAlign;
#endif

#ifdef x2_DEFINED
    float x2 = getScaled_x2();

    if (uLogoLetter) {
        size.x = (x2 - x) * uViewportSize.x;
        x += (x2 - x) / 2.0;

    } else {
        float x2 = getScaled_x2();
        RangeResult result = positionInsideRange(
            min(x, x2), max(x, x2),
            size.x * scale * flushSize.x / uViewportSize.x, uPaddingX / uViewportSize.x,
            align.x, uFlushX);
        
        x = result.pos;
        scale *= result.scale;
    }
#endif

    // Position of the text origo 
    vec2 pos = applySampleFacet(vec2(x, y));

#ifdef y2_DEFINED
    float y2 = getScaled_y2();
    vec2 pos2 = applySampleFacet(vec2(x, y2));

    if (uLogoLetter) {
        size.y = (pos2.y - pos.y) * uViewportSize.y;
        pos.y += (pos2.y - pos.y) / 2.0;

    } else {
        RangeResult result = positionInsideRange(
            min(pos.y, pos2.y), max(pos.y, pos2.y),
            size.y * scale * flushSize.y / uViewportSize.y, uPaddingY / uViewportSize.y,
            align.y, uFlushY);
        
        pos.y = result.pos;
        scale *= result.scale;
    }
#endif

    if (scale < 1.0) {
        if (uSqueeze) {
            vec2 scaleFadeExtent = vec2(3.0, 6.0) / size;

            if (scale  < scaleFadeExtent[0]) {
                gl_Position = vec4(0.0);
                return;
            }

            size *= scale;
            opacity *= linearstep(scaleFadeExtent[0], scaleFadeExtent[1], scale);

        } else if (scale < 1.0) {
            // Eliminate the text
            gl_Position = vec4(0.0);
            return;
        }
    }

    // Position of the character vertex in relation to the text origo
    vec2 charPos = rotationMatrix * (vertexCoord * size + uD);

    // Position of the character vertex inside the unit viewport
    vec2 unitPos = pos + charPos / uViewportSize;

    gl_Position = unitToNdc(unitPos);

    // Controls antialiasing of the SDF
    vSlope = max(1.0, min(size.x, size.y) / uSdfNumerator);

    vColor = vec4(getScaled_color() * opacity, opacity);

    vTexCoord = textureCoord;

    // Edge fading. The implementation is simplistic and fails with primitives that
    // span the whole viewport. However, it works just fine with reasonable font sizes.
    // x: top, y: right, z: bottom, w: left
    if (maxValue(uViewportEdgeFadeDistance) > -pow(10.0, 10.0)) { // -Infinity would be nice
        vEdgeFadeOpacity = minValue(
            ((vec4(1.0, 1.0, 0.0, 0.0) + vec4(-1.0, -1.0, 1.0, 1.0) * unitPos.yxyx) *
                uViewportSize.yxyx - uViewportEdgeFadeDistance) / uViewportEdgeFadeWidth);
    } else {
        vEdgeFadeOpacity = 1.0;
    }

    setupPicking();
}
`,BR=`uniform sampler2D uTexture;

in vec2 vTexCoord;
in float vEdgeFadeOpacity;
in vec4 vColor;
in float vSlope;

out lowp vec4 fragColor;

float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
}

void main() {
    // TODO: Really small text should fall back to normal (non-SDF) texture that can be mip-mapped.
    // Currently small text has severe aliasing artifacts.

    vec3 c = texture(uTexture, vTexCoord).rgb;

    float sigDist = 1.0 - median(c.r, c.g, c.b);

    // Using screen-space derivatives for logo letters because skewed aspect ratios
    // result in blurry edges otherwise. However, use of screen-space derivatives
    // results in crappy looking text with regular letters text.
    float slope = uLogoLetter
        ? 0.7 / length(vec2(dFdy(sigDist), dFdx(sigDist)))
        : vSlope;

    float opa = clamp((sigDist - 0.5) * slope + 0.5, 0.0, 1.0);

    // Raise to the power of 2.2 to do some cheap gamma correction
    opa *= pow(clamp(vEdgeFadeOpacity, 0.0, 1.0), 2.2);

    fragColor = vColor * opa;

    if (uPickingEnabled) {
        fragColor = vPickingColor;
    }
}
`,DR=`layout(std140) uniform Mark {
    uniform mediump float uSdfNumerator;

    uniform mediump vec2 uD; // dx & dy

    uniform mediump vec4 uViewportEdgeFadeWidth;
    uniform mediump vec4 uViewportEdgeFadeDistance;
        
    uniform bool uSqueeze;
    uniform bool uLogoLetter;

    // x: -1, 0, 1 = left, center, right
    // y: -1, 0, 1 = top, middle, bottom 
    uniform lowp ivec2 uAlign;

    uniform mediump float uPaddingX;
    uniform bool uFlushX;
    uniform mediump float uPaddingY;
    uniform bool uFlushY;

#pragma markUniforms
};
`,FR={left:-1,center:0,right:1},RR={top:-1,middle:0,bottom:1,alphabetic:1};class MR extends ul{constructor(t){super(t),Object.defineProperties(this.defaultProperties,Object.getOwnPropertyDescriptors({x:.5,y:.5,x2:void 0,y2:void 0,text:"",size:11,color:"black",opacity:1,font:void 0,fontStyle:void 0,fontWeight:void 0,align:"center",baseline:"middle",dx:0,dy:0,angle:0,fitToBand:!1,squeeze:!0,paddingX:0,paddingY:0,flushX:!0,flushY:!0,logoLetters:!1,viewportEdgeFadeWidthTop:0,viewportEdgeFadeWidthRight:0,viewportEdgeFadeWidthBottom:0,viewportEdgeFadeWidthLeft:0,viewportEdgeFadeDistanceTop:-1/0,viewportEdgeFadeDistanceRight:-1/0,viewportEdgeFadeDistanceBottom:-1/0,viewportEdgeFadeDistanceLeft:-1/0})),this.font=this.properties.font?t.context.fontManager.getFont(this.properties.font,this.properties.fontStyle,this.properties.fontWeight):t.context.fontManager.getDefaultFont(),this.setupExprRefsNeedingGraphicsUpdate(["text","fitToBand","logoLetters"])}getAttributes(){return["uniqueId","facetIndex","x","x2","y","y2","color","size","opacity","angle"]}getSupportedChannels(){return[...super.getSupportedChannels(),"x2","y2","size","text","angle"]}fixEncoding(t){for(const n of qa)this.properties.fitToBand&&Q0(t,n);return t}async initializeGraphics(){await super.initializeGraphics(),this.createAndLinkShaders(IR,BR,[DR])}finalizeGraphicsInitialization(){super.finalizeGraphicsInitialization(),this.gl.useProgram(this.programInfo.program);const t=this.properties;this.registerMarkUniformValue("uSdfNumerator",{expr:"devicePixelRatio"},n=>{let r=.35;return this.properties.logoLetters&&(r/=2),this.font.metrics.common.base/(n/r)}),this.registerMarkUniformValue("uPaddingX",t.paddingX),this.registerMarkUniformValue("uPaddingY",t.paddingY),this.registerMarkUniformValue("uFlushX",t.flushX,n=>!!n),this.registerMarkUniformValue("uFlushY",t.flushY,n=>!!n),this.registerMarkUniformValue("uSqueeze",t.squeeze,n=>!!n),ol(this.markUniformInfo,{uAlign:[FR[t.align],RR[t.baseline]],uD:[t.dx,-t.dy],uLogoLetter:!!t.logoLetters,uViewportEdgeFadeWidth:[t.viewportEdgeFadeWidthTop,t.viewportEdgeFadeWidthRight,t.viewportEdgeFadeWidthBottom,t.viewportEdgeFadeWidthLeft],uViewportEdgeFadeDistance:[t.viewportEdgeFadeDistanceTop,t.viewportEdgeFadeDistanceRight,t.viewportEdgeFadeDistanceBottom,t.viewportEdgeFadeDistanceLeft]})}updateGraphicsData(){const t=this.unitView.getCollector(),n=t.getData(),r=this.encoding,i=this.encoders.text.accessor||this.encoders.text;let a=0;const s="format"in r.text?mt(r.text.format):l=>l;for(const l of n){const u=s(i(l)),c=Ue(u)?u:u===null?"":""+u;a+=c&&c.length||0}const o=new ZF({encoders:this.encoders,attributes:this.getAttributes(),properties:this.properties,fontMetrics:this.font.metrics,numCharacters:Math.max(a,this.properties.minBufferSize||1024)});o.addBatches(t.facetBatches);const f=o.toArrays();this.rangeMap.migrateEntries(f.rangeMap),this.updateBufferInfo(f)}prepareRender(t){const n=super.prepareRender(t);return n.push(()=>{ns(this.programInfo,{uTexture:this.font.texture})}),n.push(()=>this.bindOrSetMarkUniformBlock()),n.push(()=>Qi(this.gl,this.programInfo,this.vertexArrayInfo)),n}render(t){const n=this.gl;return this.createRenderCallback((r,i)=>uc(n,this.vertexArrayInfo,n.TRIANGLES,i,r),t)}}const Ux=1;function K0(){let e=[0,1],t=[0,1],n=1,r=1,i=0,a=0,s=.5,o=0;const l=u=>(u+s-e[0])/n*r+t[0];return l.invert=u=>(u-t[0])/r*n+e[0]-s,l.domain=function(u){if(arguments.length){e=w3(u),n=e[1]-e[0];const c=e[0]===0&&e[0]===0;if(n<Ux&&!c){n=Ux;const h=(e[0]+e[1])/2;e[0]=h-n/2,e[1]=h+n/2}return l}else return e.slice()},l.range=function(u){return arguments.length?(t=[...u],r=t[1]-t[0],l):t},l.numberingOffset=function(u){return arguments.length?(o=u,l):o},l.padding=function(u){return arguments.length?(a=u,i=Math.min(1,u),l):i},l.paddingInner=function(u){return arguments.length?(i=Math.min(1,u),l):i},l.paddingOuter=function(u){return arguments.length?(a=u,l):a},l.align=function(u){return arguments.length?(s=Math.max(0,Math.min(1,u)),l):s},l.step=()=>r/n,l.bandwidth=()=>l.step(),l.ticks=u=>{const c=l.align(),h=l.numberingOffset();return tu(e[0]-c+h,e[1]-c+h,Math.min(u,Math.ceil(n))).filter(Number.isInteger).map(d=>d-o)},l.tickFormat=(u,c)=>{if(c)throw new Error("Index scale's tickFormat does not support a specifier!");const d=Mr(e[0],e[1],Math.min(u,Math.ceil(n)))<1e5?mt(","):mt(".3s");return p=>d(p+o)},l.copy=()=>K0().domain(e).range(t).paddingInner(i).paddingOuter(a).numberingOffset(o),l}function PR(){const e=K0().numberingOffset(1);let t;e.genome=function(r){return arguments.length?(t=r,e):t},e.ticks=r=>{if(!t)return[];const i=e.domain(),a=e.numberingOffset(),[s,o]=[Math.max(i[0],0),Math.min(i[1],t.totalSize-1)].map(u=>t.toChromosome(u)),f=Math.max(1,Mr(i[0],i[1],r)),l=[];for(let u=s.index;u<=o.index;u++){const c=t.chromosomes[u],h=Math.max(c.continuousStart+f,i[0]-(i[0]-c.continuousStart)%f),d=Math.min(c.continuousEnd-f/4,i[1]+1);for(let p=h;p<=d;p+=f){const m=p-a;m>=i[0]&&m<i[1]&&l.push(m)}}return l},e.tickFormat=(r,i)=>{if(!t)return;if(i)throw new Error("Locus scale's tickFormat does not support a specifier!");const a=e.domain(),s=a[1]-a[0],o=e.numberingOffset(),l=Mr(a[0],a[1],Math.min(r,Math.ceil(s)))<1e6?mt(","):mt(".3s"),u=c=>c-t.toChromosome(c).continuousStart;return c=>l(u(c)+o)};const n=e.copy;return e.copy=()=>n().genome(t),e}function LR(e){return e.type=="locus"}function bc(e,t,n){if(n=n||[],e.some(s=>s===null)){if(e.every(s=>s===null))return null;throw console.warn(e),new Error("Cannot merge objects with nulls!")}const r={},i=(s,o)=>s===o||is(s)&&is(o)||is(s)&&o===!0||s===!0&&kt(o),a=s=>{for(let o in s){const f=s[o];if(!n.includes(o)&&f!==void 0)if(r[o]!==void 0&&!i(r[o],f))console.warn(`Conflicting property ${o} of ${t}: (${JSON.stringify(r[o])} and ${JSON.stringify(s[o])}). Using ${JSON.stringify(r[o])}.`);else{const l=r[o];if(is(l))is(f)&&(r[o]=bc([l,f],o));else if(is(f)){if(!(l===!0||l===void 0))throw new Error("Bug in merge! Target is: "+l);r[o]=bc([{},f],o)}else r[o]=f}}};for(const s of e)a(s);return r}function is(e){return kt(e)&&!Array.isArray(e)}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/ticks.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */function Gx(e,t,n){return Tt(t)&&n!=null&&(t=Math.min(t,~~(Yf(e.domain())/n)||1)),kt(t)&&(t.step,t=t.interval),t}function Hx(e,t,n){var r=e.range(),i=Math.floor(r[0]),a=Math.ceil(vn(r));if(i>a&&(r=a,a=i,i=r),t=t.filter(function(o){return o=e(o),i<=o&&o<=a}),n>0&&t.length>1){for(var s=[t[0],vn(t)];t.length>n&&t.length>=3;)t=t.filter(function(o,f){return!(f%2)});t.length<3&&(t=s)}return t}function OR(e,t){return e.bins?Hx(e,NR(e.bins,t)):e.ticks?e.ticks(t):e.domain()}function NR(e,t){var n=e.length,r=~~(n/(t||n));return r<2?e.slice():e.filter(function(i,a){return!(a%r)})}function zR(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):n?mt(n):String;if(Zy(e.type)){var i=GR(n);r=e.bins?i:UR(r,i)}return r}function UR(e,t){return function(n){return e(n)?t(n):""}}function GR(e){var t=Pr(e||",");if(t.precision==null){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1;break}return HR(mt(t),mt(".1f")(1)[1])}else return mt(t)}function HR(e,t){return function(n){var r=e(n),i=r.indexOf(t),a,s;if(i<0)return r;for(a=VR(r,i),s=a<r.length?r.slice(a):"";--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+s}}function VR(e,t){var n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}/*!
 * Adapted from vega-encode:
 * https://github.com/vega/vega/blob/master/packages/vega-encode/src/Scale.js
 *
 * Copyright (c) 2015-2018, University of Washington Interactive Data Lab
 * All rights reserved.
 *
 * BSD-3-Clause License: https://github.com/vega/vega-lite/blob/master/LICENSE
 */const jR="locus",$R="index";var qR=5;function WR(e){const t=e.type;return!e.bins&&(t===ja||t===Wo||t===Zo)}function Vx(e){return yt(e)&&![Hn,$R,jR].includes(e)}function jx(e){return e||{warn:(t,...n)=>console.warn(t,...n)}}var ZR=Xf(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma","zoom","fp64","name"]);function $x(e,t,n){n=jx(n);for(const r in e)if(!ZR[r]){if(r==="padding"&&Vx(t.type))continue;Lt(t[r])?t[r](e[r]):n.warn("Unsupported scale property: "+r)}nM(t,e,tM(t,e,KR(t,e,n)))}function YR(e,t){const n=QR(e),r=_e(n);if(!r)throw new Error("Unknown scale type: "+n);const i=r();return!e.domain&&yt(i.type)&&(e.domain=[0,0]),$x(e,i,t),i}function QR(e){var t=e.type,n="",r;return t===Hn?Hn+"-"+ja:(XR(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Hn+"-":r===3?$a+"-":""),(n+t||ja).toLowerCase())}function XR(e){const t=e.type;return yt(t)&&t!==Uy&&t!==Gy&&(e.scheme||e.range&&e.range.length&&e.range.every(Ue))}function KR(e,t,n){if(!e.domain)return 0;n=jx(n);var r=JR(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,s=t.zero||t.zero===void 0&&WR(e),o,f;return i?(Vx(a)&&t.padding&&i[0]!==vn(i)&&(i=eM(a,i,t.range,t.padding,t.exponent,t.constant)),(s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(o=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[o]<0&&(i[o]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[o]=t.domainMax),t.domainMid!=null&&(f=t.domainMid,(f<i[0]||f>i[o])&&n.warn("Scale domainMid exceeds domain min or max.",f),i.splice(o,0,f))),e.domain(qx(a,i,n)),a===o0&&e.unknown(t.domainImplicit?Td:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&Gx(e,t.nice)||null),i.length):0}function JR(e,t,n){return t?(e.domain(qx(e.type,t,n)),t.length):-1}function eM(e,t,n,r,i,a){n??(n=[0,1]);var s=Math.abs(vn(n)-n[0]),o=s/(s-2*r),f=e===$r?Xm(t,null,o):e===Zo?Hh(t,null,o,.5):e===Wo?Hh(t,null,o,i||1):e===Lu?VC(t,null,o,a||1):Qm(t,null,o);return t=t.slice(),t[0]=f[0],t[t.length-1]=f[1],t}function qx(e,t,n){if(Zy(e)){var r=Math.abs(t.reduce(function(i,a){return i+(a<0?-1:a>0?1:0)},0));r!==t.length&&n.warn("Log scale domain includes zero: "+Qf(t))}return t}function tM(e,t,n){let r=t.bins;if(r&&!vt(r)){const i=(r.start==null||r.stop==null)&&e.domain(),a=r.start==null?i[0]:r.start,s=r.stop==null?vn(i):r.stop,o=r.step;o||Xe("Scale bins parameter missing step property."),r=oo(a,s+o,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===f0&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function nM(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=rM(r,t,n);else if(t.scheme&&(a=iM(r,t,n),Lt(a))){if(e.interpolator)return e.interpolator(a);Xe(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&Nu(r))return e.interpolator(zu(J0(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Yy(t.interpolate,t.interpolateGamma)):Lt(e.round)?e.round(i):Lt(e.rangeRound)&&e.interpolate(i?$o:Vr),a&&e.range(J0(a,t.reverse))}function rM(e,t,n){e!==jy&&e!==l0&&Xe("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===l0?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*a0(n,i,r)]}function iM(e,t,n){var r=t.schemeExtent,i,a;return vt(t.scheme)?a=zu(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=c0(i),a||Xe(`Unrecognized scheme name: ${t.scheme}`)),n=e===Vy?n+1:e===f0?n-1:e===s0||e===Hy?+t.schemeCount||qR:n,Nu(e)?Wx(a,r,t.reverse):Lt(a)?C6(Wx(a,r),n):e===o0?a:a.slice(0,n)}function Wx(e,t,n){return Lt(e)&&(t||n)?S6(e,J0(t||[0,1],n)):e}function J0(e,t){return t?e.slice().reverse():e}const Zx=mt(",d");function aM(e,t){return e.chrom+":"+Zx(Math.floor(e.pos+1))+"-"+(e.chrom!=t.chrom?t.chrom+":":"")+Zx(Math.ceil(t.pos))}const sM="https://genomespy.app/data/genomes/";class oM{constructor(t){if(this.config=t,!this.config.contigs&&typeof this.config.name!="string")throw new Error("No name has been defined for the genome assembly!");this.chromosomes=[],this.cumulativeChromPositions=new Map,this.chromosomesByName=new Map,this.startByIndex=[],this.totalSize=0,this.config.contigs&&this.setChromSizes(this.config.contigs)}get name(){return this.config.name}async load(t){if(!this.config.contigs){this.config.baseUrl?this.baseUrl=/^http(s)?/.test(this.config.baseUrl)?this.config.baseUrl:t+"/"+this.config.baseUrl:this.baseUrl=sM;try{this.setChromSizes(lM(await pu({baseURL:this.baseUrl}).load(`${this.config.name}/${this.name}.chrom.sizes`)))}catch(n){throw new Error(`Could not load chrom sizes: ${n.message}`)}}}hasChrPrefix(){return this.chromosomes.some(t=>t.name.startsWith("chr"))}setChromSizes(t){let n=0;this.startByIndex=[0];for(let r=0;r<t.length;r++){this.startByIndex.push(n);const i=t[r].size,a={...t[r],continuousStart:n,continuousEnd:n+i,continuousInterval:[n,n+i],index:r,number:r+1,odd:!(r&1)};this.chromosomes.push(a);const s=a.name.replace(/^chr/i,"");for(const o of["chr"+s,"CHR"+s,"Chr"+s,a.number,""+a.number,s,a.name])this.cumulativeChromPositions.set(o,n),this.chromosomesByName.set(o,a);n+=a.size}this.totalSize=n}getExtent(){return[0,this.totalSize]}toContinuous(t,n){let r=this.cumulativeChromPositions.get(t);if(r===void 0)throw new Error("Unknown chromosome/contig: "+t);return r+ +n}toChromosome(t){if(t>this.totalSize)return;t=Math.floor(t);const n=Rr(this.startByIndex,t)-1;if(n>0&&n<=this.chromosomes.length)return this.chromosomes[n-1]}toChromosomal(t){const n=this.toChromosome(t);if(n)return{chrom:n.name,pos:Math.floor(t)-n.continuousStart}}getChromosome(t){return this.chromosomesByName.get(t)}formatInterval(t){return aM(...this.toChromosomalInterval(t))}toChromosomalInterval(t){const n=this.toChromosomal(t[0]+.5),r=this.toChromosomal(t[1]-.5);return r.pos+=1,[n,r]}toContinuousInterval(t){var i;let[n,r]=t;return r||(r=n),[this.toContinuous(n.chrom,n.pos??0),this.toContinuous(r.chrom,r.pos??((i=this.chromosomesByName.get(r.chrom))==null?void 0:i.size))]}toDiscreteChromosomeIntervals(t){const n=t[0],r=t[1],i=[];if(n.chrom===r.chrom)i.push({chrom:n.chrom,startPos:n.pos,endPos:r.pos});else{const a=this.chromosomes.findIndex(o=>o.name===n.chrom),s=this.chromosomes.findIndex(o=>o.name===r.chrom);i.push({chrom:n.chrom,startPos:n.pos,endPos:this.chromosomes[a].size});for(let o=a+1;o<s;o++)i.push({chrom:this.chromosomes[o].name,startPos:0,endPos:this.chromosomes[o].size});i.push({chrom:r.chrom,startPos:0,endPos:r.pos})}return i}continuousToDiscreteChromosomeIntervals(t){return this.toDiscreteChromosomeIntervals([this.toChromosomal(t[0]),this.toChromosomal(t[1])])}parseInterval(t){const n=t.match(/^(chr[0-9A-Z]+)(?::([0-9,]+)(?:-(?:(chr[0-9A-Z]+):)?([0-9,]+))?)?$/);if(n){const r=n[1];if(n.slice(2).every(o=>o===void 0)){const o=this.getChromosome(r);return o?[o.continuousStart,o.continuousEnd]:void 0}const i=n[3]||r,a=parseInt(n[2].replace(/,/g,"")),s=n[4]!==void 0?parseInt(n[4].replace(/,/g,"")):a;return[this.toContinuous(r,a-1),this.toContinuous(i,s)]}}}function lM(e){return l3(e).filter(t=>/^chr[0-9A-Z]+$/.test(t[0])).map(([t,n])=>({name:t,size:parseInt(n)}))}function Yx(e){return kt(e)&&"chrom"in e}function fM(e){return e.every(Yx)}class cl extends Array{constructor(){super(),this.type=void 0}extend(t){return this}extendAll(t){if(t instanceof cl&&t.type!=this.type)throw new Error(`Cannot combine different types of domains: ${this.type} and ${t.type}`);for(const n of t)this.extend(n);return this}extendAllWithAccessor(t,n){for(const r of t)this.extend(n(r));return this}}class ep extends cl{constructor(){super(),this.type="quantitative"}extend(t){return t==null||Number.isNaN(t)?this:(t=+t,this.length?t<this[0]?this[0]=t:t>this[1]&&(this[1]=t):(this.push(t),this.push(t)),this)}}class Qx extends cl{constructor(){super(),this.type="ordinal",this.uniqueValues=new Set}extend(t){return t==null||Number.isNaN(t)?this:(this.uniqueValues.has(t)||(this.uniqueValues.add(t),this.push(t)),this)}}class Xx extends Qx{constructor(){super(),this.type="nominal"}}class uM extends cl{constructor(t){super();let n=0;for(let r=1;r<t.length;r++)n+=Math.sign(t[r]-t[r-1]);if(Math.abs(n)!=t.length-1)throw new Error("Piecewise domain must be strictly increasing or decreasing: "+JSON.stringify(t));t.forEach(r=>this.push(r))}extend(t){if(this.includes(t))return this;throw new Error("Piecewise domains are immutable and cannot be unioned!")}}const Kx={quantitative:ep,index:ep,locus:ep,nominal:Xx,ordinal:Qx};function Jx(e,t){if(e=="quantitative"&&cM(t)){const n=new uM(t);return n.type=e,n}else if(Kx[e]){const n=new Kx[e];return n.type=e,t&&n.extendAll(t),n}throw new Error("Unknown type: "+e)}function cM(e){return e&&e.length>0&&e.length!=2&&e.every(t=>typeof t=="number")}function hM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function dM(e,t,n){return e*Math.pow(t/e,n)}_e("index",K0,["continuous"]),_e("locus",PR,["continuous"]),_e("null",Uu,[]);const ev="quantitative",tv="ordinal",nv="nominal",rv="locus",pM="index";class gM{constructor(t){Y(this,bf);Y(this,_m);Y(this,Fn);Y(this,yf);Y(this,Ch);Y(this,kh);Y(this,wf);Y(this,xf);Y(this,Vs);Y(this,Sr);Y(this,vf);Y(this,Th);Y(this,Sm);Y(this,Af);Y(this,_r,void 0);Y(this,Hs,{domain:new Set,range:new Set});Y(this,tn,void 0);Y(this,mf,new Set);this.channel=t,this.members=[],this.type=null,this.name=void 0}addEventListener(t,n){G(this,Hs)[t].add(n)}removeEventListener(t,n){G(this,Hs)[t].delete(n)}pushUnitView(t,n){var s;const r=h0(t,n),i=r.type,a=(s=r==null?void 0:r.scale)==null?void 0:s.name;if(a){if(this.name!==void 0&&a!=this.name)throw new Error(`Shared scales have conflicting names: "${a}" vs. "${this.name}"!`);this.name=a}if(!this.type)this.type=i;else if(i!==this.type&&!el(n))throw new Error(`Can not use shared scale for different data types: ${this.type} vs. ${i}. Use "resolve: independent" for channel ${this.channel}`);this.members.push({view:t,channel:n})}getConfiguredDomain(){return K(this,Af,Nm).call(this,t=>el(t.channel)?void 0:t.view.getConfiguredDomain(t.channel))}getDataDomain(){return K(this,Af,Nm).call(this,t=>el(t.channel)?void 0:t.view.extractDataDomain(t.channel))}reconfigure(){const t=G(this,tn);if(!t||t.type=="null")return;const n=K(this,Ch,SC).call(this),r=t.domain(),i=K(this,wf,Pm).call(this);if($x({...i,range:void 0},t),t.props=i,K(this,xf,Lm).call(this),yt(t.type)&&he(this,_r,K(this,vf,Om).call(this)),!n){K(this,Fn,Fr).call(this,"domain");return}const a=t.domain();wd(a,r)||(this.isZoomable()?t.domain(r):K(this,Sr,Ta).call(this)?(t.domain(r),this.zoomTo(a,500)):K(this,Fn,Fr).call(this,"domain"))}get scale(){if(G(this,tn))return G(this,tn);const t=K(this,wf,Pm).call(this),n=YR({...t,range:void 0});n.props=t,he(this,tn,n),K(this,xf,Lm).call(this),LR(n)&&n.genome(this.getGenome()),yt(n.type)&&he(this,_r,K(this,vf,Om).call(this));const r=n.range;if(r){const i=()=>K(this,Fn,Fr).call(this,"range");n.range=function(a){if(arguments.length)r(a),i();else return r()},i()}return n}getDomain(){return this.scale.domain()}getComplexDomain(){var t;return((t=this.getGenome())==null?void 0:t.toChromosomalInterval(this.getDomain()))??this.getDomain()}isZoomed(){return K(this,Sr,Ta).call(this)&&wd(K(this,Vs,Nh).call(this),this.getDomain())}isZoomable(){return K(this,Sr,Ta).call(this)&&!!this.scale.props.zoom}zoom(t,n,r){if(!K(this,Sr,Ta).call(this))return!1;const i=this.scale,a=i.domain();let s=[...a],o=i.invert(n);switch(i.props.reverse&&(r=-r),"align"in i&&(o+=i.align()),i.type){case"linear":case"index":case"locus":s=UC(s,r||0),s=Qm(s,o,t);break;case"log":s=GC(s,r||0),s=Xm(s,o,t);break;case"pow":case"sqrt":{const f=i;s=HC(s,r||0,f.exponent()),s=Hh(s,o,t,f.exponent());break}default:throw new Error("Zooming is not implemented for: "+i.type)}return G(this,_r)&&(s=jC(s,G(this,_r)[0],G(this,_r)[1])),[0,1].some(f=>s[f]!=a[f])?(i.domain(s),K(this,Fn,Fr).call(this,"domain"),!0):!1}async zoomTo(t,n=!1){var o;if(io(n)&&(n=n?700:0),!K(this,Sr,Ta).call(this))throw new Error("Not a zoomable scale!");const r=this.fromComplexInterval(t),i=(o=this.members[0])==null?void 0:o.view.context.animator,a=this.scale,s=a.domain();if(n>0&&s.length==2){const f=s[1]-s[0],l=s[0]+f/2,u=r[1]-r[0],c=r[0]+u/2;await i.transition({duration:n,easingFunction:hM,onUpdate:h=>{const d=dM(f,u,h),p=(f-d)/(f-u),m=p*c+(1-p)*l;a.domain([m-d/2,m+d/2]),K(this,Fn,Fr).call(this,"domain")}}),a.domain(r),K(this,Fn,Fr).call(this,"domain")}else a.domain(r),i==null||i.requestRender(),K(this,Fn,Fr).call(this,"domain")}resetZoom(){if(!K(this,Sr,Ta).call(this))throw new Error("Not a zoomable scale!");const t=this.getDomain(),n=K(this,Vs,Nh).call(this);return[0,1].some(r=>n[r]!=t[r])?(G(this,tn).domain(n),K(this,Fn,Fr).call(this,"domain"),!0):!1}getZoomLevel(){return this.isZoomable()?Yf(G(this,_r))/Yf(this.scale.domain()):1}getGenome(){var n;if(this.type!=="locus")return;const t=(n=this.members[0].view.context.genomeStore)==null?void 0:n.getGenome();if(!t)throw new Error("No genome has been defined!");return t}invertToComplex(t){const n=this.scale;if("invert"in n){const r=n.invert(t);return this.toComplex(r)}else throw new Error("The scale does not support inverting!")}toComplex(t){const n=this.getGenome();return n?n.toChromosomal(t):t}fromComplex(t){return Yx(t)?this.getGenome().toContinuous(t.chrom,t.pos):t}fromComplexInterval(t){return this.type==="locus"&&fM(t)?this.getGenome().toContinuousInterval(t):t}}_r=new WeakMap,Hs=new WeakMap,tn=new WeakMap,mf=new WeakMap,bf=new WeakSet,Rm=function(){return this.members[0].view},_m=new WeakSet,RG=function(){return G(this,bf,Rm).context},Fn=new WeakSet,Fr=function(t){for(const n of G(this,Hs)[t].values())n({type:t,scaleResolution:this})},yf=new WeakSet,Mm=function(){return!!this.getConfiguredDomain()},Ch=new WeakSet,SC=function(){const t=G(this,tn);if(!t)return!1;const n=t.domain();return yt(t.type)?n.length>2||n.length==2&&(n[0]!==0||n[1]!==0):n.length>0},kh=new WeakSet,CC=function(){const t=this.members.map(n=>h0(n.view,n.channel).scale).filter(n=>n!==void 0);return bc(t,"scale",["domain"])},wf=new WeakSet,Pm=function(){const t=K(this,kh,CC).call(this);if(t===null||t.type=="null")return{type:"null"};const n={...K(this,Th,kC).call(this,this.type),...t};n.type||(n.type=mM(this.channel,this.type));const r=K(this,Vs,Nh).call(this);return r&&r.length>0?n.domain=r:Vn(n.type)&&(n.domain=new Xx),!n.domain&&n.domainMid!==void 0&&(n.domain=[n.domainMin??0,n.domainMax??1]),this.channel=="y"&&Vn(n.type)&&n.reverse==null&&(n.reverse=!0),n.range&&n.scheme&&delete n.scheme,!("zoom"in n)&&["index","locus"].includes(n.type)&&(n.zoom=!0),bM(n,this.channel),n},xf=new WeakSet,Lm=function(){const t=G(this,tn).props,n=t.range;if(G(this,mf).forEach(i=>i.invalidate()),!n||!vt(n))return;const r=(i,a)=>a?i.slice().reverse():i;if(n.some(It)){let i;const a=()=>{G(this,tn).range(r(i.map(s=>s()),t.reverse))};i=n.map(s=>{if(It(s)){const o=G(this,bf,Rm).paramMediator.createExpression(s.expr);return o.addListener(a),G(this,mf).add(o),()=>o(null)}else return()=>s}),a()}else G(this,tn).range(r(n,t.reverse))},Vs=new WeakSet,Nh=function(){return this.getConfiguredDomain()??(this.type==rv?this.getGenome().getExtent():this.getDataDomain())},Sr=new WeakSet,Ta=function(){const t=this.scale.type;return yt(t)},vf=new WeakSet,Om=function(){const t=this.scale.props,n=t.zoom;if(yM(n)&&vt(n.extent))return this.fromComplexInterval(n.extent);if(n)return t.type=="locus"?this.getGenome().getExtent():G(this,tn).domain()},Th=new WeakSet,kC=function(t){const n=this.channel,r={};return K(this,yf,Mm).call(this)&&(r.zero=!1),Jo(n)?r.nice=!K(this,yf,Mm).call(this):qr(n)?r.scheme=t==nv?"tableau10":t==tv?"blues":"viridis":Vu(n)?r.range=n=="shape"?["circle","square","triangle-up","cross","diamond"]:[]:n=="size"?r.range=[0,400]:n=="angle"&&(r.range=[0,360]),r},Sm=new WeakSet,MG=function(){return this.members.map(t=>t.view.getPathString()).join(", ")},Af=new WeakSet,Nm=function(t){const n=this.members.filter(r=>!r.view.getLayoutAncestors().some(i=>!i.options.contributesToScaleDomain)).map(t).filter(r=>!!r);if(n.length)return n.reduce((r,i)=>r.extendAll(i))};function mM(e,t){if(t==pM||t==rv){if(ew(e))return t;throw new Error(`${e} does not support ${t} data type. Only positional channels do.`)}const n={x:["band","band","linear"],y:["band","band","linear"],size:[void 0,"point","linear"],opacity:[void 0,"point","linear"],fillOpacity:[void 0,"point","linear"],strokeOpacity:[void 0,"point","linear"],color:["ordinal","ordinal","linear"],fill:["ordinal","ordinal","linear"],stroke:["ordinal","ordinal","linear"],strokeWidth:[void 0,void 0,"linear"],shape:["ordinal","ordinal",void 0],dx:[void 0,void 0,"null"],dy:[void 0,void 0,"null"],angle:[void 0,void 0,"linear"]},i=["sample"].includes(e)?"null":n[e]?n[e][[nv,tv,ev].indexOf(t)]:t==ev?"linear":"ordinal";if(i===void 0)throw new Error(`Channel "${e}" is not compatible with "${t}" data type. Use of a proper scale may be needed.`);return i}function bM(e,t){Jo(t)&&e.type!=="ordinal"&&(e.range=[0,1]),t=="opacity"&&yt(e.type)&&(e.clamp=!0)}function yM(e){return kt(e)}function tp(e){const t=new Set;function n(r){for(const i of Object.values(r.resolutions.scale))t.add(i)}for(const r of Nt(e)){r.visit(n);for(const i of r.getDataAncestors()){if(!i.options.contributesToScaleDomain)break;n(i)}}t.forEach(r=>r.reconfigure())}function np(...e){for(const t of e)if(t!==void 0)return t}class wM{constructor(t){this.channel=t,this.members=[]}get scaleResolution(){var t;return(t=Mo(this.members))==null?void 0:t.view.getScaleResolution(this.channel)}pushUnitView(t,n){const r=t.getScaleResolution(this.channel);if(!r)throw new Error("Cannot find a scale resolution!");if(this.scaleResolution&&r!==this.scaleResolution)throw new Error("Shared axes must have a shared scale!");this.members.push({view:t,channel:n})}getAxisProps(){return pc(this,"axisProps",()=>{const t=this.members.map(n=>{const r=n.view.mark.encoding[n.channel];return"axis"in r&&r.axis});return t.length>0&&t.some(n=>n===null)?null:bc(t.filter(n=>n!==void 0),"axis",["title"])})}getTitle(){const t=a=>{var o;const s=h0(a.view,a.channel);if(!sn(s))return{member:a,explicitTitle:np("axis"in s?(o=s.axis)==null?void 0:o.title:void 0,s.title),implicitTitle:np(qi(s)?s.field:void 0,Hu(s)?s.expr:void 0)}},n=this.members.map(t),r=n.filter(a=>{var s;if(el(a.member.channel)&&!a.explicitTitle){const o=Wi(a.member.channel);return((s=n.find(f=>f.member.view==a.member.view&&f.member.channel==o))==null?void 0:s.explicitTitle)===void 0}return!0}),i=new Set(r.map(a=>np(a.explicitTitle,a.implicitTitle)).filter(Ue));return i.size?[...i].join(", "):null}}function iv(e,t,{spacing:n,devicePixelRatio:r,offset:i,reverse:a}={}){n=n||0,i=i||0;let s=0,o=0;for(const p of e)s+=yc(p.px)+(rp(p)?0:n),o+=yc(p.grow);s-=n;const f=Math.max(0,t-s),l=r!==void 0?p=>Math.round(p*r)/r:p=>p,u=[],c=[],h=p=>{const m=u.length;if(!m)return;const y=(p?n:0)*(a?-1:1);d-=y;for(let w=0;w<m;w++)c.push({location:d+(w+1)/(m+1)*y,size:0});d+=y,u.length=0};let d=a?Math.max(t,s):0+i;if(e.length==1&&rp(e[0]))return[{location:d,size:0}];for(let p=0;p<e.length;p++){const m=e[p];if(rp(m))u.push(m);else{h(c.length>0);const y=yc(m.px)+(o?yc(m.grow)/o*f:0);a&&(d-=y),c.push({location:l(d),size:l(y)}),a?d-=n:d+=y+n}}return d+=a?n:-n,h(!1),c}function xM(e){let t=0,n=0;for(const r of e)t=Math.max(t,r.px??0),n=Math.max(n,r.grow??0);return{px:t,grow:n}}const Cm=class Cm{constructor(t,n){Y(this,Ef);this.width=t,this.height=n}addPadding(t){return K(this,Ef,zm).call(this,t.width,t.height)}subtractPadding(t){return K(this,Ef,zm).call(this,-t.width,-t.height)}};Ef=new WeakSet,zm=function(t,n){return new Cm({px:(this.width.px??0)+t,grow:this.width.grow},{px:(this.height.px??0)+n,grow:this.height.grow})};let ei=Cm;const hl=Object.freeze({px:0,grow:0}),av=new ei(hl,hl);function rp(e){return!e.px&&!e.grow}function yc(e){return e||0}function vM(e){return e&&(Tt(e.px)||Tt(e.grow))}function sv(e){if(fv(e))throw new Error("parseSizeDef does not accept step-based sizes.");if(vM(e))return e;if(Tt(e))return{px:e,grow:0};if(e==="container")return{px:0,grow:1};if(!e)return{px:0,grow:1};throw new Error(`Invalid sizeDef: ${e}`)}class St{constructor(t,n,r,i){this.top=t||0,this.right=n||0,this.bottom=r||0,this.left=i||0}get width(){return this.left+this.right}get height(){return this.top+this.bottom}expand(t){return t<=0?this:new St(this.top+t,this.right+t,this.bottom+t,this.left+t)}add(t){return new St(this.top+t.top,this.right+t.right,this.bottom+t.bottom,this.left+t.left)}subtract(t){return new St(this.top-t.top,this.right-t.right,this.bottom-t.bottom,this.left-t.left)}union(t){return new St(Math.max(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom),Math.max(this.left,t.left))}getHorizontal(){return new St(0,this.right,0,this.left)}getVertical(){return new St(this.top,0,this.bottom,0)}get horizontalTotal(){return this.left+this.right}get verticalTotal(){return this.top+this.bottom}static createFromConfig(t){return typeof t=="number"?this.createUniformPadding(t):t?this.createFromRecord(t):ip}static createFromRecord(t){return new St(t.top,t.right,t.bottom,t.left)}static zero(){return ip}static createUniformPadding(t){return new St(t,t,t,t)}}const ip=St.createUniformPadding(0);Object.freeze(ip);const AM=/^([A-Za-z]+:)?\/\//;function EM(e,t){if(t&&AM.test(t))return t;const n=e();return n&&t?n.endsWith("/")?n+t:n+"/"+t:n??t}const _M="VISIT_SKIP",dl="VISIT_STOP",ov=e=>e;class lv{constructor(t,n,r,i,a,s={}){Y(this,Aa);Y(this,Cf);Y(this,js,{});Y(this,_f,{});Y(this,Sf,{});Pt(this,"opacityFunction",ov);Pt(this,"facetCoords",new ar([],JSON.stringify));if(!t)throw new Error("View spec must be defined!");if(this.context=n,this.layoutParent=r,this.dataParent=i,this.name=t.name||a,this.spec=t,this.resolutions={scale:{},axis:{}},Dx(this),this.options={blockEncodingInheritance:!1,contributesToScaleDomain:!0,...s},this.needsAxes={x:!1,y:!1},this.paramMediator=new D6(()=>{var o;return(o=this.dataParent)==null?void 0:o.paramMediator}),t.params)for(const o of t.params)this.paramMediator.registerParam(o)}get coords(){return this.facetCoords.values().next().value}getPadding(){return this._cache("size/padding",()=>St.createFromConfig(this.spec.padding))}getOverhang(){return St.zero()}isScrollable(){return this.spec.viewportWidth!=null||this.spec.viewportHeight!=null}getSize(){return this._cache("size/size",()=>this.isConfiguredVisible()?new ei(K(this,Aa,Hf).call(this,"width"),K(this,Aa,Hf).call(this,"height")):av)}getViewportSize(){if(!this.isScrollable())return this.getSize();if(!this.isConfiguredVisible())return av;const t=this.getSize();return new ei(K(this,Aa,Hf).call(this,"viewportWidth")??t.width,K(this,Aa,Hf).call(this,"viewportHeight")??t.height)}isConfiguredVisible(){return this.context.isViewConfiguredVisible(this)}isVisibleInSpec(){return this.spec.visible??!0}isVisible(){return this.getLayoutAncestors().every(t=>t.isConfiguredVisible())}getEffectiveOpacity(){var t;return this.opacityFunction(((t=this.layoutParent)==null?void 0:t.getEffectiveOpacity())??1)}getPathString(){return this.getLayoutAncestors().map(t=>t.name).reverse().join("/")}getLayoutAncestors(){return K(this,Cf,Um).call(this,"layoutParent")}getDataAncestors(){return K(this,Cf,Um).call(this,"dataParent")}handleBroadcast(t){for(const n of G(this,js)[t.type]||[])n(t)}_addBroadcastHandler(t,n){let r=G(this,js)[t];r||(r=[],G(this,js)[t]=r),r.push(n)}handleInteractionEvent(t,n,r){const i=r?G(this,_f):G(this,Sf);for(const a of i[n.type]||[])a(t,n)}addInteractionEventListener(t,n,r){const i=r?G(this,_f):G(this,Sf);let a=i[t];a||(a=[],i[t]=a),a.push(n)}visit(t){try{const n=t(this);if(t.postOrder&&t.postOrder(this),n!==dl)return n}catch(n){throw n.view=this,n}}getDescendants(){const t=[];return this.visit(n=>{t.push(n)}),t}configureViewOpacity(){(!this.opacityFunction||this.opacityFunction===ov)&&(this.opacityFunction=CM(this))}onBeforeRender(){}render(t,n,r={}){r.firstFacet&&this.facetCoords.clear(),this.facetCoords.set(r.facetId,r.clipRect?n.intersect(r.clipRect):n)}getEncoding(){const t=this.dataParent&&!this.options.blockEncodingInheritance?this.dataParent.getEncoding():{},n=this.spec.encoding||{},r={...t,...n};for(const[i,a]of Object.entries(r))a===null&&delete r[i];return r}getFacetAccessor(t){if(this.layoutParent)return this.layoutParent.getFacetAccessor(this)}getFacetFields(t){var r;const n=this.getEncoding().sample;return qi(n)?[n.field]:(r=this.layoutParent)==null?void 0:r.getFacetFields(this)}getSampleFacetTexture(){}getScaleResolution(t){const n=Wi(t);return this.getDataAncestors().map(r=>r.resolutions.scale[n]).find(r=>r)}getAxisResolution(t){const n=Wi(t);return this.getDataAncestors().map(r=>r.resolutions.axis[n]).find(r=>r)}getConfiguredResolution(t,n){var r,i;return(i=(r=this.spec.resolve)==null?void 0:r[n])==null?void 0:i[t]}getConfiguredOrDefaultResolution(t,n){return this.getConfiguredResolution(t,n)??this.getConfiguredResolution("default",n)??this.getDefaultResolution(t,n)}getDefaultResolution(t,n){return"independent"}getBaseUrl(){return EM(()=>{var t;return(t=this.dataParent)==null?void 0:t.getBaseUrl()},this.spec.baseUrl)}isPickingSupported(){return!0}getTitleText(){const t=this.spec.title;if(t)return Ue(t)?t:It(t.text)?this.paramMediator.evaluateAndGet(t.text.expr):t.text}_cache(t,n){return pc(this,t,n)}_invalidateCacheByPrefix(t,n="self"){switch(n){case"self":gc(this,t);break;case"ancestors":for(const r of this.getLayoutAncestors())gc(r,t);break;case"progeny":this.visit(r=>gc(r,t));break}}invalidateSizeCache(){this._invalidateCacheByPrefix("size/","ancestors")}propagateInteractionEvent(t){}}js=new WeakMap,_f=new WeakMap,Sf=new WeakMap,Aa=new WeakSet,Hf=function(t){var i;let n=this.spec[t];const r=t=="viewportWidth"||t=="viewportHeight";if(fv(n)){if(r)throw new Ji(`Cannot use step-based size with "${t}"!`,this);const a=n.step,s=(i=this.getScaleResolution(t=="width"?"x":"y"))==null?void 0:i.scale;if(s){let o=0;if(Vn(s.type))o=s.domain().length;else if(["locus","index"].includes(s.type)){const l=s.domain();o=Mo(l)-l[0]}else throw new Ji(`Cannot use step-based size with "${s.type}" scale!`,this);const f=s;return o=a0(o,f.paddingInner(),f.paddingOuter()),{px:o*a,grow:0}}else throw new Ji("Cannot use 'step' size with missing scale!",this)}else return(n&&sv(n))??(r?void 0:{px:0,grow:1})},Cf=new WeakSet,Um=function(t){const n=[];let r=this;do n.push(r),r=r[t];while(r);return n};function SM(e){return"unitsPerPixel"in e}function CM(e){const t=e.spec.opacity;if(t!==void 0){if(Tt(t))return n=>n*t;if(SM(t)){const n=a=>{var o;const s=(o=e.getScaleResolution(a))==null?void 0:o.scale;if(["linear","index","locus"].includes(s==null?void 0:s.type))return s},r=t.channel?n(t.channel):n("x")??n("y");if(!r)throw new Ji("Cannot find a resolved quantitative scale for dynamic opacity!",e);const i=Xd().domain(t.unitsPerPixel).range(t.values).clamp(!0);return a=>{const o=Yf(r.domain())/1e3;return i(o)*a}}else if(It(t)){const n=e.paramMediator.createExpression(t.expr);return n.addListener(()=>e.context.animator.requestRender()),r=>n(null)*r}}return n=>n}const fv=e=>!!(e!=null&&e.step),kM={point:mR,rect:fR,rule:xR,link:kR,text:MR};class Xt extends lv{constructor(n,r,i,a,s,o){super(n,r,i,a,s,o);Y(this,Tf);Y(this,kf,void 0);this.spec=n;const f=kM[this.getMarkType()];if(f)this.mark=new f(this);else throw new Error(`No such mark: ${this.getMarkType()}`);this.resolve(),he(this,kf,this.paramMediator.allocateSetter("zoomLevel",1)),["x","y"].forEach(l=>{var u;return(u=this.getScaleResolution(l))==null?void 0:u.addEventListener("domain",()=>G(this,kf).call(this,Math.sqrt(this.getZoomLevel())))}),this.needsAxes={x:!0,y:!0}}render(n,r,i={}){super.render(n,r,i),this.isConfiguredVisible()&&(n.pushView(this,r),n.renderMark(this.mark,i),n.popView(this))}getMarkType(){return typeof this.spec.mark=="object"?this.spec.mark.type:this.spec.mark}resolve(n){n||(this.resolve("scale"),this.resolve("axis"));const r=this.mark.encoding;for(const[i,a]of Object.entries(r)){if(!Qt(a))continue;const s=Wi(a.resolutionChannel??i);if(!Wa(s)||n=="axis"&&!Jo(s))continue;let o=this;for(;(o.getConfiguredOrDefaultResolution(s,n)=="forced"||o.dataParent&&["shared","excluded","forced"].includes(o.dataParent.getConfiguredOrDefaultResolution(s,n)))&&o.getConfiguredOrDefaultResolution(s,n)!="excluded";)o=o.dataParent;if(n=="axis"&&Jo(i)&&ew(s))o.resolutions[n][s]||(o.resolutions[n][s]=new wM(s)),o.resolutions[n][s].pushUnitView(this,i);else if(n=="scale"&&Wa(i)){if(!o.resolutions[n][s]){const f=new gM(s);o.resolutions[n][s]=f,f.addEventListener("range",l=>{var u;(u=this.context.glHelper)==null||u.createRangeTexture(l.scaleResolution,!0)})}o.resolutions[n][s].pushUnitView(this,i)}}}getAccessor(n){return this._cache("accessor/"+n,()=>{const r=this.mark.encoding;if(r&&r[n])return this.context.accessorFactory.createAccessor(r[n])})}getFacetAccessor(n){const r=this.getAccessor("sample");return r||super.getFacetAccessor(this)}getCollector(){return this.context.dataFlow.findCollectorByKey(this)}getConfiguredDomain(n){const r=K(this,Tf,Gm).call(this,n),i=r&&r.scale&&r.scale.domain;if(i){const a=this.getScaleResolution(r.resolutionChannel??n);return Jx(r.type??"nominal",a.fromComplexInterval(i))}}extractDataDomain(n){const i=K(this,Tf,Gm).call(this,n).type??"nominal",a=f=>{let l;const u=this.mark.encoding[f];if(u){const c=this.context.accessorFactory.createAccessor(u);if(c)if(l=Jx(i),c.constant)l.extend(c({}));else{const h=this.getCollector();h!=null&&h.completed&&h.visitData(d=>l.extend(c(d)))}}return l};let s=a(n);const o=d0[n];if(o){const f=a(o);f&&s.extendAll(f)}return s}getZoomLevel(){const n=r=>{var i;return((i=this.getScaleResolution(r))==null?void 0:i.getZoomLevel())??1};return qa.map(n).reduce((r,i)=>r*i,1)}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0),n.target=this,!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return n=="x"?"shared":"independent"}}kf=new WeakMap,Tf=new WeakSet,Gm=function(n){if(el(n))throw new Error(`getDomain(${n}), must only be called for primary channels!`);const r=this.mark.encoding[n];if(!Qt(r))throw new Error("The channel has no scale, cannot get domain!");return r};function*ap(e,t=[]){for(const[n,r]of e.entries())if(r instanceof Map)for(const i of ap(r,[...t,n]))yield i;else yield[[...t,n],r]}class uv extends nt{constructor(n){super();Y(this,If);this.params=n??{type:"collect"},this.observers=[],this.facetBatches=void 0,this._init()}get behavior(){return X0}_init(){this._data=[],this.facetBatches=new ar([],JSON.stringify),this.facetBatches.set(void 0,this._data)}reset(){super.reset(),this._init()}handle(n){this._data.push(n)}beginBatch(n){dR(n)&&(this._data=[],this.facetBatches.set(Nt(n.facetId),this._data))}complete(){var a,s;const n=(a=this.params)==null?void 0:a.sort,r=n?Km(n.field,n.order):void 0,i=o=>{r&&o.sort(r)};if((s=this.params.groupby)!=null&&s.length){if(this.facetBatches.size>1)throw new Error("TODO: Support faceted data!");const o=this.params.groupby.map(l=>Me(l)),f=o.length>1?Jf(this._data,...o):TM(this._data,o[0]);this.facetBatches.clear();for(const[l,u]of ap(f))this.facetBatches.set(l,u)}for(const o of this.facetBatches.values())i(o);K(this,If,Hm).call(this),super.complete();for(const o of this.observers)o(this)}repropagate(){for(const n of this.children)n.reset();K(this,If,Hm).call(this);for(const n of this.children)n.complete()}getData(){switch(this._checkStatus(),this.facetBatches.size){case 0:return[];case 1:return[...this.facetBatches.values()][0];default:{const n=this.facetBatches;return{[Symbol.iterator]:function*(){for(const i of n.values())for(let a=0;a<i.length;a++)yield i[a]}}}}}visitData(n){this._checkStatus();for(const r of this.facetBatches.values())for(let i=0;i<r.length;i++)n(r[i])}getItemCount(){let n=0;for(const r of this.facetBatches.values())n+=r.length;return n}_checkStatus(){if(!this.completed)throw new Error("Data propagation is not completed! No data are available.")}}If=new WeakSet,Hm=function(){if(this.children.length)for(const[n,r]of this.facetBatches.entries()){if(n){const i={type:"facet",facetId:n};for(const a of this.children)a.beginBatch(i)}for(const i of r)this._propagate(i)}};function TM(e,t){const n=new Map;for(let r=0,i=e.length;r<i;r++){const a=e[r],s=t(a);let o=n.get(s);o||(o=[],n.set(s,o)),o.push(a)}return n}class wc{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,n){let r=this.length++;for(;r>0;){const i=r-1>>1,a=this.values[i];if(n>=a)break;this.ids[r]=this.ids[i],this.values[r]=a,r=i}this.ids[r]=t,this.values[r]=n}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],i=this.length>>1;let a=0;for(;a<i;){let s=(a<<1)+1;const o=s+1;let f=this.ids[s],l=this.values[s];const u=this.values[o];if(o<this.length&&u<l&&(s=o,f=this.ids[o],l=u),l>=r)break;this.ids[a]=f,this.values[a]=l,a=s}this.ids[a]=n,this.values[a]=r}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}class IM extends nt{get behavior(){return qn}constructor(t){super(),this.params=t,this.startAccessor=Me(t.start),this.endAccessor=Me(t.end),this.chromAccessor=t.chrom?Me(t.chrom):n=>{},this.weightAccessor=t.weight?Me(t.weight):n=>1,this.as={coverage:t.as??"coverage",start:t.asStart??t.start,end:t.asEnd??t.end,chrom:t.asChrom??t.chrom},this.createSegment=new Function("start","end","coverage","chrom","return {"+Object.entries(this.as).filter(([n,r])=>r).map(([n,r])=>`${JSON.stringify(r)}: ${n}`).join(", ")+"};"),this.ends=new wc}reset(){super.reset(),this.initialize()}initialize(){const t=this.as.coverage,n=this.as.end,r=this.as.chrom,i=this.startAccessor,a=this.endAccessor,s=this.chromAccessor,o=this.weightAccessor;let f,l,u,c=0,h=NaN;const d=this.ends;d.clear();const p=w=>{this._propagate(w),f=null},m=(w,v,S)=>{if(w==v)return;let _=!1;f&&(f[t]===S?(f[n]=v,_=!0):f[t]!=0&&p(f)),_||(f=this.createSegment(w,v,S,u))},y=()=>{let w=0;for(;(w=d.peekValue())!==void 0;)m(h,w,c),h=w,c-=d.pop();h=NaN,f&&p(f)};this.handle=w=>{const v=i(w);let S=0;for(;(S=d.peekValue())!==void 0&&S<v;)m(h,S,c),h=S,c-=d.pop();if(r){let T=s(w);T!==l&&(y(),u=T,l=u)}isNaN(h)||m(h,v,c),h=v;const _=o(w);c+=_,d.push(_,a(w))},this.complete=()=>{y(),super.complete()},this.beginBatch=w=>{y(),l=null,super.beginBatch(w)}}}function BM(e,t,n=0,r=e.length){const i=new wc,a=r-n;let s;for(s=0;s<t&&s<a;s++)i.push(s,e[n+s]);for(;s<a;s++){const l=e[n+s];l>=i.peekValue()&&(i.push(s,l),i.pop())}const o=[];let f;for(;(f=i.pop())!==void 0;)o.push(n+f);return o.reverse()}class DM{constructor(t,n=-1/0,r=1/0){this.maxSize=t,this.lowerLimit=n,this.upperLimit=r;const i=this.maxSize*2+1;this.lowerLimits=new Float64Array(i),this.upperLimits=new Float64Array(i),this.lowerChildren=new Int32Array(i),this.upperChildren=new Int32Array(i),this.reset()}reset(){this.lowerLimits.fill(0),this.upperLimits.fill(0),this.lowerChildren.fill(0),this.upperChildren.fill(0),this.n=1,this.lowerLimits[0]=this.lowerLimit,this.upperLimits[0]=this.upperLimit}_findSlot(t,n,r=0){if(t>=this.lowerLimits[r]&&n<=this.upperLimits[r]){const i=this.lowerChildren[r];if(i){const a=this._findSlot(t,n,i);return a>=0?a:this._findSlot(t,n,this.upperChildren[r])}else return r}else return-1}reserve(t,n){if(n-t<=0)throw new Error("Cannot reserve an empty or negative-size slot!");if(this.n+1>this.lowerLimits.length)return!1;const r=this._findSlot(t,n);if(r<0)return!1;const i=this.n++,a=this.n++;return this.lowerLimits[i]=this.lowerLimits[r],this.upperLimits[i]=t,this.lowerLimits[a]=n,this.upperLimits[a]=this.upperLimits[r],this.lowerChildren[r]=i,this.upperChildren[r]=a,!0}}class FM extends nt{get behavior(){return X0}constructor(t,n){if(super(),this.params=t,this._data=[],this.channel=t.channel??"x",!["x","y"].includes(this.channel))throw new Error("Invalid channel: "+this.channel);this.posAccessor=Me(this.params.pos),this.posBisector=Kf(this.posAccessor),this.scoreAccessor=Me(this.params.score),this.widthAccessor=Me(this.params.width),this.laneAccessor=this.params.lane?Me(this.params.lane):i=>0,this.padding=this.params.padding??0,this.reservationMaps=new Map,this.resolution=n.getScaleResolution(this.channel);const r=()=>this._filterAndPropagate();this.schedule=()=>n.context.animator.requestTransition(r),this.resolution.addEventListener("domain",i=>this.schedule()),n._addBroadcastHandler("layoutComputed",()=>this.schedule())}complete(){const t=this.posAccessor;this._data.sort((n,r)=>t(n)-t(r)),this._scores=this._data.map(this.scoreAccessor);for(const n of new Set(this._data.map(this.laneAccessor)))this.reservationMaps.set(n,new DM(200));this.schedule(),super.complete()}_filterAndPropagate(){var s;super.reset();const t=this.resolution.scale,n=(s=this.resolution.members[0].view.coords)==null?void 0:s[this.channel=="x"?"width":"height"];if(!n)return;for(const o of this.reservationMaps.values())o.reset();const r=t.domain(),i=70,a=BM(this._scores,i,this.posBisector.left(this._data,r[0]),this.posBisector.right(this._data,r[1]));for(const o of a){const f=this._data[o],l=t(this.posAccessor(f))*n,u=this.widthAccessor(f)/2+this.padding;this.reservationMaps.get(this.laneAccessor(f)).reserve(l-u,l+u)&&this._propagate(f)}super.complete()}reset(){super.reset(),this._data=[],this.groups=new Map}handle(t){this._data.push(t)}}class RM extends nt{constructor(t,n){super(n),this.params=t,this.predicate=void 0}initialize(){this.predicate=this.paramMediator.createExpression(this.params.expr),this.predicate.addListener(()=>this.repropagate())}handle(t){this.predicate(t)&&this._propagate(t)}}class MM extends nt{get behavior(){return qn}constructor(t){super();const n=t.index;if(t.fields){const r=Nt(t.fields).map(a=>Me(a)),i=Nt(t.as||t.fields);if(r.length!==i.length)throw new Error(`Lengths of "fields" (${r.length}), and "as" (${i.length}) do not match!`);this.handle=a=>{const s=r.map((f,l)=>f(a)??[]),o=s[0].length;for(let f=0;f<o;f++){const l=Object.assign({},a);for(let u=0;u<r.length;u++)l[i[u]]=f<s[u].length?s[u][f]:null;n&&(l[n]=f),this._propagate(l)}}}else this.handle=r=>{for(let i=0;i<r.length;i++){const a=Object.assign({},r[i]);n&&(a[n]=i),this._propagate(a)}}}}const PM="0".charCodeAt(0);function*LM(e,t=","){const n=t.charCodeAt(0);let r=0;for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);a==n?(yield r,r=0):r=r*10+a-PM}yield r}class OM extends nt{get behavior(){return qn}constructor(t){super();const n=Me(t.exons??"exons"),r=Me(t.start??"start"),[i,a]=t.as||["exonStart","exonEnd"];this.handle=s=>{let o=r(s),f=o,l=!0;const u=n(s);for(const c of LM(u)){if(l)f=o+c;else{o=f+c;const h=Object.assign({},s);h[i]=f,h[a]=o,this._propagate(h)}l=!l}}}}class NM extends nt{get behavior(){return qn}constructor(t){super();const n=Nt(t.field).map(a=>Me(a)),r=Nt(t.separator),i=Nt(t.as||t.field);if(n.length!==r.length||n.length!==i.length)throw new Error(`Lengths of "separator" (${r.length}), "fields" (${n.length}), and "as" (${i.length}) do not match!`);this.handle=a=>{if(n.some(f=>!f(a)))return;const s=n.map((f,l)=>f(a).split(r[l]));zM(s,a);const o=s[0].length;for(let f=0;f<o;f++){const l=Object.assign({},a);for(let u=0;u<n.length;u++)l[i[u]]=s[u][f];this._propagate(l)}}}}function zM(e,t){const n=e.map(r=>r.length);if(!n.every(r=>r==n[0]))throw new Error("Mismatching number of elements in the fields to be split: "+JSON.stringify(t))}class UM extends nt{get behavior(){return Jr}constructor(t,n){super(n),this.params=t,this.as=t.as,this.fn=void 0}initialize(){this.fn=this.paramMediator.createExpression(this.params.expr),this.fn.addListener(()=>this.repropagate())}handle(t){t[this.as]=this.fn(t),this._propagate(t)}}class cv extends nt{get behavior(){return Jr}constructor(t,n){super();const r=t.channel??"x";if(!["x","y"].includes(r))throw new Error("Invalid channel: "+r);const i=n.getScaleResolution(r).getGenome();if(!i)throw new Error("LinearizeGenomicCoordinate transform requires a locus scale!");const a=Me(t.chrom),s=Nt(t.pos).map(p=>Me(p)),o=Nt(t.as);if(s.length!=o.length)throw new Error('The number of "pos" and "as" elements must be equal!');const f=Nt(t.offset);let l;if(f.length==0)l=new Array(s.length).fill(0);else if(f.length==1)l=new Array(s.length).fill(f[0]);else if(f.length==s.length)l=f;else throw new Error(`Invalid "offset" parameter: ${JSON.stringify(t.offset)}!`);const u=new Function("datum","chromOffset","posAccessors",o.map((p,m)=>`datum[${JSON.stringify(p)}] = chromOffset + +posAccessors[${m}](datum) - ${l[m]};`).join(`
`));let c,h=0;const d=p=>{if(p!==c){if(h=i.cumulativeChromPositions.get(p),h===void 0)throw new Error("Unknown chromosome/contig: "+p);c=p}return h};this.handle=p=>{u(p,d(a(p)),s),this._propagate(p)}}}const hv={pages:["Lato-Regular.png"],chars:[{id:87,width:53,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:43.491,chnl:15,x:0,y:0,page:0},{id:124,width:17,height:50,xoffset:0,yoffset:-32.193000000000005,xadvance:10.521,chnl:15,x:0,y:42,page:0},{id:40,width:20,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:94,page:0},{id:41,width:19,height:49,xoffset:0,yoffset:-32.571000000000005,xadvance:11.214,chnl:15,x:0,y:145,page:0},{id:36,width:32,height:49,xoffset:0,yoffset:-34.419000000000004,xadvance:24.360000000000003,chnl:15,x:0,y:196,page:0},{id:125,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:247,page:0},{id:91,width:22,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:297,page:0},{id:93,width:19,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.852,chnl:15,x:0,y:347,page:0},{id:123,width:21,height:48,xoffset:0,yoffset:-32.193000000000005,xadvance:12.642000000000001,chnl:15,x:0,y:397,page:0},{id:106,width:19,height:48,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:0,y:447,page:0},{id:81,width:43,height:47,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:21,y:447,page:0},{id:77,width:45,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:38.997,chnl:15,x:66,y:447,page:0},{id:64,width:43,height:44,xoffset:0,yoffset:-28.539,xadvance:35.133,chnl:15,x:23,y:397,page:0},{id:92,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:68,y:397,page:0},{id:47,width:28,height:43,xoffset:0,yoffset:-30.933000000000003,xadvance:18.984,chnl:15,x:98,y:397,page:0},{id:109,width:42,height:32,xoffset:0,yoffset:-21.609,xadvance:34.545,chnl:15,x:113,y:447,page:0},{id:119,width:42,height:31,xoffset:0,yoffset:-21.315,xadvance:32.991,chnl:15,x:157,y:447,page:0},{id:42,width:25,height:42,xoffset:0,yoffset:-31.626,xadvance:17.85,chnl:15,x:128,y:397,page:0},{id:37,width:42,height:41,xoffset:0,yoffset:-30.387,xadvance:33.663000000000004,chnl:15,x:155,y:397,page:0},{id:79,width:42,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:33.621,chnl:15,x:199,y:397,page:0},{id:102,width:24,height:41,xoffset:0,yoffset:-30.534000000000002,xadvance:14.721,chnl:15,x:243,y:397,page:0},{id:100,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:269,y:397,page:0},{id:98,width:32,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.520000000000003,chnl:15,x:302,y:397,page:0},{id:56,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:336,y:397,page:0},{id:38,width:40,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:29.904000000000003,chnl:15,x:370,y:397,page:0},{id:108,width:17,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:9.912,chnl:15,x:412,y:397,page:0},{id:107,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:21.336000000000002,chnl:15,x:431,y:397,page:0},{id:48,width:33,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:464,y:397,page:0},{id:71,width:38,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:30.681,chnl:15,x:21,y:347,page:0},{id:83,width:31,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:22.785,chnl:15,x:61,y:347,page:0},{id:63,width:27,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:18.795,chnl:15,x:94,y:347,page:0},{id:105,width:18,height:41,xoffset:0,yoffset:-30.639000000000003,xadvance:10.08,chnl:15,x:123,y:347,page:0},{id:51,width:32,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:143,y:347,page:0},{id:104,width:31,height:41,xoffset:0,yoffset:-30.933000000000003,xadvance:23.436,chnl:15,x:177,y:347,page:0},{id:67,width:37,height:41,xoffset:0,yoffset:-30.429000000000002,xadvance:28.056,chnl:15,x:210,y:347,page:0},{id:88,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.258000000000003,chnl:15,x:249,y:347,page:0},{id:68,width:40,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:31.941000000000003,chnl:15,x:288,y:347,page:0},{id:70,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:23.751,chnl:15,x:330,y:347,page:0},{id:34,width:23,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:15.561000000000002,chnl:15,x:364,y:347,page:0},{id:72,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:389,y:347,page:0},{id:73,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.760000000000002,chnl:15,x:429,y:347,page:0},{id:74,width:24,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:17.745,chnl:15,x:449,y:347,page:0},{id:75,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.825000000000003,chnl:15,x:24,y:297,page:0},{id:76,width:31,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:21.567,chnl:15,x:475,y:347,page:0},{id:66,width:35,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:27.153000000000002,chnl:15,x:64,y:297,page:0},{id:78,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:32.067,chnl:15,x:101,y:297,page:0},{id:33,width:18,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:11.298,chnl:15,x:141,y:297,page:0},{id:80,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.221,chnl:15,x:161,y:297,page:0},{id:65,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:197,y:297,page:0},{id:82,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.313000000000002,chnl:15,x:237,y:297,page:0},{id:35,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:275,y:297,page:0},{id:84,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.801000000000002,chnl:15,x:310,y:297,page:0},{id:85,width:37,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:30.891000000000002,chnl:15,x:346,y:297,page:0},{id:86,width:38,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:28.434,chnl:15,x:385,y:297,page:0},{id:39,width:16,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:8.568000000000001,chnl:15,x:425,y:297,page:0},{id:69,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.255000000000003,chnl:15,x:443,y:297,page:0},{id:89,width:36,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:26.208000000000002,chnl:15,x:23,y:247,page:0},{id:90,width:34,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:25.284000000000002,chnl:15,x:477,y:297,page:0},{id:49,width:31,height:40,xoffset:0,yoffset:-30.156000000000002,xadvance:24.360000000000003,chnl:15,x:61,y:247,page:0},{id:50,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:94,y:247,page:0},{id:57,width:32,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:24.360000000000003,chnl:15,x:128,y:247,page:0},{id:94,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:162,y:247,page:0},{id:96,width:21,height:40,xoffset:0,yoffset:-30.429000000000002,xadvance:16.8,chnl:15,x:196,y:247,page:0},{id:55,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:219,y:247,page:0},{id:54,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:254,y:247,page:0},{id:53,width:32,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:289,y:247,page:0},{id:52,width:33,height:40,xoffset:0,yoffset:-30.093000000000004,xadvance:24.360000000000003,chnl:15,x:323,y:247,page:0},{id:103,width:31,height:39,xoffset:0,yoffset:-21.630000000000003,xadvance:21.84,chnl:15,x:358,y:247,page:0},{id:112,width:32,height:39,xoffset:0,yoffset:-21.651,xadvance:23.541,chnl:15,x:391,y:247,page:0},{id:113,width:31,height:39,xoffset:0,yoffset:-21.651,xadvance:23.520000000000003,chnl:15,x:425,y:247,page:0},{id:116,width:25,height:39,xoffset:0,yoffset:-28.182000000000002,xadvance:15.057,chnl:15,x:458,y:247,page:0},{id:121,width:31,height:38,xoffset:0,yoffset:-21.273,xadvance:21.651,chnl:15,x:34,y:196,page:0},{id:59,width:18,height:36,xoffset:0,yoffset:-20.706,xadvance:10.983,chnl:15,x:485,y:247,page:0},{id:43,width:32,height:34,xoffset:0,yoffset:-24.486,xadvance:24.360000000000003,chnl:15,x:67,y:196,page:0},{id:60,width:30,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:101,y:196,page:0},{id:62,width:31,height:33,xoffset:0,yoffset:-23.331000000000003,xadvance:24.360000000000003,chnl:15,x:133,y:196,page:0},{id:117,width:30,height:32,xoffset:0,yoffset:-21.273,xadvance:23.415000000000003,chnl:15,x:166,y:196,page:0},{id:99,width:29,height:32,xoffset:0,yoffset:-21.609,xadvance:20.055,chnl:15,x:198,y:196,page:0},{id:110,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:23.436,chnl:15,x:229,y:196,page:0},{id:111,width:32,height:32,xoffset:0,yoffset:-21.609,xadvance:23.814,chnl:15,x:262,y:196,page:0},{id:126,width:32,height:26,xoffset:0,yoffset:-16.128,xadvance:24.360000000000003,chnl:15,x:201,y:447,page:0},{id:101,width:31,height:32,xoffset:0,yoffset:-21.609,xadvance:22.176000000000002,chnl:15,x:296,y:196,page:0},{id:114,width:25,height:32,xoffset:0,yoffset:-21.651,xadvance:15.288,chnl:15,x:329,y:196,page:0},{id:115,width:27,height:32,xoffset:0,yoffset:-21.609,xadvance:18.186,chnl:15,x:356,y:196,page:0},{id:97,width:28,height:32,xoffset:0,yoffset:-21.651,xadvance:20.874000000000002,chnl:15,x:385,y:196,page:0},{id:118,width:31,height:31,xoffset:0,yoffset:-21.273,xadvance:21.672,chnl:15,x:415,y:196,page:0},{id:61,width:31,height:29,xoffset:0,yoffset:-19.089000000000002,xadvance:24.360000000000003,chnl:15,x:448,y:196,page:0},{id:120,width:30,height:31,xoffset:0,yoffset:-21.273,xadvance:20.916,chnl:15,x:21,y:145,page:0},{id:58,width:18,height:31,xoffset:0,yoffset:-20.706,xadvance:10.5,chnl:15,x:53,y:145,page:0},{id:122,width:28,height:31,xoffset:0,yoffset:-21.273,xadvance:18.984,chnl:15,x:73,y:145,page:0},{id:95,width:28,height:16,xoffset:0,yoffset:0,xadvance:19.278000000000002,chnl:15,x:235,y:447,page:0},{id:45,width:23,height:24,xoffset:0,yoffset:-14.175,xadvance:15.603000000000002,chnl:15,x:481,y:196,page:0},{id:44,width:17,height:21,xoffset:0,yoffset:-4.956,xadvance:9.534,chnl:15,x:103,y:145,page:0},{id:46,width:18,height:15,xoffset:0,yoffset:-4.956,xadvance:9.912,chnl:15,x:0,y:497,page:0},{id:32,width:0,height:0,xoffset:0,yoffset:0,xadvance:10.752,chnl:15,x:20,y:497,page:0}],info:{face:"Lato Regular",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[2,2]},common:{lineHeight:50.400000000000006,base:41.454,scaleW:512,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},kernings:[]};class GM extends nt{get behavior(){return Jr}constructor(t){super();const n=Z0(hv),r=Me(t.field),i=t.as,a=t.fontSize;this.handle=s=>{const o=r(s);o!==void 0?s[i]=n.measureWidth(o,a):s[i]=0,this._propagate(s)}}}const HM=65536;class VM extends nt{get behavior(){return Jr}constructor(t){super(),this.params=t}reset(){super.reset(),this.initialize()}initialize(){const t=this.params,n=t.as||"lane",r=Tt(t.spacing)?t.spacing:1,i=Me(t.start),a=Me(t.end);if(!t.preference!=!t.preferredOrder)throw new Error('Must specify both "preference" and "preferredOrder"');if(t.preference){const s=new Float64Array(HM),o=Me(t.preference),f=t.preferredOrder;let l=1/0;this.handle=u=>{const c=i(u);c<l&&s.fill(-1/0),l=c;const h=f.indexOf(o(u));let d=-1;if(h>=0&&s[h]<c)d=h;else{const p=i(u);for(d=0;d<s.length&&!(s[d]<p);d++);if(d>=s.length)throw new Error("Out of lanes!")}s[d]=a(u)+r,u[n]=d,this._propagate(u)}}else{const s=new wc,o=new wc;let f=-1/0,l=0;this.handle=u=>{const c=i(u);for(;s.length&&(s.peekValue()<=c||c<f);){const d=s.pop();o.push(d,d)}f=c;let h=o.pop();h===void 0&&(h=l++),u[n]=h,this._propagate(u),s.push(h,a(u)+r)}}}}class jM extends nt{get behavior(){return qn}constructor(t){if(super(),t.as&&t.as.length!=t.fields.length)throw new Error('"fields" and "as" have unequal lengths!');const n=t.fields.map(i=>Me(i)),r=t.as?t.as:n.map(Ba);this.handle=i=>{const a={};for(let s=0;s<n.length;s++)a[r[s]]=n[s](i);this._propagate(a)}}}class $M extends nt{get behavior(){return Jr}constructor(t){super();const n=new RegExp(t.regex),r=typeof t.as=="string"?[t.as]:t.as,i=Me(t.field);this.handle=a=>{const s=i(a);if(Ue(s)){const o=s.match(n);if(o){if(o.length-1!=r.length)throw new Error('The number of RegEx groups and the length of "as" do not match!');for(let f=0;f<r.length;f++)a[r[f]]=o[f+1]}else if(t.skipInvalidInput)for(let f=0;f<r.length;f++)a[r[f]]=void 0;else throw new Error(`"${s}" does not match the given regex: ${n.toString()}`)}else if(!t.skipInvalidInput)throw new Error(`Trying to match a non-string field. Encountered type: ${typeof s}, field content: "${s}".`);this._propagate(a)}}}class qM extends nt{get behavior(){return qn}constructor(t){super();const n=Nt(t.columnRegex).map(h=>new RegExp(h)),r=Nt(t.asValue);if(n.length!=r.length)throw new Error('Lengths of "columnRegex" and "as" are not equal!');const i=t.skipRegex?new RegExp(t.skipRegex):void 0,a=t.asKey||"sample";let s,o,f;const l=h=>{var y;const d=Object.keys(h);for(const w of n)if(!d.some(v=>w.test(v)))throw new Error(`No columns matching the regex ${w.toString()} found in the data!`);const p=new Map;for(const[w,v]of n.entries())for(const S of d){const _=(y=v.exec(S))==null?void 0:y[1];if(_!==void 0){let T=p.get(_);T||(T=[],p.set(_,T)),T[w]=S}}s=[...p.entries()],o=d.filter(w=>!n.some(v=>v.test(w))&&!(i&&i.test(w)));const m=[...o.map(w=>JSON.stringify(w)+": datum["+JSON.stringify(w)+"]"),JSON.stringify(a)+": sampleId",...r.map((w,v)=>JSON.stringify(w)+`: datum[attrs[${v}]]`)];f=new Function("datum","sampleId","attrs",`return {
`+m.join(`,
`)+`
};`)},u=h=>{s||l(h);for(let d=0;d<s.length;d++){const[p,m]=s[d],y=f(h,p,m);this._propagate(y)}},c=h=>{l(h),u(h),this.handle=u};this.handle=c,this.beginBatch=h=>{Nx(h)&&(this.handle=c),super.beginBatch(h)}}}class WM extends nt{get behavior(){return Jr}constructor(t){super(),this.params=t,this.buffer=[]}reset(){this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const t=this.params,n=t.as||["y0","y1"],r=t.sort?Km(t.sort.field,t.sort.order):void 0,i=t.field?Me(t.field):()=>1,a=t.groupby.map(u=>Me(u)),s=E3(this.buffer,u=>a.map(c=>c(u)).join()).map(u=>u[1]);let o=u=>!0;if(t.baseField){const u=Me(t.baseField);o=c=>u(c)!==null}let f,l;switch(t.offset){case"normalize":f=(u,c)=>u/c,l=(u,c)=>nu(u,c);break;case"center":f=(u,c)=>u-c/2,l=(u,c)=>nu(u,c);break;case"information":{const u=Math.log2(t.cardinality??4);f=(c,h)=>c/h,l=(c,h)=>{const p=nu(c,v=>+!o(v)),m=nu(c,h),y=m-p;let w=0;for(let v=0;v<c.length;v++){const S=c[v];if(o(S)){const _=h(S)/y;w-=_*Math.log2(_)}}return y/(u-(w+0))*(y/m)}}break;default:f=(u,c)=>u,l=(u,c)=>1}for(const u of s){r&&u.sort(r);const c=l(u,i);let h=0;for(const d of u){const p=h+i(d);o(d)&&(d[n[0]]=f(h,c),d[n[1]]=f(p,c),this._propagate(d),h=p)}}super.complete()}}class ZM extends nt{get behavior(){return qn}constructor(t){super();const n=Me(t.field??"sequence"),[r,i]=t.as??["pos","sequence"];this.handle=a=>{const s=Object.assign({},a,{[i]:"",[r]:0}),o=n(a);for(let f=0;f<o.length;f++){const l=Object.assign({},s);l[r]=f,l[i]=o.charAt(f),this._propagate(l)}}}}class YM extends nt{get behavior(){return qn}constructor(t){super(),this.params=t,this.buffer=[]}reset(){this.buffer=[]}handle(t){this.buffer.push(t)}complete(){const n=this.params.groupby,r=n.map(a=>Me(a)),i=Jf(this.buffer,...r);for(const[a,s]of ap(i)){const o={count:s.length};for(let f=0;f<n.length;f++)o[n[f]]=a[f];this._propagate(o)}super.complete()}}const QM="_uniqueId",dv=1e4,pv=[null];class gv extends nt{get behavior(){return Jr}constructor(t){super(),this.params=t,this.as=t.as??QM,this._blocks=[],this._usedBlocks=0,this._id=-1}initialize(){}reset(){super.reset(),this._usedBlocks=0,this._id=-1}handle(t){t[this.as]=this._nextId(),this._propagate(t)}_nextId(){return++this._id%dv==0&&(this._id=this._getBlock()*dv),this._id}_getBlock(){return this._usedBlocks<this._blocks.length?this._blocks[this._usedBlocks++]:this._reserveBlock()}_reserveBlock(){const t=pv.length;return pv[t]=this,this._blocks.push(t),this._usedBlocks++,t}}const XM={aggregate:YM,collect:uv,coverage:IM,filterScoredLabels:FM,filter:RM,flatten:MM,flattenCompressedExons:OM,flattenDelimited:NM,flattenSequence:ZM,formula:UM,identifier:gv,linearizeGenomicCoordinate:cv,measureText:GM,pileup:VM,project:jM,regexExtract:$M,regexFold:qM,sample:zx,stack:WM};function KM(e,t){const n=XM[e.type];if(n)return new n(e,t);throw new Error("Unknown transform: "+e.type)}function mv(e){if(!wv(e)&&!yv(e))return;const t={...e.format};if(t.type??(t.type=yv(e)&&JM(Yt(e.url))),t.parse??(t.parse="auto"),!t.type)throw new Error("Format for the data source was not defined and it could not be inferred: "+JSON.stringify(e));return t}function JM(e){var t;if(Array.isArray(e)&&(e=e[0]),e)return(t=e.match(/\.(csv|tsv|json)/))==null?void 0:t[1]}const bv=e=>typeof e!="object"?e5:t5,e5=e=>({data:e}),t5=e=>e;function yv(e){return"url"in e}class pl extends nt{constructor(n){super();Pt(this,"view");this.view=n}get identifier(){}setLoadingStatus(n,r){this.view.context.setDataLoadingStatus(this.view,n,r)}get paramMediator(){return this.view.paramMediator}handle(n){throw new Error("Source does not handle incoming data!")}async load(){}repropagate(){this.load()}}function wv(e){return"values"in e}class n5 extends pl{constructor(t,n){var r;if(super(n),this.params=t,typeof t.values=="string"&&!((r=t==null?void 0:t.format)!=null&&r.type))throw new Error("Data format type (csv, dsv, ...) must be specified if a string is provided!")}loadSynchronously(){const t=this.params.values;let n=[],r=i=>i;if(Array.isArray(t))t.length>0&&(n=t,r=bv(t[0]));else if(typeof t=="object")n=[t];else if(typeof t=="string")n=Y1(t,mv(this.params));else throw new Error('"values" in data configuration is not an array, object, or a string!');this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}function r5(e){return"url"in e}class i5 extends pl{constructor(t,n){super(n),this.params=Gu(n.paramMediator,t,()=>this.load()),this.baseUrl=n==null?void 0:n.getBaseUrl()}get identifier(){return JSON.stringify({params:this.params,baseUrl:this.baseUrl})}async load(){const t=Yt(this.params.url),n=Array.isArray(t)?t:[t];if(n.length===0||!n[0]){this.reset(),this.complete();return}const r=async a=>pu({baseURL:this.baseUrl}).load(a).catch(s=>{throw new Error(`${a}: ${s.message}`)}),i=(a,s)=>{try{const o=Y1(a,mv(this.params));this.beginBatch({type:"file",url:s});for(const f of o)this._propagate(f)}catch(o){throw new Error(`Cannot parse: ${s}: ${o.message}`)}};this.setLoadingStatus("loading"),this.reset();try{await Promise.all(n.map(a=>r(a).then(i))),this.setLoadingStatus("complete")}catch(a){this.setLoadingStatus("error",a.message)}this.complete()}}function a5(e){return"sequence"in e}class s5 extends pl{constructor(t,n){if(super(n),this.sequence=Gu(n.paramMediator,t.sequence,()=>this.loadSynchronously()),!("start"in this.sequence))throw new Error("'start' is missing from sequence parameters!");if(!("stop"in this.sequence))throw new Error("'stop' is missing from sequence parameters!")}loadSynchronously(){const t=Yt(this.sequence.as)??"data",n=Yt(this.sequence.start)??0,r=Yt(this.sequence.step)??1,i=Yt(this.sequence.stop);this.reset(),this.beginBatch({type:"file"});for(let a=n;a<i;a+=r)this._propagate({[t]:a});this.complete()}async load(){this.loadSynchronously()}}class sp extends pl{constructor(n,r){super(n);Pt(this,"initializedPromise",Promise.resolve());if(r){if(r!=="x"&&r!=="y")throw new Error(`Invalid channel specified for the lazy data source: ${r}. Must be either "x" or "y"`)}else throw new Error('No channel has been specified for the lazy data source. Must be either "x" or "y".');if(this.channel=r,this.scaleResolution=this.view.getScaleResolution(r),!this.scaleResolution){const a=[`The lazy data source cannot find a resolved scale for channel "${r}".`];throw this.view instanceof Xt||a.push('Make sure the view has a "shared" scale resolution as it is not a unit view.'),new Error(a.join(" "))}const i=()=>{this.view.isVisible()&&this.onDomainChanged(this.scaleResolution.getDomain(),this.scaleResolution.getComplexDomain())};this.scaleResolution.addEventListener("domain",i),this.view.context.addBroadcastListener("layoutComputed",i)}getAxisLength(){const n=this.scaleResolution.members.map(r=>{var i;return(i=r.view.coords)==null?void 0:i[this.channel==="x"?"width":"height"]}).filter(r=>r>0);return n.length?n.reduce((r,i)=>Math.min(r,i),1e4):0}get genome(){return this.scaleResolution.getGenome()}onDomainChanged(n,r){}requestRender(){this.view.context.animator.requestRender()}async load(){this.reset(),this.complete()}publishData(n){this.reset(),this.beginBatch({type:"file"});for(const r of n)for(const i of r)this._propagate(i);this.complete(),tp(this.view)}}class o5 extends sp{constructor(n,r){const i={axis:{},...n};super(r,i.channel);Pt(this,"ticks",[]);this.params=n}onDomainChanged(){const n=this.scaleResolution.scale,r=this.params.axis,i=this.getAxisLength(),a=l=>25+60*Db(100,700,l),s=Tt(r.tickCount)?r.tickCount:Math.round(i/a(i)),o=Gx(n,s,r.tickMinStep),f=r.values?Hx(n,r.values,o):OR(n,o);if(!wd(f,this.ticks)){this.ticks=f;const l=zR(n,s,r.format);this.publishData([f.map(u=>({value:u,label:l(u)}))])}}}class l5 extends sp{constructor(t,n){super(n,t.channel)}async load(){this.publishData([this.genome.chromosomes])}}function gl(e,t){return!t||/^(data:|([A-Za-z]+:)?\/\/)/.test(e)||e.startsWith("/")?e:(t.endsWith("/")||(t+="/"),t+e)}function xc(e,t,n=!0){let r,i=s=>{};return function(...o){return new Promise((f,l)=>{const u=()=>{clearTimeout(r),i=c=>{},f(e(...o))};n&&i("debounced"),clearTimeout(r),i=l,r=window.setTimeout(u,typeof t=="function"?t():t)})}}class ml extends sp{constructor(){super(...arguments);Y(this,$s,new AbortController);Y(this,qs,[0,0]);Y(this,Ws,[0,0]);Y(this,Bf,0);Pt(this,"params")}setupDebouncing(n){const r=()=>Yt(n.debounce),i=n.debounceMode;if(i=="domain")this.onDomainChanged=xc(this.onDomainChanged.bind(this),r,!1);else if(i=="window")this.loadInterval=xc(this.loadInterval.bind(this),r,!1);else throw new Error("Invalid debounceMode: "+i)}onDomainChanged(n){var i;he(this,Ws,n);const r=Yt((i=this.params)==null?void 0:i.windowSize)??-1;n[1]-n[0]>r||this.callIfWindowsChanged(n,r,async a=>{await this.initializedPromise,this.loadInterval(a)})}reloadLastDomain(){const n=G(this,Ws);he(this,Ws,[0,0]),he(this,qs,[0,0]),this.onDomainChanged(n)}async loadInterval(n){}async discretizeAndLoad(n,r){G(this,$s).abort(),this.setLoadingStatus("loading"),he(this,$s,new AbortController);const i=G(this,$s).signal,a=this.genome.continuousToDiscreteChromosomeIntervals(n);try{const s=await Promise.all(a.map(async o=>r(o,i)));if(!i.aborted)return this.setLoadingStatus("complete"),s}catch(s){if(!i.aborted)throw this.setLoadingStatus("error",s.message),s}}callIfWindowsChanged(n,r,i){const a=[Math.max(Math.floor(n[0]/r)*r,0),Math.min(Math.ceil(n[1]/r)*r,this.genome.totalSize)],s=G(this,qs);(r!==G(this,Bf)||a[0]<s[0]||a[1]>s[1])&&(he(this,qs,a),he(this,Bf,r),i(a))}}$s=new WeakMap,qs=new WeakMap,Ws=new WeakMap,Bf=new WeakMap;class f5 extends ml{constructor(t,n){const r={channel:"x",windowSize:7e3,debounce:200,debounceMode:"window",...t};if(super(n,r.channel),this.params=r,!this.params.url)throw new Error("No URL provided for IndexedFastaSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(i=>{Promise.all([Promise.resolve().then(()=>Zv),Promise.resolve().then(()=>fN),Promise.resolve().then(()=>vl)]).then(([{Buffer:a},{IndexedFasta:s},{RemoteFile:o}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=a));const f=l=>new o(gl(l,this.view.getBaseUrl()));this.fasta=new s({fasta:f(this.params.url),fai:f(this.params.indexUrl??this.params.url+".fai")}),i()})})}async loadInterval(t){const n=await this.discretizeAndLoad(t,async(r,i)=>this.fasta.getSequence(r.chrom,r.startPos,r.endPos,{signal:i}).then(a=>({chrom:r.chrom,start:r.startPos,sequence:a})));n&&this.publishData([n])}}class u5 extends ml{constructor(n,r){const i={pixelsPerBin:2,channel:"x",debounce:200,debounceMode:"window",...n},a=Gu(r.paramMediator,i,s=>{s.includes("url")?K(this,Df,Vm).call(this).then(()=>this.reloadLastDomain()):s.includes("pixelsPerBin")&&this.reloadLastDomain()});super(r,a.channel);Y(this,Df);Y(this,Zs,[]);Y(this,Ys,void 0);if(this.params=a,!this.params.url)throw new Error("No URL provided for BigWigSource");this.setupDebouncing(this.params),K(this,Df,Vm).call(this)}async onDomainChanged(n){await this.initializedPromise;const r=this.getAxisLength()||700,i=c5(n,r,G(this,Zs)),a=Math.max(i*r,5e3);this.callIfWindowsChanged(n,a,s=>this.loadInterval(s,i))}async loadInterval(n,r){const i=.5/r/Yt(this.params.pixelsPerBin),a=await this.discretizeAndLoad(n,(s,o)=>G(this,Ys).getFeatures(s.chrom,s.startPos,s.endPos,{scale:i,signal:o}).then(f=>f.map(l=>({chrom:s.chrom,start:l.start,end:l.end,score:l.score}))));a&&this.publishData(a)}}Zs=new WeakMap,Ys=new WeakMap,Df=new WeakSet,Vm=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>q_),Promise.resolve().then(()=>vl)]).then(([{BigWig:i},{RemoteFile:a}])=>{he(this,Ys,new i({filehandle:new a(gl(Yt(this.params.url),this.view.getBaseUrl()))})),this.setLoadingStatus("loading"),G(this,Ys).getHeader().then(s=>{he(this,Zs,s.zoomLevels.map(o=>o.reductionLevel).reverse()),G(this,Zs).push(1),this.setLoadingStatus("complete"),n()}).catch(s=>{this.load(),this.setLoadingStatus("error",`${Yt(this.params.url)}: ${s.message}`),r(s)})})}),this.initializedPromise};function c5(e,t,n){const r=(e[1]-e[0])/t;return n.find(i=>i<r)??n.at(-1)}class h5 extends ml{constructor(n,r){const i={channel:"x",windowSize:1e6,debounce:200,debounceMode:"window",...n},a=Gu(r.paramMediator,i,s=>{s.includes("url")?K(this,Ff,jm).call(this).then(()=>this.reloadLastDomain()):s.includes("windowSize")&&this.reloadLastDomain()});super(r,a.channel);Y(this,Ff);Pt(this,"parser");Pt(this,"bbi");Pt(this,"parseLine");if(this.params=a,!this.params.url)throw new Error("No URL provided for BigBedSource");this.setupDebouncing(this.params),K(this,Ff,jm).call(this)}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,a)=>this.bbi.getFeatures(i.chrom,i.startPos,i.endPos,{signal:a}).then(s=>s.map(o=>this.parseLine(i.chrom,o))));r&&this.publishData(r)}}Ff=new WeakSet,jm=function(){return this.initializedPromise=new Promise((n,r)=>{Promise.all([Promise.resolve().then(()=>iU),Promise.resolve().then(()=>q_),Promise.resolve().then(()=>vl)]).then(([i,{BigBed:a},{RemoteFile:s}])=>{const o=i.default;this.bbi=new a({filehandle:new s(gl(Yt(this.params.url),this.view.getBaseUrl()))}),this.setLoadingStatus("loading"),this.bbi.getHeader().then(async f=>{this.parser=new o({autoSql:f.autoSql});try{const l=d5(this.parser);this.parseLine=(u,c)=>l(u,c.start,c.end,c.rest)}catch{this.parseLine=(u,c)=>this.parser.parseLine(`${u}	${c.start}	${c.end}	${c.rest}`)}this.setLoadingStatus("complete"),n()}).catch(f=>{this.load(),this.setLoadingStatus("error",`${Yt(this.params.url)}: ${f.message}`),r(f)})})}),this.initializedPromise};function d5(e){const t=e.autoSql.fields.filter(v=>v.type).slice(3);let n=0,r="",i=0,a={};const s="	",o=s.charCodeAt(0),f="0".charCodeAt(0),l="-".charCodeAt(0);function u(){let v=r.indexOf(s,n);v<0&&(v=i);const S=r.substring(n,v);return n=v+1,S}function c(){let v=0,S=r.charCodeAt(n),_=1;S===l&&(_=-1,n++,S=r.charCodeAt(n));do{if(S===o){n++;break}v=v*10+S-f,S=r.charCodeAt(++n)}while(n<i);return v*_}const h=t.map(v=>`${JSON.stringify(v.name)}: ${v.isNumeric?"0":"emptyString"}`),d=new Function(`
        const emptyString = "";
        return function makeTemplate(chrom, chromStart, chromEnd) {
            return {
                chrom,
                chromStart,
                chromEnd,
                ${h.join(`,
`)}
            }
        };`)(),p=t.map(v=>{const S=v.type,_=JSON.stringify(v.name);if(["ubyte","int","uint"].includes(S))return`d[${_}] = parseInt();`;if(v.isNumeric)return`d[${_}] = Number(parseString());`;if(["char","string","lstring"].includes(S))return`d[${_}] = parseString();`;throw new Error("Unsupported type: "+S)}),m=p5(p,50).map((v,S)=>Function("parseInt","parseString",`return function parseFieldChunk${S}(d) {
            ${v.join(`
`)}
        }`)(c,u));function y(v){r=v,i=v.length,n=0}function w(v,S,_,T){y(T),a=d(v,S,_);for(const I of m)I(a);return a}return w}function p5(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}class g5 extends ml{constructor(n,r){const i={channel:"x",windowSize:2e4,debounce:200,debounceMode:"domain",...n};super(r,i.channel);Y(this,Ea,void 0);Pt(this,"chrPrefixFixer",n=>n);if(this.params=i,!this.params.url)throw new Error("No URL provided for BamSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(a=>{Promise.all([Promise.resolve().then(()=>_U),Promise.resolve().then(()=>vl)]).then(([{BamFile:s},{RemoteFile:o}])=>{const f=l=>new o(gl(l,this.view.getBaseUrl()));he(this,Ea,new s({bamFilehandle:f(this.params.url),baiFilehandle:f(this.params.indexUrl??this.params.url+".bai")})),G(this,Ea).getHeader().then(l=>{var h,d;const u=this.genome.hasChrPrefix(),c=(d=(h=G(this,Ea).indexToChr)==null?void 0:h[0])==null?void 0:d.refName.startsWith("chr");u&&!c?this.chrPrefixFixer=p=>p.replace("chr",""):!u&&c&&(this.chrPrefixFixer=p=>"chr"+p),a()})})})}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,a)=>G(this,Ea).getRecordsForRange(this.chrPrefixFixer(i.chrom),i.startPos,i.endPos,{signal:a}).then(s=>s.map(o=>({chrom:i.chrom,start:o.get("start"),end:o.get("end"),name:o.get("name"),MD:o.get("MD"),cigar:o.get("cigar"),mapq:o.get("mq"),strand:o.get("strand")===1?"+":"-"}))));r&&this.publishData(r)}}Ea=new WeakMap;class m5 extends ml{constructor(n,r){const i={channel:"x",windowSize:3e6,debounce:200,debounceMode:"domain",...n};super(r,i.channel);Y(this,Rf,void 0);if(this.params=i,!this.params.url)throw new Error("No URL provided for TabixSource");this.setupDebouncing(this.params),this.initializedPromise=new Promise(a=>{Promise.all([Promise.resolve().then(()=>Zv),Promise.resolve().then(()=>MU),Promise.resolve().then(()=>vl)]).then(([{Buffer:s},{TabixIndexedFile:o},{RemoteFile:f}])=>{typeof window<"u"&&(window.Buffer??(window.Buffer=s));const l=u=>new f(gl(u,this.view.getBaseUrl()));he(this,Rf,new o({filehandle:l(this.params.url),tbiFilehandle:l(this.params.indexUrl??this.params.url+".tbi")})),a()})})}async loadInterval(n){const r=await this.discretizeAndLoad(n,async(i,a)=>{const s=[];return await G(this,Rf).getLines(i.chrom,i.startPos,i.endPos,{lineCallback:o=>{s.push(o)},signal:a}),this._parseFeatures(s)});r&&this.publishData(r)}_parseFeatures(n){return[]}}Rf=new WeakMap;class b5 extends m5{constructor(n,r){super(n,r);Y(this,Mf,void 0);Promise.resolve().then(()=>yG).then(i=>{he(this,Mf,i.default)})}_parseFeatures(n){var i;return(i=G(this,Mf))==null?void 0:i.parseStringSync(n.join(`
`),{parseSequences:!1})}}Mf=new WeakMap;function y5(e,t){if(wv(e))return new n5(e,t);if(r5(e))return new i5(e,t);if(a5(e))return new s5(e,t);if(w5(e))return k5(e.lazy,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function w5(e){return"lazy"in e}function x5(e){return(e==null?void 0:e.type)=="axisTicks"}function v5(e){return(e==null?void 0:e.type)=="axisGenome"}function A5(e){return(e==null?void 0:e.type)=="indexedFasta"}function E5(e){return(e==null?void 0:e.type)=="bigwig"}function _5(e){return(e==null?void 0:e.type)=="bigbed"}function S5(e){return(e==null?void 0:e.type)=="bam"}function C5(e){return(e==null?void 0:e.type)=="gff3"}function k5(e,t){if(x5(e))return new o5(e,t);if(v5(e))return new l5(e,t);if(A5(e))return new f5(e,t);if(E5(e))return new u5(e,t);if(_5(e))return new h5(e,t);if(S5(e))return new g5(e,t);if(C5(e))return new b5(e,t);throw new Error("Cannot figure out the data source type: "+JSON.stringify(e))}function T5(e){const t=Object.keys(e).filter(r=>typeof r=="string"),n=new Function("source","return { "+t.map(r=>JSON.stringify(r)).map(r=>`${r}: source[${r}]`).join(`,
`)+" };");return n.properties=t,n}class vc extends nt{get behavior(){return qn}constructor(){super();const t=n=>{const r=T5(n);this.handle=i=>this._propagate(r(i)),this.handle(n)};this.handle=t,this.beginBatch=n=>{Nx(n)&&(this.handle=t),super.beginBatch(n)}}}function I5(e){return"name"in e}class xv extends pl{constructor(n,r,i){super(r);Y(this,Pf,void 0);this.provider=i,this.params=n}get identifier(){return this.params.name}updateDynamicData(n){he(this,Pf,n),this.loadSynchronously()}loadSynchronously(){const n=G(this,Pf)??this.provider(this.params.name)??[];let r=i=>i;if(Array.isArray(n))n.length>0&&(r=bv(n[0]));else throw new Error(`Named data "${this.params.name}" is not an array!`);this.reset(),this.beginBatch({type:"file"});for(const i of n)this._propagate(r(i));this.complete()}async load(){this.loadSynchronously()}}Pf=new WeakMap;class vv{constructor(){this._dataSourcesByHost=new Map,this._collectorsByHost=new Map,this._observers=new Map}get dataSources(){return[...new Set(this._dataSourcesByHost.values()).values()]}get collectors(){return[...this._collectorsByHost.values()]}addObserver(t,n){let r=this._observers.get(n);r||(r=[],this._observers.set(n,r)),r.push(t)}_relayObserverCallback(t,n){const r=this._observers.get(n);if(r)for(const i of r)i(t)}addDataSource(t,n){this._dataSourcesByHost.set(n,t)}findDataSourceByKey(t){return this._dataSourcesByHost.get(t)}findNamedDataSource(t){let n,r=[];for(const[i,a]of this._dataSourcesByHost.entries())if(a instanceof xv&&t==a.identifier){if(n&&n!==a)throw new Error(`Found multiple instances of named data: ${t}. Data flow optimization is broken (it's a bug).`);n=a,r.push(i)}if(n)return{dataSource:n,hosts:r}}addCollector(t,n){this._collectorsByHost.set(n,t),t.observers.push(r=>this._relayObserverCallback(r,n))}findCollectorByKey(t){return this._collectorsByHost.get(t)}initialize(){for(const t of this.dataSources)t.visit(n=>n.initialize())}}function B5(e,t){const n=new Map,r=[];for(const i of e)n.set(i,{ref:i,children:[]});for(const i of n.values()){const a=n.get(t(i.ref));a?a.children.push(i):r.push(i)}return r}function Av(e,t,n){var i,a;const r=(i=t.preOrder)==null?void 0:i.call(t,e);if(r)return r;for(const s of n(e)){const o=Av(s,t,n);if(o==="stop")return o}return(a=t.postOrder)==null?void 0:a.call(t,e)}function D5(e,t){return Av(e,t,n=>n.children)}function F5(e,t){const n=[];let r;const i=t??new vv,a=[];function s(c,h=()=>{}){if(!r)throw h()||new Error("Cannot append data flow node, no parent exist!");return r.addChild(c),r=c,c}function o(c,h){return s(c,()=>new Error(`Cannot append a transform because no (inherited) data are available! ${h?JSON.stringify(h):""}`))}function f(c,h){for(const d of c){let p;try{p=KM(d,h)}catch(m){throw console.warn(m),new Error(`Cannot initialize "${d.type}" transform: ${m}`)}p.behavior&Jr&&o(new vc),o(p)}}const l=c=>{if(n.push(r),c.spec.data){const h=I5(c.spec.data)?new xv(c.spec.data,c,c.context.getNamedDataFromProvider):y5(c.spec.data,c);r=h,i.addDataSource(h,c)}if(c.spec.transform&&f(c.spec.transform,c),c instanceof Xt){if(!r)throw new Error(`A unit view (${c.getPathString()}) has no (inherited) data source`);const h=R5(c);if(h){a.push(h.rewrite);for(const p of h.transforms)o(p)}c.mark.isPickingParticipant()&&(o(new vc),o(new gv({type:"identifier"})));const d=new uv({type:"collect",groupby:c.getFacetFields(),sort:M5(c,h==null?void 0:h.rewrittenEncoding)});s(d),i.addCollector(d,c)}},u=B5(e.getDescendants(),c=>c.dataParent);for(const c of u)D5(c,{preOrder:h=>l(h.ref),postOrder:()=>{r=n.pop()}});return a.forEach(c=>c()),i}function R5(e){var a;const t=[],n={},r=[];for(const[s,o]of Object.entries(e.getEncoding())){const f=s;Jo(f)&&Jy(o)&&r.push({channel:f,chromPosDef:o})}const i=Jf(r,s=>Wi(s.channel),s=>s.chromPosDef.chrom);for(const[s,o]of i.entries())for(const[f,l]of o.entries()){const u=[],c=[],h=[];for(const{channel:d,chromPosDef:p}of l){const m=v=>v.replace(/[^A-Za-z0-9_]/g,""),y=["_linearized_",m(p.chrom),"_",m(p.pos)].join(""),w={...((a=e.spec.encoding)==null?void 0:a[d])??e.getEncoding()[d]??{},field:y};delete w.chrom,delete w.pos,!w.type&&p.type&&(w.type=p.type),n[d]=w,u.push(p.pos),h.push(p.offset??0),c.push(y)}t.push(new vc),t.push(new cv({type:"linearizeGenomicCoordinate",channel:s,chrom:f,pos:u,offset:h,as:c},e))}return t.length?{transforms:t,rewrittenEncoding:n,rewrite:()=>{e.spec.encoding={...e.spec.encoding,...n},JF(e.mark,"encoding")}}:void 0}function M5(e,t){var r;const n={...e.getEncoding(),...t}.x;if(Qt(n)&&(r=e.getScaleResolution("x"))!=null&&r.isZoomable()){if(qi(n))return"buildIndex"in n&&n.buildIndex?{field:n.field}:null;if(!Ko(n)){if(Hu(n))throw new Error("A zoomable x channel must be mapped to a field.")}}}function Ev(e,t=void 0){if(e.parent!==t)return!1;for(const n of e.children)if(!Ev(n,e))return!1;return!0}function op(e,t=!1){if(e.behavior&X0&&(t=!0),e instanceof vc)if(t)t=!1;else{const n=e.children[0];e.excise(),n&&op(n,t);return}e.behavior&qn&&(t=!1);for(let n=0,r=e.children.length;n<r;n++)op(e.children[n],t||r>1)}function P5(e){const t=[...e._dataSourcesByHost.entries()],n=new Map;for(const r of t){const i=r[1];i.identifier&&!n.has(i.identifier)&&n.set(i.identifier,i)}e._dataSourcesByHost.clear();for(let[r,i]of t){const a=n.get(i.identifier);a&&(a.adoptChildrenOf(i),i=a),e.addDataSource(i,r)}}function L5(e){if(op(e),!Ev(e))throw new Error("Encountered a bug! There's a problem in the data flow structure.")}function O5(e){for(const t of e.dataSources)L5(t);P5(e)}function N5(e){const t=new Set;e.visit(n=>{for(const r of Object.values(n.resolutions.scale)){const i=r.name;if(i&&t.has(i))throw new Error(`The same scale name "${i}" occurs in multiple scale resolutions!`);t.add(i)}})}function z5(e){for(const t of qa){const n=e.getScaleResolution(t);n&&!n.name&&n.isZoomable()&&(n.name=`${t}_at_root`)}}async function U5(e,t,n){var i;const r=e.import;if("url"in r){const a=pu({baseURL:t}),s=r.url,o=JSON.parse(await a.load(s).catch(f=>{throw new Error(`Could not load imported view spec: ${s} 
Reason: ${f.message}`)}));if(n.isViewSpec(o))return o.baseUrl=(i=s.match(/^[^?#]*\//))==null?void 0:i[0],o;throw new Error(`The imported spec "${s}" is not a view spec: ${JSON.stringify(e)}`)}else throw new Error("Not an url import: "+JSON.stringify(r))}function _v(e){return e.getSize().addPadding(e.getOverhang())}function G5(e){const t=n=>n.grow>0?void 0:n.px;return{width:t(e.width),height:t(e.height)}}function pr(e){return()=>e}const Rn=class Rn{static create(t,n,r,i){return new Rn(pr(t),pr(n),pr(r),pr(i))}_offset(t,n){const r=this["_"+t];if(n===0)return r;switch(typeof n){case"number":return()=>r()+n;case"function":return()=>r()+n();default:throw new Error("Not a number of function")}}_passThrough(t){return this._offset(t,0)}constructor(t,n,r,i){this._x=t,this._y=n,this._width=r,this._height=i}get x(){return this._x()}get y(){return this._y()}get width(){return this._width()}get height(){return this._height()}get x2(){return this._x()+this._width()}get y2(){return this._y()+this._height()}equals(t){return t?this===t||this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1}modify(t){if(!Object.keys(t).length)return this;const n=r=>{const i=t[r];return typeof i=="number"?pr(i):typeof i=="function"?i:this._passThrough(r)};return new Rn(n("x"),n("y"),n("width"),n("height"))}translate(t,n){return t===0&&n===0?this:new Rn(this._offset("x",t),this._offset("y",n),this._passThrough("width"),this._passThrough("height"))}translateBy(t){return this.translate(t.x,t.y)}expand(t,n=1){return t.left==0&&t.top==0&&t.right==0&&t.bottom==0?this:new Rn(t.left?this._offset("x",-t.left*n):this._passThrough("x"),t.top?this._offset("y",-t.top*n):this._passThrough("y"),t.width?this._offset("width",t.width*n):this._passThrough("width"),t.height?this._offset("height",t.height*n):this._passThrough("height"))}shrink(t){return this.expand(t,-1)}intersect(t){return this===t||t==null?this:new Rn(()=>Math.max(this.x,t.x),()=>Math.max(this.y,t.y),()=>Math.min(this.x2,t.x2)-Math.max(this.x,t.x),()=>Math.min(this.y2,t.y2)-Math.max(this.y,t.y))}union(t){return this===t||t==null?this:new Rn(()=>Math.min(this.x,t.x),()=>Math.min(this.y,t.y),()=>Math.max(this.x2,t.x2)-Math.min(this.x,t.x),()=>Math.max(this.y2,t.y2)-Math.min(this.y,t.y))}isDefined(){return this.width>=0&&this.height>=0}flatten(){return new Rn(pr(this.x),pr(this.y),pr(this.width),pr(this.height))}containsPoint(t,n){return t>=this.x&&t<this.x2&&n>=this.y&&n<this.y2}normalizePoint(t,n){return{x:(t-this.x)/this.width,y:(n-this.y)/this.height}}toString(){return`Rectangle: x: ${this.x}, y: ${this.y}, width: ${this.width}, height: ${this.height}`}toRoundedString(){return`Rectangle: x: ${Math.round(this.x)}, y: ${Math.round(this.y)}, width: ${Math.round(this.width)}, height: ${Math.round(this.height)}`}};Pt(Rn,"ZERO",Rn.create(0,0,0,0));let gr=Rn;class Sv{constructor(t){this.globalOptions=t}pushView(t,n){}popView(t){}renderMark(t,n){}}class Cv extends Sv{constructor(t,n){super(t),this.webGLHelper=n,this.buffer=[],this.coords=void 0,this.views=new Set}pushView(t,n){this.views.add(t),this.coords=n}renderMark(t,n){if(this.globalOptions.picking&&!t.isPickingParticipant())return;const r=t.render(n);r&&this.buffer.push({mark:t,callback:r,coords:this.coords,clipRect:n.clipRect})}render(){if(this.batch||this._buildBatch(),this.batch.length==0)return;const t=this.webGLHelper.gl,n=this.globalOptions.picking;t.bindFramebuffer(t.FRAMEBUFFER,n?this.webGLHelper._pickingBufferInfo.framebuffer:null),this.webGLHelper.clearAll();for(const r of this.views)r.onBeforeRender();for(const r of this.batch)r();n&&t.bindFramebuffer(t.FRAMEBUFFER,null)}_buildBatch(){this.batch=[];let t=!0,n=!0;const r=s=>()=>{t&&s()},i=s=>()=>{t&&n&&s()},a=Jf(this.buffer.reverse(),s=>s.mark);for(const[s,o]of[...a.entries()].reverse()){if(!s.isReady())continue;this.batch.push(()=>{t=s.unitView.getEffectiveOpacity()>0}),this.batch.push(...s.prepareRender(this.globalOptions).map(l=>r(l)));let f;for(const l of o){const u=l.coords;u.equals(f)||this.batch.push(r(()=>{n=s.setViewport(u,l.clipRect)})),this.batch.push(i(l.callback)),f=l.coords}}}}class H5 extends Sv{constructor(...t){super({}),this.contexts=t}pushView(t,n){for(const r of this.contexts)r.pushView(t,n)}popView(t){for(const n of this.contexts)n.popView(t)}renderMark(t,n){for(const r of this.contexts)r.renderMark(t,n)}}class V5{constructor(t,n){this.point=t,this.uiEvent=n,this.stopped=!1,this.target=void 0}stopPropagation(){this.stopped=!0}get type(){return this.uiEvent.type}}class ti{static fromMouseEvent(t){return new ti(t.clientX,t.clientY)}constructor(t,n){this.x=t,this.y=n}subtract(t){return new ti(this.x-t.x,this.y-t.y)}add(t){return new ti(this.x-t.x,this.y-t.y)}multiply(t){return new ti(this.x*t,this.y*t)}get length(){return Math.sqrt(this.x**2+this.y**2)}equals(t){return t?t===this||t.x===this.x&&t.y===this.y:!1}}const j5=e=>new Promise(t=>setTimeout(t,e));function $5(e){const t=e.requestAnimationFrame||window.requestAnimationFrame,n=e.signal,r=()=>new Promise((i,a)=>{if(n!=null&&n.aborted)return a("aborted");const s=performance.now(),o=s+(e.duration||1e3),f=typeof e.from=="number"?e.from:0,l=typeof e.to=="number"?e.to:1,u=e.easingFunction||(m=>m),c=m=>(m-s)/(o-s),h=m=>m*(l-f)+f,d=m=>Math.max(0,Math.min(1,m)),p=m=>{n!=null&&n.aborted?a("aborted"):(e.onUpdate(h(u(d(c(m))))),m<o?t(p):(e.onUpdate(h(u(1))),i()))};t(p)});return e.delay?n!=null&&n.aborted?Promise.reject("aborted"):j5(e.delay).then(r):r()}class q5{constructor(t){this._renderCallback=t,this._renderRequested=!1,this._warn=!1,this.transitions=[]}requestTransition(t){this.cancelTransition(t),this.transitions.push(t),this.requestRender()}cancelTransition(t){const n=this.transitions.indexOf(t);n>=0&&this.transitions.splice(n,1)}requestRender(){this._renderRequested?this._warn&&console.warn("Render already requested!"):(this._renderRequested=!0,window.requestAnimationFrame(t=>{this._renderRequested=!1;const n=this.transitions;this.transitions=[];let r;for(;r=n.shift();)r(t);this._renderCallback(t)}))}transition(t){return $5({requestAnimationFrame:n=>this.requestTransition(n),...t})}}function lp(e,t,n,r,i=0){let a=0,s=!0,o=i,f=o;function l(c){if(s)return;const h=c-a;a=c,o=f+(o-f)*Math.pow(2,-h/n),t(o),Math.abs(f-o)<r?(o=f,t(o),s=!0,e.requestRender()):e.requestTransition(d=>l(d))}function u(c){f=c,s&&(s=!1,a=+document.timeline.currentTime,l(a))}return u.stop=()=>{s=!0},u}class W5{constructor(t){this.genomes=new Map,this.baseUrl=t}async initialize(t){const n=new oM(t);return this.genomes.set(n.name,n),Promise.all([...this.genomes.values()].map(r=>r.load(this.baseUrl)))}getGenome(t){if(!this.genomes.size)throw new Error("No genomes have been configured!");if(t){const n=this.genomes.get(t);if(!n)throw new Error(`No genome with the name ${t} has been configured!`);return n}else{if(this.genomes.size>1)throw new Error("Cannot pick a default genome! More than one have been configured!");return this.genomes.values().next().value}}}const Z5="data:image/png;base64,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",Y5={thin:100,light:300,regular:400,normal:400,medium:500,bold:700,black:900};class Q5{constructor(t){this._webGLHelper=t,this.fontRepository="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/",this._fonts=new ar([],JSON.stringify),this._metadataPromises=new Map,this._fontPromises=new Map,this._promises=[],this._defaultFontEntry={metrics:Z0(hv),texture:t?this._createTextureNow(Z5):void 0}}async waitUntilReady(){await Promise.all(this._promises)}getFont(t,n="normal",r="regular"){if(Ue(r)&&(r=Y5[r.toLowerCase()],!r))throw new Error("Unknown font weight: "+r);const i={family:t,style:n,weight:r};let a=this._fonts.get(i);return a||(a={metrics:void 0,texture:void 0},this._fonts.set(i,a),this._promises.push(this._loadFontEntry(a,i))),a}async _loadFontEntry(t,n){try{const r=await this._loadMetadata(n.family),i=K5(r,n),a=this.fontRepository+kv(n.family)+"/"+i.replace(/\.\w+/,""),s=this._createTexture(a+".png"),o=this._loadFont(a+".json");t.texture=await s,t.metrics=await o}catch(r){console.log("Cannot load font. Using default.",r),t.metrics=this._defaultFontEntry.metrics,t.texture=this._defaultFontEntry.texture}}_loadFont(t){let n=this._fontPromises.get(t);return n||(n=fetch(t).then(r=>{if(!r.ok)throw new Error("Could not load font: "+r.status);return r}).then(r=>r.json()).then(r=>Z0(r)),this._fontPromises.set(t,n)),n}_loadMetadata(t){const n=kv(t);let r=this._metadataPromises.get(n);return r||(r=fetch(this.fontRepository+n+"/METADATA.pb").then(i=>{if(!i.ok)throw new Error("Could not load font metadata: "+i.status);return i}).then(i=>i.text()).then(i=>X5(i)).catch(i=>{console.warn(i)}),this._metadataPromises.set(n,r)),r}getDefaultFont(){return this._defaultFontEntry}_createTexture(t){const n=this._webGLHelper.gl;return new Promise((r,i)=>{sl(n,{src:t,min:n.LINEAR},(a,s,o)=>{a?i(a):r(s)})})}_createTextureNow(t){const n=this._webGLHelper.gl;let r;const i=new Promise((a,s)=>{r=sl(n,{src:t,min:n.LINEAR},(o,f,l)=>{o?s(o):a(f)})});return this._promises.push(i),r}}function kv(e){return e.toLowerCase().replaceAll(/[^\w]/g,"")}function X5(e){const t=e.split(`
`),n=[];let r;for(const i of t)if(i.startsWith("fonts {")&&(r={name:void 0,style:void 0,weight:void 0,filename:void 0,post_script_name:void 0,full_name:void 0,copyright:void 0}),i.startsWith("}")&&(n.push(r),r=void 0),r){let a=i.match(/^\s*([A-Za-z_]+):[ ]?"(.*)"$/);if(a){const s=a[1];r[s]=a[2]}if(a=i.match(/^\s*([A-Za-z_]+):[ ]?(\d+)$/),a){const s=a[1];r[s]=+a[2]}}return n}function K5(e,t){let n,r=Number.POSITIVE_INFINITY;for(const i of e)if(t.family.localeCompare(i.name,void 0,{sensitivity:"accent"})==0&&t.style==i.style){const a=Math.abs(t.weight-i.weight);a<r&&(r=a,n=i)}return n==null?void 0:n.filename}function J5(e,t){const n=[];let r;for(const i of e.split(`
`))if(i.startsWith(">"))r={identifier:i.match(/>(\S+)/)[1],sequence:""},n.push(r);else if(r)r.sequence+=i.trim();else throw new Error("Invalid fasta file!");return n}class eP{constructor(t,n){this.animator=t,this.disabled=!!n,this.maxDistance=500,this.callback=null,this.targetValue=0,this.lastValue=0,this.smoother=lp(t,r=>{var a;const i=r-this.lastValue;this.lastValue=r,(a=this.callback)==null||a.call(this,i)},40,.1)}cancel(){this.targetValue=e1([this.lastValue,this.targetValue],.3),this.smoother(this.targetValue)}setMomentum(t,n){if(this.disabled){n(t);return}this.callback=n;const r=za(this.targetValue+t-this.lastValue,-this.maxDistance,this.maxDistance);this.targetValue=this.lastValue+r,this.smoother(this.targetValue)}}function tP(e){const t={},n=["string","number","boolean"],r=["wheelDelta","wheelDeltaX","wheelDeltaY"];for(const i in e){const a=i;!r.includes(i)&&n.includes(typeof e[a])&&(t[a]=e[a])}return t}const Tv=new Map;async function nP(e,t,n){const r=e.symbol;let i=Tv.get(r)??await aP(e.symbol);return i?(Tv.set(r,i),Ve`
            <div class="title">
                <strong>${i.name}</strong>
                ${i.description}
            </div>
            <p class="summary">${i.summary}</p>
            <p class="source">Source: NCBI RefSeq Gene</p>
        `):null}async function rP(e){console.log("Searching: "+e);const t={mode:"cors"},r=(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=gene&term=${e}[GENE]&sort=relevance&retmode=json`,t).then(i=>i.json())).esearchresult.idlist[0];return r?(await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id=${r}&retmode=json`,t).then(s=>s.json())).result[r]:null}const iP=xc(rP,500);function aP(e){return iP(e)}const sP=mt(".4~r"),oP=mt(".4~e");function Iv(e){return e==null?Ve` <span class="na">NA</span> `:Ue(e)?e.substring(0,30):Number.isInteger(e)?""+e:Tt(e)?Math.abs(e)>Math.pow(10,8)||Math.abs(e)<Math.pow(10,-8)?oP(e):sP(e):io(e)?e?"True":"False":vt(e)?Ve`${e.map((t,n)=>[Iv(t),n<e.length-1?", ":Ke])}`:"?"+typeof e+" "+e}async function lP(e,t,n){const r=(f,l)=>{var u;for(const[c,h]of Object.entries(t.encoders))if((u=h==null?void 0:h.accessor)!=null&&u.fields.includes(f))switch(c){case"color":case"fill":case"stroke":return Ve`
                            <span
                                class="color-legend"
                                style=${`background-color: ${h(l)}`}
                            ></span>
                        `}return""},i=Object.entries(e).filter(([f,l])=>!f.startsWith("_"));if(i.length===0)return;const a=Ve`
        <table class="attributes">
            ${i.map(([f,l])=>Ve`
                    <tr>
                        <th>${f}</th>
                        <td>${Iv(l)} ${r(f,e)}</td>
                    </tr>
                `)}
        </table>
    `,s=t.unitView.getTitleText(),o=s?Ve`
              <div class="title">
                  <strong>${s}</strong>
              </div>
          `:"";return Ve`${o}${a}`}class bl extends lv{constructor(t,n,r,i,a,s){super(t,n,r,i,a,s),this.spec=t}async initializeChildren(){}*[Symbol.iterator](){}replaceChild(t,n){throw new Error("Not implemented")}visit(t){let n;try{n=t(this)}catch(r){throw r.view=this,r}if(n===dl)return n;if(n!==_M){t.beforeChildren&&t.beforeChildren(this);for(const r of this){const i=r.visit(t);if(i===dl)return i}t.afterChildren&&t.afterChildren(this),t.postOrder&&t.postOrder(this)}}findDescendantByPath(t){for(const n of this)if(n.name===t[0]){if(t.length==1)return n;if(n instanceof bl)return n.findDescendantByPath(t.slice(1))}}findChildByName(t){for(const n of this)if(n.name===t)return n}findDescendantByName(t){let n;return this.visit(r=>{if(r.name==t)return n=r,dl}),n}getDefaultResolution(t,n){return"shared"}}class yl extends bl{constructor(n,r,i,a,s,o){super(n,r,i,a,s,o);Y(this,Cr,[]);this.spec=n,this.needsAxes={x:!0,y:!0}}async initializeChildren(){he(this,Cr,await Promise.all(this.spec.layer.map((n,r)=>this.context.createOrImportView(n,this,this,"grid"+r,i=>{if(!pp(i)&&!dp(i))throw new Ji("LayerView accepts only unit or layer specs as children!",this)}))))}get children(){return G(this,Cr).slice()}*[Symbol.iterator](){for(const n of G(this,Cr))yield n}render(n,r,i={}){if(super.render(n,r,i),!!this.isConfiguredVisible()){n.pushView(this,r);for(const a of G(this,Cr))a.render(n,r,i);n.popView(this)}}propagateInteractionEvent(n){this.handleInteractionEvent(void 0,n,!0);for(let r=G(this,Cr).length-1;r>=0;r--)if(G(this,Cr)[r].propagateInteractionEvent(n),n.stopped)return;this.handleInteractionEvent(void 0,n,!1)}}Cr=new WeakMap;class Bv{constructor(t,n){this.n=t,this.maxCols=n??1/0}get nRows(){return this.maxCols==1/0?1:Math.ceil(this.n/this.maxCols)}get nCols(){return Math.min(this.n,this.maxCols)}get rowIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<r;i++){const a=[];t.push(a);for(let s=0;s<n;s++){const o=i*n+s;o<this.n&&a.push(o)}}return t}get colIndices(){const t=[],n=this.nCols,r=this.nRows;for(let i=0;i<n;i++){const a=[];t.push(a);for(let s=0;s<r;s++){const o=s*n+i;o<this.n&&a.push(o)}}return t}getCellIndex(t,n){let r=0;if(this.maxCols==1/0)r=n==0?t:void 0;else{if(t>=this.maxCols)return;r=n*this.nCols+t}return r<this.n?r:void 0}getCellCoords(t){if(!(t<0||t>=this.n))return[t%this.nCols,Math.floor(t/this.nCols)]}}const fP="chromosome_ticks_and_labels",uP={x:"width",y:"height"};function fp(e){return e=="x"?"y":"x"}const Ac={x:["bottom","top"],y:["left","right"]},up=Object.fromEntries(Object.entries(Ac).map(([e,t])=>t.map(n=>[n,e])).flat(1));function ni(e){return up[e]}class Dv extends yl{constructor(t,n,r,i,a,s){const o=n=="locus",f={...o?hP:Fv,...cP(n,t),...t};super(o?dP(f,n):Rv(f,n),r,i,a,`axis_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...s}),this.axisProps=f}getSize(){const t={px:this.getPerpendicularSize()},n={grow:1};return up[this.axisProps.orient]=="x"?new ei(n,t):new ei(t,n)}getPerpendicularSize(){return cp(this.axisProps)}isPickingSupported(){return!1}}function cp(e){const t=ni(e.orient);let n=e.ticks&&e.tickSize||0;return e.labels&&(n+=e.labelPadding,t=="x"?n+=e.labelFontSize:n+=30),e.title&&(n+=e.titlePadding+e.titleFontSize),n=Math.min(e.maxExtent||1/0,Math.max(e.minExtent||0,n)),n}const Fv={values:null,minExtent:20,maxExtent:1/0,offset:0,domain:!0,domainWidth:1,domainColor:"gray",domainDash:null,domainDashOffset:0,domainCap:"square",ticks:!0,tickSize:5,tickWidth:1,tickColor:"gray",tickDash:null,tickDashOffset:0,tickCap:"square",tickCount:null,tickMinStep:null,labels:!0,labelAlign:"center",labelBaseline:"middle",labelPadding:4,labelFontSize:10,labelLimit:180,labelColor:"black",format:null,titleColor:"black",titleFont:"sans-serif",titleFontSize:10,titlePadding:3};function cP(e,t){const n=t.orient,r=e=="nominal"||e=="ordinal";let i="center",a="middle",s=t.labelAngle??((n=="top"||n=="bottom")&&r?-90:0);switch(n){case"left":i="right";break;case"right":i="left";break;case"top":case"bottom":Math.abs(s)>30?(i=s>0==(n=="bottom")?"left":"right",a="middle"):a=n=="top"?"alphabetic":"top";break}return{labelAlign:i,labelAngle:s,labelBaseline:a}}function Rv(e,t){const n={...e,extent:cp(e)},r=ni(n.orient),i=fp(r),a=n.orient=="bottom"||n.orient=="right"?1:-1,s=n.orient=="bottom"||n.orient=="left"?1:0,o=()=>({name:"domain",data:{values:[0]},mark:{type:"rule",clip:!1,strokeDash:n.domainDash,strokeCap:n.domainCap,color:n.domainColor,[i]:s,size:n.domainWidth}}),f=()=>({name:"labels",mark:{type:"text",clip:!1,align:n.labelAlign,angle:n.labelAngle,baseline:n.labelBaseline,[i+"Offset"]:(n.tickSize+n.labelPadding)*a,[i]:s,size:n.labelFontSize,color:n.labelColor,minBufferSize:1500},encoding:{[r]:{field:"value",type:t},text:{field:"label"}}}),l=()=>({name:"ticks",mark:{type:"rule",clip:!1,strokeDash:n.tickDash,strokeCap:n.tickCap,color:n.tickColor,size:n.tickWidth,minBufferSize:300},encoding:{[i]:{value:s},[i+"2"]:{value:s-n.tickSize/n.extent*(s?1:-1)}}}),u=()=>({name:"title",data:{values:[0]},mark:{type:"text",clip:!1,align:"center",baseline:n.orient=="bottom"?"bottom":"top",angle:[0,90,0,-90][["top","right","bottom","left"].indexOf(n.orient)],text:n.title,color:n.titleColor,[r]:.5,[i]:1-s}}),c=()=>{const d={name:"ticks_and_labels",encoding:{[r]:{field:"value",type:t}},layer:[]};return n.ticks&&d.layer.push(l()),n.labels&&d.layer.push(f()),d},h={resolve:{scale:{[r]:"forced"}},[uP[fp(r)]]:n.extent,data:{lazy:{type:"axisTicks",channel:r,axis:e}},layer:[]};return n.domain&&h.layer.push(o()),(n.ticks||n.labels)&&h.layer.push(c()),n.title&&h.layer.push(u()),h}const hP={...Fv,chromTicks:!0,chromTickSize:18,chromTickWidth:1,chromTickColor:"#989898",chromTickDash:[4,2],chromTickDashOffset:1,chromLabels:!0,chromLabelFontSize:13,chromLabelFontWeight:"normal",chromLabelFontStyle:"normal",chromLabelColor:"black",chromLabelAlign:"left",chromLabelPadding:7};function dP(e,t){const n={...e,extent:cp(e)},r=ni(n.orient),i=fp(r),a=n.orient=="bottom"||n.orient=="left"?1:0,s=()=>({name:"chromosome_ticks",mark:{type:"rule",strokeDash:e.chromTickDash,strokeDashOffset:e.chromTickDashOffset,[i]:a,[i+"2"]:a-n.chromTickSize/n.extent*(a?1:-1),color:e.chromTickColor,size:n.chromTickWidth}}),o=()=>{let u;switch(n.orient){case"top":u={y:0,angle:0,paddingX:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"bottom":u={y:1,angle:0,paddingX:4,dy:n.chromLabelPadding+n.chromLabelFontSize*.73,viewportEdgeFadeWidthLeft:20,viewportEdgeFadeWidthRight:20,viewportEdgeFadeDistanceRight:-10,viewportEdgeFadeDistanceLeft:-20};break;case"left":u={x:1,angle:-90,paddingY:4,dy:-n.chromLabelPadding,viewportEdgeFadeWidthBottom:20,viewportEdgeFadeWidthTop:20,viewportEdgeFadeDistanceBottom:-20,viewportEdgeFadeDistanceTop:-10};break;case"right":u={x:0,angle:90,align:"right",paddingY:4,dy:-n.chromLabelPadding};break;default:u={}}return{name:"chromosome_labels",mark:{type:"text",size:n.chromLabelFontSize,font:n.chromLabelFont,fontWeight:n.chromLabelFontWeight,fontStyle:n.chromLabelFontStyle,color:n.chromLabelColor,align:e.chromLabelAlign,baseline:"alphabetic",clip:!1,...u},encoding:{[r+"2"]:{field:"continuousEnd",type:t},text:{field:"name"}}}};let f;switch(n.orient){case"bottom":case"top":f={};break;case"left":f={labelAngle:-90,labelAlign:"center",labelPadding:6};break;case"right":f={labelAngle:90,labelAlign:"center",labelPadding:6};break;default:f={}}const l=Rv({...e,...f},t);if(e.chromTicks||e.chromLabels){const u={name:fP,data:{lazy:{type:"axisGenome",channel:ni(n.orient)}},encoding:{[r]:{field:"continuousStart",type:t,band:0}},layer:[]};if(e.chromTicks&&u.layer.push(s()),e.chromLabels){u.layer.push(o());let c;l.layer.filter(h=>h.name=="ticks_and_labels").forEach(h=>h.layer.filter(d=>d.name=="labels").forEach(d=>{c=d.mark})),c&&(n.orient=="top"||n.orient=="bottom"?(c.viewportEdgeFadeWidthLeft=30,c.viewportEdgeFadeDistanceLeft=40):(c.viewportEdgeFadeWidthBottom=30,c.viewportEdgeFadeDistanceBottom=40))}l.layer.push(u)}return l}class pP extends yl{constructor(t,n,r,i,a,s){const f={...n=="locus"?gP:Mv,...t};super(wP(f,n),r,i,a,`axisGrid_${t.orient}`,{blockEncodingInheritance:!0,contributesToScaleDomain:!1,...s}),this.axisProps=f}getOrient(){return this.axisProps.orient}isPickingSupported(){return!1}}const Mv={values:null,grid:!1,gridCap:"butt",gridColor:"lightgray",gridDash:null,gridOpacity:1,gridWidth:1,tickCount:null,tickMinStep:null},gP={...Mv,chromGrid:!1,chromGridCap:"butt",chromGridColor:"gray",chromGridDash:[1,5],chromGridOpacity:1,chromGridWidth:1};function mP(e,t){const n=e,r=ni(n.orient);return{name:"grid_lines",data:{lazy:{type:"axisTicks",channel:r,axis:e}},mark:{type:"rule",strokeDash:n.gridDash,strokeCap:n.gridCap,color:n.gridColor,size:n.gridWidth,opacity:n.gridOpacity,minBufferSize:300},encoding:{[r]:{field:"value",type:t}}}}function bP(e,t){const n=e,r=ni(n.orient);return{name:"chromosome_lines",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rule",strokeDash:n.chromGridDash,strokeCap:n.chromGridCap,color:n.chromGridColor,size:n.chromGridWidth,opacity:n.chromGridOpacity},encoding:{[r]:{field:"continuousStart",type:t,band:0}}}}function yP(e,t){const n=e,r=ni(n.orient);return{name:"chromosome_fill",data:{lazy:{type:"axisGenome",channel:r}},mark:{type:"rect"},encoding:{[r]:{field:"continuousStart",type:t,band:0},[r+"2"]:{field:"continuousEnd",band:0},fill:{field:"odd",type:"nominal",scale:{domain:[!1,!0],range:[n.chromGridFillEven??"white",n.chromGridFillOdd??"white"]}},opacity:{field:"odd",type:"nominal",scale:{type:"ordinal",domain:[!1,!0],range:[n.chromGridFillEven?1:0,n.chromGridFillOdd?1:0]}}}}}function wP(e,t){const n={...e},r=[];return n.chromGrid&&(n.chromGridFillOdd||n.chromGridFillEven)&&r.push(yP(n,t)),n.chromGrid&&n.chromGridOpacity>0&&r.push(bP(n,t)),n.grid&&n.gridOpacity>0&&r.push(mP(n,t)),{name:"grid_layers",configurableVisibility:!1,resolve:{scale:{[ni(e.orient)]:"forced",fill:"independent",opacity:"independent"}},layer:r}}const Pv={anchor:"middle",frame:"group",offset:10,orient:"top",align:void 0,angle:0,baseline:"alphabetic",dx:0,dy:0,color:void 0,font:void 0,fontSize:12,fontStyle:"normal",fontWeight:"normal"},xP={orient:"left",anchor:"middle",align:"right",baseline:"middle",angle:0,fontSize:12},vP={orient:"top",anchor:"start",align:"left",baseline:"top",offset:-10,dx:10,fontSize:12},AP={start:0,middle:.5,end:1},EP={start:"left",middle:"center",end:"right"};function _P(e){if(!e)return;const t=Ue(e)?{text:e}:e;if(!t.text||t.orient=="none")return;const n={"track-title":xP,overlay:vP}[t.style]??{},r={...Pv,...n,...t};let i={},a={x:0,y:0};const s=AP[r.anchor??"middle"];switch(r.orient){case"top":a={x:s,y:1},i={baseline:"alphabetic",angle:0};break;case"right":a={x:1,y:1-s},i={baseline:"alphabetic",angle:90};break;case"bottom":a={x:s,y:0},i={baseline:"top",angle:0};break;case"left":a={x:0,y:s},i={baseline:"alphabetic",angle:-90};break}const o={...Pv,...i,...n,...t},f={xOffset:0,yOffset:0};switch(r.orient){case"top":f.yOffset=-o.offset;break;case"right":f.xOffset=o.offset;break;case"bottom":f.yOffset=o.offset;break;case"left":f.xOffset=-o.offset;break}return{configurableVisibility:!1,data:{values:[{}]},mark:{type:"text",tooltip:null,clip:!1,...a,...f,text:o.text,align:o.align??EP[o.anchor],angle:o.angle,baseline:o.baseline,dx:o.dx,dy:o.dy,color:o.color,font:o.font,size:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight}}}class SP{constructor(t){Y(this,_a,void 0);Y(this,xi,0);Y(this,vi,0);he(this,_a,new Array(t))}push(t){G(this,_a)[G(this,xi)]=t,he(this,xi,(G(this,xi)+1)%this.size),he(this,vi,Math.min(G(this,vi)+1,this.size))}get(){const t=G(this,_a);return G(this,vi)<this.size?t.slice(0,G(this,vi)):t.slice(G(this,xi),this.size).concat(t.slice(0,G(this,xi)))}get size(){return G(this,_a).length}get length(){return G(this,vi)}}_a=new WeakMap,xi=new WeakMap,vi=new WeakMap;let ea,Lv=0;function Ov(){return performance.now()-Lv<50}function CP(e){return function(...t){Lv=performance.now(),e(...t)}}function kP(e,t,n,r,i){if(n=CP(n),e.type=="wheel"){e.uiEvent.preventDefault();const a=e.uiEvent,s=a.deltaMode?120:1;if(a.deltaX===0&&a.deltaY===0)return;let{x:o,y:f}=e.point;if(ea==null||ea.stop(),r){const l=r.mark.encoders;l.x&&!l.x2&&!l.x.constantValue&&(o=+l.x(r.datum)*t.width+t.x),l.y&&!l.y2&&!l.y.constantValue&&(f=(1-+l.y(r.datum))*t.height+t.y)}Math.abs(a.deltaX)<Math.abs(a.deltaY)?n({x:o,y:f,xDelta:0,yDelta:0,zDelta:a.deltaY*s/300}):n({x:o,y:f,xDelta:-a.deltaX*s,yDelta:0,zDelta:0})}else if(e.type=="mousedown"&&e.uiEvent.button===0){ea&&ea.stop();const a=new SP(30),s=e.uiEvent;s.preventDefault();let o=ti.fromMouseEvent(s);const f=c=>{const h=ti.fromMouseEvent(c);a.push({point:h,timestamp:performance.now()});const d=h.subtract(o);n({x:o.x,y:o.y,xDelta:d.x,yDelta:d.y,zDelta:0}),o=h},l=()=>{const h=performance.now(),d=a.get().filter(v=>h-v.timestamp<160);if(d.length<5||!i||TP(d))return;const p=d.at(-1),m=d[0],y=p.point.subtract(m.point).multiply(1/(p.timestamp-m.timestamp));let w=o.x;ea=lp(i,v=>{n({x:v,y:o.y,xDelta:w-v,yDelta:0,zDelta:0}),w=v},150,.5,w),ea(o.x-y.x*250)},u=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),l()};document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",f,!1)}}function TP(e){const t=e[Math.floor(e.length/2)],n=t.point.subtract(e[0].point).multiply(t.timestamp-e[0].timestamp),r=e.at(-1).point.subtract(t.point).multiply(e.at(-1).timestamp-t.timestamp),i=n.length,a=r.length,s=.4;return a/i<s}class IP extends bl{constructor(n,r,i,a,s,o,f){super(n,r,i,a,s,f);Y(this,kr);Y(this,Ih);Y(this,Ca);Y(this,Lf);Y(this,Of);Y(this,Nf);Y(this,Bh);Y(this,Js);Y(this,Dh);Y(this,Qs,1/0);Y(this,Xs,10);Y(this,nn,[]);Y(this,Sa,{});Y(this,Ks,0);this.spec=n,he(this,Xs,n.spacing??10),he(this,Qs,o),he(this,nn,[]),this.wrappingFacet=!1}appendChild(n){n.layoutParent??(n.layoutParent=this),G(this,nn).push(new zv(n,this,G(this,Ks))),vC(this,Ks)._++}setChildren(n){he(this,nn,[]);for(const r of n)this.appendChild(r)}replaceChild(n,r){const i=G(this,nn).findIndex(a=>a.view==n);if(i>=0)G(this,nn)[i]=new zv(r,this,G(this,Ks));else throw new Error("Not my child view!")}get children(){return G(this,nn).map(n=>n.view)}get childCount(){return G(this,nn).length}async createAxes(){const n=[];for(const r of qa){const i=this.resolutions.axis[r];if(i){const a=i.getAxisProps();if(a){const s={title:i.getTitle(),orient:Ac[r][0],...a},o=new Dv(s,i.scaleResolution.type,this.context,this,this);n.push(o.initializeChildren()),G(this,Sa)[r]=o}}}return Promise.all([...n,...G(this,nn).map(r=>r.createAxes())])}*[Symbol.iterator](){for(const n of G(this,nn))yield*n.getChildren();for(const n of Object.values(G(this,Sa)))yield n}getOverhang(){return K(this,Bh,IC).call(this).union(K(this,Js,zh).call(this))}getSize(){return this._cache("size",()=>new ei(K(this,Of,qm).call(this,"column"),K(this,Of,qm).call(this,"row")).addPadding(K(this,Js,zh).call(this)))}render(n,r,i={}){if(super.render(n,r,i),!this.isConfiguredVisible())return;this.layoutParent||(r=r.shrink(this.getPadding())),r=r.shrink(K(this,Js,zh).call(this)),n.pushView(this,r);const a={devicePixelRatio:this.context.devicePixelRatio},s=iv(K(this,Lf,$m).call(this,"column"),r.width,a),o=iv(K(this,Lf,$m).call(this,"row"),r.height,a),f=new Bv(G(this,kr,Ia).length,G(this,Qs)??1/0),l=u=>Math.round(u*devicePixelRatio)/devicePixelRatio;for(const[u,c]of G(this,kr,Ia).entries()){const{view:h,axes:d,gridLines:p,background:m,backgroundStroke:y,title:w}=c,[v,S]=f.getCellCoords(u),_=s[K(this,Nf,Wm).call(this,"column",v)],T=o[K(this,Nf,Wm).call(this,"row",S)],I=h.getViewportSize(),B=h.getSize(),F=h.getOverhang(),M=_.location-F.left,H=T.location-F.top,N=(Ne,L)=>(Ne[L].grow?(L=="width"?_:T).size:Ne[L].px)+F[L],re=N(I,"width"),oe=N(I,"height"),te=N(B,"width"),ge=N(B,"height"),Je=c.scrollbars.horizontal,Fe=c.scrollbars.vertical,et=Je?()=>l(Je.viewportOffset):()=>0,Ze=Fe?()=>l(Fe.viewportOffset):()=>0,tt=new gr(()=>r.x+M,()=>r.y+H,()=>re,()=>oe),Se=h.isScrollable(),Ce=Se?new gr(()=>r.x+M-et(),()=>r.y+H-Ze(),()=>te,()=>ge):tt;c.coords=tt;const gt=i.clipRect?tt.intersect(i.clipRect):tt;m==null||m.render(n,gt,{...i,clipRect:void 0});for(const Ne of Object.values(p))Ne.render(n,tt,i);const qt=RP(h)||Se;qt&&h.render(n,Ce,{...i,clipRect:gt}),y==null||y.render(n,gt,{...i,clipRect:void 0});for(const[Ne,L]of Object.entries(d)){const P=Ne=="left"||Ne=="right"?"vertical":"horizontal",q=c.scrollbars[P],j=q?tt.modify(P=="vertical"?{y:()=>Ce.y,height:ge}:{x:()=>Ce.x,width:te}):tt,Z=Nv(j,Ne,L);let C=i.clipRect;q&&(C=Z.intersect(C).intersect(q?tt.modify(P=="vertical"?{x:-1e5,width:2e5}:{y:-1e5,height:2e5}):void 0)),L.render(n,Z,{...i,clipRect:C})}for(const Ne of Object.values(G(this,Sa))){const P=Ne.axisProps.orient;(P=="left"&&v==0||P=="right"&&v==f.nCols-1||P=="top"&&S==0||P=="bottom"&&S==f.nRows-1)&&Ne.render(n,Nv(tt.shrink(c.view.getOverhang()),P,Ne),i)}qt||h.render(n,Ce,i);for(const Ne of Object.values(c.scrollbars))Ne.updateScrollbar(tt,Ce),Ne.render(n,r,i);w==null||w.render(n,tt,i)}n.popView(this)}propagateInteractionEvent(n){if(this.handleInteractionEvent(void 0,n,!0),n.stopped)return;const r=G(this,kr,Ia).find(a=>a.coords.containsPoint(n.point.x,n.point.y));for(const a of Object.values((r==null?void 0:r.scrollbars)??{}))if(a.coords.containsPoint(n.point.x,n.point.y)&&(a.propagateInteractionEvent(n),n.stopped))return;const i=r==null?void 0:r.view;i&&(i.propagateInteractionEvent(n),(i instanceof Xt||i instanceof yl)&&kP(n,r.coords,a=>K(this,Dh,BC).call(this,r.coords,r.view,a),this.context.getCurrentHover(),this.context.animator)),!n.stopped&&this.handleInteractionEvent(void 0,n,!1)}getDefaultResolution(n,r){return"independent"}}Qs=new WeakMap,Xs=new WeakMap,nn=new WeakMap,Sa=new WeakMap,Ks=new WeakMap,kr=new WeakSet,Ia=function(){return G(this,nn).filter(n=>n.view.isConfiguredVisible())},Ih=new WeakSet,TC=function(){return new Bv(G(this,kr,Ia).length,G(this,Qs)??1/0)},Ca=new WeakSet,Vf=function(n){const r=n=="column"?"width":"height",i=(a,s)=>a.map(o=>{const l=G(this,kr,Ia)[o].getOverhangAndPadding();return n=="column"?s?l.right:l.left:s?l.bottom:l.top}).reduce((o,f)=>Math.max(o,f),0);return this._cache(`size/directionSizes/${n}`,()=>G(this,Ih,TC)[n=="column"?"colIndices":"rowIndices"].map(a=>({axisBefore:i(a,0),axisAfter:i(a,1),view:xM(a.map(s=>G(this,kr,Ia)[s].view.getViewportSize()[r]))})))},Lf=new WeakSet,$m=function(n){const r=K(this,Ca,Vf).call(this,n),i=[];i.push(hl);for(const[a,s]of r.entries())a>0&&i.push({px:G(this,Xs),grow:0}),(a==0||this.wrappingFacet)&&i.push(hl),i.push({px:s.axisBefore,grow:0}),i.push(s.view),i.push({px:s.axisAfter,grow:0}),(a==r.length-1||this.wrappingFacet)&&i.push(hl);return i},Of=new WeakSet,qm=function(n){let r=0,i=0;const a=n=="row"?this.spec.height:this.spec.width;if(a||a===0)return sv(a);const s=K(this,Ca,Vf).call(this,n);for(const[o,f]of s.entries())o>0&&(i+=G(this,Xs)),(o==0||this.wrappingFacet)&&(i+=0),i+=f.axisBefore,i+=f.view.px??0,r+=f.view.grow??0,i+=f.axisAfter,(o==s.length-1||this.wrappingFacet)&&(i+=0);return{px:i,grow:r}},Nf=new WeakSet,Wm=function(n,r){return n=="row"&&this.wrappingFacet?1+6*r+2:2+4*r+1},Bh=new WeakSet,IC=function(){const n=K(this,Ca,Vf).call(this,"column"),r=K(this,Ca,Vf).call(this,"row");return!n.length||!r.length?St.zero():new St(r.at(0).axisBefore,n.at(-1).axisAfter,r.at(-1).axisAfter,n.at(0).axisBefore)},Js=new WeakSet,zh=function(){const n=r=>{const i=up[r],a=G(this,Sa)[i];return(a==null?void 0:a.axisProps.orient)!==r?0:Math.max(a.getPerpendicularSize()+a.axisProps.offset,0)};return new St(n("top"),n("right"),n("bottom"),n("left"))},Dh=new WeakSet,BC=function(n,r,i){for(const[a,s]of Object.entries(FP(r))){if(s.size<=0)continue;const o=n.normalizePoint(i.x,i.y),f=n.normalizePoint(i.x+i.xDelta,i.y+i.yDelta),l={x:f.x-o.x,y:f.y-o.y};for(const u of s)u.zoom(2**i.zDelta,a=="y"?1-o[a]:o[a],a=="x"?l.x:-l.y)}this.context.animator.requestRender()};function BP(e){if(!(!e||!e.fill||e.fillOpacity===0))return{configurableVisibility:!1,data:{values:[{}]},mark:{color:e.fill,opacity:e.fillOpacity??1,type:"rect",clip:!1,tooltip:null,minHeight:1,minOpacity:0}}}function DP(e){if(!(!e||!e.stroke||e.strokeWidth===0||e.strokeOpacity===0))return{configurableVisibility:!1,resolve:{scale:{x:"excluded",y:"excluded"},axis:{x:"excluded",y:"excluded"}},data:{values:[{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:1,y2:1},{x:1,y:1,x2:0,y2:1},{x:0,y:1,x2:0,y2:0}]},mark:{size:e.strokeWidth??1,color:e.stroke??"lightgray",strokeCap:"square",strokeOpacity:e.strokeOpacity??1,type:"rule",clip:!1,tooltip:null},encoding:{x:{field:"x",type:"quantitative",scale:null},y:{field:"y",type:"quantitative",scale:null},x2:{field:"x2"},y2:{field:"y2"}}}}function FP(e){const t={x:new Set,y:new Set};return e.visit(n=>{for(const[r,i]of Object.entries(t)){const a=n.getScaleResolution(r);a&&a.isZoomable()&&i.add(a)}}),t}function RP(e){let t=!0;return e.visit(n=>{n instanceof Xt&&t&&(t=n.mark.properties.clip===!0)}),t}function Nv(e,t,n){const r=n.axisProps,i=n.getPerpendicularSize();if(t=="bottom")return e.translate(0,e.height+r.offset).modify({height:i});if(t=="top")return e.translate(0,-i-r.offset).modify({height:i});if(t=="left")return e.translate(-i-r.offset,0).modify({width:i});if(t=="right")return e.translate(e.width+r.offset,0).modify({width:i})}class zv{constructor(t,n,r){if(this.layoutParent=n,this.view=t,this.serial=r,this.background=void 0,this.backgroundStroke=void 0,this.axes={},this.gridLines={},this.scrollbars={},this.title=void 0,this.coords=gr.ZERO,t.needsAxes.x||t.needsAxes.y){const i=t.spec,a="view"in i?i==null?void 0:i.view:void 0,s=BP(a);s&&(this.background=new Xt(s,n.context,n,t,"background"+r,{blockEncodingInheritance:!0}));const o=DP(a);o&&(this.backgroundStroke=new Xt(o,n.context,n,t,"backgroundStroke"+r,{blockEncodingInheritance:!0}));const f=_P(t.spec.title);if(f){const l=new Xt(f,n.context,n,t,"title"+r,{blockEncodingInheritance:!0});this.title=l}}t.spec.viewportWidth!=null&&(this.scrollbars.horizontal=new Uv(this,"horizontal")),t.spec.viewportHeight!=null&&(this.scrollbars.vertical=new Uv(this,"vertical"))}*getChildren(){this.background&&(yield this.background),this.backgroundStroke&&(yield this.backgroundStroke),this.title&&(yield this.title),yield*Object.values(this.axes),yield*Object.values(this.gridLines),yield this.view,yield*Object.values(this.scrollbars)}async createAxes(){const{view:t,axes:n,gridLines:r}=this,i=(o,f)=>{const l=o.getAxisProps();if(l===null)return;const u=l?{...l}:{};if(!u.orient){for(const c of Ac[f])if(!n[c]){u.orient=c;break}if(!u.orient)throw new Error("No slots available for an axis! Perhaps a LayerView has more than two children?")}if(u.title??(u.title=o.getTitle()),!Ac[f].includes(u.orient))throw new Error(`Invalid axis orientation "${u.orient}" on channel "${f}"!`);return u},a=async(o,f,l)=>{const u=i(o,f);if(u){if(n[u.orient])throw new Error(`An axis with the orient "${u.orient}" already exists!`);const c=new Dv(u,o.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);n[u.orient]=c,await c.initializeChildren()}},s=async(o,f,l)=>{const u=i(o,f);if(u&&(u.grid||u.chromGrid)){const c=new pP(u,o.scaleResolution.type,this.layoutParent.context,this.layoutParent,l);r[u.orient]=c,await c.initializeChildren()}};for(const o of["x","y"])if(t.needsAxes[o]){const f=t.resolutions.axis[o];if(!f)continue;await a(f,o,t)}for(const o of["x","y"])if(t.needsAxes[o]){const f=t.getAxisResolution(o);if(!f)continue;await s(f,o,t)}if(t instanceof yl){for(const o of t)for(const[f,l]of Object.entries(o.resolutions.axis)){const u=l.getAxisProps();u&&u.orient&&await a(l,f,o)}for(const o of t)for(const[f,l]of Object.entries(o.resolutions.axis)){const u=l.getAxisProps();u&&!u.orient&&await a(l,f,o)}}[...Object.values(n),...Object.values(r)].forEach(o=>o.visit(f=>{f instanceof Xt&&f.resolve("scale")}))}getOverhang(){const t=n=>{const r=this.axes[n];return r?Math.max(r.getPerpendicularSize()+r.axisProps.offset,0):0};return new St(t("top"),t("right"),t("bottom"),t("left")).add(this.view.getOverhang())}getOverhangAndPadding(){return this.getOverhang().add(this.view.getPadding())}}class Uv extends Xt{constructor(n,r){const i={scrollbarSize:8,scrollbarPadding:2};super({data:{values:[{}]},mark:{type:"rect",fill:"#b0b0b0",fillOpacity:.6,stroke:"white",strokeWidth:1,strokeOpacity:1,cornerRadius:5,clip:!1},configurableVisibility:!1},n.layoutParent.context,n.layoutParent,n.view,"scrollbar-"+r,{blockEncodingInheritance:!0});Y(this,eo,void 0);Y(this,zf,gr.ZERO);Y(this,Ai,0);Y(this,ka,0);Pt(this,"viewportOffset",0);this.config=i,he(this,eo,r),this.interpolateViewportOffset=lp(this.context.animator,a=>{this.viewportOffset=a},50,.4,this.viewportOffset),this.addInteractionEventListener("mousedown",(a,s)=>{if(s.stopPropagation(),G(this,Ai)<=0)return;const o=d=>r=="vertical"?d.clientY:d.clientX,f=s.uiEvent;f.preventDefault();const l=this.scrollOffset,u=o(f),c=d=>{const p=za(o(d)-u+l,0,G(this,Ai));this.interpolateViewportOffset(p/G(this,Ai)*G(this,ka))},h=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)};document.addEventListener("mouseup",h,!1),document.addEventListener("mousemove",c,!1)})}get scrollOffset(){return this.viewportOffset/G(this,ka)*G(this,Ai)}render(n,r,i){super.render(n,G(this,zf),i)}updateScrollbar(n,r){const i=this.config.scrollbarPadding,a=this.config.scrollbarSize,s=G(this,eo)=="horizontal"?"width":"height",o=Math.min(1,n[s]/r[s]),f=n[s]-2*i,l=o*f;he(this,Ai,f-l),he(this,ka,r[s]-n[s]),this.viewportOffset=za(this.viewportOffset,0,G(this,ka)),he(this,zf,G(this,eo)=="vertical"?new gr(()=>n.x+n.width-a-i,()=>n.y+i+this.scrollOffset,()=>a,()=>l):new gr(()=>n.x+i+this.scrollOffset,()=>n.y+n.height-a-i,()=>l,()=>a))}}eo=new WeakMap,zf=new WeakMap,Ai=new WeakMap,ka=new WeakMap;class hp extends IP{constructor(t,n,r,i,a){super(t,n,r,i,a,gp(t)?t.columns:Ec(t)?1:1/0),this.spec=t}async initializeChildren(){const t=this.spec,n=gp(t)?t.concat:Ec(t)?t.vconcat:t.hconcat;this.setChildren(await Promise.all(n.map((r,i)=>this.context.createOrImportView(r,this,this,"grid"+i)))),await this.createAxes()}getDefaultResolution(t,n){return n=="axis"?"independent":Ec(this.spec)&&t==="x"||Vv(this.spec)&&t==="y"?"shared":"independent"}}const Gv="viewRoot";class MP{constructor(t={}){Y(this,to,new Map);this.options={allowImport:!0,wrapRoot:!0,...t};const n=r=>(i,a,s,o,f)=>new r(i,a,s,o,i.name??f);this.addViewType(pp,n(yl)),this.addViewType(dp,n(Xt)),this.addViewType(Ec,n(hp)),this.addViewType(Vv,n(hp)),this.addViewType(gp,n(hp)),this.addViewType(OP,()=>{throw new Error("SampleView is not supported by the @genome-spy/core package. Use @genome-spy/app instead!")})}addViewType(t,n){G(this,to).set(t,n)}createView(t,n,r,i,a){for(const[s,o]of G(this,to))if(s(t))return o(t,n,r,i,a);throw new Error("Invalid spec, cannot figure out the view type from the properties: "+JSON.stringify([...Object.keys(t)]))}isViewSpec(t){const n=[...G(this,to).keys()].filter(r=>r(t));if(n.length>1)throw new Error("Ambiguous spec. Cannot create a view!");return n.length==1}async createOrImportView(t,n,r,i,a,s){let o;if(LP(t)){let l;if("url"in t.import)if(this.options.allowImport)l=await U5(t,i.getBaseUrl(),n);else throw new Ji("Importing views is not allowed!",r);else if("template"in t.import)l=Hv(t.import.template,i);else throw new Error("Invalid import: "+JSON.stringify(t));s==null||s(l),PP(l,t),o=l}else o=t;!i&&this.options.wrapRoot&&(dp(o)||pp(o))&&a===Gv&&(o={name:"implicitRoot",vconcat:[o]});const f=this.createView(o,n,r,i,a);return f instanceof bl&&await f.initializeChildren(),f}}to=new WeakMap;function Hv(e,t){var r,i;const n=(i=(r=t.spec)==null?void 0:r.templates)==null?void 0:i[e];if(n)return structuredClone(n);if(t.dataParent)return Hv(e,t.dataParent);throw new Error(`Cannot find template "${e}" in current view or its ancestors!`)}function PP(e,t){t.name!=null&&(e.name=t.name);const n=vt(t.params)?t.params:kt(t.params)?Object.entries(t.params).map(([r,i])=>({name:r,value:i})):[];if(n.length){e.params??(e.params=[]);for(const r of n){const i=e.params.findIndex(a=>a.name==r.name);i>=0&&(e.params[i]=r)}for(const r of n)e.params.some(i=>i.name==r.name)||e.params.push(r)}}function dp(e){return"mark"in e&&(Ue(e.mark)||kt(e.mark))}function pp(e){return"layer"in e&&kt(e.layer)}function LP(e){return"import"in e}function Ec(e){return"vconcat"in e&&vt(e.vconcat)}function Vv(e){return"hconcat"in e&&vt(e.hconcat)}function gp(e){return"concat"in e&&vt(e.concat)}function OP(e){return"samples"in e&&kt(e.samples)&&"spec"in e&&kt(e.spec)}function NP(e){const t=Math.floor(Math.random()*16777215).toString(16),n=[];for(const r of e.paramConfigs.values()){const i=r.bind;if(!i||!("input"in i))continue;const a=r.name,s=e.getSetter(a),o=e.getValue(a),f=i.name??a,l=i.debounce?xc(s,i.debounce,!1):s,u=`${t}-param-${a}`;if(i.input=="range")n.push(Ve`<label for=${u}>${f}</label>
                    <div>
                        <input
                            id=${u}
                            type="range"
                            min=${i.min??0}
                            max=${i.max??100}
                            step=${i.step??Mr(i.min,i.max,100)}
                            .value=${o}
                            @input=${c=>{l(c.target.valueAsNumber),c.target.nextElementSibling.textContent=c.target.valueAsNumber}}
                        /><span>${o}</span>
                    </div>`);else if(i.input=="checkbox")n.push(Ve`<label for=${u}>${f}</label>
                    <input
                        id=${u}
                        type="checkbox"
                        ?checked=${o}
                        @input=${c=>l(c.target.checked)}
                    />`);else if(i.input=="radio")n.push(Ve`<span class="label">${f}</span>
                    <div class="radio-group">
                        ${i.options.map((c,h)=>{var d;return Ve`<label>
                                <input
                                    type="radio"
                                    name=${a}
                                    value=${c}
                                    .checked=${o==c}
                                    @input=${p=>l(p.target.value)}
                                />${((d=i.labels)==null?void 0:d[h])??c}</label
                            >`})}
                    </div>`);else if(i.input=="select")n.push(Ve`<label for=${u}>${f}</label>
                    <select
                        id=${u}
                        @input=${c=>l(c.target.value)}
                    >
                        ${i.options.map((c,h)=>{var d;return Ve`<option
                                value=${c}
                                ?selected=${o==c}
                            >
                                ${((d=i.labels)==null?void 0:d[h])??c}
                            </option>`})}
                    </select> `);else if(i.input=="text"||i.input=="number"||i.input=="color")n.push(Ve`<label for=${u}>${f}</label>
                    <div>
                        <input
                            id=${u}
                            type=${i.input}
                            placeholder=${i.placeholder??""}
                            autocomplete=${i.autocomplete??"off"}
                            .value=${o}
                            @focus=${c=>c.target.select()}
                            @input=${c=>{l(i.input=="number"?c.target.valueAsNumber:c.target.value)}}
                        />
                    </div>`);else throw new Error("Unsupported input type: "+i.input);i.description&&n.push(Ve`<div class="description">${i.description}</div>`)}return n}Z1("fasta",J5);class zP{constructor(t,n,r={}){Y(this,no);Y(this,Fh);Y(this,Rh);Y(this,Mh);this.container=t,this.options=r,r.inputBindingContainer??(r.inputBindingContainer="default"),this._destructionCallbacks=[],this.spec=n,this.accessorFactory=new N6,this.viewFactory=new MP,this.namedDataProviders=[],this.animator=new q5(()=>this.renderAll()),this.genomeStore=void 0,this.viewVisibilityPredicate=i=>i.isVisibleInSpec(),this._renderingContext=void 0,this._pickingContext=void 0,this._dirtyPickingBuffer=!1,this._currentHover=void 0,this._wheelInertia=new eP(this.animator),this._keyboardListeners=new Map,this._eventListeners=new Map,this._extraBroadcastListeners=new Map,this.tooltipHandlers={default:lP,refseqgene:nP,...r.tooltipHandlers??{}},this.viewRoot=void 0,this._loadingViews=new Map,this._inputBindingContainer=void 0}registerNamedDataProvider(t){this.namedDataProviders.unshift(t)}getNamedDataFromProvider(t){for(const n of this.namedDataProviders){const r=n(t);if(r)return r}}updateNamedData(t,n){const r=this.viewRoot.context.dataFlow.findNamedDataSource(t);if(!r)throw new Error("No such named data source: "+t);r.dataSource.updateDynamicData(n),tp(r.hosts),this.animator.requestRender()}broadcast(t,n){var i;const r={type:t,payload:n};this.viewRoot.visit(a=>a.handleBroadcast(r)),(i=this._extraBroadcastListeners.get(t))==null||i.forEach(a=>a(r))}_updateLoadingIndicators(){const t=[],n=()=>[...this._loadingViews.values()].some(r=>r.status=="loading"||r.status=="error");for(const[r,i]of this._loadingViews){const a=r.coords;if(a){const s={left:`${a.x}px`,top:`${a.y}px`,width:`${a.width}px`,height:`${a.height}px`};t.push(Ve`<div style=${yd(s)}>
                        <div class=${i.status}>
                            ${i.status=="error"?Ve`<span
                                      >Loading
                                      failed${i.detail?Ve`: ${i.detail}`:Ke}</span
                                  >`:Ve`
                                      <img src="${$4}" alt="" />
                                      <span>Loading...</span>
                                  `}
                        </div>
                    </div>`)}}n()?this.loadingIndicatorsElement.style.display="block":setTimeout(()=>{n()||(this.loadingIndicatorsElement.style.display="none")},3e3),Fo(t,this.loadingIndicatorsElement)}destroy(){var n;const t=G(this,no,Uh);this.container.classList.remove("genome-spy"),t.classList.remove("loading");for(const[r,i]of this._keyboardListeners)for(const a of i)document.removeEventListener(r,a);for(this._destructionCallbacks.forEach(r=>r()),this._glHelper.finalize(),(n=this._inputBindingContainer)==null||n.remove();this.container.firstChild;)this.container.firstChild.remove()}async _prepareViewsAndData(){this.spec.genome&&(this.genomeStore=new W5(this.spec.baseUrl),await this.genomeStore.initialize(this.spec.genome));const t=this,n={dataFlow:new vv,accessorFactory:this.accessorFactory,glHelper:this._glHelper,animator:this.animator,genomeStore:this.genomeStore,fontManager:new Q5(this._glHelper),get devicePixelRatio(){return t._glHelper.dpr},requestLayoutReflow:()=>{},updateTooltip:this.updateTooltip.bind(this),getNamedDataFromProvider:this.getNamedDataFromProvider.bind(this),getCurrentHover:()=>this._currentHover,setDataLoadingStatus:(f,l,u)=>{this._loadingViews.set(f,{status:l,detail:u}),this._updateLoadingIndicators()},addKeyboardListener:(f,l)=>{document.addEventListener(f,l);let u=this._keyboardListeners.get(f);u||(u=[],this._keyboardListeners.set(f,u)),u.push(l)},addBroadcastListener(f,l){const u=t._extraBroadcastListeners;let c=u.get(f);c||(c=new Set,u.set(f,c)),c.add(l)},removeBroadcastListener(f,l){var c;(c=t._extraBroadcastListeners.get(f))==null||c.delete(l)},isViewConfiguredVisible:t.viewVisibilityPredicate,isViewSpec:f=>t.viewFactory.isViewSpec(f),createView:function(f,l,u,c){return t.viewFactory.createView(f,n,l,u,c)},createOrImportView:async function(f,l,u,c,h){return t.viewFactory.createOrImportView(f,n,l,u,c,h)}},r=this.spec;r.datasets&&this.registerNamedDataProvider(f=>r.datasets[f]),this.viewRoot=await n.createOrImportView(r,null,null,Gv),G(this,no,Uh).style.flexGrow=_v(this.viewRoot).height.grow>0?"1":"0",K(this,Fh,DC).call(this),N5(this.viewRoot),z5(this.viewRoot);const i=this.viewRoot.getDescendants();i.forEach(f=>f.configureViewOpacity()),this._glHelper.invalidateSize(),K(this,Rh,FC).call(this);const a=i.filter(f=>f instanceof Xt),s=F5(this.viewRoot,n.dataFlow);O5(s),this.broadcast("dataFlowBuilt",s),a.forEach(f=>f.mark.initializeEncoders());const o=Promise.all(a.map(f=>f.mark.initializeGraphics()));for(const f of a)s.addObserver(l=>{f.mark.initializeData(),f.mark.updateGraphicsData(),n.animator.requestRender()},f);await n.fontManager.waitUntilReady(),s.initialize(),await Promise.all(s.dataSources.map(f=>f.load())),tp(this.viewRoot),this.broadcast("dataLoaded"),await o;for(const f of a)f.mark.finalizeGraphicsInitialization();n.requestLayoutReflow=this.computeLayout.bind(this),this.viewRoot.visit(f=>gc(f,"size")),this._glHelper.invalidateSize()}async launch(){try{return K(this,Mh,RC).call(this),await this._prepareViewsAndData(),this.registerMouseEvents(),this.computeLayout(),this.animator.requestRender(),!0}catch(t){const n=`${t.view?`At "${t.view.getPathString()}": `:""}${t.toString()}`;return console.error(t.stack),UP(this.container,n),!1}finally{G(this,no,Uh).classList.remove("loading"),window.setTimeout(()=>{this.loadingMessageElement.style.display="none"},2e3)}}registerMouseEvents(){const t=this._glHelper.canvas;let n=performance.now();const r=i=>{var o;const a=performance.now(),s=a-n<200;if(i instanceof MouseEvent){const f=t.getBoundingClientRect(),l=new ti(i.clientX-f.left-t.clientLeft,i.clientY-f.top-t.clientTop);i.type=="mousemove"&&!s&&(this.tooltip.handleMouseMove(i),this._tooltipUpdateRequested=!1,i.buttons==0&&!Ov()&&(this.renderPickingFramebuffer(),this._handlePicking(l.x,l.y)));const u=c=>{this.viewRoot.propagateInteractionEvent(new V5(l,c)),this._tooltipUpdateRequested||this.tooltip.clear()};if(i.type!="wheel"&&this._wheelInertia.cancel(),(i.type=="mousedown"||i.type=="mouseup")&&!Ov())this.renderPickingFramebuffer();else if(i.type=="wheel"){n=a,this._tooltipUpdateRequested=!1;const c=i;if(Math.abs(c.deltaX)>Math.abs(c.deltaY))this._currentHover=null,this._wheelInertia.cancel();else{const h=tP(c);this._wheelInertia.setMomentum(c.deltaY*(c.deltaMode?80:1),d=>{const p=new WheelEvent("wheel",{...h,deltaMode:0,deltaX:0,deltaY:d});u(p)}),c.preventDefault();return}}if(i.type=="click"){const c=this._currentHover?{type:i.type,viewPath:this._currentHover.mark.unitView.getLayoutAncestors().map(h=>h.name).reverse(),datum:this._currentHover.datum}:{type:i.type,viewPath:null,datum:null};(o=this._eventListeners.get("click"))==null||o.forEach(h=>h(c))}u(i)}};["mousedown","mouseup","wheel","click","mousemove","gesturechange","contextmenu"].forEach(i=>t.addEventListener(i,r)),t.addEventListener("mousedown",()=>{document.addEventListener("mouseup",()=>this.tooltip.popEnabledState(),{once:!0}),this.tooltip.pushEnabledState(!1)}),t.addEventListener("dragstart",i=>i.stopPropagation())}_handlePicking(t,n){var a;const r=this._glHelper.readPickingPixel(t,n),i=r[0]|r[1]<<8|r[2]<<16;if(i==0){this._currentHover=null;return}if(i!==((a=this._currentHover)==null?void 0:a.uniqueId)&&(this._currentHover=null),this._currentHover||this.viewRoot.visit(s=>{if(s instanceof Xt){if(s.mark.isPickingParticipant()&&[...s.facetCoords.values()].some(o=>o.containsPoint(t,n))){const o=s.mark.encoders.uniqueId.accessor;s.getCollector().visitData(f=>{o(f)==i&&(this._currentHover={mark:s.mark,datum:f,uniqueId:i})})}if(this._currentHover)return dl}}),this._currentHover){const s=this._currentHover.mark;this.updateTooltip(this._currentHover.datum,async o=>{if(!s.isPickingParticipant())return;const f=s.properties.tooltip;if(f!==null){const l=(f==null?void 0:f.handler)??"default",u=this.tooltipHandlers[l];if(!u)throw new Error("No such tooltip handler: "+l);return u(o,s,f==null?void 0:f.params)}})}}updateTooltip(t,n){if(!this._tooltipUpdateRequested||!t)this.tooltip.updateWithDatum(t,n),this._tooltipUpdateRequested=!0;else throw new Error("Tooltip has already been updated! Duplicate event handler?")}computeLayout(){const t=this.viewRoot;if(!t)return;this.broadcast("layout");const n=this._glHelper.getLogicalCanvasSize();if(isNaN(n.width)||isNaN(n.height)){console.log(`NaN in canvas size: ${n.width}x${n.height}. Skipping computeLayout().`);return}this._renderingContext=new Cv({picking:!1},this._glHelper),this._pickingContext=new Cv({picking:!0},this._glHelper),t.render(new H5(this._renderingContext,this._pickingContext),gr.create(0,0,n.width,n.height)),this._updateLoadingIndicators(),this.broadcast("layoutComputed")}renderAll(){var t;(t=this._renderingContext)==null||t.render(),this._dirtyPickingBuffer=!0}renderPickingFramebuffer(){this._dirtyPickingBuffer&&(this._pickingContext.render(),this._dirtyPickingBuffer=!1)}getSearchableViews(){const t=[];return this.viewRoot.visit(n=>{n instanceof Xt&&n.getAccessor("search")&&t.push(n)}),t}getNamedScaleResolutions(){const t=new Map;return this.viewRoot.visit(n=>{for(const r of Object.values(n.resolutions.scale))r.name&&t.set(r.name,r)}),t}}no=new WeakSet,Uh=function(){return this.container.querySelector(".canvas-wrapper")},Fh=new WeakSet,DC=function(){const t=[];this.viewRoot.visit(r=>{const i=r.paramMediator;t.push(...NP(i))});const n=this.options.inputBindingContainer;if(!(!n||n=="none"||!t.length)){if(this._inputBindingContainer=_c("div",{className:"gs-input-bindings"}),n=="default")this.container.appendChild(this._inputBindingContainer);else if(n instanceof HTMLElement)n.appendChild(this._inputBindingContainer);else throw new Error("Invalid inputBindingContainer");t.length&&Fo(Ve`<div class="gs-input-binding">${t}</div>`,this._inputBindingContainer)}},Rh=new WeakSet,FC=function(){const t=this.viewRoot.paramMediator.allocateSetter("devicePixelRatio",window.devicePixelRatio),n=()=>{this._glHelper.invalidateSize(),t(window.devicePixelRatio),this.computeLayout(),this.renderAll()},r=new ResizeObserver(n);r.observe(this.container),this._destructionCallbacks.push(()=>r.disconnect());let i=null;const a=()=>{i!=null&&(i(),n());const s=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);s.addEventListener("change",a),i=()=>{s.removeEventListener("change",a)}};a(),i&&this._destructionCallbacks.push(i)},Mh=new WeakSet,RC=function(){this.container.classList.add("genome-spy");const t=document.createElement("style");t.innerHTML=q4,this.container.appendChild(t);const n=_c("div",{class:"canvas-wrapper"});this.container.appendChild(n),n.classList.add("loading"),this._glHelper=new rR(n,()=>this.viewRoot?G5(_v(this.viewRoot)):{width:void 0,height:void 0},this.spec.background,{powerPreference:this.options.powerPreference??"default"}),this.loadingMessageElement=_c("div",{class:"loading-message",innerHTML:'<div class="message">Loading<span class="ellipsis">...</span></div>'}),n.appendChild(this.loadingMessageElement),this.loadingIndicatorsElement=_c("div",{class:"loading-indicators"}),n.appendChild(this.loadingIndicatorsElement),this.tooltip=new Z4(n),this.loadingMessageElement.querySelector(".message").addEventListener("transitionend",()=>{this.loadingMessageElement.style.display="none"})};function UP(e,t){const n=document.createElement("div");n.className="message-box";const r=document.createElement("div");r.textContent=t,n.appendChild(r),e.appendChild(n)}function _c(e,t){const n=document.createElement(e);for(const[r,i]of Object.entries(t))["innerHTML","innerText","className"].includes(r)&&(n[r]=i),n.setAttribute(r,i);return n}async function GP(e,t,n={}){let r;if(Ue(e)){if(r=document.querySelector(e),!r)throw new Error(`No such element: ${e}`)}else if(e instanceof HTMLElement)r=e;else throw new Error(`Invalid element: ${e}`);let i;try{const a=kt(t)?t:await VP(t);if(a.baseUrl??(a.baseUrl=""),a.width??(a.width="container"),a.padding??(a.padding=10),r==document.body){const s=document.createElement("div");s.style.position="fixed",s.style.inset="0",s.style.overflow="hidden",r.appendChild(s),r=s}i=new zP(r,a,n),HP(i,n),await i.launch()}catch(a){r.innerText=a.toString(),console.error(a)}return{finalize(){for(i.destroy();r.firstChild;)r.firstChild.remove()},addEventListener(a,s){const o=i._eventListeners;let f=o.get(a);f||(f=new Set,o.set(a,f)),f.add(s)},removeEventListener(a,s){var f;(f=i._eventListeners.get(a))==null||f.delete(s)},getScaleResolutionByName(a){return i.getNamedScaleResolutions().get(a)},updateNamedData:i.updateNamedData.bind(i)}}function HP(e,t){t.namedDataProvider&&e.registerNamedDataProvider(t.namedDataProvider)}async function VP(e){let t;try{t=JSON.parse(await pu().load(e))}catch(n){throw new Error(`Could not load or parse configuration: ${e}, reason: ${n.message}`)}if(!t.baseUrl){const n=e.match(/^[^?#]*\//);t.baseUrl=n&&n[0]||"./"}return t}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jP=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wl=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),wl(i,t);return!0},Sc=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},jv=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),WP(t)}};function $P(e){this._$AN!==void 0?(Sc(this),this._$AM=e,jv(this)):this._$AM=e}function qP(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let a=n;a<r.length;a++)wl(r[a],!1),Sc(r[a]);else r!=null&&(wl(r,!1),Sc(r));else wl(this,e)}const WP=e=>{e.type==db.CHILD&&(e._$AP??(e._$AP=qP),e._$AQ??(e._$AQ=$P))};class ZP extends gb{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),jv(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(wl(this,t),Sc(this))}setValue(t){if(jP(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const YP=()=>new QP;class QP{}const mp=new WeakMap,XP=pb(class extends ZP{render(e){return Ke}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),Ke}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let n=mp.get(t);n===void 0&&(n=new WeakMap,mp.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=mp.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function $v(){const e=document.querySelector("meta[name='base_url']").getAttribute("content");return e||console.error('No <meta name="base_url" ...> found!'),e}async function KP(e,t){const r=`${$v()}/data/`;try{t.baseUrl=t.baseUrl||r,await GP(e,t,{bare:!0})}catch(i){const a=document.createElement("pre");a.innerText=i.toString(),e.appendChild(a)}}class qv extends Ro{static get styles(){return C4`
            .show-spec {
                font-size: 70%;
                text-align: center;
            }

            .show-spec a {
                color: #3f51b5;
                text-decoration: none;
            }
        `}static get properties(){return{height:{type:String},specHidden:{type:Boolean}}}constructor(){super(),this.height=300,this.specHidden=!1,this.embedRef=YP()}render(){return Ve`
            <link rel="stylesheet" href=${$v()+"/app/style.css"} />
            <div
                class="embed-container"
                style=${yd({height:this.height+"px"})}
                ${XP(this.embedRef)}
            ></div>
            ${this.specHidden?Ve`
                      <div class="show-spec">
                          <a
                              href="#"
                              @click=${t=>{this.specHidden=!1,t.preventDefault()}}
                              >Show specification</a
                          >
                      </div>
                  `:Ke}

            <div
                class="embed-spec"
                style=${yd({display:this.specHidden?"none":"block"})}
            >
                <slot></slot>
            </div>
        `}firstUpdated(){var n;const t=(n=this.shadowRoot.querySelector("slot").assignedNodes().filter(r=>r instanceof HTMLElement)[0])==null?void 0:n.textContent;if(t){const r=new IntersectionObserver(i=>{i.forEach(a=>{if(a.isIntersecting){const s=a.target;KP(s,JSON.parse(t)),r.unobserve(s)}})});setTimeout(()=>r.observe(this.embedRef.value),80)}}}customElements.define("genome-spy-doc-embed",qv);var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var me={},Cc={};Cc.byteLength=nL,Cc.toByteArray=iL,Cc.fromByteArray=oL;for(var Wn=[],ln=[],eL=typeof Uint8Array<"u"?Uint8Array:Array,bp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",as=0,tL=bp.length;as<tL;++as)Wn[as]=bp[as],ln[bp.charCodeAt(as)]=as;ln["-".charCodeAt(0)]=62,ln["_".charCodeAt(0)]=63;function Wv(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function nL(e){var t=Wv(e),n=t[0],r=t[1];return(n+r)*3/4-r}function rL(e,t,n){return(t+n)*3/4-n}function iL(e){var t,n=Wv(e),r=n[0],i=n[1],a=new eL(rL(e,r,i)),s=0,o=i>0?r-4:r,f;for(f=0;f<o;f+=4)t=ln[e.charCodeAt(f)]<<18|ln[e.charCodeAt(f+1)]<<12|ln[e.charCodeAt(f+2)]<<6|ln[e.charCodeAt(f+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=ln[e.charCodeAt(f)]<<2|ln[e.charCodeAt(f+1)]>>4,a[s++]=t&255),i===1&&(t=ln[e.charCodeAt(f)]<<10|ln[e.charCodeAt(f+1)]<<4|ln[e.charCodeAt(f+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function aL(e){return Wn[e>>18&63]+Wn[e>>12&63]+Wn[e>>6&63]+Wn[e&63]}function sL(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(aL(r));return i.join("")}function oL(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(sL(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(Wn[t>>2]+Wn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Wn[t>>10]+Wn[t>>4&63]+Wn[t<<2&63]+"=")),i.join("")}var yp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yp.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,f=(1<<o)-1,l=f>>1,u=-7,c=n?i-1:0,h=n?-1:1,d=e[t+c];for(c+=h,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=a*256+e[t+c],c+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=s*256+e[t+c],c+=h,u-=8);if(a===0)a=1-l;else{if(a===f)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-l}return(d?-1:1)*s*Math.pow(2,a-r)},yp.write=function(e,t,n,r,i,a){var s,o,f,l=a*8-i-1,u=(1<<l)-1,c=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+c>=1?t+=h/f:t+=h*Math.pow(2,1-c),t*f>=2&&(s++,f/=2),s+c>=u?(o=0,s=u):s+c>=1?(o=(t*f-1)*Math.pow(2,i),s=s+c):(o=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=o&255,d+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[n+d]=s&255,d+=p,s/=256,l-=8);e[n+d-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Cc,n=yp,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const x=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(x,g),x.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const g=new Uint8Array(x);return Object.setPrototypeOf(g,o.prototype),g}function o(x,g,b){if(typeof x=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(x)}return f(x,g,b)}o.poolSize=8192;function f(x,g,b){if(typeof x=="string")return h(x,g);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(Ct(x,ArrayBuffer)||x&&Ct(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ct(x,SharedArrayBuffer)||x&&Ct(x.buffer,SharedArrayBuffer)))return m(x,g,b);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=x.valueOf&&x.valueOf();if(k!=null&&k!==x)return o.from(k,g,b);const R=y(x);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return o.from(x[Symbol.toPrimitive]("string"),g,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}o.from=function(x,g,b){return f(x,g,b)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function u(x,g,b){return l(x),x<=0?s(x):g!==void 0?typeof b=="string"?s(x).fill(g,b):s(x).fill(g):s(x)}o.alloc=function(x,g,b){return u(x,g,b)};function c(x){return l(x),s(x<0?0:w(x)|0)}o.allocUnsafe=function(x){return c(x)},o.allocUnsafeSlow=function(x){return c(x)};function h(x,g){if((typeof g!="string"||g==="")&&(g="utf8"),!o.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const b=S(x,g)|0;let k=s(b);const R=k.write(x,g);return R!==b&&(k=k.slice(0,R)),k}function d(x){const g=x.length<0?0:w(x.length)|0,b=s(g);for(let k=0;k<g;k+=1)b[k]=x[k]&255;return b}function p(x){if(Ct(x,Uint8Array)){const g=new Uint8Array(x);return m(g.buffer,g.byteOffset,g.byteLength)}return d(x)}function m(x,g,b){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(b||0))throw new RangeError('"length" is outside of buffer bounds');let k;return g===void 0&&b===void 0?k=new Uint8Array(x):b===void 0?k=new Uint8Array(x,g):k=new Uint8Array(x,g,b),Object.setPrototypeOf(k,o.prototype),k}function y(x){if(o.isBuffer(x)){const g=w(x.length)|0,b=s(g);return b.length===0||x.copy(b,0,0,g),b}if(x.length!==void 0)return typeof x.length!="number"||Tr(x.length)?s(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function w(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function v(x){return+x!=x&&(x=0),o.alloc(+x)}o.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==o.prototype},o.compare=function(g,b){if(Ct(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),Ct(b,Uint8Array)&&(b=o.from(b,b.offset,b.byteLength)),!o.isBuffer(g)||!o.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===b)return 0;let k=g.length,R=b.length;for(let O=0,$=Math.min(k,R);O<$;++O)if(g[O]!==b[O]){k=g[O],R=b[O];break}return k<R?-1:R<k?1:0},o.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(g,b){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return o.alloc(0);let k;if(b===void 0)for(b=0,k=0;k<g.length;++k)b+=g[k].length;const R=o.allocUnsafe(b);let O=0;for(k=0;k<g.length;++k){let $=g[k];if(Ct($,Uint8Array))O+$.length>R.length?(o.isBuffer($)||($=o.from($)),$.copy(R,O)):Uint8Array.prototype.set.call(R,$,O);else if(o.isBuffer($))$.copy(R,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=$.length}return R};function S(x,g){if(o.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||Ct(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const b=x.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&b===0)return 0;let R=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return ue(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return _i(x).length;default:if(R)return k?-1:ue(x).length;g=(""+g).toLowerCase(),R=!0}}o.byteLength=S;function _(x,g,b){let k=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,g>>>=0,b<=g))return"";for(x||(x="utf8");;)switch(x){case"hex":return Ze(this,g,b);case"utf8":case"utf-8":return te(this,g,b);case"ascii":return Fe(this,g,b);case"latin1":case"binary":return et(this,g,b);case"base64":return oe(this,g,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,g,b);default:if(k)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),k=!0}}o.prototype._isBuffer=!0;function T(x,g,b){const k=x[g];x[g]=x[b],x[b]=k}o.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<g;b+=2)T(this,b,b+1);return this},o.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<g;b+=4)T(this,b,b+3),T(this,b+1,b+2);return this},o.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<g;b+=8)T(this,b,b+7),T(this,b+1,b+6),T(this,b+2,b+5),T(this,b+3,b+4);return this},o.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?te(this,0,g):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(g){if(!o.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:o.compare(this,g)===0},o.prototype.inspect=function(){let g="";const b=e.INSPECT_MAX_BYTES;return g=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(g+=" ... "),"<Buffer "+g+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(g,b,k,R,O){if(Ct(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),!o.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(b===void 0&&(b=0),k===void 0&&(k=g?g.length:0),R===void 0&&(R=0),O===void 0&&(O=this.length),b<0||k>g.length||R<0||O>this.length)throw new RangeError("out of range index");if(R>=O&&b>=k)return 0;if(R>=O)return-1;if(b>=k)return 1;if(b>>>=0,k>>>=0,R>>>=0,O>>>=0,this===g)return 0;let $=O-R,ce=k-b;const He=Math.min($,ce),Pe=this.slice(R,O),Ye=g.slice(b,k);for(let ke=0;ke<He;++ke)if(Pe[ke]!==Ye[ke]){$=Pe[ke],ce=Ye[ke];break}return $<ce?-1:ce<$?1:0};function I(x,g,b,k,R){if(x.length===0)return-1;if(typeof b=="string"?(k=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Tr(b)&&(b=R?0:x.length-1),b<0&&(b=x.length+b),b>=x.length){if(R)return-1;b=x.length-1}else if(b<0)if(R)b=0;else return-1;if(typeof g=="string"&&(g=o.from(g,k)),o.isBuffer(g))return g.length===0?-1:B(x,g,b,k,R);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(x,g,b):Uint8Array.prototype.lastIndexOf.call(x,g,b):B(x,[g],b,k,R);throw new TypeError("val must be string, number or Buffer")}function B(x,g,b,k,R){let O=1,$=x.length,ce=g.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(x.length<2||g.length<2)return-1;O=2,$/=2,ce/=2,b/=2}function He(Ye,ke){return O===1?Ye[ke]:Ye.readUInt16BE(ke*O)}let Pe;if(R){let Ye=-1;for(Pe=b;Pe<$;Pe++)if(He(x,Pe)===He(g,Ye===-1?0:Pe-Ye)){if(Ye===-1&&(Ye=Pe),Pe-Ye+1===ce)return Ye*O}else Ye!==-1&&(Pe-=Pe-Ye),Ye=-1}else for(b+ce>$&&(b=$-ce),Pe=b;Pe>=0;Pe--){let Ye=!0;for(let ke=0;ke<ce;ke++)if(He(x,Pe+ke)!==He(g,ke)){Ye=!1;break}if(Ye)return Pe}return-1}o.prototype.includes=function(g,b,k){return this.indexOf(g,b,k)!==-1},o.prototype.indexOf=function(g,b,k){return I(this,g,b,k,!0)},o.prototype.lastIndexOf=function(g,b,k){return I(this,g,b,k,!1)};function F(x,g,b,k){b=Number(b)||0;const R=x.length-b;k?(k=Number(k),k>R&&(k=R)):k=R;const O=g.length;k>O/2&&(k=O/2);let $;for($=0;$<k;++$){const ce=parseInt(g.substr($*2,2),16);if(Tr(ce))return $;x[b+$]=ce}return $}function M(x,g,b,k){return Si(ue(g,x.length-b),x,b,k)}function H(x,g,b,k){return Si(Wt(g),x,b,k)}function N(x,g,b,k){return Si(_i(g),x,b,k)}function re(x,g,b,k){return Si(Ei(g,x.length-b),x,b,k)}o.prototype.write=function(g,b,k,R){if(b===void 0)R="utf8",k=this.length,b=0;else if(k===void 0&&typeof b=="string")R=b,k=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(k)?(k=k>>>0,R===void 0&&(R="utf8")):(R=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const O=this.length-b;if((k===void 0||k>O)&&(k=O),g.length>0&&(k<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let $=!1;for(;;)switch(R){case"hex":return F(this,g,b,k);case"utf8":case"utf-8":return M(this,g,b,k);case"ascii":case"latin1":case"binary":return H(this,g,b,k);case"base64":return N(this,g,b,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,g,b,k);default:if($)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),$=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(x,g,b){return g===0&&b===x.length?t.fromByteArray(x):t.fromByteArray(x.slice(g,b))}function te(x,g,b){b=Math.min(x.length,b);const k=[];let R=g;for(;R<b;){const O=x[R];let $=null,ce=O>239?4:O>223?3:O>191?2:1;if(R+ce<=b){let He,Pe,Ye,ke;switch(ce){case 1:O<128&&($=O);break;case 2:He=x[R+1],(He&192)===128&&(ke=(O&31)<<6|He&63,ke>127&&($=ke));break;case 3:He=x[R+1],Pe=x[R+2],(He&192)===128&&(Pe&192)===128&&(ke=(O&15)<<12|(He&63)<<6|Pe&63,ke>2047&&(ke<55296||ke>57343)&&($=ke));break;case 4:He=x[R+1],Pe=x[R+2],Ye=x[R+3],(He&192)===128&&(Pe&192)===128&&(Ye&192)===128&&(ke=(O&15)<<18|(He&63)<<12|(Pe&63)<<6|Ye&63,ke>65535&&ke<1114112&&($=ke))}}$===null?($=65533,ce=1):$>65535&&($-=65536,k.push($>>>10&1023|55296),$=56320|$&1023),k.push($),R+=ce}return Je(k)}const ge=4096;function Je(x){const g=x.length;if(g<=ge)return String.fromCharCode.apply(String,x);let b="",k=0;for(;k<g;)b+=String.fromCharCode.apply(String,x.slice(k,k+=ge));return b}function Fe(x,g,b){let k="";b=Math.min(x.length,b);for(let R=g;R<b;++R)k+=String.fromCharCode(x[R]&127);return k}function et(x,g,b){let k="";b=Math.min(x.length,b);for(let R=g;R<b;++R)k+=String.fromCharCode(x[R]);return k}function Ze(x,g,b){const k=x.length;(!g||g<0)&&(g=0),(!b||b<0||b>k)&&(b=k);let R="";for(let O=g;O<b;++O)R+=Ci[x[O]];return R}function tt(x,g,b){const k=x.slice(g,b);let R="";for(let O=0;O<k.length-1;O+=2)R+=String.fromCharCode(k[O]+k[O+1]*256);return R}o.prototype.slice=function(g,b){const k=this.length;g=~~g,b=b===void 0?k:~~b,g<0?(g+=k,g<0&&(g=0)):g>k&&(g=k),b<0?(b+=k,b<0&&(b=0)):b>k&&(b=k),b<g&&(b=g);const R=this.subarray(g,b);return Object.setPrototypeOf(R,o.prototype),R};function Se(x,g,b){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>b)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(g,b,k){g=g>>>0,b=b>>>0,k||Se(g,b,this.length);let R=this[g],O=1,$=0;for(;++$<b&&(O*=256);)R+=this[g+$]*O;return R},o.prototype.readUintBE=o.prototype.readUIntBE=function(g,b,k){g=g>>>0,b=b>>>0,k||Se(g,b,this.length);let R=this[g+--b],O=1;for(;b>0&&(O*=256);)R+=this[g+--b]*O;return R},o.prototype.readUint8=o.prototype.readUInt8=function(g,b){return g=g>>>0,b||Se(g,1,this.length),this[g]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(g,b){return g=g>>>0,b||Se(g,2,this.length),this[g]|this[g+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(g,b){return g=g>>>0,b||Se(g,2,this.length),this[g]<<8|this[g+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},o.prototype.readBigUInt64LE=Zt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,O=this[++g]+this[++g]*2**8+this[++g]*2**16+k*2**24;return BigInt(R)+(BigInt(O)<<BigInt(32))}),o.prototype.readBigUInt64BE=Zt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=b*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],O=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+k;return(BigInt(R)<<BigInt(32))+BigInt(O)}),o.prototype.readIntLE=function(g,b,k){g=g>>>0,b=b>>>0,k||Se(g,b,this.length);let R=this[g],O=1,$=0;for(;++$<b&&(O*=256);)R+=this[g+$]*O;return O*=128,R>=O&&(R-=Math.pow(2,8*b)),R},o.prototype.readIntBE=function(g,b,k){g=g>>>0,b=b>>>0,k||Se(g,b,this.length);let R=b,O=1,$=this[g+--R];for(;R>0&&(O*=256);)$+=this[g+--R]*O;return O*=128,$>=O&&($-=Math.pow(2,8*b)),$},o.prototype.readInt8=function(g,b){return g=g>>>0,b||Se(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},o.prototype.readInt16LE=function(g,b){g=g>>>0,b||Se(g,2,this.length);const k=this[g]|this[g+1]<<8;return k&32768?k|4294901760:k},o.prototype.readInt16BE=function(g,b){g=g>>>0,b||Se(g,2,this.length);const k=this[g+1]|this[g]<<8;return k&32768?k|4294901760:k},o.prototype.readInt32LE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},o.prototype.readInt32BE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},o.prototype.readBigInt64LE=Zt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(k<<24);return(BigInt(R)<<BigInt(32))+BigInt(b+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),o.prototype.readBigInt64BE=Zt(function(g){g=g>>>0,V(g,"offset");const b=this[g],k=this[g+7];(b===void 0||k===void 0)&&W(g,this.length-8);const R=(b<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(R)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+k)}),o.prototype.readFloatLE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),n.read(this,g,!0,23,4)},o.prototype.readFloatBE=function(g,b){return g=g>>>0,b||Se(g,4,this.length),n.read(this,g,!1,23,4)},o.prototype.readDoubleLE=function(g,b){return g=g>>>0,b||Se(g,8,this.length),n.read(this,g,!0,52,8)},o.prototype.readDoubleBE=function(g,b){return g=g>>>0,b||Se(g,8,this.length),n.read(this,g,!1,52,8)};function Ce(x,g,b,k,R,O){if(!o.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>R||g<O)throw new RangeError('"value" argument is out of bounds');if(b+k>x.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(g,b,k,R){if(g=+g,b=b>>>0,k=k>>>0,!R){const ce=Math.pow(2,8*k)-1;Ce(this,g,b,k,ce,0)}let O=1,$=0;for(this[b]=g&255;++$<k&&(O*=256);)this[b+$]=g/O&255;return b+k},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(g,b,k,R){if(g=+g,b=b>>>0,k=k>>>0,!R){const ce=Math.pow(2,8*k)-1;Ce(this,g,b,k,ce,0)}let O=k-1,$=1;for(this[b+O]=g&255;--O>=0&&($*=256);)this[b+O]=g/$&255;return b+k},o.prototype.writeUint8=o.prototype.writeUInt8=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,1,255,0),this[b]=g&255,b+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,2,65535,0),this[b]=g&255,this[b+1]=g>>>8,b+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,2,65535,0),this[b]=g>>>8,this[b+1]=g&255,b+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,4,4294967295,0),this[b+3]=g>>>24,this[b+2]=g>>>16,this[b+1]=g>>>8,this[b]=g&255,b+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,4,4294967295,0),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4};function gt(x,g,b,k,R){A(g,k,R,x,b,7);let O=Number(g&BigInt(4294967295));x[b++]=O,O=O>>8,x[b++]=O,O=O>>8,x[b++]=O,O=O>>8,x[b++]=O;let $=Number(g>>BigInt(32)&BigInt(4294967295));return x[b++]=$,$=$>>8,x[b++]=$,$=$>>8,x[b++]=$,$=$>>8,x[b++]=$,b}function qt(x,g,b,k,R){A(g,k,R,x,b,7);let O=Number(g&BigInt(4294967295));x[b+7]=O,O=O>>8,x[b+6]=O,O=O>>8,x[b+5]=O,O=O>>8,x[b+4]=O;let $=Number(g>>BigInt(32)&BigInt(4294967295));return x[b+3]=$,$=$>>8,x[b+2]=$,$=$>>8,x[b+1]=$,$=$>>8,x[b]=$,b+8}o.prototype.writeBigUInt64LE=Zt(function(g,b=0){return gt(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Zt(function(g,b=0){return qt(this,g,b,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(g,b,k,R){if(g=+g,b=b>>>0,!R){const He=Math.pow(2,8*k-1);Ce(this,g,b,k,He-1,-He)}let O=0,$=1,ce=0;for(this[b]=g&255;++O<k&&($*=256);)g<0&&ce===0&&this[b+O-1]!==0&&(ce=1),this[b+O]=(g/$>>0)-ce&255;return b+k},o.prototype.writeIntBE=function(g,b,k,R){if(g=+g,b=b>>>0,!R){const He=Math.pow(2,8*k-1);Ce(this,g,b,k,He-1,-He)}let O=k-1,$=1,ce=0;for(this[b+O]=g&255;--O>=0&&($*=256);)g<0&&ce===0&&this[b+O+1]!==0&&(ce=1),this[b+O]=(g/$>>0)-ce&255;return b+k},o.prototype.writeInt8=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,1,127,-128),g<0&&(g=255+g+1),this[b]=g&255,b+1},o.prototype.writeInt16LE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,2,32767,-32768),this[b]=g&255,this[b+1]=g>>>8,b+2},o.prototype.writeInt16BE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,2,32767,-32768),this[b]=g>>>8,this[b+1]=g&255,b+2},o.prototype.writeInt32LE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,4,2147483647,-2147483648),this[b]=g&255,this[b+1]=g>>>8,this[b+2]=g>>>16,this[b+3]=g>>>24,b+4},o.prototype.writeInt32BE=function(g,b,k){return g=+g,b=b>>>0,k||Ce(this,g,b,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[b]=g>>>24,this[b+1]=g>>>16,this[b+2]=g>>>8,this[b+3]=g&255,b+4},o.prototype.writeBigInt64LE=Zt(function(g,b=0){return gt(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Zt(function(g,b=0){return qt(this,g,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(x,g,b,k,R,O){if(b+k>x.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function L(x,g,b,k,R){return g=+g,b=b>>>0,R||Ne(x,g,b,4),n.write(x,g,b,k,23,4),b+4}o.prototype.writeFloatLE=function(g,b,k){return L(this,g,b,!0,k)},o.prototype.writeFloatBE=function(g,b,k){return L(this,g,b,!1,k)};function P(x,g,b,k,R){return g=+g,b=b>>>0,R||Ne(x,g,b,8),n.write(x,g,b,k,52,8),b+8}o.prototype.writeDoubleLE=function(g,b,k){return P(this,g,b,!0,k)},o.prototype.writeDoubleBE=function(g,b,k){return P(this,g,b,!1,k)},o.prototype.copy=function(g,b,k,R){if(!o.isBuffer(g))throw new TypeError("argument should be a Buffer");if(k||(k=0),!R&&R!==0&&(R=this.length),b>=g.length&&(b=g.length),b||(b=0),R>0&&R<k&&(R=k),R===k||g.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),g.length-b<R-k&&(R=g.length-b+k);const O=R-k;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,k,R):Uint8Array.prototype.set.call(g,this.subarray(k,R),b),O},o.prototype.fill=function(g,b,k,R){if(typeof g=="string"){if(typeof b=="string"?(R=b,b=0,k=this.length):typeof k=="string"&&(R=k,k=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!o.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(g.length===1){const $=g.charCodeAt(0);(R==="utf8"&&$<128||R==="latin1")&&(g=$)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(b<0||this.length<b||this.length<k)throw new RangeError("Out of range index");if(k<=b)return this;b=b>>>0,k=k===void 0?this.length:k>>>0,g||(g=0);let O;if(typeof g=="number")for(O=b;O<k;++O)this[O]=g;else{const $=o.isBuffer(g)?g:o.from(g,R),ce=$.length;if(ce===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(O=0;O<k-b;++O)this[O+b]=$[O%ce]}return this};const q={};function j(x,g,b){q[x]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}j("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),j("ERR_OUT_OF_RANGE",function(x,g,b){let k=`The value of "${x}" is out of range.`,R=b;return Number.isInteger(b)&&Math.abs(b)>2**32?R=Z(String(b)):typeof b=="bigint"&&(R=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(R=Z(R)),R+="n"),k+=` It must be ${g}. Received ${R}`,k},RangeError);function Z(x){let g="",b=x.length;const k=x[0]==="-"?1:0;for(;b>=k+4;b-=3)g=`_${x.slice(b-3,b)}${g}`;return`${x.slice(0,b)}${g}`}function C(x,g,b){V(g,"offset"),(x[g]===void 0||x[g+b]===void 0)&&W(g,x.length-(b+1))}function A(x,g,b,k,R,O){if(x>b||x<g){const $=typeof g=="bigint"?"n":"";let ce;throw O>3?g===0||g===BigInt(0)?ce=`>= 0${$} and < 2${$} ** ${(O+1)*8}${$}`:ce=`>= -(2${$} ** ${(O+1)*8-1}${$}) and < 2 ** ${(O+1)*8-1}${$}`:ce=`>= ${g}${$} and <= ${b}${$}`,new q.ERR_OUT_OF_RANGE("value",ce,x)}C(k,R,O)}function V(x,g){if(typeof x!="number")throw new q.ERR_INVALID_ARG_TYPE(g,"number",x)}function W(x,g,b){throw Math.floor(x)!==x?(V(x,b),new q.ERR_OUT_OF_RANGE(b||"offset","an integer",x)):g<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${g}`,x)}const fe=/[^+/0-9A-Za-z-_]/g;function ne(x){if(x=x.split("=")[0],x=x.trim().replace(fe,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function ue(x,g){g=g||1/0;let b;const k=x.length;let R=null;const O=[];for(let $=0;$<k;++$){if(b=x.charCodeAt($),b>55295&&b<57344){if(!R){if(b>56319){(g-=3)>-1&&O.push(239,191,189);continue}else if($+1===k){(g-=3)>-1&&O.push(239,191,189);continue}R=b;continue}if(b<56320){(g-=3)>-1&&O.push(239,191,189),R=b;continue}b=(R-55296<<10|b-56320)+65536}else R&&(g-=3)>-1&&O.push(239,191,189);if(R=null,b<128){if((g-=1)<0)break;O.push(b)}else if(b<2048){if((g-=2)<0)break;O.push(b>>6|192,b&63|128)}else if(b<65536){if((g-=3)<0)break;O.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((g-=4)<0)break;O.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return O}function Wt(x){const g=[];for(let b=0;b<x.length;++b)g.push(x.charCodeAt(b)&255);return g}function Ei(x,g){let b,k,R;const O=[];for(let $=0;$<x.length&&!((g-=2)<0);++$)b=x.charCodeAt($),k=b>>8,R=b%256,O.push(R),O.push(k);return O}function _i(x){return t.toByteArray(ne(x))}function Si(x,g,b,k){let R;for(R=0;R<k&&!(R+b>=g.length||R>=x.length);++R)g[R+b]=x[R];return R}function Ct(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function Tr(x){return x!==x}const Ci=function(){const x="0123456789abcdef",g=new Array(256);for(let b=0;b<16;++b){const k=b*16;for(let R=0;R<16;++R)g[k+R]=x[b]+x[R]}return g}();function Zt(x){return typeof BigInt>"u"?rr:x}function rr(){throw new Error("BigInt not supported")}})(me);const Zv=Ae({__proto__:null,default:xl(me)},[me]),dt={},lL=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),wp=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class ta{async getBufferFromResponse(t){if(typeof t.buffer=="function")return t.buffer();if(typeof t.arrayBuffer=="function"){const n=await t.arrayBuffer();return me.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(t,n={}){this.baseOverrides={},this.url=t;const r=n.fetch||wp.fetch&&wp.fetch.bind(wp);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(t,n){let r;try{r=await this.fetchImplementation(t,n)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(t,{...n,cache:"reload"});else throw i}return r}async read(t,n=0,r,i=0,a={}){const{headers:s={},signal:o,overrides:f={}}=a;r<1/0?s.range=`bytes=${i}-${i+r}`:r===1/0&&i!==0&&(s.range=`bytes=${i}-`);const l={...this.baseOverrides,...f,headers:{...s,...f.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:o},u=await this.fetch(this.url,l);if(!u.ok)throw new Error(`HTTP ${u.status} ${u.statusText} ${this.url}`);if(u.status===200&&i===0||u.status===206){const c=await this.getBufferFromResponse(u),h=c.copy(t,n,0,Math.min(r,c.length)),d=u.headers.get("content-range"),p=/\/(\d+)$/.exec(d||"");return p&&p[1]&&(this._stat={size:parseInt(p[1],10)}),{bytesRead:h,buffer:t}}throw u.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${u.status} fetching ${this.url}`)}async readFile(t={}){let n,r;typeof t=="string"?(n=t,r={}):(n=t.encoding,r=t,delete r.encoding);const{headers:i={},signal:a,overrides:s={}}=r,o={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:a,...this.baseOverrides,...s},f=await this.fetch(this.url,o);if(!f)throw new Error("generic-filehandle failed to fetch");if(f.status!==200)throw Object.assign(new Error(`HTTP ${f.status} fetching ${this.url}`),{status:f.status});if(n==="utf8")return f.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(f)}async stat(){if(!this._stat){const t=me.Buffer.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function Yv(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result!="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)})}function fL(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result=="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsText(e)})}class uL{constructor(t){this.blob=t,this.size=t.size}async read(t,n=0,r,i=0){if(!r)return{bytesRead:0,buffer:t};const a=i,s=a+r,o=await Yv(this.blob.slice(a,s)),f=me.Buffer.from(o);return{bytesRead:f.copy(t,n),buffer:f}}async readFile(t){let n;if(typeof t=="string"?n=t:n=t&&t.encoding,n==="utf8")return fL(this.blob);if(n)throw new Error(`unsupported encoding: ${n}`);const r=await Yv(this.blob);return me.Buffer.from(r)}async stat(){return{size:this.size}}async close(){}}function Qv(e,t={}){return new ta(e,t)}function cL(e,t,n,r={}){if(n!==void 0)return n;if(e!==void 0)return Qv(e,r);if(t!==void 0)return new dt(t,r);throw new Error("no url, path, or filehandle provided, cannot open")}const vl=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:uL,LocalFile:dt,RemoteFile:ta,fromUrl:Qv,open:cL},Symbol.toStringTag,{value:"Module"}));var mr={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(a,s){return Object.prototype.hasOwnProperty.call(a,s)}e.assign=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var f in o)n(o,f)&&(a[f]=o[f])}}return a},e.shrinkBuf=function(a,s){return a.length===s?a:a.subarray?a.subarray(0,s):(a.length=s,a)};var r={arraySet:function(a,s,o,f,l){if(s.subarray&&a.subarray){a.set(s.subarray(o,o+f),l);return}for(var u=0;u<f;u++)a[l+u]=s[o+u]},flattenChunks:function(a){var s,o,f,l,u,c;for(f=0,s=0,o=a.length;s<o;s++)f+=a[s].length;for(c=new Uint8Array(f),l=0,s=0,o=a.length;s<o;s++)u=a[s],c.set(u,l),l+=u.length;return c}},i={arraySet:function(a,s,o,f,l){for(var u=0;u<f;u++)a[l+u]=s[o+u]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(mr);var Al={},Zn={},ss={},hL=mr,dL=4,Xv=0,Kv=1,pL=2;function os(e){for(var t=e.length;--t>=0;)e[t]=0}var gL=0,Jv=1,mL=2,bL=3,yL=258,xp=29,El=256,_l=El+1+xp,ls=30,vp=19,eA=2*_l+1,na=15,Ap=16,wL=7,Ep=256,tA=16,nA=17,rA=18,_p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],kc=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],xL=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],iA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vL=512,br=new Array((_l+2)*2);os(br);var Sl=new Array(ls*2);os(Sl);var Cl=new Array(vL);os(Cl);var kl=new Array(yL-bL+1);os(kl);var Sp=new Array(xp);os(Sp);var Tc=new Array(ls);os(Tc);function Cp(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var aA,sA,oA;function kp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function lA(e){return e<256?Cl[e]:Cl[256+(e>>>7)]}function Tl(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Ht(e,t,n){e.bi_valid>Ap-n?(e.bi_buf|=t<<e.bi_valid&65535,Tl(e,e.bi_buf),e.bi_buf=t>>Ap-e.bi_valid,e.bi_valid+=n-Ap):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function Yn(e,t,n){Ht(e,n[t*2],n[t*2+1])}function fA(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function AL(e){e.bi_valid===16?(Tl(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function EL(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,f=t.stat_desc.max_length,l,u,c,h,d,p,m=0;for(h=0;h<=na;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<eA;l++)u=e.heap[l],h=n[n[u*2+1]*2+1]+1,h>f&&(h=f,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=o&&(d=s[u-o]),p=n[u*2],e.opt_len+=p*(h+d),a&&(e.static_len+=p*(i[u*2+1]+d)));if(m!==0){do{for(h=f-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(h=f;h!==0;h--)for(u=e.bl_count[h];u!==0;)c=e.heap[--l],!(c>r)&&(n[c*2+1]!==h&&(e.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),u--)}}function uA(e,t,n){var r=new Array(na+1),i=0,a,s;for(a=1;a<=na;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){var o=e[s*2+1];o!==0&&(e[s*2]=fA(r[o]++,o))}}function _L(){var e,t,n,r,i,a=new Array(na+1);for(n=0,r=0;r<xp-1;r++)for(Sp[r]=n,e=0;e<1<<_p[r];e++)kl[n++]=r;for(kl[n-1]=r,i=0,r=0;r<16;r++)for(Tc[r]=i,e=0;e<1<<kc[r];e++)Cl[i++]=r;for(i>>=7;r<ls;r++)for(Tc[r]=i<<7,e=0;e<1<<kc[r]-7;e++)Cl[256+i++]=r;for(t=0;t<=na;t++)a[t]=0;for(e=0;e<=143;)br[e*2+1]=8,e++,a[8]++;for(;e<=255;)br[e*2+1]=9,e++,a[9]++;for(;e<=279;)br[e*2+1]=7,e++,a[7]++;for(;e<=287;)br[e*2+1]=8,e++,a[8]++;for(uA(br,_l+1,a),e=0;e<ls;e++)Sl[e*2+1]=5,Sl[e*2]=fA(e,5);aA=new Cp(br,_p,El+1,_l,na),sA=new Cp(Sl,kc,0,ls,na),oA=new Cp(new Array(0),xL,0,vp,wL)}function cA(e){var t;for(t=0;t<_l;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ls;t++)e.dyn_dtree[t*2]=0;for(t=0;t<vp;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Ep*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function hA(e){e.bi_valid>8?Tl(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function SL(e,t,n,r){hA(e),r&&(Tl(e,n),Tl(e,~n)),hL.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function dA(e,t,n,r){var i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function Tp(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&dA(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!dA(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function pA(e,t,n){var r,i,a=0,s,o;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?Yn(e,i,t):(s=kl[i],Yn(e,s+El+1,t),o=_p[s],o!==0&&(i-=Sp[s],Ht(e,i,o)),r--,s=lA(r),Yn(e,s,n),o=kc[s],o!==0&&(r-=Tc[s],Ht(e,r,o)));while(a<e.last_lit);Yn(e,Ep,t)}function Ip(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,s,o,f=-1,l;for(e.heap_len=0,e.heap_max=eA,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=f,s=e.heap_len>>1;s>=1;s--)Tp(e,n,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Tp(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[l*2]=n[s*2]+n[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[s*2+1]=n[o*2+1]=l,e.heap[1]=l++,Tp(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],EL(e,t),uA(n,f,e.bl_count)}function gA(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++o<f&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[tA*2]++):o<=10?e.bl_tree[nA*2]++:e.bl_tree[rA*2]++,o=0,i=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4))}function mA(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++o<f&&a===s)){if(o<l)do Yn(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Yn(e,a,e.bl_tree),o--),Yn(e,tA,e.bl_tree),Ht(e,o-3,2)):o<=10?(Yn(e,nA,e.bl_tree),Ht(e,o-3,3)):(Yn(e,rA,e.bl_tree),Ht(e,o-11,7));o=0,i=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4)}}function CL(e){var t;for(gA(e,e.dyn_ltree,e.l_desc.max_code),gA(e,e.dyn_dtree,e.d_desc.max_code),Ip(e,e.bl_desc),t=vp-1;t>=3&&e.bl_tree[iA[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function kL(e,t,n,r){var i;for(Ht(e,t-257,5),Ht(e,n-1,5),Ht(e,r-4,4),i=0;i<r;i++)Ht(e,e.bl_tree[iA[i]*2+1],3);mA(e,e.dyn_ltree,t-1),mA(e,e.dyn_dtree,n-1)}function TL(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Xv;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Kv;for(n=32;n<El;n++)if(e.dyn_ltree[n*2]!==0)return Kv;return Xv}var bA=!1;function IL(e){bA||(_L(),bA=!0),e.l_desc=new kp(e.dyn_ltree,aA),e.d_desc=new kp(e.dyn_dtree,sA),e.bl_desc=new kp(e.bl_tree,oA),e.bi_buf=0,e.bi_valid=0,cA(e)}function yA(e,t,n,r){Ht(e,(gL<<1)+(r?1:0),3),SL(e,t,n,!0)}function BL(e){Ht(e,Jv<<1,3),Yn(e,Ep,br),AL(e)}function DL(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===pL&&(e.strm.data_type=TL(e)),Ip(e,e.l_desc),Ip(e,e.d_desc),s=CL(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?yA(e,t,n,r):e.strategy===dL||a===i?(Ht(e,(Jv<<1)+(r?1:0),3),pA(e,br,Sl)):(Ht(e,(mL<<1)+(r?1:0),3),kL(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),pA(e,e.dyn_ltree,e.dyn_dtree)),cA(e),r&&hA(e)}function FL(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(kl[n]+El+1)*2]++,e.dyn_dtree[lA(t)*2]++),e.last_lit===e.lit_bufsize-1}ss._tr_init=IL,ss._tr_stored_block=yA,ss._tr_flush_block=DL,ss._tr_tally=FL,ss._tr_align=BL;function RL(e,t,n,r){for(var i=e&65535|0,a=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}var wA=RL;function ML(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var PL=ML();function LL(e,t,n,r){var i=PL,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var xA=LL,Bp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ft=mr,fn=ss,vA=wA,ri=xA,OL=Bp,ra=0,NL=1,zL=3,ii=4,AA=5,Qn=0,EA=1,un=-2,UL=-3,Dp=-5,GL=-1,HL=1,Ic=2,VL=3,jL=4,$L=0,qL=2,Bc=8,WL=9,ZL=15,YL=8,QL=29,XL=256,Fp=XL+1+QL,KL=30,JL=19,eO=2*Fp+1,tO=15,de=3,ai=258,kn=ai+de+1,nO=32,Dc=42,Rp=69,Fc=73,Rc=91,Mc=103,ia=113,Il=666,ot=1,Bl=2,aa=3,fs=4,rO=3;function si(e,t){return e.msg=OL[t],t}function _A(e){return(e<<1)-(e>4?9:0)}function oi(e){for(var t=e.length;--t>=0;)e[t]=0}function li(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(Ft.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function wt(e,t){fn._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,li(e.strm)}function xe(e,t){e.pending_buf[e.pending++]=t}function Dl(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function iO(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,Ft.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=vA(e.adler,t,i,n):e.state.wrap===2&&(e.adler=ri(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function SA(e,t){var n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match,f=e.strstart>e.w_size-kn?e.strstart-(e.w_size-kn):0,l=e.window,u=e.w_mask,c=e.prev,h=e.strstart+ai,d=l[r+s-1],p=l[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(l[i+s]!==p||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<h);if(a=ai-(h-r),r=h-ai,a>s){if(e.match_start=t,s=a,a>=o)break;d=l[r+s-1],p=l[r+s]}}while((t=c[t&u])>f&&--n!==0);return s<=e.lookahead?s:e.lookahead}function sa(e){var t=e.w_size,n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-kn)){Ft.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=iO(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=de)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+de-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<de)););}while(e.lookahead<kn&&e.strm.avail_in!==0)}function aO(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(sa(e),e.lookahead===0&&t===ra)return ot;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,wt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-kn&&(wt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===ii?(wt(e,!0),e.strm.avail_out===0?aa:fs):(e.strstart>e.block_start&&(wt(e,!1),e.strm.avail_out===0),ot)}function Mp(e,t){for(var n,r;;){if(e.lookahead<kn){if(sa(e),e.lookahead<kn&&t===ra)return ot;if(e.lookahead===0)break}if(n=0,e.lookahead>=de&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-kn&&(e.match_length=SA(e,n)),e.match_length>=de)if(r=fn._tr_tally(e,e.strstart-e.match_start,e.match_length-de),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=de){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=fn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(wt(e,!1),e.strm.avail_out===0))return ot}return e.insert=e.strstart<de-1?e.strstart:de-1,t===ii?(wt(e,!0),e.strm.avail_out===0?aa:fs):e.last_lit&&(wt(e,!1),e.strm.avail_out===0)?ot:Bl}function us(e,t){for(var n,r,i;;){if(e.lookahead<kn){if(sa(e),e.lookahead<kn&&t===ra)return ot;if(e.lookahead===0)break}if(n=0,e.lookahead>=de&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=de-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-kn&&(e.match_length=SA(e,n),e.match_length<=5&&(e.strategy===HL||e.match_length===de&&e.strstart-e.match_start>4096)&&(e.match_length=de-1)),e.prev_length>=de&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-de,r=fn._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-de),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+de-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=de-1,e.strstart++,r&&(wt(e,!1),e.strm.avail_out===0))return ot}else if(e.match_available){if(r=fn._tr_tally(e,0,e.window[e.strstart-1]),r&&wt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ot}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=fn._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<de-1?e.strstart:de-1,t===ii?(wt(e,!0),e.strm.avail_out===0?aa:fs):e.last_lit&&(wt(e,!1),e.strm.avail_out===0)?ot:Bl}function sO(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=ai){if(sa(e),e.lookahead<=ai&&t===ra)return ot;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=de&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+ai;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=ai-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=de?(n=fn._tr_tally(e,1,e.match_length-de),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=fn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(wt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===ii?(wt(e,!0),e.strm.avail_out===0?aa:fs):e.last_lit&&(wt(e,!1),e.strm.avail_out===0)?ot:Bl}function oO(e,t){for(var n;;){if(e.lookahead===0&&(sa(e),e.lookahead===0)){if(t===ra)return ot;break}if(e.match_length=0,n=fn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(wt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===ii?(wt(e,!0),e.strm.avail_out===0?aa:fs):e.last_lit&&(wt(e,!1),e.strm.avail_out===0)?ot:Bl}function Xn(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var cs;cs=[new Xn(0,0,0,0,aO),new Xn(4,4,8,4,Mp),new Xn(4,5,16,8,Mp),new Xn(4,6,32,32,Mp),new Xn(4,4,16,16,us),new Xn(8,16,32,32,us),new Xn(8,16,128,128,us),new Xn(8,32,128,256,us),new Xn(32,128,258,1024,us),new Xn(32,258,258,4096,us)];function lO(e){e.window_size=2*e.w_size,oi(e.head),e.max_lazy_match=cs[e.level].max_lazy,e.good_match=cs[e.level].good_length,e.nice_match=cs[e.level].nice_length,e.max_chain_length=cs[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=de-1,e.match_available=0,e.ins_h=0}function fO(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ft.Buf16(eO*2),this.dyn_dtree=new Ft.Buf16((2*KL+1)*2),this.bl_tree=new Ft.Buf16((2*JL+1)*2),oi(this.dyn_ltree),oi(this.dyn_dtree),oi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ft.Buf16(tO+1),this.heap=new Ft.Buf16(2*Fp+1),oi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ft.Buf16(2*Fp+1),oi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function CA(e){var t;return!e||!e.state?si(e,un):(e.total_in=e.total_out=0,e.data_type=qL,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Dc:ia,e.adler=t.wrap===2?0:1,t.last_flush=ra,fn._tr_init(t),Qn)}function kA(e){var t=CA(e);return t===Qn&&lO(e.state),t}function uO(e,t){return!e||!e.state||e.state.wrap!==2?un:(e.state.gzhead=t,Qn)}function TA(e,t,n,r,i,a){if(!e)return un;var s=1;if(t===GL&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>WL||n!==Bc||r<8||r>15||t<0||t>9||a<0||a>jL)return si(e,un);r===8&&(r=9);var o=new fO;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+de-1)/de),o.window=new Ft.Buf8(o.w_size*2),o.head=new Ft.Buf16(o.hash_size),o.prev=new Ft.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Ft.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=t,o.strategy=a,o.method=n,kA(e)}function cO(e,t){return TA(e,t,Bc,ZL,YL,$L)}function hO(e,t){var n,r,i,a;if(!e||!e.state||t>AA||t<0)return e?si(e,un):un;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Il&&t!==ii)return si(e,e.avail_out===0?Dp:un);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===Dc)if(r.wrap===2)e.adler=0,xe(r,31),xe(r,139),xe(r,8),r.gzhead?(xe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xe(r,r.gzhead.time&255),xe(r,r.gzhead.time>>8&255),xe(r,r.gzhead.time>>16&255),xe(r,r.gzhead.time>>24&255),xe(r,r.level===9?2:r.strategy>=Ic||r.level<2?4:0),xe(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(xe(r,r.gzhead.extra.length&255),xe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ri(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Rp):(xe(r,0),xe(r,0),xe(r,0),xe(r,0),xe(r,0),xe(r,r.level===9?2:r.strategy>=Ic||r.level<2?4:0),xe(r,rO),r.status=ia);else{var s=Bc+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=Ic||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=nO),s+=31-s%31,r.status=ia,Dl(r,s),r.strstart!==0&&(Dl(r,e.adler>>>16),Dl(r,e.adler&65535)),e.adler=1}if(r.status===Rp)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),li(e),i=r.pending,r.pending===r.pending_buf_size));)xe(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Fc)}else r.status=Fc;if(r.status===Fc)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),li(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,xe(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.gzindex=0,r.status=Rc)}else r.status=Rc;if(r.status===Rc)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),li(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,xe(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ri(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.status=Mc)}else r.status=Mc;if(r.status===Mc&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&li(e),r.pending+2<=r.pending_buf_size&&(xe(r,e.adler&255),xe(r,e.adler>>8&255),e.adler=0,r.status=ia)):r.status=ia),r.pending!==0){if(li(e),e.avail_out===0)return r.last_flush=-1,Qn}else if(e.avail_in===0&&_A(t)<=_A(n)&&t!==ii)return si(e,Dp);if(r.status===Il&&e.avail_in!==0)return si(e,Dp);if(e.avail_in!==0||r.lookahead!==0||t!==ra&&r.status!==Il){var f=r.strategy===Ic?oO(r,t):r.strategy===VL?sO(r,t):cs[r.level].func(r,t);if((f===aa||f===fs)&&(r.status=Il),f===ot||f===aa)return e.avail_out===0&&(r.last_flush=-1),Qn;if(f===Bl&&(t===NL?fn._tr_align(r):t!==AA&&(fn._tr_stored_block(r,0,0,!1),t===zL&&(oi(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),li(e),e.avail_out===0))return r.last_flush=-1,Qn}return t!==ii?Qn:r.wrap<=0?EA:(r.wrap===2?(xe(r,e.adler&255),xe(r,e.adler>>8&255),xe(r,e.adler>>16&255),xe(r,e.adler>>24&255),xe(r,e.total_in&255),xe(r,e.total_in>>8&255),xe(r,e.total_in>>16&255),xe(r,e.total_in>>24&255)):(Dl(r,e.adler>>>16),Dl(r,e.adler&65535)),li(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Qn:EA)}function dO(e){var t;return!e||!e.state?un:(t=e.state.status,t!==Dc&&t!==Rp&&t!==Fc&&t!==Rc&&t!==Mc&&t!==ia&&t!==Il?si(e,un):(e.state=null,t===ia?si(e,UL):Qn))}function pO(e,t){var n=t.length,r,i,a,s,o,f,l,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==Dc||r.lookahead))return un;for(s===1&&(e.adler=vA(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(oi(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new Ft.Buf8(r.w_size),Ft.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),o=e.avail_in,f=e.next_in,l=e.input,e.avail_in=n,e.next_in=0,e.input=t,sa(r);r.lookahead>=de;){i=r.strstart,a=r.lookahead-(de-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+de-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=de-1,sa(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=de-1,r.match_available=0,e.next_in=f,e.input=l,e.avail_in=o,r.wrap=s,Qn}Zn.deflateInit=cO,Zn.deflateInit2=TA,Zn.deflateReset=kA,Zn.deflateResetKeep=CA,Zn.deflateSetHeader=uO,Zn.deflate=hO,Zn.deflateEnd=dO,Zn.deflateSetDictionary=pO,Zn.deflateInfo="pako deflate (from Nodeca project)";var oa={},Pc=mr,IA=!0,BA=!0;try{String.fromCharCode.apply(null,[0])}catch{IA=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{BA=!1}for(var Fl=new Pc.Buf8(256),fi=0;fi<256;fi++)Fl[fi]=fi>=252?6:fi>=248?5:fi>=240?4:fi>=224?3:fi>=192?2:1;Fl[254]=Fl[254]=1,oa.string2buf=function(e){var t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Pc.Buf8(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};function DA(e,t){if(t<65534&&(e.subarray&&BA||!e.subarray&&IA))return String.fromCharCode.apply(null,Pc.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}oa.buf2binstring=function(e){return DA(e,e.length)},oa.binstring2buf=function(e){for(var t=new Pc.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},oa.buf2string=function(e,t){var n,r,i,a,s=t||e.length,o=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){o[r++]=i;continue}if(a=Fl[i],a>4){o[r++]=65533,n+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&n<s;)i=i<<6|e[n++]&63,a--;if(a>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return DA(o,r)},oa.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Fl[e[n]]>t?n:t};function gO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FA=gO,Rl=Zn,Ml=mr,Pp=oa,Lp=Bp,mO=FA,RA=Object.prototype.toString,bO=0,Op=4,hs=0,MA=1,PA=2,yO=-1,wO=0,xO=8;function la(e){if(!(this instanceof la))return new la(e);this.options=Ml.assign({level:yO,method:xO,chunkSize:16384,windowBits:15,memLevel:8,strategy:wO,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mO,this.strm.avail_out=0;var n=Rl.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==hs)throw new Error(Lp[n]);if(t.header&&Rl.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=Pp.string2buf(t.dictionary):RA.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Rl.deflateSetDictionary(this.strm,r),n!==hs)throw new Error(Lp[n]);this._dict_set=!0}}la.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;a=t===~~t?t:t===!0?Op:bO,typeof e=="string"?n.input=Pp.string2buf(e):RA.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Ml.Buf8(r),n.next_out=0,n.avail_out=r),i=Rl.deflate(n,a),i!==MA&&i!==hs)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===Op||a===PA))&&(this.options.to==="string"?this.onData(Pp.buf2binstring(Ml.shrinkBuf(n.output,n.next_out))):this.onData(Ml.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==MA);return a===Op?(i=Rl.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===hs):(a===PA&&(this.onEnd(hs),n.avail_out=0),!0)},la.prototype.onData=function(e){this.chunks.push(e)},la.prototype.onEnd=function(e){e===hs&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ml.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Np(e,t){var n=new la(t);if(n.push(e,!0),n.err)throw n.msg||Lp[n.err];return n.result}function vO(e,t){return t=t||{},t.raw=!0,Np(e,t)}function AO(e,t){return t=t||{},t.gzip=!0,Np(e,t)}Al.Deflate=la,Al.deflate=Np,Al.deflateRaw=vO,Al.gzip=AO;var Pl={},Tn={},Lc=30,EO=12,_O=function(t,n){var r,i,a,s,o,f,l,u,c,h,d,p,m,y,w,v,S,_,T,I,B,F,M,H,N;r=t.state,i=t.next_in,H=t.input,a=i+(t.avail_in-5),s=t.next_out,N=t.output,o=s-(n-t.avail_out),f=s+(t.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,p=r.hold,m=r.bits,y=r.lencode,w=r.distcode,v=(1<<r.lenbits)-1,S=(1<<r.distbits)-1;e:do{m<15&&(p+=H[i++]<<m,m+=8,p+=H[i++]<<m,m+=8),_=y[p&v];t:for(;;){if(T=_>>>24,p>>>=T,m-=T,T=_>>>16&255,T===0)N[s++]=_&65535;else if(T&16){I=_&65535,T&=15,T&&(m<T&&(p+=H[i++]<<m,m+=8),I+=p&(1<<T)-1,p>>>=T,m-=T),m<15&&(p+=H[i++]<<m,m+=8,p+=H[i++]<<m,m+=8),_=w[p&S];n:for(;;){if(T=_>>>24,p>>>=T,m-=T,T=_>>>16&255,T&16){if(B=_&65535,T&=15,m<T&&(p+=H[i++]<<m,m+=8,m<T&&(p+=H[i++]<<m,m+=8)),B+=p&(1<<T)-1,B>l){t.msg="invalid distance too far back",r.mode=Lc;break e}if(p>>>=T,m-=T,T=s-o,B>T){if(T=B-T,T>c&&r.sane){t.msg="invalid distance too far back",r.mode=Lc;break e}if(F=0,M=d,h===0){if(F+=u-T,T<I){I-=T;do N[s++]=d[F++];while(--T);F=s-B,M=N}}else if(h<T){if(F+=u+h-T,T-=h,T<I){I-=T;do N[s++]=d[F++];while(--T);if(F=0,h<I){T=h,I-=T;do N[s++]=d[F++];while(--T);F=s-B,M=N}}}else if(F+=h-T,T<I){I-=T;do N[s++]=d[F++];while(--T);F=s-B,M=N}for(;I>2;)N[s++]=M[F++],N[s++]=M[F++],N[s++]=M[F++],I-=3;I&&(N[s++]=M[F++],I>1&&(N[s++]=M[F++]))}else{F=s-B;do N[s++]=N[F++],N[s++]=N[F++],N[s++]=N[F++],I-=3;while(I>2);I&&(N[s++]=N[F++],I>1&&(N[s++]=N[F++]))}}else if(T&64){t.msg="invalid distance code",r.mode=Lc;break e}else{_=w[(_&65535)+(p&(1<<T)-1)];continue n}break}}else if(T&64)if(T&32){r.mode=EO;break e}else{t.msg="invalid literal/length code",r.mode=Lc;break e}else{_=y[(_&65535)+(p&(1<<T)-1)];continue t}break}}while(i<a&&s<f);I=m>>3,i-=I,m-=I<<3,p&=(1<<m)-1,t.next_in=i,t.next_out=s,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=s<f?257+(f-s):257-(s-f),r.hold=p,r.bits=m},LA=mr,ds=15,OA=852,NA=592,zA=0,zp=1,UA=2,SO=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],CO=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],kO=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],TO=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],IO=function(t,n,r,i,a,s,o,f){var l=f.bits,u=0,c=0,h=0,d=0,p=0,m=0,y=0,w=0,v=0,S=0,_,T,I,B,F,M=null,H=0,N,re=new LA.Buf16(ds+1),oe=new LA.Buf16(ds+1),te=null,ge=0,Je,Fe,et;for(u=0;u<=ds;u++)re[u]=0;for(c=0;c<i;c++)re[n[r+c]]++;for(p=l,d=ds;d>=1&&re[d]===0;d--);if(p>d&&(p=d),d===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,f.bits=1,0;for(h=1;h<d&&re[h]===0;h++);for(p<h&&(p=h),w=1,u=1;u<=ds;u++)if(w<<=1,w-=re[u],w<0)return-1;if(w>0&&(t===zA||d!==1))return-1;for(oe[1]=0,u=1;u<ds;u++)oe[u+1]=oe[u]+re[u];for(c=0;c<i;c++)n[r+c]!==0&&(o[oe[n[r+c]]++]=c);if(t===zA?(M=te=o,N=19):t===zp?(M=SO,H-=257,te=CO,ge-=257,N=256):(M=kO,te=TO,N=-1),S=0,c=0,u=h,F=s,m=p,y=0,I=-1,v=1<<p,B=v-1,t===zp&&v>OA||t===UA&&v>NA)return 1;for(;;){Je=u-y,o[c]<N?(Fe=0,et=o[c]):o[c]>N?(Fe=te[ge+o[c]],et=M[H+o[c]]):(Fe=32+64,et=0),_=1<<u-y,T=1<<m,h=T;do T-=_,a[F+(S>>y)+T]=Je<<24|Fe<<16|et|0;while(T!==0);for(_=1<<u-1;S&_;)_>>=1;if(_!==0?(S&=_-1,S+=_):S=0,c++,--re[u]===0){if(u===d)break;u=n[r+o[c]]}if(u>p&&(S&B)!==I){for(y===0&&(y=p),F+=h,m=u-y,w=1<<m;m+y<d&&(w-=re[m+y],!(w<=0));)m++,w<<=1;if(v+=1<<m,t===zp&&v>OA||t===UA&&v>NA)return 1;I=S&B,a[I]=p<<24|m<<16|F-s|0}}return S!==0&&(a[F+S]=u-y<<24|64<<16|0),f.bits=p,0},Kt=mr,Up=wA,Kn=xA,BO=_O,Ll=IO,DO=0,GA=1,HA=2,VA=4,FO=5,Oc=6,fa=0,RO=1,MO=2,cn=-2,jA=-3,$A=-4,PO=-5,qA=8,WA=1,ZA=2,YA=3,QA=4,XA=5,KA=6,JA=7,e2=8,t2=9,n2=10,Nc=11,yr=12,Gp=13,r2=14,Hp=15,i2=16,a2=17,s2=18,o2=19,zc=20,Uc=21,l2=22,f2=23,u2=24,c2=25,h2=26,Vp=27,d2=28,p2=29,qe=30,g2=31,LO=32,OO=852,NO=592,zO=15,UO=zO;function m2(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function GO(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Kt.Buf16(320),this.work=new Kt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b2(e){var t;return!e||!e.state?cn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=WA,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Kt.Buf32(OO),t.distcode=t.distdyn=new Kt.Buf32(NO),t.sane=1,t.back=-1,fa)}function y2(e){var t;return!e||!e.state?cn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,b2(e))}function w2(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?cn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y2(e))}function x2(e,t){var n,r;return e?(r=new GO,e.state=r,r.window=null,n=w2(e,t),n!==fa&&(e.state=null),n):cn}function HO(e){return x2(e,UO)}var v2=!0,jp,$p;function VO(e){if(v2){var t;for(jp=new Kt.Buf32(512),$p=new Kt.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ll(GA,e.lens,0,288,jp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ll(HA,e.lens,0,32,$p,0,e.work,{bits:5}),v2=!1}e.lencode=jp,e.lenbits=9,e.distcode=$p,e.distbits=5}function A2(e,t,n,r){var i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Kt.Buf8(a.wsize)),r>=a.wsize?(Kt.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),Kt.arraySet(a.window,t,n-r,i,a.wnext),r-=i,r?(Kt.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function jO(e,t){var n,r,i,a,s,o,f,l,u,c,h,d,p,m,y=0,w,v,S,_,T,I,B,F,M=new Kt.Buf8(4),H,N,re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return cn;n=e.state,n.mode===yr&&(n.mode=Gp),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=n.hold,u=n.bits,c=o,h=f,F=fa;e:for(;;)switch(n.mode){case WA:if(n.wrap===0){n.mode=Gp;break}for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.wrap&2&&l===35615){n.check=0,M[0]=l&255,M[1]=l>>>8&255,n.check=Kn(n.check,M,2,0),l=0,u=0,n.mode=ZA;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=qe;break}if((l&15)!==qA){e.msg="unknown compression method",n.mode=qe;break}if(l>>>=4,u-=4,B=(l&15)+8,n.wbits===0)n.wbits=B;else if(B>n.wbits){e.msg="invalid window size",n.mode=qe;break}n.dmax=1<<B,e.adler=n.check=1,n.mode=l&512?n2:yr,l=0,u=0;break;case ZA:for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==qA){e.msg="unknown compression method",n.mode=qe;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=qe;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Kn(n.check,M,2,0)),l=0,u=0,n.mode=YA;case YA:for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,M[2]=l>>>16&255,M[3]=l>>>24&255,n.check=Kn(n.check,M,4,0)),l=0,u=0,n.mode=QA;case QA:for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Kn(n.check,M,2,0)),l=0,u=0,n.mode=XA;case XA:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Kn(n.check,M,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=KA;case KA:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Kt.arraySet(n.head.extra,r,a,d,B)),n.flags&512&&(n.check=Kn(n.check,r,d,a)),o-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=JA;case JA:if(n.flags&2048){if(o===0)break e;d=0;do B=r[a+d++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&d<o);if(n.flags&512&&(n.check=Kn(n.check,r,d,a)),o-=d,a+=d,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=e2;case e2:if(n.flags&4096){if(o===0)break e;d=0;do B=r[a+d++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&d<o);if(n.flags&512&&(n.check=Kn(n.check,r,d,a)),o-=d,a+=d,B)break e}else n.head&&(n.head.comment=null);n.mode=t2;case t2:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=qe;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=yr;break;case n2:for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}e.adler=n.check=m2(l),l=0,u=0,n.mode=Nc;case Nc:if(n.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,MO;e.adler=n.check=1,n.mode=yr;case yr:if(t===FO||t===Oc)break e;case Gp:if(n.last){l>>>=u&7,u-=u&7,n.mode=Vp;break}for(;u<3;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=r2;break;case 1:if(VO(n),n.mode=zc,t===Oc){l>>>=2,u-=2;break e}break;case 2:n.mode=a2;break;case 3:e.msg="invalid block type",n.mode=qe}l>>>=2,u-=2;break;case r2:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=qe;break}if(n.length=l&65535,l=0,u=0,n.mode=Hp,t===Oc)break e;case Hp:n.mode=i2;case i2:if(d=n.length,d){if(d>o&&(d=o),d>f&&(d=f),d===0)break e;Kt.arraySet(i,r,a,d,s),o-=d,a+=d,f-=d,s+=d,n.length-=d;break}n.mode=yr;break;case a2:for(;u<14;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=qe;break}n.have=0,n.mode=s2;case s2:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.lens[re[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[re[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},F=Ll(DO,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,F){e.msg="invalid code lengths set",n.mode=qe;break}n.have=0,n.mode=o2;case o2:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(S<16)l>>>=w,u-=w,n.lens[n.have++]=S;else{if(S===16){for(N=w+2;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(l>>>=w,u-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=qe;break}B=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(S===17){for(N=w+3;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=w,u-=w,B=0,d=3+(l&7),l>>>=3,u-=3}else{for(N=w+7;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=w,u-=w,B=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=qe;break}for(;d--;)n.lens[n.have++]=B}}if(n.mode===qe)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=qe;break}if(n.lenbits=9,H={bits:n.lenbits},F=Ll(GA,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,F){e.msg="invalid literal/lengths set",n.mode=qe;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},F=Ll(HA,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,F){e.msg="invalid distances set",n.mode=qe;break}if(n.mode=zc,t===Oc)break e;case zc:n.mode=Uc;case Uc:if(o>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,BO(e,h),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=n.hold,u=n.bits,n.mode===yr&&(n.back=-1);break}for(n.back=0;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(v&&!(v&240)){for(_=w,T=v,I=S;y=n.lencode[I+((l&(1<<_+T)-1)>>_)],w=y>>>24,v=y>>>16&255,S=y&65535,!(_+w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=w,u-=w,n.back+=w,n.length=S,v===0){n.mode=h2;break}if(v&32){n.back=-1,n.mode=yr;break}if(v&64){e.msg="invalid literal/length code",n.mode=qe;break}n.extra=v&15,n.mode=l2;case l2:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=f2;case f2:for(;y=n.distcode[l&(1<<n.distbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(!(v&240)){for(_=w,T=v,I=S;y=n.distcode[I+((l&(1<<_+T)-1)>>_)],w=y>>>24,v=y>>>16&255,S=y&65535,!(_+w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=w,u-=w,n.back+=w,v&64){e.msg="invalid distance code",n.mode=qe;break}n.offset=S,n.extra=v&15,n.mode=u2;case u2:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=qe;break}n.mode=c2;case c2:if(f===0)break e;if(d=h-f,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=qe;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=s-n.offset,d=n.length;d>f&&(d=f),f-=d,n.length-=d;do i[s++]=m[p++];while(--d);n.length===0&&(n.mode=Uc);break;case h2:if(f===0)break e;i[s++]=n.length,f--,n.mode=Uc;break;case Vp:if(n.wrap){for(;u<32;){if(o===0)break e;o--,l|=r[a++]<<u,u+=8}if(h-=f,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?Kn(n.check,i,h,s-h):Up(n.check,i,h,s-h)),h=f,(n.flags?l:m2(l))!==n.check){e.msg="incorrect data check",n.mode=qe;break}l=0,u=0}n.mode=d2;case d2:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=qe;break}l=0,u=0}n.mode=p2;case p2:F=RO;break e;case qe:F=jA;break e;case g2:return $A;case LO:default:return cn}return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<qe&&(n.mode<Vp||t!==VA))&&A2(e,e.output,e.next_out,h-e.avail_out),c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?Kn(n.check,i,h,e.next_out-h):Up(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===yr?128:0)+(n.mode===zc||n.mode===Hp?256:0),(c===0&&h===0||t===VA)&&F===fa&&(F=PO),F}function $O(e){if(!e||!e.state)return cn;var t=e.state;return t.window&&(t.window=null),e.state=null,fa}function qO(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?cn:(n.head=t,t.done=!1,fa)}function WO(e,t){var n=t.length,r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Nc)?cn:r.mode===Nc&&(i=1,i=Up(i,t,n,0),i!==r.check)?jA:(a=A2(e,t,n,n),a?(r.mode=g2,$A):(r.havedict=1,fa))}Tn.inflateReset=y2,Tn.inflateReset2=w2,Tn.inflateResetKeep=b2,Tn.inflateInit=HO,Tn.inflateInit2=x2,Tn.inflate=jO,Tn.inflateEnd=$O,Tn.inflateGetHeader=qO,Tn.inflateSetDictionary=WO,Tn.inflateInfo="pako inflate (from Nodeca project)";var E2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function ZO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YO=ZO,ps=Tn,Ol=mr,Gc=oa,rt=E2,qp=Bp,QO=FA,XO=YO,_2=Object.prototype.toString;function ua(e){if(!(this instanceof ua))return new ua(e);this.options=Ol.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new QO,this.strm.avail_out=0;var n=ps.inflateInit2(this.strm,t.windowBits);if(n!==rt.Z_OK)throw new Error(qp[n]);if(this.header=new XO,ps.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Gc.string2buf(t.dictionary):_2.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ps.inflateSetDictionary(this.strm,t.dictionary),n!==rt.Z_OK)))throw new Error(qp[n])}ua.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,s,o,f,l,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof e=="string"?n.input=Gc.binstring2buf(e):_2.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Ol.Buf8(r),n.next_out=0,n.avail_out=r),a=ps.inflate(n,rt.Z_NO_FLUSH),a===rt.Z_NEED_DICT&&i&&(a=ps.inflateSetDictionary(this.strm,i)),a===rt.Z_BUF_ERROR&&u===!0&&(a=rt.Z_OK,u=!1),a!==rt.Z_STREAM_END&&a!==rt.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===rt.Z_STREAM_END||n.avail_in===0&&(s===rt.Z_FINISH||s===rt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Gc.utf8border(n.output,n.next_out),f=n.next_out-o,l=Gc.buf2string(n.output,o),n.next_out=f,n.avail_out=r-f,f&&Ol.arraySet(n.output,n.output,o,f,0),this.onData(l)):this.onData(Ol.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==rt.Z_STREAM_END);return a===rt.Z_STREAM_END&&(s=rt.Z_FINISH),s===rt.Z_FINISH?(a=ps.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===rt.Z_OK):(s===rt.Z_SYNC_FLUSH&&(this.onEnd(rt.Z_OK),n.avail_out=0),!0)},ua.prototype.onData=function(e){this.chunks.push(e)},ua.prototype.onEnd=function(e){e===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ol.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Wp(e,t){var n=new ua(t);if(n.push(e,!0),n.err)throw n.msg||qp[n.err];return n.result}function KO(e,t){return t=t||{},t.raw=!0,Wp(e,t)}Pl.Inflate=ua,Pl.inflate=Wp,Pl.inflateRaw=KO,Pl.ungzip=Wp;var JO=mr.assign,eN=Al,tN=Pl,nN=E2,S2={};JO(S2,eN,tN,nN);var Hc=S2;async function ui(e){try{let t,n=0,r=0;const i=[];let a=0,s;do{const f=e.subarray(n);if(s=new Hc.Inflate,{strm:t}=s,s.push(f,Hc.Z_SYNC_FLUSH),s.err)throw new Error(s.msg);n+=t.next_in,i[r]=s.result,a+=i[r].length,r+=1}while(t.avail_in);const o=new Uint8Array(a);for(let f=0,l=0;f<i.length;f++)o.set(i[f],l),l+=i[f].length;return me.Buffer.from(o)}catch(t){throw`${t}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function C2(e,t){try{let n;const{minv:r,maxv:i}=t;let a=r.blockPosition,s=r.dataPosition;const o=[],f=[],l=[];let u=0,c=0;do{const p=e.subarray(a-r.blockPosition),m=new Hc.Inflate;if({strm:n}=m,m.push(p,Hc.Z_SYNC_FLUSH),m.err)throw new Error(m.msg);const y=m.result;o.push(y);let w=y.length;f.push(a),l.push(s),o.length===1&&r.dataPosition&&(o[0]=o[0].subarray(r.dataPosition),w=o[0].length);const v=a;if(a+=n.next_in,s+=w,v>=i.blockPosition){o[c]=o[c].subarray(0,i.blockPosition===r.blockPosition?i.dataPosition-r.dataPosition+1:i.dataPosition+1),f.push(a),l.push(s),u+=o[c].length;break}u+=o[c].length,c++}while(n.avail_in);const h=new Uint8Array(u);for(let p=0,m=0;p<o.length;p++)h.set(o[p],m),m+=o[p].length;return{buffer:me.Buffer.from(h),cpositions:f,dpositions:l}}catch(n){throw`${n}`.match(/incorrect header check/)?new Error("problem decompressing block: incorrect gzip header check"):n}}var rN=Le,hn=null;try{hn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Le(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}Le.prototype.__isLong__,Object.defineProperty(Le.prototype,"__isLong__",{value:!0});function Vt(e){return(e&&e.__isLong__)===!0}Le.isLong=Vt;var k2={},T2={};function ca(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=T2[e],r)?r:(n=Oe(e,(e|0)<0?-1:0,!0),i&&(T2[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=k2[e],r)?r:(n=Oe(e,e<0?-1:0,!1),i&&(k2[e]=n),n))}Le.fromInt=ca;function dn(e,t){if(isNaN(e))return t?ha:pn;if(t){if(e<0)return ha;if(e>=B2)return P2}else{if(e<=-D2)return jt;if(e+1>=D2)return M2}return e<0?dn(-e,t).neg():Oe(e%gs|0,e/gs|0,t)}Le.fromNumber=dn;function Oe(e,t,n){return new Le(e,t,n)}Le.fromBits=Oe;var Vc=Math.pow;function Zp(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return pn;if(typeof t=="number"?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Zp(e.substring(1),t,n).neg();for(var i=dn(Vc(n,8)),a=pn,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),f=parseInt(e.substring(s,s+o),n);if(o<8){var l=dn(Vc(n,o));a=a.mul(l).add(dn(f))}else a=a.mul(i),a=a.add(dn(f))}return a.unsigned=t,a}Le.fromString=Zp;function In(e,t){return typeof e=="number"?dn(e,t):typeof e=="string"?Zp(e,t):Oe(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Le.fromValue=In;var I2=65536,iN=1<<24,gs=I2*I2,B2=gs*gs,D2=B2/2,F2=ca(iN),pn=ca(0);Le.ZERO=pn;var ha=ca(0,!0);Le.UZERO=ha;var ms=ca(1);Le.ONE=ms;var R2=ca(1,!0);Le.UONE=R2;var Yp=ca(-1);Le.NEG_ONE=Yp;var M2=Oe(-1,2147483647,!1);Le.MAX_VALUE=M2;var P2=Oe(-1,-1,!0);Le.MAX_UNSIGNED_VALUE=P2;var jt=Oe(0,-2147483648,!1);Le.MIN_VALUE=jt;var Q=Le.prototype;Q.toInt=function(){return this.unsigned?this.low>>>0:this.low},Q.toNumber=function(){return this.unsigned?(this.high>>>0)*gs+(this.low>>>0):this.high*gs+(this.low>>>0)},Q.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(jt)){var n=dn(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=dn(Vc(t,6),this.unsigned),s=this,o="";;){var f=s.div(a),l=s.sub(f.mul(a)).toInt()>>>0,u=l.toString(t);if(s=f,s.isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},Q.getHighBits=function(){return this.high},Q.getHighBitsUnsigned=function(){return this.high>>>0},Q.getLowBits=function(){return this.low},Q.getLowBitsUnsigned=function(){return this.low>>>0},Q.getNumBitsAbs=function(){if(this.isNegative())return this.eq(jt)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1},Q.isZero=function(){return this.high===0&&this.low===0},Q.eqz=Q.isZero,Q.isNegative=function(){return!this.unsigned&&this.high<0},Q.isPositive=function(){return this.unsigned||this.high>=0},Q.isOdd=function(){return(this.low&1)===1},Q.isEven=function(){return(this.low&1)===0},Q.equals=function(t){return Vt(t)||(t=In(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},Q.eq=Q.equals,Q.notEquals=function(t){return!this.eq(t)},Q.neq=Q.notEquals,Q.ne=Q.notEquals,Q.lessThan=function(t){return this.comp(t)<0},Q.lt=Q.lessThan,Q.lessThanOrEqual=function(t){return this.comp(t)<=0},Q.lte=Q.lessThanOrEqual,Q.le=Q.lessThanOrEqual,Q.greaterThan=function(t){return this.comp(t)>0},Q.gt=Q.greaterThan,Q.greaterThanOrEqual=function(t){return this.comp(t)>=0},Q.gte=Q.greaterThanOrEqual,Q.ge=Q.greaterThanOrEqual,Q.compare=function(t){if(Vt(t)||(t=In(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Q.comp=Q.compare,Q.negate=function(){return!this.unsigned&&this.eq(jt)?jt:this.not().add(ms)},Q.neg=Q.negate,Q.add=function(t){Vt(t)||(t=In(t));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,f=t.low>>>16,l=t.low&65535,u=0,c=0,h=0,d=0;return d+=a+l,h+=d>>>16,d&=65535,h+=i+f,c+=h>>>16,h&=65535,c+=r+o,u+=c>>>16,c&=65535,u+=n+s,u&=65535,Oe(h<<16|d,u<<16|c,this.unsigned)},Q.subtract=function(t){return Vt(t)||(t=In(t)),this.add(t.neg())},Q.sub=Q.subtract,Q.multiply=function(t){if(this.isZero())return pn;if(Vt(t)||(t=In(t)),hn){var n=hn.mul(this.low,this.high,t.low,t.high);return Oe(n,hn.get_high(),this.unsigned)}if(t.isZero())return pn;if(this.eq(jt))return t.isOdd()?jt:pn;if(t.eq(jt))return this.isOdd()?jt:pn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(F2)&&t.lt(F2))return dn(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,f=t.high&65535,l=t.low>>>16,u=t.low&65535,c=0,h=0,d=0,p=0;return p+=s*u,d+=p>>>16,p&=65535,d+=a*u,h+=d>>>16,d&=65535,d+=s*l,h+=d>>>16,d&=65535,h+=i*u,c+=h>>>16,h&=65535,h+=a*l,c+=h>>>16,h&=65535,h+=s*f,c+=h>>>16,h&=65535,c+=r*u+i*l+a*f+s*o,c&=65535,Oe(d<<16|p,c<<16|h,this.unsigned)},Q.mul=Q.multiply,Q.divide=function(t){if(Vt(t)||(t=In(t)),t.isZero())throw Error("division by zero");if(hn){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?hn.div_u:hn.div_s)(this.low,this.high,t.low,t.high);return Oe(n,hn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ha:pn;var r,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ha;if(t.gt(this.shru(1)))return R2;a=ha}else{if(this.eq(jt)){if(t.eq(ms)||t.eq(Yp))return jt;if(t.eq(jt))return ms;var s=this.shr(1);return r=s.div(t).shl(1),r.eq(pn)?t.isNegative()?ms:Yp:(i=this.sub(t.mul(r)),a=r.add(i.div(t)),a)}else if(t.eq(jt))return this.unsigned?ha:pn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=pn}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),f=o<=48?1:Vc(2,o-48),l=dn(r),u=l.mul(t);u.isNegative()||u.gt(i);)r-=f,l=dn(r,this.unsigned),u=l.mul(t);l.isZero()&&(l=ms),a=a.add(l),i=i.sub(u)}return a},Q.div=Q.divide,Q.modulo=function(t){if(Vt(t)||(t=In(t)),hn){var n=(this.unsigned?hn.rem_u:hn.rem_s)(this.low,this.high,t.low,t.high);return Oe(n,hn.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},Q.mod=Q.modulo,Q.rem=Q.modulo,Q.not=function(){return Oe(~this.low,~this.high,this.unsigned)},Q.and=function(t){return Vt(t)||(t=In(t)),Oe(this.low&t.low,this.high&t.high,this.unsigned)},Q.or=function(t){return Vt(t)||(t=In(t)),Oe(this.low|t.low,this.high|t.high,this.unsigned)},Q.xor=function(t){return Vt(t)||(t=In(t)),Oe(this.low^t.low,this.high^t.high,this.unsigned)},Q.shiftLeft=function(t){return Vt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Oe(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Oe(0,this.low<<t-32,this.unsigned)},Q.shl=Q.shiftLeft,Q.shiftRight=function(t){return Vt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Oe(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Oe(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Q.shr=Q.shiftRight,Q.shiftRightUnsigned=function(t){if(Vt(t)&&(t=t.toInt()),t&=63,t===0)return this;var n=this.high;if(t<32){var r=this.low;return Oe(r>>>t|n<<32-t,n>>>t,this.unsigned)}else return t===32?Oe(n,0,this.unsigned):Oe(n>>>t-32,0,this.unsigned)},Q.shru=Q.shiftRightUnsigned,Q.shr_u=Q.shiftRightUnsigned,Q.toSigned=function(){return this.unsigned?Oe(this.low,this.high,!1):this},Q.toUnsigned=function(){return this.unsigned?this:Oe(this.low,this.high,!0)},Q.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Q.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},Q.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Le.fromBytes=function(t,n,r){return r?Le.fromBytesLE(t,n):Le.fromBytesBE(t,n)},Le.fromBytesLE=function(t,n){return new Le(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Le.fromBytesBE=function(t,n){return new Le(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};const jc=xl(rN),$c=1;class aN{constructor({filehandle:t,path:n}){if(t)this.filehandle=t;else if(n)this.filehandle=new dt(n);else throw new TypeError("either filehandle or path must be defined")}_readLongWithOverflow(t,n=0,r=!0){const i=jc.fromBytesLE(t.slice(n,n+8),r);if(i.greaterThan(Number.MAX_SAFE_INTEGER)||i.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return i.toNumber()}_getIndex(){return this.index||(this.index=this._readIndex()),this.index}async _readIndex(){let t=me.Buffer.allocUnsafe(8);await this.filehandle.read(t,0,8,0);const n=this._readLongWithOverflow(t,0,!0);if(!n)return[[0,0]];const r=new Array(n+1);r[0]=[0,0];const i=8*2*n;if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");t=me.Buffer.allocUnsafe(i),await this.filehandle.read(t,0,i,8);for(let a=0;a<n;a+=1){const s=this._readLongWithOverflow(t,a*16),o=this._readLongWithOverflow(t,a*16+8);r[a+1]=[s,o]}return r}async getLastBlock(){const t=await this._getIndex();if(t.length)return t[t.length-1]}async getRelevantBlocksForRead(t,n){const r=n+t;if(t===0)return[];const i=await this._getIndex(),a=[],s=(h,d)=>{const p=h[$c],m=d?d[$c]:1/0;return p<=n&&m>n?0:p<n?-1:1};let o=0,f=i.length-1,l=Math.floor(i.length/2),u=s(i[l],i[l+1]);for(;u!==0;)u>0?f=l-1:u<0&&(o=l+1),l=Math.ceil((f-o)/2)+o,u=s(i[l],i[l+1]);a.push(i[l]);let c=l+1;for(;c<i.length&&(a.push(i[c]),!(i[c][$c]>=r));c+=1);return a[a.length-1][$c]<r&&a.push([]),a}}class L2{constructor({filehandle:t,path:n,gziFilehandle:r,gziPath:i}){if(t)this.filehandle=t;else if(n)this.filehandle=new dt(n);else throw new TypeError("either filehandle or path must be defined");if(!r&&!i&&!n)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new aN({filehandle:r,path:!r&&!i&&n?i:`${n}.gzi`})}async stat(){const t=await this.filehandle.stat();return Object.assign(t,{size:await this.getUncompressedFileSize(),blocks:void 0,blksize:void 0})}async getUncompressedFileSize(){const[,t]=await this.gzi.getLastBlock(),{size:n}=await this.filehandle.stat(),r=me.Buffer.allocUnsafe(4),{bytesRead:i}=await this.filehandle.read(r,0,4,n-28-4);if(i!==4)throw new Error("read error");const a=r.readUInt32LE(0);return t+a}async _readAndUncompressBlock(t,[n],[r]){let i=r;i||(i=(await this.filehandle.stat()).size);const a=i-n;return await this.filehandle.read(t,0,a,n),await ui(t.slice(0,a))}async read(t,n,r,i){const a=await this.gzi.getRelevantBlocksForRead(r,i),s=me.Buffer.allocUnsafe(32768*2);let o=n,f=0;for(let l=0;l<a.length-1;l+=1){const u=await this._readAndUncompressBlock(s,a[l],a[l+1]),[,c]=a[l],h=c>=i?0:i-c,d=Math.min(i+r,c+u.length)-c;h>=0&&h<u.length&&(u.copy(t,o,h,d),o+=d-h,f+=d-h)}return{bytesRead:f,buffer:t}}}function O2(e,t){return e.offset+e.lineBytes*Math.floor(t/e.lineLength)+t%e.lineLength}async function sN(e,t){const n=await e.readFile(t);if(!(n&&n.length))throw new Error("No data read from FASTA index (FAI) file");let r=0,i;const a=n.toString("utf8").split(/\r?\n/).filter(s=>/\S/.test(s)).map(s=>s.split("	")).filter(s=>s[0]!=="").map(s=>((!i||i.name!==s[0])&&(i={name:s[0],id:r},r+=1),{id:i.id,name:s[0],length:+s[1],start:0,end:+s[1],offset:+s[2],lineLength:+s[3],lineBytes:+s[4]}));return{name:Object.fromEntries(a.map(s=>[s.name,s])),id:Object.fromEntries(a.map(s=>[s.id,s]))}}class N2{constructor({fasta:t,fai:n,path:r,faiPath:i,chunkSizeLimit:a=1e6}){if(t)this.fasta=t;else if(r)this.fasta=new dt(r);else throw new Error("Need to pass filehandle for fasta or path to localfile");if(n)this.fai=n;else if(i)this.fai=new dt(i);else if(r)this.fai=new dt(`${r}.fai`);else throw new Error("Need to pass filehandle for  or path to localfile");this.chunkSizeLimit=a}async _getIndexes(t){return this.indexes||(this.indexes=sN(this.fai,t)),this.indexes}async getSequenceNames(t){return Object.keys((await this._getIndexes(t)).name)}async getSequenceSizes(t){const n={},r=await this._getIndexes(t),i=Object.values(r.id);for(let a=0;a<i.length;a+=1)n[i[a].name]=i[a].length;return n}async getSequenceSize(t,n){var r;return(r=(await this._getIndexes(n)).name[t])===null||r===void 0?void 0:r.length}async hasReferenceSequence(t,n){return!!(await this._getIndexes(n)).name[t]}async getResiduesById(t,n,r,i){const a=(await this._getIndexes(i)).id[t];if(a)return this._fetchFromIndexEntry(a,n,r,i)}async getResiduesByName(t,n,r,i){const a=(await this._getIndexes(i)).name[t];if(a)return this._fetchFromIndexEntry(a,n,r,i)}async getSequence(t,n,r,i){return this.getResiduesByName(t,n,r,i)}async _fetchFromIndexEntry(t,n=0,r,i){let a=r;if(n<0)throw new TypeError("regionStart cannot be less than 0");if((a===void 0||a>t.length)&&(a=t.length),n>=a)return"";const s=O2(t,n),o=O2(t,a)-s;if(o>this.chunkSizeLimit)throw new Error(`data size of ${o.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`);const f=Buffer.allocUnsafe(o);return await this.fasta.read(f,0,o,s,i),f.toString("utf8").replace(/\s+/g,"")}}class oN extends N2{constructor({fasta:t,path:n,fai:r,faiPath:i,gzi:a,gziPath:s,chunkSizeLimit:o}){super({fasta:t,path:n,fai:r,faiPath:i,chunkSizeLimit:o}),t&&a?this.fasta=new L2({filehandle:t,gziFilehandle:a}):n&&s&&(this.fasta=new L2({path:n,gziPath:s}))}}function z2(e){return e.split(">").filter(t=>/\S/.test(t)).map(t=>{const[n,...r]=t.split(`
`),[i,...a]=n.split(" "),s=r.join("").replace(/\s/g,"");return{id:i,description:a.join(" "),sequence:s}})}class lN{constructor({fasta:t,path:n}){if(t)this.fasta=t;else if(n)this.fasta=new dt(n);else throw new Error("Need to pass fasta or path");this.data=this.fasta.readFile().then(r=>{const i=r.toString("utf8");return z2(i)})}async fetch(t,n,r){const a=(await this.data).find(o=>o.id===t),s=r-n;if(!a)throw new Error(`no sequence with id ${t} exists`);return a.sequence.substr(n,s)}async getSequenceNames(){return(await this.data).map(n=>n.id)}}const fN=Object.freeze(Object.defineProperty({__proto__:null,BgzipIndexedFasta:oN,FetchableSmallFasta:lN,IndexedFasta:N2,parseSmallFasta:z2},Symbol.toStringTag,{value:"Module"})),qc=BigInt(32);function uN(e,t,n){const r=+!!n,i=+!n;return BigInt(e.getInt32(t,n)*i+e.getInt32(t+4,n)*r)<<qc|BigInt(e.getUint32(t,n)*r+e.getUint32(t+4,n)*i)}function cN(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n),a=+!!n,s=+!n;return BigInt(r*s+i*a)<<qc|BigInt(r*a+i*s)}function hN(e,t,n,r){const i=Number(n>>qc),a=Number(n&BigInt(4294967295));r?(e.setInt32(t+4,i,r),e.setUint32(t,a,r)):(e.setInt32(t,i,r),e.setUint32(t+4,a,r))}function dN(e,t,n,r){const i=Number(n>>qc),a=Number(n&BigInt(4294967295));r?(e.setUint32(t+4,i,r),e.setUint32(t,a,r)):(e.setUint32(t,i,r),e.setUint32(t+4,a,r))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(e,t){return uN(this,e,t)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(e,t){return cN(this,e,t)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(e,t,n){hN(this,e,t,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(e,t,n){dN(this,e,t,n)});class pN{constructor(t,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=n}generateVariable(t){const n=[...this.scopes[this.scopes.length-1]];return t&&n.push(t),n.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let n=this.reverseImports.get(t);return n||(n=this.imports.push(t)-1,this.reverseImports.set(t,n)),`${this.importPath}[${n}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){const n=this.references.get(t);n&&(n.resolved=!0)}markRequested(t){t.forEach(n=>{const r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,n])=>!n.resolved&&!n.requested).map(([t,n])=>t)}}const Bn=new Map,da="___parser_",Dn={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Wc={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Zc={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1};let Be=class Pn{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new Pn}primitiveGenerateN(t,n){const r=Wc[t],i=Zc[t];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Dn[t]};`)}primitiveN(t,n,r){return this.setNextParser(t,n,r)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,n={}){return this.primitiveN("uint8",t,n)}uint16(t,n={}){return this.primitiveN(this.useThisEndian("uint16"),t,n)}uint16le(t,n={}){return this.primitiveN("uint16le",t,n)}uint16be(t,n={}){return this.primitiveN("uint16be",t,n)}uint32(t,n={}){return this.primitiveN(this.useThisEndian("uint32"),t,n)}uint32le(t,n={}){return this.primitiveN("uint32le",t,n)}uint32be(t,n={}){return this.primitiveN("uint32be",t,n)}int8(t,n={}){return this.primitiveN("int8",t,n)}int16(t,n={}){return this.primitiveN(this.useThisEndian("int16"),t,n)}int16le(t,n={}){return this.primitiveN("int16le",t,n)}int16be(t,n={}){return this.primitiveN("int16be",t,n)}int32(t,n={}){return this.primitiveN(this.useThisEndian("int32"),t,n)}int32le(t,n={}){return this.primitiveN("int32le",t,n)}int32be(t,n={}){return this.primitiveN("int32be",t,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,n)}int64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,n)}int64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,n)}uint64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,n)}uint64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,n)}uint64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,n)}floatle(t,n={}){return this.primitiveN("floatle",t,n)}floatbe(t,n={}){return this.primitiveN("floatbe",t,n)}doublele(t,n={}){return this.primitiveN("doublele",t,n)}doublebe(t,n={}){return this.primitiveN("doublebe",t,n)}bitN(t,n,r){return r.length=t,this.setNextParser("bit",n,r)}bit1(t,n={}){return this.bitN(1,t,n)}bit2(t,n={}){return this.bitN(2,t,n)}bit3(t,n={}){return this.bitN(3,t,n)}bit4(t,n={}){return this.bitN(4,t,n)}bit5(t,n={}){return this.bitN(5,t,n)}bit6(t,n={}){return this.bitN(6,t,n)}bit7(t,n={}){return this.bitN(7,t,n)}bit8(t,n={}){return this.bitN(8,t,n)}bit9(t,n={}){return this.bitN(9,t,n)}bit10(t,n={}){return this.bitN(10,t,n)}bit11(t,n={}){return this.bitN(11,t,n)}bit12(t,n={}){return this.bitN(12,t,n)}bit13(t,n={}){return this.bitN(13,t,n)}bit14(t,n={}){return this.bitN(14,t,n)}bit15(t,n={}){return this.bitN(15,t,n)}bit16(t,n={}){return this.bitN(16,t,n)}bit17(t,n={}){return this.bitN(17,t,n)}bit18(t,n={}){return this.bitN(18,t,n)}bit19(t,n={}){return this.bitN(19,t,n)}bit20(t,n={}){return this.bitN(20,t,n)}bit21(t,n={}){return this.bitN(21,t,n)}bit22(t,n={}){return this.bitN(22,t,n)}bit23(t,n={}){return this.bitN(23,t,n)}bit24(t,n={}){return this.bitN(24,t,n)}bit25(t,n={}){return this.bitN(25,t,n)}bit26(t,n={}){return this.bitN(26,t,n)}bit27(t,n={}){return this.bitN(27,t,n)}bit28(t,n={}){return this.bitN(28,t,n)}bit29(t,n={}){return this.bitN(29,t,n)}bit30(t,n={}){return this.bitN(30,t,n)}bit31(t,n={}){return this.bitN(31,t,n)}bit32(t,n={}){return this.bitN(32,t,n)}namely(t){return Bn.set(t,this),this.alias=t,this}skip(t,n={}){return this.seek(t,n)}seek(t,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",t,n)}buffer(t,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,n)}wrapped(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,n)}array(t,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Bn.has(n.type)&&!(n.type in Dn))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",t,n)}choice(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(const r in n.choices){const i=parseInt(r,10),a=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof a=="string"&&!Bn.has(a)&&!(a in Dn))throw new Error(`Choice type "${a}" is unkown.`)}return this.setNextParser("choice",t,n)}nest(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof Pn)&&!Bn.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof Pn)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,n)}pointer(t,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Dn)&&!Bn.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",t,n)}saveOffset(t,n={}){return this.setNextParser("saveOffset",t,n)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){const n=new pN(t,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${da+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){const t="imports";return this.getContext(t).code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${da+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){const n=t.getUnresolvedReferences();t.markRequested(n),n.forEach(r=>{var i;(i=Bn.get(r))===null||i===void 0||i.addAliasedCode(t)})}compile(){const t="imports",n=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys(Dn).indexOf(this.type)>=0)t=Dn[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Dn[this.options.type]:this.options.type instanceof Pn&&(n=this.options.type.sizeOf()),t=this.options.length*n}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,n,r){const i=new Pn;return i.type=t,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}const n=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,n,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;const n=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const r=t.addImport(this.options.assert);t.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){const n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=t.generateVariable(n.varName),t.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const r=t.generateTmpVariable();t.pushCode(`var ${r} = 0;`);const i=(u=0)=>{let c=0;for(let h=u;h<t.bitFields.length;h++){const d=t.bitFields[h].options.length;if(c+d>32)break;c+=d}return c},a=u=>(u<=8?(t.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${r} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u);let s=0;const o=this.endian==="be";let f=0,l=0;t.bitFields.forEach((u,c)=>{let h=u.options.length;if(h>l){if(l){const m=-1>>>32-l;t.pushCode(`${u.varName} = (${r} & 0x${m.toString(16)}) << ${h-l};`),h-=l}s=0,l=f=a(i(c)-l)}const d=o?f-s-h:s,p=-1>>>32-h;t.pushCode(`${u.varName} ${h<u.options.length?"|=":"="} ${r} >> ${d} & 0x${p.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),s+=h,l-=h}),t.bitFields=[]}}generateSeek(t){const n=t.generateOption(this.options.length);t.pushCode(`offset += ${n};`)}generateString(t){const n=t.generateVariable(this.varName),r=t.generateTmpVariable(),i=this.options.encoding,a=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const o=this.options.length;t.pushCode(`var ${r} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${o});`);const f=`offset - ${r} < ${o} ? offset - 1 : offset`;t.pushCode(a?`${n} = Array.from(buffer.subarray(${r}, ${f}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${f}));`)}else if(this.options.length){const o=t.generateOption(this.options.length);t.pushCode(a?`${n} = Array.from(buffer.subarray(offset, offset + ${o}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${o}));`),t.pushCode(`offset += ${o};`)}else this.options.zeroTerminated?(t.pushCode(`var ${r} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(a?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${r} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(a?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&t.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(t){const n=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){const r=this.options.readUntil,i=t.generateTmpVariable(),a=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${a} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${a} = dataView.getUint8(offset);`);const s=t.addImport(r);t.pushCode(`if (${s}.call(${t.generateVariable()}, ${a}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{const r=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),t.pushCode(`offset += ${r};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(t){const n=t.generateOption(this.options.length),r=t.generateOption(this.options.lengthInBytes),i=this.options.type,a=t.generateTmpVariable(),s=t.generateVariable(this.varName),o=t.generateTmpVariable(),f=this.options.key,l=typeof f=="string";if(l?t.pushCode(`${s} = {};`):t.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${a} = 0; offset < buffer.length; ${a}++) {`):r!==void 0?t.pushCode(`for (var ${a} = offset + ${r}; offset < ${a}; ) {`):t.pushCode(`for (var ${a} = ${n}; ${a} > 0; ${a}--) {`),typeof i=="string")if(Bn.get(i)){const u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${da+i}(offset, {`),t.useContextVariables){const c=t.generateVariable();t.pushCode(`$parent: ${c},`),t.pushCode(`$root: ${c}.$root,`),!this.options.readUntil&&r===void 0&&t.pushCode(`$index: ${n} - ${a},`)}t.pushCode("});"),t.pushCode(`var ${o} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{const u=Wc[i],c=Zc[i];t.pushCode(`var ${o} = dataView.get${u}(offset, ${c});`),t.pushCode(`offset += ${Dn[i]};`)}else if(i instanceof Pn){t.pushCode(`var ${o} = {};`);const u=t.generateVariable();t.pushScope(o),t.useContextVariables&&(t.pushCode(`${o}.$parent = ${u};`),t.pushCode(`${o}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&t.pushCode(`${o}.$index = ${n} - ${a};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${o}.$parent;`),t.pushCode(`delete ${o}.$root;`),t.pushCode(`delete ${o}.$index;`)),t.popScope()}if(l?t.pushCode(`${s}[${o}.${f}] = ${o};`):t.pushCode(`${s}.push(${o});`),t.pushCode("}"),typeof this.options.readUntil=="function"){const u=this.options.readUntil,c=t.addImport(u);t.pushCode(`while (!${c}.call(${t.generateVariable()}, ${o}, buffer.subarray(offset)));`)}}generateChoiceCase(t,n,r){if(typeof r=="string"){const i=t.generateVariable(this.varName);if(Bn.has(r)){const a=t.generateTmpVariable();t.pushCode(`var ${a} = ${da+r}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${a}.result; offset = ${a}.offset;`),r!==this.alias&&t.addReference(r)}else{const a=Wc[r],s=Zc[r];t.pushCode(`${i} = dataView.get${a}(offset, ${s});`),t.pushCode(`offset += ${Dn[r]}`)}}else r instanceof Pn&&(t.pushPath(n),r.generate(t),t.popPath(n))}generateChoice(t){const n=t.generateOption(this.options.tag),r=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${r} = {};`),t.useContextVariables)){const i=t.generateVariable();t.pushCode(`${r}.$parent = ${i};`),t.pushCode(`${r}.$root = ${i}.$root;`)}t.pushCode(`switch(${n}) {`);for(const i in this.options.choices){const a=parseInt(i,10),s=this.options.choices[a];t.pushCode(`case ${a}:`),this.generateChoiceCase(t,this.varName,s),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${n} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${r}.$parent;`),t.pushCode(`delete ${r}.$root;`))}generateNest(t){const n=t.generateVariable(this.varName);if(this.options.type instanceof Pn){if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){const r=t.generateVariable();t.pushCode(`${n}.$parent = ${r};`),t.pushCode(`${n}.$root = ${r}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}else if(Bn.has(this.options.type)){const r=t.generateTmpVariable();if(t.pushCode(`var ${r} = ${da+this.options.type}(offset, {`),t.useContextVariables){const i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){const n=t.generateVariable(this.varName),r=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){const f=this.options.readUntil,l=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${l} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);const c=t.addImport(f);t.pushCode(`if (${c}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${r} = buffer.subarray(offset);`);else{const f=t.generateOption(this.options.length);t.pushCode(`${r} = buffer.subarray(offset, offset + ${f});`),t.pushCode(`offset += ${f};`)}this.options.clone&&t.pushCode(`${r} = buffer.constructor.from(${r});`);const i=t.generateTmpVariable(),a=t.generateTmpVariable(),s=t.generateTmpVariable(),o=t.addImport(this.options.wrapper);if(t.pushCode(`${r} = ${o}.call(this, ${r}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${a} = offset;`),t.pushCode(`var ${s} = dataView;`),t.pushCode(`buffer = ${r};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof Pn)this.varName&&t.pushCode(`${n} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(Bn.has(this.options.type)){const f=t.generateTmpVariable();t.pushCode(`var ${f} = ${da+this.options.type}(0);`),t.pushCode(`${n} = ${f}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${s};`),t.pushCode(`offset = ${a};`)}generateFormatter(t,n,r){if(typeof r=="function"){const i=t.addImport(r);t.pushCode(`${n} = ${i}.call(${t.generateVariable()}, ${n});`)}}generatePointer(t){const n=this.options.type,r=t.generateOption(this.options.offset),i=t.generateTmpVariable(),a=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${r};`),this.options.type instanceof Pn){if(t.pushCode(`${a} = {};`),t.useContextVariables){const s=t.generateVariable();t.pushCode(`${a}.$parent = ${s};`),t.pushCode(`${a}.$root = ${s}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${a}.$parent;`),t.pushCode(`delete ${a}.$root;`))}else if(Bn.has(this.options.type)){const s=t.generateTmpVariable();if(t.pushCode(`var ${s} = ${da+this.options.type}(offset, {`),t.useContextVariables){const o=t.generateVariable();t.pushCode(`$parent: ${o},`),t.pushCode(`$root: ${o}.$root,`)}t.pushCode("});"),t.pushCode(`${a} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys(Dn).indexOf(this.options.type)>=0){const s=Wc[n],o=Zc[n];t.pushCode(`${a} = dataView.get${s}(offset, ${o});`),t.pushCode(`offset += ${Dn[n]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){const n=t.generateVariable(this.varName);t.pushCode(`${n} = offset`)}};var U2={},Qp={},pa={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});function Xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(e,t,n){return t&&G2(e.prototype,t),n&&G2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bs(e)}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jp(e,t)}function mN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}function yN(e){var t=mN();return function(){var r=bs(e),i;if(t){var a=bs(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return bN(this,i)}}function wN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=bs(e),e!==null););return e}function Yc(){return typeof Reflect<"u"&&Reflect.get?Yc=Reflect.get.bind():Yc=function(t,n,r){var i=wN(t,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(arguments.length<3?t:r):a.value}},Yc.apply(this,arguments)}var H2=function(){function e(){Xp(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return Kp(e,[{key:"addEventListener",value:function(n,r,i){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push({callback:r,options:i})}},{key:"removeEventListener",value:function(n,r){if(n in this.listeners){for(var i=this.listeners[n],a=0,s=i.length;a<s;a++)if(i[a].callback===r){i.splice(a,1);return}}}},{key:"dispatchEvent",value:function(n){if(n.type in this.listeners){for(var r=this.listeners[n.type],i=r.slice(),a=0,s=i.length;a<s;a++){var o=i[a];try{o.callback.call(this,n)}catch(f){Promise.resolve().then(function(){throw f})}o.options&&o.options.once&&this.removeEventListener(n.type,o.callback)}return!n.defaultPrevented}}}]),e}(),eg=function(e){gN(n,e);var t=yN(n);function n(){var r;return Xp(this,n),r=t.call(this),r.listeners||H2.call(zl(r)),Object.defineProperty(zl(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(zl(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(zl(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return Kp(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),Yc(bs(n.prototype),"dispatchEvent",this).call(this,i)}}]),n}(H2),V2=function(){function e(){Xp(this,e),Object.defineProperty(this,"signal",{value:new eg,writable:!0,configurable:!0})}return Kp(e,[{key:"abort",value:function(n){var r;try{r=new Event("abort")}catch{typeof document<"u"?document.createEvent?(r=document.createEvent("Event"),r.initEvent("abort",!1,!1)):(r=document.createEventObject(),r.type="abort"):r={type:"abort",bubbles:!1,cancelable:!1}}var i=n;if(i===void 0)if(typeof document>"u")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch{i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();typeof Symbol<"u"&&Symbol.toStringTag&&(V2.prototype[Symbol.toStringTag]="AbortController",eg.prototype[Symbol.toStringTag]="AbortSignal");function xN(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof e.Request=="function"&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}function vN(e){typeof e=="function"&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=r===void 0?n.Request:r,a=t.AbortController,s=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,o=s===void 0?!1:s;if(!xN({fetch:n,Request:i,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:o}))return{fetch:n,Request:f};var f=i;(f&&!f.prototype.hasOwnProperty("signal")||o)&&(f=function(h,d){var p;d&&d.signal&&(p=d.signal,delete d.signal);var m=new i(h,d);return p&&Object.defineProperty(m,"signal",{writable:!1,enumerable:!1,configurable:!0,value:p}),m},f.prototype=i.prototype);var l=n,u=function(h,d){var p=f&&f.prototype.isPrototypeOf(h)?h.signal:d?d.signal:void 0;if(p){var m;try{m=new DOMException("Aborted","AbortError")}catch{m=new Error("Aborted"),m.name="AbortError"}if(p.aborted)return Promise.reject(m);var y=new Promise(function(w,v){p.addEventListener("abort",function(){return v(m)},{once:!0})});return d&&d.signal&&delete d.signal,Promise.race([y,l(h,d)])}return l(h,d)};return{fetch:u,Request:f}}Nl.AbortController=V2,Nl.AbortSignal=eg,Nl.abortableFetch=vN,Object.defineProperty(pa,"__esModule",{value:!0}),pa.AbortSignal=pa.AbortController=void 0;const j2=Nl;var Qc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof on<"u")return on;throw new Error("unable to locate global object")};let AN=typeof Qc().AbortController>"u"?j2.AbortController:Qc().AbortController;pa.AbortController=AN;let EN=typeof Qc().AbortController>"u"?j2.AbortSignal:Qc().AbortSignal;pa.AbortSignal=EN;var tg={};Object.defineProperty(tg,"__esModule",{value:!0});const _N=pa;class SN{}class CN{constructor(){this.signals=new Set,this.abortController=new _N.AbortController}addSignal(t=new SN){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}tg.default=CN;var ng={};Object.defineProperty(ng,"__esModule",{value:!0});class kN{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t,this.callbacks.forEach(n=>{n(t)})}}ng.default=kN;var $2=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qp,"__esModule",{value:!0});const TN=pa,IN=$2(tg),BN=$2(ng);class Xc{constructor({fill:t,cache:n}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof n!="object")throw new TypeError("must pass a cache object");if(typeof n.get!="function"||typeof n.set!="function"||typeof n.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,n){this.cache.get(t)===n&&this.cache.delete(t)}fill(t,n,r,i){const a=new IN.default,s=new BN.default;s.addCallback(i);const o={aborter:a,promise:this.fillCallback(n,a.signal,f=>{s.callback(f)}),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};o.aborter.addSignal(r),o.aborter.signal.addEventListener("abort",()=>{o.settled||this.evict(t,o)}),o.promise.then(()=>{o.settled=!0},()=>{o.settled=!0,this.evict(t,o)}).catch(f=>{throw console.error(f),f}),this.cache.set(t,o)}static checkSinglePromise(t,n){function r(){if(n&&n.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(r(),i),i=>{throw r(),i})}has(t){return this.cache.has(t)}get(t,n,r,i){if(!r&&n instanceof TN.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const a=this.cache.get(t);return a?a.aborted&&!a.settled?(this.evict(t,a),this.get(t,n,r,i)):a.settled?a.promise:(a.aborter.addSignal(r),a.statusReporter.addCallback(i),Xc.checkSinglePromise(a.promise,r)):(this.fill(t,n,r,i),Xc.checkSinglePromise(this.cache.get(t).promise,r))}delete(t){const n=this.cache.get(t);n&&(n.settled||n.aborter.abort(),this.cache.delete(t))}clear(){const t=this.cache.keys();let n=0;for(let r=t.next();!r.done;r=t.next())this.delete(r.value),n+=1;return n}}Qp.default=Xc;var DN=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U2,"__esModule",{value:!0});const FN=DN(Qp);var Kc=U2.default=FN.default;class RN{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){this.cache.set(t,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return this._size+t}}var MN=RN;const Jc=xl(MN);class ci{constructor(t,n){this.ranges=arguments.length===2?[{min:t,max:n}]:0 in t?Object.assign({},t):[t]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(t){for(let n=0;n<this.ranges.length;n+=1){const r=this.ranges[n];if(r.min<=t&&r.max>=t)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new ci(t.min,t.max))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){const n=this.getRanges().concat(t.getRanges()).sort(this.rangeOrder),r=[];let i=n[0];for(let a=1;a<n.length;a+=1){const s=n[a];s.min()>i.max()+1?(r.push(i),i=s):s.max()>i.max()&&(i=new ci(i.min(),s.max()))}return r.push(i),r.length===1?r[0]:new ci(r)}intersection(t){let n=this,r=t;const i=this.ranges(),a=r.ranges(),s=i.length,o=a.length;let f=0,l=0;const u=[];for(;f<s&&l<o;){n=i[f],r=a[l];const c=Math.max(n.min(),r.min()),h=Math.min(n.max(),r.max());h>=c&&u.push(new ci(c,h)),n.max()>r.max()?l+=1:f+=1}if(u.length===0)throw new Error("found range of length 0");return u.length===1?u[0]:new ci(u)}coverage(){let t=0;const n=this.ranges();for(const r of n)t+=r.max()-r.min()+1;return t}rangeOrder(t,n){let r=t,i=n;return arguments.length<2&&(i=r,r=this),r.min()<i.min()?-1:r.min()>i.min()?1:r.max()<i.max()?-1:i.max()>r.max()?1:0}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const PN=4,q2=0,W2=1,LN=2;function ys(e){let t=e.length;for(;--t>=0;)e[t]=0}const ON=0,Z2=1,NN=2,zN=3,UN=258,rg=29,Ul=256,Gl=Ul+1+rg,ws=30,ig=19,Y2=2*Gl+1,ga=15,ag=16,GN=7,sg=256,Q2=16,X2=17,K2=18,og=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eh=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),HN=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),J2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VN=512,wr=new Array((Gl+2)*2);ys(wr);const Hl=new Array(ws*2);ys(Hl);const Vl=new Array(VN);ys(Vl);const jl=new Array(UN-zN+1);ys(jl);const lg=new Array(rg);ys(lg);const th=new Array(ws);ys(th);function fg(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let eE,tE,nE;function ug(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const rE=e=>e<256?Vl[e]:Vl[256+(e>>>7)],$l=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},$t=(e,t,n)=>{e.bi_valid>ag-n?(e.bi_buf|=t<<e.bi_valid&65535,$l(e,e.bi_buf),e.bi_buf=t>>ag-e.bi_valid,e.bi_valid+=n-ag):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Jn=(e,t,n)=>{$t(e,n[t*2],n[t*2+1])},iE=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},jN=e=>{e.bi_valid===16?($l(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},$N=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,f=t.stat_desc.max_length;let l,u,c,h,d,p,m=0;for(h=0;h<=ga;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Y2;l++)u=e.heap[l],h=n[n[u*2+1]*2+1]+1,h>f&&(h=f,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=o&&(d=s[u-o]),p=n[u*2],e.opt_len+=p*(h+d),a&&(e.static_len+=p*(i[u*2+1]+d)));if(m!==0){do{for(h=f-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(h=f;h!==0;h--)for(u=e.bl_count[h];u!==0;)c=e.heap[--l],!(c>r)&&(n[c*2+1]!==h&&(e.opt_len+=(h-n[c*2+1])*n[c*2],n[c*2+1]=h),u--)}},aE=(e,t,n)=>{const r=new Array(ga+1);let i=0,a,s;for(a=1;a<=ga;a++)i=i+n[a-1]<<1,r[a]=i;for(s=0;s<=t;s++){let o=e[s*2+1];o!==0&&(e[s*2]=iE(r[o]++,o))}},qN=()=>{let e,t,n,r,i;const a=new Array(ga+1);for(n=0,r=0;r<rg-1;r++)for(lg[r]=n,e=0;e<1<<og[r];e++)jl[n++]=r;for(jl[n-1]=r,i=0,r=0;r<16;r++)for(th[r]=i,e=0;e<1<<eh[r];e++)Vl[i++]=r;for(i>>=7;r<ws;r++)for(th[r]=i<<7,e=0;e<1<<eh[r]-7;e++)Vl[256+i++]=r;for(t=0;t<=ga;t++)a[t]=0;for(e=0;e<=143;)wr[e*2+1]=8,e++,a[8]++;for(;e<=255;)wr[e*2+1]=9,e++,a[9]++;for(;e<=279;)wr[e*2+1]=7,e++,a[7]++;for(;e<=287;)wr[e*2+1]=8,e++,a[8]++;for(aE(wr,Gl+1,a),e=0;e<ws;e++)Hl[e*2+1]=5,Hl[e*2]=iE(e,5);eE=new fg(wr,og,Ul+1,Gl,ga),tE=new fg(Hl,eh,0,ws,ga),nE=new fg(new Array(0),HN,0,ig,GN)},sE=e=>{let t;for(t=0;t<Gl;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ws;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ig;t++)e.bl_tree[t*2]=0;e.dyn_ltree[sg*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},oE=e=>{e.bi_valid>8?$l(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},lE=(e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},cg=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&lE(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!lE(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},fE=(e,t,n)=>{let r,i,a=0,s,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?Jn(e,i,t):(s=jl[i],Jn(e,s+Ul+1,t),o=og[s],o!==0&&(i-=lg[s],$t(e,i,o)),r--,s=rE(r),Jn(e,s,n),o=eh[s],o!==0&&(r-=th[s],$t(e,r,o)));while(a<e.sym_next);Jn(e,sg,t)},hg=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,f=-1,l;for(e.heap_len=0,e.heap_max=Y2,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=f,s=e.heap_len>>1;s>=1;s--)cg(e,n,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],cg(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[l*2]=n[s*2]+n[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[s*2+1]=n[o*2+1]=l,e.heap[1]=l++,cg(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],$N(e,t),aE(n,f,e.bl_count)},uE=(e,t,n)=>{let r,i=-1,a,s=t[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++o<f&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[Q2*2]++):o<=10?e.bl_tree[X2*2]++:e.bl_tree[K2*2]++,o=0,i=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4))},cE=(e,t,n)=>{let r,i=-1,a,s=t[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++o<f&&a===s)){if(o<l)do Jn(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Jn(e,a,e.bl_tree),o--),Jn(e,Q2,e.bl_tree),$t(e,o-3,2)):o<=10?(Jn(e,X2,e.bl_tree),$t(e,o-3,3)):(Jn(e,K2,e.bl_tree),$t(e,o-11,7));o=0,i=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4)}},WN=e=>{let t;for(uE(e,e.dyn_ltree,e.l_desc.max_code),uE(e,e.dyn_dtree,e.d_desc.max_code),hg(e,e.bl_desc),t=ig-1;t>=3&&e.bl_tree[J2[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},ZN=(e,t,n,r)=>{let i;for($t(e,t-257,5),$t(e,n-1,5),$t(e,r-4,4),i=0;i<r;i++)$t(e,e.bl_tree[J2[i]*2+1],3);cE(e,e.dyn_ltree,t-1),cE(e,e.dyn_dtree,n-1)},YN=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return q2;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return W2;for(n=32;n<Ul;n++)if(e.dyn_ltree[n*2]!==0)return W2;return q2};let hE=!1;const QN=e=>{hE||(qN(),hE=!0),e.l_desc=new ug(e.dyn_ltree,eE),e.d_desc=new ug(e.dyn_dtree,tE),e.bl_desc=new ug(e.bl_tree,nE),e.bi_buf=0,e.bi_valid=0,sE(e)},dE=(e,t,n,r)=>{$t(e,(ON<<1)+(r?1:0),3),oE(e),$l(e,n),$l(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},XN=e=>{$t(e,Z2<<1,3),Jn(e,sg,wr),jN(e)},KN=(e,t,n,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===LN&&(e.strm.data_type=YN(e)),hg(e,e.l_desc),hg(e,e.d_desc),s=WN(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?dE(e,t,n,r):e.strategy===PN||a===i?($t(e,(Z2<<1)+(r?1:0),3),fE(e,wr,Hl)):($t(e,(NN<<1)+(r?1:0),3),ZN(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),fE(e,e.dyn_ltree,e.dyn_dtree)),sE(e),r&&oE(e)},JN=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(jl[n]+Ul+1)*2]++,e.dyn_dtree[rE(t)*2]++),e.sym_next===e.sym_end);var e9=QN,t9=dE,n9=KN,r9=JN,i9=XN,a9={_tr_init:e9,_tr_stored_block:t9,_tr_flush_block:n9,_tr_tally:r9,_tr_align:i9},ql=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};const s9=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},o9=new Uint32Array(s9());var pt=(e,t,n,r)=>{const i=o9,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1},xs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:l9,_tr_stored_block:dg,_tr_flush_block:f9,_tr_tally:hi,_tr_align:u9}=a9,{Z_NO_FLUSH:di,Z_PARTIAL_FLUSH:c9,Z_FULL_FLUSH:h9,Z_FINISH:gn,Z_BLOCK:pE,Z_OK:xt,Z_STREAM_END:gE,Z_STREAM_ERROR:er,Z_DATA_ERROR:d9,Z_BUF_ERROR:pg,Z_DEFAULT_COMPRESSION:p9,Z_FILTERED:g9,Z_HUFFMAN_ONLY:nh,Z_RLE:m9,Z_FIXED:b9,Z_DEFAULT_STRATEGY:y9,Z_UNKNOWN:w9,Z_DEFLATED:rh}=Wl,x9=9,v9=15,A9=8,E9=29,gg=256+1+E9,_9=30,S9=19,C9=2*gg+1,k9=15,pe=3,pi=258,tr=pi+pe+1,T9=32,vs=42,mg=57,bg=69,yg=73,wg=91,xg=103,ma=113,Zl=666,Rt=1,As=2,ba=3,Es=4,I9=3,ya=(e,t)=>(e.msg=xs[t],t),mE=e=>e*2-(e>4?9:0),gi=e=>{let t=e.length;for(;--t>=0;)e[t]=0},B9=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let mi=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Jt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},en=(e,t)=>{f9(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Jt(e.strm)},Ee=(e,t)=>{e.pending_buf[e.pending++]=t},Yl=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},vg=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=ql(e.adler,t,i,n):e.state.wrap===2&&(e.adler=pt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},bE=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const f=e.strstart>e.w_size-tr?e.strstart-(e.w_size-tr):0,l=e.window,u=e.w_mask,c=e.prev,h=e.strstart+pi;let d=l[r+s-1],p=l[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(l[i+s]!==p||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<h);if(a=pi-(h-r),r=h-pi,a>s){if(e.match_start=t,s=a,a>=o)break;d=l[r+s-1],p=l[r+s]}}while((t=c[t&u])>f&&--n!==0);return s<=e.lookahead?s:e.lookahead},_s=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-tr)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),B9(e),r+=t),e.strm.avail_in===0)break;if(n=vg(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=pe)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=mi(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=mi(e,e.ins_h,e.window[i+pe-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<pe)););}while(e.lookahead<tr&&e.strm.avail_in!==0)},yE=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&t!==gn||t===di||r!==i+e.strm.avail_in)))break;s=t===gn&&r===i+e.strm.avail_in?1:0,dg(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Jt(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(vg(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?Es:t!==di&&t!==gn&&e.strm.avail_in===0&&e.strstart===e.block_start?As:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(vg(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=n||(i||t===gn)&&t!==di&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,s=t===gn&&e.strm.avail_in===0&&r===i?1:0,dg(e,e.block_start,r,s),e.block_start+=r,Jt(e.strm)),s?ba:Rt)},Ag=(e,t)=>{let n,r;for(;;){if(e.lookahead<tr){if(_s(e),e.lookahead<tr&&t===di)return Rt;if(e.lookahead===0)break}if(n=0,e.lookahead>=pe&&(e.ins_h=mi(e,e.ins_h,e.window[e.strstart+pe-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-tr&&(e.match_length=bE(e,n)),e.match_length>=pe)if(r=hi(e,e.strstart-e.match_start,e.match_length-pe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pe){e.match_length--;do e.strstart++,e.ins_h=mi(e,e.ins_h,e.window[e.strstart+pe-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=mi(e,e.ins_h,e.window[e.strstart+1]);else r=hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(en(e,!1),e.strm.avail_out===0))return Rt}return e.insert=e.strstart<pe-1?e.strstart:pe-1,t===gn?(en(e,!0),e.strm.avail_out===0?ba:Es):e.sym_next&&(en(e,!1),e.strm.avail_out===0)?Rt:As},Ss=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<tr){if(_s(e),e.lookahead<tr&&t===di)return Rt;if(e.lookahead===0)break}if(n=0,e.lookahead>=pe&&(e.ins_h=mi(e,e.ins_h,e.window[e.strstart+pe-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pe-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-tr&&(e.match_length=bE(e,n),e.match_length<=5&&(e.strategy===g9||e.match_length===pe&&e.strstart-e.match_start>4096)&&(e.match_length=pe-1)),e.prev_length>=pe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-pe,r=hi(e,e.strstart-1-e.prev_match,e.prev_length-pe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=mi(e,e.ins_h,e.window[e.strstart+pe-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pe-1,e.strstart++,r&&(en(e,!1),e.strm.avail_out===0))return Rt}else if(e.match_available){if(r=hi(e,0,e.window[e.strstart-1]),r&&en(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Rt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=hi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pe-1?e.strstart:pe-1,t===gn?(en(e,!0),e.strm.avail_out===0?ba:Es):e.sym_next&&(en(e,!1),e.strm.avail_out===0)?Rt:As},D9=(e,t)=>{let n,r,i,a;const s=e.window;for(;;){if(e.lookahead<=pi){if(_s(e),e.lookahead<=pi&&t===di)return Rt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pe&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+pi;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=pi-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pe?(n=hi(e,1,e.match_length-pe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(en(e,!1),e.strm.avail_out===0))return Rt}return e.insert=0,t===gn?(en(e,!0),e.strm.avail_out===0?ba:Es):e.sym_next&&(en(e,!1),e.strm.avail_out===0)?Rt:As},F9=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(_s(e),e.lookahead===0)){if(t===di)return Rt;break}if(e.match_length=0,n=hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(en(e,!1),e.strm.avail_out===0))return Rt}return e.insert=0,t===gn?(en(e,!0),e.strm.avail_out===0?ba:Es):e.sym_next&&(en(e,!1),e.strm.avail_out===0)?Rt:As};function nr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Ql=[new nr(0,0,0,0,yE),new nr(4,4,8,4,Ag),new nr(4,5,16,8,Ag),new nr(4,6,32,32,Ag),new nr(4,4,16,16,Ss),new nr(8,16,32,32,Ss),new nr(8,16,128,128,Ss),new nr(8,32,128,256,Ss),new nr(32,128,258,1024,Ss),new nr(32,258,258,4096,Ss)],R9=e=>{e.window_size=2*e.w_size,gi(e.head),e.max_lazy_match=Ql[e.level].max_lazy,e.good_match=Ql[e.level].good_length,e.nice_match=Ql[e.level].nice_length,e.max_chain_length=Ql[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pe-1,e.match_available=0,e.ins_h=0};function M9(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=rh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(C9*2),this.dyn_dtree=new Uint16Array((2*_9+1)*2),this.bl_tree=new Uint16Array((2*S9+1)*2),gi(this.dyn_ltree),gi(this.dyn_dtree),gi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(k9+1),this.heap=new Uint16Array(2*gg+1),gi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*gg+1),gi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Xl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==vs&&t.status!==mg&&t.status!==bg&&t.status!==yg&&t.status!==wg&&t.status!==xg&&t.status!==ma&&t.status!==Zl?1:0},wE=e=>{if(Xl(e))return ya(e,er);e.total_in=e.total_out=0,e.data_type=w9;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?mg:t.wrap?vs:ma,e.adler=t.wrap===2?0:1,t.last_flush=-2,l9(t),xt},xE=e=>{const t=wE(e);return t===xt&&R9(e.state),t},P9=(e,t)=>Xl(e)||e.state.wrap!==2?er:(e.state.gzhead=t,xt),vE=(e,t,n,r,i,a)=>{if(!e)return er;let s=1;if(t===p9&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>x9||n!==rh||r<8||r>15||t<0||t>9||a<0||a>b9||r===8&&s!==1)return ya(e,er);r===8&&(r=9);const o=new M9;return e.state=o,o.strm=e,o.status=vs,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+pe-1)/pe),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=n,xE(e)},L9=(e,t)=>vE(e,t,rh,v9,A9,y9),O9=(e,t)=>{if(Xl(e)||t>pE||t<0)return e?ya(e,er):er;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Zl&&t!==gn)return ya(e,e.avail_out===0?pg:er);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Jt(e),e.avail_out===0)return n.last_flush=-1,xt}else if(e.avail_in===0&&mE(t)<=mE(r)&&t!==gn)return ya(e,pg);if(n.status===Zl&&e.avail_in!==0)return ya(e,pg);if(n.status===vs&&n.wrap===0&&(n.status=ma),n.status===vs){let i=rh+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=nh||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,i|=a<<6,n.strstart!==0&&(i|=T9),i+=31-i%31,Yl(n,i),n.strstart!==0&&(Yl(n,e.adler>>>16),Yl(n,e.adler&65535)),e.adler=1,n.status=ma,Jt(e),n.pending!==0)return n.last_flush=-1,xt}if(n.status===mg){if(e.adler=0,Ee(n,31),Ee(n,139),Ee(n,8),n.gzhead)Ee(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ee(n,n.gzhead.time&255),Ee(n,n.gzhead.time>>8&255),Ee(n,n.gzhead.time>>16&255),Ee(n,n.gzhead.time>>24&255),Ee(n,n.level===9?2:n.strategy>=nh||n.level<2?4:0),Ee(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Ee(n,n.gzhead.extra.length&255),Ee(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=pt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=bg;else if(Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,n.level===9?2:n.strategy>=nh||n.level<2?4:0),Ee(n,I9),n.status=ma,Jt(e),n.pending!==0)return n.last_flush=-1,xt}if(n.status===bg){if(n.gzhead.extra){let i=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,Jt(e),n.pending!==0)return n.last_flush=-1,xt;i=0,a-=o}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=yg}if(n.status===yg){if(n.gzhead.name){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i)),Jt(e),n.pending!==0)return n.last_flush=-1,xt;i=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,Ee(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=wg}if(n.status===wg){if(n.gzhead.comment){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i)),Jt(e),n.pending!==0)return n.last_flush=-1,xt;i=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,Ee(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=pt(e.adler,n.pending_buf,n.pending-i,i))}n.status=xg}if(n.status===xg){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Jt(e),n.pending!==0))return n.last_flush=-1,xt;Ee(n,e.adler&255),Ee(n,e.adler>>8&255),e.adler=0}if(n.status=ma,Jt(e),n.pending!==0)return n.last_flush=-1,xt}if(e.avail_in!==0||n.lookahead!==0||t!==di&&n.status!==Zl){let i=n.level===0?yE(n,t):n.strategy===nh?F9(n,t):n.strategy===m9?D9(n,t):Ql[n.level].func(n,t);if((i===ba||i===Es)&&(n.status=Zl),i===Rt||i===ba)return e.avail_out===0&&(n.last_flush=-1),xt;if(i===As&&(t===c9?u9(n):t!==pE&&(dg(n,0,0,!1),t===h9&&(gi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Jt(e),e.avail_out===0))return n.last_flush=-1,xt}return t!==gn?xt:n.wrap<=0?gE:(n.wrap===2?(Ee(n,e.adler&255),Ee(n,e.adler>>8&255),Ee(n,e.adler>>16&255),Ee(n,e.adler>>24&255),Ee(n,e.total_in&255),Ee(n,e.total_in>>8&255),Ee(n,e.total_in>>16&255),Ee(n,e.total_in>>24&255)):(Yl(n,e.adler>>>16),Yl(n,e.adler&65535)),Jt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xt:gE)},N9=e=>{if(Xl(e))return er;const t=e.state.status;return e.state=null,t===ma?ya(e,d9):xt},z9=(e,t)=>{let n=t.length;if(Xl(e))return er;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==vs||r.lookahead)return er;if(i===1&&(e.adler=ql(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(gi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(n-r.w_size,n),0),t=f,n=r.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,_s(r);r.lookahead>=pe;){let f=r.strstart,l=r.lookahead-(pe-1);do r.ins_h=mi(r,r.ins_h,r.window[f+pe-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--l);r.strstart=f,r.lookahead=pe-1,_s(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pe-1,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,r.wrap=i,xt};var U9=L9,G9=vE,H9=xE,V9=wE,j9=P9,$9=O9,q9=N9,W9=z9,Z9="pako deflate (from Nodeca project)",Kl={deflateInit:U9,deflateInit2:G9,deflateReset:H9,deflateResetKeep:V9,deflateSetHeader:j9,deflate:$9,deflateEnd:q9,deflateSetDictionary:W9,deflateInfo:Z9};const Y9=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Q9=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Y9(n,r)&&(e[r]=n[r])}}return e},X9=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},ih={assign:Q9,flattenChunks:X9};let AE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{AE=!1}const Jl=new Uint8Array(256);for(let e=0;e<256;e++)Jl[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Jl[254]=Jl[254]=1;var K9=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const J9=(e,t)=>{if(t<65534&&e.subarray&&AE)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var e7=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let o=Jl[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return J9(a,i)},t7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Jl[e[n]]>t?n:t},ef={string2buf:K9,buf2string:e7,utf8border:t7};function n7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var EE=n7;const _E=Object.prototype.toString,{Z_NO_FLUSH:r7,Z_SYNC_FLUSH:i7,Z_FULL_FLUSH:a7,Z_FINISH:s7,Z_OK:ah,Z_STREAM_END:o7,Z_DEFAULT_COMPRESSION:l7,Z_DEFAULT_STRATEGY:f7,Z_DEFLATED:u7}=Wl;function Eg(e){this.options=ih.assign({level:l7,method:u7,chunkSize:16384,windowBits:15,memLevel:8,strategy:f7},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EE,this.strm.avail_out=0;let n=Kl.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ah)throw new Error(xs[n]);if(t.header&&Kl.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=ef.string2buf(t.dictionary):_E.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Kl.deflateSetDictionary(this.strm,r),n!==ah)throw new Error(xs[n]);this._dict_set=!0}}Eg.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?s7:r7,typeof e=="string"?n.input=ef.string2buf(e):_E.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===i7||a===a7)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Kl.deflate(n,a),i===o7)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Kl.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ah;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},Eg.prototype.onData=function(e){this.chunks.push(e)},Eg.prototype.onEnd=function(e){e===ah&&(this.result=ih.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const sh=16209,c7=16191;var h7=function(t,n){let r,i,a,s,o,f,l,u,c,h,d,p,m,y,w,v,S,_,T,I,B,F,M,H;const N=t.state;r=t.next_in,M=t.input,i=r+(t.avail_in-5),a=t.next_out,H=t.output,s=a-(n-t.avail_out),o=a+(t.avail_out-257),f=N.dmax,l=N.wsize,u=N.whave,c=N.wnext,h=N.window,d=N.hold,p=N.bits,m=N.lencode,y=N.distcode,w=(1<<N.lenbits)-1,v=(1<<N.distbits)-1;e:do{p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),S=m[d&w];t:for(;;){if(_=S>>>24,d>>>=_,p-=_,_=S>>>16&255,_===0)H[a++]=S&65535;else if(_&16){T=S&65535,_&=15,_&&(p<_&&(d+=M[r++]<<p,p+=8),T+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=M[r++]<<p,p+=8,d+=M[r++]<<p,p+=8),S=y[d&v];n:for(;;){if(_=S>>>24,d>>>=_,p-=_,_=S>>>16&255,_&16){if(I=S&65535,_&=15,p<_&&(d+=M[r++]<<p,p+=8,p<_&&(d+=M[r++]<<p,p+=8)),I+=d&(1<<_)-1,I>f){t.msg="invalid distance too far back",N.mode=sh;break e}if(d>>>=_,p-=_,_=a-s,I>_){if(_=I-_,_>u&&N.sane){t.msg="invalid distance too far back",N.mode=sh;break e}if(B=0,F=h,c===0){if(B+=l-_,_<T){T-=_;do H[a++]=h[B++];while(--_);B=a-I,F=H}}else if(c<_){if(B+=l+c-_,_-=c,_<T){T-=_;do H[a++]=h[B++];while(--_);if(B=0,c<T){_=c,T-=_;do H[a++]=h[B++];while(--_);B=a-I,F=H}}}else if(B+=c-_,_<T){T-=_;do H[a++]=h[B++];while(--_);B=a-I,F=H}for(;T>2;)H[a++]=F[B++],H[a++]=F[B++],H[a++]=F[B++],T-=3;T&&(H[a++]=F[B++],T>1&&(H[a++]=F[B++]))}else{B=a-I;do H[a++]=H[B++],H[a++]=H[B++],H[a++]=H[B++],T-=3;while(T>2);T&&(H[a++]=H[B++],T>1&&(H[a++]=H[B++]))}}else if(_&64){t.msg="invalid distance code",N.mode=sh;break e}else{S=y[(S&65535)+(d&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){N.mode=c7;break e}else{t.msg="invalid literal/length code",N.mode=sh;break e}else{S=m[(S&65535)+(d&(1<<_)-1)];continue t}break}}while(r<i&&a<o);T=p>>3,r-=T,p-=T<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<o?257+(o-a):257-(a-o),N.hold=d,N.bits=p};const Cs=15,SE=852,CE=592,kE=0,_g=1,TE=2,d7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),m7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tf=(e,t,n,r,i,a,s,o)=>{const f=o.bits;let l=0,u=0,c=0,h=0,d=0,p=0,m=0,y=0,w=0,v=0,S,_,T,I,B,F=null,M;const H=new Uint16Array(Cs+1),N=new Uint16Array(Cs+1);let re=null,oe,te,ge;for(l=0;l<=Cs;l++)H[l]=0;for(u=0;u<r;u++)H[t[n+u]]++;for(d=f,h=Cs;h>=1&&H[h]===0;h--);if(d>h&&(d=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(c=1;c<h&&H[c]===0;c++);for(d<c&&(d=c),y=1,l=1;l<=Cs;l++)if(y<<=1,y-=H[l],y<0)return-1;if(y>0&&(e===kE||h!==1))return-1;for(N[1]=0,l=1;l<Cs;l++)N[l+1]=N[l]+H[l];for(u=0;u<r;u++)t[n+u]!==0&&(s[N[t[n+u]]++]=u);if(e===kE?(F=re=s,M=20):e===_g?(F=d7,re=p7,M=257):(F=g7,re=m7,M=0),v=0,u=0,l=c,B=a,p=d,m=0,T=-1,w=1<<d,I=w-1,e===_g&&w>SE||e===TE&&w>CE)return 1;for(;;){oe=l-m,s[u]+1<M?(te=0,ge=s[u]):s[u]>=M?(te=re[s[u]-M],ge=F[s[u]-M]):(te=32+64,ge=0),S=1<<l-m,_=1<<p,c=_;do _-=S,i[B+(v>>m)+_]=oe<<24|te<<16|ge|0;while(_!==0);for(S=1<<l-1;v&S;)S>>=1;if(S!==0?(v&=S-1,v+=S):v=0,u++,--H[l]===0){if(l===h)break;l=t[n+s[u]]}if(l>d&&(v&I)!==T){for(m===0&&(m=d),B+=c,p=l-m,y=1<<p;p+m<h&&(y-=H[p+m],!(y<=0));)p++,y<<=1;if(w+=1<<p,e===_g&&w>SE||e===TE&&w>CE)return 1;T=v&I,i[T]=d<<24|p<<16|B-a|0}}return v!==0&&(i[B+v]=l-m<<24|64<<16|0),o.bits=d,0};const b7=0,IE=1,BE=2,{Z_FINISH:DE,Z_BLOCK:y7,Z_TREES:oh,Z_OK:wa,Z_STREAM_END:w7,Z_NEED_DICT:x7,Z_STREAM_ERROR:mn,Z_DATA_ERROR:FE,Z_MEM_ERROR:RE,Z_BUF_ERROR:v7,Z_DEFLATED:ME}=Wl,lh=16180,PE=16181,LE=16182,OE=16183,NE=16184,zE=16185,UE=16186,GE=16187,HE=16188,VE=16189,fh=16190,xr=16191,Sg=16192,jE=16193,Cg=16194,$E=16195,qE=16196,WE=16197,ZE=16198,uh=16199,ch=16200,YE=16201,QE=16202,XE=16203,KE=16204,JE=16205,kg=16206,e_=16207,t_=16208,We=16209,n_=16210,r_=16211,A7=852,E7=592,_7=15,i_=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function S7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xa=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<lh||t.mode>r_?1:0},a_=e=>{if(xa(e))return mn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=lh,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(A7),t.distcode=t.distdyn=new Int32Array(E7),t.sane=1,t.back=-1,wa},s_=e=>{if(xa(e))return mn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,a_(e)},o_=(e,t)=>{let n;if(xa(e))return mn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?mn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,s_(e))},l_=(e,t)=>{if(!e)return mn;const n=new S7;e.state=n,n.strm=e,n.window=null,n.mode=lh;const r=o_(e,t);return r!==wa&&(e.state=null),r},C7=e=>l_(e,_7);let f_=!0,Tg,Ig;const k7=e=>{if(f_){Tg=new Int32Array(512),Ig=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tf(IE,e.lens,0,288,Tg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tf(BE,e.lens,0,32,Ig,0,e.work,{bits:5}),f_=!1}e.lencode=Tg,e.lenbits=9,e.distcode=Ig,e.distbits=5},u_=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},T7=(e,t)=>{let n,r,i,a,s,o,f,l,u,c,h,d,p,m,y=0,w,v,S,_,T,I,B,F;const M=new Uint8Array(4);let H,N;const re=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xa(e)||!e.output||!e.input&&e.avail_in!==0)return mn;n=e.state,n.mode===xr&&(n.mode=Sg),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=n.hold,u=n.bits,c=o,h=f,F=wa;e:for(;;)switch(n.mode){case lh:if(n.wrap===0){n.mode=Sg;break}for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=l&255,M[1]=l>>>8&255,n.check=pt(n.check,M,2,0),l=0,u=0,n.mode=PE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=We;break}if((l&15)!==ME){e.msg="unknown compression method",n.mode=We;break}if(l>>>=4,u-=4,B=(l&15)+8,n.wbits===0&&(n.wbits=B),B>15||B>n.wbits){e.msg="invalid window size",n.mode=We;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?VE:xr,l=0,u=0;break;case PE:for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==ME){e.msg="unknown compression method",n.mode=We;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=We;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=pt(n.check,M,2,0)),l=0,u=0,n.mode=LE;case LE:for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,M[2]=l>>>16&255,M[3]=l>>>24&255,n.check=pt(n.check,M,4,0)),l=0,u=0,n.mode=OE;case OE:for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=pt(n.check,M,2,0)),l=0,u=0,n.mode=NE;case NE:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=pt(n.check,M,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=zE;case zE:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+d),B)),n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,a)),o-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=UE;case UE:if(n.flags&2048){if(o===0)break e;d=0;do B=r[a+d++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,a)),o-=d,a+=d,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=GE;case GE:if(n.flags&4096){if(o===0)break e;d=0;do B=r[a+d++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=pt(n.check,r,d,a)),o-=d,a+=d,B)break e}else n.head&&(n.head.comment=null);n.mode=HE;case HE:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=We;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=xr;break;case VE:for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}e.adler=n.check=i_(l),l=0,u=0,n.mode=fh;case fh:if(n.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,x7;e.adler=n.check=1,n.mode=xr;case xr:if(t===y7||t===oh)break e;case Sg:if(n.last){l>>>=u&7,u-=u&7,n.mode=kg;break}for(;u<3;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=jE;break;case 1:if(k7(n),n.mode=uh,t===oh){l>>>=2,u-=2;break e}break;case 2:n.mode=qE;break;case 3:e.msg="invalid block type",n.mode=We}l>>>=2,u-=2;break;case jE:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=We;break}if(n.length=l&65535,l=0,u=0,n.mode=Cg,t===oh)break e;case Cg:n.mode=$E;case $E:if(d=n.length,d){if(d>o&&(d=o),d>f&&(d=f),d===0)break e;i.set(r.subarray(a,a+d),s),o-=d,a+=d,f-=d,s+=d,n.length-=d;break}n.mode=xr;break;case qE:for(;u<14;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=We;break}n.have=0,n.mode=WE;case WE:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.lens[re[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[re[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},F=tf(b7,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,F){e.msg="invalid code lengths set",n.mode=We;break}n.have=0,n.mode=ZE;case ZE:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(S<16)l>>>=w,u-=w,n.lens[n.have++]=S;else{if(S===16){for(N=w+2;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(l>>>=w,u-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=We;break}B=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(S===17){for(N=w+3;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=w,u-=w,B=0,d=3+(l&7),l>>>=3,u-=3}else{for(N=w+7;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=w,u-=w,B=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=We;break}for(;d--;)n.lens[n.have++]=B}}if(n.mode===We)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=We;break}if(n.lenbits=9,H={bits:n.lenbits},F=tf(IE,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,F){e.msg="invalid literal/lengths set",n.mode=We;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},F=tf(BE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,F){e.msg="invalid distances set",n.mode=We;break}if(n.mode=uh,t===oh)break e;case uh:n.mode=ch;case ch:if(o>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,h7(e,h),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=n.hold,u=n.bits,n.mode===xr&&(n.back=-1);break}for(n.back=0;y=n.lencode[l&(1<<n.lenbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(v&&!(v&240)){for(_=w,T=v,I=S;y=n.lencode[I+((l&(1<<_+T)-1)>>_)],w=y>>>24,v=y>>>16&255,S=y&65535,!(_+w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=w,u-=w,n.back+=w,n.length=S,v===0){n.mode=JE;break}if(v&32){n.back=-1,n.mode=xr;break}if(v&64){e.msg="invalid literal/length code",n.mode=We;break}n.extra=v&15,n.mode=YE;case YE:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=QE;case QE:for(;y=n.distcode[l&(1<<n.distbits)-1],w=y>>>24,v=y>>>16&255,S=y&65535,!(w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(!(v&240)){for(_=w,T=v,I=S;y=n.distcode[I+((l&(1<<_+T)-1)>>_)],w=y>>>24,v=y>>>16&255,S=y&65535,!(_+w<=u);){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=w,u-=w,n.back+=w,v&64){e.msg="invalid distance code",n.mode=We;break}n.offset=S,n.extra=v&15,n.mode=XE;case XE:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=We;break}n.mode=KE;case KE:if(f===0)break e;if(d=h-f,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=We;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=s-n.offset,d=n.length;d>f&&(d=f),f-=d,n.length-=d;do i[s++]=m[p++];while(--d);n.length===0&&(n.mode=ch);break;case JE:if(f===0)break e;i[s++]=n.length,f--,n.mode=ch;break;case kg:if(n.wrap){for(;u<32;){if(o===0)break e;o--,l|=r[a++]<<u,u+=8}if(h-=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?pt(n.check,i,h,s-h):ql(n.check,i,h,s-h)),h=f,n.wrap&4&&(n.flags?l:i_(l))!==n.check){e.msg="incorrect data check",n.mode=We;break}l=0,u=0}n.mode=e_;case e_:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,l+=r[a++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=We;break}l=0,u=0}n.mode=t_;case t_:F=w7;break e;case We:F=FE;break e;case n_:return RE;case r_:default:return mn}return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<We&&(n.mode<kg||t!==DE))&&u_(e,e.output,e.next_out,h-e.avail_out),c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?pt(n.check,i,h,e.next_out-h):ql(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===xr?128:0)+(n.mode===uh||n.mode===Cg?256:0),(c===0&&h===0||t===DE)&&F===wa&&(F=v7),F},I7=e=>{if(xa(e))return mn;let t=e.state;return t.window&&(t.window=null),e.state=null,wa},B7=(e,t)=>{if(xa(e))return mn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,wa):mn},D7=(e,t)=>{const n=t.length;let r,i,a;return xa(e)||(r=e.state,r.wrap!==0&&r.mode!==fh)?mn:r.mode===fh&&(i=1,i=ql(i,t,n,0),i!==r.check)?FE:(a=u_(e,t,n,n),a?(r.mode=n_,RE):(r.havedict=1,wa))};var F7=s_,R7=o_,M7=a_,P7=C7,L7=l_,O7=T7,N7=I7,z7=B7,U7=D7,G7="pako inflate (from Nodeca project)",vr={inflateReset:F7,inflateReset2:R7,inflateResetKeep:M7,inflateInit:P7,inflateInit2:L7,inflate:O7,inflateEnd:N7,inflateGetHeader:z7,inflateSetDictionary:U7,inflateInfo:G7};function H7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var V7=H7;const c_=Object.prototype.toString,{Z_NO_FLUSH:j7,Z_FINISH:$7,Z_OK:nf,Z_STREAM_END:Bg,Z_NEED_DICT:Dg,Z_STREAM_ERROR:q7,Z_DATA_ERROR:h_,Z_MEM_ERROR:W7}=Wl;function rf(e){this.options=ih.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EE,this.strm.avail_out=0;let n=vr.inflateInit2(this.strm,t.windowBits);if(n!==nf)throw new Error(xs[n]);if(this.header=new V7,vr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ef.string2buf(t.dictionary):c_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=vr.inflateSetDictionary(this.strm,t.dictionary),n!==nf)))throw new Error(xs[n])}rf.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?$7:j7,c_.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=vr.inflate(n,s),a===Dg&&i&&(a=vr.inflateSetDictionary(n,i),a===nf?a=vr.inflate(n,s):a===h_&&(a=Dg));n.avail_in>0&&a===Bg&&n.state.wrap>0&&e[n.next_in]!==0;)vr.inflateReset(n),a=vr.inflate(n,s);switch(a){case q7:case h_:case Dg:case W7:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===Bg))if(this.options.to==="string"){let f=ef.utf8border(n.output,n.next_out),l=n.next_out-f,u=ef.buf2string(n.output,f);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(f,f+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===nf&&o===0)){if(a===Bg)return a=vr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},rf.prototype.onData=function(e){this.chunks.push(e)},rf.prototype.onEnd=function(e){e===nf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ih.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Fg(e,t){const n=new rf(t);if(n.push(e),n.err)throw n.msg||xs[n.err];return n.result}function Z7(e,t){return t=t||{},t.raw=!0,Fg(e,t)}var Y7=rf,Q7=Fg,X7=Z7,K7=Fg,J7=Wl,ez={Inflate:Y7,inflate:Q7,inflateRaw:X7,ungzip:K7,constants:J7};const{Inflate:YG,inflate:QG,inflateRaw:tz,ungzip:XG}=ez;var nz=tz;function rz(e){return nz(e.subarray(2))}let iz=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function az(e){e.sort((i,a)=>Number(i.offset)-Number(a.offset));const t=[];let n,r;for(const i of e)n&&r&&Number(i.offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(i.length)-r+Number(i.offset)),n.blocks.push(i)):t.push(n={blocks:[i],length:i.length,offset:i.offset}),r=Number(n.offset)+Number(n.length);return t}function hh(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new iz("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}const sz=1,oz=2,lz=3;function Rg(e,t,n,r){return e<r&&t>=n}function fz(e){const t=e?"big":"little",n=new Be().endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=new Be().endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new Be().endianess(t).array("blocksToFetch",{length:"cnt",type:new Be().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new Be().array("recurOffsets",{length:"cnt",type:new Be().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new Be().endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new Be().endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[lz]:new Be().array("items",{length:"itemCount",type:new Be().floatle("score")}),[oz]:new Be().array("items",{length:"itemCount",type:new Be().endianess(t).int32("start").floatle("score")}),[sz]:new Be().array("items",{length:"itemCount",type:new Be().endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}class d_{constructor(t,n,r,i,a,s){if(this.bbi=t,this.refsByName=n,this.cirTreeOffset=r,this.isBigEndian=i,this.isCompressed=a,this.blockType=s,this.featureCache=new Kc({cache:new Jc({maxSize:1e3}),fill:async(f,l)=>{const u=Number(f.length),c=Number(f.offset),{buffer:h}=await this.bbi.read(me.Buffer.alloc(u),0,u,c,{signal:l});return h}}),!(r>=0))throw new Error("invalid cirTreeOffset!");const o=fz(i);this.leafParser=o.leafParser,this.bigBedParser=o.bigBedParser}async readWigData(t,n,r,i,a){try{const{refsByName:s,bbi:o,cirTreeOffset:f,isBigEndian:l}=this,u=s[t];u===void 0&&i.complete();const c={chrId:u,start:n,end:r};this.cirTreePromise||(this.cirTreePromise=o.read(me.Buffer.alloc(48),0,48,Number(f),a));const{buffer:h}=await this.cirTreePromise,d=l?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],m=0;const y=(_,T,I)=>{try{const B=_.subarray(T),F=this.leafParser.parse(B);if(F.blocksToFetch&&(p=p.concat(F.blocksToFetch.filter(M=>w(M)).map(M=>({offset:M.blockOffset,length:M.blockSize})))),F.recurOffsets){const M=F.recurOffsets.filter(H=>w(H)).map(H=>Number(H.blockOffset));M.length>0&&S(M,I+1)}}catch(B){i.error(B)}},w=_=>{const{startChrom:T,startBase:I,endChrom:B,endBase:F}=_;return(T<u||T===u&&I<=r)&&(B>u||B===u&&F>=n)},v=async(_,T,I)=>{try{const B=T.max()-T.min(),F=T.min(),M=await this.featureCache.get(`${B}_${F}`,{length:B,offset:F},a==null?void 0:a.signal);for(const H of _)T.contains(H)&&(y(M,H-F,I),m-=1,m===0&&this.readFeatures(i,p,{...a,request:c}))}catch(B){i.error(B)}},S=(_,T)=>{try{m+=_.length;const I=4+Number(d)*32;let B=new ci(_[0],_[0]+I);for(let F=1;F<_.length;F+=1){const M=new ci(_[F],_[F]+I);B=B.union(M)}B.getRanges().map(F=>v(_,F,T))}catch(I){i.error(I)}};return S([Number(f)+48],1)}catch(s){i.error(s)}}parseSummaryBlock(t,n,r){const i=[];let a=n;const s=new DataView(t.buffer,t.byteOffset,t.length);for(;a<t.byteLength;){const o=s.getUint32(a,!0);a+=4;const f=s.getUint32(a,!0);a+=4;const l=s.getUint32(a,!0);a+=4;const u=s.getUint32(a,!0);a+=4;const c=s.getFloat32(a,!0);a+=4;const h=s.getFloat32(a,!0);a+=4;const d=s.getFloat32(a,!0);a+=4,a+=4,(!r||o===r.chrId&&Rg(f,l,r.start,r.end))&&i.push({start:f,end:l,maxScore:h,minScore:c,summary:!0,score:d/(u||1)})}return i}parseBigBedBlock(t,n,r,i){const a=[];let s=n;for(;s<t.byteLength;){const o=this.bigBedParser.parse(t.subarray(s));o.uniqueId=`bb-${r+s}`,a.push(o),s+=o.offset}return i?a.filter(o=>Rg(o.start,o.end,i.start,i.end)):a}parseBigWigBlock(t,n,r){const i=t.subarray(n),a=new DataView(i.buffer,i.byteOffset,i.length);let s=0;s+=4;const o=a.getInt32(s,!0);s+=8;const f=a.getUint32(s,!0);s+=4;const l=a.getUint32(s,!0);s+=4;const u=a.getUint8(s);s+=2;const c=a.getUint16(s,!0);s+=2;const h=new Array(c);switch(u){case 1:{for(let d=0;d<c;d++){const p=a.getInt32(s,!0);s+=4;const m=a.getInt32(s,!0);s+=4;const y=a.getFloat32(s,!0);s+=4,h[d]={start:p,end:m,score:y}}break}case 2:{for(let d=0;d<c;d++){const p=a.getInt32(s,!0);s+=4;const m=a.getFloat32(s,!0);s+=4,h[d]={score:m,start:p,end:p+l}}break}case 3:{for(let d=0;d<c;d++){const p=a.getFloat32(s,!0);s+=4;const m=o+d*f;h[d]={score:p,start:m,end:m+l}}break}}return r?h.filter(d=>Rg(d.start,d.end,r.start,r.end)):h}async readFeatures(t,n,r={}){try{const{blockType:i,isCompressed:a}=this,{signal:s,request:o}=r,f=az(n);hh(s),await Promise.all(f.map(async l=>{hh(s);const{length:u,offset:c}=l,h=await this.featureCache.get(`${u}_${c}`,l,s);for(const d of l.blocks){hh(s);let p=Number(d.offset)-Number(l.offset),m=h;switch(a&&(m=rz(h.subarray(p)),p=0),hh(s),i){case"summary":{t.next(this.parseSummaryBlock(m,p,o));break}case"bigwig":{t.next(this.parseBigWigBlock(m,p,o));break}case"bigbed":{t.next(this.parseBigBedBlock(m,p,Number(d.offset)*256,o));break}default:console.warn(`Don't know what to do with ${i}`)}}})),t.complete()}catch(i){t.error(i)}}}var Mg=function(e,t){return Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mg(e,t)};function Pg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function uz(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function f(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){u.done?a(u.value):i(u.value).then(o,f)}l((r=r.apply(e,t||[])).next())})}function p_(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(u){return f([l,u])}}function f(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function af(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lg(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function Og(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ks(e){return this instanceof ks?(this.v=e,this):new ks(e)}function cz(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(d){return new Promise(function(p,m){a.push([h,d,p,m])>1||o(h,d)})})}function o(h,d){try{f(r[h](d))}catch(p){c(a[0][3],p)}}function f(h){h.value instanceof ks?Promise.resolve(h.value.v).then(l,u):c(a[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function c(h,d){h(d),a.shift(),a.length&&o(a[0][0],a[0][1])}}function hz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof af=="function"?af(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(o,f){s=e[a](s),i(o,f,s.done,s.value)})}}function i(a,s,o,f){Promise.resolve(f).then(function(l){a({value:l,done:o})},s)}}typeof SuppressedError=="function"&&SuppressedError;function lt(e){return typeof e=="function"}function g_(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ng=g_(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function m_(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var zg=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,a;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=af(s),f=o.next();!f.done;f=o.next()){var l=f.value;l.remove(this)}}catch(m){t={error:m}}finally{try{f&&!f.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(lt(u))try{u()}catch(m){a=m instanceof Ng?m.errors:[m]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=af(c),d=h.next();!d.done;d=h.next()){var p=d.value;try{y_(p)}catch(m){a=a??[],m instanceof Ng?a=Og(Og([],Lg(a)),Lg(m.errors)):a.push(m)}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(a)throw new Ng(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)y_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&m_(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&m_(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();zg.EMPTY;function b_(e){return e instanceof zg||e&&"closed"in e&&lt(e.remove)&&lt(e.add)&&lt(e.unsubscribe)}function y_(e){lt(e)?e():e.unsubscribe()}var w_={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x_={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Og([e,t],Lg(n)))},clearTimeout:function(e){var t=x_.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function v_(e){x_.setTimeout(function(){throw e})}function A_(){}function dz(e){e()}var Ug=function(e){Pg(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,b_(n)&&n.add(r)):r.destination=bz,r}return t.create=function(n,r,i){return new dh(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zg),pz=Function.prototype.bind;function Gg(e,t){return pz.call(e,t)}var gz=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ph(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ph(r)}else ph(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ph(n)}},e}(),dh=function(e){Pg(t,e);function t(n,r,i){var a=e.call(this)||this,s;if(lt(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var o;a&&w_.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return a.unsubscribe()},s={next:n.next&&Gg(n.next,o),error:n.error&&Gg(n.error,o),complete:n.complete&&Gg(n.complete,o)}):s=n}return a.destination=new gz(s),a}return t}(Ug);function ph(e){v_(e)}function mz(e){throw e}var bz={closed:!0,next:A_,error:mz,complete:A_},Hg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function E_(e){return e}function yz(e){return e.length===0?E_:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var bn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,a=xz(t)?t:new dh(t,n,r);return dz(function(){var s=i,o=s.operator,f=s.source;a.add(o?o.call(a,f):f?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=__(n),new n(function(i,a){var s=new dh({next:function(o){try{t(o)}catch(f){a(f),s.unsubscribe()}},error:a,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Hg]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return yz(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=__(t),new t(function(r,i){var a;n.subscribe(function(s){return a=s},function(s){return i(s)},function(){return r(a)})})},e.create=function(t){return new e(t)},e}();function __(e){var t;return(t=e??w_.Promise)!==null&&t!==void 0?t:Promise}function wz(e){return e&&lt(e.next)&&lt(e.error)&&lt(e.complete)}function xz(e){return e&&e instanceof Ug||wz(e)&&b_(e)}function vz(e){return lt(e==null?void 0:e.lift)}function Ts(e){return function(t){if(vz(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function sf(e,t,n,r,i){return new Az(e,t,n,r,i)}var Az=function(e){Pg(t,e);function t(n,r,i,a,s,o){var f=e.call(this,n)||this;return f.onFinalize=s,f.shouldUnsubscribe=o,f._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,f._error=a?function(l){try{a(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,f}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Ug),Ez=new bn(function(e){return e.complete()});function _z(e){return e&&lt(e.schedule)}function S_(e){return e[e.length-1]}function Sz(e){return _z(S_(e))?e.pop():void 0}function Cz(e,t){return typeof S_(e)=="number"?e.pop():t}var C_=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function k_(e){return lt(e==null?void 0:e.then)}function T_(e){return lt(e[Hg])}function I_(e){return Symbol.asyncIterator&&lt(e==null?void 0:e[Symbol.asyncIterator])}function B_(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function kz(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var D_=kz();function F_(e){return lt(e==null?void 0:e[D_])}function R_(e){return cz(this,arguments,function(){var n,r,i,a;return p_(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ks(n.read())];case 3:return r=s.sent(),i=r.value,a=r.done,a?[4,ks(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ks(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function M_(e){return lt(e==null?void 0:e.getReader)}function Is(e){if(e instanceof bn)return e;if(e!=null){if(T_(e))return Tz(e);if(C_(e))return Iz(e);if(k_(e))return Bz(e);if(I_(e))return P_(e);if(F_(e))return Dz(e);if(M_(e))return Fz(e)}throw B_(e)}function Tz(e){return new bn(function(t){var n=e[Hg]();if(lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Iz(e){return new bn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Bz(e){return new bn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,v_)})}function Dz(e){return new bn(function(t){var n,r;try{for(var i=af(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function P_(e){return new bn(function(t){Rz(e,t).catch(function(n){return t.error(n)})})}function Fz(e){return P_(R_(e))}function Rz(e,t){var n,r,i,a;return uz(this,void 0,void 0,function(){var s,o;return p_(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=hz(e),f.label=1;case 1:return[4,n.next()];case 2:if(r=f.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=f.sent(),i={error:o},[3,11];case 6:return f.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function bi(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function L_(e,t){return t===void 0&&(t=0),Ts(function(n,r){n.subscribe(sf(r,function(i){return bi(r,e,function(){return r.next(i)},t)},function(){return bi(r,e,function(){return r.complete()},t)},function(i){return bi(r,e,function(){return r.error(i)},t)}))})}function O_(e,t){return t===void 0&&(t=0),Ts(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Mz(e,t){return Is(e).pipe(O_(t),L_(t))}function Pz(e,t){return Is(e).pipe(O_(t),L_(t))}function Lz(e,t){return new bn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Oz(e,t){return new bn(function(n){var r;return bi(n,t,function(){r=e[D_](),bi(n,t,function(){var i,a,s;try{i=r.next(),a=i.value,s=i.done}catch(o){n.error(o);return}s?n.complete():n.next(a)},0,!0)}),function(){return lt(r==null?void 0:r.return)&&r.return()}})}function N_(e,t){if(!e)throw new Error("Iterable cannot be null");return new bn(function(n){bi(n,t,function(){var r=e[Symbol.asyncIterator]();bi(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Nz(e,t){return N_(R_(e),t)}function zz(e,t){if(e!=null){if(T_(e))return Mz(e,t);if(C_(e))return Lz(e,t);if(k_(e))return Pz(e,t);if(I_(e))return N_(e,t);if(F_(e))return Oz(e,t);if(M_(e))return Nz(e,t)}throw B_(e)}function Uz(e,t){return t?zz(e,t):Is(e)}var Gz=g_(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function z_(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=new dh({next:function(s){r(s),a.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new Gz)}});e.subscribe(a)})}function U_(e,t){return Ts(function(n,r){var i=0;n.subscribe(sf(r,function(a){r.next(e.call(t,a,i++))}))})}function Hz(e,t,n,r,i,a,s,o){var f=[],l=0,u=0,c=!1,h=function(){c&&!f.length&&!l&&t.complete()},d=function(m){return l<r?p(m):f.push(m)},p=function(m){a&&t.next(m),l++;var y=!1;Is(n(m,u++)).subscribe(sf(t,function(w){i==null||i(w),a?d(w):t.next(w)},function(){y=!0},void 0,function(){if(y)try{l--;for(var w=function(){var v=f.shift();s?bi(t,s,function(){return p(v)}):p(v)};f.length&&l<r;)w();h()}catch(v){t.error(v)}}))};return e.subscribe(sf(t,d,function(){c=!0,h()})),function(){o==null||o()}}function G_(e,t,n){return n===void 0&&(n=1/0),lt(t)?G_(function(r,i){return U_(function(a,s){return t(r,a,i,s)})(Is(e(r,i)))},n):(typeof t=="number"&&(n=t),Ts(function(r,i){return Hz(r,i,e,n)}))}function Vz(e){return e===void 0&&(e=1/0),G_(E_,e)}function jz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sz(e),r=Cz(e,1/0),i=e;return i.length?i.length===1?Is(i[0]):Vz(r)(Uz(i,n)):Ez}function $z(e,t,n,r,i){return function(a,s){var o=n,f=t,l=0;a.subscribe(sf(s,function(u){var c=l++;f=o?e(f,u,c):(o=!0,u),r&&s.next(f)},i&&function(){o&&s.next(f),s.complete()}))}}function H_(e,t){return Ts($z(e,t,arguments.length>=2,!1,!0))}var qz=function(e,t){return e.push(t),e};function Wz(){return Ts(function(e,t){H_(qz,[])(e).subscribe(t)})}const V_=-2003829722,Vg=-2021002517;function Zz(e){return new TextDecoder().decode(e)}function j_(e){const t=e?"big":"little",n=new Be().endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new Be().endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=new Be().endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new Be().endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),a=new Be().endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:r,headerParser:n,isLeafNode:a}}class $_{getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}constructor(t){const{filehandle:n,renameRefSeqs:r=s=>s,path:i,url:a}=t;if(this.renameRefSeqs=r,n)this.bbi=n;else if(a)this.bbi=new ta(a);else if(i)this.bbi=new dt(i);else throw new Error("no file given")}async _getHeader(t){const n=await this._getMainHeader(t),r=await this._readChromTree(n,t);return{...n,...r}}async _getMainHeader(t,n=2e3){const{buffer:r}=await this.bbi.read(me.Buffer.alloc(n),0,n,0,t),i=this._isBigEndian(r),a=j_(i),s=a.headerParser.parse(r),{magic:o,asOffset:f,totalSummaryOffset:l}=s;if(s.fileType=o===Vg?"bigbed":"bigwig",f>n||l>n)return this._getMainHeader(t,n*2);if(f){const u=Number(s.asOffset);s.autoSql=Zz(r.subarray(u,r.indexOf(0,u)))}if(s.totalSummaryOffset>n-8*5)return this._getMainHeader(t,n*2);if(s.totalSummaryOffset){const u=r.subarray(Number(s.totalSummaryOffset)),c=a.totalSummaryParser.parse(u);s.totalSummary={...c,basesCovered:Number(c.basesCovered)}}return{...s,isBigEndian:i}}_isBigEndian(t){let n=t.readInt32LE(0);if(n===V_||n===Vg)return!1;if(n=t.readInt32BE(0),n===V_||n===Vg)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,n){const r=t.isBigEndian,i=r?"big":"little",a=[],s={};let o=Number(t.unzoomedDataOffset);const f=Number(t.chromTreeOffset);for(;o%4!==0;)o+=1;const l=o-f,{buffer:u}=await this.bbi.read(me.Buffer.alloc(l),0,l,Number(f),n),c=j_(r),{keySize:h}=c.chromTreeParser.parse(u),d=new Be().endianess(i).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=new Be().endianess(i).skip(h).uint64("childOffset").saveOffset("offset"),m=32,y=async w=>{let v=w;if(v>=u.length)throw new Error("reading beyond end of buffer");const S=c.isLeafNode.parse(u.subarray(v)),{isLeafNode:_,cnt:T}=S;if(v+=S.offset,_)for(let I=0;I<T;I+=1){const B=d.parse(u.subarray(v));v+=B.offset;const{key:F,refId:M,refSize:H}=B,N={name:F,id:M,length:H};s[this.renameRefSeqs(F)]=M,a[M]=N}else{const I=[];for(let B=0;B<T;B+=1){const F=p.parse(u.subarray(v)),{childOffset:M}=F;v+=F.offset,I.push(y(Number(M)-Number(f)))}await Promise.all(I)}};return await y(m),{refsByName:s,refsByNumber:a}}async getUnzoomedView(t){const{unzoomedIndexOffset:n,refsByName:r,uncompressBufSize:i,isBigEndian:a,fileType:s}=await this.getHeader(t);return new d_(this.bbi,r,n,a,i>0,s)}async getFeatureStream(t,n,r,i){await this.getHeader(i);const a=this.renameRefSeqs(t);let s;const{basesPerSpan:o,scale:f}=i||{};return o?s=await this.getView(1/o,i):f?s=await this.getView(f,i):s=await this.getView(1,i),new bn(l=>{s.readWigData(a,n,r,l,i)})}async getFeatures(t,n,r,i){const a=await this.getFeatureStream(t,n,r,i);return(await z_(a.pipe(Wz()))).flat()}}class Yz extends $_{async getView(t,n){const{zoomLevels:r,refsByName:i,fileSize:a,isBigEndian:s,uncompressBufSize:o}=await this.getHeader(n),f=1/t;let l=r.length;a||(l-=1);for(let u=l;u>=0;u-=1){const c=r[u];if(c&&c.reductionLevel<=2*f){const h=Number(c.indexOffset);return new d_(this.bbi,i,h,s,o>0,"summary")}}return this.getUnzoomedView(n)}}function Qz(e){return e.filter(t=>!!t)}class Xz extends $_{constructor(){super(...arguments),this.readIndicesCache=new Kc({cache:new Jc({maxSize:1}),fill:(t,n)=>this._readIndices({...t,signal:n})})}readIndices(t={}){const{signal:n,...r}=t;return this.readIndicesCache.get(JSON.stringify(r),t,n)}async getView(t,n){return this.getUnzoomedView(n)}async _readIndices(t){const{extHeaderOffset:n,isBigEndian:r}=await this.getHeader(t),{buffer:i}=await this.bbi.read(me.Buffer.alloc(64),0,64,Number(n)),a=r?"big":"little",s=new Be().endianess(a).uint16("size").uint16("count").uint64("offset").parse(i),{count:o,offset:f}=s;if(o===0)return[];const l=20,u=l*o,{buffer:c}=await this.bbi.read(me.Buffer.alloc(u),0,u,Number(f)),h=new Be().endianess(a).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),d=[];for(let p=0;p<o;p+=1)d.push(h.parse(c.subarray(p*l)));return d}async searchExtraIndexBlocks(t,n={}){const{isBigEndian:r}=await this.getHeader(n),i=await this.readIndices(n);if(i.length===0)return[];const a=i.map(async s=>{const{offset:o,field:f}=s,{buffer:l}=await this.bbi.read(me.Buffer.alloc(32),0,32,Number(o),n),u=r?"big":"little",c=new Be().endianess(u).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:h,keySize:d,valSize:p}=c.parse(l),m=new Be().endianess(u).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new Be().array("leafkeys",{length:"cnt",type:new Be().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset")}),1:new Be().array("keys",{length:"cnt",type:new Be().endianess(u).string("key",{length:d,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),y=async v=>{const S=Number(v),_=4+h*(d+p),{buffer:T}=await this.bbi.read(me.Buffer.alloc(_),0,_,S,n),I=m.parse(T);if(I.leafkeys){let B;for(let F=0;F<I.leafkeys.length;F+=1){const{key:M}=I.leafkeys[F];if(t.localeCompare(M)<0&&B)return y(B);B=I.leafkeys[F].offset}return y(B)}for(let B=0;B<I.keys.length;B+=1)if(I.keys[B].key===t)return{...I.keys[B],field:f}},w=32;return y(Number(o)+w)});return Qz(await Promise.all(a))}async searchExtraIndex(t,n={}){const r=await this.searchExtraIndexBlocks(t,n);if(r.length===0)return[];const i=await this.getUnzoomedView(n),a=r.map(o=>new bn(f=>{i.readFeatures(f,[o],n)}).pipe(H_((f,l)=>f.concat(l)),U_(f=>{for(const l of f)l.field=o.field;return f})));return(await z_(jz(...a))).filter(o=>{var f;return((f=o.rest)===null||f===void 0?void 0:f.split("	")[(o.field||0)-3])===t})}}const q_=Object.freeze(Object.defineProperty({__proto__:null,BigBed:Xz,BigWig:Yz},Symbol.toStringTag,{value:"Module"}));function Kz(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Bs(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Bs)}Kz(Bs,Error),Bs.buildMessage=function(e,t){var n={literal:function(l){return'"'+i(l.text)+'"'},class:function(l){var u="",c;for(c=0;c<l.parts.length;c++)u+=l.parts[c]instanceof Array?a(l.parts[c][0])+"-"+a(l.parts[c][1]):a(l.parts[c]);return"["+(l.inverted?"^":"")+u+"]"},any:function(l){return"any character"},end:function(l){return"end of input"},other:function(l){return l.description}};function r(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function a(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+r(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+r(u)})}function s(l){return n[l.type](l)}function o(l){var u=new Array(l.length),c,h;for(c=0;c<l.length;c++)u[c]=s(l[c]);if(u.sort(),u.length>0){for(c=1,h=1;c<u.length;c++)u[c-1]!==u[c]&&(u[h]=u[c],h++);u.length=h}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function f(l){return l?'"'+i(l)+'"':"end of input"}return"Expected "+o(e)+" but "+f(t)+" found."};function Jz(e,t){t=t!==void 0?t:{};var n={},r={declaration:mC},i=mC,a="(",s=Re("(",!1),o=")",f=Re(")",!1),l=function(E,z,X,J){return{type:E,name:z,comment:X,fields:J}},u="simple",c=Re("simple",!1),h="object",d=Re("object",!1),p="table",m=Re("table",!1),y="auto",w=Re("auto",!1),v="primary",S=Re("primary",!1),_="index",T=Re("index",!1),I="unique",B=Re("unique",!1),F=function(E,z){return z},M=function(E,z){return E.name&&z.unshift(E),z},H="#",N=Re("#",!1),re=";",oe=Re(";",!1),te=function(E,z,X){return{type:E,name:z,comment:X}},ge="[",Je=Re("[",!1),Fe="]",et=Re("]",!1),Ze=function(E,z,X,J){return{type:E,size:z,name:X,comment:J}},tt=function(E,z,X,J){return{type:E,vals:z,name:X,comment:J}},Se=",",Ce=Re(",",!1),gt=function(E,z){return z.unshift(E),z},qt="int",Ne=Re("int",!1),L="uint",P=Re("uint",!1),q="short",j=Re("short",!1),Z="ushort",C=Re("ushort",!1),A="byte",V=Re("byte",!1),W="ubyte",fe=Re("ubyte",!1),ne="float",ue=Re("float",!1),Wt="char",Ei=Re("char",!1),_i="string",Si=Re("string",!1),Ct="lstring",Tr=Re("lstring",!1),Ci="enum",Zt=Re("enum",!1),rr="double",x=Re("double",!1),g="bigint",b=Re("bigint",!1),k="set",R=Re("set",!1),O=function(E,z){return E+" "+z},$=/^[a-zA-Z_]/,ce=Uf([["a","z"],["A","Z"],"_"],!1,!1),He=/^[a-zA-Z0-9_]/,Pe=Uf([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ye=function(E){return hC()},ke=/^[^\n\r]/,oC=Uf([`
`,"\r"],!0,!1),wG=function(E){return E.join("").replace(/^"/,"").replace(/"$/,"")},xG=dC("integer"),lC=/^[0-9]/,fC=Uf([["0","9"]],!1,!1),vG=function(){return parseInt(hC(),10)},AG=dC("whitespace"),uC=/^[ \t\n\r]/,cC=Uf([" ","	",`
`,"\r"],!1,!1),D=0,Mt=0,Ph=[{line:1,column:1}],ir=0,km=[],ae=0,Lh;if("startRule"in t){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=r[t.startRule]}function hC(){return e.substring(Mt,D)}function Re(E,z){return{type:"literal",text:E,ignoreCase:z}}function Uf(E,z,X){return{type:"class",parts:E,inverted:z,ignoreCase:X}}function EG(){return{type:"end"}}function dC(E){return{type:"other",description:E}}function pC(E){var z=Ph[E],X;if(z)return z;for(X=E-1;!Ph[X];)X--;for(z=Ph[X],z={line:z.line,column:z.column};X<E;)e.charCodeAt(X)===10?(z.line++,z.column=1):z.column++,X++;return Ph[E]=z,z}function gC(E,z){var X=pC(E),J=pC(z);return{start:{offset:E,line:X.line,column:X.column},end:{offset:z,line:J.line,column:J.column}}}function se(E){D<ir||(D>ir&&(ir=D,km=[]),km.push(E))}function _G(E,z,X){return new Bs(Bs.buildMessage(E,z),E,z,X)}function mC(){var E,z,X,J,ie,ze,Qe,xn,ki,Ir,Ti,Br,Ii,Dr;return E=D,z=be(),z!==n?(X=bC(),X!==n?(J=be(),J!==n?(ie=yC(),ie!==n?(ze=be(),ze!==n?(Qe=Oh(),Qe!==n?(xn=be(),xn!==n?(e.charCodeAt(D)===40?(ki=a,D++):(ki=n,ae===0&&se(s)),ki!==n?(Ir=be(),Ir!==n?(Ti=SG(),Ti!==n?(Br=be(),Br!==n?(e.charCodeAt(D)===41?(Ii=o,D++):(Ii=n,ae===0&&se(f)),Ii!==n?(Dr=be(),Dr!==n?(Mt=E,z=l(X,ie,Qe,Ti),E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n),E}function bC(){var E;return e.substr(D,6)===u?(E=u,D+=6):(E=n,ae===0&&se(c)),E===n&&(e.substr(D,6)===h?(E=h,D+=6):(E=n,ae===0&&se(d)),E===n&&(e.substr(D,5)===p?(E=p,D+=5):(E=n,ae===0&&se(m)))),E}function yC(){var E,z,X,J;return E=Mn(),E===n&&(E=D,z=Mn(),z!==n?(X=wC(),X!==n?(z=[z,X],E=z):(D=E,E=n)):(D=E,E=n),E===n&&(E=D,z=Mn(),z!==n?(e.substr(D,4)===y?(X=y,D+=4):(X=n,ae===0&&se(w)),X!==n?(z=[z,X],E=z):(D=E,E=n)):(D=E,E=n),E===n&&(E=D,z=Mn(),z!==n?(X=wC(),X!==n?(e.substr(D,4)===y?(J=y,D+=4):(J=n,ae===0&&se(w)),J!==n?(z=[z,X,J],E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)))),E}function wC(){var E;return e.substr(D,7)===v?(E=v,D+=7):(E=n,ae===0&&se(S)),E===n&&(e.substr(D,5)===_?(E=_,D+=5):(E=n,ae===0&&se(T)),E===n&&(e.substr(D,6)===I?(E=I,D+=6):(E=n,ae===0&&se(B)))),E}function Oh(){var E;return E=xC(),E===n&&(E=be()),E}function SG(){var E,z,X,J,ie,ze,Qe;if(E=D,z=Tm(),z!==n)if(X=be(),X!==n){for(J=[],ie=D,ze=be(),ze!==n?(Qe=Tm(),Qe!==n?(Mt=ie,ze=F(z,Qe),ie=ze):(D=ie,ie=n)):(D=ie,ie=n);ie!==n;)J.push(ie),ie=D,ze=be(),ze!==n?(Qe=Tm(),Qe!==n?(Mt=ie,ze=F(z,Qe),ie=ze):(D=ie,ie=n)):(D=ie,ie=n);J!==n?(ie=be(),ie!==n?(Mt=E,z=M(z,J),E=z):(D=E,E=n)):(D=E,E=n)}else D=E,E=n;else D=E,E=n;return E}function CG(){var E;return e.charCodeAt(D)===35?(E=H,D++):(E=n,ae===0&&se(N)),E}function kG(){var E,z,X,J,ie;return E=D,z=be(),z!==n?(X=CG(),X!==n?(J=xC(),J!==n?(ie=be(),ie!==n?(z=[z,X,J,ie],E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n),E}function Tm(){var E,z,X,J,ie,ze,Qe,xn,ki,Ir,Ti,Br,Ii,Dr;return E=D,z=Im(),z!==n?(X=be(),X!==n?(J=Mn(),J!==n?(ie=be(),ie!==n?(e.charCodeAt(D)===59?(ze=re,D++):(ze=n,ae===0&&se(oe)),ze!==n?(Qe=be(),Qe!==n?(xn=Oh(),xn!==n?(Mt=E,z=te(z,J,xn),E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n),E===n&&(E=D,z=Im(),z!==n?(X=be(),X!==n?(e.charCodeAt(D)===91?(J=ge,D++):(J=n,ae===0&&se(Je)),J!==n?(ie=be(),ie!==n?(ze=IG(),ze!==n?(Qe=be(),Qe!==n?(e.charCodeAt(D)===93?(xn=Fe,D++):(xn=n,ae===0&&se(et)),xn!==n?(ki=be(),ki!==n?(Ir=Mn(),Ir!==n?(Ti=be(),Ti!==n?(e.charCodeAt(D)===59?(Br=re,D++):(Br=n,ae===0&&se(oe)),Br!==n?(Ii=be(),Ii!==n?(Dr=Oh(),Dr!==n?(Mt=E,z=Ze(z,ze,Ir,Dr),E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n),E===n&&(E=D,z=Im(),z!==n?(X=be(),X!==n?(e.charCodeAt(D)===40?(J=a,D++):(J=n,ae===0&&se(s)),J!==n?(ie=be(),ie!==n?(ze=TG(),ze!==n?(Qe=be(),Qe!==n?(e.charCodeAt(D)===41?(xn=o,D++):(xn=n,ae===0&&se(f)),xn!==n?(ki=be(),ki!==n?(Ir=Mn(),Ir!==n?(Ti=be(),Ti!==n?(e.charCodeAt(D)===59?(Br=re,D++):(Br=n,ae===0&&se(oe)),Br!==n?(Ii=be(),Ii!==n?(Dr=Oh(),Dr!==n?(Mt=E,z=tt(z,ze,Ir,Dr),E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n)):(D=E,E=n),E===n&&(E=kG()))),E}function TG(){var E,z,X,J,ie,ze,Qe;if(E=D,z=Mn(),z!==n){for(X=[],J=D,e.charCodeAt(D)===44?(ie=Se,D++):(ie=n,ae===0&&se(Ce)),ie!==n?(ze=be(),ze!==n?(Qe=Mn(),Qe!==n?(Mt=J,ie=F(z,Qe),J=ie):(D=J,J=n)):(D=J,J=n)):(D=J,J=n);J!==n;)X.push(J),J=D,e.charCodeAt(D)===44?(ie=Se,D++):(ie=n,ae===0&&se(Ce)),ie!==n?(ze=be(),ze!==n?(Qe=Mn(),Qe!==n?(Mt=J,ie=F(z,Qe),J=ie):(D=J,J=n)):(D=J,J=n)):(D=J,J=n);X!==n?(Mt=E,z=gt(z,X),E=z):(D=E,E=n)}else D=E,E=n;return E}function Im(){var E,z,X,J;return e.substr(D,3)===qt?(E=qt,D+=3):(E=n,ae===0&&se(Ne)),E===n&&(e.substr(D,4)===L?(E=L,D+=4):(E=n,ae===0&&se(P)),E===n&&(e.substr(D,5)===q?(E=q,D+=5):(E=n,ae===0&&se(j)),E===n&&(e.substr(D,6)===Z?(E=Z,D+=6):(E=n,ae===0&&se(C)),E===n&&(e.substr(D,4)===A?(E=A,D+=4):(E=n,ae===0&&se(V)),E===n&&(e.substr(D,5)===W?(E=W,D+=5):(E=n,ae===0&&se(fe)),E===n&&(e.substr(D,5)===ne?(E=ne,D+=5):(E=n,ae===0&&se(ue)),E===n&&(e.substr(D,4)===Wt?(E=Wt,D+=4):(E=n,ae===0&&se(Ei)),E===n&&(e.substr(D,6)===_i?(E=_i,D+=6):(E=n,ae===0&&se(Si)),E===n&&(e.substr(D,7)===Ct?(E=Ct,D+=7):(E=n,ae===0&&se(Tr)),E===n&&(e.substr(D,4)===Ci?(E=Ci,D+=4):(E=n,ae===0&&se(Zt)),E===n&&(e.substr(D,6)===rr?(E=rr,D+=6):(E=n,ae===0&&se(x)),E===n&&(e.substr(D,6)===g?(E=g,D+=6):(E=n,ae===0&&se(b)),E===n&&(e.substr(D,3)===k?(E=k,D+=3):(E=n,ae===0&&se(R)),E===n&&(E=D,z=bC(),z!==n?(X=be(),X!==n?(J=yC(),J!==n?(Mt=E,z=O(z,J),E=z):(D=E,E=n)):(D=E,E=n)):(D=E,E=n))))))))))))))),E}function IG(){var E;return E=BG(),E===n&&(E=Mn()),E}function Mn(){var E,z,X,J,ie;if(E=D,z=D,$.test(e.charAt(D))?(X=e.charAt(D),D++):(X=n,ae===0&&se(ce)),X!==n){for(J=[],He.test(e.charAt(D))?(ie=e.charAt(D),D++):(ie=n,ae===0&&se(Pe));ie!==n;)J.push(ie),He.test(e.charAt(D))?(ie=e.charAt(D),D++):(ie=n,ae===0&&se(Pe));J!==n?(X=[X,J],z=X):(D=z,z=n)}else D=z,z=n;return z!==n&&(Mt=E,z=Ye()),E=z,E}function xC(){var E,z,X;for(E=D,z=[],ke.test(e.charAt(D))?(X=e.charAt(D),D++):(X=n,ae===0&&se(oC));X!==n;)z.push(X),ke.test(e.charAt(D))?(X=e.charAt(D),D++):(X=n,ae===0&&se(oC));return z!==n&&(Mt=E,z=wG(z)),E=z,E}function BG(){var E,z,X,J;if(ae++,E=D,z=be(),z!==n){if(X=[],lC.test(e.charAt(D))?(J=e.charAt(D),D++):(J=n,ae===0&&se(fC)),J!==n)for(;J!==n;)X.push(J),lC.test(e.charAt(D))?(J=e.charAt(D),D++):(J=n,ae===0&&se(fC));else X=n;X!==n?(Mt=E,z=vG(),E=z):(D=E,E=n)}else D=E,E=n;return ae--,E===n&&(z=n,ae===0&&se(xG)),E}function be(){var E,z;for(ae++,E=[],uC.test(e.charAt(D))?(z=e.charAt(D),D++):(z=n,ae===0&&se(cC));z!==n;)E.push(z),uC.test(e.charAt(D))?(z=e.charAt(D),D++):(z=n,ae===0&&se(cC));return ae--,E===n&&(z=n,ae===0&&se(AG)),E}if(Lh=i(),Lh!==n&&D===e.length)return Lh;throw Lh!==n&&D<e.length&&se(EG()),_G(km,ir<e.length?e.charAt(ir):null,ir<e.length?gC(ir,ir+1):gC(ir,ir))}var W_={SyntaxError:Bs,parse:Jz};const eU=xl(W_),jg=Object.fromEntries(Object.entries(Object.freeze(Object.defineProperty({__proto__:null,bigChain:`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,bigGenePred:`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,bigInteract:`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,bigLink:`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,bigMaf:`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,bigNarrowPeak:`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,bigPsl:`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,defaultBedSchema:`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,mafFrames:`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,mafSummary:`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`},Symbol.toStringTag,{value:"Module"}))).map(([e,t])=>[e,W_.parse(t.trim())]));function $g(e){const t=["uint","int","float","long"];return{...e,fields:e.fields.map(n=>({...n,isArray:n.size&&n.type!=="char",arrayIsNumeric:n.size&&t.includes(n.type),isNumeric:!n.size&&t.includes(n.type)}))}}const tU={".":0,"-":-1,"+":1};function nU(e){var t;return e.length>=12&&!Number.isNaN(parseInt(e[9],10))&&((t=e[10])===null||t===void 0?void 0:t.split(",").filter(n=>!!n).length)===parseInt(e[9],10)}class rU{constructor(t={}){if(t.autoSql)this.autoSql=$g(eU.parse(t.autoSql));else if(t.type){if(!jg[t.type])throw new Error("Type not found");this.autoSql=$g(jg[t.type])}else this.autoSql=$g(jg.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(t,n={}){const{autoSql:r}=this,{uniqueId:i}=n,a=Array.isArray(t)?t:t.split("	");let s={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&nU(a))for(let o=0;o<r.fields.length;o++){const f=r.fields[o];let l=a[o];const{isNumeric:u,isArray:c,arrayIsNumeric:h,name:d}=f;if(l==null)break;if(l!=="."){if(u){const p=Number(l);l=Number.isNaN(p)?l:p}else c&&(l=l.split(","),l[l.length-1]===""&&l.pop(),h&&(l=l.map(p=>Number(p))));s[d]=l}}else{const o=["chrom","chromStart","chromEnd","name"];s=Object.fromEntries(a.map((f,l)=>[o[l]||"field"+l,f])),s.chromStart=+s.chromStart,s.chromEnd=+s.chromEnd,Number.isNaN(Number.parseFloat(s.field4))||(s.score=+s.field4,delete s.field4),(s.field5==="+"||s.field5==="-")&&(s.strand=s.field5,delete s.field5)}return i&&(s.uniqueId=i),s.strand=tU[s.strand]||0,s.chrom=decodeURIComponent(s.chrom),s}}const iU=Object.freeze(Object.defineProperty({__proto__:null,default:rU},Symbol.toStringTag,{value:"Module"}));let Z_=class{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}static min(...t){let n,r=0;for(;!n;r+=1)n=t[r];for(;r<t.length;r+=1)n.compareTo(t[r])>0&&(n=t[r]);return n}};function Ds(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new Z_(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}let Y_=class{constructor(t,n,r,i){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}};function aU(e){return new Promise(t=>setTimeout(t,e))}function sU(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()}function oU(e){if(e&&e.aborted)if(typeof DOMException>"u"){const t=new Error("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}function lU(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function fU(e={}){return"aborted"in e?{signal:e}:e}function Q_(e,t){const n=[];let r;if(e.length===0)return e;e.sort((i,a)=>{const s=i.minv.blockPosition-a.minv.blockPosition;return s===0?i.minv.dataPosition-a.minv.dataPosition:s});for(const i of e)(!t||i.maxv.compareTo(t)>0)&&(r===void 0?(n.push(i),r=i):lU(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i));return n}function X_(e,t){return{lineCount:sU(jc.fromBytesLE(Array.prototype.slice.call(e,t,t+8),!0))}}function gh(e,t){return e?e.compareTo(t)>0?t:e:t}function uU(e,t=n=>n){let n=0,r=0;const i=[],a={};for(let s=0;s<e.length;s+=1)if(!e[s]){if(r<s){let o=e.toString("utf8",r,s);o=t(o),i[n]=o,a[o]=n}r=s+1,n+=1}return{refNameToId:a,refIdToName:i}}let K_=class{constructor({filehandle:t,renameRefSeq:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}};const cU=21578050;function hU(e,t){return e-e%t}function dU(e,t){return e-e%t+t}function pU(e,t){return t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class Fs extends K_{async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async _parse(t){const n=await this.filehandle.readFile(t);if(n.readUInt32LE(0)!==cU)throw new Error("Not a BAI file");const r=n.readInt32LE(4),a=((1<<(5+1)*3)-1)/7;let s=8,o;const f=new Array(r);for(let l=0;l<r;l++){const u=n.readInt32LE(s);let c;s+=4;const h={};for(let m=0;m<u;m+=1){const y=n.readUInt32LE(s);if(s+=4,y===a+1)s+=4,c=X_(n,s+16),s+=32;else{if(y>a+1)throw new Error("bai index contains too many bins, please use CSI");{const w=n.readInt32LE(s);s+=4;const v=new Array(w);for(let S=0;S<w;S++){const _=Ds(n,s);s+=8;const T=Ds(n,s);s+=8,o=gh(o,_),v[S]=new Y_(_,T,y)}h[y]=v}}}const d=n.readInt32LE(s);s+=4;const p=new Array(d);for(let m=0;m<d;m++){const y=Ds(n,s);s+=8,o=gh(o,y),p[m]=y}f[l]={binIndex:h,linearIndex:p,stats:c}}return{bai:!0,firstDataLine:o,maxBlockSize:65536,indices:f,refCount:r}}async indexCov(t,n,r,i={}){const s=n!==void 0,f=(await this.parse(i)).indices[t];if(!f)return[];const{linearIndex:l=[],stats:u}=f;if(l.length===0)return[];const c=r===void 0?(l.length-1)*16384:dU(r,16384),h=n===void 0?0:hU(n,16384),d=s?new Array((c-h)/16384):new Array(l.length-1),p=l[l.length-1].blockPosition;if(c>(l.length-1)*16384)throw new Error("query outside of range of linear index");let m=l[h/16384].blockPosition;for(let y=h/16384,w=0;y<c/16384;y++,w++)d[w]={score:l[y+1].blockPosition-m,start:y*16384,end:y*16384+16384},m=l[y+1].blockPosition;return d.map(y=>({...y,score:y.score*((u==null?void 0:u.lineCount)||0)/p}))}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const a=await this.parse(i);if(!a)return[];const s=a.indices[t];if(!s)return[];const o=pU(n,r),f=[];for(const[d,p]of o)for(let m=d;m<=p;m++)if(s.binIndex[m]){const y=s.binIndex[m];for(const w of y)f.push(w)}const l=s.linearIndex.length;let u;const c=Math.min(n>>14,l-1),h=Math.min(r>>14,l-1);for(let d=c;d<=h;++d){const p=s.linearIndex[d];p&&(!u||p.compareTo(u)<0)&&(u=p)}return Q_(f,u)}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}var yi=me.Buffer,qg=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(qg=new Int32Array(qg));function J_(e){if(yi.isBuffer(e))return e;var t=typeof yi.alloc=="function"&&typeof yi.from=="function";if(typeof e=="number")return t?yi.alloc(e):new yi(e);if(typeof e=="string")return t?yi.from(e):new yi(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function gU(e){var t=J_(4);return t.writeInt32BE(e,0),t}function Wg(e,t){e=J_(e),yi.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=~~t^-1,r=0;r<e.length;r++)n=qg[(n^e[r])&255]^n>>>8;return n^-1}function Zg(){return gU(Wg.apply(null,arguments))}Zg.signed=function(){return Wg.apply(null,arguments)},Zg.unsigned=function(){return Wg.apply(null,arguments)>>>0};var mU=Zg;const bU=xl(mU),yU=21582659,wU=38359875;function xU(e,t){return e*2**t}function eS(e,t){return Math.floor(e/2**t)}let mh=class extends K_{constructor(){super(...arguments),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n){var r,i;return((i=(r=(await this.parse(n)).indices[t])===null||r===void 0?void 0:r.stats)===null||i===void 0?void 0:i.lineCount)||0}async indexCov(){return[]}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",a={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!a)throw new Error(`invalid Tabix preset format flags ${r}`);const s={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},o=t.readInt32LE(n+16),f=o?String.fromCharCode(o):"",l=t.readInt32LE(n+20),u=t.readInt32LE(n+24);return{columnNumbers:s,coordinateType:i,metaValue:o,metaChar:f,skipLines:l,format:a,formatFlags:r,...uU(t.subarray(n+28,n+28+u),this.renameRefSeq)}}async _parse(t){const n=await this.filehandle.readFile(t),r=await ui(n);let i;if(r.readUInt32LE(0)===yU)i=1;else if(r.readUInt32LE(0)===wU)i=2;else throw new Error("Not a CSI file");this.minShift=r.readInt32LE(4),this.depth=r.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const a=r.readInt32LE(12),s=a>=30?this.parseAuxData(r,16):void 0,o=r.readInt32LE(16+a);let f=16+a+4,l;const u=new Array(o);for(let c=0;c<o;c++){const h=r.readInt32LE(f);f+=4;const d={};let p;for(let m=0;m<h;m++){const y=r.readUInt32LE(f);if(f+=4,y>this.maxBinNumber)p=X_(r,f+28),f+=28+16;else{l=gh(l,Ds(r,f)),f+=8;const w=r.readInt32LE(f);f+=4;const v=new Array(w);for(let S=0;S<w;S+=1){const _=Ds(r,f);f+=8;const T=Ds(r,f);f+=8,l=gh(l,_),v[S]=new Y_(_,T,y)}d[y]=v}}u[c]={binIndex:d,stats:p}}return{csiVersion:i,firstDataLine:l,indices:u,refCount:o,csi:!0,maxBlockSize:65536,...s}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const a=await this.parse(i),s=a==null?void 0:a.indices[t];if(!s)return[];const o=this.reg2bins(n,r);if(o.length===0)return[];const f=[];for(const[l,u]of o)for(let c=l;c<=u;c++)if(s.binIndex[c]){const h=s.binIndex[c];for(const d of h)f.push(d)}return Q_(f,new Z_(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,a=this.minShift+this.depth*3;const s=[];for(;r<=this.depth;a-=3,i+=xU(1,r*3),r+=1){const o=i+eS(t,a),f=i+eS(n,a);if(f-o+s.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);s.push([o,f])}return s}async parse(t={}){return this.setupP||(this.setupP=this._parse(t).catch(n=>{throw this.setupP=void 0,n})),this.setupP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}};const yn={BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048},tS="=ACMGRSVTWYHKDBN".split(""),of="MIDNSHP=X???????".split("");class nS{constructor(t){this.data={},this._tagList=[],this._allTagsParsed=!1;const{bytes:n,fileOffset:r}=t,{byteArray:i,start:a}=n;this.data={},this.bytes=n,this._id=r,this._refID=i.readInt32LE(a+4),this.data.start=i.readInt32LE(a+8),this.flags=(i.readInt32LE(a+16)&4294901760)>>16}get(t){return this[t]?this.data[t]?this.data[t]:(this.data[t]=this[t](),this.data[t]):this._get(t.toLowerCase())}end(){return this.get("start")+this.get("length_on_ref")}seq_id(){return this._refID}_get(t){return t in this.data?this.data[t]:(this.data[t]=this._parseTag(t),this.data[t])}_tags(){this._parseAllTags();let t=["seq"];this.isSegmentUnmapped()||t.push("start","end","strand","score","qual","MQ","CIGAR","length_on_ref","template_length"),this.isPaired()&&t.push("next_segment_position","pair_orientation"),t=t.concat(this._tagList||[]);for(const r of Object.keys(this.data))r[0]!=="_"&&r!=="next_seq_id"&&t.push(r);const n={};return t.filter(r=>{if(r in this.data&&this.data[r]===void 0||r==="CG"||r==="cg")return!1;const i=r.toLowerCase(),a=n[i];return n[i]=!0,!a})}parent(){}children(){return this.get("subfeatures")}id(){return this._id}mq(){const t=(this.get("_bin_mq_nl")&65280)>>8;return t===255?void 0:t}score(){return this.get("mq")}qual(){var t;return(t=this.qualRaw())===null||t===void 0?void 0:t.join(" ")}qualRaw(){if(this.isSegmentUnmapped())return;const{start:t,byteArray:n}=this.bytes,r=t+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes"),i=this.get("seq_length");return n.subarray(r,r+i)}strand(){return this.isReverseComplemented()?-1:1}multi_segment_next_segment_strand(){if(!this.isMateUnmapped())return this.isMateReverseComplemented()?-1:1}name(){return this.get("_read_name")}_read_name(){const t=this.get("_l_read_name"),{byteArray:n,start:r}=this.bytes;return n.toString("ascii",r+36,r+36+t-1)}_parseTag(t){if(this._allTagsParsed)return;const{byteArray:n,start:r}=this.bytes;let i=this._tagOffset||r+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4+this.get("_seq_bytes")+this.get("seq_length");const a=this.bytes.end;let s;for(;i<a&&s!==t;){const o=String.fromCharCode(n[i],n[i+1]);s=o.toLowerCase();const f=String.fromCharCode(n[i+2]);i+=3;let l;switch(f){case"A":{l=String.fromCharCode(n[i]),i+=1;break}case"i":{l=n.readInt32LE(i),i+=4;break}case"I":{l=n.readUInt32LE(i),i+=4;break}case"c":{l=n.readInt8(i),i+=1;break}case"C":{l=n.readUInt8(i),i+=1;break}case"s":{l=n.readInt16LE(i),i+=2;break}case"S":{l=n.readUInt16LE(i),i+=2;break}case"f":{l=n.readFloatLE(i),i+=4;break}case"Z":case"H":{for(l="";i<=a;){const u=n[i++];if(u===0)break;l+=String.fromCharCode(u)}break}case"B":{l="";const u=n[i++],c=String.fromCharCode(u),h=n.readInt32LE(i);if(i+=4,c==="i")if(o==="CG")for(let d=0;d<h;d++){const p=n.readInt32LE(i),m=p>>4,y=of[p&15];l+=m+y,i+=4}else for(let d=0;d<h;d++)l+=n.readInt32LE(i),d+1<h&&(l+=","),i+=4;if(c==="I")if(o==="CG")for(let d=0;d<h;d++){const p=n.readUInt32LE(i),m=p>>4,y=of[p&15];l+=m+y,i+=4}else for(let d=0;d<h;d++)l+=n.readUInt32LE(i),d+1<h&&(l+=","),i+=4;if(c==="s")for(let d=0;d<h;d++)l+=n.readInt16LE(i),d+1<h&&(l+=","),i+=2;if(c==="S")for(let d=0;d<h;d++)l+=n.readUInt16LE(i),d+1<h&&(l+=","),i+=2;if(c==="c")for(let d=0;d<h;d++)l+=n.readInt8(i),d+1<h&&(l+=","),i+=1;if(c==="C")for(let d=0;d<h;d++)l+=n.readUInt8(i),d+1<h&&(l+=","),i+=1;if(c==="f")for(let d=0;d<h;d++)l+=n.readFloatLE(i),d+1<h&&(l+=","),i+=4;break}default:console.warn(`Unknown BAM tag type '${f}', tags may be incomplete`),l=void 0,i=a}if(this._tagOffset=i,this._tagList.push(o),s===t)return l;this.data[s]=l}this._allTagsParsed=!0}_parseAllTags(){this._parseTag("")}_parseCigar(t){return t.match(/\d+\D/g).map(n=>[n.match(/\D/)[0].toUpperCase(),Number.parseInt(n,10)])}isPaired(){return!!(this.flags&yn.BAM_FPAIRED)}isProperlyPaired(){return!!(this.flags&yn.BAM_FPROPER_PAIR)}isSegmentUnmapped(){return!!(this.flags&yn.BAM_FUNMAP)}isMateUnmapped(){return!!(this.flags&yn.BAM_FMUNMAP)}isReverseComplemented(){return!!(this.flags&yn.BAM_FREVERSE)}isMateReverseComplemented(){return!!(this.flags&yn.BAM_FMREVERSE)}isRead1(){return!!(this.flags&yn.BAM_FREAD1)}isRead2(){return!!(this.flags&yn.BAM_FREAD2)}isSecondary(){return!!(this.flags&yn.BAM_FSECONDARY)}isFailedQc(){return!!(this.flags&yn.BAM_FQCFAIL)}isDuplicate(){return!!(this.flags&yn.BAM_FDUP)}isSupplementary(){return!!(this.flags&yn.BAM_FSUPPLEMENTARY)}cigar(){if(this.isSegmentUnmapped())return;const{byteArray:t,start:n}=this.bytes,r=this.get("_n_cigar_op");let i=n+36+this.get("_l_read_name");const a=this.get("seq_length");let s="",o=0,f=t.readInt32LE(i),l=f>>4,u=of[f&15];if(u==="S"&&l===a)return i+=4,f=t.readInt32LE(i),l=f>>4,u=of[f&15],u!=="N"&&console.warn("CG tag with no N tag"),this.data.length_on_ref=l,this.get("CG");for(let c=0;c<r;++c)f=t.readInt32LE(i),l=f>>4,u=of[f&15],s+=l+u,u!=="H"&&u!=="S"&&u!=="I"&&(o+=l),i+=4;return this.data.length_on_ref=o,s}_flags(){}length_on_ref(){return this.data.length_on_ref?this.data.length_on_ref:(this.get("cigar"),this.data.length_on_ref)}_n_cigar_op(){return this.get("_flag_nc")&65535}_l_read_name(){return this.get("_bin_mq_nl")&255}_seq_bytes(){return this.get("seq_length")+1>>1}getReadBases(){return this.seq()}seq(){const{byteArray:t,start:n}=this.bytes,r=n+36+this.get("_l_read_name")+this.get("_n_cigar_op")*4,i=this.get("_seq_bytes"),a=this.get("seq_length");let s="",o=0;for(let f=0;f<i;++f){const l=t[r+f];s+=tS[(l&240)>>4],o++,o<a&&(s+=tS[l&15],o++)}return s}getPairOrientation(){if(!this.isSegmentUnmapped()&&!this.isMateUnmapped()&&this._refID===this._next_refid()){const t=this.isReverseComplemented()?"R":"F",n=this.isMateReverseComplemented()?"R":"F";let r=" ",i=" ";this.isRead1()?(r="1",i="2"):this.isRead2()&&(r="2",i="1");const a=[];return this.template_length()>0?(a[0]=t,a[1]=r,a[2]=n,a[3]=i):(a[2]=t,a[3]=r,a[0]=n,a[1]=i),a.join("")}return""}_bin_mq_nl(){return this.bytes.byteArray.readInt32LE(this.bytes.start+12)}_flag_nc(){return this.bytes.byteArray.readInt32LE(this.bytes.start+16)}seq_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+20)}_next_refid(){return this.bytes.byteArray.readInt32LE(this.bytes.start+24)}_next_pos(){return this.bytes.byteArray.readInt32LE(this.bytes.start+28)}template_length(){return this.bytes.byteArray.readInt32LE(this.bytes.start+32)}toJSON(){const t={};for(const n of Object.keys(this))n.charAt(0)==="_"||n==="bytes"||(t[n]=this[n]);return t}}function rS(e){const t=e.split(/\r?\n/),n=[];for(const r of t){const[i,...a]=r.split(/\t/);i&&n.push({tag:i.slice(1),data:a.map(s=>{const[o,f]=s.split(":",2);return{tag:o,value:f}})})}return n}const iS=21840194,aS=65536;async function vU(e){let t=[];for await(const n of e)t=t.concat(n);return t}class AU{read(){throw new Error("never called")}stat(){throw new Error("never called")}readFile(){throw new Error("never called")}close(){throw new Error("never called")}}class sS{constructor({bamFilehandle:t,bamPath:n,bamUrl:r,baiPath:i,baiFilehandle:a,baiUrl:s,csiPath:o,csiFilehandle:f,csiUrl:l,htsget:u,yieldThreadTime:c=100,renameRefSeqs:h=d=>d}){if(this.htsget=!1,this.featureCache=new Kc({cache:new Jc({maxSize:50}),fill:async(d,p)=>{const{chunk:m,opts:y}=d,{data:w,cpositions:v,dpositions:S}=await this._readChunk({chunk:m,opts:{...y,signal:p}});return this.readBamFeatures(w,v,S,m)}}),this.renameRefSeq=h,t)this.bam=t;else if(n)this.bam=new dt(n);else if(r)this.bam=new ta(r);else if(u)this.htsget=!0,this.bam=new AU;else throw new Error("unable to initialize bam");if(f)this.index=new mh({filehandle:f});else if(o)this.index=new mh({filehandle:new dt(o)});else if(l)this.index=new mh({filehandle:new ta(l)});else if(a)this.index=new Fs({filehandle:a});else if(i)this.index=new Fs({filehandle:new dt(i)});else if(s)this.index=new Fs({filehandle:new ta(s)});else if(n)this.index=new Fs({filehandle:new dt(`${n}.bai`)});else if(r)this.index=new Fs({filehandle:new ta(`${r}.bai`)});else if(u)this.htsget=!0;else throw new Error("unable to infer index format");this.yieldThreadTime=c}async getHeaderPre(t){const n=fU(t);if(!this.index)return;const r=await this.index.parse(n),i=r.firstDataLine?r.firstDataLine.blockPosition+65535:void 0;let a;if(i){const u=i+aS,c=await this.bam.read(me.Buffer.alloc(u),0,u,0,n);if(!c.bytesRead)throw new Error("Error reading header");a=c.buffer.subarray(0,Math.min(c.bytesRead,i))}else a=await this.bam.readFile(n);const s=await ui(a);if(s.readInt32LE(0)!==iS)throw new Error("Not a BAM file");const o=s.readInt32LE(4);this.header=s.toString("utf8",8,8+o);const{chrToIndex:f,indexToChr:l}=await this._readRefSeqs(o+8,65535,n);return this.chrToIndex=f,this.indexToChr=l,rS(this.header)}getHeader(t){return this.headerP||(this.headerP=this.getHeaderPre(t).catch(n=>{throw this.headerP=void 0,n})),this.headerP}async getHeaderText(t={}){return await this.getHeader(t),this.header}async _readRefSeqs(t,n,r){if(t>n)return this._readRefSeqs(t,n*2,r);const i=n+aS,{bytesRead:a,buffer:s}=await this.bam.read(me.Buffer.alloc(i),0,n,0,r);if(!a)throw new Error("Error reading refseqs from header");const o=await ui(s.subarray(0,Math.min(a,n))),f=o.readInt32LE(t);let l=t+4;const u={},c=[];for(let h=0;h<f;h+=1){const d=o.readInt32LE(l),p=this.renameRefSeq(o.toString("utf8",l+4,l+4+d-1)),m=o.readInt32LE(l+d+4);if(u[p]=h,c.push({refName:p,length:m}),l=l+8+d,l>o.length)return console.warn(`BAM header is very big.  Re-fetching ${n} bytes.`),this._readRefSeqs(t,n*2,r)}return{chrToIndex:u,indexToChr:c}}async getRecordsForRange(t,n,r,i){return vU(this.streamRecordsForRange(t,n,r,i))}async*streamRecordsForRange(t,n,r,i){var a;await this.getHeader(i);const s=(a=this.chrToIndex)===null||a===void 0?void 0:a[t];if(s===void 0||!this.index)yield[];else{const o=await this.index.blocksForRange(s,n-1,r,i);yield*this._fetchChunkFeatures(o,s,n,r,i)}}async*_fetchChunkFeatures(t,n,r,i,a={}){const{viewAsPairs:s}=a,o=[];let f=!1;for(const l of t){const u=await this.featureCache.get(l.toString(),{chunk:l,opts:a},a.signal),c=[];for(const h of u)if(h.seq_id()===n)if(h.get("start")>=i){f=!0;break}else h.get("end")>=r&&c.push(h);if(o.push(c),yield c,f)break}oU(a.signal),s&&(yield this.fetchPairs(n,o,a))}async fetchPairs(t,n,r){const{pairAcrossChr:i,maxInsertSize:a=2e5}=r,s={},o={};n.map(h=>{const d={};for(const p of h){const m=p.name(),y=p.id();d[m]||(d[m]=0),d[m]++,o[y]=1}for(const[p,m]of Object.entries(d))m===1&&(s[p]=!0)});const f=[];n.map(h=>{for(const d of h){const p=d.name(),m=d.get("start"),y=d._next_pos(),w=d._next_refid();this.index&&s[p]&&(i||w===t&&Math.abs(m-y)<a)&&f.push(this.index.blocksForRange(w,y,y+1,r))}});const l=new Map,u=await Promise.all(f);for(const h of u.flat())l.has(h.toString())||l.set(h.toString(),h);return(await Promise.all([...l.values()].map(async h=>{const{data:d,cpositions:p,dpositions:m,chunk:y}=await this._readChunk({chunk:h,opts:r}),w=[];for(const v of await this.readBamFeatures(d,p,m,y))s[v.get("name")]&&!o[v.id()]&&w.push(v);return w}))).flat()}async _readRegion(t,n,r={}){const{bytesRead:i,buffer:a}=await this.bam.read(me.Buffer.alloc(n),0,n,t,r);return a.subarray(0,Math.min(i,n))}async _readChunk({chunk:t,opts:n}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n),{buffer:i,cpositions:a,dpositions:s}=await C2(r,t);return{data:i,cpositions:a,dpositions:s,chunk:t}}async readBamFeatures(t,n,r,i){let a=0;const s=[];let o=0,f=+Date.now();for(;a+4<t.length;){const l=t.readInt32LE(a),u=a+4+l-1;if(r){for(;a+i.minv.dataPosition>=r[o++];);o--}if(u<t.length){const c=new nS({bytes:{byteArray:t,start:a,end:u},fileOffset:n.length>0?n[o]*256+(a-r[o])+i.minv.dataPosition+1:bU.signed(t.slice(a,u))});s.push(c),this.yieldThreadTime&&+Date.now()-f>this.yieldThreadTime&&(await aU(1),f=+Date.now())}a=u+1}return s}async hasRefSeq(t){var n,r;const i=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return i===void 0?!1:(r=this.index)===null||r===void 0?void 0:r.hasRefSeq(i)}async lineCount(t){var n;const r=(n=this.chrToIndex)===null||n===void 0?void 0:n[t];return r===void 0||!this.index?0:this.index.lineCount(r)}async indexCov(t,n,r){var i;if(!this.index)return[];await this.index.parse();const a=(i=this.chrToIndex)===null||i===void 0?void 0:i[t];return a===void 0?[]:this.index.indexCov(a,n,r)}async blocksForRange(t,n,r,i){var a;if(!this.index)return[];await this.index.parse();const s=(a=this.chrToIndex)===null||a===void 0?void 0:a[t];return s===void 0?[]:this.index.blocksForRange(s,n,r,i)}}async function oS(e,t){const n=await Promise.all(e.map(async r=>{const{url:i,headers:a}=r;if(i.startsWith("data:"))return me.Buffer.from(i.split(",")[1],"base64");{const{referer:s,...o}=a,f=await fetch(i,{...t,headers:{...t==null?void 0:t.headers,...o}});if(!f.ok)throw new Error(`HTTP ${f.status} fetching ${i}: ${await f.text()}`);return me.Buffer.from(await f.arrayBuffer())}}));return me.Buffer.concat(await Promise.all(n.map(r=>ui(r))))}class EU extends sS{constructor(t){super({htsget:!0}),this.baseUrl=t.baseUrl,this.trackId=t.trackId}async*streamRecordsForRange(t,n,r,i){var a;const o=`${`${this.baseUrl}/${this.trackId}`}?referenceName=${t}&start=${n}&end=${r}&format=BAM`,f=(a=this.chrToIndex)===null||a===void 0?void 0:a[t];if(f===void 0)yield[];else{const l=await fetch(o,{...i});if(!l.ok)throw new Error(`HTTP ${l.status} fetching ${o}: ${await l.text()}`);const u=await l.json(),c=await oS(u.htsget.urls.slice(1),i);yield*this._fetchChunkFeatures([{buffer:c,_fetchedSize:void 0,bin:0,compareTo(){return 0},toUniqueString(){return`${t}_${n}_${r}`},fetchedSize(){return 0},minv:{dataPosition:0,blockPosition:0,compareTo:()=>0},maxv:{dataPosition:Number.MAX_SAFE_INTEGER,blockPosition:0,compareTo:()=>0},toString(){return`${t}_${n}_${r}`}}],f,n,r,i)}}async _readChunk({chunk:t}){if(!t.buffer)throw new Error("expected chunk.buffer in htsget");return{data:t.buffer,cpositions:[],dpositions:[],chunk:t}}async getHeader(t={}){const n=`${this.baseUrl}/${this.trackId}?referenceName=na&class=header`,r=await fetch(n,t);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${n}: ${await r.text()}`);const i=await r.json(),a=await oS(i.htsget.urls,t);if(a.readInt32LE(0)!==iS)throw new Error("Not a BAM file");const s=a.readInt32LE(4),o=a.toString("utf8",8,8+s),f=rS(o),l=[],u={},c=f.filter(h=>h.tag==="SQ");for(const[h,d]of c.entries()){let p="",m=0;for(const y of d.data)y.tag==="SN"?p=y.value:y.tag==="LN"&&(m=+y.value);u[p]=h,l[h]={refName:p,length:m}}return this.chrToIndex=u,this.indexToChr=l,f}}const _U=Object.freeze(Object.defineProperty({__proto__:null,BAI:Fs,BamFile:sS,BamRecord:nS,CSI:mh,HtsgetFile:EU},Symbol.toStringTag,{value:"Module"}));function lS(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()}class SU extends Error{}function Rs(e){if(e&&e.aborted){if(typeof DOMException<"u")throw new DOMException("aborted","AbortError");{const t=new SU("aborted");throw t.code="ERR_ABORTED",t}}}function CU(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}function fS(e,t){const n=[];let r=null;return e.length===0?e:(e.sort(function(i,a){const s=i.minv.blockPosition-a.minv.blockPosition;return s!==0?s:i.minv.dataPosition-a.minv.dataPosition}),e.forEach(i=>{(!t||i.maxv.compareTo(t)>0)&&(r===null?(n.push(i),r=i):CU(r,i)?i.maxv.compareTo(r.maxv)>0&&(r.maxv=i.maxv):(n.push(i),r=i))}),n)}class Yg{constructor(t,n){this.blockPosition=t,this.dataPosition=n}toString(){return`${this.blockPosition}:${this.dataPosition}`}compareTo(t){return this.blockPosition-t.blockPosition||this.dataPosition-t.dataPosition}static min(...t){let n,r=0;for(;!n;r+=1)n=t[r];for(;r<t.length;r+=1)n.compareTo(t[r])>0&&(n=t[r]);return n}}function Ms(e,t=0,n=!1){if(n)throw new Error("big-endian virtual file offsets not implemented");return new Yg(e[t+7]*1099511627776+e[t+6]*4294967296+e[t+5]*16777216+e[t+4]*65536+e[t+3]*256+e[t+2],e[t+1]<<8|e[t])}class bh{constructor(t,n,r,i=void 0){this.minv=t,this.maxv=n,this.bin=r,this._fetchedSize=i}toUniqueString(){return`${this.minv}..${this.maxv} (bin ${this.bin}, fetchedSize ${this.fetchedSize()})`}toString(){return this.toUniqueString()}compareTo(t){return this.minv.compareTo(t.minv)||this.maxv.compareTo(t.maxv)||this.bin-t.bin}fetchedSize(){return this._fetchedSize!==void 0?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}class uS{constructor({filehandle:t,renameRefSeqs:n=r=>r}){this.filehandle=t,this.renameRefSeq=n}async getMetadata(t={}){const{indices:n,...r}=await this.parse(t);return r}_findFirstData(t,n){return t?t.compareTo(n)>0?n:t:n}async parse(t={}){return this.parseP||(this.parseP=this._parse(t).catch(n=>{throw this.parseP=void 0,n})),this.parseP}async hasRefSeq(t,n={}){var r;return!!(!((r=(await this.parse(n)).indices[t])===null||r===void 0)&&r.binIndex)}}const kU=21578324,cS=14;function TU(e,t){return e+=1,t-=1,[[0,0],[1+(e>>26),1+(t>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}class yh extends uS{async lineCount(t,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[t];if(!r.indices[i])return-1;const{stats:s}=r.indices[i];return s?s.lineCount:-1}async _parse(t={}){const n=await this.filehandle.readFile(t),r=await ui(n);if(Rs(t.signal),r.readUInt32LE(0)!==kU)throw new Error("Not a TBI file");const i=r.readInt32LE(4),a=r.readInt32LE(8),s=a&65536?"zero-based-half-open":"1-based-closed",f={0:"generic",1:"SAM",2:"VCF"}[a&15];if(!f)throw new Error(`invalid Tabix preset format flags ${a}`);const l={ref:r.readInt32LE(12),start:r.readInt32LE(16),end:r.readInt32LE(20)},u=r.readInt32LE(24),c=5,h=((1<<(c+1)*3)-1)/7,d=2**(14+c*3),p=u?String.fromCharCode(u):null,m=r.readInt32LE(28),y=r.readInt32LE(32),{refNameToId:w,refIdToName:v}=this._parseNameBytes(r.slice(36,36+y));let S=36+y,_;return{indices:new Array(i).fill(0).map(()=>{const I=r.readInt32LE(S);S+=4;const B={};let F;for(let N=0;N<I;N+=1){const re=r.readUInt32LE(S);if(S+=4,re>h+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(re===h+1){const oe=r.readInt32LE(S);S+=4,oe===2&&(F=this.parsePseudoBin(r,S)),S+=16*oe}else{const oe=r.readInt32LE(S);S+=4;const te=new Array(oe);for(let ge=0;ge<oe;ge+=1){const Je=Ms(r,S),Fe=Ms(r,S+8);S+=16,_=this._findFirstData(_,Je),te[ge]=new bh(Je,Fe,re)}B[re]=te}}const M=r.readInt32LE(S);S+=4;const H=new Array(M);for(let N=0;N<M;N+=1)H[N]=Ms(r,S),S+=8,_=this._findFirstData(_,H[N]);return{binIndex:B,linearIndex:H,stats:F}}),metaChar:p,maxBinNumber:h,maxRefLength:d,skipLines:m,firstDataLine:_,columnNumbers:l,coordinateType:s,format:f,refIdToName:v,refNameToId:w,maxBlockSize:65536}}parsePseudoBin(t,n){return{lineCount:lS(jc.fromBytesLE(t.slice(n+16,n+24),!0))}}_parseNameBytes(t){let n=0,r=0;const i=[],a={};for(let s=0;s<t.length;s+=1)if(!t[s]){if(r<s){let o=t.toString("utf8",r,s);o=this.renameRefSeq(o),i[n]=o,a[o]=n}r=s+1,n+=1}return{refNameToId:a,refIdToName:i}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const a=await this.parse(i);if(!a)return[];const s=a.refNameToId[t],o=a.indices[s];if(!o)return[];(o.linearIndex.length?o.linearIndex[n>>cS>=o.linearIndex.length?o.linearIndex.length-1:n>>cS]:new Yg(0,0))||console.warn("querying outside of possible tabix range");const l=TU(n,r),u=[];for(const[m,y]of l)for(let w=m;w<=y;w++)if(o.binIndex[w])for(const v of o.binIndex[w])u.push(new bh(v.minv,v.maxv,w));const c=o.linearIndex.length;let h=null;const d=Math.min(n>>14,c-1),p=Math.min(r>>14,c-1);for(let m=d;m<=p;++m){const y=o.linearIndex[m];y&&(!h||y.compareTo(h)<0)&&(h=y)}return fS(u,h)}}const IU=21582659,BU=38359875;function DU(e,t){return e*2**t}function hS(e,t){return Math.floor(e/2**t)}class Qg extends uS{constructor(t){super(t),this.maxBinNumber=0,this.depth=0,this.minShift=0}async lineCount(t,n={}){const r=await this.parse(n);if(!r)return-1;const i=r.refNameToId[t];if(!r.indices[i])return-1;const{stats:s}=r.indices[i];return s?s.lineCount:-1}indexCov(){throw new Error("CSI indexes do not support indexcov")}parseAuxData(t,n){const r=t.readInt32LE(n),i=r&65536?"zero-based-half-open":"1-based-closed",a={0:"generic",1:"SAM",2:"VCF"}[r&15];if(!a)throw new Error(`invalid Tabix preset format flags ${r}`);const s={ref:t.readInt32LE(n+4),start:t.readInt32LE(n+8),end:t.readInt32LE(n+12)},o=t.readInt32LE(n+16),f=o?String.fromCharCode(o):null,l=t.readInt32LE(n+20),u=t.readInt32LE(n+24),{refIdToName:c,refNameToId:h}=this._parseNameBytes(t.slice(n+28,n+28+u));return{refIdToName:c,refNameToId:h,skipLines:l,metaChar:f,columnNumbers:s,format:a,coordinateType:i}}_parseNameBytes(t){let n=0,r=0;const i=[],a={};for(let s=0;s<t.length;s+=1)if(!t[s]){if(r<s){let o=t.toString("utf8",r,s);o=this.renameRefSeq(o),i[n]=o,a[o]=n}r=s+1,n+=1}return{refNameToId:a,refIdToName:i}}async _parse(t={}){const n=await ui(await this.filehandle.readFile(t));let r;if(n.readUInt32LE(0)===IU)r=1;else if(n.readUInt32LE(0)===BU)r=2;else throw new Error("Not a CSI file");this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<(this.depth+1)*3)-1)/7;const i=2**(this.minShift+this.depth*3),a=n.readInt32LE(12),s=a&&a>=30?this.parseAuxData(n,16):{refIdToName:[],refNameToId:{},metaChar:null,columnNumbers:{ref:0,start:1,end:2},coordinateType:"zero-based-half-open",format:"generic"},o=n.readInt32LE(16+a);let f,l=16+a+4;const u=new Array(o).fill(0).map(()=>{const c=n.readInt32LE(l);l+=4;const h={};let d;for(let p=0;p<c;p+=1){const m=n.readUInt32LE(l);if(m>this.maxBinNumber)d=this.parsePseudoBin(n,l+4),l+=4+8+4+16+16;else{const y=Ms(n,l+4);f=this._findFirstData(f,y);const w=n.readInt32LE(l+12);l+=16;const v=new Array(w);for(let S=0;S<w;S+=1){const _=Ms(n,l),T=Ms(n,l+8);l+=16,v[S]=new bh(_,T,m)}h[m]=v}}return{binIndex:h,stats:d}});return{...s,csi:!0,refCount:o,maxBlockSize:65536,firstDataLine:f,csiVersion:r,indices:u,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}}parsePseudoBin(t,n){return{lineCount:lS(jc.fromBytesLE(t.slice(n+28,n+36),!0))}}async blocksForRange(t,n,r,i={}){n<0&&(n=0);const a=await this.parse(i);if(!a)return[];const s=a.refNameToId[t],o=a.indices[s];if(!o)return[];const f=this.reg2bins(n,r),l=[];for(const[u,c]of f)for(let h=u;h<=c;h++)if(o.binIndex[h])for(const d of o.binIndex[h])l.push(new bh(d.minv,d.maxv,h));return fS(l,new Yg(0,0))}reg2bins(t,n){t-=1,t<1&&(t=1),n>2**50&&(n=2**34),n-=1;let r=0,i=0,a=this.minShift+this.depth*3;const s=[];for(;r<=this.depth;a-=3,i+=DU(1,r*3),r+=1){const o=i+hS(t,a),f=i+hS(n,a);if(f-o+s.length>this.maxBinNumber)throw new Error(`query ${t}-${n} is too large for current binning scheme (shift ${this.minShift}, depth ${this.depth}), try a smaller query or a coarser index binning scheme`);s.push([o,f])}return s}}const Xg=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function FU(e){return new Promise(t=>setTimeout(t,e))}class RU{constructor({path:t,filehandle:n,tbiPath:r,tbiFilehandle:i,csiPath:a,csiFilehandle:s,yieldTime:o=500,chunkSizeLimit:f=5e7,renameRefSeqs:l=c=>c,chunkCacheSize:u=5*2**20}){if(n)this.filehandle=n;else if(t)this.filehandle=new dt(t);else throw new TypeError("must provide either filehandle or path");if(i)this.index=new yh({filehandle:i,renameRefSeqs:l});else if(s)this.index=new Qg({filehandle:s,renameRefSeqs:l});else if(r)this.index=new yh({filehandle:new dt(r),renameRefSeqs:l});else if(a)this.index=new Qg({filehandle:new dt(a),renameRefSeqs:l});else if(t)this.index=new yh({filehandle:new dt(`${t}.tbi`),renameRefSeqs:l});else throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.chunkSizeLimit=f,this.renameRefSeq=l,this.yieldTime=o,this.chunkCache=new Kc({cache:new Jc({maxSize:Math.floor(u/65536)}),fill:(c,h)=>this.readChunk(c,{signal:h})})}async getLines(t,n,r,i){var a;let s,o={},f;if(i===void 0)throw new TypeError("line callback must be provided");if(typeof i=="function"?f=i:(o=i,f=i.lineCallback,s=i.signal),t===void 0)throw new TypeError("must provide a reference sequence name");if(!f)throw new TypeError("line callback must be provided");const l=await this.index.getMetadata(o);Rs(s);const u=n??0,c=r??l.maxRefLength;if(!(u<=c))throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");if(u===c)return;const h=await this.index.blocksForRange(t,u,c,o);Rs(s);for(const p of h){const m=p.fetchedSize();if(m>this.chunkSizeLimit)throw new Error(`Too much data. Chunk size ${m.toLocaleString()} bytes exceeds chunkSizeLimit of ${this.chunkSizeLimit.toLocaleString()}.`)}let d=Date.now();for(const p of h){let m;const{buffer:y,cpositions:w,dpositions:v}=await this.chunkCache.get(p.toString(),p,s);Rs(s);let S=0,_=0;for(;S<y.length;){const T=y.indexOf(`
`,S);if(T===-1)break;const I=y.slice(S,T),B=(a=Xg==null?void 0:Xg.decode(I))!==null&&a!==void 0?a:I.toString();if(v){for(;S+p.minv.dataPosition>=v[_++];);_--}const{startCoordinate:F,overlaps:M}=this.checkLine(l,t,u,c,B);if(m!==void 0&&F!==void 0&&m>F)throw new Error(`Lines not sorted by start coordinate (${m} > ${F}), this file is not usable with Tabix.`);if(m=F,M)f(B.trim(),w[_]*256+(S-v[_])+p.minv.dataPosition+1);else if(F!==void 0&&F>=c)return;this.yieldTime&&d-Date.now()>this.yieldTime&&(d=Date.now(),Rs(s),await FU(1)),S=T+1}}}async getMetadata(t={}){return this.index.getMetadata(t)}async getHeaderBuffer(t={}){const{firstDataLine:n,metaChar:r,maxBlockSize:i}=await this.getMetadata(t);Rs(t.signal);const a=((n==null?void 0:n.blockPosition)||0)+i,s=await this._readRegion(0,a,t),o=await ui(s);if(r){let f=-1;const l=`
`.charCodeAt(0),u=r.charCodeAt(0);for(let c=0;c<o.length&&!(c===f+1&&o[c]!==u);c+=1)o[c]===l&&(f=c);return o.slice(0,f+1)}return o}async getHeader(t={}){return(await this.getHeaderBuffer(t)).toString("utf8")}async getReferenceSequenceNames(t={}){return(await this.getMetadata(t)).refIdToName}checkLine(t,n,r,i,a){const{columnNumbers:s,metaChar:o,coordinateType:f,format:l}=t;if(o&&a.startsWith(o))return{overlaps:!1};let{ref:u,start:c,end:h}=s;u||(u=0),c||(c=0),h||(h=0),l==="VCF"&&(h=8);const d=Math.max(u,c,h);let p=1,m=0,y="",w=-1/0;for(let v=0;v<a.length+1;v+=1)if(a[v]==="	"||v===a.length){if(p===u){if(this.renameRefSeq(a.slice(m,v))!==n)return{overlaps:!1}}else if(p===c){if(w=parseInt(a.slice(m,v),10),f==="1-based-closed"&&(w-=1),w>=i)return{startCoordinate:w,overlaps:!1};if((h===0||h===c)&&w+1<=r)return{startCoordinate:w,overlaps:!1}}else if(l==="VCF"&&p===4)y=a.slice(m,v);else if(p===h&&(l==="VCF"?this._getVcfEnd(w,y,a.slice(m,v)):parseInt(a.slice(m,v),10))<=r)return{overlaps:!1};if(m=v+1,p+=1,p>d)break}return{startCoordinate:w,overlaps:!0}}_getVcfEnd(t,n,r){let i=t+n.length;const a=r.includes("SVTYPE=TRA");if(r[0]!=="."&&!a){let s=";";for(let o=0;o<r.length;o+=1){if(s===";"&&r.slice(o,o+4)==="END="){let f=r.indexOf(";",o);f===-1&&(f=r.length),i=parseInt(r.slice(o+4,f),10);break}s=r[o]}}else if(a)return t+1;return i}async lineCount(t,n={}){return this.index.lineCount(t,n)}async _readRegion(t,n,r={}){const i=me.Buffer.alloc(n),{bytesRead:a,buffer:s}=await this.filehandle.read(i,0,n,t,r);return s.slice(0,a)}async readChunk(t,n={}){const r=await this._readRegion(t.minv.blockPosition,t.fetchedSize(),n);return C2(r,t)}}const MU=Object.freeze(Object.defineProperty({__proto__:null,CSI:Qg,TBI:yh,TabixIndexedFile:RU},Symbol.toStringTag,{value:"Module"}));var Kg={exports:{}},Ps=typeof Reflect=="object"?Reflect:null,dS=Ps&&typeof Ps.apply=="function"?Ps.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},wh;Ps&&typeof Ps.ownKeys=="function"?wh=Ps.ownKeys:Object.getOwnPropertySymbols?wh=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:wh=function(t){return Object.getOwnPropertyNames(t)};function PU(e){console&&console.warn&&console.warn(e)}var pS=Number.isNaN||function(t){return t!==t};function De(){De.init.call(this)}Kg.exports=De,Kg.exports.once=zU,De.EventEmitter=De,De.prototype._events=void 0,De.prototype._eventsCount=0,De.prototype._maxListeners=void 0;var gS=10;function xh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(De,"defaultMaxListeners",{enumerable:!0,get:function(){return gS},set:function(e){if(typeof e!="number"||e<0||pS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");gS=e}}),De.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},De.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||pS(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function mS(e){return e._maxListeners===void 0?De.defaultMaxListeners:e._maxListeners}De.prototype.getMaxListeners=function(){return mS(this)},De.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[t];if(f===void 0)return!1;if(typeof f=="function")dS(f,this,n);else for(var l=f.length,u=vS(f,l),r=0;r<l;++r)dS(u[r],this,n);return!0};function bS(e,t,n,r){var i,a,s;if(xh(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),s===void 0)s=a[t]=n,++e._eventsCount;else if(typeof s=="function"?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=mS(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,PU(o)}return e}De.prototype.addListener=function(t,n){return bS(this,t,n,!1)},De.prototype.on=De.prototype.addListener,De.prototype.prependListener=function(t,n){return bS(this,t,n,!0)};function LU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yS(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=LU.bind(r);return i.listener=n,r.wrapFn=i,i}De.prototype.once=function(t,n){return xh(n),this.on(t,yS(this,t,n)),this},De.prototype.prependOnceListener=function(t,n){return xh(n),this.prependListener(t,yS(this,t,n)),this},De.prototype.removeListener=function(t,n){var r,i,a,s,o;if(xh(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(a=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,a=s;break}if(a<0)return this;a===0?r.shift():OU(r,a),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,o||n)}return this},De.prototype.off=De.prototype.removeListener,De.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function wS(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?NU(i):vS(i,i.length)}De.prototype.listeners=function(t){return wS(this,t,!0)},De.prototype.rawListeners=function(t){return wS(this,t,!1)},De.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):xS.call(e,t)},De.prototype.listenerCount=xS;function xS(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}De.prototype.eventNames=function(){return this._eventsCount>0?wh(this._events):[]};function vS(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function OU(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function NU(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function zU(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,a),r(s)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}AS(e,t,a,{once:!0}),t!=="error"&&UU(e,i,{once:!0})})}function UU(e,t,n){typeof e.on=="function"&&AS(e,"error",t,n)}function AS(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Jg=Kg.exports,em={exports:{}};typeof Object.create=="function"?em.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:em.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Ls=em.exports,tm,ES;function _S(){return ES||(ES=1,tm=Jg.EventEmitter),tm}const SS=JP(lL);var nm,CS;function GU(){if(CS)return nm;CS=1;function e(p,m){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(p);m&&(w=w.filter(function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable})),y.push.apply(y,w)}return y}function t(p){for(var m=1;m<arguments.length;m++){var y=arguments[m]!=null?arguments[m]:{};m%2?e(Object(y),!0).forEach(function(w){n(p,w,y[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(w){Object.defineProperty(p,w,Object.getOwnPropertyDescriptor(y,w))})}return p}function n(p,m,y){return m=s(m),m in p?Object.defineProperty(p,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[m]=y,p}function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,s(w.key),w)}}function a(p,m,y){return m&&i(p.prototype,m),y&&i(p,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function s(p){var m=o(p,"string");return typeof m=="symbol"?m:String(m)}function o(p,m){if(typeof p!="object"||p===null)return p;var y=p[Symbol.toPrimitive];if(y!==void 0){var w=y.call(p,m||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}var f=me,l=f.Buffer,u=SS,c=u.inspect,h=c&&c.custom||"inspect";function d(p,m,y){l.prototype.copy.call(p,m,y)}return nm=function(){function p(){r(this,p),this.head=null,this.tail=null,this.length=0}return a(p,[{key:"push",value:function(y){var w={data:y,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(y){var w={data:y,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=y+w.data;return v}},{key:"concat",value:function(y){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(y>>>0),v=this.head,S=0;v;)d(v.data,w,S),S+=v.data.length,v=v.next;return w}},{key:"consume",value:function(y,w){var v;return y<this.head.data.length?(v=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?v=this.shift():v=w?this._getString(y):this._getBuffer(y),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var w=this.head,v=1,S=w.data;for(y-=S.length;w=w.next;){var _=w.data,T=y>_.length?_.length:y;if(T===_.length?S+=_:S+=_.slice(0,y),y-=T,y===0){T===_.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=_.slice(T));break}++v}return this.length-=v,S}},{key:"_getBuffer",value:function(y){var w=l.allocUnsafe(y),v=this.head,S=1;for(v.data.copy(w),y-=v.data.length;v=v.next;){var _=v.data,T=y>_.length?_.length:y;if(_.copy(w,w.length-y,0,T),y-=T,y===0){T===_.length?(++S,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=_.slice(T));break}++S}return this.length-=S,w}},{key:h,value:function(y,w){return c(this,t(t({},w),{},{depth:0,customInspect:!1}))}}]),p}(),nm}var rm,kS;function TS(){if(kS)return rm;kS=1;function e(s,o){var f=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,s)):process.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(c){!o&&c?f._writableState?f._writableState.errorEmitted?process.nextTick(n,f):(f._writableState.errorEmitted=!0,process.nextTick(t,f,c)):process.nextTick(t,f,c):o?(process.nextTick(n,f),o(c)):process.nextTick(n,f)}),this)}function t(s,o){i(s,o),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,o){s.emit("error",o)}function a(s,o){var f=s._readableState,l=s._writableState;f&&f.autoDestroy||l&&l.autoDestroy?s.destroy(o):s.emit("error",o)}return rm={destroy:e,undestroy:r,errorOrDestroy:a},rm}var im={},IS;function Os(){if(IS)return im;IS=1;function e(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var t={};function n(o,f,l){l||(l=Error);function u(h,d,p){return typeof f=="string"?f:f(h,d,p)}var c=function(h){e(d,h);function d(p,m,y){return h.call(this,u(p,m,y))||this}return d}(l);c.prototype.name=l.name,c.prototype.code=o,t[o]=c}function r(o,f){if(Array.isArray(o)){var l=o.length;return o=o.map(function(u){return String(u)}),l>2?"one of ".concat(f," ").concat(o.slice(0,l-1).join(", "),", or ")+o[l-1]:l===2?"one of ".concat(f," ").concat(o[0]," or ").concat(o[1]):"of ".concat(f," ").concat(o[0])}else return"of ".concat(f," ").concat(String(o))}function i(o,f,l){return o.substr(!l||l<0?0:+l,f.length)===f}function a(o,f,l){return(l===void 0||l>o.length)&&(l=o.length),o.substring(l-f.length,l)===f}function s(o,f,l){return typeof l!="number"&&(l=0),l+f.length>o.length?!1:o.indexOf(f,l)!==-1}return n("ERR_INVALID_OPT_VALUE",function(o,f){return'The value "'+f+'" is invalid for option "'+o+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(o,f,l){var u;typeof f=="string"&&i(f,"not ")?(u="must not be",f=f.replace(/^not /,"")):u="must be";var c;if(a(o," argument"))c="The ".concat(o," ").concat(u," ").concat(r(f,"type"));else{var h=s(o,".")?"property":"argument";c='The "'.concat(o,'" ').concat(h," ").concat(u," ").concat(r(f,"type"))}return c+=". Received type ".concat(typeof l),c},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),im.codes=t,im}var am,BS;function DS(){if(BS)return am;BS=1;var e=Os().codes.ERR_INVALID_OPT_VALUE;function t(r,i,a){return r.highWaterMark!=null?r.highWaterMark:i?r[a]:null}function n(r,i,a,s){var o=t(i,s,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var f=s?a:"highWaterMark";throw new e(f,o)}return Math.floor(o)}return r.objectMode?16:16*1024}return am={getHighWaterMark:n},am}var sm,FS;function HU(){if(FS)return sm;FS=1,sm=e;function e(n,r){if(t("noDeprecation"))return n;var i=!1;function a(){if(!i){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return a}function t(n){try{if(!on.localStorage)return!1}catch{return!1}var r=on.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return sm}var om,RS;function MS(){if(RS)return om;RS=1,om=F;function e(L){var P=this;this.next=null,this.entry=null,this.finish=function(){Ne(P,L)}}var t;F.WritableState=I;var n={deprecate:HU()},r=_S(),i=me.Buffer,a=(typeof on<"u"?on:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(L){return i.from(L)}function o(L){return i.isBuffer(L)||L instanceof a}var f=TS(),l=DS(),u=l.getHighWaterMark,c=Os().codes,h=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,m=c.ERR_STREAM_CANNOT_PIPE,y=c.ERR_STREAM_DESTROYED,w=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,S=c.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;Ls(F,r);function T(){}function I(L,P,q){t=t||Ns(),L=L||{},typeof q!="boolean"&&(q=P instanceof t),this.objectMode=!!L.objectMode,q&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=u(this,L,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=L.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){Je(P,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,q=[];P;)q.push(P),P=P.next;return q},function(){try{Object.defineProperty(I.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(P){return B.call(this,P)?!0:this!==F?!1:P&&P._writableState instanceof I}})):B=function(P){return P instanceof this};function F(L){t=t||Ns();var P=this instanceof t;if(!P&&!B.call(F,this))return new F(L);this._writableState=new I(L,this,P),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),r.call(this)}F.prototype.pipe=function(){_(this,new m)};function M(L,P){var q=new v;_(L,q),process.nextTick(P,q)}function H(L,P,q,j){var Z;return q===null?Z=new w:typeof q!="string"&&!P.objectMode&&(Z=new h("chunk",["string","Buffer"],q)),Z?(_(L,Z),process.nextTick(j,Z),!1):!0}F.prototype.write=function(L,P,q){var j=this._writableState,Z=!1,C=!j.objectMode&&o(L);return C&&!i.isBuffer(L)&&(L=s(L)),typeof P=="function"&&(q=P,P=null),C?P="buffer":P||(P=j.defaultEncoding),typeof q!="function"&&(q=T),j.ending?M(this,q):(C||H(this,j,L,q))&&(j.pendingcb++,Z=re(this,j,C,L,P,q)),Z},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&Ze(this,L))},F.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new S(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(L,P,q){return!L.objectMode&&L.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,q)),P}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function re(L,P,q,j,Z,C){if(!q){var A=N(P,j,Z);j!==A&&(q=!0,Z="buffer",j=A)}var V=P.objectMode?1:j.length;P.length+=V;var W=P.length<P.highWaterMark;if(W||(P.needDrain=!0),P.writing||P.corked){var fe=P.lastBufferedRequest;P.lastBufferedRequest={chunk:j,encoding:Z,isBuf:q,callback:C,next:null},fe?fe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else oe(L,P,!1,V,j,Z,C);return W}function oe(L,P,q,j,Z,C,A){P.writelen=j,P.writecb=A,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new y("write")):q?L._writev(Z,P.onwrite):L._write(Z,C,P.onwrite),P.sync=!1}function te(L,P,q,j,Z){--P.pendingcb,q?(process.nextTick(Z,j),process.nextTick(gt,L,P),L._writableState.errorEmitted=!0,_(L,j)):(Z(j),L._writableState.errorEmitted=!0,_(L,j),gt(L,P))}function ge(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function Je(L,P){var q=L._writableState,j=q.sync,Z=q.writecb;if(typeof Z!="function")throw new p;if(ge(q),P)te(L,q,j,P,Z);else{var C=tt(q)||L.destroyed;!C&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&Ze(L,q),j?process.nextTick(Fe,L,q,C,Z):Fe(L,q,C,Z)}}function Fe(L,P,q,j){q||et(L,P),P.pendingcb--,j(),gt(L,P)}function et(L,P){P.length===0&&P.needDrain&&(P.needDrain=!1,L.emit("drain"))}function Ze(L,P){P.bufferProcessing=!0;var q=P.bufferedRequest;if(L._writev&&q&&q.next){var j=P.bufferedRequestCount,Z=new Array(j),C=P.corkedRequestsFree;C.entry=q;for(var A=0,V=!0;q;)Z[A]=q,q.isBuf||(V=!1),q=q.next,A+=1;Z.allBuffers=V,oe(L,P,!0,P.length,Z,"",C.finish),P.pendingcb++,P.lastBufferedRequest=null,C.next?(P.corkedRequestsFree=C.next,C.next=null):P.corkedRequestsFree=new e(P),P.bufferedRequestCount=0}else{for(;q;){var W=q.chunk,fe=q.encoding,ne=q.callback,ue=P.objectMode?1:W.length;if(oe(L,P,!1,ue,W,fe,ne),q=q.next,P.bufferedRequestCount--,P.writing)break}q===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=q,P.bufferProcessing=!1}F.prototype._write=function(L,P,q){q(new d("_write()"))},F.prototype._writev=null,F.prototype.end=function(L,P,q){var j=this._writableState;return typeof L=="function"?(q=L,L=null,P=null):typeof P=="function"&&(q=P,P=null),L!=null&&this.write(L,P),j.corked&&(j.corked=1,this.uncork()),j.ending||qt(this,j,q),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tt(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function Se(L,P){L._final(function(q){P.pendingcb--,q&&_(L,q),P.prefinished=!0,L.emit("prefinish"),gt(L,P)})}function Ce(L,P){!P.prefinished&&!P.finalCalled&&(typeof L._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,process.nextTick(Se,L,P)):(P.prefinished=!0,L.emit("prefinish")))}function gt(L,P){var q=tt(P);if(q&&(Ce(L,P),P.pendingcb===0&&(P.finished=!0,L.emit("finish"),P.autoDestroy))){var j=L._readableState;(!j||j.autoDestroy&&j.endEmitted)&&L.destroy()}return q}function qt(L,P,q){P.ending=!0,gt(L,P),q&&(P.finished?process.nextTick(q):L.once("finish",q)),P.ended=!0,L.writable=!1}function Ne(L,P,q){var j=L.entry;for(L.entry=null;j;){var Z=j.callback;P.pendingcb--,Z(q),j=j.next}P.corkedRequestsFree.next=L}return Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),F.prototype.destroy=f.destroy,F.prototype._undestroy=f.undestroy,F.prototype._destroy=function(L,P){P(L)},om}var lm,PS;function Ns(){if(PS)return lm;PS=1;var e=Object.keys||function(l){var u=[];for(var c in l)u.push(c);return u};lm=s;var t=GS(),n=MS();Ls(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var a=r[i];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(l){if(!(this instanceof s))return new s(l);t.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(f,this)}function f(l){l.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),lm}var fm={},um={exports:{}};(function(e,t){var n=me,r=n.Buffer;function i(s,o){for(var f in s)o[f]=s[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(s,o,f){return r(s,o,f)}i(r,a),a.from=function(s,o,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,f)},a.alloc=function(s,o,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return o!==void 0?typeof f=="string"?l.fill(o,f):l.fill(o):l.fill(0),l},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(um,um.exports);var VU=um.exports,cm=VU.Buffer,LS=cm.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jU(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function $U(e){var t=jU(e);if(typeof t!="string"&&(cm.isEncoding===LS||!LS(e)))throw new Error("Unknown encoding: "+e);return t||e}var qU=fm.StringDecoder=lf;function lf(e){this.encoding=$U(e);var t;switch(this.encoding){case"utf16le":this.text=KU,this.end=JU,t=4;break;case"utf8":this.fillLast=YU,t=4;break;case"base64":this.text=eG,this.end=tG,t=3;break;default:this.write=nG,this.end=rG;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=cm.allocUnsafe(t)}lf.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},lf.prototype.end=XU,lf.prototype.text=QU,lf.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function hm(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function WU(e,t,n){var r=t.length-1;if(r<n)return 0;var i=hm(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=hm(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=hm(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ZU(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function YU(e){var t=this.lastTotal-this.lastNeed,n=ZU(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function QU(e,t){var n=WU(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function XU(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function KU(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function JU(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function eG(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function tG(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function nG(e){return e.toString(this.encoding)}function rG(e){return e&&e.length?this.write(e):""}var dm,OS;function pm(){if(OS)return dm;OS=1;var e=Os().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,f=new Array(o),l=0;l<o;l++)f[l]=arguments[l];a.apply(this,f)}}}function n(){}function r(a){return a.setHeader&&typeof a.abort=="function"}function i(a,s,o){if(typeof s=="function")return i(a,null,s);s||(s={}),o=t(o||n);var f=s.readable||s.readable!==!1&&a.readable,l=s.writable||s.writable!==!1&&a.writable,u=function(){a.writable||h()},c=a._writableState&&a._writableState.finished,h=function(){l=!1,c=!0,f||o.call(a)},d=a._readableState&&a._readableState.endEmitted,p=function(){f=!1,d=!0,l||o.call(a)},m=function(S){o.call(a,S)},y=function(){var S;if(f&&!d)return(!a._readableState||!a._readableState.ended)&&(S=new e),o.call(a,S);if(l&&!c)return(!a._writableState||!a._writableState.ended)&&(S=new e),o.call(a,S)},w=function(){a.req.on("finish",h)};return r(a)?(a.on("complete",h),a.on("abort",y),a.req?w():a.on("request",w)):l&&!a._writableState&&(a.on("end",u),a.on("close",u)),a.on("end",p),a.on("finish",h),s.error!==!1&&a.on("error",m),a.on("close",y),function(){a.removeListener("complete",h),a.removeListener("abort",y),a.removeListener("request",w),a.req&&a.req.removeListener("finish",h),a.removeListener("end",u),a.removeListener("close",u),a.removeListener("finish",h),a.removeListener("end",p),a.removeListener("error",m),a.removeListener("close",y)}}return dm=i,dm}var gm,NS;function iG(){if(NS)return gm;NS=1;var e;function t(S,_,T){return _=n(_),_ in S?Object.defineProperty(S,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[_]=T,S}function n(S){var _=r(S,"string");return typeof _=="symbol"?_:String(_)}function r(S,_){if(typeof S!="object"||S===null)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var I=T.call(S,_||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(S)}var i=pm(),a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function h(S,_){return{value:S,done:_}}function d(S){var _=S[a];if(_!==null){var T=S[c].read();T!==null&&(S[l]=null,S[a]=null,S[s]=null,_(h(T,!1)))}}function p(S){process.nextTick(d,S)}function m(S,_){return function(T,I){S.then(function(){if(_[f]){T(h(void 0,!0));return}_[u](T,I)},I)}}var y=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e={get stream(){return this[c]},next:function(){var _=this,T=this[o];if(T!==null)return Promise.reject(T);if(this[f])return Promise.resolve(h(void 0,!0));if(this[c].destroyed)return new Promise(function(M,H){process.nextTick(function(){_[o]?H(_[o]):M(h(void 0,!0))})});var I=this[l],B;if(I)B=new Promise(m(I,this));else{var F=this[c].read();if(F!==null)return Promise.resolve(h(F,!1));B=new Promise(this[u])}return this[l]=B,B}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var _=this;return new Promise(function(T,I){_[c].destroy(null,function(B){if(B){I(B);return}T(h(void 0,!0))})})}),e),y),v=function(_){var T,I=Object.create(w,(T={},t(T,c,{value:_,writable:!0}),t(T,a,{value:null,writable:!0}),t(T,s,{value:null,writable:!0}),t(T,o,{value:null,writable:!0}),t(T,f,{value:_._readableState.endEmitted,writable:!0}),t(T,u,{value:function(F,M){var H=I[c].read();H?(I[l]=null,I[a]=null,I[s]=null,F(h(H,!1))):(I[a]=F,I[s]=M)},writable:!0}),T));return I[l]=null,i(_,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=I[s];F!==null&&(I[l]=null,I[a]=null,I[s]=null,F(B)),I[o]=B;return}var M=I[a];M!==null&&(I[l]=null,I[a]=null,I[s]=null,M(h(void 0,!0))),I[f]=!0}),_.on("readable",p.bind(null,I)),I};return gm=v,gm}var mm,zS;function aG(){return zS||(zS=1,mm=function(){throw new Error("Readable.from is not available in the browser")}),mm}var bm,US;function GS(){if(US)return bm;US=1,bm=M;var e;M.ReadableState=F,Jg.EventEmitter;var t=function(A,V){return A.listeners(V).length},n=_S(),r=me.Buffer,i=(typeof on<"u"?on:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(C){return r.from(C)}function s(C){return r.isBuffer(C)||C instanceof i}var o=SS,f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var l=GU(),u=TS(),c=DS(),h=c.getHighWaterMark,d=Os().codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,S,_;Ls(M,n);var T=u.errorOrDestroy,I=["error","close","destroy","pause","resume"];function B(C,A,V){if(typeof C.prependListener=="function")return C.prependListener(A,V);!C._events||!C._events[A]?C.on(A,V):Array.isArray(C._events[A])?C._events[A].unshift(V):C._events[A]=[V,C._events[A]]}function F(C,A,V){e=e||Ns(),C=C||{},typeof V!="boolean"&&(V=A instanceof e),this.objectMode=!!C.objectMode,V&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=h(this,C,"readableHighWaterMark",V),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(v||(v=fm.StringDecoder),this.decoder=new v(C.encoding),this.encoding=C.encoding)}function M(C){if(e=e||Ns(),!(this instanceof M))return new M(C);var A=this instanceof e;this._readableState=new F(C,this,A),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),n.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),M.prototype.destroy=u.destroy,M.prototype._undestroy=u.undestroy,M.prototype._destroy=function(C,A){A(C)},M.prototype.push=function(C,A){var V=this._readableState,W;return V.objectMode?W=!0:typeof C=="string"&&(A=A||V.defaultEncoding,A!==V.encoding&&(C=r.from(C,A),A=""),W=!0),H(this,C,A,!1,W)},M.prototype.unshift=function(C){return H(this,C,null,!0,!1)};function H(C,A,V,W,fe){f("readableAddChunk",A);var ne=C._readableState;if(A===null)ne.reading=!1,Je(C,ne);else{var ue;if(fe||(ue=re(ne,A)),ue)T(C,ue);else if(ne.objectMode||A&&A.length>0)if(typeof A!="string"&&!ne.objectMode&&Object.getPrototypeOf(A)!==r.prototype&&(A=a(A)),W)ne.endEmitted?T(C,new w):N(C,ne,A,!0);else if(ne.ended)T(C,new m);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!V?(A=ne.decoder.write(A),ne.objectMode||A.length!==0?N(C,ne,A,!1):Ze(C,ne)):N(C,ne,A,!1)}else W||(ne.reading=!1,Ze(C,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function N(C,A,V,W){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,C.emit("data",V)):(A.length+=A.objectMode?1:V.length,W?A.buffer.unshift(V):A.buffer.push(V),A.needReadable&&Fe(C)),Ze(C,A)}function re(C,A){var V;return!s(A)&&typeof A!="string"&&A!==void 0&&!C.objectMode&&(V=new p("chunk",["string","Buffer","Uint8Array"],A)),V}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(C){v||(v=fm.StringDecoder);var A=new v(C);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,W="";V!==null;)W+=A.write(V.data),V=V.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var oe=1073741824;function te(C){return C>=oe?C=oe:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function ge(C,A){return C<=0||A.length===0&&A.ended?0:A.objectMode?1:C!==C?A.flowing&&A.length?A.buffer.head.data.length:A.length:(C>A.highWaterMark&&(A.highWaterMark=te(C)),C<=A.length?C:A.ended?A.length:(A.needReadable=!0,0))}M.prototype.read=function(C){f("read",C),C=parseInt(C,10);var A=this._readableState,V=C;if(C!==0&&(A.emittedReadable=!1),C===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return f("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?q(this):Fe(this),null;if(C=ge(C,A),C===0&&A.ended)return A.length===0&&q(this),null;var W=A.needReadable;f("need readable",W),(A.length===0||A.length-C<A.highWaterMark)&&(W=!0,f("length less than watermark",W)),A.ended||A.reading?(W=!1,f("reading or ended",W)):W&&(f("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(C=ge(V,A)));var fe;return C>0?fe=P(C,A):fe=null,fe===null?(A.needReadable=A.length<=A.highWaterMark,C=0):(A.length-=C,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),V!==C&&A.ended&&q(this)),fe!==null&&this.emit("data",fe),fe};function Je(C,A){if(f("onEofChunk"),!A.ended){if(A.decoder){var V=A.decoder.end();V&&V.length&&(A.buffer.push(V),A.length+=A.objectMode?1:V.length)}A.ended=!0,A.sync?Fe(C):(A.needReadable=!1,A.emittedReadable||(A.emittedReadable=!0,et(C)))}}function Fe(C){var A=C._readableState;f("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(f("emitReadable",A.flowing),A.emittedReadable=!0,process.nextTick(et,C))}function et(C){var A=C._readableState;f("emitReadable_",A.destroyed,A.length,A.ended),!A.destroyed&&(A.length||A.ended)&&(C.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,L(C)}function Ze(C,A){A.readingMore||(A.readingMore=!0,process.nextTick(tt,C,A))}function tt(C,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var V=A.length;if(f("maybeReadMore read 0"),C.read(0),V===A.length)break}A.readingMore=!1}M.prototype._read=function(C){T(this,new y("_read()"))},M.prototype.pipe=function(C,A){var V=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=C;break;case 1:W.pipes=[W.pipes,C];break;default:W.pipes.push(C);break}W.pipesCount+=1,f("pipe count=%d opts=%j",W.pipesCount,A);var fe=(!A||A.end!==!1)&&C!==process.stdout&&C!==process.stderr,ne=fe?Wt:rr;W.endEmitted?process.nextTick(ne):V.once("end",ne),C.on("unpipe",ue);function ue(x,g){f("onunpipe"),x===V&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,Si())}function Wt(){f("onend"),C.end()}var Ei=Se(V);C.on("drain",Ei);var _i=!1;function Si(){f("cleanup"),C.removeListener("close",Ci),C.removeListener("finish",Zt),C.removeListener("drain",Ei),C.removeListener("error",Tr),C.removeListener("unpipe",ue),V.removeListener("end",Wt),V.removeListener("end",rr),V.removeListener("data",Ct),_i=!0,W.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&Ei()}V.on("data",Ct);function Ct(x){f("ondata");var g=C.write(x);f("dest.write",g),g===!1&&((W.pipesCount===1&&W.pipes===C||W.pipesCount>1&&Z(W.pipes,C)!==-1)&&!_i&&(f("false write response, pause",W.awaitDrain),W.awaitDrain++),V.pause())}function Tr(x){f("onerror",x),rr(),C.removeListener("error",Tr),t(C,"error")===0&&T(C,x)}B(C,"error",Tr);function Ci(){C.removeListener("finish",Zt),rr()}C.once("close",Ci);function Zt(){f("onfinish"),C.removeListener("close",Ci),rr()}C.once("finish",Zt);function rr(){f("unpipe"),V.unpipe(C)}return C.emit("pipe",V),W.flowing||(f("pipe resume"),V.resume()),C};function Se(C){return function(){var V=C._readableState;f("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,V.awaitDrain===0&&t(C,"data")&&(V.flowing=!0,L(C))}}M.prototype.unpipe=function(C){var A=this._readableState,V={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return C&&C!==A.pipes?this:(C||(C=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,C&&C.emit("unpipe",this,V),this);if(!C){var W=A.pipes,fe=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var ne=0;ne<fe;ne++)W[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=Z(A.pipes,C);return ue===-1?this:(A.pipes.splice(ue,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),C.emit("unpipe",this,V),this)},M.prototype.on=function(C,A){var V=n.prototype.on.call(this,C,A),W=this._readableState;return C==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):C==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,f("on readable",W.length,W.reading),W.length?Fe(this):W.reading||process.nextTick(gt,this)),V},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(C,A){var V=n.prototype.removeListener.call(this,C,A);return C==="readable"&&process.nextTick(Ce,this),V},M.prototype.removeAllListeners=function(C){var A=n.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&process.nextTick(Ce,this),A};function Ce(C){var A=C._readableState;A.readableListening=C.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:C.listenerCount("data")>0&&C.resume()}function gt(C){f("readable nexttick read 0"),C.read(0)}M.prototype.resume=function(){var C=this._readableState;return C.flowing||(f("resume"),C.flowing=!C.readableListening,qt(this,C)),C.paused=!1,this};function qt(C,A){A.resumeScheduled||(A.resumeScheduled=!0,process.nextTick(Ne,C,A))}function Ne(C,A){f("resume",A.reading),A.reading||C.read(0),A.resumeScheduled=!1,C.emit("resume"),L(C),A.flowing&&!A.reading&&C.read(0)}M.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function L(C){var A=C._readableState;for(f("flow",A.flowing);A.flowing&&C.read()!==null;);}M.prototype.wrap=function(C){var A=this,V=this._readableState,W=!1;C.on("end",function(){if(f("wrapped end"),V.decoder&&!V.ended){var ue=V.decoder.end();ue&&ue.length&&A.push(ue)}A.push(null)}),C.on("data",function(ue){if(f("wrapped data"),V.decoder&&(ue=V.decoder.write(ue)),!(V.objectMode&&ue==null)&&!(!V.objectMode&&(!ue||!ue.length))){var Wt=A.push(ue);Wt||(W=!0,C.pause())}});for(var fe in C)this[fe]===void 0&&typeof C[fe]=="function"&&(this[fe]=function(Wt){return function(){return C[Wt].apply(C,arguments)}}(fe));for(var ne=0;ne<I.length;ne++)C.on(I[ne],this.emit.bind(this,I[ne]));return this._read=function(ue){f("wrapped _read",ue),W&&(W=!1,C.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=iG()),S(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),M._fromList=P,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(C,A){if(A.length===0)return null;var V;return A.objectMode?V=A.buffer.shift():!C||C>=A.length?(A.decoder?V=A.buffer.join(""):A.buffer.length===1?V=A.buffer.first():V=A.buffer.concat(A.length),A.buffer.clear()):V=A.buffer.consume(C,A.decoder),V}function q(C){var A=C._readableState;f("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,process.nextTick(j,A,C))}function j(C,A){if(f("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,A.readable=!1,A.emit("end"),C.autoDestroy)){var V=A._writableState;(!V||V.autoDestroy&&V.finished)&&A.destroy()}}typeof Symbol=="function"&&(M.from=function(C,A){return _===void 0&&(_=aG()),_(M,C,A)});function Z(C,A){for(var V=0,W=C.length;V<W;V++)if(C[V]===A)return V;return-1}return bm}var ym,HS;function VS(){if(HS)return ym;HS=1,ym=o;var e=Os().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=Ns();Ls(o,a);function s(u,c){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(d===null)return this.emit("error",new n);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);a.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",f)}function f(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){l(u,c,h)}):l(this,null,null)}o.prototype.push=function(u,c){return this._transformState.needTransform=!1,a.prototype.push.call(this,u,c)},o.prototype._transform=function(u,c,h){h(new t("_transform()"))},o.prototype._write=function(u,c,h){var d=this._transformState;if(d.writecb=h,d.writechunk=u,d.writeencoding=c,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},o.prototype._read=function(u){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},o.prototype._destroy=function(u,c){a.prototype._destroy.call(this,u,function(h){c(h)})};function l(u,c,h){if(c)return u.emit("error",c);if(h!=null&&u.push(h),u._writableState.length)throw new i;if(u._transformState.transforming)throw new r;return u.push(null)}return ym}var wm,jS;function sG(){if(jS)return wm;jS=1,wm=t;var e=VS();Ls(t,e);function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return t.prototype._transform=function(n,r,i){i(null,n)},wm}var xm,$S;function oG(){if($S)return xm;$S=1;var e;function t(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}var n=Os().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function o(h,d,p,m){m=t(m);var y=!1;h.on("close",function(){y=!0}),e===void 0&&(e=pm()),e(h,{readable:d,writable:p},function(v){if(v)return m(v);y=!0,m()});var w=!1;return function(v){if(!y&&!w){if(w=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();m(v||new i("pipe"))}}}function f(h){h()}function l(h,d){return h.pipe(d)}function u(h){return!h.length||typeof h[h.length-1]!="function"?a:h.pop()}function c(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var m=u(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new r("streams");var y,w=d.map(function(v,S){var _=S<d.length-1,T=S>0;return o(v,_,T,function(I){y||(y=I),I&&w.forEach(f),!_&&(w.forEach(f),m(y))})});return d.reduce(l)}return xm=c,xm}var qS=wn,vm=Jg.EventEmitter,lG=Ls;lG(wn,vm),wn.Readable=GS(),wn.Writable=MS(),wn.Duplex=Ns(),wn.Transform=VS(),wn.PassThrough=sG(),wn.finished=pm(),wn.pipeline=oG(),wn.Stream=wn;function wn(){vm.call(this)}wn.prototype.pipe=function(e,t){var n=this;function r(u){e.writable&&e.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(n.on("end",s),n.on("close",o));var a=!1;function s(){a||(a=!0,e.end())}function o(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}function f(u){if(l(),vm.listenerCount(this,"error")===0)throw u}n.on("error",f),e.on("error",f);function l(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",o),n.removeListener("error",f),e.removeListener("error",f),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e};function ff(e){return e.replace(/%([0-9A-Fa-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}function WS(e,t){return String(t).replace(e,n=>`%${n.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}`)}function uf(e){return WS(/[\n;\r\t=%&,\x00-\x1f\x7f-\xff]/g,e)}function Ar(e){return WS(/[\n\r\t%\x00-\x1f\x7f-\xff]/g,e)}function ZS(e){if(!(e&&e.length)||e===".")return{};const t={};return e.replace(/\r?\n$/,"").split(";").forEach(n=>{const r=n.split("=",2);if(!(r[1]&&r[1].length))return;r[0]=r[0].trim();let i=t[r[0].trim()];i||(i=[],t[r[0]]=i),i.push(...r[1].split(",").map(a=>a.trim()).map(ff))}),t}function YS(e){const t=e.split("	").map(r=>r==="."||r===""?null:r);return{seq_id:t[0]&&ff(t[0]),source:t[1]&&ff(t[1]),type:t[2]&&ff(t[2]),start:t[3]===null?null:parseInt(t[3],10),end:t[4]===null?null:parseInt(t[4],10),score:t[5]===null?null:parseFloat(t[5]),strand:t[6],phase:t[7],attributes:t[8]===null?null:ZS(t[8])}}function QS(e){const t=/^\s*##\s*(\S+)\s*(.*)/.exec(e);if(!t)return null;const[,n]=t;let[,,r]=t;const i={directive:n};if(r.length&&(r=r.replace(/\r?\n$/,""),i.value=r),n==="sequence-region"){const a=r.split(/\s+/,3);return{...i,seq_id:a[0],start:a[1]&&a[1].replace(/\D/g,""),end:a[2]&&a[2].replace(/\D/g,"")}}else if(n==="genome-build"){const[a,s]=r.split(/\s+/,2);return{...i,source:a,buildName:s}}return i}function XS(e){const t=[];return Object.entries(e).forEach(([n,r])=>{if(!r)return;let i;r.hasOwnProperty("toString")?i=uf(r.toString()):Array.isArray(r)?i=r.map(uf).join(","):i=uf(r),t.push(`${uf(n)}=${i}`)}),t.length?t.join(";"):"."}function fG(e,t){const n=e.attributes===null||e.attributes===void 0?".":XS(e.attributes),i=`${[e.seq_id===null?".":Ar(e.seq_id),e.source===null?".":Ar(e.source),e.type===null?".":Ar(e.type),e.start===null?".":Ar(e.start),e.end===null?".":Ar(e.end),e.score===null?".":Ar(e.score),e.strand===null?".":Ar(e.strand),e.phase===null?".":Ar(e.phase),n].join("	")}
`;return t[i]?"":(t[i]=!0,i)}function vh(e,t){if(Array.isArray(e))return e.map(r=>vh(r,t)).join("");const n=[fG(e,t)];return uG(e)&&n.push(...e.child_features.map(r=>vh(r,t)),...e.derived_features.map(r=>vh(r,t))),n.join("")}function KS(e){return vh(e,{})}function JS(e){let t=`##${e.directive}`;return e.value&&(t+=` ${e.value}`),t+=`
`,t}function eC(e){return`# ${e.comment}
`}function Am(e){return`>${e.id}${e.description?` ${e.description}`:""}
${e.sequence}
`}function Ah(e){function t(n){return"attributes"in n?KS(n):"directive"in n?JS(n):"sequence"in n?Am(n):"comment"in n?eC(n):`# (invalid item found during format)
`}return Array.isArray(e)?e.map(t):t(e)}function uG(e){return e.child_features!==void 0&&e.derived_features!==void 0}const cG=Object.freeze(Object.defineProperty({__proto__:null,escape:uf,escapeColumn:Ar,formatAttributes:XS,formatComment:eC,formatDirective:JS,formatFeature:KS,formatItem:Ah,formatSequence:Am,parseAttributes:ZS,parseDirective:QS,parseFeature:YS,unescape:ff},Symbol.toStringTag,{value:"Module"})),tC={Parent:"child_features",Derives_from:"derived_features"};class nC{constructor(t){this.seqCallback=t,this.currentSequence=void 0}addLine(t){const n=/^>\s*(\S+)\s*(.*)/.exec(t);n?(this._flush(),this.currentSequence={id:n[1],sequence:""},n[2]&&(this.currentSequence.description=n[2].trim())):this.currentSequence&&/\S/.test(t)&&(this.currentSequence.sequence+=t.replace(/\s/g,""))}_flush(){this.currentSequence&&this.seqCallback(this.currentSequence)}finish(){this._flush()}}class rC{constructor(t){this.fastaParser=void 0,this.eof=!1,this.lineNumber=0,this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},this._underConstructionOrphans={};const n=()=>{};this.featureCallback=t.featureCallback||n,this.endCallback=t.endCallback||n,this.commentCallback=t.commentCallback||n,this.errorCallback=t.errorCallback||n,this.directiveCallback=t.directiveCallback||n,this.sequenceCallback=t.sequenceCallback||n,this.disableDerivesFromReferences=t.disableDerivesFromReferences||!1,this.bufferSize=t.bufferSize===void 0?1e3:t.bufferSize}addLine(t){if(this.fastaParser){this.fastaParser.addLine(t);return}if(this.eof)return;if(this.lineNumber+=1,/^\s*[^#\s>]/.test(t)){this._bufferLine(t);return}const n=/^\s*(#+)(.*)/.exec(t);if(n){const[,r]=n;let[,,i]=n;if(r.length===3)this._emitAllUnderConstructionFeatures();else if(r.length===2){const a=QS(t);a&&(a.directive==="FASTA"?(this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new nC(this.sequenceCallback)):this._emitItem(a))}else i=i.replace(/\s*/,""),this._emitItem({comment:i})}else if(!/^\s*$/.test(t))if(/^\s*>/.test(t))this._emitAllUnderConstructionFeatures(),this.eof=!0,this.fastaParser=new nC(this.sequenceCallback),this.fastaParser.addLine(t);else{const r=t.replace(/\r?\n?$/g,"");throw new Error(`GFF3 parse error.  Cannot parse '${r}'.`)}}finish(){this._emitAllUnderConstructionFeatures(),this.fastaParser&&this.fastaParser.finish(),this.endCallback()}_emitItem(t){Array.isArray(t)?this.featureCallback(t):"directive"in t?this.directiveCallback(t):"comment"in t&&this.commentCallback(t)}_enforceBufferSizeLimit(t=0){const n=r=>{r&&Array.isArray(r)&&r[0].attributes&&r[0].attributes.ID&&r[0].attributes.ID[0]&&(r[0].attributes.ID.forEach(a=>{delete this._underConstructionById[a],delete this._completedReferences[a]}),r.forEach(a=>{a.child_features&&a.child_features.forEach(s=>n(s)),a.derived_features&&a.derived_features.forEach(s=>n(s))}))};for(;this._underConstructionTopLevel.length+t>this.bufferSize;){const r=this._underConstructionTopLevel.shift();r&&(this._emitItem(r),n(r))}}_emitAllUnderConstructionFeatures(){if(this._underConstructionTopLevel.forEach(this._emitItem.bind(this)),this._underConstructionTopLevel=[],this._underConstructionById={},this._completedReferences={},Array.from(Object.values(this._underConstructionOrphans)).length)throw new Error(`some features reference other features that do not exist in the file (or in the same '###' scope). ${Object.keys(this._underConstructionOrphans)}`)}_bufferLine(t){var n,r,i;const s={...YS(t),child_features:[],derived_features:[]},o=((n=s.attributes)===null||n===void 0?void 0:n.ID)||[],f=((r=s.attributes)===null||r===void 0?void 0:r.Parent)||[],l=this.disableDerivesFromReferences?[]:((i=s.attributes)===null||i===void 0?void 0:i.Derives_from)||[];if(!o.length&&!f.length&&!l.length){this._emitItem([s]);return}let u;o.forEach(c=>{const h=this._underConstructionById[c];h?(h[h.length-1].type!==s.type&&this._parseError(`multi-line feature "${c}" has inconsistent types: "${s.type}", "${h[h.length-1].type}"`),h.push(s),u=h):(u=[s],this._enforceBufferSizeLimit(1),!f.length&&!l.length&&this._underConstructionTopLevel.push(u),this._underConstructionById[c]=u,this._resolveReferencesTo(u,c))}),this._resolveReferencesFrom(u||[s],{Parent:f,Derives_from:l},o)}_resolveReferencesTo(t,n){const r=this._underConstructionOrphans[n];r&&(t.forEach(i=>{i.child_features.push(...r.Parent)}),t.forEach(i=>{i.derived_features.push(...r.Derives_from)}),delete this._underConstructionOrphans[n])}_parseError(t){this.eof=!0,this.errorCallback(`${this.lineNumber}: ${t}`)}_resolveReferencesFrom(t,n,r){function i(a,s,o){let f=a[s];f||(f={},a[s]=f);const l=f[o]||!1;return f[o]=!0,l}n.Parent.forEach(a=>{const s=this._underConstructionById[a];if(s){const o=tC.Parent;r.filter(f=>i(this._completedReferences,f,`Parent,${a}`)).length||s.forEach(f=>{f[o].push(t)})}else{let o=this._underConstructionOrphans[a];o||(o={Parent:[],Derives_from:[]},this._underConstructionOrphans[a]=o),o.Parent.push(t)}}),n.Derives_from.forEach(a=>{const s=this._underConstructionById[a];if(s){const o=tC.Derives_from;r.filter(f=>i(this._completedReferences,f,`Derives_from,${a}`)).length||s.forEach(f=>{f[o].push(t)})}else{let o=this._underConstructionOrphans[a];o||(o={Parent:[],Derives_from:[]},this._underConstructionOrphans[a]=o),o.Derives_from.push(t)}})}}function Em(e){process&&process.nextTick?process.nextTick(e):e()}function iC(e){const t={encoding:"utf8",parseFeatures:!0,parseDirectives:!1,parseSequences:!0,parseComments:!1,bufferSize:1e3,disableDerivesFromReferences:!1,...e};return e.parseAll&&(t.parseFeatures=!0,t.parseDirectives=!0,t.parseComments=!0,t.parseSequences=!0),t}class hG extends qS.Transform{constructor(t={}){super({objectMode:!0}),this.textBuffer="";const n=iC(t);this.encoding=t.encoding||"utf8",this.decoder=new qU;const r=this.push.bind(this);this.parser=new rC({featureCallback:n.parseFeatures?r:void 0,directiveCallback:n.parseDirectives?r:void 0,commentCallback:n.parseComments?r:void 0,sequenceCallback:n.parseSequences?r:void 0,errorCallback:i=>this.emit("error",i),bufferSize:n.bufferSize,disableDerivesFromReferences:n.disableDerivesFromReferences})}_addLine(t){t&&this.parser.addLine(t)}_nextText(t){const n=(this.textBuffer+t).split(/\r?\n/);this.textBuffer=n.pop()||"",n.forEach(r=>this._addLine(r))}_transform(t,n,r){this._nextText(this.decoder.write(t)),Em(r)}_flush(t){this.decoder.end&&this._nextText(this.decoder.end()),this.textBuffer!=null&&this._addLine(this.textBuffer),this.parser.finish(),Em(t)}}function dG(e={}){return new hG(e)}function pG(e,t={}){if(!e)return[];const n=iC(t),r=[],i=r.push.bind(r),a=new rC({featureCallback:n.parseFeatures?i:void 0,directiveCallback:n.parseDirectives?i:void 0,commentCallback:n.parseComments?i:void 0,sequenceCallback:n.parseSequences?i:void 0,disableDerivesFromReferences:n.disableDerivesFromReferences||!1,bufferSize:1/0,errorCallback:s=>{throw s}});return e.split(/\r?\n/).forEach(a.addLine.bind(a)),a.finish(),r}function gG(e){const t=[],n=[];e.forEach(i=>{"sequence"in i?n.push(i):t.push(i)});let r=t.map(Ah).join("");return n.length&&(r+=`##FASTA
`,r+=n.map(Am).join("")),r}class aC extends qS.Transform{constructor(t={}){super(Object.assign(t,{objectMode:!0})),this.linesSinceLastSyncMark=0,this.haveWeEmittedData=!1,this.fastaMode=!1,this.minLinesBetweenSyncMarks=t.minSyncLines||100,this.insertVersionDirective=t.insertVersionDirective||!1}_transform(t,n,r){let i;if(!this.haveWeEmittedData&&this.insertVersionDirective){const a=Array.isArray(t)?t[0]:t;"directive"in a&&a.directive!=="gff-version"&&this.push(`##gff-version 3
`)}if("sequence"in t&&!this.fastaMode&&(this.push(`##FASTA
`),this.fastaMode=!0),Array.isArray(t)?i=t.map(Ah).join(""):i=Ah(t),this.push(i),this.linesSinceLastSyncMark>=this.minLinesBetweenSyncMarks)this.push(`###
`),this.linesSinceLastSyncMark=0;else{let a=0;for(let s=0;s<i.length;s+=1)i[s]===`
`&&(a+=1);this.linesSinceLastSyncMark+=a}this.haveWeEmittedData=!0,Em(r)}}function mG(e={}){return new aC(e)}function bG(e,t,n={}){const r={insertVersionDirective:!0,...n};return new Promise((i,a)=>{e.pipe(new aC(r)).on("end",()=>i(null)).on("error",a).pipe(t)})}const yG=Object.freeze(Object.defineProperty({__proto__:null,default:{parseStream:dG,parseStringSync:pG,formatSync:gG,formatStream:mG,formatFile:bG,util:cG}},Symbol.toStringTag,{value:"Module"}));ve.GenomeSpyDocEmbed=qv,Object.defineProperty(ve,Symbol.toStringTag,{value:"Module"})});
